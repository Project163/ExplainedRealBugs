<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:50:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7443] Prefetch warnings should include client IP information</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7443</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;In ActiveMQ up to 5.15.12, prefetch warnings look like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-03-18 09:25:07,892 [ActiveMQ NIO Worker 7] WARN TopicSubscription - TopicSubscription: consumer=ID:foo.acme.com-7195-1584519807454-1:61:-1:1, destinations=1, dispatched=563, delivered=897, matched=564, discarded=0, prefetchExtension=0, usePrefetchExtension=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;: has twice its prefetch limit pending, without an ack; it appears to be slow
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is not enough to find the culprit client (after the fact). ActiveMQ should (also) log the client IP address (and port). It should ideally be similar to other warnings like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-03-18 09:18:31,539 [ActiveMQ InactivityMonitor Worker] WARN Transport - Transport Connection to: tcp:&lt;span class=&quot;code-comment&quot;&gt;//192.1.1.1:51550 failed: org.apache.activemq.transport.InactivityIOException: Channel was inactive &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; too (&amp;gt;7500) &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;: tcp://192.1.1.1:51550&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13292396">AMQ-7443</key>
            <summary>Prefetch warnings should include client IP information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="lionel.cons">Lionel Cons</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2020 08:32:57 +0000</created>
                <updated>Fri, 15 Jan 2021 07:02:46 +0000</updated>
                            <resolved>Thu, 14 Jan 2021 05:07:26 +0000</resolved>
                                    <version>5.15.12</version>
                                    <fixVersion>5.16.1</fixVersion>
                    <fixVersion>5.15.15</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Broker</component>
                    <component>Transport</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17264593" author="jira-bot" created="Thu, 14 Jan 2021 05:05:51 +0000"  >&lt;p&gt;Commit 7339e0516c39fe6736e8afd201bf176bbdd83950 in activemq&apos;s branch refs/heads/master from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7339e05&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7339e05&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt; Add connection remote addr in the prefetch warn log message&lt;/p&gt;</comment>
                            <comment id="17264594" author="jira-bot" created="Thu, 14 Jan 2021 05:05:53 +0000"  >&lt;p&gt;Commit 4dc6903c18d75ac72f33aba7ffbb35fb43effbec in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4dc6903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4dc6903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #610 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt; Add connection remote addr in the prefetch warn log message&lt;/p&gt;</comment>
                            <comment id="17264595" author="jira-bot" created="Thu, 14 Jan 2021 05:05:54 +0000"  >&lt;p&gt;Commit 4dc6903c18d75ac72f33aba7ffbb35fb43effbec in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4dc6903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4dc6903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #610 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt; Add connection remote addr in the prefetch warn log message&lt;/p&gt;</comment>
                            <comment id="17264597" author="jira-bot" created="Thu, 14 Jan 2021 05:06:32 +0000"  >&lt;p&gt;Commit 71be5034478887f49302bdb72eb384346b403fdc in activemq&apos;s branch refs/heads/activemq-5.16.x from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=71be503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=71be503&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt; Add connection remote addr in the prefetch warn log message&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 7339e0516c39fe6736e8afd201bf176bbdd83950)&lt;/p&gt;</comment>
                            <comment id="17264598" author="jira-bot" created="Thu, 14 Jan 2021 05:07:04 +0000"  >&lt;p&gt;Commit 025b9591be8eb61c15ba8d5fd265a7299f97f932 in activemq&apos;s branch refs/heads/activemq-5.15.x from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=025b959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=025b959&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7443&quot; title=&quot;Prefetch warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7443&quot;&gt;&lt;del&gt;AMQ-7443&lt;/del&gt;&lt;/a&gt; Add connection remote addr in the prefetch warn log message&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 7339e0516c39fe6736e8afd201bf176bbdd83950)&lt;/p&gt;</comment>
                            <comment id="17265738" author="lionel.cons" created="Fri, 15 Jan 2021 06:24:53 +0000"  >&lt;p&gt;FWIW, I have tested the current RC for 5.16.1 and I confirm that the client information now appears. Thanks!&lt;/p&gt;</comment>
                            <comment id="17265757" author="jbonofre" created="Fri, 15 Jan 2021 07:02:46 +0000"  >&lt;p&gt;Thanks for the update and confirmation !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cnbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>