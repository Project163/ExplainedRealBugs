<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:48:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2965] ActiveMQ fails to start if no DNS resolution for hostname is available</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2965</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;ActiveMQ is installed on a physical server with two ethernet interfaces &amp;#8211; the first is a 10.x.x.x network and used only for external traffic , the second interface is a 172.x.x.x network and is used only for internal (intra-cluster node) communication. ActiveMQ is configured to listen only on the 172.x.x.x interface. External DNS resolution exists but internal DNS resolution does not. While each host has a unique name, none of these names are resolvable. Under these circumstances, ActiveMQ fails to start up successfully. Below are the exceptions and stack trace: &lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;2010-06-09 16:48:45,714 | ERROR | Failed to resolve localhost | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:46,092 | INFO | Using Persistence Adapter: org.apache.activemq.store.kahadb.KahaDBPersistenceAdapter@47c297a3 | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:46,928 | INFO | JMX consoles can connect to service:jmx:rmi://localhost:11616/jndi/rmi://localhost:1616/jmxrmi | org.apache.activemq.broker.jmx.ManagementContext | JMX connector &lt;br/&gt;
2010-06-09 16:48:47,036 | INFO | ActiveMQ 5.3.2 JMS Message Broker (Q01M0003) is starting | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:47,036 | INFO | For help or more information please see: &lt;a href=&quot;http://activemq.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/&lt;/a&gt; | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:47,280 | WARN | could not generate unique stub | org.apache.activemq.util.IdGenerator | WrapperSimpleAppMain &lt;br/&gt;
java.net.UnknownHostException: Q01M0003: Q01M0003 &lt;br/&gt;
        at java.net.InetAddress.getLocalHost(Unknown Source) &lt;br/&gt;
        at org.apache.activemq.util.IdGenerator.&amp;amp;lt;clinit&amp;amp;gt;(IdGenerator.java:52) &lt;br/&gt;
        at org.apache.activemq.broker.region.RegionBroker.&amp;amp;lt;clinit&amp;amp;gt;(RegionBroker.java:75) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.createRegionBroker(BrokerService.java:1734) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.createRegionBroker(BrokerService.java:1728) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.createBroker(BrokerService.java:1688) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.getBroker(BrokerService.java:706) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:469) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:85) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1414) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1375) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1335) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409) &lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264) &lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164) &lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429) &lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728) &lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380) &lt;br/&gt;
        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&amp;amp;lt;init&amp;amp;gt;(ResourceXmlApplicationContext.java:64) &lt;br/&gt;
        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&amp;amp;lt;init&amp;amp;gt;(ResourceXmlApplicationContext.java:52) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54) &lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115) &lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74) &lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57) &lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136) &lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57) &lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.apache.activemq.console.Main.runTaskClass(Main.java:251) &lt;br/&gt;
        at org.apache.activemq.console.Main.main(Main.java:107) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240) &lt;br/&gt;
        at java.lang.Thread.run(Unknown Source) &lt;br/&gt;
2010-06-09 16:48:47,407 | ERROR | Failed to start ActiveMQ JMS Message Broker. Reason: java.io.IOException: Transport Connector could not be registered in JMX: Q01M0003: Q01M0003 | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
java.io.IOException: Transport Connector could not be registered in JMX: Q01M0003: Q01M0003 &lt;br/&gt;
        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1585) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startTransportConnector(BrokerService.java:2006) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startAllConnectors(BrokerService.java:1959) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:491) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:85) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1414) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1375) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1335) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409) &lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264) &lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185) &lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164) &lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429) &lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728) &lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380) &lt;br/&gt;
        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&amp;amp;lt;init&amp;amp;gt;(ResourceXmlApplicationContext.java:64) &lt;br/&gt;
        at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&amp;amp;lt;init&amp;amp;gt;(ResourceXmlApplicationContext.java:52) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96) &lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54) &lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115) &lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74) &lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57) &lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136) &lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57) &lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.apache.activemq.console.Main.runTaskClass(Main.java:251) &lt;br/&gt;
        at org.apache.activemq.console.Main.main(Main.java:107) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source) &lt;br/&gt;
        at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240) &lt;br/&gt;
        at java.lang.Thread.run(Unknown Source) &lt;br/&gt;
Caused by: java.net.UnknownHostException: Q01M0003: Q01M0003 &lt;br/&gt;
        at java.net.InetAddress.getLocalHost(Unknown Source) &lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportServer.resolveHostName(TcpTransportServer.java:336) &lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:142) &lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportFactory.doBind(TcpTransportFactory.java:60) &lt;br/&gt;
        at org.apache.activemq.transport.TransportFactory.bind(TransportFactory.java:131) &lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.createTransportServer(TransportConnector.java:305) &lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.getServer(TransportConnector.java:137) &lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.asManagedConnector(TransportConnector.java:100) &lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1580) &lt;br/&gt;
        ... 47 more &lt;br/&gt;
2010-06-09 16:48:47,409 | INFO | ActiveMQ Message Broker (Q01M0003, null) is shutting down | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:47,410 | INFO | Connector openwire Stopped | org.apache.activemq.broker.TransportConnector | WrapperSimpleAppMain &lt;br/&gt;
2010-06-09 16:48:47,535 | INFO | ActiveMQ JMS Message Broker (Q01M0003, null) stopped | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain &lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This problem can be worked around by adding an entry to the /etc/hosts file for each machine. Unfortunately this presents quite a maintenance nightmare in a very large environment. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12483809">AMQ-2965</key>
            <summary>ActiveMQ fails to start if no DNS resolution for hostname is available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bsnyder">Bruce Snyder</assignee>
                                    <reporter username="bsnyder">Bruce Snyder</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Oct 2010 20:18:59 +0000</created>
                <updated>Thu, 28 Oct 2010 00:02:12 +0000</updated>
                            <resolved>Thu, 28 Oct 2010 00:02:12 +0000</resolved>
                                    <version>5.3.0</version>
                    <version>5.3.1</version>
                    <version>5.3.2</version>
                    <version>5.4.0</version>
                    <version>5.4.1</version>
                                    <fixVersion>5.4.2</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12943005" author="bsnyder" created="Thu, 7 Oct 2010 20:24:49 +0000"  >&lt;p&gt;Attaching a patch that solves the problem that is caused by the lack of name resolution. &lt;/p&gt;</comment>
                            <comment id="12943146" author="bsnyder" created="Thu, 28 Oct 2010 00:02:12 +0000"  >&lt;p&gt;Fixed via revision 1028143 &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461815" name="AMQ-2965-patch.txt" size="8274" author="bsnyder" created="Wed, 27 Oct 2010 23:54:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>