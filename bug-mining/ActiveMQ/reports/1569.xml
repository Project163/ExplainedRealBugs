<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:55:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3932] receiveNoWait hangs when broker is down, using failover and prefetch=0</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3932</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;I have a connection set up using failover and queuePrefetch=0.  I create a consumer, stop the broker, and call receiveNoWait.&lt;/p&gt;

&lt;p&gt;I would expect this to return/throw immediately; instead it hangs.  Without failover or with a non-zero prefetch it works as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599029">AMQ-3932</key>
            <summary>receiveNoWait hangs when broker is down, using failover and prefetch=0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="amcdonne">Andrew McDonnell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jul 2012 19:53:49 +0000</created>
                <updated>Fri, 20 Jul 2012 22:54:20 +0000</updated>
                            <resolved>Fri, 20 Jul 2012 22:54:20 +0000</resolved>
                                    <version>5.6.0</version>
                                    <fixVersion>5.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13415578" author="amcdonne" created="Mon, 16 Jul 2012 19:55:18 +0000"  >&lt;p&gt;Attaching test case, heavily based on test from &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2446&quot; title=&quot;Client hangs on receive call with timeout value &amp;gt; 0 when activemq is shutdown (CTRL-C)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-2446&quot;&gt;&lt;del&gt;AMQ-2446&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13418264" author="tabish121" created="Thu, 19 Jul 2012 13:11:01 +0000"  >&lt;p&gt;It seems valid that in the case where the transport is not connected the receiveNoWait and the timed receive as well should just return null to indicate that there&apos;s not currently a message available since in the timed case you could end up waiting much longer than the intended time otherwise.  &lt;/p&gt;</comment>
                            <comment id="13419659" author="tabish121" created="Fri, 20 Jul 2012 22:54:20 +0000"  >&lt;p&gt;Fixed in trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536702" name="AMQ3932Test.java" size="3016" author="amcdonne" created="Mon, 16 Jul 2012 19:55:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ahif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>