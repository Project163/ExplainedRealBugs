<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:52:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6148] When use LDAP auth, Activemq should not always connect to ldap service to do authentication</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6148</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;I am using LDAP service to do authentication for ActiveMQ, and I found everytime ActiveMQ servers try to establish a connection between ActiveMQ client, the ActiveMQ server will create a connection to LDAP server to do authentication. That&apos;s is not good, think about there are thousands of ActiveMQ clients are trying to connect to ActiveMQ servers, the ActiveMQ servers will need to create thousands of connections to LDAP servers. And moreover it is not reliable as well because the connection between LDAP servers and ActiveMQ servers could be broken sometimes. We need something similar as Cached LDAP Authorization Module. It is more reasonable that the ActiveMQ will cache the ldap account credential in local memory and refresh in certain interval.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12934874">AMQ-6148</key>
            <summary>When use LDAP auth, Activemq should not always connect to ldap service to do authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="alt_alt">JIE CHEN</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2016 18:33:48 +0000</created>
                <updated>Wed, 19 Oct 2022 04:02:17 +0000</updated>
                            <resolved>Wed, 19 Oct 2022 04:02:17 +0000</resolved>
                                    <version>5.11.1</version>
                                    <fixVersion>5.18.0</fixVersion>
                    <fixVersion>5.16.6</fixVersion>
                    <fixVersion>5.17.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="15122828" author="jbertram" created="Fri, 29 Jan 2016 02:45:29 +0000"  >&lt;p&gt;For what it&apos;s worth, &lt;a href=&quot;http://activemq.apache.org/artemis/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache ActiveMQ Artemis&lt;/a&gt; (a sub-project of Apache ActiveMQ) employs a caching mechanism so that whatever login module is being used isn&apos;t called &lt;b&gt;every&lt;/b&gt; time an authentication is performed.  It&apos;s controlled by a simple time-out.  You can see the details in &lt;a href=&quot;https://github.com/apache/activemq-artemis/blob/master/artemis-server/src/main/java/org/apache/activemq/artemis/core/security/impl/SecurityStoreImpl.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.apache.activemq.artemis.core.security.impl.SecurityStoreImpl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15126971" author="tabish121" created="Mon, 1 Feb 2016 20:29:15 +0000"  >&lt;p&gt;Use the cached LDAP Authorization Map: &lt;a href=&quot;http://activemq.apache.org/cached-ldap-authorization-module.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/cached-ldap-authorization-module.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15131284" author="alt_alt" created="Wed, 3 Feb 2016 22:39:05 +0000"  >&lt;p&gt;Hi Timothy,&lt;br/&gt;
I am talking about AUTHENTICATION, not authorization. The cached LDAP Authorization Map does NOT help at all. &lt;br/&gt;
In our case, we have hundreds of application servers, and we use pooled connection factory with max connection number of 5. The ActiveMQ server has to create more than a thousand connections to LDAP service when it is trying to establish the huge number of connections from application servers. That does not make sense and ldap server could deny access due to the huge number of connections to it. Think about if we have 5 ActiveMQ servers, each server has to create 1000 connections to LDAP server. sooner or later, the ldap server will be exhausted.&lt;/p&gt;

&lt;p&gt;This is an real ISSUE when we are trying to adopt ActiveMQ for big application clusters.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15131291" author="alt_alt" created="Wed, 3 Feb 2016 22:43:15 +0000"  >&lt;p&gt;Hi Justin,&lt;br/&gt;
Is there any release schedule for this project? We are trying to adopt ActiveMQ as our message bus for our application servers, but since we use ldap authentication and authorization, we soon found the ldap service itself will become a bottleneck due to huge requirements for establishing connections from ActiveMQ servers. &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15131329" author="jbertram" created="Wed, 3 Feb 2016 23:02:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alt_alt&quot; class=&quot;user-hover&quot; rel=&quot;alt_alt&quot;&gt;alt_alt&lt;/a&gt;, the Apache ActiveMQ Artemis broker has had &lt;a href=&quot;http://activemq.apache.org/artemis/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3 releases already&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15133329" author="alt_alt" created="Thu, 4 Feb 2016 23:41:23 +0000"  >&lt;p&gt;Hi Justin,&lt;br/&gt;
It looks like another project instead of a plugin in ActiveMQ, have you considered to fix this issue in the future release of ActiveMQ, it is really important for us to adopt ActiveMQ for huge clusters of application servers.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15133467" author="jbertram" created="Fri, 5 Feb 2016 01:28:15 +0000"  >&lt;p&gt;That&apos;s correct.  ActiveMQ Artemis is not a plugin to ActiveMQ but a broker in and of itself.  Artemis supports clustering.  Most of the same kinds of clustering features that ActiveMQ 5.x supports are also supported in Artemis so if you want a huge cluster then you can certainly have it with Artemis.&lt;/p&gt;</comment>
                            <comment id="15138019" author="alt_alt" created="Mon, 8 Feb 2016 23:41:57 +0000"  >&lt;p&gt;Hi Justin,&lt;br/&gt;
Thanks for your reply, but the problem is that we already setup ActiveMQ as our message bus and it is already online for production now. It should be no easy for us to replace it with another one. So we still hope the fix coming in the future release of ActiveMQ. Is that possible?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15138864" author="gtully" created="Tue, 9 Feb 2016 12:25:16 +0000"  >&lt;p&gt;looks like we could pull back the fix from artemis for this. I don&apos;t see any reason why we cannot cache the ldap context and reuse it for subsequent logins. There may even be a way to pool ldap connections.&lt;/p&gt;</comment>
                            <comment id="15141434" author="alt_alt" created="Wed, 10 Feb 2016 18:48:51 +0000"  >&lt;p&gt;Cool! Thanks Gary!&lt;/p&gt;</comment>
                            <comment id="17619973" author="jira-bot" created="Wed, 19 Oct 2022 03:59:50 +0000"  >&lt;p&gt;Commit 610b87aed8ac0c98a97af5637750b84fe0b15e4a in activemq&apos;s branch refs/heads/main from Dmytro Chebotarskyi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=610b87aed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=610b87aed&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6148&quot; title=&quot;When use LDAP auth, Activemq should not always connect to ldap service to do authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6148&quot;&gt;&lt;del&gt;AMQ-6148&lt;/del&gt;&lt;/a&gt; re-using LDAP context for authentication&lt;/p&gt;</comment>
                            <comment id="17619974" author="jira-bot" created="Wed, 19 Oct 2022 03:59:51 +0000"  >&lt;p&gt;Commit e2fcae8bab73437a98d15ea5ca10c65802a185c9 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=e2fcae8ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=e2fcae8ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #699 from Dm-Chebotarskyi/main&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6148&quot; title=&quot;When use LDAP auth, Activemq should not always connect to ldap service to do authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6148&quot;&gt;&lt;del&gt;AMQ-6148&lt;/del&gt;&lt;/a&gt; Reusing LDAP context to avoid creating new connections&lt;/p&gt;</comment>
                            <comment id="17619975" author="jira-bot" created="Wed, 19 Oct 2022 04:00:36 +0000"  >&lt;p&gt;Commit ba322251144f89d0049fdbf7fbe90fc2de395f5d in activemq&apos;s branch refs/heads/activemq-5.17.x from Dmytro Chebotarskyi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba3222511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba3222511&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6148&quot; title=&quot;When use LDAP auth, Activemq should not always connect to ldap service to do authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6148&quot;&gt;&lt;del&gt;AMQ-6148&lt;/del&gt;&lt;/a&gt; re-using LDAP context for authentication&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 610b87aed8ac0c98a97af5637750b84fe0b15e4a)&lt;/p&gt;</comment>
                            <comment id="17619977" author="jira-bot" created="Wed, 19 Oct 2022 04:02:14 +0000"  >&lt;p&gt;Commit 08de052f578936c5dad5549a2905ac8bfd9859dc in activemq&apos;s branch refs/heads/activemq-5.16.x from Dmytro Chebotarskyi&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=08de052f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=08de052f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6148&quot; title=&quot;When use LDAP auth, Activemq should not always connect to ldap service to do authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6148&quot;&gt;&lt;del&gt;AMQ-6148&lt;/del&gt;&lt;/a&gt; re-using LDAP context for authentication&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 610b87aed8ac0c98a97af5637750b84fe0b15e4a)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s3uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>