<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:55:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3846] The JMX message move, copy and remove operation do not take messages in FIFO order</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3846</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When a page is pulled in, it is placed in a LinkedHashMap which preserves the queue order, but the below code then pulls the values from the LinkedHashMap and puts them in a Set.  This causes the FIFO order of the queue to be lost.  If the number of max messages to move is smaller the the page size, then the outcome looks like random messages from the queue being moved (copied or removed).&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;Set&amp;lt;MessageReference&amp;gt; set = new HashSet&amp;lt;MessageReference&amp;gt;();&lt;br/&gt;
       ConnectionContext context = createConnectionContext();&lt;br/&gt;
       do {&lt;br/&gt;
           doPageIn(true);&lt;br/&gt;
           pagedInMessagesLock.readLock().lock();&lt;br/&gt;
           try&lt;/p&gt;
{
               set.addAll(pagedInMessages.values());
           }
&lt;p&gt;finally &lt;/p&gt;
{
               pagedInMessagesLock.readLock().unlock();
           }
&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;Can this be changed to preserve the queue order?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12556068">AMQ-3846</key>
            <summary>The JMX message move, copy and remove operation do not take messages in FIFO order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="dlharp">David Harp</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 May 2012 16:07:28 +0000</created>
                <updated>Tue, 26 Jun 2012 22:21:12 +0000</updated>
                            <resolved>Tue, 26 Jun 2012 22:21:12 +0000</resolved>
                                    <version>5.5.1</version>
                    <version>5.6.0</version>
                                    <fixVersion>5.7.0</fixVersion>
                                    <component>JMX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13400748" author="tabish121" created="Mon, 25 Jun 2012 18:20:42 +0000"  >&lt;p&gt;Do you have a unit test case for this, would help to ensure any fix remains fixed in the future.&lt;/p&gt;</comment>
                            <comment id="13401736" author="tabish121" created="Tue, 26 Jun 2012 22:21:12 +0000"  >&lt;p&gt;Fix and new tests added to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ahsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>