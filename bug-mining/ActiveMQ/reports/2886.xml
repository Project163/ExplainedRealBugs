<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:35:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6386] NumberFormatException when publish message via AMQP and dequeue via STOMP</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6386</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Using activeMQ examples (java)&lt;br/&gt;
1. examples\amqp &lt;br/&gt;
publish messages to queue&lt;br/&gt;
2. examples\stomp&lt;br/&gt;
read messages from queue (using Listener class)&lt;br/&gt;
get error &lt;br/&gt;
Caused by: java.lang.RuntimeException: Exception occurred sending ACK for message id : ID\c\c272b3b79-a2ce-4445-acb7-b72f396187e0\c1\c1\c1-1&lt;br/&gt;
	at org.fusesource.stomp.jms.StompJmsMessageConsumer.doAck(StompJmsMessageConsumer.java:235)&lt;br/&gt;
	at org.fusesource.stomp.jms.StompJmsMessageConsumer.ack(StompJmsMessageConsumer.java:189)&lt;br/&gt;
	at org.fusesource.stomp.jms.StompJmsMessageConsumer.receive(StompJmsMessageConsumer.java:116)&lt;br/&gt;
	... 6 more&lt;br/&gt;
Caused by: java.io.EOFException: Peer disconnected&lt;br/&gt;
	at org.fusesource.hawtdispatch.transport.AbstractProtocolCodec.read(AbstractProtocolCodec.java:331)&lt;br/&gt;
	at org.fusesource.hawtdispatch.transport.TcpTransport.drainInbound(TcpTransport.java:706)&lt;br/&gt;
	at org.fusesource.hawtdispatch.transport.TcpTransport$6.run(TcpTransport.java:588)&lt;br/&gt;
	at org.fusesource.hawtdispatch.internal.NioDispatchSource$3.run(NioDispatchSource.java:209)&lt;br/&gt;
	at org.fusesource.hawtdispatch.internal.SerialDispatchQueue.run(SerialDispatchQueue.java:100)&lt;br/&gt;
	at org.fusesource.hawtdispatch.internal.pool.SimpleThread.run(SimpleThread.java:77)&lt;/p&gt;

&lt;p&gt;3. In ActiveMq log WARN | Transport Connection to: tcp://127.0.0.1:51521 failed: java.io.IOException: Unexpected error occurred: java.lang.NumberFormatException: For input string: &quot;1-1&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12995146">AMQ-6386</key>
            <summary>NumberFormatException when publish message via AMQP and dequeue via STOMP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10101">Abandoned</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tsvetval">Valentin Tsvetkov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Aug 2016 08:54:43 +0000</created>
                <updated>Sun, 13 Mar 2022 14:16:05 +0000</updated>
                            <resolved>Sun, 13 Mar 2022 14:16:05 +0000</resolved>
                                    <version>5.13.3</version>
                    <version>5.13.4</version>
                                                    <component>AMQP</component>
                    <component>STOMP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15409585" author="tabish121" created="Fri, 5 Aug 2016 15:32:05 +0000"  >&lt;p&gt;There&apos;s issues in how the STOMP transport handles Message IDs especially if they don&apos;t conform to the format that ActiveMQ default IDs which the AMQP one&apos;s do not.  &lt;/p&gt;</comment>
                            <comment id="15409627" author="jira-bot" created="Fri, 5 Aug 2016 16:05:17 +0000"  >&lt;p&gt;Commit 5e5b673afa04b9ab9096d6c435af4cf99fb7c788 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=5e5b673&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=5e5b673&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6386&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6386&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add test to help diagnose the issue with cross protocol AMQP -&amp;gt; STOMP&lt;br/&gt;
message acking.&lt;/p&gt;</comment>
                            <comment id="15409630" author="tabish121" created="Fri, 5 Aug 2016 16:07:29 +0000"  >&lt;p&gt;I&apos;ve added a unit test in the above commit, if you&apos;d like to play around and see if you can improve the STOMP transport connector to handle this that&apos;d be a nice contribution&lt;/p&gt;</comment>
                            <comment id="17505742" author="christopher.l.shannon" created="Sun, 13 Mar 2022 14:16:05 +0000"  >&lt;p&gt;closing issues not updated in more than 5 years as abandoned&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31y93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>