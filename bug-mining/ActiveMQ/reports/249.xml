<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:34:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1452] Duplicate messages dispatched when using AMQ Store</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1452</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;This issue was originally reported on activemq-user here: &lt;a href=&quot;http://www.nabble.com/Duplicate-message-delivered-to-consumers-on-queue-with-kaha-persistence-tf4560327s2354.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Duplicate-message-delivered-to-consumers-on-queue-with-kaha-persistence-tf4560327s2354.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When I initially reported this issue, Rob suggested to not use Kaha persistence, but using the AMQ store.  This seemed to resolve the issue.&lt;/p&gt;

&lt;p&gt;Unfortunately, I have seen another situation where a duplicate message is being re-delivered, it turns out to the same consumer.  I have tried in vain to create a unit test to reproduce this, but have been unable to do so.&lt;/p&gt;

&lt;p&gt;The offending message ID is ID:tamarama-63606-1191905255404-2:2:3:3:1, and if you look at the attached debug trace, you can see it being sent to a queue, read from a queue, and then being dispatched a second time.  The same worker thread in this case was the producer and the consumer of message.&lt;/p&gt;

&lt;p&gt;This issue does not occur when persistence is not enabled.&lt;/p&gt;

&lt;p&gt;This is seen with revision 583015.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12482107">AMQ-1452</key>
            <summary>Duplicate messages dispatched when using AMQ Store</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="sits">David Sitsky</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2007 05:21:22 +0000</created>
                <updated>Fri, 19 Oct 2007 19:02:34 +0000</updated>
                            <resolved>Fri, 19 Oct 2007 19:02:34 +0000</resolved>
                                    <version>5.0.0</version>
                                    <fixVersion>5.0.0</fixVersion>
                                    <component>Message Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12939170" author="rajdavies" created="Fri, 19 Oct 2007 19:02:34 +0000"  >&lt;p&gt;Fixed by svn revision 586580&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460777" name="ASF.LICENSE.NOT.GRANTED--duplicate.log" size="193274" author="sits" created="Tue, 9 Oct 2007 05:21:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s0af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>