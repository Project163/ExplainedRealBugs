<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:48:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7403] Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7403</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;LeaseDatabaseLocker#determineTimeDifference does not close the PreparedStatement and the ResultSet it uses/creates.&lt;/p&gt;

&lt;p&gt;This may cause a resource leak.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284662">AMQ-7403</key>
            <summary>Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="pascalschumacher">Pascal Schumacher</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2020 20:10:31 +0000</created>
                <updated>Wed, 11 Mar 2020 17:33:37 +0000</updated>
                            <resolved>Wed, 11 Mar 2020 17:33:37 +0000</resolved>
                                    <version>5.15.11</version>
                                    <fixVersion>5.16.0</fixVersion>
                    <fixVersion>5.15.12</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17035089" author="jira-bot" created="Wed, 12 Feb 2020 06:35:16 +0000"  >&lt;p&gt;Commit 26a0f8214c0e5fd290f5ff45d7376d1eae2448fb in activemq&apos;s branch refs/heads/master from Pascal Schumacher&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=26a0f82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=26a0f82&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt;: Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&lt;/p&gt;</comment>
                            <comment id="17035090" author="jira-bot" created="Wed, 12 Feb 2020 06:35:18 +0000"  >&lt;p&gt;Commit 098fd9c5a90e14268794d1f2982ef19c31b15808 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=098fd9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=098fd9c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #450 from PascalSchumacher/possible_db_resource_leak&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt;: Potential PreparedStatement/ResultSet leak in LeaseDatabase&#8230;&lt;/p&gt;</comment>
                            <comment id="17035091" author="jira-bot" created="Wed, 12 Feb 2020 06:35:47 +0000"  >&lt;p&gt;Commit 058b7a7b53898d3dbbec2dbbc78598f4b1e9f109 in activemq&apos;s branch refs/heads/activemq-5.15.x from Pascal Schumacher&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=058b7a7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=058b7a7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt;: Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 26a0f8214c0e5fd290f5ff45d7376d1eae2448fb)&lt;/p&gt;</comment>
                            <comment id="17057045" author="jbonofre" created="Wed, 11 Mar 2020 14:26:16 +0000"  >&lt;p&gt;This change breaks &lt;tt&gt;LeaseDatabaseLockerTest&lt;/tt&gt; unit test. The test has be fixed, simply adding prepare statement close reply on mock.&lt;/p&gt;</comment>
                            <comment id="17057244" author="jira-bot" created="Wed, 11 Mar 2020 17:32:59 +0000"  >&lt;p&gt;Commit 3cb8fe87ea1e26f64364e47ac25aab4d77aab4da in activemq&apos;s branch refs/heads/master from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3cb8fe8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3cb8fe8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt; Fix LeaseDatabaseLockerTest unit test (jmock assertion)&lt;/p&gt;</comment>
                            <comment id="17057245" author="jira-bot" created="Wed, 11 Mar 2020 17:33:01 +0000"  >&lt;p&gt;Commit f7ab7203ba0c19f73bb31c97d32f14110e0c9e5b in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f7ab720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f7ab720&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #509 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt; Fix LeaseDatabaseLockerTest unit test (jmock assertion)&lt;/p&gt;</comment>
                            <comment id="17057246" author="jira-bot" created="Wed, 11 Mar 2020 17:33:03 +0000"  >&lt;p&gt;Commit f7ab7203ba0c19f73bb31c97d32f14110e0c9e5b in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f7ab720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f7ab720&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #509 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt; Fix LeaseDatabaseLockerTest unit test (jmock assertion)&lt;/p&gt;</comment>
                            <comment id="17057248" author="jira-bot" created="Wed, 11 Mar 2020 17:33:33 +0000"  >&lt;p&gt;Commit a320efc79f616bedc30db80a1fdea8123171197a in activemq&apos;s branch refs/heads/activemq-5.15.x from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a320efc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a320efc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7403&quot; title=&quot;Potential PreparedStatement/ResultSet leak in LeaseDatabaseLocker#determineTimeDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7403&quot;&gt;&lt;del&gt;AMQ-7403&lt;/del&gt;&lt;/a&gt; Fix LeaseDatabaseLockerTest unit test (jmock assertion)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 3cb8fe87ea1e26f64364e47ac25aab4d77aab4da)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bdx4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>