<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:38:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1917] Broker Client with spring jmsTemplate drops messages (if reveiveTimeout is used) or blocks (if receiveTimeout is not specified.) under heavy load.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1917</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;doing request reply with spring jms template results in a hang or loss of messages when there are multiple concurrent requests, ie: when under load.&lt;br/&gt;
the problem is seen with servicemix-jms jmsProviderEndpoint which uses spring jmsTemplate based client to talk to ActiveMQ and blocks under heavy load after certain time on receiving message. Message can be seen on the queue but sprinjms based client using receiveSelected() call to receive message based on JMSCorrelationID based selector waits for the message and eventually will timeout (if one set) or block indefinitely. &lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12482631">AMQ-1917</key>
            <summary>Broker Client with spring jmsTemplate drops messages (if reveiveTimeout is used) or blocks (if receiveTimeout is not specified.) under heavy load.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2008 11:34:23 +0000</created>
                <updated>Fri, 29 Aug 2008 08:26:50 +0000</updated>
                            <resolved>Fri, 29 Aug 2008 08:26:50 +0000</resolved>
                                    <version>5.1.0</version>
                                    <fixVersion>5.2.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12940118" author="gtully" created="Fri, 29 Aug 2008 08:26:50 +0000"  >&lt;p&gt;fixed in rev 690144&lt;/p&gt;

&lt;p&gt;Problem: new messages paged in during addSubscription() doPageIn() may not get dispatched using the recovery dispatch mechanism if selectors are present. These messages need to be remembered in the pagedInPendingDispatch list. hense the fix.&lt;br/&gt;
Initial though was to always add newly pagedIn messages to the pagedInPending but this breaks QueueBrowsing which depends on the recoveryDispatch, and results in duplicates on the browse queue which breaks the enumeration.&lt;br/&gt;
QueueBrowsing may need some separate treatment at a later date.&lt;/p&gt;

&lt;p&gt;for future reference, the relevant subset of tests are:&lt;br/&gt;
mvn -o test -Dtest=JmsQueueWildcardSendReceiveTest,JMSUsecaseTest,JmsQueueCompositeSendReceiveTest,LargeStreamletTest,MessageListenerRedeliveryTest,PublishOnQueueConsumedMessageInTransactionTest,MarshallingBrokerTest,AMQ1917Test,CursorQueueStoreTest,JmsTempDestinationTest,RollbacksWhileConsumingLargeQueueTest,StompTest&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14bon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>