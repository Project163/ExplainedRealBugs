<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:10:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5656] Support selective MBean creation</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5656</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;A continuation of &lt;a href=&quot;http://activemq.2283324.n4.nabble.com/How-to-disable-MBeans-creation-tp4692863p4692904.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.2283324.n4.nabble.com/How-to-disable-MBeans-creation-tp4692863p4692904.html&lt;/a&gt; where I asked about a feature to suppress MBean creation for certain objects, such as sessions, producers, consumers.&lt;/p&gt;

&lt;p&gt;Quoting Gary:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There is a single code entry point (&lt;a href=&quot;https://github.com/apache/activemq/blob/master/activemq-broker/src/main/java/org/apache/activemq/broker/jmx/ManagementContext.java#L391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ManagementContext.registerMBean&lt;/a&gt;) for all MBean registration in the broker so gating that on a filter or regexp match may be all that we need.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12780893">AMQ-5656</key>
            <summary>Support selective MBean creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="lichtin">Martin Lichtin</reporter>
                        <labels>
                            <label>jmx</label>
                            <label>scalability</label>
                    </labels>
                <created>Tue, 10 Mar 2015 15:33:40 +0000</created>
                <updated>Thu, 15 Nov 2018 17:42:15 +0000</updated>
                            <resolved>Thu, 18 Feb 2016 21:14:52 +0000</resolved>
                                                    <fixVersion>5.12.0</fixVersion>
                                    <component>Broker</component>
                    <component>JMX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14572918" author="gtully" created="Thu, 4 Jun 2015 14:53:36 +0000"  >&lt;p&gt;&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/activemq/commit/928e815a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/activemq/commit/928e815a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;new attribute on the managementContext, a comma separated list of attribute key=value pairs. Any mbean objectName that matches any pair will be not be registered in the mbean server.&lt;/p&gt;

&lt;p&gt;For example, to disable mbean registration for all consumer and dynanamicPropducer view mbeans, use the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;managementContext&amp;gt;
            &amp;lt;managementContext suppressMBean=&lt;span class=&quot;code-quote&quot;&gt;&quot;endpoint=dynamicProducer,endpoint=Consumer&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;/managementContext&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;To peek at the general naming scheme see: BrokerMBeanSupport&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/activemq/blob/61da1faa4c4e49191b373049ee36434aaad58897/activemq-broker/src/main/java/org/apache/activemq/broker/jmx/BrokerMBeanSupport.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/blob/61da1faa4c4e49191b373049ee36434aaad58897/activemq-broker/src/main/java/org/apache/activemq/broker/jmx/BrokerMBeanSupport.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14602718" author="dejanb" created="Fri, 26 Jun 2015 11:23:44 +0000"  >&lt;p&gt;I refactored this feature a bit, so that it supports patterns now. I also added some docs&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/ACTIVEMQ/JMX#JMX-SelectiveMBeanregistration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/ACTIVEMQ/JMX#JMX-SelectiveMBeanregistration&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15152795" author="jgenender" created="Thu, 18 Feb 2016 18:33:45 +0000"  >&lt;p&gt;This change breaks the webconsole and is not complete.  When selectively allowing JMX entires, the ManagementContext still sends back a list onjects even though those MBeans are not allowed to register.  Hence the webconsole blows up with:&lt;/p&gt;

&lt;p&gt;org.apache.jasper.JasperException: An exception occurred processing JSP page /topics.jsp at line 55&lt;/p&gt;

&lt;p&gt;52: &amp;lt;c:forEach items=&quot;${requestContext.brokerQuery.topics}&quot; var=&quot;row&quot;&amp;gt;&lt;br/&gt;
53: &amp;lt;tr&amp;gt;&lt;br/&gt;
54: &amp;lt;td&amp;gt;&amp;lt;a href=&quot;&amp;lt;c:url value=&quot;send.jsp&quot;&amp;gt;&lt;br/&gt;
55:                         &amp;lt;c:param name=&quot;JMSDestination&quot; value=&quot;${row.name}&quot; /&amp;gt;&lt;br/&gt;
56:                         &amp;lt;c:param name=&quot;JMSDestinationType&quot; value=&quot;topic&quot;/&amp;gt;&amp;lt;/c:url&amp;gt;&quot;&amp;gt;&amp;lt;form:tooltip text=&quot;${row.name}&quot; length=&quot;50&quot;/&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
57: &amp;lt;td&amp;gt;&amp;lt;c:out value=&quot;${row.consumerCount}&quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
58: &amp;lt;td&amp;gt;&amp;lt;c:out value=&quot;${row.enqueueCount}&quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/p&gt;

&lt;p&gt;The mbeans need to be filtered on request for their lists for what is being supressed through the ManagedRegionBroker, or the webconsole will need filtering code everywhere for MBean calls that have no ability to be called.&lt;/p&gt;</comment>
                            <comment id="15153100" author="jgenender" created="Thu, 18 Feb 2016 21:14:53 +0000"  >&lt;p&gt;Will close this issue and track it in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6175&quot; title=&quot;ActiveMQ webconsole breaks when supressMBean is used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6175&quot;&gt;&lt;del&gt;AMQ-6175&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13198680">AMQ-7102</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26l4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>