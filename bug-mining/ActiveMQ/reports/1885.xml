<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:59:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-4428] Don&apos;t swallow errors in IntrospectionSupport.setProperty</title>
                <link>https://issues.apache.org/jira/browse/AMQ-4428</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;`setProperty` currently ends with `&#8230; catch (Throwable ignore) { return false; }`. This can make troubleshooting invalid configuration much harder since the exception (that contains detailed information) is hidden from the user.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640319">AMQ-4428</key>
            <summary>Don&apos;t swallow errors in IntrospectionSupport.setProperty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="qerub">Christoffer Sawicki</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Apr 2013 14:57:15 +0000</created>
                <updated>Fri, 7 Dec 2018 12:51:54 +0000</updated>
                            <resolved>Tue, 7 May 2013 10:53:35 +0000</resolved>
                                                    <fixVersion>5.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13621328" author="gtully" created="Wed, 3 Apr 2013 21:12:13 +0000"  >&lt;p&gt;I recall there are a few places where url params are applied to a bunch of components in a chain, the ones that match are removed and there is an assertion that all are consumed. So in that case, some are expected to be invalid. In that case, using info in place of error may be better.&lt;/p&gt;

&lt;p&gt;A sanity check woud be to run the unit tests in activemq-unit-tests module (mvn test) and peek at the resulting target/activemq-test.log to see how often the error shows up.&lt;/p&gt;</comment>
                            <comment id="13621998" author="qerub" created="Thu, 4 Apr 2013 10:23:15 +0000"  >&lt;p&gt;(I&apos;ve found that a couple of those assertions are missing, but I&apos;ve filed another issue for that (&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-4433&quot; title=&quot;Socket parameters are not validated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-4433&quot;&gt;&lt;del&gt;AMQ-4433&lt;/del&gt;&lt;/a&gt;). I believe there is a problem even assuming all assertions are in place.)&lt;/p&gt;

&lt;p&gt;In the context of setProperty, properties/parameters can be invalid in two ways:&lt;/p&gt;

&lt;p&gt;1. The property is missing on the target object. This situation happens a lot during normal initialization and works fine as is.&lt;/p&gt;

&lt;p&gt;2. The property does exist but calling the setter throws an exception. This is the situation I believe is exceptional and should be logged. With working assertions the property/parameter will be flagged as invalid, but the exception&#8212;which contains information about why the property value is invalid&#8212;is hidden from the user, making troubleshooting harder.&lt;/p&gt;

&lt;p&gt;For reference: &lt;a href=&quot;https://github.com/apache/activemq/blob/trunk/activemq-client/src/main/java/org/apache/activemq/util/IntrospectionSupport.java#L160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/blob/trunk/activemq-client/src/main/java/org/apache/activemq/util/IntrospectionSupport.java#L160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll do some more research with the unit tests and get back to you.&lt;/p&gt;

&lt;p&gt;Thanks for your time!&lt;/p&gt;</comment>
                            <comment id="13649649" author="ebudan" created="Mon, 6 May 2013 11:03:49 +0000"  >&lt;p&gt;An example of where this swallowed Throwable produced considerable headache.&lt;/p&gt;

&lt;p&gt;An embedded Broker&apos;s timeout options were not being set as expected. The first suspect was documentation wiki/code mismatch (FailoverTransport backoffMultiplier vs. reconnectDelayExponent), but this wasn&apos;t the real culprit: IntrospectionSupport has a static init of a third-party library, which had been missed by us while minimizing libraries for the embed. The IntrospectionSupport.setProperty() catch silently swallows the informative exception.&lt;/p&gt;

&lt;p&gt;I would second #2, above. &lt;br/&gt;
Further, I would suggest catching qualified exceptions rather than Throwable, which risks silencing possible fatal errors (OOM). &lt;/p&gt;
</comment>
                            <comment id="13650069" author="qerub" created="Mon, 6 May 2013 20:18:40 +0000"  >&lt;p&gt;&amp;gt; Further, I would suggest catching qualified exceptions rather than Throwable &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I agree. Here&apos;s a &lt;tt&gt;s/Throwable/Exception/&lt;/tt&gt; patch:&lt;br/&gt;
&lt;a href=&quot;https://github.com/qerub/activemq/commit/0e09f1649a4cecb38476262a61f51acf578f64e3.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/qerub/activemq/commit/0e09f1649a4cecb38476262a61f51acf578f64e3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And here&apos;s an updated version of the original patch:&lt;br/&gt;
&lt;a href=&quot;https://github.com/qerub/activemq/commit/2442b3311e7f069b93a619dd3a8821571d1d67b6.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/qerub/activemq/commit/2442b3311e7f069b93a619dd3a8821571d1d67b6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Remove .patch from URL for a prettier view.)&lt;/p&gt;

&lt;p&gt;I have run the full ActiveMQ test suite with these changes and they generate no spurious log messages.&lt;/p&gt;</comment>
                            <comment id="13650708" author="gtully" created="Tue, 7 May 2013 10:53:35 +0000"  >&lt;p&gt;patch applied with thanks in &lt;a href=&quot;http://svn.apache.org/r1479852&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1479852&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13203030">AMQ-7121</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jcj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>