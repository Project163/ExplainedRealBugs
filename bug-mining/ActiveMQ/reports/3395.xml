<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8425] Linux start script doesn&apos;t work depending of ps command version</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8425</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;bin/activemq, line 485 reads:&lt;/p&gt;

&lt;p&gt;       local RET=&quot;`ps -o &quot;pid,args&quot; | grep &quot;^\s*$activemq_pid\s.*java&quot;`&quot;&lt;/p&gt;

&lt;p&gt;The problem is (from ps man page):&lt;/p&gt;

&lt;p&gt;&quot;By default, ps selects all processes with the same effective user&lt;br/&gt;
ID (euid=EUID) as the current user and associated with the same&lt;br/&gt;
terminal as the invoker.&quot;&lt;/p&gt;

&lt;p&gt;Thus, the script essentially will ONLY find a running process&lt;br/&gt;
that has been started by the SAME LOGIN-SESSION.&lt;/p&gt;

&lt;p&gt;I would say, that is rarely (if ever) the case in real-world scenarios.&lt;/p&gt;

&lt;p&gt;For example, you login to your app-server and start ActiveMQ, then logout.&lt;br/&gt;
At a later point, you login again (new session) and try to stop ActiveMQ.&lt;br/&gt;
But unexpectedly, nothing happens &lt;/p&gt;

&lt;p&gt;The fix was simple, in the line above, add the &apos;-e&apos; flag:&lt;/p&gt;

&lt;p&gt;       local RET=&quot;`ps -eo &quot;pid,args&quot; | grep &quot;^\s*$activemq_pid\s.*java&quot;`&quot;&lt;/p&gt;

&lt;p&gt;ps -e means it will list ALL processes on the host.&lt;br/&gt;
Then it works as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13416256">AMQ-8425</key>
            <summary>Linux start script doesn&apos;t work depending of ps command version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="jbonofre">Jean-Baptiste Onofr&#233;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Dec 2021 10:11:35 +0000</created>
                <updated>Sat, 15 Jan 2022 05:45:11 +0000</updated>
                            <resolved>Sat, 15 Jan 2022 05:45:11 +0000</resolved>
                                    <version>5.16.3</version>
                                    <fixVersion>5.16.4</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17456295" author="jbonofre" created="Thu, 9 Dec 2021 10:12:20 +0000"  >&lt;p&gt;The following commit changed the start script: &lt;a href=&quot;https://github.com/apache/activemq/commit/2d78f118d059cbf3fe62d12fb344721820be0f9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/commit/2d78f118d059cbf3fe62d12fb344721820be0f9c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17476527" author="jira-bot" created="Sat, 15 Jan 2022 05:43:19 +0000"  >&lt;p&gt;Commit c246e0926c5f803341224000fe4391cdb3f00d76 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c246e09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c246e09&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8425&quot; title=&quot;Linux start script doesn&amp;#39;t work depending of ps command version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8425&quot;&gt;&lt;del&gt;AMQ-8425&lt;/del&gt;&lt;/a&gt; Get process from any user in bin/activemq script&lt;/p&gt;</comment>
                            <comment id="17476528" author="jira-bot" created="Sat, 15 Jan 2022 05:43:20 +0000"  >&lt;p&gt;Commit ba98a39cefe1a3ea51cb7bd74693afe970940770 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba98a39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba98a39&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #739 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8425&quot; title=&quot;Linux start script doesn&amp;#39;t work depending of ps command version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8425&quot;&gt;&lt;del&gt;AMQ-8425&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8425&quot; title=&quot;Linux start script doesn&amp;#39;t work depending of ps command version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8425&quot;&gt;&lt;del&gt;AMQ-8425&lt;/del&gt;&lt;/a&gt; Get process from any user in bin/activemq script&lt;/p&gt;</comment>
                            <comment id="17476529" author="jira-bot" created="Sat, 15 Jan 2022 05:44:09 +0000"  >&lt;p&gt;Commit 207591e94d221f3ba56dfc9e93be1c7be4008da2 in activemq&apos;s branch refs/heads/activemq-5.16.x from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=207591e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=207591e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8425&quot; title=&quot;Linux start script doesn&amp;#39;t work depending of ps command version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8425&quot;&gt;&lt;del&gt;AMQ-8425&lt;/del&gt;&lt;/a&gt; Get process from any user in bin/activemq script&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c246e0926c5f803341224000fe4391cdb3f00d76)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13411270">AMQ-8411</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xi34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>