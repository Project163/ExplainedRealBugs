<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:32:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6088] Runtime configuration does not properly apply policy updates</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6088</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;There is 1 bug and 1 improvement with policy modification at runtime with both the XML runtime broker and Java runtime broker.&lt;/p&gt;

&lt;p&gt;For the bug portion, when a new policy is added there is no check to see if there are any more specific policies that should be used.  So if a policy called &quot;queue.test.child.&amp;gt;&quot; exists, and then a new policy for &quot;queue.test.&amp;gt;&quot; is added, this will update destinations that match the more specific policy and it shouldn&apos;t.  There is a check for this for modification (as seen below) but not on adding a new policy.&lt;/p&gt;

&lt;p&gt;For the improvement, when modifying a policy entry, an entry can only be modified if there are no children entries.  This is a problem because if two policies exist, say for &quot;queue.test.&amp;gt;&quot; and &quot;queue.test.child.&amp;gt;&quot;, we can not modify &quot;queue.test.&amp;gt;&quot; because there is logic to prevent this.  This is done to prevent reapplying changes to destinations that might be affected by &quot;queue.test.child.&amp;gt;&quot;.  (which breaks on an add)&lt;/p&gt;

&lt;p&gt;However, with the use of the policy map we should be able to update any policy and figure out which specific destinations because we can look up whether or not the policy being updated should be applied to the destination.  So this limitation should be removed and the proper logic should be applied for both adding and updating policies.&lt;/p&gt;

&lt;p&gt;This should be merged into 5.13.1 because it&apos;s a bug fix and improvement to how policies are applied.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12921697">AMQ-6088</key>
            <summary>Runtime configuration does not properly apply policy updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Dec 2015 15:59:05 +0000</created>
                <updated>Mon, 14 Dec 2015 19:22:09 +0000</updated>
                            <resolved>Mon, 14 Dec 2015 19:22:09 +0000</resolved>
                                    <version>5.13.0</version>
                                    <fixVersion>5.13.1</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15056484" author="jira-bot" created="Mon, 14 Dec 2015 19:06:13 +0000"  >&lt;p&gt;Commit 9e7fae0d83c584f98e99024ba6d20e53f14b81f7 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=9e7fae0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=9e7fae0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6088&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6088&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The runtime plugins will now find the exact policy to update which means&lt;br/&gt;
that a destination can match more than one policy and the policy can&lt;br/&gt;
still be updated at runtime.&lt;/p&gt;

&lt;p&gt;The java runtime broker also supports the ability to replace or add a&lt;br/&gt;
policy entry based on a flag on a new method call.&lt;/p&gt;</comment>
                            <comment id="15056494" author="jira-bot" created="Mon, 14 Dec 2015 19:09:46 +0000"  >&lt;p&gt;Commit 27b08b03c58fcaaf11c278ac28a4da472e55d274 in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=27b08b0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=27b08b0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6088&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6088&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The runtime plugins will now find the exact policy to update which means&lt;br/&gt;
that a destination can match more than one policy and the policy can&lt;br/&gt;
still be updated at runtime.&lt;/p&gt;

&lt;p&gt;The java runtime broker also supports the ability to replace or add a&lt;br/&gt;
policy entry based on a flag on a new method call.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 9e7fae0d83c584f98e99024ba6d20e53f14b81f7)&lt;/p&gt;</comment>
                            <comment id="15056525" author="christopher.l.shannon" created="Mon, 14 Dec 2015 19:22:09 +0000"  >&lt;p&gt;A policy can now be modified even if it matches more than one destination because the policy will only be applied to the correct destination(s) during update.  This includes the case of a new policy as well.  This applies to both the Java and XML runtime plugins.&lt;/p&gt;

&lt;p&gt;Also, there&apos;s a new option in the Java plugin to create or replace (based on a flag) a policy entry.  For the replace case, that is useful if someone wants to update a policy without looking up the existing one first, which is required in the current version.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12851385">AMQ-5915</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pv2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>