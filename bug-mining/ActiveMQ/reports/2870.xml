<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:35:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6357] shutdown due to a local error: java.lang.ArithmeticException: / by zero</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6357</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;We have two brokers esb-test-mq01 and esb-test-mq02 configured in a&lt;br/&gt;
network of brokers. In front of the brokers we have a load balancer&lt;br/&gt;
that spreads the connecting clients between the brokers.&lt;br/&gt;
The brokers connect to each other directly without the load balancer.&lt;/p&gt;

&lt;p&gt;Sometimes (we havn&apos;t found any patterns for when it occurs) one of the&lt;br/&gt;
connections between the brokers closes down with the following message:&lt;/p&gt;

&lt;p&gt;&quot;Network connection between vm://esb-test-mq01.it.su.se#18 and ssl://&lt;br/&gt;
esb-test-mq02.it.su.se/77.238.37.208:61616 shutdown due to a local error:&lt;br/&gt;
java.lang.ArithmeticException: / by zero&quot;&lt;/p&gt;

&lt;p&gt;After this the faulty broker never calls back. We have finally caught this&lt;br/&gt;
division with TRACE turned on, but we can&apos;t make anything out of the&lt;br/&gt;
logs. (See attatched log file)&lt;/p&gt;

&lt;p&gt;Tim said on activemq-users to include as much information as I can but&lt;br/&gt;
I can&apos;t figure out anything more specific for our setup. I think activemq.xml &lt;br/&gt;
says it all (and it is attatched to this issue).&lt;br/&gt;
Let us know if there is any other information we can provide you with.&lt;/p&gt;</description>
                <environment>&lt;ol&gt;
	&lt;li&gt;/local/jdk/bin/java -version&lt;br/&gt;
java version &quot;1.8.0_45&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_45-b14)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;uname -a&lt;br/&gt;
Linux esb-test-mq01 3.13.0-91-generic #138-Ubuntu SMP Fri Jun 24 17:00:34 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;lsb_release -a&lt;br/&gt;
No LSB modules are available.&lt;br/&gt;
Distributor ID: Ubuntu&lt;br/&gt;
Description:    Ubuntu 14.04.4 LTS&lt;br/&gt;
Release:        14.04&lt;br/&gt;
Codename:       trusty&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Activemq 5.13.0&lt;/p&gt;</environment>
        <key id="12989461">AMQ-6357</key>
            <summary>shutdown due to a local error: java.lang.ArithmeticException: / by zero</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="theseal">Johan Wassberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jul 2016 13:26:22 +0000</created>
                <updated>Thu, 14 Jul 2016 14:18:28 +0000</updated>
                            <resolved>Thu, 14 Jul 2016 14:18:28 +0000</resolved>
                                    <version>5.13.0</version>
                                    <fixVersion>5.13.4</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15376992" author="jira-bot" created="Thu, 14 Jul 2016 14:16:54 +0000"  >&lt;p&gt;Commit 42dabb7a7a7f981eb57d46663456ac1d7c912acb in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=42dabb7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=42dabb7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6357&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6357&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Preventing a divide by 0 error by taking a local reference to the&lt;br/&gt;
prefetch size to guarantee that the value doesn&apos;t change after the &amp;gt; 0&lt;br/&gt;
check&lt;/p&gt;</comment>
                            <comment id="15376994" author="jira-bot" created="Thu, 14 Jul 2016 14:17:23 +0000"  >&lt;p&gt;Commit 78cacc5e17b6d5a93ff3b857043a3f5879e48edd in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=78cacc5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=78cacc5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6357&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6357&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Preventing a divide by 0 error by taking a local reference to the&lt;br/&gt;
prefetch size to guarantee that the value doesn&apos;t change after the &amp;gt; 0&lt;br/&gt;
check&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 42dabb7a7a7f981eb57d46663456ac1d7c912acb)&lt;/p&gt;</comment>
                            <comment id="15376995" author="christopher.l.shannon" created="Thu, 14 Jul 2016 14:18:28 +0000"  >&lt;p&gt;Resolved by using a local reference to make sure that the value that is the divisor doesn&apos;t change after the initial &amp;gt; 0 check&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12817947" name="TRACE.log" size="15813" author="theseal" created="Thu, 14 Jul 2016 13:26:48 +0000"/>
                            <attachment id="12817946" name="activemq.xml" size="10504" author="theseal" created="Thu, 14 Jul 2016 13:26:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30z6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>