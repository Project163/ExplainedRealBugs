<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:49:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3076] spurious KahaDB warnings </title>
                <link>https://issues.apache.org/jira/browse/AMQ-3076</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>
&lt;p&gt;please reduce to DEBUG or remove alltogether, see discussion from the mailing list below&lt;/p&gt;

&lt;p&gt;thanks.&lt;/p&gt;

&lt;p&gt;2010-12-09 09:31:46,613 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 142 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:32:52,240 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 117 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:32:57,377 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 116 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:34:03,052 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 111 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:34:08,276 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 202 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:34:53,207 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 208 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
2010-12-09 09:35:28,377 | WARN  | KahaDB PageFile flush: 3 queued writes, latch wait took 283 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;/p&gt;



&lt;p&gt;From: Gary Tully &amp;lt;gary.tully-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org&amp;gt;&lt;br/&gt;
Subject: Re: KahaDB latch wait warnings&lt;br/&gt;
Newsgroups: gmane.comp.java.activemq.user&lt;br/&gt;
Date: Wed, 8 Dec 2010 15:24:00 +0000&lt;/p&gt;

&lt;p&gt;In the main, it is not important, that should be at debug or trace&lt;br/&gt;
level logging or removed altogether, it is just an indication of the&lt;br/&gt;
pagefile sync to disk latency and the amount of concurrent writes that&lt;br/&gt;
are pending at the time, an remnant of some performance tuning work&lt;br/&gt;
that was done for 5.4.0. the 100ms limit is arbitrary.&lt;br/&gt;
Do u mind tracking this with a jira issue as it will probably come up again.&lt;/p&gt;

&lt;p&gt;On 8 December 2010 13:54, Aleksandar Ivanisevic&lt;br/&gt;
&amp;lt;aleksandar-9OxODCspnFtM+jpbqlvknA@public.gmane.org&amp;gt; wrote:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Just switched to kahadb on my amq 5.4.1 (fuse) and the log is filling&lt;br/&gt;
&amp;gt; with this:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; 2010-12-08 14:26:12,668 | WARN &#160;| KahaDB PageFile flush: 3 queued writes, latch wait took 119 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
&amp;gt; 2010-12-08 14:28:03,769 | WARN &#160;| KahaDB PageFile flush: 7 queued writes, latch wait took 140 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
&amp;gt; 2010-12-08 14:28:39,125 | WARN &#160;| KahaDB PageFile flush: 3 queued writes, latch wait took 112 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
&amp;gt; 2010-12-08 14:30:04,928 | WARN &#160;| KahaDB PageFile flush: 8 queued writes, latch wait took 109 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
&amp;gt; 2010-12-08 14:30:28,788 | WARN &#160;| KahaDB PageFile flush: 8 queued writes, latch wait took 18839 | org.apache.kahadb.page.PageFile | ActiveMQ Journal Checkpoint Worker&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; quick code search turns out that this warning is fixed to 100ms&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://bit.ly/gYH1Zu&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bit.ly/gYH1Zu&lt;/a&gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; why 100ms and why is this important?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492803">AMQ-3076</key>
            <summary>spurious KahaDB warnings </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="aivanise">Aleksandar Ivanisevic</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Dec 2010 08:37:53 +0000</created>
                <updated>Thu, 9 Dec 2010 11:59:06 +0000</updated>
                            <resolved>Thu, 9 Dec 2010 11:59:06 +0000</resolved>
                                    <version>5.4.0</version>
                    <version>5.4.1</version>
                    <version>5.4.2</version>
                                    <fixVersion>5.5.0</fixVersion>
                                    <component>Message Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12969664" author="aivanise" created="Thu, 9 Dec 2010 08:52:15 +0000"  >

&lt;p&gt;adding &lt;/p&gt;

&lt;p&gt;log4j.logger.org.apache.kahadb.page.PageFile=ERROR&lt;/p&gt;

&lt;p&gt;to /opt/activemq/conf/log4j.properties&lt;/p&gt;

&lt;p&gt;silences this warning. Don&apos;t know what else it may silence though&lt;/p&gt;</comment>
                            <comment id="12969705" author="gtully" created="Thu, 9 Dec 2010 11:59:06 +0000"  >&lt;p&gt;debug perf logging code removed in r1043912&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ak73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>