<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:33:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-841] NullPointerException when using MasterConnector and specifying the broker name with space in it.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-841</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;I&apos;ve got a hard time trying to figure out why I got a null pointer trying to use the Master/slave configuration for ActiveMQ. &lt;/p&gt;

&lt;p&gt;Finnally by looking at the code I&apos;ve saw the following:&lt;br/&gt;
In BrokerService.java &lt;br/&gt;
public void initializeMasterConnector(URI remoteURI) throws Exception { &lt;br/&gt;
...&lt;br/&gt;
URI localURI = getVmConnectorURI();&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;public URI getVmConnectorURI() {&lt;br/&gt;
        if (vmConnectorURI == null) {&lt;br/&gt;
            try &lt;/p&gt;
{
                vmConnectorURI = new URI(&quot;vm://&quot; + getBrokerName());
            }
&lt;p&gt;            catch (URISyntaxException e) {&lt;br/&gt;
            }&lt;br/&gt;
        }&lt;br/&gt;
        return vmConnectorURI;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;My problem is that I&apos;ve specified a broker name with space in it  &quot;Slave Broker&quot;. So I the new URI() here throw a URISyntaxException that was badly absorb. And this leads to a null pointer at line:159 of TransportFactory.java.&lt;br/&gt;
   String scheme = location.getScheme(); when location is null du to the previous exception.&lt;/p&gt;

&lt;p&gt;The link between the error and the cause was not clear at the first sigth. &lt;/p&gt;

&lt;p&gt;A precondition on the setBrokerName could do the job.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, jdk1.5.0_06&lt;/p&gt;</environment>
        <key id="12481771">AMQ-841</key>
            <summary>NullPointerException when using MasterConnector and specifying the broker name with space in it.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="rwafer">Richard Wafer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jul 2006 14:56:34 +0000</created>
                <updated>Thu, 28 Dec 2006 20:30:45 +0000</updated>
                            <resolved>Thu, 28 Dec 2006 20:30:45 +0000</resolved>
                                    <version>4.0.1</version>
                                    <fixVersion>5.0.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12938652" author="marlonsantos" created="Thu, 23 Nov 2006 10:35:32 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;     i had seen that the problem was when the URISyntaxException was catched, there was no actual value given to the vmConnectorURI so it stays null. I can create a patch for this but i dont know which is the best approach, because of some issues.&lt;/p&gt;

&lt;p&gt;a) shutdown the broker gracefully and display a warn sign that the broker is shutting down because of invalid brokername&lt;br/&gt;
b) trim the starting and ending space, and change spaces in - between the brokername. &lt;/p&gt;
</comment>
                            <comment id="12938679" author="marlonsantos" created="Thu, 23 Nov 2006 10:40:58 +0000"  >&lt;p&gt;It also happens with other broker configurations and present in the windows xp os..&lt;/p&gt;</comment>
                            <comment id="12938631" author="rajdavies" created="Thu, 28 Dec 2006 20:30:45 +0000"  >&lt;p&gt;Fixed in SVN revision 490786&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17zyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>