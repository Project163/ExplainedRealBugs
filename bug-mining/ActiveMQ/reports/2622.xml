<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:17:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5916] Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5916</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When JAAS authentication and authorization are setup, creation of durable subscriber fails due to lack of securityContext. &lt;/p&gt;

&lt;p&gt;The ConnectionContext object does not inherit the securityContext of the broker&apos;s shared connection context&lt;/p&gt;</description>
                <environment></environment>
        <key id="12851399">AMQ-5916</key>
            <summary>Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="gmurthy">Ganesh Murthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Aug 2015 14:03:54 +0000</created>
                <updated>Tue, 4 Aug 2015 18:55:28 +0000</updated>
                            <resolved>Tue, 4 Aug 2015 18:55:22 +0000</resolved>
                                    <version>5.11.1</version>
                                    <fixVersion>5.12.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14653686" author="ganeshmurthy" created="Tue, 4 Aug 2015 14:06:18 +0000"  >&lt;p&gt;The org.apache.activemq.broker.jmx.BrokerView class has a createDurableSubscriber(String clientId, String subscriberName, String topicName, String selector) function and it instantiates a new connection context like this - &lt;/p&gt;

&lt;p&gt;ConnectionContext connectionContext = new ConnectionContext();&lt;/p&gt;

&lt;p&gt;this fails to copy the securityContext from the shared global connectionContext.&lt;/p&gt;

&lt;p&gt;The above line must be replaced with &lt;br/&gt;
ConnectionContext sharedContext = BrokerSupport.getConnectionContext(broker.getContextBroker());&lt;br/&gt;
ConnectionContext context = sharedContext.copy();&lt;/p&gt;</comment>
                            <comment id="14653690" author="ganeshmurthy" created="Tue, 4 Aug 2015 14:12:24 +0000"  >&lt;p&gt;Attached a patch for this issue - &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5916&quot; title=&quot;Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5916&quot;&gt;&lt;del&gt;AMQ-5916&lt;/del&gt;&lt;/a&gt;-GMURTHY-PATCH.TXT&lt;/p&gt;</comment>
                            <comment id="14653948" author="tabish121" created="Tue, 4 Aug 2015 16:44:45 +0000"  >&lt;p&gt;With the patch applied the test BrokerViewSlowStoreStartupTest#testBrokerViewOnSlowStoreStart fails when it calls createDurableSubscriber due to an exception not being thrown.  Should investigate if the test is wrong or the fix has broker something. &lt;/p&gt;</comment>
                            <comment id="14654033" author="ganeshmurthy" created="Tue, 4 Aug 2015 17:47:01 +0000"  >&lt;p&gt;Please take a look at my attached new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5916&quot; title=&quot;Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5916&quot;&gt;&lt;del&gt;AMQ-5916&lt;/del&gt;&lt;/a&gt;-GMURTHY-PATCH2.TXT&lt;br/&gt;
BrokerViewSlowStoreStartupTest#testBrokerViewOnSlowStoreStart should not fail after applying &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5916&quot; title=&quot;Creation of durable subscriber fails via broker AdminView due to lack of SecurityContext  on ConnectionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5916&quot;&gt;&lt;del&gt;AMQ-5916&lt;/del&gt;&lt;/a&gt;-GMURTHY-PATCH2.TXT&lt;br/&gt;
I added a null check in the code.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="14654151" author="jira-bot" created="Tue, 4 Aug 2015 18:54:22 +0000"  >&lt;p&gt;Commit 82e3ce805ee349a83c0684c908d6ebe0d546f432 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=82e3ce8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=82e3ce8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5916&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Apply patch from Ganesh Murthy to resolve issue of creation of durable&lt;br/&gt;
subscriber fails via broker AdminView due to lack of SecurityContext on&lt;br/&gt;
ConnectionContext&lt;/p&gt;</comment>
                            <comment id="14654153" author="tabish121" created="Tue, 4 Aug 2015 18:55:22 +0000"  >&lt;p&gt;patch applied with thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12748676" name="AMQ-5916-GMURTHY-PATCH.TXT" size="9640" author="gmurthy" created="Tue, 4 Aug 2015 14:33:23 +0000"/>
                            <attachment id="12748693" name="AMQ-5916-GMURTHY-PATCH2.TXT" size="9685" author="gmurthy" created="Tue, 4 Aug 2015 17:47:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ibef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>