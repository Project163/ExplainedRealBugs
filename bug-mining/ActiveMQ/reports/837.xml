<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:44:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2599] Distribution activemq.xml does not match distribution activemq.xsd, causing SAXParseException with newer versions of Spring</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2599</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;In the 5.3.0 distribution, an &quot;activemq.xml&quot; file is provided in the &quot;conf&quot; directory.  The format of this file does not match the schema &quot;activemq.xsd&quot; that is located in the activemq-core-5.3.0.jar.  Specifically, in the latter, the &quot;broker&quot; tag is defined as a sequence of tags as follows:&lt;br/&gt;
	adminView&lt;br/&gt;
	applicationContext&lt;br/&gt;
	consumerSystemUsage&lt;br/&gt;
	destinationFactory&lt;br/&gt;
	destinationInterceptors&lt;br/&gt;
	destinationPolicy&lt;br/&gt;
	destinations&lt;br/&gt;
	jmsBridgeConnectors&lt;br/&gt;
	managementContext&lt;br/&gt;
	messageAuthorizationPolicy&lt;br/&gt;
	networkConnectorURIs&lt;br/&gt;
	networkConnectors&lt;br/&gt;
	persistenceAdapter&lt;br/&gt;
	persistenceFactory&lt;br/&gt;
	persistenceTaskRunnerFactory&lt;br/&gt;
	plugins&lt;br/&gt;
	producerSystemUsage&lt;br/&gt;
	proxyConnectors&lt;br/&gt;
	regionBroker&lt;br/&gt;
	services&lt;br/&gt;
	sslContext&lt;br/&gt;
	systemUsage&lt;br/&gt;
	taskRunnerFactory&lt;br/&gt;
	tempDataStore&lt;br/&gt;
	transportConnectorURIs&lt;br/&gt;
	transportConnectors&lt;/p&gt;

&lt;p&gt;(suspiciously, these tags are listed in alphabetical order - I question whether &quot;sequence&quot; was the correct type in the xsd, as opposed to &quot;one or more of the following&quot;)&lt;/p&gt;

&lt;p&gt;In any event, in the &quot;activemq.xml&quot; that is provided as part of the distribution, the children of the &quot;broker&quot; tag are provided in the following order:&lt;br/&gt;
	managementContext&lt;br/&gt;
	persistenceAdapter&lt;br/&gt;
	destinationPolicy&lt;br/&gt;
	systemUsage&lt;br/&gt;
	transportConnectors&lt;/p&gt;

&lt;p&gt;If the activemq.xsd file is correct, then &quot;destinationPolicy&quot; should have been positioned first - before &quot;managementContext&quot;.  Alternately, the tag order in the xsd file needs to be reworked.&lt;/p&gt;

&lt;p&gt;This problem causes a SAXParseException if one tries to use the default activemq.xml with Spring 3.0 jars used instead of the Spring 2.5.6 jars that come with the distribution.  I can only presume that the newer version of Spring is configured, by default, to validate parsed XML against the XSD, while Spring 2.5.6 is not.&lt;/p&gt;

&lt;p&gt;I note that &lt;a href=&quot;http://activemq.apache.org/networks-of-brokers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/networks-of-brokers.html&lt;/a&gt; indicates &quot;Order of construction of networks/persistence/transports IS important!&quot;  This at least suggests to me that the ordering of other tags might possibly be important, or that multiple orders may be valid depending on the desired effect.  Thus, it is not immediately obvious which of the two files is, in fact, the correct one.&lt;/p&gt;

&lt;p&gt;Regardless, it seems that the example XML file should match the provided XSD file.&lt;/p&gt;

&lt;p&gt;The current workaround is to either use a version of Spring earlier than 3, or to edit the activemq.xml to re-order the children of &quot;broker&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12483193">AMQ-2599</key>
            <summary>Distribution activemq.xml does not match distribution activemq.xsd, causing SAXParseException with newer versions of Spring</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="khunter">Kevin Hunter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Feb 2010 20:45:04 +0000</created>
                <updated>Fri, 26 Feb 2010 14:16:17 +0000</updated>
                            <resolved>Mon, 15 Feb 2010 15:48:36 +0000</resolved>
                                    <version>5.3.0</version>
                                    <fixVersion>5.3.1</fixVersion>
                    <fixVersion>5.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12942189" author="gtully" created="Mon, 15 Feb 2010 15:48:35 +0000"  >&lt;p&gt;resolved in r910238&lt;/p&gt;

&lt;p&gt;The example configuration files now match the schema as they should do. &lt;/p&gt;

&lt;p&gt;Order is an attribute of the sequence but the sequence is important as it allows for extensibility, see: &lt;a href=&quot;http://www.w3.org/2005/07/xml-schema-patterns.html#Collection-Extending-Elements&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/2005/07/xml-schema-patterns.html#Collection-Extending-Elements&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rr1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>