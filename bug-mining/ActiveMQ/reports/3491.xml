<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:59:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8122] DataByteArrayInputStreamTest.testNonAscii() is faulty</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8122</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;It appears the unit test &lt;a href=&quot;https://github.com/apache/activemq/blob/1c315db1d1a5432a87e0e43d82d8e926811c6419/activemq-client/src/test/java/org/apache/activemq/util/DataByteArrayInputStreamTest.java#L29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;DataByteArrayInputStreamTest.testNonAscii()&lt;/tt&gt;&lt;/a&gt; is faulty:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It loops with &lt;tt&gt;while(Character.isDefined(test))&lt;/tt&gt;, however the Unicode data has gaps, currently with Java 15 the first gap is the code point 888, &lt;tt&gt;Character.isDefined(888) == false&lt;/tt&gt;.&lt;br/&gt;
Therefore this test never tries any higher code points. Looping up to, including &lt;tt&gt;Character.MAX_CODE_POINT&lt;/tt&gt; might be better.&lt;/li&gt;
	&lt;li&gt;Based on the comment next to the variable &lt;tt&gt;test&lt;/tt&gt;, it appears the author wanted to test supplementary code points as well, however by casting them to &lt;tt&gt;char&lt;/tt&gt; when creating the String, they are cutting off code points &amp;gt; &lt;tt&gt;\uFFFF&lt;/tt&gt;. It should instead convert the code point to a String like this:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Java 11
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toTest = &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toString(test);
&lt;span class=&quot;code-comment&quot;&gt;// Java &amp;lt; 11
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toTest = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toChars(test));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13352368">AMQ-8122</key>
            <summary>DataByteArrayInputStreamTest.testNonAscii() is faulty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="Marcono1234">Marcono1234</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jan 2021 22:55:47 +0000</created>
                <updated>Fri, 13 Sep 2024 13:09:10 +0000</updated>
                            <resolved>Fri, 13 Sep 2024 13:09:10 +0000</resolved>
                                                    <fixVersion>6.2.0</fixVersion>
                    <fixVersion>5.18.6</fixVersion>
                    <fixVersion>6.1.4</fixVersion>
                                    <component>KahaDB</component>
                    <component>Test Cases</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17881555" author="jira-bot" created="Fri, 13 Sep 2024 13:06:57 +0000"  >&lt;p&gt;Commit 736eb467e123be5296a93e81cf208faa6543601d in activemq&apos;s branch refs/heads/main from Aleksei Zotov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=736eb467e1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=736eb467e1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8122&quot; title=&quot;DataByteArrayInputStreamTest.testNonAscii() is faulty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8122&quot;&gt;&lt;del&gt;AMQ-8122&lt;/del&gt;&lt;/a&gt; - Fix DataByteArrayInputStreamTest&lt;/p&gt;</comment>
                            <comment id="17881556" author="jira-bot" created="Fri, 13 Sep 2024 13:06:57 +0000"  >&lt;p&gt;Commit dc6960de9145755ab8f566274b77f2c87565a92e in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=dc6960de91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=dc6960de91&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1291 from azotcsit/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8122&quot; title=&quot;DataByteArrayInputStreamTest.testNonAscii() is faulty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8122&quot;&gt;&lt;del&gt;AMQ-8122&lt;/del&gt;&lt;/a&gt;-main&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8122&quot; title=&quot;DataByteArrayInputStreamTest.testNonAscii() is faulty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8122&quot;&gt;&lt;del&gt;AMQ-8122&lt;/del&gt;&lt;/a&gt; - Fix DataByteArrayInputStreamTest&lt;/p&gt;</comment>
                            <comment id="17881557" author="jira-bot" created="Fri, 13 Sep 2024 13:07:40 +0000"  >&lt;p&gt;Commit 59b4fc93c932766c139789915bb4d61c78a1e566 in activemq&apos;s branch refs/heads/activemq-6.1.x from Aleksei Zotov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=59b4fc93c9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=59b4fc93c9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8122&quot; title=&quot;DataByteArrayInputStreamTest.testNonAscii() is faulty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8122&quot;&gt;&lt;del&gt;AMQ-8122&lt;/del&gt;&lt;/a&gt; - Fix DataByteArrayInputStreamTest&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 736eb467e123be5296a93e81cf208faa6543601d)&lt;/p&gt;</comment>
                            <comment id="17881559" author="jira-bot" created="Fri, 13 Sep 2024 13:08:09 +0000"  >&lt;p&gt;Commit 386c3edc58d26a8243cdacbb145dea253684ff8c in activemq&apos;s branch refs/heads/activemq-5.18.x from Aleksei Zotov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=386c3edc58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=386c3edc58&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8122&quot; title=&quot;DataByteArrayInputStreamTest.testNonAscii() is faulty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8122&quot;&gt;&lt;del&gt;AMQ-8122&lt;/del&gt;&lt;/a&gt; - Fix DataByteArrayInputStreamTest&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 736eb467e123be5296a93e81cf208faa6543601d)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12482661">AMQ-1911</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mlu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>