<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:48:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2939] Disable Spring 3 schema validation</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2939</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;With Activemq 5.3.2, I had this in my activemq.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
	xmlns:amq=&quot;http://activemq.apache.org/schema/core&quot; &lt;br/&gt;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
	xsi:schemaLocation=&quot;&lt;br/&gt;
    &lt;a href=&quot;http://activemq.apache.org/schema/core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core&lt;/a&gt;&lt;br/&gt;
        &lt;a href=&quot;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;http://camel.apache.org/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;http://camel.apache.org/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring/camel-spring.xsd&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt;
	&lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&lt;br/&gt;
	&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
	&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot;&lt;br/&gt;
	brokerName=&quot;broker1&quot; dataDirectory=&quot;${activemq.base}/data&quot; plugins=&quot;#myPlugin&quot;&amp;gt;&lt;br/&gt;
	&amp;lt;transportConnectors&amp;gt;&lt;br/&gt;
		&amp;lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;/transportConnectors&amp;gt;&lt;br/&gt;
&amp;lt;/broker&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;Relevant email thread.&lt;/p&gt;

&lt;p&gt;----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
From: chubrilo@gmail.com &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:chubrilo@gmail.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;chubrilo@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; On Behalf Of Dejan Bosanac&lt;br/&gt;
Sent: Thursday, September 23, 2010 4:19 AM&lt;br/&gt;
To: users@activemq.apache.org&lt;br/&gt;
Subject: Re: configuring plugins with activemq 5.4.1&lt;/p&gt;

&lt;p&gt;Hi Allen,&lt;/p&gt;

&lt;p&gt;can you raise an issue for this, as it is an obvious regression? It&apos;s probably due the fact that in 5.4 we&apos;re back to autogenerating schema.&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
Dejan Bosanac - &lt;a href=&quot;http://twitter.com/dejanb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://twitter.com/dejanb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Open Source Integration - &lt;a href=&quot;http://fusesource.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fusesource.com/&lt;/a&gt; ActiveMQ in Action - &lt;a href=&quot;http://www.manning.com/snyder/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.manning.com/snyder/&lt;/a&gt; Blog - &lt;a href=&quot;http://www.nighttale.net&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nighttale.net&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;On Wed, Sep 22, 2010 at 10:58 PM, Allen Reese &amp;lt;areese@yahoo-inc.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; The problem is plugins as an attribute of broker seems to be removed in the 5.4.1 xsd.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I want to configure the plugin once outside of the brokers, the reason is, I use an &amp;lt;import resource=&quot;brokers.xml&quot;&amp;gt;, and want to allow other people to reuse the plugin configuration without having to have it as part of their broker definition.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I guess I&apos;ll keep playing around as I have some other ideas of how to do this, but I&apos;m still confused if I setup my own xsd with an element for the plugin, how do I tie that to the plugin bean?&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; --Allen&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; From: Stan Lewis &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:slewis@fusesource.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;slewis@fusesource.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; Sent: Wednesday, September 22, 2010 3:10 PM&lt;br/&gt;
&amp;gt; To: users@activemq.apache.org&lt;br/&gt;
&amp;gt; Subject: Re: configuring plugins with activemq 5.4.1&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Should be able to do something like:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; &amp;lt;plugins&amp;gt;&lt;br/&gt;
&amp;gt; &#160; &amp;lt;bean xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
&amp;gt; id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;gt; &#160; &amp;lt;/bean&amp;gt;&lt;br/&gt;
&amp;gt; &amp;lt;/plugins&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; for this, there&apos;s some other examples here:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://activemq.apache.org/developing-plugins.html#DevelopingPlugins-C&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/developing-plugins.html#DevelopingPlugins-C&lt;/a&gt;&lt;br/&gt;
&amp;gt; onfiguringpluginswithoutcustomXML&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; On Wed, Sep 22, 2010 at 3:48 PM, Allen Reese &amp;lt;areese@yahoo-inc.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt;&amp;gt; With Activemq 5.3.2, I had this in my activemq.xml:&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xmlns:amq=&quot;http://activemq.apache.org/schema/core&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xsi:schemaLocation=&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://activemq.apache.org/schema/core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&lt;a href=&quot;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://camel.apache.org/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://camel.apache.org/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring/camel-spring.xsd&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;bean id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;/bean&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;brokerName=&quot;broker1&quot; dataDirectory=&quot;${activemq.base}/data&quot;&lt;br/&gt;
&amp;gt;&amp;gt; plugins=&quot;#myPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;transportConnectors&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;transportConnector name=&quot;openwire&quot;&lt;br/&gt;
&amp;gt;&amp;gt; uri=&quot;tcp://0.0.0.0:61616&quot; /&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;/transportConnectors&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;/broker&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;/beans&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; However, when I upgrade to 5.4.1, this no longer works as plugins is no longer supported as an attribute of the broker element.&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; I&apos;m not really certain how to wire in a custom plugin any more, can anyone provide some information on how to do this with the 5.4.1 schema?&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; Here was my first shot at it, but I know I&apos;m missing how to tie the bean to the namespace.&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xmlns:amq=&quot;http://activemq.apache.org/schema/core&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;xsi:schemaLocation=&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://activemq.apache.org/schema/core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&lt;a href=&quot;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://camel.apache.org/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://camel.apache.org/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring/camel-spring.xsd&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160;&lt;a href=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;bean id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;/bean&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;brokerName=&quot;broker1&quot;&lt;br/&gt;
&amp;gt;&amp;gt; dataDirectory=&quot;${activemq.base}/data&quot;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;plugins&amp;gt;&amp;lt;myPlugin&lt;br/&gt;
&amp;gt;&amp;gt; xmlns=&quot;http://yahoo.com/schema/java&quot;/&amp;gt;&amp;lt;/plugins&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;transportConnectors&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;transportConnector name=&quot;stomp&quot;&lt;br/&gt;
&amp;gt;&amp;gt; uri=&quot;tcp://0.0.0.0:61616&quot; /&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&amp;lt;/transportConnectors&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &#160; &#160; &#160; &#160;&amp;lt;/broker&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; &amp;lt;/beans&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; Thanks.&lt;br/&gt;
&amp;gt;&amp;gt;&lt;br/&gt;
&amp;gt;&amp;gt; --Allen Reese&lt;br/&gt;
&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL 4u8&lt;br/&gt;
JDK 1.6.0.23&lt;/p&gt;</environment>
        <key id="12483865">AMQ-2939</key>
            <summary>Disable Spring 3 schema validation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="areese">Allen Reese</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Sep 2010 16:36:28 +0000</created>
                <updated>Wed, 18 Apr 2012 09:55:05 +0000</updated>
                            <resolved>Wed, 18 Apr 2012 09:52:47 +0000</resolved>
                                    <version>5.4.0</version>
                    <version>5.4.1</version>
                                    <fixVersion>5.4.2</fixVersion>
                    <fixVersion>5.6.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12942924" author="areese" created="Thu, 23 Sep 2010 20:54:21 +0000"  >&lt;p&gt;Patch the shows the regression in 5.4.1&lt;br/&gt;
Applying to 5.3.2, shows it succeeds.&lt;/p&gt;

&lt;p&gt;Using ASF License as this is a direct copy of ActiveMQ code and config with 3 lines added.&lt;/p&gt;</comment>
                            <comment id="12943141" author="dejanb" created="Thu, 28 Oct 2010 09:37:08 +0000"  >&lt;p&gt;Adding some more side-effects of Spring 3 schema validation&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;in activemq.xml file I define the following configuration&lt;br/&gt;
&amp;lt;managementContext&amp;gt;&lt;br/&gt;
&amp;lt;managementContext createConnector=&quot;true&quot; connectorPort=&quot;${activemq.jmx.port}&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/managementContext&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;then I add some system properties on the command line of the JVM:&lt;br/&gt;
Java Runtime: Sun Microsystems Inc. 1.6.0_20 /usr/lib/jvm/java-6-sun-1.6.0.20/jre&lt;br/&gt;
 Heap sizes: current=253440k  free=250641k  max=506816k&lt;br/&gt;
   JVM args: -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Xms256M -Xmx512M -Dactivemq.instance=testrbr -Dactivemq.jmx.port=1099 -Dactivemq.jetty.port=8161 -Djava.util.logging.config.file=logging.properties -Dcom.sun.management.jmxremote -Dactivemq.classpath=/mnt/export/activemq/testrbr/conf;/usr/share/activemq/conf; -Dactivemq.home=/usr/share/activemq -Dactivemq.base=/mnt/export/activemq/testrbr&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Unfortunately this fails because of XML validation:&lt;br/&gt;
   Caused by: org.xml.sax.SAXParseException: cvc-datatype-valid.1.2.1: &apos;${activemq.jmx.port}&apos; is not a valid value for &apos;integer&apos;.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12943145" author="dejanb" created="Thu, 28 Oct 2010 09:42:28 +0000"  >&lt;p&gt;The root cause of all these problems is schema validation introduced in Spring 3. The solution would be to make this validation at least optional. I had a quick look a while ago, but didn&apos;t find a way to do it, so it requires additional research.&lt;/p&gt;</comment>
                            <comment id="12943152" author="gtully" created="Thu, 28 Oct 2010 12:50:23 +0000"  >&lt;p&gt;For the ManagementContext, in r1028278 I have made the schema use a string value for the port attributes such that they can use property values even with validation.&lt;br/&gt;
Validation should still be optional though.&lt;/p&gt;</comment>
                            <comment id="12943187" author="rborer" created="Tue, 9 Nov 2010 12:33:25 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://jira.springframework.org/browse/SPR-5014?focusedCommentId=48116&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_48116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.springframework.org/browse/SPR-5014?focusedCommentId=48116&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_48116&lt;/a&gt; there seems to be a way to programatically disable XML validation when creating the application context. I was not able the correct piece of code to change in ActiveMQ to test this unfortunately.&lt;/p&gt;</comment>
                            <comment id="12943177" author="gtully" created="Tue, 9 Nov 2010 12:41:33 +0000"  >&lt;p&gt;@Reynald &lt;br/&gt;
You probably need to introduce a subclass of the Xbean ResourceXmlApplicationContext to disable the validation.&lt;/p&gt;

&lt;p&gt;The entry point is: org.apache.activemq.xbean.XBeanBrokerFactory#createApplicationContext in activemq-core&lt;/p&gt;</comment>
                            <comment id="12943201" author="gtully" created="Thu, 11 Nov 2010 18:43:17 +0000"  >&lt;p&gt;r1034032&lt;/p&gt;

&lt;p&gt;add validate query parameter support to the xbean broker factory so that schema validation can be disabled.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;./bin/activemq xbean:conf/activemq.xml?validate=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12943232" author="adry" created="Fri, 19 Nov 2010 01:04:29 +0000"  >&lt;p&gt;@Gary Tully : &lt;br/&gt;
i was using apache-activemq-5.3.2 with configured plugins and everything is working fine. i upgraded to apache-activemq-5.4.1 and i faced the following exception :&lt;br/&gt;
org.xml.sax.SAXParseException: cvc-complex-type.3.2.2: Attribute &apos;plugins&apos; is not allowed to appear in element &apos;broker&apos;.&lt;/p&gt;

&lt;p&gt;i am using embedded broker :&lt;br/&gt;
 BrokerService broker = BrokerFactory.createBroker(&quot;xbean:activemq.xml&quot;);&lt;/p&gt;

&lt;p&gt;i don&apos;t know how to configure validate = false for spring 3.0.&lt;br/&gt;
i see it will fixed in 5.5.0 , but i don&apos;t have time waiting it. is there any workaround for it ??&lt;/p&gt;</comment>
                            <comment id="12943236" author="areese" created="Fri, 19 Nov 2010 01:28:27 +0000"  >&lt;p&gt;You can use the &amp;lt;plugins&amp;gt; element instead.&lt;/p&gt;

&lt;p&gt;I ended up doing this:&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;


&lt;p&gt;	&amp;lt;broker brokerName=&quot;broker&quot; dataDirectory=&quot;${activemq.base}/data&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;plugins xmlns:spring=&quot;http://www.springframework.org/schema/beans&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;spring:ref local=&quot;myPlugin&quot; /&amp;gt;&lt;br/&gt;
 		&amp;lt;/plugins&amp;gt;&lt;br/&gt;
	&amp;lt;/broker&amp;gt;&lt;/p&gt;

&lt;p&gt;Instead of:&lt;br/&gt;
&amp;lt;bean id=&quot;myPlugin&quot; class=&quot;com.yahoo.MyPlugin&quot;&amp;gt;&lt;br/&gt;
&amp;lt;property name=&quot;disabled&quot;&amp;gt;&lt;br/&gt;
&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;


&lt;p&gt;	&amp;lt;broker brokerName=&quot;broker&quot; dataDirectory=&quot;${activemq.base}/data&quot; plugins=&quot;#myPlugin&quot;&amp;gt;&lt;br/&gt;
	&amp;lt;/broker&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12970159" author="gtully" created="Fri, 10 Dec 2010 13:15:34 +0000"  >&lt;p&gt;embedded xbean url in vm transport does not work with the validation=false query parameter. The parameter is gobbled up by over eater query parsing. Example of uri that won&apos;t work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost?brokerConfig=xbean:appendium-esb-server-activemq-broker-config.xml?validate=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Points to a problem in URISupport, the diff below will fix. &lt;br/&gt;
There are some tests(FailoverUriTest) that are dependent on the broken behavour so this needs some care to maintain backward compatibility if possible.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: src/main/java/org/apache/activemq/util/URISupport.java
===================================================================
--- src/main/java/org/apache/activemq/util/URISupport.java	(revision 1044145)
+++ src/main/java/org/apache/activemq/util/URISupport.java	(working copy)
@@ -101,9 +101,18 @@
         }
     }
 
+    /**
+     * any leading &lt;span class=&quot;code-quote&quot;&gt;&apos;?&apos;&lt;/span&gt; should already be stripped off
+     */
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; parseQuery(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; URISyntaxException {
         &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
-            uri = uri.substring(uri.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;?&quot;&lt;/span&gt;) + 1); &lt;span class=&quot;code-comment&quot;&gt;// get only the relevant part of the query
&lt;/span&gt;+            &lt;span class=&quot;code-comment&quot;&gt;// get only the relevant part of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; query string
&lt;/span&gt;+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;)&apos;&lt;/span&gt;) != -1) {
+                uri = uri.substring(0, uri.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;)&apos;&lt;/span&gt;));
+            }
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;?&apos;&lt;/span&gt;) != -1) {
+                uri = uri.substring(0, uri.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;?&apos;&lt;/span&gt;)); 
+            }
             Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; rc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                 &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] parameters = uri.split(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;amp;&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12970160" author="gtully" created="Fri, 10 Dec 2010 13:20:49 +0000"  >&lt;p&gt;Patch with fix that needs validation of usage pending unit test investigations.&lt;/p&gt;</comment>
                            <comment id="13256400" author="gtully" created="Wed, 18 Apr 2012 09:52:48 +0000"  >&lt;p&gt;The changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-3570&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-3570&lt;/a&gt; to remove the ordering constraint  via xbean 3.9 will sort this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12483639">AMQ-2709</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12529046">AMQ-3570</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12465982" name="AMQ-2939-vm-query-parse.patch" size="2055" author="gtully" created="Fri, 10 Dec 2010 13:20:49 +0000"/>
                            <attachment id="12461861" name="amq-2939.patch" size="6425" author="areese" created="Thu, 23 Sep 2010 20:54:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>