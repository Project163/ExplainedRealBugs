<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:01:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-4676] ActiveMQ not compliant with JSR-250 (@PostConstruct, @PreDestroy)</title>
                <link>https://issues.apache.org/jira/browse/AMQ-4676</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;ActiveMQ is not compliant with JSR-250, which states:&lt;br/&gt;
2.5 javax.annotation.PostConstruct:&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The method MUST NOT throw a checked exception.&lt;/li&gt;
	&lt;li&gt;If the method throws an unchecked exception the class MUST NOT be put into&lt;br/&gt;
service. In the case of EJBs the method annotated with PostConstruct can&lt;br/&gt;
handle exceptions and cleanup before the bean instance is discarded.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2.6 javax.annotation.PreDestroy&lt;br/&gt;
(same as above)&lt;/p&gt;

&lt;p&gt;An exception was thrown when attempting to deploy an application using the activemq-rar-5.8 on GF 4.0, but I believe it&apos;s safe to say that this can occur in different containers - if not now, potentially between container releases.  &lt;/p&gt;

&lt;p&gt;Included are patches that fix this in all ActiveMQ components.  Most check exceptions thrown were Exception, which was changed to RuntimeException (trapped and wrapped).  There were also IOExceptions being thrown, in which case ActiveMQ-broker now has an IORuntimeException class that is thrown.  Any downstream catches that handled the check exceptions have been converted to catch the RuntimeExceptions.&lt;/p&gt;

&lt;p&gt;This was also reported under &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-4673&quot; title=&quot;Application that uses activemq-camel fails deploying to GlassFish v4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-4673&quot;&gt;&lt;del&gt;AMQ-4673&lt;/del&gt;&lt;/a&gt;, but the scope of that issue was a lot more limited.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662844">AMQ-4676</key>
            <summary>ActiveMQ not compliant with JSR-250 (@PostConstruct, @PreDestroy)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smsiebe">Steve Siebert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 12:41:01 +0000</created>
                <updated>Thu, 29 Aug 2013 13:43:52 +0000</updated>
                            <resolved>Fri, 23 Aug 2013 21:28:16 +0000</resolved>
                                    <version>5.8.0</version>
                                    <fixVersion>5.9.0</fixVersion>
                                    <component>Broker</component>
                    <component>Camel</component>
                    <component>STOMP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13734742" author="gtully" created="Fri, 9 Aug 2013 12:58:40 +0000"  >&lt;p&gt;@Steve thank for the patch. It is great to see an problem report with a solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I had a quick peek at the broker diff, there are a bunch of white space/formatting changes that make it difficult to easily see what has changed but it seems sensible.&lt;br/&gt;
one thought; rather than change the signature of the existing methods that folks may depend on, it may be better to move the annotations to new wrapper methods with the suppressed/modified exceptions. &lt;/p&gt;</comment>
                            <comment id="13734747" author="smsiebe" created="Fri, 9 Aug 2013 13:07:39 +0000"  >&lt;p&gt;That&apos;s a really good idea.  Would you like me to provide a patch with that solution?&lt;/p&gt;</comment>
                            <comment id="13734766" author="gtully" created="Fri, 9 Aug 2013 13:28:12 +0000"  >&lt;p&gt;yes please!&lt;/p&gt;</comment>
                            <comment id="13734884" author="smsiebe" created="Fri, 9 Aug 2013 15:16:34 +0000"  >&lt;p&gt;Attached new patches that does not cause potential backwards incompatible signature changes.&lt;/p&gt;</comment>
                            <comment id="13749006" author="tabish121" created="Fri, 23 Aug 2013 21:28:16 +0000"  >&lt;p&gt;Made changes to trunk based on these patches, code has changed a bit since 5.8.0.  Might want to double check that I got them all. &lt;/p&gt;</comment>
                            <comment id="13749230" author="smsiebe" created="Sat, 24 Aug 2013 01:44:02 +0000"  >&lt;p&gt;Just wanted to verify, I checked out the latest trunk and looks like you got them all.  Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12666053">AMQ-4698</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12597090" name="activemq-broker_AMQ-4676v2.diff" size="6624" author="smsiebe" created="Fri, 9 Aug 2013 15:16:34 +0000"/>
                            <attachment id="12597091" name="activemq-camel_AMQ-4676v2.diff" size="1991" author="smsiebe" created="Fri, 9 Aug 2013 15:16:34 +0000"/>
                            <attachment id="12597122" name="activemq-spring_AMQ-4676v2.diff" size="15704" author="smsiebe" created="Fri, 9 Aug 2013 17:39:55 +0000"/>
                            <attachment id="12597093" name="activemq-stomp_AMQ-4676v2.diff" size="1415" author="smsiebe" created="Fri, 9 Aug 2013 15:16:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n4jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>