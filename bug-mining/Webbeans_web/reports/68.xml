<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:16:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OWB-1061] Surplus and missing @Initialized and @Destroyed events</title>
                <link>https://issues.apache.org/jira/browse/OWB-1061</link>
                <project id="12310844" key="OWB">OpenWebBeans</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Scenario&quot;&gt;&lt;/a&gt;Scenario&lt;/h3&gt;

&lt;p&gt;There is a bean with two observer methods observing &lt;tt&gt;@Initialized(ApplicationScoped.class)&lt;/tt&gt; and &lt;tt&gt;@Destroyed(ApplicationScoped.class)&lt;/tt&gt; in a stand-alone CDI container launched via &lt;tt&gt;deltaspike-cdictrl-owb&lt;/tt&gt;, for lack of a native OWB API.&lt;/p&gt;

&lt;p&gt;The container is started and stopped as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        CdiContainer container = CdiContainerLoader.getCdiContainer();
        container.boot();
        container.getContextControl().startContexts();
        container.getContextControl().stopContexts();
        container.shutdown();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h3&gt;&lt;a name=&quot;Expectedbehaviour&quot;&gt;&lt;/a&gt;Expected behaviour&lt;/h3&gt;

&lt;p&gt;The &lt;tt&gt;@Initialized&lt;/tt&gt; and &lt;tt&gt;@Destroyed&lt;/tt&gt; events are observed once each, in this order.&lt;/p&gt;

&lt;p&gt;(Weld 2.2.11.Final does behave as expected, both via &lt;tt&gt;deltaspike-cdictrl-weld&lt;/tt&gt;, and using the native Weld SE API.)&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;Actualbehaviour&quot;&gt;&lt;/a&gt;Actual behaviour&lt;/h3&gt;

&lt;p&gt;The &lt;tt&gt;@Initialized&lt;/tt&gt; event is observed three times, twice on startup, once on shutdown. The &lt;tt&gt;@Destroyed&lt;/tt&gt; event is not observed at all.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824362">OWB-1061</key>
            <summary>Surplus and missing @Initialized and @Destroyed events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="struberg">Mark Struberg</assignee>
                                    <reporter username="hwellmann">Harald Wellmann</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 17:57:00 +0000</created>
                <updated>Mon, 15 Jun 2015 07:54:55 +0000</updated>
                            <resolved>Mon, 25 May 2015 22:28:26 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>Lifecycle</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14514559" author="hwellmann" created="Mon, 27 Apr 2015 18:03:03 +0000"  >&lt;p&gt;I was going to attach a test case, but I don&apos;t have permissions to do so - is that intentional?&lt;/p&gt;</comment>
                            <comment id="14514783" author="struberg" created="Mon, 27 Apr 2015 19:31:54 +0000"  >&lt;p&gt;Hi Harald!&lt;/p&gt;

&lt;p&gt;Thanks for this report! You should be able to attach files. I&apos;m not aware that this got changed. Plz try again and if it still doesn&apos;t work then I&apos;ll gonna add you to our contributors grp.&lt;/p&gt;</comment>
                            <comment id="14514792" author="hwellmann" created="Mon, 27 Apr 2015 19:34:30 +0000"  >&lt;p&gt;Ok, so here&apos;s a small sample.&lt;/p&gt;</comment>
                            <comment id="14517934" author="rsandtner" created="Tue, 28 Apr 2015 20:10:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;an event with qualifier @Destroyed(ApplicationScoped.class) is fired when the application is destroyed&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;@Observes @Destroyed(ApplicationScoped.class) can not be done in an @ApplicationScoped bean because it is already destroyed&lt;/p&gt;</comment>
                            <comment id="14558485" author="hwellmann" created="Mon, 25 May 2015 19:44:51 +0000"  >&lt;p&gt;Hmmm... Retested with rev 1681576: Now &lt;tt&gt;@Initialized&lt;/tt&gt; is observed once and &lt;tt&gt;@Destroyed&lt;/tt&gt; is observed three times.&lt;/p&gt;</comment>
                            <comment id="14558543" author="struberg" created="Mon, 25 May 2015 21:46:29 +0000"  >&lt;p&gt;txs Harald, will check again.&lt;/p&gt;</comment>
                            <comment id="14558555" author="struberg" created="Mon, 25 May 2015 22:28:26 +0000"  >&lt;p&gt;should now really be fixed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14585583" author="struberg" created="Mon, 15 Jun 2015 07:54:55 +0000"  >&lt;p&gt;shipped with &lt;a href=&quot;https://issues.apache.org/jira/browse/OWB-1&quot; title=&quot;move source code to incubator svn repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OWB-1&quot;&gt;&lt;del&gt;OWB-1&lt;/del&gt;&lt;/a&gt;.6.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12728491" name="lifecycle-event.zip" size="4713" author="hwellmann" created="Mon, 27 Apr 2015 19:34:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dtj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>