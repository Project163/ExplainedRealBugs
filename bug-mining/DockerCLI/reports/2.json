{"url":"https://api.github.com/repos/docker/cli/issues/3723","repository_url":"https://api.github.com/repos/docker/cli","labels_url":"https://api.github.com/repos/docker/cli/issues/3723/labels{/name}","comments_url":"https://api.github.com/repos/docker/cli/issues/3723/comments","events_url":"https://api.github.com/repos/docker/cli/issues/3723/events","html_url":"https://github.com/docker/cli/issues/3723","id":1322214237,"node_id":"I_kwDOBT74_c5Oz2Nd","number":3723,"title":"Docker connection to containerd not working","user":{"login":"krotz-dieter","id":47243396,"node_id":"MDQ6VXNlcjQ3MjQzMzk2","avatar_url":"https://avatars.githubusercontent.com/u/47243396?v=4","gravatar_id":"","url":"https://api.github.com/users/krotz-dieter","html_url":"https://github.com/krotz-dieter","followers_url":"https://api.github.com/users/krotz-dieter/followers","following_url":"https://api.github.com/users/krotz-dieter/following{/other_user}","gists_url":"https://api.github.com/users/krotz-dieter/gists{/gist_id}","starred_url":"https://api.github.com/users/krotz-dieter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krotz-dieter/subscriptions","organizations_url":"https://api.github.com/users/krotz-dieter/orgs","repos_url":"https://api.github.com/users/krotz-dieter/repos","events_url":"https://api.github.com/users/krotz-dieter/events{/privacy}","received_events_url":"https://api.github.com/users/krotz-dieter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":585916056,"node_id":"MDU6TGFiZWw1ODU5MTYwNTY=","url":"https://api.github.com/repos/docker/cli/labels/kind/question","name":"kind/question","color":"EBEFC9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-29T12:50:51Z","updated_at":"2022-07-29T13:24:43Z","closed_at":"2022-07-29T12:56:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\r\n\r\nwould like to connect the docker cli to containerd containerd runtime in Windows.\r\nThe same feature exists in Linux and is achieved by only connecting the dockerd\r\nthrough --containerd parameter to the running containerd instance.\r\n\r\nUnder Windows this does not work:\r\n \r\nContainerd is running as a service on Windows 10, the endpoint:\r\n     \"containerdEndpoint\": \"\\\\\\\\.\\\\pipe\\\\containerd-containerd\"\r\nis the the used (crictl info).\r\n\r\nCalling\r\n\r\n    dockerd.exe --containerd \"\\\\.\\\\pipe\\\\containerd-containerd\"\r\n\r\nand then doing \r\n\r\n    docker images\r\n\r\ndoes not show the same images as through crictl images.\r\nAlso for example \r\n\r\n    --containerd \"\\\\.\\\\pipe\\\\containerd-containerd\" --containerd-namespace \"k8s.io\" \r\n\r\ndoes not help, since the containerd namespace used is \"k8s.io\".\r\nTried many other options, no success.\r\n\r\nDocker version is 20.10.17 and of containerd 1.6.6.\r\n\r\nAttached is also the log of the docker daemon.\r\n\r\nMany thanks.\r\n[dockerd.log](https://github.com/docker/cli/files/9219990/dockerd.log)\r\n\r\n","closed_by":{"login":"thaJeztah","id":1804568,"node_id":"MDQ6VXNlcjE4MDQ1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/1804568?v=4","gravatar_id":"","url":"https://api.github.com/users/thaJeztah","html_url":"https://github.com/thaJeztah","followers_url":"https://api.github.com/users/thaJeztah/followers","following_url":"https://api.github.com/users/thaJeztah/following{/other_user}","gists_url":"https://api.github.com/users/thaJeztah/gists{/gist_id}","starred_url":"https://api.github.com/users/thaJeztah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thaJeztah/subscriptions","organizations_url":"https://api.github.com/users/thaJeztah/orgs","repos_url":"https://api.github.com/users/thaJeztah/repos","events_url":"https://api.github.com/users/thaJeztah/events{/privacy}","received_events_url":"https://api.github.com/users/thaJeztah/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/docker/cli/issues/3723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/docker/cli/issues/3723/timeline","performed_via_github_app":null,"state_reason":"completed"}