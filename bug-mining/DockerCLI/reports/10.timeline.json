[{"actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T08:51:24Z","updated_at":"2018-09-11T08:51:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/docker/cli/issues/1355","repository_url":"https://api.github.com/repos/docker/cli","labels_url":"https://api.github.com/repos/docker/cli/issues/1355/labels{/name}","comments_url":"https://api.github.com/repos/docker/cli/issues/1355/comments","events_url":"https://api.github.com/repos/docker/cli/issues/1355/events","html_url":"https://github.com/docker/cli/pull/1355","id":358252981,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE0MDcwNDkz","number":1355,"title":"Drop experimental tag for manifest commands","user":{"login":"dims","id":23304,"node_id":"MDQ6VXNlcjIzMzA0","avatar_url":"https://avatars.githubusercontent.com/u/23304?v=4","gravatar_id":"","url":"https://api.github.com/users/dims","html_url":"https://github.com/dims","followers_url":"https://api.github.com/users/dims/followers","following_url":"https://api.github.com/users/dims/following{/other_user}","gists_url":"https://api.github.com/users/dims/gists{/gist_id}","starred_url":"https://api.github.com/users/dims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dims/subscriptions","organizations_url":"https://api.github.com/users/dims/orgs","repos_url":"https://api.github.com/users/dims/repos","events_url":"https://api.github.com/users/dims/events{/privacy}","received_events_url":"https://api.github.com/users/dims/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":585916070,"node_id":"MDU6TGFiZWw1ODU5MTYwNzA=","url":"https://api.github.com/repos/docker/cli/labels/status/1-design-review","name":"status/1-design-review","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/docker/cli/milestones/25","html_url":"https://github.com/docker/cli/milestone/25","labels_url":"https://api.github.com/repos/docker/cli/milestones/25/labels","id":4304206,"node_id":"MDk6TWlsZXN0b25lNDMwNDIwNg==","number":25,"title":"20.10.0","description":"https://docs.docker.com/engine/release-notes/#20100","creator":{"login":"thaJeztah","id":1804568,"node_id":"MDQ6VXNlcjE4MDQ1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/1804568?v=4","gravatar_id":"","url":"https://api.github.com/users/thaJeztah","html_url":"https://github.com/thaJeztah","followers_url":"https://api.github.com/users/thaJeztah/followers","following_url":"https://api.github.com/users/thaJeztah/following{/other_user}","gists_url":"https://api.github.com/users/thaJeztah/gists{/gist_id}","starred_url":"https://api.github.com/users/thaJeztah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thaJeztah/subscriptions","organizations_url":"https://api.github.com/users/thaJeztah/orgs","repos_url":"https://api.github.com/users/thaJeztah/repos","events_url":"https://api.github.com/users/thaJeztah/events{/privacy}","received_events_url":"https://api.github.com/users/thaJeztah/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":403,"state":"closed","created_at":"2019-05-11T00:32:12Z","updated_at":"2021-01-05T10:01:20Z","due_on":"2020-12-09T08:00:00Z","closed_at":"2020-12-09T11:51:10Z"},"comments":31,"created_at":"2018-09-08T01:38:11Z","updated_at":"2020-10-03T14:54:31Z","closed_at":"2020-10-02T14:21:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":88013053,"node_id":"MDEwOlJlcG9zaXRvcnk4ODAxMzA1Mw==","name":"cli","full_name":"docker/cli","private":false,"owner":{"login":"docker","id":5429470,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0Mjk0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5429470?v=4","gravatar_id":"","url":"https://api.github.com/users/docker","html_url":"https://github.com/docker","followers_url":"https://api.github.com/users/docker/followers","following_url":"https://api.github.com/users/docker/following{/other_user}","gists_url":"https://api.github.com/users/docker/gists{/gist_id}","starred_url":"https://api.github.com/users/docker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/docker/subscriptions","organizations_url":"https://api.github.com/users/docker/orgs","repos_url":"https://api.github.com/users/docker/repos","events_url":"https://api.github.com/users/docker/events{/privacy}","received_events_url":"https://api.github.com/users/docker/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/docker/cli","description":"The Docker CLI","fork":false,"url":"https://api.github.com/repos/docker/cli","forks_url":"https://api.github.com/repos/docker/cli/forks","keys_url":"https://api.github.com/repos/docker/cli/keys{/key_id}","collaborators_url":"https://api.github.com/repos/docker/cli/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/docker/cli/teams","hooks_url":"https://api.github.com/repos/docker/cli/hooks","issue_events_url":"https://api.github.com/repos/docker/cli/issues/events{/number}","events_url":"https://api.github.com/repos/docker/cli/events","assignees_url":"https://api.github.com/repos/docker/cli/assignees{/user}","branches_url":"https://api.github.com/repos/docker/cli/branches{/branch}","tags_url":"https://api.github.com/repos/docker/cli/tags","blobs_url":"https://api.github.com/repos/docker/cli/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/docker/cli/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/docker/cli/git/refs{/sha}","trees_url":"https://api.github.com/repos/docker/cli/git/trees{/sha}","statuses_url":"https://api.github.com/repos/docker/cli/statuses/{sha}","languages_url":"https://api.github.com/repos/docker/cli/languages","stargazers_url":"https://api.github.com/repos/docker/cli/stargazers","contributors_url":"https://api.github.com/repos/docker/cli/contributors","subscribers_url":"https://api.github.com/repos/docker/cli/subscribers","subscription_url":"https://api.github.com/repos/docker/cli/subscription","commits_url":"https://api.github.com/repos/docker/cli/commits{/sha}","git_commits_url":"https://api.github.com/repos/docker/cli/git/commits{/sha}","comments_url":"https://api.github.com/repos/docker/cli/comments{/number}","issue_comment_url":"https://api.github.com/repos/docker/cli/issues/comments{/number}","contents_url":"https://api.github.com/repos/docker/cli/contents/{+path}","compare_url":"https://api.github.com/repos/docker/cli/compare/{base}...{head}","merges_url":"https://api.github.com/repos/docker/cli/merges","archive_url":"https://api.github.com/repos/docker/cli/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/docker/cli/downloads","issues_url":"https://api.github.com/repos/docker/cli/issues{/number}","pulls_url":"https://api.github.com/repos/docker/cli/pulls{/number}","milestones_url":"https://api.github.com/repos/docker/cli/milestones{/number}","notifications_url":"https://api.github.com/repos/docker/cli/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/docker/cli/labels{/name}","releases_url":"https://api.github.com/repos/docker/cli/releases{/id}","deployments_url":"https://api.github.com/repos/docker/cli/deployments","created_at":"2017-04-12T05:27:42Z","updated_at":"2025-11-09T20:24:49Z","pushed_at":"2025-11-07T01:23:09Z","git_url":"git://github.com/docker/cli.git","ssh_url":"git@github.com:docker/cli.git","clone_url":"https://github.com/docker/cli.git","svn_url":"https://github.com/docker/cli","homepage":null,"size":197740,"stargazers_count":5544,"watchers_count":5544,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2054,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":823,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["cli","docker"],"visibility":"public","forks":2054,"open_issues":823,"watchers":5544,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/docker/cli/pulls/1355","html_url":"https://github.com/docker/cli/pull/1355","diff_url":"https://github.com/docker/cli/pull/1355.diff","patch_url":"https://github.com/docker/cli/pull/1355.patch","merged_at":null},"body":"Signed-off-by: Davanum Srinivas davanum@gmail.com\r\n\r\n<!--\r\nPlease make sure you've read and understood our contributing guidelines;\r\nhttps://github.com/docker/cli/blob/master/CONTRIBUTING.md\r\n\r\n** Make sure all your commits include a signature generated with `git commit -s` **\r\n\r\nFor additional information on our contributing process, read our contributing\r\nguide https://docs.docker.com/opensource/code/\r\n\r\nIf this is a bug fix, make sure your description includes \"fixes #xxxx\", or\r\n\"closes #xxxx\"\r\n\r\nPlease provide the following information:\r\n-->\r\n\r\n**- What I did**\r\n\r\nSome of us working on Kubernetes have been using the docker manifest\r\nexperimental commands to build images for some time now. The last\r\nproblem we had was fixed by one of the commits a few months ago:\r\nhttps://github.com/docker/cli/commit/69e1743e3d05e487ad8fc6d665b75f5b5d28b76c\r\n\r\nCould we please promote these commands from experimental to GA\r\n\r\n**- How I did it**\r\n\r\nDelete the annotation for the command that sets it to experimental\r\n\r\n**- How to verify it**\r\n\r\nJust run `docker manifest` commands without the config.json or environment flag for experimental mode\r\n\r\n**- Description for the changelog**\r\n<!--\r\nWrite a short (one line) summary that describes the changes in this\r\npull request for inclusion in the changelog:\r\n-->\r\ndocker manifest commands are now no longer considered experimental and available for general use\r\n\r\n**- A picture of a cute animal (not mandatory but encouraged)**\r\n\r\n![2282173](https://user-images.githubusercontent.com/23304/45248973-47b3fb80-b2e6-11e8-8fe0-f68dbdf842fd.jpg)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/1355/reactions","total_count":6,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/docker/cli/issues/1355/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420311382","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420311382","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420311382,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDMxMTM4Mg==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T15:17:50Z","updated_at":"2018-09-11T15:17:50Z","body":"Taking a look","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420311382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T16:26:28Z","updated_at":"2018-09-11T16:26:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/moby/moby/issues/37619","repository_url":"https://api.github.com/repos/moby/moby","labels_url":"https://api.github.com/repos/moby/moby/issues/37619/labels{/name}","comments_url":"https://api.github.com/repos/moby/moby/issues/37619/comments","events_url":"https://api.github.com/repos/moby/moby/issues/37619/events","html_url":"https://github.com/moby/moby/pull/37619","id":349275495,"node_id":"MDExOlB1bGxSZXF1ZXN0MjA3NDMxODc5","number":37619,"title":"Ignore permission error when accessing certs.d directory","user":{"login":"dims","id":23304,"node_id":"MDQ6VXNlcjIzMzA0","avatar_url":"https://avatars.githubusercontent.com/u/23304?v=4","gravatar_id":"","url":"https://api.github.com/users/dims","html_url":"https://github.com/dims","followers_url":"https://api.github.com/users/dims/followers","following_url":"https://api.github.com/users/dims/following{/other_user}","gists_url":"https://api.github.com/users/dims/gists{/gist_id}","starred_url":"https://api.github.com/users/dims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dims/subscriptions","organizations_url":"https://api.github.com/users/dims/orgs","repos_url":"https://api.github.com/users/dims/repos","events_url":"https://api.github.com/users/dims/events{/privacy}","received_events_url":"https://api.github.com/users/dims/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":175375407,"node_id":"MDU6TGFiZWwxNzUzNzU0MDc=","url":"https://api.github.com/repos/moby/moby/labels/status/2-code-review","name":"status/2-code-review","color":"fad8c7","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"MHBauer","id":13337345,"node_id":"MDQ6VXNlcjEzMzM3MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/13337345?v=4","gravatar_id":"","url":"https://api.github.com/users/MHBauer","html_url":"https://github.com/MHBauer","followers_url":"https://api.github.com/users/MHBauer/followers","following_url":"https://api.github.com/users/MHBauer/following{/other_user}","gists_url":"https://api.github.com/users/MHBauer/gists{/gist_id}","starred_url":"https://api.github.com/users/MHBauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MHBauer/subscriptions","organizations_url":"https://api.github.com/users/MHBauer/orgs","repos_url":"https://api.github.com/users/MHBauer/repos","events_url":"https://api.github.com/users/MHBauer/events{/privacy}","received_events_url":"https://api.github.com/users/MHBauer/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MHBauer","id":13337345,"node_id":"MDQ6VXNlcjEzMzM3MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/13337345?v=4","gravatar_id":"","url":"https://api.github.com/users/MHBauer","html_url":"https://github.com/MHBauer","followers_url":"https://api.github.com/users/MHBauer/followers","following_url":"https://api.github.com/users/MHBauer/following{/other_user}","gists_url":"https://api.github.com/users/MHBauer/gists{/gist_id}","starred_url":"https://api.github.com/users/MHBauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MHBauer/subscriptions","organizations_url":"https://api.github.com/users/MHBauer/orgs","repos_url":"https://api.github.com/users/MHBauer/repos","events_url":"https://api.github.com/users/MHBauer/events{/privacy}","received_events_url":"https://api.github.com/users/MHBauer/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":16,"created_at":"2018-08-09T20:20:41Z","updated_at":"2018-11-08T12:27:45Z","closed_at":"2018-11-08T12:23:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":7691631,"node_id":"MDEwOlJlcG9zaXRvcnk3NjkxNjMx","name":"moby","full_name":"moby/moby","private":false,"owner":{"login":"moby","id":27259197,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI3MjU5MTk3","avatar_url":"https://avatars.githubusercontent.com/u/27259197?v=4","gravatar_id":"","url":"https://api.github.com/users/moby","html_url":"https://github.com/moby","followers_url":"https://api.github.com/users/moby/followers","following_url":"https://api.github.com/users/moby/following{/other_user}","gists_url":"https://api.github.com/users/moby/gists{/gist_id}","starred_url":"https://api.github.com/users/moby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moby/subscriptions","organizations_url":"https://api.github.com/users/moby/orgs","repos_url":"https://api.github.com/users/moby/repos","events_url":"https://api.github.com/users/moby/events{/privacy}","received_events_url":"https://api.github.com/users/moby/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/moby/moby","description":"The Moby Project - a collaborative project for the container ecosystem to assemble container-based systems","fork":false,"url":"https://api.github.com/repos/moby/moby","forks_url":"https://api.github.com/repos/moby/moby/forks","keys_url":"https://api.github.com/repos/moby/moby/keys{/key_id}","collaborators_url":"https://api.github.com/repos/moby/moby/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/moby/moby/teams","hooks_url":"https://api.github.com/repos/moby/moby/hooks","issue_events_url":"https://api.github.com/repos/moby/moby/issues/events{/number}","events_url":"https://api.github.com/repos/moby/moby/events","assignees_url":"https://api.github.com/repos/moby/moby/assignees{/user}","branches_url":"https://api.github.com/repos/moby/moby/branches{/branch}","tags_url":"https://api.github.com/repos/moby/moby/tags","blobs_url":"https://api.github.com/repos/moby/moby/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/moby/moby/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/moby/moby/git/refs{/sha}","trees_url":"https://api.github.com/repos/moby/moby/git/trees{/sha}","statuses_url":"https://api.github.com/repos/moby/moby/statuses/{sha}","languages_url":"https://api.github.com/repos/moby/moby/languages","stargazers_url":"https://api.github.com/repos/moby/moby/stargazers","contributors_url":"https://api.github.com/repos/moby/moby/contributors","subscribers_url":"https://api.github.com/repos/moby/moby/subscribers","subscription_url":"https://api.github.com/repos/moby/moby/subscription","commits_url":"https://api.github.com/repos/moby/moby/commits{/sha}","git_commits_url":"https://api.github.com/repos/moby/moby/git/commits{/sha}","comments_url":"https://api.github.com/repos/moby/moby/comments{/number}","issue_comment_url":"https://api.github.com/repos/moby/moby/issues/comments{/number}","contents_url":"https://api.github.com/repos/moby/moby/contents/{+path}","compare_url":"https://api.github.com/repos/moby/moby/compare/{base}...{head}","merges_url":"https://api.github.com/repos/moby/moby/merges","archive_url":"https://api.github.com/repos/moby/moby/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/moby/moby/downloads","issues_url":"https://api.github.com/repos/moby/moby/issues{/number}","pulls_url":"https://api.github.com/repos/moby/moby/pulls{/number}","milestones_url":"https://api.github.com/repos/moby/moby/milestones{/number}","notifications_url":"https://api.github.com/repos/moby/moby/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/moby/moby/labels{/name}","releases_url":"https://api.github.com/repos/moby/moby/releases{/id}","deployments_url":"https://api.github.com/repos/moby/moby/deployments","created_at":"2013-01-18T18:10:57Z","updated_at":"2025-11-09T19:00:09Z","pushed_at":"2025-11-07T19:15:35Z","git_url":"git://github.com/moby/moby.git","ssh_url":"git@github.com:moby/moby.git","clone_url":"https://github.com/moby/moby.git","svn_url":"https://github.com/moby/moby","homepage":"https://mobyproject.org/","size":291780,"stargazers_count":71032,"watchers_count":71032,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":18844,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3735,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["containers","docker","go","golang"],"visibility":"public","forks":18844,"open_issues":3735,"watchers":71032,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/moby/moby/pulls/37619","html_url":"https://github.com/moby/moby/pull/37619","diff_url":"https://github.com/moby/moby/pull/37619.diff","patch_url":"https://github.com/moby/moby/pull/37619.patch","merged_at":null},"body":"<!--\r\nPlease make sure you've read and understood our contributing guidelines;\r\nhttps://github.com/moby/moby/blob/master/CONTRIBUTING.md\r\n\r\n** Make sure all your commits include a signature generated with `git commit -s` **\r\n\r\nFor additional information on our contributing process, read our contributing\r\nguide https://docs.docker.com/opensource/code/\r\n\r\nIf this is a bug fix, make sure your description includes \"fixes #xxxx\", or\r\n\"closes #xxxx\"\r\n\r\nPlease provide the following information:\r\n-->\r\n\r\n**- What I did**\r\n\r\nCertsDir is hardcoded to \"/etc/docker/certs.d\". On some distros the\r\n/etc/docker directory is locked down (700). So we get a permission\r\ndenied error. At this point we can't tell if the directory is actually\r\npresent or not. but either way we can't read anything under it.\r\n\r\nPlease see https://github.com/docker/for-linux/issues/396 for a detailed description\r\n\r\n**- How I did it**\r\n\r\nAt this point we have 2 options, we fail immediately which is the\r\ncurrent behavior. The other other option is to ignore the permission\r\ndenied and hope that the certs are not needed and try to continue. In\r\nthis change, we use the 2nd option to allow the process to continue\r\n(\"docker manifest create\"). Added a debug statement to log if we do have\r\na permission issue so it's easy to spot by using \"-D\" on the docker CLI\r\ncommand line.\r\n\r\n**- How to verify it**\r\n\r\nThis basically helps non-root users be able to execute the \"docker\r\nmanifest create\" without having to \"sudo\".\r\n\r\n**- Description for the changelog**\r\n<!--\r\nWrite a short (one line) summary that describes the changes in this\r\npull request for inclusion in the changelog:\r\n-->\r\nAllow non-root users to run some CLI commands even when /etc/docker/certs.d/ directory is not accessible\r\n\r\n**- A picture of a cute animal (not mandatory but encouraged)**\r\n\r\n","reactions":{"url":"https://api.github.com/repos/moby/moby/issues/37619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/moby/moby/issues/37619/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420395685","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420395685","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420395685,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDM5NTY4NQ==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T19:32:51Z","updated_at":"2018-09-11T19:32:51Z","body":"@ijc -- What registry are you running? If it's one you created using `registry:2`, can you list the config details? It's really odd that a) the list of endpoints is empty, and b) you're getting that hosts dir output if you used the `insecure` flag. \r\n\r\nAlso, unfortunately, you can't override that certs dir location AFAIK. See @dnephin's comment at https://github.com/docker/cli/pull/138#issuecomment-341560126. (Just FYI) If anyone knows otherwise, lmk. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420395685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1839411256,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgzOTQxMTI1Ng==","url":"https://api.github.com/repos/docker/cli/issues/events/1839411256","actor":{"login":"dnephin","id":442180,"node_id":"MDQ6VXNlcjQ0MjE4MA==","avatar_url":"https://avatars.githubusercontent.com/u/442180?v=4","gravatar_id":"","url":"https://api.github.com/users/dnephin","html_url":"https://github.com/dnephin","followers_url":"https://api.github.com/users/dnephin/followers","following_url":"https://api.github.com/users/dnephin/following{/other_user}","gists_url":"https://api.github.com/users/dnephin/gists{/gist_id}","starred_url":"https://api.github.com/users/dnephin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnephin/subscriptions","organizations_url":"https://api.github.com/users/dnephin/orgs","repos_url":"https://api.github.com/users/dnephin/repos","events_url":"https://api.github.com/users/dnephin/events{/privacy}","received_events_url":"https://api.github.com/users/dnephin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-11T19:32:51Z","performed_via_github_app":null},{"id":1839411257,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4Mzk0MTEyNTc=","url":"https://api.github.com/repos/docker/cli/issues/events/1839411257","actor":{"login":"dnephin","id":442180,"node_id":"MDQ6VXNlcjQ0MjE4MA==","avatar_url":"https://avatars.githubusercontent.com/u/442180?v=4","gravatar_id":"","url":"https://api.github.com/users/dnephin","html_url":"https://github.com/dnephin","followers_url":"https://api.github.com/users/dnephin/followers","following_url":"https://api.github.com/users/dnephin/following{/other_user}","gists_url":"https://api.github.com/users/dnephin/gists{/gist_id}","starred_url":"https://api.github.com/users/dnephin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnephin/subscriptions","organizations_url":"https://api.github.com/users/dnephin/orgs","repos_url":"https://api.github.com/users/dnephin/repos","events_url":"https://api.github.com/users/dnephin/events{/privacy}","received_events_url":"https://api.github.com/users/dnephin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-11T19:32:51Z","performed_via_github_app":null},{"id":1839411259,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgzOTQxMTI1OQ==","url":"https://api.github.com/repos/docker/cli/issues/events/1839411259","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-11T19:32:52Z","performed_via_github_app":null},{"id":1839411263,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4Mzk0MTEyNjM=","url":"https://api.github.com/repos/docker/cli/issues/events/1839411263","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-11T19:32:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420593198","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420593198","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420593198,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDU5MzE5OA==","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T10:17:50Z","updated_at":"2018-09-12T10:17:50Z","body":"@clnperez it's a container I've had for a while, my notes claim I created it with:\r\n```\r\ndocker volume create registry\r\ndocker pull registry:2\r\ndocker run -d -p 5000:5000 --name registry -v registry:/var/lib/registry registry:2\r\n```\r\nI've not (knowingly) reconfigured anything so I think this is the default:\r\n```\r\n# cat /etc/docker/registry/config.yml \r\nversion: 0.1\r\nlog:\r\n  fields:\r\n    service: registry\r\nstorage:\r\n  cache:\r\n    blobdescriptor: inmemory\r\n  filesystem:\r\n    rootdirectory: /var/lib/registry\r\nhttp:\r\n  addr: :5000\r\n  headers:\r\n    X-Content-Type-Options: [nosniff]\r\nhealth:\r\n  storagedriver:\r\n    enabled: true\r\n    interval: 10s\r\n    threshold: 3\r\n```\r\n_But_ I don't think it is getting so far as to be even opening a socket, it hits a client side error before it gets that far.\r\n\r\nLet me know if you need anything else.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420593198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1840731352,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MDczMTM1Mg==","url":"https://api.github.com/repos/docker/cli/issues/events/1840731352","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-12T10:17:50Z","performed_via_github_app":null},{"id":1840731354,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDA3MzEzNTQ=","url":"https://api.github.com/repos/docker/cli/issues/events/1840731354","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-12T10:17:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420652355","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420652355","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420652355,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDY1MjM1NQ==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T13:41:47Z","updated_at":"2018-09-12T13:41:47Z","body":"@ijc thanks. just one more thing -- the hash of the registry:2 image you've got running. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420652355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1841173330,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MTE3MzMzMA==","url":"https://api.github.com/repos/docker/cli/issues/events/1841173330","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-12T13:41:47Z","performed_via_github_app":null},{"id":1841173331,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDExNzMzMzE=","url":"https://api.github.com/repos/docker/cli/issues/events/1841173331","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-12T13:41:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420653821","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420653821","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420653821,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDY1MzgyMQ==","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T13:45:56Z","updated_at":"2018-09-12T13:45:56Z","body":"@clnperez \r\n```\r\n$ docker container inspect registry | jq .[0].Image\r\n\"sha256:b2b03e9146e1c7197e63f67d0d48b87b2b18a6e40660f9d89e6d0b450b6bfa38\"\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420653821/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1841184501,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MTE4NDUwMQ==","url":"https://api.github.com/repos/docker/cli/issues/events/1841184501","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-12T13:45:56Z","performed_via_github_app":null},{"id":1841184502,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDExODQ1MDI=","url":"https://api.github.com/repos/docker/cli/issues/events/1841184502","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-12T13:45:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420772693","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420772693","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420772693,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDc3MjY5Mw==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T19:41:54Z","updated_at":"2018-09-12T19:41:54Z","body":"@ijc, looks like that one isn't in the registry any more can you give me output from\r\n`docker run --rm registry:2  -v`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420772693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1842025461,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MjAyNTQ2MQ==","url":"https://api.github.com/repos/docker/cli/issues/events/1842025461","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-12T19:41:54Z","performed_via_github_app":null},{"id":1842025462,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDIwMjU0NjI=","url":"https://api.github.com/repos/docker/cli/issues/events/1842025462","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-12T19:41:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420939148","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420939148","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420939148,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDkzOTE0OA==","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T09:12:36Z","updated_at":"2018-09-13T09:12:36Z","body":"@clnperez I just wanted to reiterate something I've said a couple of times now: The failure is occurring before the CLI has made any network calls at all, so I don't think the version of the registry it is talking to can be in any way relevant (infact it doesn't even need to exist or be running).\r\n```console\r\n$ grep -E 'socket|accept|listen|bind|172.17.0.4|AF_INET|gethostbyaddr' /tmp/docker-manifest-inspect.strace.*\r\n/tmp/docker-manifest-inspect.strace.17582:execve(\"/usr/bin/docker\", [\"docker\", \"-D\", \"manifest\", \"inspect\", \"--insecure\", \"172.17.0.4:5000/foo:latest\"], 0x7ffd843df480 /* 55 vars */) = 0\r\n/tmp/docker-manifest-inspect.strace.17582:socket(AF_UNIX, SOCK_STREAM|SOCK_CLOEXEC|SOCK_NONBLOCK, 0) = 3\r\n/tmp/docker-manifest-inspect.strace.17582:connect(3, {sa_family=AF_UNIX, sun_path=\"/var/run/nscd/socket\"}, 110) = -1 ENOENT (No such file or directory)\r\n/tmp/docker-manifest-inspect.strace.17582:socket(AF_UNIX, SOCK_STREAM|SOCK_CLOEXEC|SOCK_NONBLOCK, 0) = 3\r\n/tmp/docker-manifest-inspect.strace.17582:connect(3, {sa_family=AF_UNIX, sun_path=\"/var/run/nscd/socket\"}, 110) = -1 ENOENT (No such file or directory)\r\n/tmp/docker-manifest-inspect.strace.17582:socket(AF_UNIX, SOCK_STREAM|SOCK_CLOEXEC|SOCK_NONBLOCK, 0) = 3\r\n/tmp/docker-manifest-inspect.strace.17582:socket(AF_UNIX, SOCK_STREAM|SOCK_CLOEXEC|SOCK_NONBLOCK, 0) = 5\r\n/tmp/docker-manifest-inspect.strace.17586:openat(AT_FDCWD, \"/home/ijc/.docker/manifests/172.17.0.4-5000_foo-latest\", O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)\r\n/tmp/docker-manifest-inspect.strace.17586:openat(AT_FDCWD, \"/etc/docker/certs.d/172.17.0.4:5000\", O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied)\r\n/tmp/docker-manifest-inspect.strace.17586:openat(AT_FDCWD, \"/etc/docker/certs.d/172.17.0.4:5000\", O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied)\r\n```\r\nYou can see that there are no socket calls other than the Unix domain ones for `/var/run/nscd` and nothing else network related.\r\n\r\nFor some reason (unknown to me) my `/etc/docker` has permissions `0700`, hence it is seeing `EACCESS` and not `EEXIST` then looking at `/etc/docker/certs.d/`, it might be as simple as some code on the client side just handling those two the same way?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420939148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1843109849,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MzEwOTg0OQ==","url":"https://api.github.com/repos/docker/cli/issues/events/1843109849","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-13T09:12:36Z","performed_via_github_app":null},{"id":1843109851,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDMxMDk4NTE=","url":"https://api.github.com/repos/docker/cli/issues/events/1843109851","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-13T09:12:36Z","performed_via_github_app":null},{"actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T09:35:30Z","updated_at":"2018-09-13T09:35:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/moby/moby/issues/37840","repository_url":"https://api.github.com/repos/moby/moby","labels_url":"https://api.github.com/repos/moby/moby/issues/37840/labels{/name}","comments_url":"https://api.github.com/repos/moby/moby/issues/37840/comments","events_url":"https://api.github.com/repos/moby/moby/issues/37840/events","html_url":"https://github.com/moby/moby/issues/37840","id":359817338,"node_id":"MDU6SXNzdWUzNTk4MTczMzg=","number":37840,"title":"Engine can sometimes create /etc/docker with perms 0700?","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":392678049,"node_id":"MDU6TGFiZWwzOTI2NzgwNDk=","url":"https://api.github.com/repos/moby/moby/labels/area/swarm","name":"area/swarm","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-13T09:35:29Z","updated_at":"2018-09-18T06:49:38Z","closed_at":"2018-09-18T06:49:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":7691631,"node_id":"MDEwOlJlcG9zaXRvcnk3NjkxNjMx","name":"moby","full_name":"moby/moby","private":false,"owner":{"login":"moby","id":27259197,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI3MjU5MTk3","avatar_url":"https://avatars.githubusercontent.com/u/27259197?v=4","gravatar_id":"","url":"https://api.github.com/users/moby","html_url":"https://github.com/moby","followers_url":"https://api.github.com/users/moby/followers","following_url":"https://api.github.com/users/moby/following{/other_user}","gists_url":"https://api.github.com/users/moby/gists{/gist_id}","starred_url":"https://api.github.com/users/moby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moby/subscriptions","organizations_url":"https://api.github.com/users/moby/orgs","repos_url":"https://api.github.com/users/moby/repos","events_url":"https://api.github.com/users/moby/events{/privacy}","received_events_url":"https://api.github.com/users/moby/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/moby/moby","description":"The Moby Project - a collaborative project for the container ecosystem to assemble container-based systems","fork":false,"url":"https://api.github.com/repos/moby/moby","forks_url":"https://api.github.com/repos/moby/moby/forks","keys_url":"https://api.github.com/repos/moby/moby/keys{/key_id}","collaborators_url":"https://api.github.com/repos/moby/moby/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/moby/moby/teams","hooks_url":"https://api.github.com/repos/moby/moby/hooks","issue_events_url":"https://api.github.com/repos/moby/moby/issues/events{/number}","events_url":"https://api.github.com/repos/moby/moby/events","assignees_url":"https://api.github.com/repos/moby/moby/assignees{/user}","branches_url":"https://api.github.com/repos/moby/moby/branches{/branch}","tags_url":"https://api.github.com/repos/moby/moby/tags","blobs_url":"https://api.github.com/repos/moby/moby/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/moby/moby/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/moby/moby/git/refs{/sha}","trees_url":"https://api.github.com/repos/moby/moby/git/trees{/sha}","statuses_url":"https://api.github.com/repos/moby/moby/statuses/{sha}","languages_url":"https://api.github.com/repos/moby/moby/languages","stargazers_url":"https://api.github.com/repos/moby/moby/stargazers","contributors_url":"https://api.github.com/repos/moby/moby/contributors","subscribers_url":"https://api.github.com/repos/moby/moby/subscribers","subscription_url":"https://api.github.com/repos/moby/moby/subscription","commits_url":"https://api.github.com/repos/moby/moby/commits{/sha}","git_commits_url":"https://api.github.com/repos/moby/moby/git/commits{/sha}","comments_url":"https://api.github.com/repos/moby/moby/comments{/number}","issue_comment_url":"https://api.github.com/repos/moby/moby/issues/comments{/number}","contents_url":"https://api.github.com/repos/moby/moby/contents/{+path}","compare_url":"https://api.github.com/repos/moby/moby/compare/{base}...{head}","merges_url":"https://api.github.com/repos/moby/moby/merges","archive_url":"https://api.github.com/repos/moby/moby/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/moby/moby/downloads","issues_url":"https://api.github.com/repos/moby/moby/issues{/number}","pulls_url":"https://api.github.com/repos/moby/moby/pulls{/number}","milestones_url":"https://api.github.com/repos/moby/moby/milestones{/number}","notifications_url":"https://api.github.com/repos/moby/moby/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/moby/moby/labels{/name}","releases_url":"https://api.github.com/repos/moby/moby/releases{/id}","deployments_url":"https://api.github.com/repos/moby/moby/deployments","created_at":"2013-01-18T18:10:57Z","updated_at":"2025-11-09T19:00:09Z","pushed_at":"2025-11-07T19:15:35Z","git_url":"git://github.com/moby/moby.git","ssh_url":"git@github.com:moby/moby.git","clone_url":"https://github.com/moby/moby.git","svn_url":"https://github.com/moby/moby","homepage":"https://mobyproject.org/","size":291780,"stargazers_count":71032,"watchers_count":71032,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":18844,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3735,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["containers","docker","go","golang"],"visibility":"public","forks":18844,"open_issues":3735,"watchers":71032,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Description**\r\n\r\nAs mentioned in https://github.com/docker/cli/issues/1358#issuecomment-420939148 I have, for some reason, an `/etc/docker` directory owned by `root:root` with permissions `0700`.\r\n\r\nAt first I thought this might be intentional since there can be sensitive files in there, however upon reflection I think this is unintentional, sensitive files (such as `/etc/docker/key.json`) themselves have permissions `0600` already.\r\n\r\n**Steps to reproduce the issue:**\r\n\r\nI don't know, I just found it like that and it's probably been that way for ages unnoticed. It's quite possibly an old bug, or maybe even be an old packaging bug, which has left these permissions in place.\r\n\r\nCode inspection leads me to at least one place, in the Swarm init, which I believe would create the directory with these permissions if it didn't already exist: See https://github.com/moby/moby/blob/master/daemon/cluster/cluster.go#L139. It's entirely plausible that I did a `docker swarm init` at some point before `/etc/docker` existed.\r\n\r\nDoing `git grep os.Mkdir.*0700` gives a page or so of matches, which I've not been through to determine which are applied to `/etc/docker` vs elsewhere.\r\n\r\n**Describe the results you received:**\r\n```\r\n$ stat -c %a /etc/docker\r\n700\r\n```\r\n\r\n**Describe the results you expected:**\r\nProbably:\r\n```\r\n$ stat -c %a /etc/docker\r\n755\r\n```\r\n\r\n**Additional information you deem important (e.g. issue happens only occasionally):**\r\n\r\nI did notice that Debian's `docker.io` package (which I do not use, I use the `download.docker.com` version) ensures this directory is created by the package install with perms `0755` (and has a postinst to correct previously buggy versions which left it as `0700`), that came about from [Debian #831324](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=831324).\r\n\r\nThe packages from `download.docker.com` do not, AFAICT, create this directory nor fiddle with the permissions (perhaps they should).\r\n\r\n**Output of `docker version`:**\r\n\r\nIt's unlikely that this directory was created by the current version of docker, but anyway:\r\n\r\n```\r\nClient:\r\n Version:           18.06.0-ce\r\n API version:       1.38\r\n Go version:        go1.10.3\r\n Git commit:        0ffa825\r\n Built:             Wed Jul 18 19:09:33 2018\r\n OS/Arch:           linux/amd64\r\n Experimental:      true\r\n\r\nServer:\r\n Engine:\r\n  Version:          18.06.0-ce\r\n  API version:      1.38 (minimum version 1.12)\r\n  Go version:       go1.10.3\r\n  Git commit:       0ffa825\r\n  Built:            Wed Jul 18 19:07:38 2018\r\n  OS/Arch:          linux/amd64\r\n  Experimental:     false\r\n\r\n```\r\n\r\n**Output of `docker info`:**\r\n\r\n```\r\nContainers: 9\r\n Running: 4\r\n Paused: 0\r\n Stopped: 5\r\nImages: 164\r\nServer Version: 18.06.0-ce\r\nStorage Driver: overlay2\r\n Backing Filesystem: extfs\r\n Supports d_type: true\r\n Native Overlay Diff: true\r\nLogging Driver: json-file\r\nCgroup Driver: cgroupfs\r\nPlugins:\r\n Volume: local\r\n Network: bridge host macvlan null overlay\r\n Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog\r\nSwarm: inactive\r\nRuntimes: runc\r\nDefault Runtime: runc\r\nInit Binary: docker-init\r\ncontainerd version: d64c661f1d51c48782c9cec8fda7604785f93587\r\nrunc version: 69663f0bd4b60df09991c08812a60108003fa340\r\ninit version: fec3683\r\nSecurity Options:\r\n apparmor\r\n seccomp\r\n  Profile: default\r\nKernel Version: 4.14.0-3-amd64\r\nOperating System: Debian GNU/Linux buster/sid\r\nOSType: linux\r\nArchitecture: x86_64\r\nCPUs: 4\r\nTotal Memory: 15.53GiB\r\nName: bokrug\r\nID: AU33:BO7D:7VGM:MOLB:RSDF:IBRV:GCWT:THHM:OEVM:TX3C:BNLM:WHAR\r\nDocker Root Dir: /var/lib/docker\r\nDebug Mode (client): false\r\nDebug Mode (server): true\r\n File Descriptors: 47\r\n Goroutines: 60\r\n System Time: 2018-09-13T10:33:42.646335921+01:00\r\n EventsListeners: 0\r\nUsername: ijc25\r\nRegistry: https://index.docker.io/v1/\r\nLabels:\r\nExperimental: false\r\nInsecure Registries:\r\n 172.16.10.239:5000\r\n 172.16.14.104:5000\r\n 127.0.0.0/8\r\nLive Restore Enabled: false\r\n\r\nWARNING: No swap limit support\r\n\r\n```\r\n\r\n**Additional environment details (AWS, VirtualBox, physical, etc.):**\r\n","reactions":{"url":"https://api.github.com/repos/moby/moby/issues/37840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/moby/moby/issues/37840/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/docker/cli/issues/comments/420945823","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-420945823","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":420945823,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDk0NTgyMw==","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T09:35:57Z","updated_at":"2018-09-13T09:35:57Z","body":"I've reported the `0700` permissions thing as an engine issue in https://github.com/moby/moby/issues/37840.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/420945823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/docker/cli/issues/comments/421010280","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-421010280","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":421010280,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTAxMDI4MA==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T13:39:13Z","updated_at":"2018-09-13T13:39:13Z","body":"@ijc i read what you were saying and i don't think it needs reiterating. i'm sorry if i didn't acknowledge what you'd said. but what's still strange to me is that your list of endpoints is empty. the permissions one is probably something that the manifest command can/should work around, but what i'm seeing in the current code doesn't make sense that it got to that point. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/421010280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1843652268,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTg0MzY1MjI2OA==","url":"https://api.github.com/repos/docker/cli/issues/events/1843652268","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-13T13:39:13Z","performed_via_github_app":null},{"id":1843652270,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4NDM2NTIyNzA=","url":"https://api.github.com/repos/docker/cli/issues/events/1843652270","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-13T13:39:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/docker/cli/issues/comments/421013859","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-421013859","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":421013859,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTAxMzg1OQ==","user":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T13:49:44Z","updated_at":"2018-09-13T13:49:44Z","body":"However the empty list of endpoints is arising it's nothing to do with the version or configuration of the registry on the server side, since the client never even tries to talk to the server, but you were asking questions specific to the server side of things.\r\n\r\nFrom `strace` I can see where the endpoints message is printed, the context is:\r\n```\r\nopenat(AT_FDCWD, \"/etc/docker/certs.d/172.17.0.4:5000\", O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied)\r\nwrite(2, \"\\33[37mDEBU\\33[0m[0000] endpoints fo\"..., 66) = 66\r\nwrite(2, \"\\33[37mDEBU\\33[0m[0000] hostDir: /et\"..., 66) = 66\r\nopenat(AT_FDCWD, \"/etc/docker/certs.d/172.17.0.4:5000\", O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied)\r\nwrite(2, \"\\33[37mDEBU\\33[0m[0000] endpoints fo\"..., 66) = 66\r\n```\r\nSo it does seem like the empty endpoints is pretty directly related to the `EACCES`.\r\n\r\nIf I correct the permissions on `/etc/docker` to `0755` then instead I see:\r\n```console\r\n$ docker -D manifest inspect --insecure 172.17.0.3:5000/foo:latest\r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.3:5000 \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.3:5000 \r\nDEBU[0000] endpoints for 172.17.0.3:5000/foo:latest: [{false https://172.17.0.3:5000 v2 false false true 0xc4204c6c00} {false https://172.17.0.3:5000 v1 false false true 0xc4204c6d80}] \r\nDEBU[0000] error with repo endpoint {%!s(*registry.RepositoryInfo=&{{172.17.0.3:5000 foo} 0xc4202e09c0 false }) {%!s(bool=false) %!s(*url.URL=&{https  <nil> 172.17.0.3:5000   false  }) %!s(registry.APIVersion=2) %!s(bool=false) %!s(bool=false) %!s(bool=true) %!s(*tls.Config=&{<nil> <nil> [] map[] <nil> <nil> <nil> <nil> <nil> []  0 <nil> true [49196 49200 49195 49199 49162 49161 49172 49171 53 47] true false [123 26 177 2 12 180 4 49 139 85 145 57 51 219 174 34 158 52 4 193 205 74 40 116 204 145 78 129 114 212 233 189] <nil> 769 0 [] false 0 <nil> {{0 0} 1} {{0 0} 0 0 0 0} [{[227 213 248 79 41 196 201 98 205 114 18 228 223 136 13 1] [208 147 212 136 191 26 213 163 113 236 105 77 100 109 10 13] [197 138 17 48 72 221 91 95 152 147 185 166 152 158 79 144]}]})}}: failed to configure transport: error pinging v2 registry: Get https://172.17.0.3:5000/v2/: http: server gave HTTP response to HTTPS client \r\nDEBU[0000] skipping v1 endpoint https://172.17.0.3:5000 \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.3:5000 \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.3:5000 \r\nDEBU[0000] endpoints for 172.17.0.3:5000/foo:latest: [{false https://172.17.0.3:5000 v2 false false true 0xc4204c7500} {false https://172.17.0.3:5000 v1 false false true 0xc4204c7680}] \r\nDEBU[0000] error with repo endpoint {%!s(*registry.RepositoryInfo=&{{172.17.0.3:5000 foo} 0xc4202e11a0 false }) {%!s(bool=false) %!s(*url.URL=&{https  <nil> 172.17.0.3:5000   false  }) %!s(registry.APIVersion=2) %!s(bool=false) %!s(bool=false) %!s(bool=true) %!s(*tls.Config=&{<nil> <nil> [] map[] <nil> <nil> <nil> <nil> <nil> []  0 <nil> true [49196 49200 49195 49199 49162 49161 49172 49171 53 47] true false [34 46 124 210 178 22 157 181 68 91 245 180 234 75 45 56 200 226 120 142 124 158 92 153 189 194 125 158 90 70 211 68] <nil> 769 0 [] false 0 <nil> {{0 0} 1} {{0 0} 0 0 0 0} [{[244 139 193 158 233 153 230 227 247 97 164 238 52 208 83 230] [70 233 228 182 253 84 246 155 55 129 117 2 192 1 249 2] [159 27 220 251 253 6 92 11 166 225 249 108 109 85 103 137]}]})}}: failed to configure transport: error pinging v2 registry: Get https://172.17.0.3:5000/v2/: http: server gave HTTP response to HTTPS client \r\nDEBU[0000] skipping v1 endpoint https://172.17.0.3:5000 \r\nno such manifest: 172.17.0.3:5000/foo:latest\r\n```\r\n(Note that between my initial report and now the registries P address changed because I restarted).\r\n\r\nIf I hit a non-existent server address with the perms corrected then I see:\r\n```console\r\n$ docker -D manifest inspect --insecure 172.17.0.4:5000/foo:latest\r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.4:5000 \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.4:5000 \r\nDEBU[0000] endpoints for 172.17.0.4:5000/foo:latest: [{false https://172.17.0.4:5000 v2 false false true 0xc4200b1200} {false https://172.17.0.4:5000 v1 false false true 0xc4200b1380}] \r\nDEBU[0000] not continuing on error (*url.Error) Get https://172.17.0.4:5000/v2/foo/manifests/latest: dial tcp 172.17.0.4:5000: connect: connection refused \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.4:5000 \r\nDEBU[0000] hostDir: /etc/docker/certs.d/172.17.0.4:5000 \r\nDEBU[0000] endpoints for 172.17.0.4:5000/foo:latest: [{false https://172.17.0.4:5000 v2 false false true 0xc42009d380} {false https://172.17.0.4:5000 v1 false false true 0xc42009d500}] \r\nDEBU[0000] not continuing on error (*url.Error) Get https://172.17.0.4:5000/v2/foo/manifests/latest: dial tcp 172.17.0.4:5000: connect: connection refused \r\nGet https://172.17.0.4:5000/v2/foo/manifests/latest: dial tcp 172.17.0.4:5000: connect: connection refused\r\n````\r\nBoth of those seem pretty sensible (there is no `foo:latest` image on my registry).\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/421013859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ijc","id":12985729,"node_id":"MDQ6VXNlcjEyOTg1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/12985729?v=4","gravatar_id":"","url":"https://api.github.com/users/ijc","html_url":"https://github.com/ijc","followers_url":"https://api.github.com/users/ijc/followers","following_url":"https://api.github.com/users/ijc/following{/other_user}","gists_url":"https://api.github.com/users/ijc/gists{/gist_id}","starred_url":"https://api.github.com/users/ijc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijc/subscriptions","organizations_url":"https://api.github.com/users/ijc/orgs","repos_url":"https://api.github.com/users/ijc/repos","events_url":"https://api.github.com/users/ijc/events{/privacy}","received_events_url":"https://api.github.com/users/ijc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/docker/cli/issues/comments/421022276","html_url":"https://github.com/docker/cli/issues/1358#issuecomment-421022276","issue_url":"https://api.github.com/repos/docker/cli/issues/1358","id":421022276,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTAyMjI3Ng==","user":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T14:14:08Z","updated_at":"2018-09-13T14:14:08Z","body":"I was initially unable to recreate this, but forgetting that by default loopback (which is what I was using) is in the engine's insecure registries list. I mapped it to host's actual IP and, with the permissions set to 700, can recreate.\r\n\r\nAlso, I realized what you were trying to get at after I sent that last message. I was looking for something the wrong way. So, apologies for being a little slow there.\r\n\r\nThanks for all that detail.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/docker/cli/issues/comments/421022276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clnperez","id":4493281,"node_id":"MDQ6VXNlcjQ0OTMyODE=","avatar_url":"https://avatars.githubusercontent.com/u/4493281?v=4","gravatar_id":"","url":"https://api.github.com/users/clnperez","html_url":"https://github.com/clnperez","followers_url":"https://api.github.com/users/clnperez/followers","following_url":"https://api.github.com/users/clnperez/following{/other_user}","gists_url":"https://api.github.com/users/clnperez/gists{/gist_id}","starred_url":"https://api.github.com/users/clnperez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clnperez/subscriptions","organizations_url":"https://api.github.com/users/clnperez/orgs","repos_url":"https://api.github.com/users/clnperez/repos","events_url":"https://api.github.com/users/clnperez/events{/privacy}","received_events_url":"https://api.github.com/users/clnperez/received_events","type":"User","user_view_type":"public","site_admin":false}}]