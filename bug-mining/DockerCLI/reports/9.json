{"url":"https://api.github.com/repos/docker/cli/issues/1336","repository_url":"https://api.github.com/repos/docker/cli","labels_url":"https://api.github.com/repos/docker/cli/issues/1336/labels{/name}","comments_url":"https://api.github.com/repos/docker/cli/issues/1336/comments","events_url":"https://api.github.com/repos/docker/cli/issues/1336/events","html_url":"https://github.com/docker/cli/issues/1336","id":356995065,"node_id":"MDU6SXNzdWUzNTY5OTUwNjU=","number":1336,"title":"panic on building through ssh dialer","user":{"login":"tonistiigi","id":585223,"node_id":"MDQ6VXNlcjU4NTIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/585223?v=4","gravatar_id":"","url":"https://api.github.com/users/tonistiigi","html_url":"https://github.com/tonistiigi","followers_url":"https://api.github.com/users/tonistiigi/followers","following_url":"https://api.github.com/users/tonistiigi/following{/other_user}","gists_url":"https://api.github.com/users/tonistiigi/gists{/gist_id}","starred_url":"https://api.github.com/users/tonistiigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonistiigi/subscriptions","organizations_url":"https://api.github.com/users/tonistiigi/orgs","repos_url":"https://api.github.com/users/tonistiigi/repos","events_url":"https://api.github.com/users/tonistiigi/events{/privacy}","received_events_url":"https://api.github.com/users/tonistiigi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":606728828,"node_id":"MDU6TGFiZWw2MDY3Mjg4Mjg=","url":"https://api.github.com/repos/docker/cli/labels/area/builder","name":"area/builder","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-09-04T22:13:24Z","updated_at":"2018-09-05T22:59:37Z","closed_at":"2018-09-05T22:59:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\nÂ» /tmp/docker -H ssh://docker@35.161.xx.xx build .                                                                               \r\nEnter passphrase for key '/Users/tonistiigi/.ssh/id_rsa':\r\n[+] Building 2.1s (0/2)\r\n[+] Building 3.0s (6/6) FINISHED\r\n => [internal] load Dockerfile                                                                                                       2.4s\r\n => => transferring dockerfile: 34B                                                                                                  0.1s\r\n => [internal] load .dockerignore                                                                                                    2.4s\r\n => => transferring context: 2B                                                                                                      0.1s\r\n => [internal] load metadata for docker.io/library/alpine:latest                                                                     0.6s\r\n => [1/2] FROM docker.io/library/alpine@sha256:7043076348bf5040220df6ad703798fd8593a0918d06d3ce30c6c93be117e430                      0.0s\r\n => CACHED [2/2] RUN ls -l                                                                                                           0.0s\r\n => exporting to image                                                                                                               0.0s\r\n => => exporting layers                                                                                                              0.0s\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x44988ee]\r\n\r\ngoroutine 51 [running]:\r\nos.(*ProcessState).os.exited(...)\r\n\t/usr/local/go/src/os/exec_posix.go:70\r\nos.(*ProcessState).Exited(...)\r\n\t/usr/local/go/src/os/exec.go:144\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).killIfStdioClosed(0xc4205a69c0, 0x0, 0x0)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:112 +0xae\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).CloseWrite(0xc4205a69c0, 0x0, 0x0)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:170 +0x89\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).Close(0xc4205a69c0, 0xc4204eaaa8, 0xc4205b7790)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:186 +0x99\r\ngithub.com/docker/cli/vendor/golang.org/x/net/http2.(*serverConn).serve(0xc4205f6380)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/golang.org/x/net/http2/server.go:824 +0xb43\r\ngithub.com/docker/cli/vendor/golang.org/x/net/http2.(*Server).ServeConn(0xc4200c60c0, 0x5887b00, 0xc42000e008, 0xc420079d68)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/golang.org/x/net/http2/server.go:435 +0x75f\r\ngithub.com/docker/cli/vendor/github.com/moby/buildkit/session.serve(0x5876b00, 0xc420321240, 0xc4205f6000, 0x5887b00, 0xc42000e008)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/github.com/moby/buildkit/session/grpc.go:24 +0xf8\r\ngithub.com/docker/cli/vendor/github.com/moby/buildkit/session.(*Session).Run(0xc4203e2070, 0x5876b00, 0xc420321240, 0xc420079f60, 0x0, 0x0)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/github.com/moby/buildkit/session/session.go:103 +0x6f7\r\ngithub.com/docker/cli/cli/command/image.runBuildBuildKit.func1(0x8, 0x577ae98)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/command/image/build_buildkit.go:145 +0xa1\r\ngithub.com/docker/cli/vendor/golang.org/x/sync/errgroup.(*Group).Go.func1(0xc420046240, 0xc4205ea0a0)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/golang.org/x/sync/errgroup/errgroup.go:58 +0x57\r\ncreated by github.com/docker/cli/vendor/golang.org/x/sync/errgroup.(*Group).Go\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/golang.org/x/sync/errgroup/errgroup.go:55 +0x66\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x44988ee]\r\n\r\ngoroutine 66 [running]:\r\nos.(*ProcessState).os.exited(...)\r\n\t/usr/local/go/src/os/exec_posix.go:70\r\nos.(*ProcessState).Exited(...)\r\n\t/usr/local/go/src/os/exec.go:144\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).killIfStdioClosed(0xc4205a69c0, 0xc4205d2570, 0xc4205d2501)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:112 +0xae\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).CloseRead(0xc4205a69c0, 0x0, 0xc42009db00)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:151 +0x89\r\ngithub.com/docker/cli/cli/connhelper.(*commandConn).Close(0xc4205a69c0, 0x48d9601, 0xc420320001)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/cli/connhelper/connhelper.go:183 +0x2f\r\ngithub.com/docker/cli/vendor/github.com/moby/buildkit/session.serve.func1(0x5876b00, 0xc420321240, 0x5887b00, 0xc42000e008)\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/github.com/moby/buildkit/session/grpc.go:21 +0x5c\r\ncreated by github.com/docker/cli/vendor/github.com/moby/buildkit/session.serve\r\n\t/Users/tonistiigi/gocode/src/github.com/docker/cli/vendor/github.com/moby/buildkit/session/grpc.go:19 +0x61\r\n\r\n```\r\n\r\n3ea56aa0cace40267402393d245eaddf30de06cb\r\n\r\n@AkihiroSuda ","closed_by":{"login":"tiborvass","id":827131,"node_id":"MDQ6VXNlcjgyNzEzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/827131?v=4","gravatar_id":"","url":"https://api.github.com/users/tiborvass","html_url":"https://github.com/tiborvass","followers_url":"https://api.github.com/users/tiborvass/followers","following_url":"https://api.github.com/users/tiborvass/following{/other_user}","gists_url":"https://api.github.com/users/tiborvass/gists{/gist_id}","starred_url":"https://api.github.com/users/tiborvass/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiborvass/subscriptions","organizations_url":"https://api.github.com/users/tiborvass/orgs","repos_url":"https://api.github.com/users/tiborvass/repos","events_url":"https://api.github.com/users/tiborvass/events{/privacy}","received_events_url":"https://api.github.com/users/tiborvass/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/docker/cli/issues/1336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/docker/cli/issues/1336/timeline","performed_via_github_app":null,"state_reason":"completed"}