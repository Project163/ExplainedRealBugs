{"url":"https://api.github.com/repos/laravel/framework/issues/55831","repository_url":"https://api.github.com/repos/laravel/framework","labels_url":"https://api.github.com/repos/laravel/framework/issues/55831/labels{/name}","comments_url":"https://api.github.com/repos/laravel/framework/issues/55831/comments","events_url":"https://api.github.com/repos/laravel/framework/issues/55831/events","html_url":"https://github.com/laravel/framework/issues/55831","id":3084199020,"node_id":"I_kwDOAHMwOs631SRs","number":55831,"title":"response()->stream() params inconsistent with Symfony, breaks Livewire","user":{"login":"woodseowl","id":5258410,"node_id":"MDQ6VXNlcjUyNTg0MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5258410?v=4","gravatar_id":"","url":"https://api.github.com/users/woodseowl","html_url":"https://github.com/woodseowl","followers_url":"https://api.github.com/users/woodseowl/followers","following_url":"https://api.github.com/users/woodseowl/following{/other_user}","gists_url":"https://api.github.com/users/woodseowl/gists{/gist_id}","starred_url":"https://api.github.com/users/woodseowl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/woodseowl/subscriptions","organizations_url":"https://api.github.com/users/woodseowl/orgs","repos_url":"https://api.github.com/users/woodseowl/repos","events_url":"https://api.github.com/users/woodseowl/events{/privacy}","received_events_url":"https://api.github.com/users/woodseowl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":24480042,"node_id":"MDU6TGFiZWwyNDQ4MDA0Mg==","url":"https://api.github.com/repos/laravel/framework/labels/bug","name":"bug","color":"ee0701","default":true,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-22T18:16:00Z","updated_at":"2025-05-28T13:33:47Z","closed_at":"2025-05-23T14:32:56Z","author_association":"NONE","type":{"id":153191,"node_id":"IT_kwDOAA6eeM4AAlZn","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T09:16:16Z","updated_at":"2024-07-26T10:05:51Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Laravel Version\n\n12.15.0\n\n### PHP Version\n\n8.3\n\n### Database Driver & Version\n\n_No response_\n\n### Description\n\nIn v12.15.0 release, Illuminate/Routing/ResponseFactory::stream() (i.e. response()->stream()) [had a change from directly returning a new Symfony StreamedResponse to performing other actions first](https://github.com/laravel/framework/commit/a9bfc0d37d1580bdafe39735b12fa8656fb3f24b) and then instantiating the StreamedResponse. The Symfony StreamedResponse parameters can take a null \"$callable\" value, so passing null in for response()->stream() was possible before v12.15.0 but not after, due to the introduced code.\n\nWhile the signature of ResponseFactory::stream() does not indicate that null is allowed for the $callable parameter, it worked before v12.15.0 and the Symfony StreamedResponse that it wraps accepts null, so it seems more like an oversight than truly intended requirement to pass the $callable.\n\nI'm reporting this because it breaks streaming in Livewire. Livewire calls response()->stream() explicitly with a null value for $callable (see [Features/SupportStreaming/SupportStreaming line 22](https://github.com/livewire/livewire/blob/796aa7441e0374229e6a1cba800d2abf90761432/src/Features/SupportStreaming/SupportStreaming.php#L22)). Granted, this is a Livewire error for not adhering to the function signature, but it may affect other applications that similarly were passing null to response()->stream() and successfully getting a streamed response.\n\n### Steps To Reproduce\n\n**v12.14.1:**\n```bash\n$ php artisan tinker\nPsy Shell v0.12.8 (PHP 8.3.15 — cli) by Justin Hileman\n> response()->stream(null)->getStatusCode()\n= 200\n```\n\n**v12.15.0:**\n```bash\n$ php artisan tinker\nPsy Shell v0.12.8 (PHP 8.3.15 — cli) by Justin Hileman\n> response()->stream(null)->getStatusCode()\nReflectionException  Function () does not exist.\n```","closed_by":{"login":"taylorotwell","id":463230,"node_id":"MDQ6VXNlcjQ2MzIzMA==","avatar_url":"https://avatars.githubusercontent.com/u/463230?v=4","gravatar_id":"","url":"https://api.github.com/users/taylorotwell","html_url":"https://github.com/taylorotwell","followers_url":"https://api.github.com/users/taylorotwell/followers","following_url":"https://api.github.com/users/taylorotwell/following{/other_user}","gists_url":"https://api.github.com/users/taylorotwell/gists{/gist_id}","starred_url":"https://api.github.com/users/taylorotwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taylorotwell/subscriptions","organizations_url":"https://api.github.com/users/taylorotwell/orgs","repos_url":"https://api.github.com/users/taylorotwell/repos","events_url":"https://api.github.com/users/taylorotwell/events{/privacy}","received_events_url":"https://api.github.com/users/taylorotwell/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/laravel/framework/issues/55831/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/laravel/framework/issues/55831/timeline","performed_via_github_app":null,"state_reason":"completed"}