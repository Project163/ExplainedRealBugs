[{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/286849508","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-286849508","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":286849508,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg0OTUwOA==","user":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:14:23Z","updated_at":"2017-03-15T19:14:23Z","body":"It looks like\r\n```\r\nif (_elementCounts.length <= _elementCountsPtr) { // less than or equal to catch more bad cases\r\n    //use _elementCountsPtr for new size to guarantee the array is big enough for this call\r\n    _elementCounts = Arrays.copyOf(_elementCounts, _elementCountsPtr+10);  \r\n}\r\nif (_elementCountsPtr > 0) { //guard for negative indexes\r\n    _elementCounts[_elementCountsPtr++] = _currentRemainingElements;\r\n}\r\n```\r\ndoesn't work quite right. However, just adding the \r\n```\r\nif (_elementCounts.length == _elementCountsPtr) { // initially, as well as if full    \r\n    _elementCounts = Arrays.copyOf(_elementCounts, _elementCounts.length+10);\r\n}\r\n```\r\nguard to the methods I mentioned does the trick.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/286849508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/286865939","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-286865939","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":286865939,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg2NTkzOQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T20:18:38Z","updated_at":"2017-03-15T20:18:38Z","body":"Thank you for reporting this.\r\n\r\nThe usual version check: is this against 2.8.7 (or 2.9.0.pr1), or some older version?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/286865939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1001614793,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwMDE2MTQ3OTM=","url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/events/1001614793","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T20:18:43Z","label":{"name":"2.9","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287088309","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-287088309","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":287088309,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzA4ODMwOQ==","user":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T15:11:47Z","updated_at":"2017-03-16T15:12:50Z","body":"Running with 2.8.6. The snippets of code I copied are from the github repository though (so 2.8.7, or 2.9.0?).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287088309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287673043","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-287673043","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":287673043,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzY3MzA0Mw==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-20T03:33:06Z","updated_at":"2017-03-20T03:33:06Z","body":"Ok, this must be via contribution, and for 2.8. Obvious oversight, not sure how I did not catch it... especially since line 556 has proper handling (second one you suggested). I think it's ok not to check for negative indices given that code handles matching of start/end via states, although if it can become problematic it can definitely be added: these calls are not that numerous.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287673043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1006161520,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEwMDYxNjE1MjA=","url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/events/1006161520","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5ebd2e71ee9be6afafa2f3c7195cf3e04c685d90","commit_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/commits/5ebd2e71ee9be6afafa2f3c7195cf3e04c685d90","created_at":"2017-03-20T04:57:54Z","performed_via_github_app":null},{"id":1006161699,"node_id":"MDExOkNsb3NlZEV2ZW50MTAwNjE2MTY5OQ==","url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/events/1006161699","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5ebd2e71ee9be6afafa2f3c7195cf3e04c685d90","commit_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/commits/5ebd2e71ee9be6afafa2f3c7195cf3e04c685d90","created_at":"2017-03-20T04:58:11Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287759541","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-287759541","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":287759541,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Nzc1OTU0MQ==","user":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-20T13:32:30Z","updated_at":"2017-03-20T13:32:30Z","body":"Thanks for fixing. You've been a real pro about the tickets I've submitted.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287759541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mlmitch","id":4595268,"node_id":"MDQ6VXNlcjQ1OTUyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4595268?v=4","gravatar_id":"","url":"https://api.github.com/users/mlmitch","html_url":"https://github.com/mlmitch","followers_url":"https://api.github.com/users/mlmitch/followers","following_url":"https://api.github.com/users/mlmitch/following{/other_user}","gists_url":"https://api.github.com/users/mlmitch/gists{/gist_id}","starred_url":"https://api.github.com/users/mlmitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlmitch/subscriptions","organizations_url":"https://api.github.com/users/mlmitch/orgs","repos_url":"https://api.github.com/users/mlmitch/repos","events_url":"https://api.github.com/users/mlmitch/events{/privacy}","received_events_url":"https://api.github.com/users/mlmitch/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287802979","html_url":"https://github.com/FasterXML/jackson-dataformats-binary/issues/62#issuecomment-287802979","issue_url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/62","id":287802979,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzgwMjk3OQ==","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-20T15:51:24Z","updated_at":"2017-03-20T15:51:24Z","body":"Thank you for submitting them! Should go without saying that these make my work much easier, when there's full info on what is going wrong. And encoding/decoding failures are critical to fix as there's usually no work around.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformats-binary/issues/comments/287802979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}}]