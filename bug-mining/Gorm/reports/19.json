{"url":"https://api.github.com/repos/go-gorm/gorm/issues/3336","repository_url":"https://api.github.com/repos/go-gorm/gorm","labels_url":"https://api.github.com/repos/go-gorm/gorm/issues/3336/labels{/name}","comments_url":"https://api.github.com/repos/go-gorm/gorm/issues/3336/comments","events_url":"https://api.github.com/repos/go-gorm/gorm/issues/3336/events","html_url":"https://github.com/go-gorm/gorm/issues/3336","id":688730699,"node_id":"MDU6SXNzdWU2ODg3MzA2OTk=","number":3336,"title":"named args and chain method doesn't work in raw query","user":{"login":"slowvic","id":10346954,"node_id":"MDQ6VXNlcjEwMzQ2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/10346954?v=4","gravatar_id":"","url":"https://api.github.com/users/slowvic","html_url":"https://github.com/slowvic","followers_url":"https://api.github.com/users/slowvic/followers","following_url":"https://api.github.com/users/slowvic/following{/other_user}","gists_url":"https://api.github.com/users/slowvic/gists{/gist_id}","starred_url":"https://api.github.com/users/slowvic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slowvic/subscriptions","organizations_url":"https://api.github.com/users/slowvic/orgs","repos_url":"https://api.github.com/users/slowvic/repos","events_url":"https://api.github.com/users/slowvic/events{/privacy}","received_events_url":"https://api.github.com/users/slowvic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":307121316,"node_id":"MDU6TGFiZWwzMDcxMjEzMTY=","url":"https://api.github.com/repos/go-gorm/gorm/labels/type:missing%20reproduction%20steps","name":"type:missing reproduction steps","color":"CF2E1F","default":false,"description":"missing reproduction steps"},{"id":2173972448,"node_id":"MDU6TGFiZWwyMTczOTcyNDQ4","url":"https://api.github.com/repos/go-gorm/gorm/labels/status:stale","name":"status:stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-08-30T14:40:20Z","updated_at":"2020-08-31T07:52:26Z","closed_at":"2020-08-30T21:43:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"here is my test code.\r\n\r\nvar list []GroupDto\r\ntx := dao.Db.Raw(`\r\n\tselect g.id,g.type_id,g.name,g.sort_no,t.code as type_code,t.name as type_name from dm_group g\r\n\tinner join dm_type t on t.id = g.type_id\r\n`)\r\ntx.Where(\"g.type_id = @typeId\", sql.Named(\"typeId\", typeId)).Scan(&list)\r\nthe where clause is ignored in the generated sql.\r\n\r\ntx := dao.Db.Raw(`\r\n\tselect g.id,g.type_id,g.name,g.sort_no,t.code as type_code,t.name as type_name from dm_group g\r\n\tinner join dm_type t on t.id = g.type_id\r\n        where g.type_id = @typeId\r\n`,sql.named(\"typeId\",1)).Scan(&list)\r\ntypeId is NULL in the generated sql.\r\n\r\ni can understand that Limit,Offset is not supported in raw query ,but Where is different, it's very common to create a dynamic query sql with different Where condition.","closed_by":{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/3336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gorm/gorm/issues/3336/timeline","performed_via_github_app":null,"state_reason":"completed"}