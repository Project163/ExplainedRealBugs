[{"id":5439685602,"node_id":"AE_lADOANNq9M4860lhzwAAAAFEOwPi","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5439685602","actor":{"login":"iSLC","id":2294815,"node_id":"MDQ6VXNlcjIyOTQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2294815?v=4","gravatar_id":"","url":"https://api.github.com/users/iSLC","html_url":"https://github.com/iSLC","followers_url":"https://api.github.com/users/iSLC/followers","following_url":"https://api.github.com/users/iSLC/following{/other_user}","gists_url":"https://api.github.com/users/iSLC/gists{/gist_id}","starred_url":"https://api.github.com/users/iSLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iSLC/subscriptions","organizations_url":"https://api.github.com/users/iSLC/orgs","repos_url":"https://api.github.com/users/iSLC/repos","events_url":"https://api.github.com/users/iSLC/events{/privacy}","received_events_url":"https://api.github.com/users/iSLC/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-10-10T18:08:07Z","assignee":{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":5439685985,"node_id":"LE_lADOANNq9M4860lhzwAAAAFEOwVh","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5439685985","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-10T18:08:25Z","label":{"name":"type:missing reproduction steps","color":"CF2E1F"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939528093","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-939528093","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":939528093,"node_id":"IC_kwDOANNq9M44AA-d","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-10-10T18:14:59Z","updated_at":"2021-10-10T18:14:59Z","body":"The issue has been automatically marked as stale as it missing playground pull request link, which is important to help others understand your issue effectively and make sure the issue hasn't been fixed on latest master, checkout [https://github.com/go-gorm/playground](https://github.com/go-gorm/playground) for details. it will be closed in 2 days if no further activity occurs. if you are asking question, please use the `Question` template, most likely your question already answered https://github.com/go-gorm/gorm/issues or described in the document https://gorm.io ✨ [Search Before Asking](https://stackoverflow.com/help/how-to-ask) ✨","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939528093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":5439693069,"node_id":"LE_lADOANNq9M4860lhzwAAAAFEOyEN","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5439693069","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-10T18:14:59Z","label":{"name":"status:stale","color":"ededed"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939675434","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-939675434","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":939675434,"node_id":"IC_kwDOANNq9M44Ak8q","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T04:37:31Z","updated_at":"2021-10-11T06:22:59Z","body":"@iSLC hello, a field declared as INTEGER PRIMARY KEY will automatically add in sqite [doc](https://www.sqlite.org/autoinc.html?http://www.sqlite.org/faq.html)\r\n\r\nlook here and it explain  this issue.\r\nhttps://github.com/go-gorm/sqlite/blob/2a8115147a2b4d95eb4455a253de09bb19a11fc0/sqlite.go#L146","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939675434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5440675753,"node_id":"MEE_lADOANNq9M4860lhzwAAAAFESh-p","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440675753","actor":{"login":"iSLC","id":2294815,"node_id":"MDQ6VXNlcjIyOTQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2294815?v=4","gravatar_id":"","url":"https://api.github.com/users/iSLC","html_url":"https://github.com/iSLC","followers_url":"https://api.github.com/users/iSLC/followers","following_url":"https://api.github.com/users/iSLC/following{/other_user}","gists_url":"https://api.github.com/users/iSLC/gists{/gist_id}","starred_url":"https://api.github.com/users/iSLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iSLC/subscriptions","organizations_url":"https://api.github.com/users/iSLC/orgs","repos_url":"https://api.github.com/users/iSLC/repos","events_url":"https://api.github.com/users/iSLC/events{/privacy}","received_events_url":"https://api.github.com/users/iSLC/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-11T04:37:31Z","performed_via_github_app":null},{"id":5440675756,"node_id":"SE_lADOANNq9M4860lhzwAAAAFESh-s","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440675756","actor":{"login":"iSLC","id":2294815,"node_id":"MDQ6VXNlcjIyOTQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2294815?v=4","gravatar_id":"","url":"https://api.github.com/users/iSLC","html_url":"https://github.com/iSLC","followers_url":"https://api.github.com/users/iSLC/followers","following_url":"https://api.github.com/users/iSLC/following{/other_user}","gists_url":"https://api.github.com/users/iSLC/gists{/gist_id}","starred_url":"https://api.github.com/users/iSLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iSLC/subscriptions","organizations_url":"https://api.github.com/users/iSLC/orgs","repos_url":"https://api.github.com/users/iSLC/repos","events_url":"https://api.github.com/users/iSLC/events{/privacy}","received_events_url":"https://api.github.com/users/iSLC/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-11T04:37:31Z","performed_via_github_app":null},{"id":5440684306,"node_id":"UNLE_lADOANNq9M4860lhzwAAAAFESkES","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440684306","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2021-10-11T04:40:56Z","label":{"name":"status:stale","color":"ededed"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939680402","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-939680402","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":939680402,"node_id":"IC_kwDOANNq9M44AmKS","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T04:54:06Z","updated_at":"2021-10-11T04:54:06Z","body":"The issue has been automatically marked as stale as it missing playground pull request link, which is important to help others understand your issue effectively and make sure the issue hasn't been fixed on latest master, checkout [https://github.com/go-gorm/playground](https://github.com/go-gorm/playground) for details. it will be closed in 2 days if no further activity occurs. if you are asking question, please use the `Question` template, most likely your question already answered https://github.com/go-gorm/gorm/issues or described in the document https://gorm.io ✨ [Search Before Asking](https://stackoverflow.com/help/how-to-ask) ✨","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939680402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":5440713944,"node_id":"LE_lADOANNq9M4860lhzwAAAAFESrTY","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440713944","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-11T04:54:06Z","label":{"name":"status:stale","color":"ededed"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939713060","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-939713060","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":939713060,"node_id":"IC_kwDOANNq9M44AuIk","user":{"login":"iSLC","id":2294815,"node_id":"MDQ6VXNlcjIyOTQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2294815?v=4","gravatar_id":"","url":"https://api.github.com/users/iSLC","html_url":"https://github.com/iSLC","followers_url":"https://api.github.com/users/iSLC/followers","following_url":"https://api.github.com/users/iSLC/following{/other_user}","gists_url":"https://api.github.com/users/iSLC/gists{/gist_id}","starred_url":"https://api.github.com/users/iSLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iSLC/subscriptions","organizations_url":"https://api.github.com/users/iSLC/orgs","repos_url":"https://api.github.com/users/iSLC/repos","events_url":"https://api.github.com/users/iSLC/events{/privacy}","received_events_url":"https://api.github.com/users/iSLC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T06:12:37Z","updated_at":"2021-10-11T06:14:43Z","body":"@longlihale ~~So basically i only need to specify `autoIncrement` without `primaryKey`? At least that's what I can infer from the code at first glance.~~ nvm I just read it wrong.\r\n\r\n```go\r\n\r\ncase schema.Int, schema.Uint:\r\n\t\tif field.AutoIncrement && !field.PrimaryKey {\r\n\t\t\t// https://www.sqlite.org/autoinc.html\r\n\t\t\treturn \"integer PRIMARY KEY AUTOINCREMENT\"\r\n\t\t} else {\r\n\t\t\treturn \"integer\"\r\n\t\t}\r\n```\r\n\r\nI'll have to look more into it when I get home. Thanks for the reply.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939713060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iSLC","id":2294815,"node_id":"MDQ6VXNlcjIyOTQ4MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2294815?v=4","gravatar_id":"","url":"https://api.github.com/users/iSLC","html_url":"https://github.com/iSLC","followers_url":"https://api.github.com/users/iSLC/followers","following_url":"https://api.github.com/users/iSLC/following{/other_user}","gists_url":"https://api.github.com/users/iSLC/gists{/gist_id}","starred_url":"https://api.github.com/users/iSLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iSLC/subscriptions","organizations_url":"https://api.github.com/users/iSLC/orgs","repos_url":"https://api.github.com/users/iSLC/repos","events_url":"https://api.github.com/users/iSLC/events{/privacy}","received_events_url":"https://api.github.com/users/iSLC/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5440945434,"node_id":"MEE_lADOANNq9M4860lhzwAAAAFETj0a","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440945434","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:12:38Z","performed_via_github_app":null},{"id":5440945437,"node_id":"SE_lADOANNq9M4860lhzwAAAAFETj0d","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440945437","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:12:38Z","performed_via_github_app":null},{"id":5440955582,"node_id":"UNLE_lADOANNq9M4860lhzwAAAAFETmS-","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440955582","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:15:17Z","label":{"name":"status:stale","color":"ededed"},"performed_via_github_app":null},{"actor":null,"created_at":"2021-10-11T06:19:49Z","updated_at":"2021-10-11T06:19:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/4747","repository_url":"https://api.github.com/repos/go-gorm/gorm","labels_url":"https://api.github.com/repos/go-gorm/gorm/issues/4747/labels{/name}","comments_url":"https://api.github.com/repos/go-gorm/gorm/issues/4747/comments","events_url":"https://api.github.com/repos/go-gorm/gorm/issues/4747/events","html_url":"https://github.com/go-gorm/gorm/issues/4747","id":1017824818,"node_id":"I_kwDOANNq9M48qsYy","number":4747,"title":"AutoIncrement don't work","user":{"login":"enzofoucaud","id":15039645,"node_id":"MDQ6VXNlcjE1MDM5NjQ1","avatar_url":"https://avatars.githubusercontent.com/u/15039645?v=4","gravatar_id":"","url":"https://api.github.com/users/enzofoucaud","html_url":"https://github.com/enzofoucaud","followers_url":"https://api.github.com/users/enzofoucaud/followers","following_url":"https://api.github.com/users/enzofoucaud/following{/other_user}","gists_url":"https://api.github.com/users/enzofoucaud/gists{/gist_id}","starred_url":"https://api.github.com/users/enzofoucaud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enzofoucaud/subscriptions","organizations_url":"https://api.github.com/users/enzofoucaud/orgs","repos_url":"https://api.github.com/users/enzofoucaud/repos","events_url":"https://api.github.com/users/enzofoucaud/events{/privacy}","received_events_url":"https://api.github.com/users/enzofoucaud/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":62593836,"node_id":"MDU6TGFiZWw2MjU5MzgzNg==","url":"https://api.github.com/repos/go-gorm/gorm/labels/type:question","name":"type:question","color":"EDEDED","default":false,"description":"general questions"}],"state":"closed","locked":false,"assignee":{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-10-06T08:53:18Z","updated_at":"2021-10-11T12:16:55Z","closed_at":"2021-10-10T08:15:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":13855476,"node_id":"MDEwOlJlcG9zaXRvcnkxMzg1NTQ3Ng==","name":"gorm","full_name":"go-gorm/gorm","private":false,"owner":{"login":"go-gorm","id":15127678,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MTI3Njc4","avatar_url":"https://avatars.githubusercontent.com/u/15127678?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gorm","html_url":"https://github.com/go-gorm","followers_url":"https://api.github.com/users/go-gorm/followers","following_url":"https://api.github.com/users/go-gorm/following{/other_user}","gists_url":"https://api.github.com/users/go-gorm/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gorm/subscriptions","organizations_url":"https://api.github.com/users/go-gorm/orgs","repos_url":"https://api.github.com/users/go-gorm/repos","events_url":"https://api.github.com/users/go-gorm/events{/privacy}","received_events_url":"https://api.github.com/users/go-gorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gorm/gorm","description":"The fantastic ORM library for Golang, aims to be developer friendly","fork":false,"url":"https://api.github.com/repos/go-gorm/gorm","forks_url":"https://api.github.com/repos/go-gorm/gorm/forks","keys_url":"https://api.github.com/repos/go-gorm/gorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gorm/gorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gorm/gorm/teams","hooks_url":"https://api.github.com/repos/go-gorm/gorm/hooks","issue_events_url":"https://api.github.com/repos/go-gorm/gorm/issues/events{/number}","events_url":"https://api.github.com/repos/go-gorm/gorm/events","assignees_url":"https://api.github.com/repos/go-gorm/gorm/assignees{/user}","branches_url":"https://api.github.com/repos/go-gorm/gorm/branches{/branch}","tags_url":"https://api.github.com/repos/go-gorm/gorm/tags","blobs_url":"https://api.github.com/repos/go-gorm/gorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gorm/gorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gorm/gorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gorm/gorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gorm/gorm/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gorm/gorm/languages","stargazers_url":"https://api.github.com/repos/go-gorm/gorm/stargazers","contributors_url":"https://api.github.com/repos/go-gorm/gorm/contributors","subscribers_url":"https://api.github.com/repos/go-gorm/gorm/subscribers","subscription_url":"https://api.github.com/repos/go-gorm/gorm/subscription","commits_url":"https://api.github.com/repos/go-gorm/gorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gorm/gorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gorm/gorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gorm/gorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gorm/gorm/contents/{+path}","compare_url":"https://api.github.com/repos/go-gorm/gorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gorm/gorm/merges","archive_url":"https://api.github.com/repos/go-gorm/gorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gorm/gorm/downloads","issues_url":"https://api.github.com/repos/go-gorm/gorm/issues{/number}","pulls_url":"https://api.github.com/repos/go-gorm/gorm/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gorm/gorm/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gorm/gorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gorm/gorm/labels{/name}","releases_url":"https://api.github.com/repos/go-gorm/gorm/releases{/id}","deployments_url":"https://api.github.com/repos/go-gorm/gorm/deployments","created_at":"2013-10-25T08:31:38Z","updated_at":"2025-11-09T14:58:39Z","pushed_at":"2025-11-04T07:04:52Z","git_url":"git://github.com/go-gorm/gorm.git","ssh_url":"git@github.com:go-gorm/gorm.git","clone_url":"https://github.com/go-gorm/gorm.git","svn_url":"https://github.com/go-gorm/gorm","homepage":"https://gorm.io","size":4699,"stargazers_count":39098,"watchers_count":39098,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4120,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":495,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","gorm","orm","web"],"visibility":"public","forks":4120,"open_issues":495,"watchers":39098,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!-- DON'T CHANGE THE TEMPLATE -->\r\n\r\n## Your Question\r\n\r\nHello, I have this following struct :\r\n**// Equipement\r\ntype Equipement struct {\r\n   ID              int    `gorm:\"primaryKey;autoIncrement\"`\r\n   IP              string `gorm:\"not null\"`\r\n   Username        string `gorm:\"not null\"`\r\n   AuthPass        string `gorm:\"not null\"`\r\n   AuthProtocol    string `gorm:\"not null\"`\r\n   PrivatePass     string `gorm:\"not null\"`\r\n   PrivateProtocol string `gorm:\"not null\"`\r\n}**\r\n\r\nand I want to put auto increment on my ID.. however I don't have anything when I do AutoMigrate()..\r\n\r\n![image](https://user-images.githubusercontent.com/15039645/136171213-3eeb2b1d-a629-45df-a102-9e80c45e69cd.png)\r\n\r\n## The document you expected this should be explained\r\n\r\nhttps://gorm.io/docs/models.html\r\nhttps://stackoverflow.com/questions/64759467/increment-struct-value-in-go\r\n\r\n## Expected answer\r\n\r\n<!-- What you want -->\r\n\r\n![image](https://user-images.githubusercontent.com/15039645/136171380-bff3de10-fc98-4f39-b7a3-c5c7df638451.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/4747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gorm/gorm/issues/4747/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":5440986472,"node_id":"CE_lADOANNq9M4860lhzwAAAAFETt1o","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440986472","actor":null,"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:23:05Z","state_reason":null,"performed_via_github_app":null},{"id":5440986482,"node_id":"MEE_lADOANNq9M4860lhzwAAAAFETt1y","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440986482","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:23:05Z","performed_via_github_app":null},{"id":5440986490,"node_id":"SE_lADOANNq9M4860lhzwAAAAFETt16","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440986490","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:23:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939719593","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-939719593","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":939719593,"node_id":"IC_kwDOANNq9M44Avup","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T06:23:26Z","updated_at":"2021-10-11T06:23:26Z","body":"> @longlihale ~So basically i only need to specify `autoIncrement` without `primaryKey`? At least that's what I can infer from the code at first glance.~ nvm I just read it wrong.\r\n> \r\n> ```go\r\n> case schema.Int, schema.Uint:\r\n> \t\tif field.AutoIncrement && !field.PrimaryKey {\r\n> \t\t\t// https://www.sqlite.org/autoinc.html\r\n> \t\t\treturn \"integer PRIMARY KEY AUTOINCREMENT\"\r\n> \t\t} else {\r\n> \t\t\treturn \"integer\"\r\n> \t\t}\r\n> ```\r\n> \r\n> I'll have to look more into it when I get home. Thanks for the reply.\r\n\r\nOK","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/939719593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5440987703,"node_id":"MEE_lADOANNq9M4860lhzwAAAAFETuI3","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440987703","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:23:26Z","performed_via_github_app":null},{"id":5440987706,"node_id":"SE_lADOANNq9M4860lhzwAAAAFETuI6","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/5440987706","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-11T06:23:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120141244","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-1120141244","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":1120141244,"node_id":"IC_kwDOANNq9M5Cw_-8","user":{"login":"yqchilde","id":36953759,"node_id":"MDQ6VXNlcjM2OTUzNzU5","avatar_url":"https://avatars.githubusercontent.com/u/36953759?v=4","gravatar_id":"","url":"https://api.github.com/users/yqchilde","html_url":"https://github.com/yqchilde","followers_url":"https://api.github.com/users/yqchilde/followers","following_url":"https://api.github.com/users/yqchilde/following{/other_user}","gists_url":"https://api.github.com/users/yqchilde/gists{/gist_id}","starred_url":"https://api.github.com/users/yqchilde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yqchilde/subscriptions","organizations_url":"https://api.github.com/users/yqchilde/orgs","repos_url":"https://api.github.com/users/yqchilde/repos","events_url":"https://api.github.com/users/yqchilde/events{/privacy}","received_events_url":"https://api.github.com/users/yqchilde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T05:53:35Z","updated_at":"2022-05-07T05:53:35Z","body":"If you want to set the auto-increment on the ID field, using the `autoIncrement` tag alone does not take effect, because the `primaryKey` is added to the ID by default, which makes it impossible to set the auto-increment on the ID field anyway.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120141244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yqchilde","id":36953759,"node_id":"MDQ6VXNlcjM2OTUzNzU5","avatar_url":"https://avatars.githubusercontent.com/u/36953759?v=4","gravatar_id":"","url":"https://api.github.com/users/yqchilde","html_url":"https://github.com/yqchilde","followers_url":"https://api.github.com/users/yqchilde/followers","following_url":"https://api.github.com/users/yqchilde/following{/other_user}","gists_url":"https://api.github.com/users/yqchilde/gists{/gist_id}","starred_url":"https://api.github.com/users/yqchilde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yqchilde/subscriptions","organizations_url":"https://api.github.com/users/yqchilde/orgs","repos_url":"https://api.github.com/users/yqchilde/repos","events_url":"https://api.github.com/users/yqchilde/events{/privacy}","received_events_url":"https://api.github.com/users/yqchilde/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120501193","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-1120501193","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":1120501193,"node_id":"IC_kwDOANNq9M5CyX3J","user":{"login":"Binary-Eater","id":10691440,"node_id":"MDQ6VXNlcjEwNjkxNDQw","avatar_url":"https://avatars.githubusercontent.com/u/10691440?v=4","gravatar_id":"","url":"https://api.github.com/users/Binary-Eater","html_url":"https://github.com/Binary-Eater","followers_url":"https://api.github.com/users/Binary-Eater/followers","following_url":"https://api.github.com/users/Binary-Eater/following{/other_user}","gists_url":"https://api.github.com/users/Binary-Eater/gists{/gist_id}","starred_url":"https://api.github.com/users/Binary-Eater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Binary-Eater/subscriptions","organizations_url":"https://api.github.com/users/Binary-Eater/orgs","repos_url":"https://api.github.com/users/Binary-Eater/repos","events_url":"https://api.github.com/users/Binary-Eater/events{/privacy}","received_events_url":"https://api.github.com/users/Binary-Eater/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T22:54:17Z","updated_at":"2022-05-08T22:54:17Z","body":"> If the AUTOINCREMENT keyword appears after INTEGER PRIMARY KEY, that changes the automatic ROWID assignment algorithm to prevent the reuse of ROWIDs over the lifetime of the database. In other words, the purpose of AUTOINCREMENT is to prevent the reuse of ROWIDs from previously deleted rows. \r\n\r\nThe above is from the SQLite docs. I think, given the docs, the logic in `go-gorm/sqlite3` should be `field.AutoIncrement && field.PrimaryKey` instead of [what it is currently](https://github.com/go-gorm/sqlite/blob/9ec45b1aed33c835d720916bb46a6aa0c131ab9e/sqlite.go#L168-L174).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120501193/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Binary-Eater","id":10691440,"node_id":"MDQ6VXNlcjEwNjkxNDQw","avatar_url":"https://avatars.githubusercontent.com/u/10691440?v=4","gravatar_id":"","url":"https://api.github.com/users/Binary-Eater","html_url":"https://github.com/Binary-Eater","followers_url":"https://api.github.com/users/Binary-Eater/followers","following_url":"https://api.github.com/users/Binary-Eater/following{/other_user}","gists_url":"https://api.github.com/users/Binary-Eater/gists{/gist_id}","starred_url":"https://api.github.com/users/Binary-Eater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Binary-Eater/subscriptions","organizations_url":"https://api.github.com/users/Binary-Eater/orgs","repos_url":"https://api.github.com/users/Binary-Eater/repos","events_url":"https://api.github.com/users/Binary-Eater/events{/privacy}","received_events_url":"https://api.github.com/users/Binary-Eater/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120502505","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-1120502505","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":1120502505,"node_id":"IC_kwDOANNq9M5CyYLp","user":{"login":"Binary-Eater","id":10691440,"node_id":"MDQ6VXNlcjEwNjkxNDQw","avatar_url":"https://avatars.githubusercontent.com/u/10691440?v=4","gravatar_id":"","url":"https://api.github.com/users/Binary-Eater","html_url":"https://github.com/Binary-Eater","followers_url":"https://api.github.com/users/Binary-Eater/followers","following_url":"https://api.github.com/users/Binary-Eater/following{/other_user}","gists_url":"https://api.github.com/users/Binary-Eater/gists{/gist_id}","starred_url":"https://api.github.com/users/Binary-Eater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Binary-Eater/subscriptions","organizations_url":"https://api.github.com/users/Binary-Eater/orgs","repos_url":"https://api.github.com/users/Binary-Eater/repos","events_url":"https://api.github.com/users/Binary-Eater/events{/privacy}","received_events_url":"https://api.github.com/users/Binary-Eater/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T23:03:49Z","updated_at":"2022-05-08T23:03:49Z","body":"Actually, one can use `autoIncrement` -> `INTEGER PRIMARY KEY AUTOINCREMENT` with sqlite3, so the current behavior makes sense to me.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1120502505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Binary-Eater","id":10691440,"node_id":"MDQ6VXNlcjEwNjkxNDQw","avatar_url":"https://avatars.githubusercontent.com/u/10691440?v=4","gravatar_id":"","url":"https://api.github.com/users/Binary-Eater","html_url":"https://github.com/Binary-Eater","followers_url":"https://api.github.com/users/Binary-Eater/followers","following_url":"https://api.github.com/users/Binary-Eater/following{/other_user}","gists_url":"https://api.github.com/users/Binary-Eater/gists{/gist_id}","starred_url":"https://api.github.com/users/Binary-Eater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Binary-Eater/subscriptions","organizations_url":"https://api.github.com/users/Binary-Eater/orgs","repos_url":"https://api.github.com/users/Binary-Eater/repos","events_url":"https://api.github.com/users/Binary-Eater/events{/privacy}","received_events_url":"https://api.github.com/users/Binary-Eater/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"d-Rickyy-b","id":5798157,"node_id":"MDQ6VXNlcjU3OTgxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/5798157?v=4","gravatar_id":"","url":"https://api.github.com/users/d-Rickyy-b","html_url":"https://github.com/d-Rickyy-b","followers_url":"https://api.github.com/users/d-Rickyy-b/followers","following_url":"https://api.github.com/users/d-Rickyy-b/following{/other_user}","gists_url":"https://api.github.com/users/d-Rickyy-b/gists{/gist_id}","starred_url":"https://api.github.com/users/d-Rickyy-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-Rickyy-b/subscriptions","organizations_url":"https://api.github.com/users/d-Rickyy-b/orgs","repos_url":"https://api.github.com/users/d-Rickyy-b/repos","events_url":"https://api.github.com/users/d-Rickyy-b/events{/privacy}","received_events_url":"https://api.github.com/users/d-Rickyy-b/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-27T13:56:34Z","updated_at":"2022-08-27T13:56:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/5598","repository_url":"https://api.github.com/repos/go-gorm/gorm","labels_url":"https://api.github.com/repos/go-gorm/gorm/issues/5598/labels{/name}","comments_url":"https://api.github.com/repos/go-gorm/gorm/issues/5598/comments","events_url":"https://api.github.com/repos/go-gorm/gorm/issues/5598/events","html_url":"https://github.com/go-gorm/gorm/issues/5598","id":1336604703,"node_id":"I_kwDOANNq9M5Pqvgf","number":5598,"title":"``AutoIncrement`` is Not Working","user":{"login":"KiddoV","id":28552977,"node_id":"MDQ6VXNlcjI4NTUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/28552977?v=4","gravatar_id":"","url":"https://api.github.com/users/KiddoV","html_url":"https://github.com/KiddoV","followers_url":"https://api.github.com/users/KiddoV/followers","following_url":"https://api.github.com/users/KiddoV/following{/other_user}","gists_url":"https://api.github.com/users/KiddoV/gists{/gist_id}","starred_url":"https://api.github.com/users/KiddoV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KiddoV/subscriptions","organizations_url":"https://api.github.com/users/KiddoV/orgs","repos_url":"https://api.github.com/users/KiddoV/repos","events_url":"https://api.github.com/users/KiddoV/events{/privacy}","received_events_url":"https://api.github.com/users/KiddoV/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":307121316,"node_id":"MDU6TGFiZWwzMDcxMjEzMTY=","url":"https://api.github.com/repos/go-gorm/gorm/labels/type:missing%20reproduction%20steps","name":"type:missing reproduction steps","color":"CF2E1F","default":false,"description":"missing reproduction steps"},{"id":2173972448,"node_id":"MDU6TGFiZWwyMTczOTcyNDQ4","url":"https://api.github.com/repos/go-gorm/gorm/labels/status:stale","name":"status:stale","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"jinzhu","id":6843,"node_id":"MDQ6VXNlcjY4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6843?v=4","gravatar_id":"","url":"https://api.github.com/users/jinzhu","html_url":"https://github.com/jinzhu","followers_url":"https://api.github.com/users/jinzhu/followers","following_url":"https://api.github.com/users/jinzhu/following{/other_user}","gists_url":"https://api.github.com/users/jinzhu/gists{/gist_id}","starred_url":"https://api.github.com/users/jinzhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinzhu/subscriptions","organizations_url":"https://api.github.com/users/jinzhu/orgs","repos_url":"https://api.github.com/users/jinzhu/repos","events_url":"https://api.github.com/users/jinzhu/events{/privacy}","received_events_url":"https://api.github.com/users/jinzhu/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":7,"created_at":"2022-08-11T23:56:12Z","updated_at":"2022-10-07T13:46:50Z","closed_at":"2022-10-07T13:46:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":13855476,"node_id":"MDEwOlJlcG9zaXRvcnkxMzg1NTQ3Ng==","name":"gorm","full_name":"go-gorm/gorm","private":false,"owner":{"login":"go-gorm","id":15127678,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MTI3Njc4","avatar_url":"https://avatars.githubusercontent.com/u/15127678?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gorm","html_url":"https://github.com/go-gorm","followers_url":"https://api.github.com/users/go-gorm/followers","following_url":"https://api.github.com/users/go-gorm/following{/other_user}","gists_url":"https://api.github.com/users/go-gorm/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gorm/subscriptions","organizations_url":"https://api.github.com/users/go-gorm/orgs","repos_url":"https://api.github.com/users/go-gorm/repos","events_url":"https://api.github.com/users/go-gorm/events{/privacy}","received_events_url":"https://api.github.com/users/go-gorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gorm/gorm","description":"The fantastic ORM library for Golang, aims to be developer friendly","fork":false,"url":"https://api.github.com/repos/go-gorm/gorm","forks_url":"https://api.github.com/repos/go-gorm/gorm/forks","keys_url":"https://api.github.com/repos/go-gorm/gorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gorm/gorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gorm/gorm/teams","hooks_url":"https://api.github.com/repos/go-gorm/gorm/hooks","issue_events_url":"https://api.github.com/repos/go-gorm/gorm/issues/events{/number}","events_url":"https://api.github.com/repos/go-gorm/gorm/events","assignees_url":"https://api.github.com/repos/go-gorm/gorm/assignees{/user}","branches_url":"https://api.github.com/repos/go-gorm/gorm/branches{/branch}","tags_url":"https://api.github.com/repos/go-gorm/gorm/tags","blobs_url":"https://api.github.com/repos/go-gorm/gorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gorm/gorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gorm/gorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gorm/gorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gorm/gorm/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gorm/gorm/languages","stargazers_url":"https://api.github.com/repos/go-gorm/gorm/stargazers","contributors_url":"https://api.github.com/repos/go-gorm/gorm/contributors","subscribers_url":"https://api.github.com/repos/go-gorm/gorm/subscribers","subscription_url":"https://api.github.com/repos/go-gorm/gorm/subscription","commits_url":"https://api.github.com/repos/go-gorm/gorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gorm/gorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gorm/gorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gorm/gorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gorm/gorm/contents/{+path}","compare_url":"https://api.github.com/repos/go-gorm/gorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gorm/gorm/merges","archive_url":"https://api.github.com/repos/go-gorm/gorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gorm/gorm/downloads","issues_url":"https://api.github.com/repos/go-gorm/gorm/issues{/number}","pulls_url":"https://api.github.com/repos/go-gorm/gorm/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gorm/gorm/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gorm/gorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gorm/gorm/labels{/name}","releases_url":"https://api.github.com/repos/go-gorm/gorm/releases{/id}","deployments_url":"https://api.github.com/repos/go-gorm/gorm/deployments","created_at":"2013-10-25T08:31:38Z","updated_at":"2025-11-09T14:58:39Z","pushed_at":"2025-11-04T07:04:52Z","git_url":"git://github.com/go-gorm/gorm.git","ssh_url":"git@github.com:go-gorm/gorm.git","clone_url":"https://github.com/go-gorm/gorm.git","svn_url":"https://github.com/go-gorm/gorm","homepage":"https://gorm.io","size":4699,"stargazers_count":39098,"watchers_count":39098,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4120,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":495,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","gorm","orm","web"],"visibility":"public","forks":4120,"open_issues":495,"watchers":39098,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Why is my database doesn't check ``AutoIncrement`` in this simple use case?\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"gorm.io/driver/sqlite\"\r\n\t\"gorm.io/gorm\"\r\n)\r\n\r\ntype (\r\n\tProduct struct {\r\n\t\tgorm.Model\r\n\t\tCode  string\r\n\t\tPrice uint\r\n\t}\r\n\r\n\tUser struct {\r\n\t\tUserId    uint   `gorm:\"primaryKey;not null;autoIncrement\"`\r\n\t\tUsername  string `gorm:\"not null\"`\r\n\t\tPassword  string `gorm:\"not null\"`\r\n\t\tFirstName string `gorm:\"not null\"`\r\n\t\tLastName  string `gorm:\"not null\"`\r\n\t\tUserRole  string `gorm:\"not null\"`\r\n\t}\r\n)\r\n\r\nfunc main() {\r\n\tdb, err := gorm.Open(sqlite.Open(\"test.db\"), &gorm.Config{})\r\n\tif err != nil {\r\n\t\tpanic(\"failed to connect database\")\r\n\t}\r\n\r\n\t// Migrate the schema\r\n\tdb.AutoMigrate(&Product{}, &User{})\r\n}\r\n\r\n```\r\n![Capture](https://user-images.githubusercontent.com/28552977/184261113-7bd4aea7-1e75-43eb-a79e-614767f34439.PNG)\r\n\r\nMy Platform:\r\n- Windows 10\r\n- Go v1.18.3\r\n\r\nNotes:\r\nI also tried ``autoIncrement:true`` still doesn't work.\r\n","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/5598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gorm/gorm/issues/5598/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1489915643","html_url":"https://github.com/go-gorm/gorm/issues/4760#issuecomment-1489915643","issue_url":"https://api.github.com/repos/go-gorm/gorm/issues/4760","id":1489915643,"node_id":"IC_kwDOANNq9M5Yzk77","user":{"login":"onlyshow","id":12505832,"node_id":"MDQ6VXNlcjEyNTA1ODMy","avatar_url":"https://avatars.githubusercontent.com/u/12505832?v=4","gravatar_id":"","url":"https://api.github.com/users/onlyshow","html_url":"https://github.com/onlyshow","followers_url":"https://api.github.com/users/onlyshow/followers","following_url":"https://api.github.com/users/onlyshow/following{/other_user}","gists_url":"https://api.github.com/users/onlyshow/gists{/gist_id}","starred_url":"https://api.github.com/users/onlyshow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onlyshow/subscriptions","organizations_url":"https://api.github.com/users/onlyshow/orgs","repos_url":"https://api.github.com/users/onlyshow/repos","events_url":"https://api.github.com/users/onlyshow/events{/privacy}","received_events_url":"https://api.github.com/users/onlyshow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T08:37:54Z","updated_at":"2023-03-30T08:37:54Z","body":"How was it finally resolved?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/comments/1489915643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"onlyshow","id":12505832,"node_id":"MDQ6VXNlcjEyNTA1ODMy","avatar_url":"https://avatars.githubusercontent.com/u/12505832?v=4","gravatar_id":"","url":"https://api.github.com/users/onlyshow","html_url":"https://github.com/onlyshow","followers_url":"https://api.github.com/users/onlyshow/followers","following_url":"https://api.github.com/users/onlyshow/following{/other_user}","gists_url":"https://api.github.com/users/onlyshow/gists{/gist_id}","starred_url":"https://api.github.com/users/onlyshow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onlyshow/subscriptions","organizations_url":"https://api.github.com/users/onlyshow/orgs","repos_url":"https://api.github.com/users/onlyshow/repos","events_url":"https://api.github.com/users/onlyshow/events{/privacy}","received_events_url":"https://api.github.com/users/onlyshow/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10551993554,"node_id":"REFE_lADOANNq9M4860lhzwAAAAJ08qTS","url":"https://api.github.com/repos/go-gorm/gorm/issues/events/10551993554","actor":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3fe5335dfd1e4700c115d70c45a175228991abf2","commit_url":"https://api.github.com/repos/samuelncui/gorm/commits/3fe5335dfd1e4700c115d70c45a175228991abf2","created_at":"2023-10-04T14:34:29Z","performed_via_github_app":null},{"actor":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T14:48:41Z","updated_at":"2023-10-04T14:48:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/6624","repository_url":"https://api.github.com/repos/go-gorm/gorm","labels_url":"https://api.github.com/repos/go-gorm/gorm/issues/6624/labels{/name}","comments_url":"https://api.github.com/repos/go-gorm/gorm/issues/6624/comments","events_url":"https://api.github.com/repos/go-gorm/gorm/issues/6624/events","html_url":"https://github.com/go-gorm/gorm/pull/6624","id":1926388179,"node_id":"PR_kwDOANNq9M5b6Pet","number":6624,"title":"fix: sqlite dialector cannot apply `PRIMARY KEY AUTOINCREMENT` type","user":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-04T14:48:40Z","updated_at":"2023-10-09T09:26:27Z","closed_at":"2023-10-09T09:26:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":13855476,"node_id":"MDEwOlJlcG9zaXRvcnkxMzg1NTQ3Ng==","name":"gorm","full_name":"go-gorm/gorm","private":false,"owner":{"login":"go-gorm","id":15127678,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MTI3Njc4","avatar_url":"https://avatars.githubusercontent.com/u/15127678?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gorm","html_url":"https://github.com/go-gorm","followers_url":"https://api.github.com/users/go-gorm/followers","following_url":"https://api.github.com/users/go-gorm/following{/other_user}","gists_url":"https://api.github.com/users/go-gorm/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gorm/subscriptions","organizations_url":"https://api.github.com/users/go-gorm/orgs","repos_url":"https://api.github.com/users/go-gorm/repos","events_url":"https://api.github.com/users/go-gorm/events{/privacy}","received_events_url":"https://api.github.com/users/go-gorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gorm/gorm","description":"The fantastic ORM library for Golang, aims to be developer friendly","fork":false,"url":"https://api.github.com/repos/go-gorm/gorm","forks_url":"https://api.github.com/repos/go-gorm/gorm/forks","keys_url":"https://api.github.com/repos/go-gorm/gorm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gorm/gorm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gorm/gorm/teams","hooks_url":"https://api.github.com/repos/go-gorm/gorm/hooks","issue_events_url":"https://api.github.com/repos/go-gorm/gorm/issues/events{/number}","events_url":"https://api.github.com/repos/go-gorm/gorm/events","assignees_url":"https://api.github.com/repos/go-gorm/gorm/assignees{/user}","branches_url":"https://api.github.com/repos/go-gorm/gorm/branches{/branch}","tags_url":"https://api.github.com/repos/go-gorm/gorm/tags","blobs_url":"https://api.github.com/repos/go-gorm/gorm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gorm/gorm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gorm/gorm/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gorm/gorm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gorm/gorm/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gorm/gorm/languages","stargazers_url":"https://api.github.com/repos/go-gorm/gorm/stargazers","contributors_url":"https://api.github.com/repos/go-gorm/gorm/contributors","subscribers_url":"https://api.github.com/repos/go-gorm/gorm/subscribers","subscription_url":"https://api.github.com/repos/go-gorm/gorm/subscription","commits_url":"https://api.github.com/repos/go-gorm/gorm/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gorm/gorm/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gorm/gorm/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gorm/gorm/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gorm/gorm/contents/{+path}","compare_url":"https://api.github.com/repos/go-gorm/gorm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gorm/gorm/merges","archive_url":"https://api.github.com/repos/go-gorm/gorm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gorm/gorm/downloads","issues_url":"https://api.github.com/repos/go-gorm/gorm/issues{/number}","pulls_url":"https://api.github.com/repos/go-gorm/gorm/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gorm/gorm/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gorm/gorm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gorm/gorm/labels{/name}","releases_url":"https://api.github.com/repos/go-gorm/gorm/releases{/id}","deployments_url":"https://api.github.com/repos/go-gorm/gorm/deployments","created_at":"2013-10-25T08:31:38Z","updated_at":"2025-11-09T14:58:39Z","pushed_at":"2025-11-04T07:04:52Z","git_url":"git://github.com/go-gorm/gorm.git","ssh_url":"git@github.com:go-gorm/gorm.git","clone_url":"https://github.com/go-gorm/gorm.git","svn_url":"https://github.com/go-gorm/gorm","homepage":"https://gorm.io","size":4699,"stargazers_count":39098,"watchers_count":39098,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4120,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":495,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","gorm","orm","web"],"visibility":"public","forks":4120,"open_issues":495,"watchers":39098,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gorm/gorm/pulls/6624","html_url":"https://github.com/go-gorm/gorm/pull/6624","diff_url":"https://github.com/go-gorm/gorm/pull/6624.diff","patch_url":"https://github.com/go-gorm/gorm/pull/6624.patch","merged_at":"2023-10-09T09:26:27Z"},"body":"<!--\r\nMake sure these boxes checked before submitting your pull request.\r\n\r\nFor significant changes, please open an issue to make an agreement on an implementation design/plan first before starting it.\r\n-->\r\n\r\n- [x] Do only one thing\r\n- [x] Non breaking API changes\r\n- [x] Tested\r\n\r\n### What did this pull request do?\r\n\r\nFix #4760. Currently, sqlite dialector can't apply `AUTOINCREMENT` to the field type. The reason this method cannot work is if a field is marked as `AutoIncrement` and `PrimaryKey` at the same time, when we apply `AUTOINCREMENT` to data type, it will create SQL like the following:\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer PRIMARY KEY AUTOINCREMENT, ..., PRIMARY KEY (`id`))'\r\n```\r\n\r\nThis can cause `SQL logic error: table \"example_table\" has more than one primary key (1)` error, because there is two `PRIMARY KEY` definition in this statement. The root cause is `hasPrimaryKeyInDataType` doesn't check the result of `Dialector.DataTypeOf` method.\r\n\r\n By checking the result of `Dialector.DataTypeOf` method, a dialector can define its behavior for `AUTOINCREMENT & PRIMARY KEY` situation.\r\n\r\n### User Case Description\r\n\r\nThe following struct:\r\n\r\n```go\r\ntype ExampleTable struct {\r\n\tID     int64  `gorm:\"primaryKey;autoIncrement\" json:\"id,omitempty\"`\r\n\t...\r\n}\r\n```\r\n\r\nUsed to generate table DDL as:\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer, ..., PRIMARY KEY (`id`))'\r\n```\r\n\r\nWhich doesn't mark `id` field as `AUTOINCREMENT`. Currently, the `id` field roughly acts like `AUTOINCREMENT,` but it doesn't in many areas. This implementation may cause some issues like id reusing when deleting rows.\r\n\r\nNow, it will generate table DDL as (if sqlite dialector is also changed):\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer PRIMARY KEY AUTOINCREMENT, ...)'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/go-gorm/gorm/issues/6624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gorm/gorm/issues/6624/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T15:06:35Z","updated_at":"2023-10-04T15:06:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/glebarez/sqlite/issues/103","repository_url":"https://api.github.com/repos/glebarez/sqlite","labels_url":"https://api.github.com/repos/glebarez/sqlite/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/glebarez/sqlite/issues/103/comments","events_url":"https://api.github.com/repos/glebarez/sqlite/issues/103/events","html_url":"https://github.com/glebarez/sqlite/pull/103","id":1926440878,"node_id":"PR_kwDOGcw1Fc5b6bdr","number":103,"title":"fix: AUTOINCREMENT flag cannot apply with PRIMARY KEY","user":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-04T15:06:34Z","updated_at":"2023-10-20T03:37:53Z","closed_at":"2023-10-20T03:37:53Z","author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":432813333,"node_id":"R_kgDOGcw1FQ","name":"sqlite","full_name":"glebarez/sqlite","private":false,"owner":{"login":"glebarez","id":47985861,"node_id":"MDQ6VXNlcjQ3OTg1ODYx","avatar_url":"https://avatars.githubusercontent.com/u/47985861?v=4","gravatar_id":"","url":"https://api.github.com/users/glebarez","html_url":"https://github.com/glebarez","followers_url":"https://api.github.com/users/glebarez/followers","following_url":"https://api.github.com/users/glebarez/following{/other_user}","gists_url":"https://api.github.com/users/glebarez/gists{/gist_id}","starred_url":"https://api.github.com/users/glebarez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glebarez/subscriptions","organizations_url":"https://api.github.com/users/glebarez/orgs","repos_url":"https://api.github.com/users/glebarez/repos","events_url":"https://api.github.com/users/glebarez/events{/privacy}","received_events_url":"https://api.github.com/users/glebarez/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/glebarez/sqlite","description":"The pure-Go SQLite driver for GORM","fork":true,"url":"https://api.github.com/repos/glebarez/sqlite","forks_url":"https://api.github.com/repos/glebarez/sqlite/forks","keys_url":"https://api.github.com/repos/glebarez/sqlite/keys{/key_id}","collaborators_url":"https://api.github.com/repos/glebarez/sqlite/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/glebarez/sqlite/teams","hooks_url":"https://api.github.com/repos/glebarez/sqlite/hooks","issue_events_url":"https://api.github.com/repos/glebarez/sqlite/issues/events{/number}","events_url":"https://api.github.com/repos/glebarez/sqlite/events","assignees_url":"https://api.github.com/repos/glebarez/sqlite/assignees{/user}","branches_url":"https://api.github.com/repos/glebarez/sqlite/branches{/branch}","tags_url":"https://api.github.com/repos/glebarez/sqlite/tags","blobs_url":"https://api.github.com/repos/glebarez/sqlite/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/glebarez/sqlite/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/glebarez/sqlite/git/refs{/sha}","trees_url":"https://api.github.com/repos/glebarez/sqlite/git/trees{/sha}","statuses_url":"https://api.github.com/repos/glebarez/sqlite/statuses/{sha}","languages_url":"https://api.github.com/repos/glebarez/sqlite/languages","stargazers_url":"https://api.github.com/repos/glebarez/sqlite/stargazers","contributors_url":"https://api.github.com/repos/glebarez/sqlite/contributors","subscribers_url":"https://api.github.com/repos/glebarez/sqlite/subscribers","subscription_url":"https://api.github.com/repos/glebarez/sqlite/subscription","commits_url":"https://api.github.com/repos/glebarez/sqlite/commits{/sha}","git_commits_url":"https://api.github.com/repos/glebarez/sqlite/git/commits{/sha}","comments_url":"https://api.github.com/repos/glebarez/sqlite/comments{/number}","issue_comment_url":"https://api.github.com/repos/glebarez/sqlite/issues/comments{/number}","contents_url":"https://api.github.com/repos/glebarez/sqlite/contents/{+path}","compare_url":"https://api.github.com/repos/glebarez/sqlite/compare/{base}...{head}","merges_url":"https://api.github.com/repos/glebarez/sqlite/merges","archive_url":"https://api.github.com/repos/glebarez/sqlite/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/glebarez/sqlite/downloads","issues_url":"https://api.github.com/repos/glebarez/sqlite/issues{/number}","pulls_url":"https://api.github.com/repos/glebarez/sqlite/pulls{/number}","milestones_url":"https://api.github.com/repos/glebarez/sqlite/milestones{/number}","notifications_url":"https://api.github.com/repos/glebarez/sqlite/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/glebarez/sqlite/labels{/name}","releases_url":"https://api.github.com/repos/glebarez/sqlite/releases{/id}","deployments_url":"https://api.github.com/repos/glebarez/sqlite/deployments","created_at":"2021-11-28T20:07:15Z","updated_at":"2025-11-06T09:23:23Z","pushed_at":"2024-06-12T23:44:04Z","git_url":"git://github.com/glebarez/sqlite.git","ssh_url":"git@github.com:glebarez/sqlite.git","clone_url":"https://github.com/glebarez/sqlite.git","svn_url":"https://github.com/glebarez/sqlite","homepage":"","size":361,"stargazers_count":802,"watchers_count":802,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":54,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":22,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["driver","golang","gorm","gorm-driver","gorm-orm","sqlite","sqlite3"],"visibility":"public","forks":54,"open_issues":22,"watchers":802,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/glebarez/sqlite/pulls/103","html_url":"https://github.com/glebarez/sqlite/pull/103","diff_url":"https://github.com/glebarez/sqlite/pull/103.diff","patch_url":"https://github.com/glebarez/sqlite/pull/103.patch","merged_at":null},"body":"Fix this problem https://github.com/go-gorm/gorm/issues/4760\r\n\r\nWork with this PR to GORM: https://github.com/go-gorm/gorm/pull/6624","reactions":{"url":"https://api.github.com/repos/glebarez/sqlite/issues/103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glebarez/sqlite/issues/103/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T15:15:22Z","updated_at":"2023-10-04T15:15:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gorm/sqlite/issues/167","repository_url":"https://api.github.com/repos/go-gorm/sqlite","labels_url":"https://api.github.com/repos/go-gorm/sqlite/issues/167/labels{/name}","comments_url":"https://api.github.com/repos/go-gorm/sqlite/issues/167/comments","events_url":"https://api.github.com/repos/go-gorm/sqlite/issues/167/events","html_url":"https://github.com/go-gorm/sqlite/pull/167","id":1926458784,"node_id":"PR_kwDOEAOZ185b6fce","number":167,"title":"fix: AUTOINCREMENT flag cannot apply with PRIMARY KEY","user":{"login":"samuelncui","id":7183284,"node_id":"MDQ6VXNlcjcxODMyODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7183284?v=4","gravatar_id":"","url":"https://api.github.com/users/samuelncui","html_url":"https://github.com/samuelncui","followers_url":"https://api.github.com/users/samuelncui/followers","following_url":"https://api.github.com/users/samuelncui/following{/other_user}","gists_url":"https://api.github.com/users/samuelncui/gists{/gist_id}","starred_url":"https://api.github.com/users/samuelncui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samuelncui/subscriptions","organizations_url":"https://api.github.com/users/samuelncui/orgs","repos_url":"https://api.github.com/users/samuelncui/repos","events_url":"https://api.github.com/users/samuelncui/events{/privacy}","received_events_url":"https://api.github.com/users/samuelncui/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-04T15:15:01Z","updated_at":"2023-10-08T11:58:14Z","closed_at":"2023-10-08T02:47:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":268671447,"node_id":"MDEwOlJlcG9zaXRvcnkyNjg2NzE0NDc=","name":"sqlite","full_name":"go-gorm/sqlite","private":false,"owner":{"login":"go-gorm","id":15127678,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1MTI3Njc4","avatar_url":"https://avatars.githubusercontent.com/u/15127678?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gorm","html_url":"https://github.com/go-gorm","followers_url":"https://api.github.com/users/go-gorm/followers","following_url":"https://api.github.com/users/go-gorm/following{/other_user}","gists_url":"https://api.github.com/users/go-gorm/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gorm/subscriptions","organizations_url":"https://api.github.com/users/go-gorm/orgs","repos_url":"https://api.github.com/users/go-gorm/repos","events_url":"https://api.github.com/users/go-gorm/events{/privacy}","received_events_url":"https://api.github.com/users/go-gorm/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gorm/sqlite","description":"GORM sqlite driver","fork":false,"url":"https://api.github.com/repos/go-gorm/sqlite","forks_url":"https://api.github.com/repos/go-gorm/sqlite/forks","keys_url":"https://api.github.com/repos/go-gorm/sqlite/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gorm/sqlite/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gorm/sqlite/teams","hooks_url":"https://api.github.com/repos/go-gorm/sqlite/hooks","issue_events_url":"https://api.github.com/repos/go-gorm/sqlite/issues/events{/number}","events_url":"https://api.github.com/repos/go-gorm/sqlite/events","assignees_url":"https://api.github.com/repos/go-gorm/sqlite/assignees{/user}","branches_url":"https://api.github.com/repos/go-gorm/sqlite/branches{/branch}","tags_url":"https://api.github.com/repos/go-gorm/sqlite/tags","blobs_url":"https://api.github.com/repos/go-gorm/sqlite/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gorm/sqlite/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gorm/sqlite/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gorm/sqlite/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gorm/sqlite/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gorm/sqlite/languages","stargazers_url":"https://api.github.com/repos/go-gorm/sqlite/stargazers","contributors_url":"https://api.github.com/repos/go-gorm/sqlite/contributors","subscribers_url":"https://api.github.com/repos/go-gorm/sqlite/subscribers","subscription_url":"https://api.github.com/repos/go-gorm/sqlite/subscription","commits_url":"https://api.github.com/repos/go-gorm/sqlite/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gorm/sqlite/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gorm/sqlite/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gorm/sqlite/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gorm/sqlite/contents/{+path}","compare_url":"https://api.github.com/repos/go-gorm/sqlite/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gorm/sqlite/merges","archive_url":"https://api.github.com/repos/go-gorm/sqlite/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gorm/sqlite/downloads","issues_url":"https://api.github.com/repos/go-gorm/sqlite/issues{/number}","pulls_url":"https://api.github.com/repos/go-gorm/sqlite/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gorm/sqlite/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gorm/sqlite/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gorm/sqlite/labels{/name}","releases_url":"https://api.github.com/repos/go-gorm/sqlite/releases{/id}","deployments_url":"https://api.github.com/repos/go-gorm/sqlite/deployments","created_at":"2020-06-02T01:25:27Z","updated_at":"2025-10-26T12:35:27Z","pushed_at":"2025-11-04T02:15:55Z","git_url":"git://github.com/go-gorm/sqlite.git","ssh_url":"git@github.com:go-gorm/sqlite.git","clone_url":"https://github.com/go-gorm/sqlite.git","svn_url":"https://github.com/go-gorm/sqlite","homepage":"","size":115,"stargazers_count":211,"watchers_count":211,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":209,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":17,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["gorm-sqlite-driver"],"visibility":"public","forks":209,"open_issues":17,"watchers":211,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gorm/sqlite/pulls/167","html_url":"https://github.com/go-gorm/sqlite/pull/167","diff_url":"https://github.com/go-gorm/sqlite/pull/167.diff","patch_url":"https://github.com/go-gorm/sqlite/pull/167.patch","merged_at":"2023-10-08T02:47:19Z"},"body":"<!--\r\nMake sure these boxes checked before submitting your pull request.\r\n\r\nFor significant changes, please open an issue to make an agreement on an implementation design/plan first before starting it.\r\n-->\r\n\r\n- [x] Do only one thing\r\n- [x] Non breaking API changes\r\n- [x] Tested\r\n\r\n### What did this pull request do?\r\n\r\nFix #4760. Currently, sqlite dialector can't apply `AUTOINCREMENT` to the field type. The reason this method cannot work is if a field is marked as `AutoIncrement` and `PrimaryKey` at the same time, when we apply `AUTOINCREMENT` to data type, it will create SQL like the following:\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer PRIMARY KEY AUTOINCREMENT, ..., PRIMARY KEY (`id`))'\r\n```\r\n\r\nThis can cause `SQL logic error: table \"example_table\" has more than one primary key (1)` error, because there is two `PRIMARY KEY` definition in this statement. The root cause is `hasPrimaryKeyInDataType` doesn't check the result of `Dialector.DataTypeOf` method.\r\n\r\n By checking the result of `Dialector.DataTypeOf` method, a dialector can define its behavior for `AUTOINCREMENT & PRIMARY KEY` situation.\r\n\r\n### User Case Description\r\n\r\nThe following struct:\r\n\r\n```go\r\ntype ExampleTable struct {\r\n\tID     int64  `gorm:\"primaryKey;autoIncrement\" json:\"id,omitempty\"`\r\n\t...\r\n}\r\n```\r\n\r\nUsed to generate table DDL as:\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer, ..., PRIMARY KEY (`id`))'\r\n```\r\n\r\nWhich doesn't mark `id` field as `AUTOINCREMENT`. Currently, the `id` field roughly acts like `AUTOINCREMENT,` but it doesn't in many areas. This implementation may cause some issues like id reusing when deleting rows.\r\n\r\nNow, it will generate table DDL as (if sqlite dialector is also changed):\r\n\r\n```sql\r\nCREATE TABLE `example_table` (`id` integer PRIMARY KEY AUTOINCREMENT, ...)'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/go-gorm/sqlite/issues/167/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gorm/sqlite/issues/167/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]