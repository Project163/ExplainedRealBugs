[{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18668504","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-18668504","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":18668504,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NjY4NTA0","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-30T08:48:49Z","updated_at":"2013-05-30T08:48:49Z","body":"Hm, it definitely shouldn't matter what your widget is extending. I'll dive into this tomorrow to try and figure out why it's breaking. Thanks for the detailed report!\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18668504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18729283","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-18729283","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":18729283,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NzI5Mjgz","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-31T07:43:27Z","updated_at":"2013-05-31T07:43:27Z","body":"So the underlying problem here is pretty interesting (skip to the bottom if you just want to see the fix). The issue is with the methods from DOM.java in GWT that create elements. LayoutPanel uses these directly instead of going through the nicer Document API. They look like this:\n\n``` java\npublic static Element createDiv() {\n  return Document.get().createDivElement().cast();\n}\n```\n\nThe issue is the cast() method, which is designed to coerce any JavaScriptObject into any other. This is fine when GWT is compiled to Javascript, but it causes some havoc in Java when you try to cast one class to something it doesn't extend. That's what's happening in GWT here - `Element` in this case is actually `com.google.gwt.user.client.Element`, which is a sibling of `com.google.gwt.dom.client.DivElement`, not a parent. So the cast fails.\n\nIt would be nice if we could just stub calls to cast() to return new mocks of the appropriate type (so it's not really a cast at all), but unfortunately it's impossible to figure out what type we actually want to cast to at runtime since that information is only contained in the generic definition of cast, which is lost at runtime. Too bad cast doesn't take the target class as an argument. So implementing cast() in a completely satisfying way probably isn't going to happen.\n\nWhat I can do is stub out the create methods in DOM entirely to return mock Elements. This should avoid breakages when using code that calls into DOM as LayoutPanel does. The only case that this won't cover is when code does a weird cast like `IFrameElement e = Document.get().createDivElement().cast()`. But it's pretty unclear how GwtMockito should handle this case anyways and it seems fine to ask people to stick with GWTTestCase if they want to be that weird.\n\nSo, long story short, I've pushed a workaround for this in commit ce7323e5aab66f63342ba9065c91713a8bb06d7f. Want to try building GwtMockito from HEAD and seeing if that solves your problem?\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18729283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18746815","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-18746815","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":18746815,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NzQ2ODE1","user":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-05-31T14:07:17Z","updated_at":"2013-05-31T14:07:17Z","body":"Thank you for the very detailed answer. Unfortunately, the problem has been solved only partially.\n\nFirst of all, I can successfully build commit ce7323e5aab66f63342ba9065c91713a8bb06d7f but the latest one (8f7f4afed768df2593319f7aa9f2e62b4735e555) results in three errors during Maven test phase. You can find the Surefire output here: https://gist.github.com/konradstrack/3a457db40d38a154b976#file-gistfile1-txt\n\nBut when I use ce7323e5aab66f63342ba9065c91713a8bb06d7f, the test passes if I don't attach any child widgets to MyPanel. So, this is alright:\n\n``` java\npublic class MyPanel extends SimpleLayoutPanel {\n\n    public MyPanel() {\n        Label label = GWT.create(Label.class);\n        label.setText(\"It's my panel\");\n\n//        add(label);\n    }\n}\n```\n\nBut the original test results in an AssertionError. So, if I try to add a Label:\n\n``` java\npublic class MyPanel extends SimpleLayoutPanel {\n\n    public MyPanel() {\n        Label label = GWT.create(Label.class);\n        label.setText(\"It's my panel\");\n\n        add(label);\n    }\n}\n```\n\nI get:\n\n```\njava.lang.AssertionError\n    at com.google.gwt.user.client.ui.Panel.adopt(Panel.java:126)\n    at com.google.gwt.user.client.ui.SimpleLayoutPanel.setWidget(SimpleLayoutPanel.java:89)\n    at com.google.gwt.user.client.ui.SimplePanel.add(SimplePanel.java:69)\n    at cern.ais.plugin.gwt.client.layout.view.MyPanel.<init>(MyPanel.java:13)\n    at cern.ais.plugin.gwt.client.layout.view.MyPanelTests.setUp(MyPanelTests.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at com.google.gwtmockito.GwtMockitoTestRunner.run(GwtMockitoTestRunner.java:104)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:77)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:195)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18746815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18786038","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-18786038","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":18786038,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Nzg2MDM4","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-01T09:11:36Z","updated_at":"2013-06-01T09:11:36Z","body":"Oops, last-minute visibility change broke the tests. Pushed a fix for that.\n\nThe next problem is interesting. The reason GwtMockito works well with Composites is that all the code for widgets lives behind fields that can be mocked out. This gets harder when you're extending a real widget. For your case, it would work fine if you extended Composite and wrapped a LayoutPanel since we could mock out the add() call, but since you're extending LayoutPanel instead it gets harder to mock since your class inherits a real add method.\n\nBut extending non-Composite widgets is common enough that GwtMockito should find a way to make it work. I think what it can do is stub out the implementations for all of the methods in a bunch of common base widget classes - UIObject, Widget, Composite, and all the Panels seem like good candidates. This effectively allows us to \"mock\" the superclass of the widget. It's still probably not as testable as using a Composite since you can't stub and verify the methods individually, but it should at least allow subclasses to be instantiated and their methods be called without breaking.\n\nI've implemented this in 11cb40a251da0c159c4f088bd4c9b106597a1c18. Let me know if that helps with your use case.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18786038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18827820","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-18827820","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":18827820,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODI3ODIw","user":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T08:27:30Z","updated_at":"2013-06-03T08:43:19Z","body":"I have just tested GwtMockito from HEAD on the original test case and it seems to work perfectly fine. Thank you for fixing the problem, and in such short time.\n\nThere is however one other possible use case that I don't really know how to handle, and if it is in any way supported by GwtMockito right now. Everything seems to be fine if you extend something that comes from GWT. But if, for instance, my widget would be extending something like a SimpleContainer from GXT it would fall into similar problems.\n\nWould it be enough to create an additional provider for SimpleContainer, or is there another mechanism that would allow to provide mocks for parents which are not standard GWT widgets?\n\nPS. Sorry for prematurely closing the issue.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/18827820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":51098331,"node_id":"MDExOkNsb3NlZEV2ZW50NTEwOTgzMzE=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/51098331","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2013-06-03T08:27:30Z","state_reason":null,"performed_via_github_app":null},{"id":51098851,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ1MTA5ODg1MQ==","url":"https://api.github.com/repos/google/gwtmockito/issues/events/51098851","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2013-06-03T08:31:40Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19161158","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19161158","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19161158,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTYxMTU4","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-09T05:27:25Z","updated_at":"2013-06-09T05:27:25Z","body":"It probably doesn't make sense to add SimpleContainer to the list of things GwtMockito knows about, since that would introduce a dependency from GwtMockito to GXT.\n\nHowever, it probably would be a good idea to make the list user-configurable. I'm not aware of an easy way to pass arguments to test runners, but we could probably accomplish this by making GwtMockitoTestRunner overridable, such that the set of classes to stub could be configured via a protected method. So if you're using GXT, you could define an override of GwtMockitoTestRunner that adds all the GXT base classes to the stub list, and use that in your tests, How does that sound?\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19161158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19162442","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19162442","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19162442,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTYyNDQy","user":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-09T08:08:12Z","updated_at":"2013-06-09T08:08:12Z","body":"I totally agree that it doesn't make sense to add any weird dependencies to GwtMockito - GXT is not the only set of widgets out there, and SimpleContainer is probably not the only thing that may need mocking.\n\nThe proposed solution seems very good, and pretty convenient too - for sure much more convenient than stubbing classes in every test case.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19162442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19180345","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19180345","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19180345,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTgwMzQ1","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-10T04:23:52Z","updated_at":"2013-06-10T04:23:52Z","body":"Okay, I've provided a protected method that you can override in 2e9f9f44d13b5d9c4599d4df0ab9acf58dc61dab. Check it out and let me know if it works like you want it to.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19180345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19542177","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19542177","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19542177,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTQyMTc3","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-17T12:41:32Z","updated_at":"2013-06-17T14:05:11Z","body":"Hi! I've took over that issue from @konradstrack. Finally it works! The only thing is that the default class list is not full at all. For example the ListBox expose this method.\n\n``` java\n  private SelectElement getSelectElement() {\n    return getElement().cast();\n  }\n```\n\n And it's failing for the mentioned reason.\n My proposal is to find all classes programatically in GWT ( and expose some method to find all classes to mock in 3rd party libs like GXT) which calling the cast() function and automatically include them into list. Should not be that hard thing.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19542177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":52899873,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTI4OTk4NzM=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/52899873","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2013-06-17T12:41:32Z","performed_via_github_app":null},{"id":52899874,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUyODk5ODc0","url":"https://api.github.com/repos/google/gwtmockito/issues/events/52899874","actor":{"login":"konradstrack","id":363290,"node_id":"MDQ6VXNlcjM2MzI5MA==","avatar_url":"https://avatars.githubusercontent.com/u/363290?v=4","gravatar_id":"","url":"https://api.github.com/users/konradstrack","html_url":"https://github.com/konradstrack","followers_url":"https://api.github.com/users/konradstrack/followers","following_url":"https://api.github.com/users/konradstrack/following{/other_user}","gists_url":"https://api.github.com/users/konradstrack/gists{/gist_id}","starred_url":"https://api.github.com/users/konradstrack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradstrack/subscriptions","organizations_url":"https://api.github.com/users/konradstrack/orgs","repos_url":"https://api.github.com/users/konradstrack/repos","events_url":"https://api.github.com/users/konradstrack/events{/privacy}","received_events_url":"https://api.github.com/users/konradstrack/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2013-06-17T12:41:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19883758","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19883758","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19883758,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODgzNzU4","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-23T23:28:39Z","updated_at":"2013-06-23T23:28:39Z","body":"Yeah, the default class list is intentionally pretty narrow and I'm not including every GWT widget in it. I want to start by being fairly conservative about what goes on the list such that there's as little magic happening as possible. I think I'll wait a while to see what people think of the current setup and then re-examine if there's demand for expanding the default list.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19883758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19939942","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-19939942","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":19939942,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTM5OTQy","user":{"login":"justinmk","id":1359421,"node_id":"MDQ6VXNlcjEzNTk0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1359421?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmk","html_url":"https://github.com/justinmk","followers_url":"https://api.github.com/users/justinmk/followers","following_url":"https://api.github.com/users/justinmk/following{/other_user}","gists_url":"https://api.github.com/users/justinmk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmk/subscriptions","organizations_url":"https://api.github.com/users/justinmk/orgs","repos_url":"https://api.github.com/users/justinmk/repos","events_url":"https://api.github.com/users/justinmk/events{/privacy}","received_events_url":"https://api.github.com/users/justinmk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-24T22:14:06Z","updated_at":"2013-06-24T22:14:36Z","body":"This worked well for me. For Sencha GXT, I am using the following:\n\n```\n@Override\nprotected Collection<Class<?>> getClassesToStub() {\n    Collection<Class<?>> classes = super.getClassesToStub();\n    classes.add(XElement.class);\n    classes.add(SimpleContainer.class);\n    classes.add(ResizeContainer.class);\n    classes.add(Container.class);\n    classes.add(StyleInjectorHelper.class);\n    classes.add(NorthSouthContainer.class);\n    classes.add(Draggable.class);\n    classes.add(GridDragSource.class);\n    return classes;\n}\n```\n\nAlso, Sencha GXT actually calls `getElement().cast()` in the constructor of some GXT widgets, such as `Draggable`. To deal with that, I stub the `getElement()` method of the injected widget(s):\n\n```\n    XElement el = XElement.createElement(\"div\");\n    Mockito.when(mockWidget.getElement()).thenReturn(el);\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/19939942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinmk","id":1359421,"node_id":"MDQ6VXNlcjEzNTk0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1359421?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmk","html_url":"https://github.com/justinmk","followers_url":"https://api.github.com/users/justinmk/followers","following_url":"https://api.github.com/users/justinmk/following{/other_user}","gists_url":"https://api.github.com/users/justinmk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmk/subscriptions","organizations_url":"https://api.github.com/users/justinmk/orgs","repos_url":"https://api.github.com/users/justinmk/repos","events_url":"https://api.github.com/users/justinmk/events{/privacy}","received_events_url":"https://api.github.com/users/justinmk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24283396","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-24283396","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":24283396,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjgzMzk2","user":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-09-11T23:03:02Z","updated_at":"2013-09-11T23:09:44Z","body":"I'm having this identical issue, and upgrading to GWTMockito 1.1.1 did not help\n\nIn my case I'm using a custom DataTable that extends com.google.gwt.user.cellview.client.CellTable\n\nWhat fails is line 613 in CellTable\n\n``` java\ntable = getElement().cast();\n```\n\njava.lang.ClassCastException: com.google.gwt.user.client.Element$$EnhancerByMockitoWithCGLIB$$55b005a0 cannot be cast to com.google.gwt.dom.client.TableElement\n    at com.google.gwt.user.cellview.client.CellTable.<init>(CellTable.java:613)\n\nThe problem is getElement return type is `com.google.gwt.user.client.Element`, which is a sibling of `com.google.gwt.dom.client.TableElement`.  Their mutual base class is `com.google.gwt.dom.client.Element`\n\nHow would I go about fixing this with explicit mocking in my test?  I tried the following, but it doesn't compile due to the sibling issue:\n\n``` java\nwhen(myTable.getElement()).thenReturn(mock(TableElement.class));\n```\n\nBut honestly I'm not even sure how this could work, because since this happens in the constructor of CellTable, there is a catch 22.  I can't mock the object until I construct it and I can't construct it without getElement be mocked.  How would one mock out a base class?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24283396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-09-13T04:34:12Z","updated_at":"2013-09-13T04:34:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/google/gwtmockito/issues/15","repository_url":"https://api.github.com/repos/google/gwtmockito","labels_url":"https://api.github.com/repos/google/gwtmockito/issues/15/labels{/name}","comments_url":"https://api.github.com/repos/google/gwtmockito/issues/15/comments","events_url":"https://api.github.com/repos/google/gwtmockito/issues/15/events","html_url":"https://github.com/google/gwtmockito/issues/15","id":19430087,"node_id":"MDU6SXNzdWUxOTQzMDA4Nw==","number":15,"title":"LayoutComposite requires that its wrapped widget implement RequiresResize","user":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2013-09-13T04:34:11Z","updated_at":"2013-09-19T17:46:01Z","closed_at":"2013-09-19T17:46:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":9922054,"node_id":"MDEwOlJlcG9zaXRvcnk5OTIyMDU0","name":"gwtmockito","full_name":"google/gwtmockito","private":false,"owner":{"login":"google","id":1342004,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzNDIwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1342004?v=4","gravatar_id":"","url":"https://api.github.com/users/google","html_url":"https://github.com/google","followers_url":"https://api.github.com/users/google/followers","following_url":"https://api.github.com/users/google/following{/other_user}","gists_url":"https://api.github.com/users/google/gists{/gist_id}","starred_url":"https://api.github.com/users/google/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/google/subscriptions","organizations_url":"https://api.github.com/users/google/orgs","repos_url":"https://api.github.com/users/google/repos","events_url":"https://api.github.com/users/google/events{/privacy}","received_events_url":"https://api.github.com/users/google/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/google/gwtmockito","description":"Better GWT unit testing","fork":false,"url":"https://api.github.com/repos/google/gwtmockito","forks_url":"https://api.github.com/repos/google/gwtmockito/forks","keys_url":"https://api.github.com/repos/google/gwtmockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/google/gwtmockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/google/gwtmockito/teams","hooks_url":"https://api.github.com/repos/google/gwtmockito/hooks","issue_events_url":"https://api.github.com/repos/google/gwtmockito/issues/events{/number}","events_url":"https://api.github.com/repos/google/gwtmockito/events","assignees_url":"https://api.github.com/repos/google/gwtmockito/assignees{/user}","branches_url":"https://api.github.com/repos/google/gwtmockito/branches{/branch}","tags_url":"https://api.github.com/repos/google/gwtmockito/tags","blobs_url":"https://api.github.com/repos/google/gwtmockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/google/gwtmockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/google/gwtmockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/google/gwtmockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/google/gwtmockito/statuses/{sha}","languages_url":"https://api.github.com/repos/google/gwtmockito/languages","stargazers_url":"https://api.github.com/repos/google/gwtmockito/stargazers","contributors_url":"https://api.github.com/repos/google/gwtmockito/contributors","subscribers_url":"https://api.github.com/repos/google/gwtmockito/subscribers","subscription_url":"https://api.github.com/repos/google/gwtmockito/subscription","commits_url":"https://api.github.com/repos/google/gwtmockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/google/gwtmockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/google/gwtmockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/google/gwtmockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/google/gwtmockito/contents/{+path}","compare_url":"https://api.github.com/repos/google/gwtmockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/google/gwtmockito/merges","archive_url":"https://api.github.com/repos/google/gwtmockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/google/gwtmockito/downloads","issues_url":"https://api.github.com/repos/google/gwtmockito/issues{/number}","pulls_url":"https://api.github.com/repos/google/gwtmockito/pulls{/number}","milestones_url":"https://api.github.com/repos/google/gwtmockito/milestones{/number}","notifications_url":"https://api.github.com/repos/google/gwtmockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/google/gwtmockito/labels{/name}","releases_url":"https://api.github.com/repos/google/gwtmockito/releases{/id}","deployments_url":"https://api.github.com/repos/google/gwtmockito/deployments","created_at":"2013-05-07T21:27:35Z","updated_at":"2025-10-10T08:12:25Z","pushed_at":"2024-02-06T19:38:15Z","git_url":"git://github.com/google/gwtmockito.git","ssh_url":"git@github.com:google/gwtmockito.git","clone_url":"https://github.com/google/gwtmockito.git","svn_url":"https://github.com/google/gwtmockito","homepage":"https://google.github.io/gwtmockito","size":406,"stargazers_count":160,"watchers_count":160,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":52,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":23,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":52,"open_issues":23,"watchers":160,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I have a widget which extends `ResizeComposite`, and I'm using the GwtMockitoTestRunner\n\nThe call inside the constructor `initWidget(uiBinder.createAndBindUi(this));` fails with this exception because initWidget inside `ResizeComposite` has the following assert:\n\n``` java\n    assert widget instanceof RequiresResize :\n      \"LayoutComposite requires that its wrapped widget implement RequiresResize\";\n```\n\nI have a feeling this is related to https://github.com/google/gwtmockito/issues/4, but perhaps not. \n\nI realize uiBinder is a FakeUiBinder, but I think it should ensure that the mocks it returns do more than just initialize the UiFields, it should also ensure to implement all the original interfaces of the owner widget.\n","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/gwtmockito/issues/15/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24530747","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-24530747","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":24530747,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTMwNzQ3","user":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-09-16T18:03:46Z","updated_at":"2013-09-16T18:03:46Z","body":"There is a further issue with the suggested workaround in https://github.com/google/gwtmockito/issues/4#issuecomment-18729283\n\nAs suggested, the following snippet fixes the problem for Labels created as part of code executed within the test:\n\n``` java\n        DivElement divElement = mock(DivElement.class);\n        when(divElement.getTagName()).thenReturn(\"div\");\n        final Document document = Document.get();\n        when(document.createDivElement()).thenReturn(divElement);\n```\n\nHowever, if the Label is part of a class or base class for a type that the test is attempting to @GwtMock, the failing assertion code will execute before the mocks can get setup and executed\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24530747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24718624","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-24718624","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":24718624,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzE4NjI0","user":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-09-19T05:56:23Z","updated_at":"2013-09-19T05:56:23Z","body":"@nikp - if your problem is a misbehaving base class in `CellTable`, you might be able to fix it by adding `CellTable` to the list of base classes to stub. Try defining a subclass of `GwtMockitoTestRunner` that overrides a method like this:\n\n``` java\n  @Override\n  protected Collection<Class<?>> getClassesToStub() {\n    Collection<Class<?>> classes = super.getClassesToStub();\n    classes.add(CellTable.class);\n    return classes;\n  }\n```\n\nCan you let me know if that helps? If so I could add CellTable to the list of classes to stub by default.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24718624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":66171433,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NjYxNzE0MzM=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/66171433","actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2013-09-19T05:56:23Z","performed_via_github_app":null},{"id":66171434,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY2MTcxNDM0","url":"https://api.github.com/repos/google/gwtmockito/issues/events/66171434","actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2013-09-19T05:56:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24759091","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-24759091","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":24759091,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzU5MDkx","user":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-09-19T17:47:07Z","updated_at":"2013-09-19T17:47:07Z","body":"Thanks @ekuefler, I will try that!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/24759091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nikp","id":791940,"node_id":"MDQ6VXNlcjc5MTk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/791940?v=4","gravatar_id":"","url":"https://api.github.com/users/nikp","html_url":"https://github.com/nikp","followers_url":"https://api.github.com/users/nikp/followers","following_url":"https://api.github.com/users/nikp/following{/other_user}","gists_url":"https://api.github.com/users/nikp/gists{/gist_id}","starred_url":"https://api.github.com/users/nikp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikp/subscriptions","organizations_url":"https://api.github.com/users/nikp/orgs","repos_url":"https://api.github.com/users/nikp/repos","events_url":"https://api.github.com/users/nikp/events{/privacy}","received_events_url":"https://api.github.com/users/nikp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":66281643,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NjYyODE2NDM=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/66281643","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2013-09-19T17:47:07Z","performed_via_github_app":null},{"id":66281644,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY2MjgxNjQ0","url":"https://api.github.com/repos/google/gwtmockito/issues/events/66281644","actor":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2013-09-19T17:47:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/26122441","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-26122441","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":26122441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTIyNDQx","user":{"login":"avetokhin","id":3389147,"node_id":"MDQ6VXNlcjMzODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/3389147?v=4","gravatar_id":"","url":"https://api.github.com/users/avetokhin","html_url":"https://github.com/avetokhin","followers_url":"https://api.github.com/users/avetokhin/followers","following_url":"https://api.github.com/users/avetokhin/following{/other_user}","gists_url":"https://api.github.com/users/avetokhin/gists{/gist_id}","starred_url":"https://api.github.com/users/avetokhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avetokhin/subscriptions","organizations_url":"https://api.github.com/users/avetokhin/orgs","repos_url":"https://api.github.com/users/avetokhin/repos","events_url":"https://api.github.com/users/avetokhin/events{/privacy}","received_events_url":"https://api.github.com/users/avetokhin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-10-11T08:40:14Z","updated_at":"2013-10-11T09:15:41Z","body":"Hi. There is a problem with com.google.gwt.user.client.ui.Image class too. Image uses private inner class com.google.gwt.user.client.ui.Image.UnclippedState and I don't have access to it. When I create new Image(\"anyUrl\") (in my view class which I want to test) I have an exception: com.google.gwt.user.client.Element$$EnhancerByMockitoWithCGLIB$$5830e7d1 cannot be cast to com.google.gwt.dom.client.ImageElement from UnclippedState's method: \n\n@Override  \n public ImageElement getImageElement(Image image) {\n      return image.getElement().cast();\n    }\n\nBecause Image is mocked it returns Element which cannot be cast to ImageElement.\n\nDo you have any ideas how to fix it?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/26122441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"avetokhin","id":3389147,"node_id":"MDQ6VXNlcjMzODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/3389147?v=4","gravatar_id":"","url":"https://api.github.com/users/avetokhin","html_url":"https://github.com/avetokhin","followers_url":"https://api.github.com/users/avetokhin/followers","following_url":"https://api.github.com/users/avetokhin/following{/other_user}","gists_url":"https://api.github.com/users/avetokhin/gists{/gist_id}","starred_url":"https://api.github.com/users/avetokhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avetokhin/subscriptions","organizations_url":"https://api.github.com/users/avetokhin/orgs","repos_url":"https://api.github.com/users/avetokhin/repos","events_url":"https://api.github.com/users/avetokhin/events{/privacy}","received_events_url":"https://api.github.com/users/avetokhin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":69828825,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Njk4Mjg4MjU=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/69828825","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2013-10-11T08:40:14Z","performed_via_github_app":null},{"id":69828826,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY5ODI4ODI2","url":"https://api.github.com/repos/google/gwtmockito/issues/events/69828826","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2013-10-11T08:40:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/28142159","html_url":"https://github.com/google/gwtmockito/issues/4#issuecomment-28142159","issue_url":"https://api.github.com/repos/google/gwtmockito/issues/4","id":28142159,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyMTU5","user":{"login":"justinmk","id":1359421,"node_id":"MDQ6VXNlcjEzNTk0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1359421?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmk","html_url":"https://github.com/justinmk","followers_url":"https://api.github.com/users/justinmk/followers","following_url":"https://api.github.com/users/justinmk/following{/other_user}","gists_url":"https://api.github.com/users/justinmk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmk/subscriptions","organizations_url":"https://api.github.com/users/justinmk/orgs","repos_url":"https://api.github.com/users/justinmk/repos","events_url":"https://api.github.com/users/justinmk/events{/privacy}","received_events_url":"https://api.github.com/users/justinmk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T02:02:45Z","updated_at":"2013-11-10T02:03:55Z","body":"@avetokhin I'm pretty sure that should just be a matter of stubbing out `Image.getElement()`. Something like this (from memory):\n\n```\n@GwtMock Image mockImage;\nMockito.when(mockImage.getElement()).thenReturn(ImageElement.class);\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/comments/28142159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"justinmk","id":1359421,"node_id":"MDQ6VXNlcjEzNTk0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1359421?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmk","html_url":"https://github.com/justinmk","followers_url":"https://api.github.com/users/justinmk/followers","following_url":"https://api.github.com/users/justinmk/following{/other_user}","gists_url":"https://api.github.com/users/justinmk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmk/subscriptions","organizations_url":"https://api.github.com/users/justinmk/orgs","repos_url":"https://api.github.com/users/justinmk/repos","events_url":"https://api.github.com/users/justinmk/events{/privacy}","received_events_url":"https://api.github.com/users/justinmk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":75030692,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NzUwMzA2OTI=","url":"https://api.github.com/repos/google/gwtmockito/issues/events/75030692","actor":{"login":"avetokhin","id":3389147,"node_id":"MDQ6VXNlcjMzODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/3389147?v=4","gravatar_id":"","url":"https://api.github.com/users/avetokhin","html_url":"https://github.com/avetokhin","followers_url":"https://api.github.com/users/avetokhin/followers","following_url":"https://api.github.com/users/avetokhin/following{/other_user}","gists_url":"https://api.github.com/users/avetokhin/gists{/gist_id}","starred_url":"https://api.github.com/users/avetokhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avetokhin/subscriptions","organizations_url":"https://api.github.com/users/avetokhin/orgs","repos_url":"https://api.github.com/users/avetokhin/repos","events_url":"https://api.github.com/users/avetokhin/events{/privacy}","received_events_url":"https://api.github.com/users/avetokhin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2013-11-10T02:02:45Z","performed_via_github_app":null},{"id":75030693,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDc1MDMwNjkz","url":"https://api.github.com/repos/google/gwtmockito/issues/events/75030693","actor":{"login":"avetokhin","id":3389147,"node_id":"MDQ6VXNlcjMzODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/3389147?v=4","gravatar_id":"","url":"https://api.github.com/users/avetokhin","html_url":"https://github.com/avetokhin","followers_url":"https://api.github.com/users/avetokhin/followers","following_url":"https://api.github.com/users/avetokhin/following{/other_user}","gists_url":"https://api.github.com/users/avetokhin/gists{/gist_id}","starred_url":"https://api.github.com/users/avetokhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avetokhin/subscriptions","organizations_url":"https://api.github.com/users/avetokhin/orgs","repos_url":"https://api.github.com/users/avetokhin/repos","events_url":"https://api.github.com/users/avetokhin/events{/privacy}","received_events_url":"https://api.github.com/users/avetokhin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2013-11-10T02:02:45Z","performed_via_github_app":null}]