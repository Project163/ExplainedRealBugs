{"url":"https://api.github.com/repos/google/gwtmockito/issues/5","repository_url":"https://api.github.com/repos/google/gwtmockito","labels_url":"https://api.github.com/repos/google/gwtmockito/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/google/gwtmockito/issues/5/comments","events_url":"https://api.github.com/repos/google/gwtmockito/issues/5/events","html_url":"https://github.com/google/gwtmockito/issues/5","id":14990139,"node_id":"MDU6SXNzdWUxNDk5MDEzOQ==","number":5,"title":"Problem running tests with GwtMockitoTestRunner when classpath is assembled at runtime","user":{"login":"bwolff","id":1532631,"node_id":"MDQ6VXNlcjE1MzI2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1532631?v=4","gravatar_id":"","url":"https://api.github.com/users/bwolff","html_url":"https://github.com/bwolff","followers_url":"https://api.github.com/users/bwolff/followers","following_url":"https://api.github.com/users/bwolff/following{/other_user}","gists_url":"https://api.github.com/users/bwolff/gists{/gist_id}","starred_url":"https://api.github.com/users/bwolff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwolff/subscriptions","organizations_url":"https://api.github.com/users/bwolff/orgs","repos_url":"https://api.github.com/users/bwolff/repos","events_url":"https://api.github.com/users/bwolff/events{/privacy}","received_events_url":"https://api.github.com/users/bwolff/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2013-05-31T11:58:10Z","updated_at":"2015-11-06T15:05:51Z","closed_at":"2013-06-22T20:21:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\n\nfirst I want to say that the GwtMockito lib is really a very nice and promising approach that would benefit us much in testing our GWT client code!\n\nCurrently, I'm blocked by a problem to programmatically run the tests with the GwtMockitoTestRunner. When I create a test and use the @RunWith annotation and then use the IntelliJ IDE JUnit test runner to run the class (right-click on the test class) it works. The JUnit runner runs the \"java\" commands and passes all libs and folders via the -classpath parameter (which is a lot! ;)).\n\nNow I want to run the test from within the Grails framework. The problem is (I believe) that the test classpath is assembled at runtime and before running the tests the current thread's contextClassLoader is modified with all the required libs and folders etc. When I now want to programmatically invoke the GwtMockitoTestRunner the problem is that the custom GwtMockitoClassLoader can't find my test class. The test class is found by the Thread classLoader though.\n\nI'm not really familiar with the JUnit test runner internals, but the only thing I can imagine is that the GwtMockitoClassLoader respects classloader resources passed when the application is started, but not the current context classLoader of the thread?\n\nI checked the sources for the GwtMockitoTestRunner.java and the GwtMockitoClassLoader and it seems that the initialization is done in the constructor and the classloader class is private, so there is no hook to interfere with the classloader resource locations...\n\nI know this description is rather vague, but maybe you already have an idea what the problem may be? If you require additional information I would be happy to provide them.\n\nMaybe we could also produce a small code snippet that show how the GwtTestRunner can be invoked on a test class / test classes in a programmatic way?\n\nThank you!\n\nCheers,\nBen\n","closed_by":{"login":"ekuefler","id":666477,"node_id":"MDQ6VXNlcjY2NjQ3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/666477?v=4","gravatar_id":"","url":"https://api.github.com/users/ekuefler","html_url":"https://github.com/ekuefler","followers_url":"https://api.github.com/users/ekuefler/followers","following_url":"https://api.github.com/users/ekuefler/following{/other_user}","gists_url":"https://api.github.com/users/ekuefler/gists{/gist_id}","starred_url":"https://api.github.com/users/ekuefler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekuefler/subscriptions","organizations_url":"https://api.github.com/users/ekuefler/orgs","repos_url":"https://api.github.com/users/ekuefler/repos","events_url":"https://api.github.com/users/ekuefler/events{/privacy}","received_events_url":"https://api.github.com/users/ekuefler/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google/gwtmockito/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/gwtmockito/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"}