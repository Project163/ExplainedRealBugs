{"url":"https://api.github.com/repos/helix-editor/helix/issues/2390","repository_url":"https://api.github.com/repos/helix-editor/helix","labels_url":"https://api.github.com/repos/helix-editor/helix/issues/2390/labels{/name}","comments_url":"https://api.github.com/repos/helix-editor/helix/issues/2390/comments","events_url":"https://api.github.com/repos/helix-editor/helix/issues/2390/events","html_url":"https://github.com/helix-editor/helix/issues/2390","id":1224942922,"node_id":"I_kwDOD__WI85JAyVK","number":2390,"title":"ctrl-W sometimes deletes a character from the wrong side of the cursor","user":{"login":"scgtrp","id":2174843,"node_id":"MDQ6VXNlcjIxNzQ4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/2174843?v=4","gravatar_id":"","url":"https://api.github.com/users/scgtrp","html_url":"https://github.com/scgtrp","followers_url":"https://api.github.com/users/scgtrp/followers","following_url":"https://api.github.com/users/scgtrp/following{/other_user}","gists_url":"https://api.github.com/users/scgtrp/gists{/gist_id}","starred_url":"https://api.github.com/users/scgtrp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scgtrp/subscriptions","organizations_url":"https://api.github.com/users/scgtrp/orgs","repos_url":"https://api.github.com/users/scgtrp/repos","events_url":"https://api.github.com/users/scgtrp/events{/privacy}","received_events_url":"https://api.github.com/users/scgtrp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2101491828,"node_id":"MDU6TGFiZWwyMTAxNDkxODI4","url":"https://api.github.com/repos/helix-editor/helix/labels/C-bug","name":"C-bug","color":"C5DEF5","default":false,"description":"Category: This is a bug"}],"state":"closed","locked":false,"assignee":{"login":"pickfire","id":4687791,"node_id":"MDQ6VXNlcjQ2ODc3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4687791?v=4","gravatar_id":"","url":"https://api.github.com/users/pickfire","html_url":"https://github.com/pickfire","followers_url":"https://api.github.com/users/pickfire/followers","following_url":"https://api.github.com/users/pickfire/following{/other_user}","gists_url":"https://api.github.com/users/pickfire/gists{/gist_id}","starred_url":"https://api.github.com/users/pickfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickfire/subscriptions","organizations_url":"https://api.github.com/users/pickfire/orgs","repos_url":"https://api.github.com/users/pickfire/repos","events_url":"https://api.github.com/users/pickfire/events{/privacy}","received_events_url":"https://api.github.com/users/pickfire/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"pickfire","id":4687791,"node_id":"MDQ6VXNlcjQ2ODc3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4687791?v=4","gravatar_id":"","url":"https://api.github.com/users/pickfire","html_url":"https://github.com/pickfire","followers_url":"https://api.github.com/users/pickfire/followers","following_url":"https://api.github.com/users/pickfire/following{/other_user}","gists_url":"https://api.github.com/users/pickfire/gists{/gist_id}","starred_url":"https://api.github.com/users/pickfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickfire/subscriptions","organizations_url":"https://api.github.com/users/pickfire/orgs","repos_url":"https://api.github.com/users/pickfire/repos","events_url":"https://api.github.com/users/pickfire/events{/privacy}","received_events_url":"https://api.github.com/users/pickfire/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2022-05-04T05:37:58Z","updated_at":"2022-05-11T01:12:27Z","closed_at":"2022-05-11T01:12:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Summary\n\nWhen in insert mode, you can use ctrl-W to delete words from the left of the cursor, like many other terminal programs. Sometimes, this also deletes the character to the right of the cursor in addition to the word to the left.\r\n\r\nThis seems to be triggered by punctuation adjacent to letters; I have not managed to work out under exactly what circumstances it happens, but I have found that:\r\n- it is deterministic (so not race conditions from hitting ^W^W^W too fast or something)\r\n- it is reproducible in plain text mode (so not LSP weirdness)\r\n- it does not happen with space-separated words\n\n### Reproduction Steps\n\nRecording, if you'd prefer that: https://asciinema.org/a/EQ1VxVOSIMiWT9Upk4OSyBMQw\r\n\r\n- In an empty buffer, enter some text with punctuation, e.g. `hello::world::I::have::some::namespaces`\r\n- Place the cursor between the word `have` and the following `::`, with no selection.\r\n- Press `i`, then `ctrl-W` seven times.\r\n- At this point I would expect the remaining text to be `::some::namespaces`; instead, it is `me::namespaces`.\r\n- Probably related: continuing to press `^W` after there is no more text at the start of the line deletes one additional character each time.\n\n### Helix log\n\n<details><summary>~/.cache/helix/helix.log</summary>\r\nNothing relevant, only these two lines complaining about my theme:\r\n\r\n```\r\n2022-05-04T01:32:01.596 helix_view::theme [WARN] Theme: malformed hexcode: form\r\n2022-05-04T01:32:01.596 helix_view::theme [WARN] Theme: malformed hexcode: fg\r\n```\r\n\r\n</details>\r\n\n\n### Platform\n\nLinux\n\n### Terminal Emulator\n\nkitty 0.25.0\n\n### Helix Version\n\n22.03 (Arch package), and also git 22.03-185-g09a17e4f","closed_by":{"login":"archseer","id":1372918,"node_id":"MDQ6VXNlcjEzNzI5MTg=","avatar_url":"https://avatars.githubusercontent.com/u/1372918?v=4","gravatar_id":"","url":"https://api.github.com/users/archseer","html_url":"https://github.com/archseer","followers_url":"https://api.github.com/users/archseer/followers","following_url":"https://api.github.com/users/archseer/following{/other_user}","gists_url":"https://api.github.com/users/archseer/gists{/gist_id}","starred_url":"https://api.github.com/users/archseer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archseer/subscriptions","organizations_url":"https://api.github.com/users/archseer/orgs","repos_url":"https://api.github.com/users/archseer/repos","events_url":"https://api.github.com/users/archseer/events{/privacy}","received_events_url":"https://api.github.com/users/archseer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helix-editor/helix/issues/2390/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/helix-editor/helix/issues/2390/timeline","performed_via_github_app":null,"state_reason":"completed"}