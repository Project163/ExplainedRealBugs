{"url":"https://api.github.com/repos/helix-editor/helix/issues/12329","repository_url":"https://api.github.com/repos/helix-editor/helix","labels_url":"https://api.github.com/repos/helix-editor/helix/issues/12329/labels{/name}","comments_url":"https://api.github.com/repos/helix-editor/helix/issues/12329/comments","events_url":"https://api.github.com/repos/helix-editor/helix/issues/12329/events","html_url":"https://github.com/helix-editor/helix/issues/12329","id":2757133826,"node_id":"I_kwDOD__WI86kVoYC","number":12329,"title":"`replace_selections_with_clipboard` doesn't remove `cr` on windows","user":{"login":"sibouras","id":64098483,"node_id":"MDQ6VXNlcjY0MDk4NDgz","avatar_url":"https://avatars.githubusercontent.com/u/64098483?v=4","gravatar_id":"","url":"https://api.github.com/users/sibouras","html_url":"https://github.com/sibouras","followers_url":"https://api.github.com/users/sibouras/followers","following_url":"https://api.github.com/users/sibouras/following{/other_user}","gists_url":"https://api.github.com/users/sibouras/gists{/gist_id}","starred_url":"https://api.github.com/users/sibouras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sibouras/subscriptions","organizations_url":"https://api.github.com/users/sibouras/orgs","repos_url":"https://api.github.com/users/sibouras/repos","events_url":"https://api.github.com/users/sibouras/events{/privacy}","received_events_url":"https://api.github.com/users/sibouras/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2101491828,"node_id":"MDU6TGFiZWwyMTAxNDkxODI4","url":"https://api.github.com/repos/helix-editor/helix/labels/C-bug","name":"C-bug","color":"C5DEF5","default":false,"description":"Category: This is a bug"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-24T04:10:21Z","updated_at":"2024-12-25T16:38:51Z","closed_at":"2024-12-25T16:38:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Summary\r\n\r\nwhen copying multiline text on windows and then replacing the selection with `space+R` the carriage return `cr` doesn't get removed which causes bugs in biome formatting, pasting with `space+p` works fine though\r\n\r\n### Reproduction Steps\r\n\r\nsample code to copy\r\n```js\r\nconst people = [\r\n\t{ name: \"one\", year: 2000 },\r\n\t{ name: \"two\", year: 2001 },\r\n\t{ name: \"three\", year: 2002 },\r\n\t{ name: \"four\", year: 2003 },\r\n];\r\n```\r\n\r\nhttps://github.com/user-attachments/assets/a2e67005-4881-45e9-ba74-d0f6fb18cc9c\r\n\r\n\r\nI tried this:\r\n\r\n1. open helix, paste the sample text and save\r\n2. `biome format` , no `cr` is showing(expected)\r\n3. replace the selection with `space+R`\r\n4. `biome format` shows `cr`\r\n5. run `fmt` multiple times and biome gets confused\r\n\r\nthis is my config\r\n```toml\r\n[[language]]\r\nname = \"javascript\"\r\nlanguage-servers = [\r\n  { name = 'biome' },\r\n  { name = 'typescript-language-server', except-features = ['format'] },\r\n]\r\n\r\n[language-server.biome]\r\ncommand = \"biome\"\r\nargs = [\"lsp-proxy\"]\r\nrequired-root-patterns = [\"biome.json\", \"biome.jsonc\"]\r\n\r\n```\r\n\r\n### Helix log\r\n\r\n<details><summary>~/.cache/helix/helix.log</summary>\r\n\r\n```\r\nplease provide a copy of `~/.cache/helix/helix.log` here if possible, you may need to redact some of the lines\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Platform\r\n\r\nwindows\r\n\r\n### Terminal Emulator\r\n\r\nwindows-terminal\r\n\r\n### Installation Method\r\n\r\nsource\r\n\r\n### Helix Version\r\n\r\nhelix 24.7 (91a5d407)","closed_by":{"login":"the-mikedavis","id":21230295,"node_id":"MDQ6VXNlcjIxMjMwMjk1","avatar_url":"https://avatars.githubusercontent.com/u/21230295?v=4","gravatar_id":"","url":"https://api.github.com/users/the-mikedavis","html_url":"https://github.com/the-mikedavis","followers_url":"https://api.github.com/users/the-mikedavis/followers","following_url":"https://api.github.com/users/the-mikedavis/following{/other_user}","gists_url":"https://api.github.com/users/the-mikedavis/gists{/gist_id}","starred_url":"https://api.github.com/users/the-mikedavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the-mikedavis/subscriptions","organizations_url":"https://api.github.com/users/the-mikedavis/orgs","repos_url":"https://api.github.com/users/the-mikedavis/repos","events_url":"https://api.github.com/users/the-mikedavis/events{/privacy}","received_events_url":"https://api.github.com/users/the-mikedavis/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helix-editor/helix/issues/12329/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/helix-editor/helix/issues/12329/timeline","performed_via_github_app":null,"state_reason":"completed"}