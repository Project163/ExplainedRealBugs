{"url":"https://api.github.com/repos/helix-editor/helix/issues/10006","repository_url":"https://api.github.com/repos/helix-editor/helix","labels_url":"https://api.github.com/repos/helix-editor/helix/issues/10006/labels{/name}","comments_url":"https://api.github.com/repos/helix-editor/helix/issues/10006/comments","events_url":"https://api.github.com/repos/helix-editor/helix/issues/10006/events","html_url":"https://github.com/helix-editor/helix/issues/10006","id":2206680462,"node_id":"I_kwDOD__WI86Dh0WO","number":10006,"title":"`color-modes` artifact with splits","user":{"login":"ascarter","id":4931,"node_id":"MDQ6VXNlcjQ5MzE=","avatar_url":"https://avatars.githubusercontent.com/u/4931?v=4","gravatar_id":"","url":"https://api.github.com/users/ascarter","html_url":"https://github.com/ascarter","followers_url":"https://api.github.com/users/ascarter/followers","following_url":"https://api.github.com/users/ascarter/following{/other_user}","gists_url":"https://api.github.com/users/ascarter/gists{/gist_id}","starred_url":"https://api.github.com/users/ascarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ascarter/subscriptions","organizations_url":"https://api.github.com/users/ascarter/orgs","repos_url":"https://api.github.com/users/ascarter/repos","events_url":"https://api.github.com/users/ascarter/events{/privacy}","received_events_url":"https://api.github.com/users/ascarter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2101491828,"node_id":"MDU6TGFiZWwyMTAxNDkxODI4","url":"https://api.github.com/repos/helix-editor/helix/labels/C-bug","name":"C-bug","color":"C5DEF5","default":false,"description":"Category: This is a bug"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-25T20:48:36Z","updated_at":"2024-03-26T05:47:26Z","closed_at":"2024-03-26T05:47:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Summary\n\nEnabling `color-modes` and configuring a theme with colors for `insert` and `select` shows render artifact on splits. This is a regression.\r\n\r\n\n\n### Reproduction Steps\n\n<!-- Ideally provide a key sequence and/or asciinema.org recording. --> \r\n\r\nEnsure you are using a theme that sets a color for the `color-modes`\r\n\r\n1. `hx helix-term/src/application.rs`\r\n2. `:vs helix-term/src/commands.rs`\r\n3. `i` or `v` to get to insert or select mode - \r\n\r\n<img width=\"1132\" alt=\"Screenshot 2024-03-25 at 13 01 26\" src=\"https://github.com/helix-editor/helix/assets/4931/6e0b2681-a143-4929-8591-669c4cc2e449\">\r\n\r\n<img width=\"1132\" alt=\"Screenshot 2024-03-25 at 13 02 18\" src=\"https://github.com/helix-editor/helix/assets/4931/40301762-96d3-49f9-a6fa-432dcfd19943\">\r\n\r\nExpected that the color should be applied only to the active window\n\n### Helix log\n\n<details><summary>~/.cache/helix/helix.log</summary>\r\n\r\n```\r\n2024-03-25T13:46:33.254 helix_term::application [DEBUG] received editor event: Redraw\r\n2024-03-25T13:46:33.256 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:35.300 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:35.549 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:35.691 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:35.786 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:35.928 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:35.930 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.034 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.035 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.158 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.160 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.284 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:39.291 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:39.292 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:40.527 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:40.528 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:40.781 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:41.671 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:41.672 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:41.914 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:42.675 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:42.677 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:42.925 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:43.198 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:43.199 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:43.449 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:43.802 helix_term::commands::typed [DEBUG] quitting...\r\n2024-03-25T13:46:43.804 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:43.805 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:44.283 helix_term::commands::typed [DEBUG] quitting...\r\n2024-03-25T13:46:44.283 helix_term::job [DEBUG] waiting on jobs...\r\n2024-03-25T13:46:44.294 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:45.699 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:45.960 helix_term::application [DEBUG] received editor event: IdleTimer\r\n2024-03-25T13:46:46.023 helix_term::commands::typed [DEBUG] quitting...\r\n2024-03-25T13:46:46.025 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:46.196 helix_term::commands::typed [DEBUG] quitting...\r\n2024-03-25T13:46:46.196 helix_view::document [DEBUG] id 1 modified - last saved: 0, current: 0\r\n2024-03-25T13:46:46.196 helix_term::job [DEBUG] waiting on jobs...\r\n2024-03-25T13:46:46.196 helix_term::job [DEBUG] waiting on jobs...\r\n```\r\n\r\n</details>\r\n\n\n### Platform\n\nmacOS\n\n### Terminal Emulator\n\nApple Terminal\n\n### Installation Method\n\nsource\n\n### Helix Version\n\n23.10-449-g1d108782","closed_by":{"login":"archseer","id":1372918,"node_id":"MDQ6VXNlcjEzNzI5MTg=","avatar_url":"https://avatars.githubusercontent.com/u/1372918?v=4","gravatar_id":"","url":"https://api.github.com/users/archseer","html_url":"https://github.com/archseer","followers_url":"https://api.github.com/users/archseer/followers","following_url":"https://api.github.com/users/archseer/following{/other_user}","gists_url":"https://api.github.com/users/archseer/gists{/gist_id}","starred_url":"https://api.github.com/users/archseer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archseer/subscriptions","organizations_url":"https://api.github.com/users/archseer/orgs","repos_url":"https://api.github.com/users/archseer/repos","events_url":"https://api.github.com/users/archseer/events{/privacy}","received_events_url":"https://api.github.com/users/archseer/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helix-editor/helix/issues/10006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/helix-editor/helix/issues/10006/timeline","performed_via_github_app":null,"state_reason":"completed"}