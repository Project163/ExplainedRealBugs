{"url":"https://api.github.com/repos/helix-editor/helix/issues/11351","repository_url":"https://api.github.com/repos/helix-editor/helix","labels_url":"https://api.github.com/repos/helix-editor/helix/issues/11351/labels{/name}","comments_url":"https://api.github.com/repos/helix-editor/helix/issues/11351/comments","events_url":"https://api.github.com/repos/helix-editor/helix/issues/11351/events","html_url":"https://github.com/helix-editor/helix/issues/11351","id":2433861204,"node_id":"I_kwDOD__WI86REcZU","number":11351,"title":"helix panics when trying to start :tutor","user":{"login":"dnaq","id":1299717,"node_id":"MDQ6VXNlcjEyOTk3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1299717?v=4","gravatar_id":"","url":"https://api.github.com/users/dnaq","html_url":"https://github.com/dnaq","followers_url":"https://api.github.com/users/dnaq/followers","following_url":"https://api.github.com/users/dnaq/following{/other_user}","gists_url":"https://api.github.com/users/dnaq/gists{/gist_id}","starred_url":"https://api.github.com/users/dnaq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnaq/subscriptions","organizations_url":"https://api.github.com/users/dnaq/orgs","repos_url":"https://api.github.com/users/dnaq/repos","events_url":"https://api.github.com/users/dnaq/events{/privacy}","received_events_url":"https://api.github.com/users/dnaq/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2101491828,"node_id":"MDU6TGFiZWwyMTAxNDkxODI4","url":"https://api.github.com/repos/helix-editor/helix/labels/C-bug","name":"C-bug","color":"C5DEF5","default":false,"description":"Category: This is a bug"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-28T10:24:24Z","updated_at":"2024-07-28T16:29:28Z","closed_at":"2024-07-28T16:29:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Summary\n\nStarting helix and trying to run the nix tutor immediately panics.\n\n### Reproduction Steps\n\n<!-- Ideally provide a key sequence and/or asciinema.org recording. --> \r\n\r\nI tried this:\r\n\r\n1. `hx`\r\n2. `:tutor`\r\nI expected this to happen:\r\n\r\nThat the helix tutor be started.\r\n\r\nInstead, this happened:\r\nHelix crashed with the following error:\r\n```\r\n‚ùØ RUST_BACKTRACE=full hx\r\nthread 'main' panicked at helix-view/src/document.rs:1083:57:\r\ncalled `Option::unwrap()` on a `None` value\r\nstack backtrace:\r\n   0:     0x55f07a27715b - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbb235daedd7c6190\r\n   1:     0x55f07948e780 - core::fmt::write::h3ed6aeaa977c8e45\r\n   2:     0x55f07a272ee3 - std::io::Write::write_fmt::h78b18af5775fedb5\r\n   3:     0x55f07a276ef4 - std::sys_common::backtrace::print::h85035a511aafe7a8\r\n   4:     0x55f07a278e70 - std::panicking::default_hook::{{closure}}::hcce8cea212785a25\r\n   5:     0x55f07a278b8f - std::panicking::default_hook::hf5fcb0f213fe709a\r\n   6:     0x55f07a27953f - std::panicking::rust_panic_with_hook::h095fccf1dc9379ee\r\n   7:     0x55f07a279259 - std::panicking::begin_panic_handler::{{closure}}::h032ba12139b353db\r\n   8:     0x55f07a277656 - std::sys_common::backtrace::__rust_end_short_backtrace::h9259bc2ff8fd0f76\r\n   9:     0x55f07a279000 - rust_begin_unwind\r\n  10:     0x55f079386ca5 - core::panicking::panic_fmt::h784f20a50eaab275\r\n  11:     0x55f079386d63 - core::panicking::panic::hb837a5ebbbe5b188\r\n  12:     0x55f079efc230 - helix_view::document::Document::pickup_last_saved_time::ha421dad7765454a0\r\n  13:     0x55f079e9b419 - helix_term::commands::typed::tutor::h439c57ab70dd6df6\r\n  14:     0x55f079e168e0 - helix_term::commands::typed::command_mode::{{closure}}::h14a3d4f465dd897d\r\n  15:     0x55f079e2b8cd - <helix_term::ui::prompt::Prompt as helix_term::compositor::Component>::handle_event::h38d88fbc01632d35\r\n  16:     0x55f079a5f6f5 - helix_term::compositor::Compositor::handle_event::h6efe7775e495607b\r\n  17:     0x55f079ffdfc0 - hx::main_impl::{{closure}}::h70fafffa6571ad84\r\n  18:     0x55f079ffb468 - tokio::runtime::park::CachedParkThread::block_on::h8461841775cdb088\r\n  19:     0x55f07a036424 - hx::main::h8ba69e1a98becde2\r\n  20:     0x55f07a053e83 - std::sys_common::backtrace::__rust_begin_short_backtrace::hf27d6bb4e671f866\r\n  21:     0x55f07a053e9d - std::rt::lang_start::{{closure}}::h02d42b636343d75d\r\n  22:     0x55f07a269905 - std::rt::lang_start_internal::h6939038e2873596b\r\n  23:     0x55f07a036a05 - main\r\n  24:     0x7efe5329d0ce - __libc_start_call_main\r\n  25:     0x7efe5329d189 - __libc_start_main@GLIBC_2.2.5\r\n  26:     0x55f07940a815 - _start\r\n  27:                0x0 - <unknown>\r\n```\n\n### Helix log\n\n<details><summary>~/.cache/helix/helix.log</summary>\r\n\r\nHelix log file was empty (removed it before reproducing, and it doesn't get filled with anything)\r\n</details>\r\n\n\n### Platform\n\nLinux\n\n### Terminal Emulator\n\nalacritty/kitty/konsole\n\n### Installation Method\n\nflake\n\n### Helix Version\n\nhelix 24.7 (30fb63cc3df96a0c79820dd2980a570cce11c8c3)","closed_by":{"login":"pascalkuthe","id":61850714,"node_id":"MDQ6VXNlcjYxODUwNzE0","avatar_url":"https://avatars.githubusercontent.com/u/61850714?v=4","gravatar_id":"","url":"https://api.github.com/users/pascalkuthe","html_url":"https://github.com/pascalkuthe","followers_url":"https://api.github.com/users/pascalkuthe/followers","following_url":"https://api.github.com/users/pascalkuthe/following{/other_user}","gists_url":"https://api.github.com/users/pascalkuthe/gists{/gist_id}","starred_url":"https://api.github.com/users/pascalkuthe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pascalkuthe/subscriptions","organizations_url":"https://api.github.com/users/pascalkuthe/orgs","repos_url":"https://api.github.com/users/pascalkuthe/repos","events_url":"https://api.github.com/users/pascalkuthe/events{/privacy}","received_events_url":"https://api.github.com/users/pascalkuthe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helix-editor/helix/issues/11351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/helix-editor/helix/issues/11351/timeline","performed_via_github_app":null,"state_reason":"completed"}