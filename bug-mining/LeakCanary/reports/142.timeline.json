[{"id":2583977288,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1ODM5NzcyODg=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2583977288","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-26T15:01:45Z","label":{"name":"type: documentation","color":"d4c5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/525456996","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-525456996","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":525456996,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQ1Njk5Ng==","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T19:53:38Z","updated_at":"2019-08-27T19:53:38Z","body":"Have you tried this: https://square.github.io/leakcanary/recipes/#disabling-leakcanary ?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/525456996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/525747831","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-525747831","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":525747831,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTc0NzgzMQ==","user":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T13:34:53Z","updated_at":"2019-08-28T13:34:53Z","body":"I guess you mean in the test code to call `AppWatcher.config = AppWatcher.config.copy(enabled = false)`. It should work as long as the build is a debug build if the dependency is added as \r\n```\r\ndependencies {\r\n  // debugImplementation because LeakCanary should only run in debug builds.\r\n  debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-3'\r\n}\r\n```\r\nis there a way to do it in gradle for disabling leakCanary for all tests?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/525747831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/526412155","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-526412155","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":526412155,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQxMjE1NQ==","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T00:49:16Z","updated_at":"2019-08-30T00:49:16Z","body":"LeakCanary automatically disable itself if it detects the `androidx.test.platform.app.InstrumentationRegistry` class in the classpath (ie there's the AndroidX Espresso in the classpath, so I'm assuming you're not using that. You could run `LeakCanary.config = LeakCanary.config.copy(dumpHeap = false)` from within your test application class and that should disable leakcanary heap dumping.\r\n\r\nAs you pasted above, you maybe be able to remove the dependency from the config:\r\n\r\n```\r\nconfigurations.all { config ->\r\n   \r\n    // Ensure the no-op dependency is always used in JVM tests.\r\n    if (config.name.contains('UnitTest') || config.name.contains('AndroidTest')) {\r\n        config.resolutionStrategy.eachDependency { details ->\r\n            if (details.requested.group == 'com.squareup.leakcanary') {\r\n               // TODO Remove the dependency\r\n               // Is there a way to do that?\r\n            }\r\n        }\r\n    }\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/526412155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/526874101","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-526874101","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":526874101,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjg3NDEwMQ==","user":{"login":"sahil2441","id":6257696,"node_id":"MDQ6VXNlcjYyNTc2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/6257696?v=4","gravatar_id":"","url":"https://api.github.com/users/sahil2441","html_url":"https://github.com/sahil2441","followers_url":"https://api.github.com/users/sahil2441/followers","following_url":"https://api.github.com/users/sahil2441/following{/other_user}","gists_url":"https://api.github.com/users/sahil2441/gists{/gist_id}","starred_url":"https://api.github.com/users/sahil2441/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahil2441/subscriptions","organizations_url":"https://api.github.com/users/sahil2441/orgs","repos_url":"https://api.github.com/users/sahil2441/repos","events_url":"https://api.github.com/users/sahil2441/events{/privacy}","received_events_url":"https://api.github.com/users/sahil2441/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-01T00:01:17Z","updated_at":"2019-09-01T00:01:17Z","body":"As @pyricau mentioned above, leakcanary disabled heapdump automatically when it detects instrumentation.\r\n\r\nFurther, the only way to find leaks is by explicitly attaching a listener to the instrumentation process, which could be done by adding : \r\n`-e listener leakcanary.FailTestOnLeakRunListener` to the adb shell command, which I assume you are not doing.\r\n\r\n@lannyf77 Not sure what exactly you're looking for, could you elaborate ?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/526874101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sahil2441","id":6257696,"node_id":"MDQ6VXNlcjYyNTc2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/6257696?v=4","gravatar_id":"","url":"https://api.github.com/users/sahil2441","html_url":"https://github.com/sahil2441","followers_url":"https://api.github.com/users/sahil2441/followers","following_url":"https://api.github.com/users/sahil2441/following{/other_user}","gists_url":"https://api.github.com/users/sahil2441/gists{/gist_id}","starred_url":"https://api.github.com/users/sahil2441/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahil2441/subscriptions","organizations_url":"https://api.github.com/users/sahil2441/orgs","repos_url":"https://api.github.com/users/sahil2441/repos","events_url":"https://api.github.com/users/sahil2441/events{/privacy}","received_events_url":"https://api.github.com/users/sahil2441/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2599079152,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU5OTA3OTE1Mg==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2599079152","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-09-01T00:01:17Z","performed_via_github_app":null},{"id":2599079153,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1OTkwNzkxNTM=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2599079153","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-09-01T00:01:17Z","performed_via_github_app":null},{"id":2599079154,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU5OTA3OTE1NA==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2599079154","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-09-01T00:01:17Z","performed_via_github_app":null},{"id":2599079155,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1OTkwNzkxNTU=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2599079155","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-09-01T00:01:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/527894266","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-527894266","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":527894266,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzg5NDI2Ng==","user":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T13:12:22Z","updated_at":"2019-09-04T13:12:22Z","body":"We would like to disable leakcanary for all tests, and it could be done previously with the  `leakcanary-android-no-op`.\r\n\r\nCurrently I have to put in different implementation of something like below within different build flavor:\r\n\r\nfor release:\r\n```\r\nobject LeakCanaryObjectWatcher {\r\n    fun watch(watchedObject: Any) {\r\n        // NO-OP\r\n    }\r\n    fun enableLeakCanary(enable: Boolean = true) {\r\n        // NO-OP\r\n    }\r\n}\r\n```\r\n\r\nfor debug:\r\n```\r\nobject LeakCanaryObjectWatcher {\r\n    fun watch(watchedObject: Any) {\r\n        AppWatcher.objectWatcher.watch(watchedObject)\r\n    }\r\n\r\n    fun enableLeakCanary(enable: Boolean = true) {\r\n        AppWatcher.config = AppWatcher.config.copy(enabled = enable)\r\n    }\r\n}\r\n```\r\n\r\nand in the test, do something like:\r\n```\r\noverride fun beforeActivityLaunched() {\r\n            LeakCanaryObjectWatcher.enableLeakCanary(false)\r\n        }\r\n```\r\n```\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/527894266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/528144536","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-528144536","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":528144536,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODE0NDUzNg==","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T00:28:18Z","updated_at":"2019-09-05T00:28:18Z","body":"@lannyf77 can you confirm that you're running tests directly on Android devices, however you are not using espresso? What's the purpose of said tests?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/528144536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2608898277,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjYwODg5ODI3Nw==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2608898277","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-09-05T00:28:18Z","performed_via_github_app":null},{"id":2608898278,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2MDg4OTgyNzg=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2608898278","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-09-05T00:28:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/531768938","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-531768938","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":531768938,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTc2ODkzOA==","user":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T13:08:15Z","updated_at":"2019-09-16T13:08:15Z","body":"@pyricau we do run test on real devices and with espresso, also for several submodules they have tests without ui such as for database; data model; middle tier etc. We would like to be able to run some flavor of test without leakCanary running.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/531768938/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lannyf77","id":19765258,"node_id":"MDQ6VXNlcjE5NzY1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/19765258?v=4","gravatar_id":"","url":"https://api.github.com/users/lannyf77","html_url":"https://github.com/lannyf77","followers_url":"https://api.github.com/users/lannyf77/followers","following_url":"https://api.github.com/users/lannyf77/following{/other_user}","gists_url":"https://api.github.com/users/lannyf77/gists{/gist_id}","starred_url":"https://api.github.com/users/lannyf77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lannyf77/subscriptions","organizations_url":"https://api.github.com/users/lannyf77/orgs","repos_url":"https://api.github.com/users/lannyf77/repos","events_url":"https://api.github.com/users/lannyf77/events{/privacy}","received_events_url":"https://api.github.com/users/lannyf77/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2636325283,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjYzNjMyNTI4Mw==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2636325283","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-09-16T13:08:15Z","performed_via_github_app":null},{"id":2636325285,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2MzYzMjUyODU=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2636325285","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-09-16T13:08:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553570598","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-553570598","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":553570598,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU3MDU5OA==","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T19:45:48Z","updated_at":"2019-11-13T19:45:48Z","body":"Suggestion from @vRallev (based on our codebase) : we could look for `\"org.junit.Test\"` and disable leakcanary when found.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553570598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2796585897,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5NjU4NTg5Nw==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2796585897","actor":{"login":"vRallev","id":1558045,"node_id":"MDQ6VXNlcjE1NTgwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1558045?v=4","gravatar_id":"","url":"https://api.github.com/users/vRallev","html_url":"https://github.com/vRallev","followers_url":"https://api.github.com/users/vRallev/followers","following_url":"https://api.github.com/users/vRallev/following{/other_user}","gists_url":"https://api.github.com/users/vRallev/gists{/gist_id}","starred_url":"https://api.github.com/users/vRallev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vRallev/subscriptions","organizations_url":"https://api.github.com/users/vRallev/orgs","repos_url":"https://api.github.com/users/vRallev/repos","events_url":"https://api.github.com/users/vRallev/events{/privacy}","received_events_url":"https://api.github.com/users/vRallev/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-13T19:45:48Z","performed_via_github_app":null},{"id":2796585898,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTY1ODU4OTg=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2796585898","actor":{"login":"vRallev","id":1558045,"node_id":"MDQ6VXNlcjE1NTgwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1558045?v=4","gravatar_id":"","url":"https://api.github.com/users/vRallev","html_url":"https://github.com/vRallev","followers_url":"https://api.github.com/users/vRallev/followers","following_url":"https://api.github.com/users/vRallev/following{/other_user}","gists_url":"https://api.github.com/users/vRallev/gists{/gist_id}","starred_url":"https://api.github.com/users/vRallev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vRallev/subscriptions","organizations_url":"https://api.github.com/users/vRallev/orgs","repos_url":"https://api.github.com/users/vRallev/repos","events_url":"https://api.github.com/users/vRallev/events{/privacy}","received_events_url":"https://api.github.com/users/vRallev/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-13T19:45:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553588696","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-553588696","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":553588696,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU4ODY5Ng==","user":{"login":"tasomaniac","id":763339,"node_id":"MDQ6VXNlcjc2MzMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/763339?v=4","gravatar_id":"","url":"https://api.github.com/users/tasomaniac","html_url":"https://github.com/tasomaniac","followers_url":"https://api.github.com/users/tasomaniac/followers","following_url":"https://api.github.com/users/tasomaniac/following{/other_user}","gists_url":"https://api.github.com/users/tasomaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/tasomaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasomaniac/subscriptions","organizations_url":"https://api.github.com/users/tasomaniac/orgs","repos_url":"https://api.github.com/users/tasomaniac/repos","events_url":"https://api.github.com/users/tasomaniac/events{/privacy}","received_events_url":"https://api.github.com/users/tasomaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T20:31:22Z","updated_at":"2019-11-13T20:31:59Z","body":"As a user you can do this and it is fairly easy (plus it's useful for many things)\r\n\r\n```\r\nandroid {\r\n  defaultConfig {\r\n    testBuildType \"espresso\"\r\n  }\r\n  buildTypes {\r\n    espresso.initWith(debug)\r\n  }\r\n}\r\n```\r\n\r\nAnd then add leak canary to only debug builds. Your Espresso build will not even have Leak Canary to begin with. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553588696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tasomaniac","id":763339,"node_id":"MDQ6VXNlcjc2MzMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/763339?v=4","gravatar_id":"","url":"https://api.github.com/users/tasomaniac","html_url":"https://github.com/tasomaniac","followers_url":"https://api.github.com/users/tasomaniac/followers","following_url":"https://api.github.com/users/tasomaniac/following{/other_user}","gists_url":"https://api.github.com/users/tasomaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/tasomaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasomaniac/subscriptions","organizations_url":"https://api.github.com/users/tasomaniac/orgs","repos_url":"https://api.github.com/users/tasomaniac/repos","events_url":"https://api.github.com/users/tasomaniac/events{/privacy}","received_events_url":"https://api.github.com/users/tasomaniac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553665647","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-553665647","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":553665647,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzY2NTY0Nw==","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T00:19:16Z","updated_at":"2019-11-14T00:19:16Z","body":"Thanks  üôè . That's useful for people finding this issue. That being  said, I want to automate this if possible so that LeakCanary keeps a minimal config and no one has to run into this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/553665647/reactions","total_count":5,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2800743384,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4MDA3NDMzODQ=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2800743384","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5d7467ff432f150d146a7f03343ffb7bb776778a","commit_url":"https://api.github.com/repos/square/leakcanary/commits/5d7467ff432f150d146a7f03343ffb7bb776778a","created_at":"2019-11-14T22:06:49Z","performed_via_github_app":null},{"actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T22:07:09Z","updated_at":"2019-11-14T22:07:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/square/leakcanary/issues/1618","repository_url":"https://api.github.com/repos/square/leakcanary","labels_url":"https://api.github.com/repos/square/leakcanary/issues/1618/labels{/name}","comments_url":"https://api.github.com/repos/square/leakcanary/issues/1618/comments","events_url":"https://api.github.com/repos/square/leakcanary/issues/1618/events","html_url":"https://github.com/square/leakcanary/pull/1618","id":523131747,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQxMTk4NDAz","number":1618,"title":"Improve how we detect tests","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-14T22:07:08Z","updated_at":"2019-11-19T20:38:51Z","closed_at":"2019-11-14T23:41:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":34824499,"node_id":"MDEwOlJlcG9zaXRvcnkzNDgyNDQ5OQ==","name":"leakcanary","full_name":"square/leakcanary","private":false,"owner":{"login":"square","id":82592,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgyNTky","avatar_url":"https://avatars.githubusercontent.com/u/82592?v=4","gravatar_id":"","url":"https://api.github.com/users/square","html_url":"https://github.com/square","followers_url":"https://api.github.com/users/square/followers","following_url":"https://api.github.com/users/square/following{/other_user}","gists_url":"https://api.github.com/users/square/gists{/gist_id}","starred_url":"https://api.github.com/users/square/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/square/subscriptions","organizations_url":"https://api.github.com/users/square/orgs","repos_url":"https://api.github.com/users/square/repos","events_url":"https://api.github.com/users/square/events{/privacy}","received_events_url":"https://api.github.com/users/square/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/square/leakcanary","description":"A memory leak detection library for Android.","fork":false,"url":"https://api.github.com/repos/square/leakcanary","forks_url":"https://api.github.com/repos/square/leakcanary/forks","keys_url":"https://api.github.com/repos/square/leakcanary/keys{/key_id}","collaborators_url":"https://api.github.com/repos/square/leakcanary/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/square/leakcanary/teams","hooks_url":"https://api.github.com/repos/square/leakcanary/hooks","issue_events_url":"https://api.github.com/repos/square/leakcanary/issues/events{/number}","events_url":"https://api.github.com/repos/square/leakcanary/events","assignees_url":"https://api.github.com/repos/square/leakcanary/assignees{/user}","branches_url":"https://api.github.com/repos/square/leakcanary/branches{/branch}","tags_url":"https://api.github.com/repos/square/leakcanary/tags","blobs_url":"https://api.github.com/repos/square/leakcanary/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/square/leakcanary/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/square/leakcanary/git/refs{/sha}","trees_url":"https://api.github.com/repos/square/leakcanary/git/trees{/sha}","statuses_url":"https://api.github.com/repos/square/leakcanary/statuses/{sha}","languages_url":"https://api.github.com/repos/square/leakcanary/languages","stargazers_url":"https://api.github.com/repos/square/leakcanary/stargazers","contributors_url":"https://api.github.com/repos/square/leakcanary/contributors","subscribers_url":"https://api.github.com/repos/square/leakcanary/subscribers","subscription_url":"https://api.github.com/repos/square/leakcanary/subscription","commits_url":"https://api.github.com/repos/square/leakcanary/commits{/sha}","git_commits_url":"https://api.github.com/repos/square/leakcanary/git/commits{/sha}","comments_url":"https://api.github.com/repos/square/leakcanary/comments{/number}","issue_comment_url":"https://api.github.com/repos/square/leakcanary/issues/comments{/number}","contents_url":"https://api.github.com/repos/square/leakcanary/contents/{+path}","compare_url":"https://api.github.com/repos/square/leakcanary/compare/{base}...{head}","merges_url":"https://api.github.com/repos/square/leakcanary/merges","archive_url":"https://api.github.com/repos/square/leakcanary/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/square/leakcanary/downloads","issues_url":"https://api.github.com/repos/square/leakcanary/issues{/number}","pulls_url":"https://api.github.com/repos/square/leakcanary/pulls{/number}","milestones_url":"https://api.github.com/repos/square/leakcanary/milestones{/number}","notifications_url":"https://api.github.com/repos/square/leakcanary/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/square/leakcanary/labels{/name}","releases_url":"https://api.github.com/repos/square/leakcanary/releases{/id}","deployments_url":"https://api.github.com/repos/square/leakcanary/deployments","created_at":"2015-04-29T23:54:16Z","updated_at":"2025-11-10T12:46:59Z","pushed_at":"2025-08-05T05:43:50Z","git_url":"git://github.com/square/leakcanary.git","ssh_url":"git@github.com:square/leakcanary.git","clone_url":"https://github.com/square/leakcanary.git","svn_url":"https://github.com/square/leakcanary","homepage":"https://square.github.io/leakcanary","size":147448,"stargazers_count":29826,"watchers_count":29826,"language":"Kotlin","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":3974,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":144,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["android","java","kotlin","kotlin-android","leak-canary","leak-trace","leakcanary","memory-leak","outofmemory","outofmemoryerror"],"visibility":"public","forks":3974,"open_issues":144,"watchers":29826,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/square/leakcanary/pulls/1618","html_url":"https://github.com/square/leakcanary/pull/1618","diff_url":"https://github.com/square/leakcanary/pull/1618.diff","patch_url":"https://github.com/square/leakcanary/pull/1618.patch","merged_at":"2019-11-14T23:41:54Z"},"body":"Fixes #1552","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/1618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/leakcanary/issues/1618/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2800744239,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI4MDA3NDQyMzk=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2800744239","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T22:07:11Z","milestone":{"title":"2.0 Next Release"},"performed_via_github_app":null},{"id":2800959398,"node_id":"MDExOkNsb3NlZEV2ZW50MjgwMDk1OTM5OA==","url":"https://api.github.com/repos/square/leakcanary/issues/events/2800959398","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T23:41:54Z","state_reason":null,"performed_via_github_app":null},{"id":2800959555,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4MDA5NTk1NTU=","url":"https://api.github.com/repos/square/leakcanary/issues/events/2800959555","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f39bea84cad6ca30197005bf4f623e3c288ba364","commit_url":"https://api.github.com/repos/square/leakcanary/commits/f39bea84cad6ca30197005bf4f623e3c288ba364","created_at":"2019-11-14T23:42:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1170185596","html_url":"https://github.com/square/leakcanary/issues/1552#issuecomment-1170185596","issue_url":"https://api.github.com/repos/square/leakcanary/issues/1552","id":1170185596,"node_id":"IC_kwDOAhNhM85Fv518","user":{"login":"hichamboushaba","id":1657201,"node_id":"MDQ6VXNlcjE2NTcyMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1657201?v=4","gravatar_id":"","url":"https://api.github.com/users/hichamboushaba","html_url":"https://github.com/hichamboushaba","followers_url":"https://api.github.com/users/hichamboushaba/followers","following_url":"https://api.github.com/users/hichamboushaba/following{/other_user}","gists_url":"https://api.github.com/users/hichamboushaba/gists{/gist_id}","starred_url":"https://api.github.com/users/hichamboushaba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hichamboushaba/subscriptions","organizations_url":"https://api.github.com/users/hichamboushaba/orgs","repos_url":"https://api.github.com/users/hichamboushaba/repos","events_url":"https://api.github.com/users/hichamboushaba/events{/privacy}","received_events_url":"https://api.github.com/users/hichamboushaba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T16:11:44Z","updated_at":"2022-06-29T16:40:36Z","body":"I know this is an old issue and the fix is good for making sure the heap dump and analysis are not being executed on test builds.\r\nBut there is still another issue: having LeakCanary AppWatcher installed on test builds has another side effect, as the `ServiceWatcher` swaps the instance of `IActivityManager` with a new proxy instance, this causes an issue with Fastlane's `screengrab`, as it relies on reflection to access the `IActivityManager` instance to handle Locale switching, this is the cause of this [issue](https://github.com/fastlane/fastlane/issues/19521) (at least it's for us, as there may be other libraries that cause it too).\r\nTo solve this, currently, we are switching to the `leakcanary-android-core` artifact, and handling LeakCanary's initialization manually (@tasomaniac's solution above would work too).\r\n\r\n@pyricau do you think it makes sense to add the tests detection logic to `MainProcessAppWatcherInstaller` as well?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1170185596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hichamboushaba","id":1657201,"node_id":"MDQ6VXNlcjE2NTcyMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1657201?v=4","gravatar_id":"","url":"https://api.github.com/users/hichamboushaba","html_url":"https://github.com/hichamboushaba","followers_url":"https://api.github.com/users/hichamboushaba/followers","following_url":"https://api.github.com/users/hichamboushaba/following{/other_user}","gists_url":"https://api.github.com/users/hichamboushaba/gists{/gist_id}","starred_url":"https://api.github.com/users/hichamboushaba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hichamboushaba/subscriptions","organizations_url":"https://api.github.com/users/hichamboushaba/orgs","repos_url":"https://api.github.com/users/hichamboushaba/repos","events_url":"https://api.github.com/users/hichamboushaba/events{/privacy}","received_events_url":"https://api.github.com/users/hichamboushaba/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6903857896,"node_id":"MEE_lADOAhNhM84c7NlOzwAAAAGbgILo","url":"https://api.github.com/repos/square/leakcanary/issues/events/6903857896","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-29T16:11:44Z","performed_via_github_app":null},{"id":6903857908,"node_id":"SE_lADOAhNhM84c7NlOzwAAAAGbgIL0","url":"https://api.github.com/repos/square/leakcanary/issues/events/6903857908","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-29T16:11:44Z","performed_via_github_app":null},{"id":6903857919,"node_id":"MEE_lADOAhNhM84c7NlOzwAAAAGbgIL_","url":"https://api.github.com/repos/square/leakcanary/issues/events/6903857919","actor":{"login":"tasomaniac","id":763339,"node_id":"MDQ6VXNlcjc2MzMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/763339?v=4","gravatar_id":"","url":"https://api.github.com/users/tasomaniac","html_url":"https://github.com/tasomaniac","followers_url":"https://api.github.com/users/tasomaniac/followers","following_url":"https://api.github.com/users/tasomaniac/following{/other_user}","gists_url":"https://api.github.com/users/tasomaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/tasomaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasomaniac/subscriptions","organizations_url":"https://api.github.com/users/tasomaniac/orgs","repos_url":"https://api.github.com/users/tasomaniac/repos","events_url":"https://api.github.com/users/tasomaniac/events{/privacy}","received_events_url":"https://api.github.com/users/tasomaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-29T16:11:44Z","performed_via_github_app":null}]