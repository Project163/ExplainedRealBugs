{"url":"https://api.github.com/repos/square/leakcanary/issues/2394","repository_url":"https://api.github.com/repos/square/leakcanary","labels_url":"https://api.github.com/repos/square/leakcanary/issues/2394/labels{/name}","comments_url":"https://api.github.com/repos/square/leakcanary/issues/2394/comments","events_url":"https://api.github.com/repos/square/leakcanary/issues/2394/events","html_url":"https://github.com/square/leakcanary/issues/2394","id":1287577165,"node_id":"I_kwDOAhNhM85Mvt5N","number":2394,"title":"Provide a way to disable all notifications","user":{"login":"sahil2441","id":6257696,"node_id":"MDQ6VXNlcjYyNTc2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/6257696?v=4","gravatar_id":"","url":"https://api.github.com/users/sahil2441","html_url":"https://github.com/sahil2441","followers_url":"https://api.github.com/users/sahil2441/followers","following_url":"https://api.github.com/users/sahil2441/following{/other_user}","gists_url":"https://api.github.com/users/sahil2441/gists{/gist_id}","starred_url":"https://api.github.com/users/sahil2441/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahil2441/subscriptions","organizations_url":"https://api.github.com/users/sahil2441/orgs","repos_url":"https://api.github.com/users/sahil2441/repos","events_url":"https://api.github.com/users/sahil2441/events{/privacy}","received_events_url":"https://api.github.com/users/sahil2441/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":205873876,"node_id":"MDU6TGFiZWwyMDU4NzM4NzY=","url":"https://api.github.com/repos/square/leakcanary/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/square/leakcanary/milestones/25","html_url":"https://github.com/square/leakcanary/milestone/25","labels_url":"https://api.github.com/repos/square/leakcanary/milestones/25/labels","id":7893332,"node_id":"MI_kwDOAhNhM84AeHFU","number":25,"title":"2.10","description":"","creator":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":25,"state":"closed","created_at":"2022-04-20T00:50:09Z","updated_at":"2025-07-22T13:59:42Z","due_on":null,"closed_at":"2022-11-11T14:36:09Z"},"comments":3,"created_at":"2022-06-28T16:08:45Z","updated_at":"2022-11-10T22:54:50Z","closed_at":"2022-11-10T22:54:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Background**\r\nWe enabled Leakcanary on internal builds in our company recently. These internal builds are used by all employees - including non-developers. Leak canary does a really good job of providing visibility around what it's doing via notifications such as - getting a heap dump, parsing it, telling how many objects are retained, whether retained object are GC-ed etc.\r\nHowever, these notifications are not very much useful in internal non-dev builds mainly because several non-devs have little to no context around leak canary and what it does. The notifications appeared to be too noisy and we had to eventually disable it.\r\n\r\nOur goal is to let Leakcanary run _silently_ in the background and continue to find memory leaks without any interruptions.\r\n\r\n**Progress So Far**\r\nSo far I've been able to mute most of the notifications by setting Leakcanary.config with:\r\n```\r\n            LeakCanary.config.eventListeners.filter {\r\n                it !is ToastEventListener && it !is LazyForwardingEventListener\r\n            }\r\n```\r\n\r\nHowever, I'm seeing more Leakcanary notifications such as: `leakcanary.internal.HeapDumpTrigger#showNoMoreRetainedObjectNotification`\r\n\r\nWe should explore ways to mute all notifications in LeakCanary.\r\n\r\nfrom @pyricau :\r\n\r\n> We should provide a way to disable notifications using EventListeners.\r\n> We could also explore to override a global flag something on the lines of: leakcanary.internal.Notifications#getCanShowNotification which can disable all the notifications.","closed_by":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/2394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/leakcanary/issues/2394/timeline","performed_via_github_app":null,"state_reason":"completed"}