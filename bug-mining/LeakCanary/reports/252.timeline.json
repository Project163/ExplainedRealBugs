[{"id":5967550004,"node_id":"LE_lADOAhNhM85CkiIFzwAAAAFjsZY0","url":"https://api.github.com/repos/square/leakcanary/issues/events/5967550004","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-01-28T00:28:08Z","label":{"name":"type: bug","color":"fc2929"},"performed_via_github_app":null},{"id":5973657657,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFkDsg5","url":"https://api.github.com/repos/square/leakcanary/issues/events/5973657657","actor":{"login":"rjrjr","id":1884445,"node_id":"MDQ6VXNlcjE4ODQ0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1884445?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrjr","html_url":"https://github.com/rjrjr","followers_url":"https://api.github.com/users/rjrjr/followers","following_url":"https://api.github.com/users/rjrjr/following{/other_user}","gists_url":"https://api.github.com/users/rjrjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrjr/subscriptions","organizations_url":"https://api.github.com/users/rjrjr/orgs","repos_url":"https://api.github.com/users/rjrjr/repos","events_url":"https://api.github.com/users/rjrjr/events{/privacy}","received_events_url":"https://api.github.com/users/rjrjr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cdc2b8d1635c019b94fec112515188e17fb5364f","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/cdc2b8d1635c019b94fec112515188e17fb5364f","created_at":"2022-01-28T21:44:16Z","performed_via_github_app":null},{"id":5973744642,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFkEBwC","url":"https://api.github.com/repos/square/leakcanary/issues/events/5973744642","actor":{"login":"rjrjr","id":1884445,"node_id":"MDQ6VXNlcjE4ODQ0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1884445?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrjr","html_url":"https://github.com/rjrjr","followers_url":"https://api.github.com/users/rjrjr/followers","following_url":"https://api.github.com/users/rjrjr/following{/other_user}","gists_url":"https://api.github.com/users/rjrjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrjr/subscriptions","organizations_url":"https://api.github.com/users/rjrjr/orgs","repos_url":"https://api.github.com/users/rjrjr/repos","events_url":"https://api.github.com/users/rjrjr/events{/privacy}","received_events_url":"https://api.github.com/users/rjrjr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d3e882000076d834f71ff2e41942d0e462660b41","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/d3e882000076d834f71ff2e41942d0e462660b41","created_at":"2022-01-28T22:05:50Z","performed_via_github_app":null},{"id":5974092947,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFkFWyT","url":"https://api.github.com/repos/square/leakcanary/issues/events/5974092947","actor":{"login":"rjrjr","id":1884445,"node_id":"MDQ6VXNlcjE4ODQ0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1884445?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrjr","html_url":"https://github.com/rjrjr","followers_url":"https://api.github.com/users/rjrjr/followers","following_url":"https://api.github.com/users/rjrjr/following{/other_user}","gists_url":"https://api.github.com/users/rjrjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrjr/subscriptions","organizations_url":"https://api.github.com/users/rjrjr/orgs","repos_url":"https://api.github.com/users/rjrjr/repos","events_url":"https://api.github.com/users/rjrjr/events{/privacy}","received_events_url":"https://api.github.com/users/rjrjr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4dfa60fa8571a4781babce59b4366fff5d2da828","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/4dfa60fa8571a4781babce59b4366fff5d2da828","created_at":"2022-01-28T23:59:36Z","performed_via_github_app":null},{"id":5974236906,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFkF57q","url":"https://api.github.com/repos/square/leakcanary/issues/events/5974236906","actor":{"login":"rjrjr","id":1884445,"node_id":"MDQ6VXNlcjE4ODQ0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1884445?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrjr","html_url":"https://github.com/rjrjr","followers_url":"https://api.github.com/users/rjrjr/followers","following_url":"https://api.github.com/users/rjrjr/following{/other_user}","gists_url":"https://api.github.com/users/rjrjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrjr/subscriptions","organizations_url":"https://api.github.com/users/rjrjr/orgs","repos_url":"https://api.github.com/users/rjrjr/repos","events_url":"https://api.github.com/users/rjrjr/events{/privacy}","received_events_url":"https://api.github.com/users/rjrjr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"be479f28b7109f2ec7b240606dba2d0888eec49b","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/be479f28b7109f2ec7b240606dba2d0888eec49b","created_at":"2022-01-29T01:09:01Z","performed_via_github_app":null},{"id":5990888557,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFlFbRt","url":"https://api.github.com/repos/square/leakcanary/issues/events/5990888557","actor":{"login":"rjrjr","id":1884445,"node_id":"MDQ6VXNlcjE4ODQ0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1884445?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrjr","html_url":"https://github.com/rjrjr","followers_url":"https://api.github.com/users/rjrjr/followers","following_url":"https://api.github.com/users/rjrjr/following{/other_user}","gists_url":"https://api.github.com/users/rjrjr/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrjr/subscriptions","organizations_url":"https://api.github.com/users/rjrjr/orgs","repos_url":"https://api.github.com/users/rjrjr/repos","events_url":"https://api.github.com/users/rjrjr/events{/privacy}","received_events_url":"https://api.github.com/users/rjrjr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"dd2cd7b07e05b56b9e4da68e0009f0b3a47cb170","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/dd2cd7b07e05b56b9e4da68e0009f0b3a47cb170","created_at":"2022-02-01T20:01:03Z","performed_via_github_app":null},{"id":6095350414,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAFrT6qO","url":"https://api.github.com/repos/square/leakcanary/issues/events/6095350414","actor":{"login":"RBusarow","id":9890900,"node_id":"MDQ6VXNlcjk4OTA5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/9890900?v=4","gravatar_id":"","url":"https://api.github.com/users/RBusarow","html_url":"https://github.com/RBusarow","followers_url":"https://api.github.com/users/RBusarow/followers","following_url":"https://api.github.com/users/RBusarow/following{/other_user}","gists_url":"https://api.github.com/users/RBusarow/gists{/gist_id}","starred_url":"https://api.github.com/users/RBusarow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RBusarow/subscriptions","organizations_url":"https://api.github.com/users/RBusarow/orgs","repos_url":"https://api.github.com/users/RBusarow/repos","events_url":"https://api.github.com/users/RBusarow/events{/privacy}","received_events_url":"https://api.github.com/users/RBusarow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1783f74203a26d53aea2b4d4b3eb30cded790d7b","commit_url":"https://api.github.com/repos/square/workflow-kotlin/commits/1783f74203a26d53aea2b4d4b3eb30cded790d7b","created_at":"2022-02-18T03:30:49Z","performed_via_github_app":null},{"id":6442632773,"node_id":"MIE_lADOAhNhM85CkiIFzwAAAAGAAsZF","url":"https://api.github.com/repos/square/leakcanary/issues/events/6442632773","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-04-15T23:35:38Z","milestone":{"title":"2.9"},"performed_via_github_app":null},{"id":6450753618,"node_id":"REFE_lADOAhNhM85CkiIFzwAAAAGAfrBS","url":"https://api.github.com/repos/square/leakcanary/issues/events/6450753618","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"615df63c61b2e6904f4609ca891c86c7973f5926","commit_url":"https://api.github.com/repos/square/leakcanary/commits/615df63c61b2e6904f4609ca891c86c7973f5926","created_at":"2022-04-18T22:35:17Z","performed_via_github_app":null},{"id":6455134169,"node_id":"CE_lADOAhNhM85CkiIFzwAAAAGAwYfZ","url":"https://api.github.com/repos/square/leakcanary/issues/events/6455134169","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"615df63c61b2e6904f4609ca891c86c7973f5926","commit_url":"https://api.github.com/repos/square/leakcanary/commits/615df63c61b2e6904f4609ca891c86c7973f5926","created_at":"2022-04-19T13:00:14Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1375572056","html_url":"https://github.com/square/leakcanary/issues/2297#issuecomment-1375572056","issue_url":"https://api.github.com/repos/square/leakcanary/issues/2297","id":1375572056,"node_id":"IC_kwDOAhNhM85R_ZBY","user":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T12:43:49Z","updated_at":"2023-01-09T12:43:49Z","body":"@pyricau I believe we are still seeing this (and a related?) issue on version 2.10. Do you think the the first of these is the same? \r\n```\r\n====================================\r\nHEAP ANALYSIS RESULT\r\n====================================\r\n2 APPLICATION LEAKS\r\n\r\nReferences underlined with \"~~~\" are likely causes.\r\nLearn more at https://squ.re/leaks.\r\n\r\n23492 bytes retained by leaking objects\r\nDisplaying only 1 leak trace out of 2 with the same signature\r\nSignature: 288dd58c08b8c100b6214e322ae945647b024a93\r\n┬───\r\n│ GC Root: Thread object\r\n│\r\n├─ android.app.Instrumentation$InstrumentationThread instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 2.1 MB in 45651 objects\r\n│    Thread name: 'Instr: com.izettle.android.test.IzettleMockTestRunner'\r\n│    ↓ Instrumentation$InstrumentationThread<Java Local>\r\n│                                           ~~~~~~~~~~~~\r\n├─ org.junit.runner.Result instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 1.8 MB in 33909 objects\r\n│    ↓ Result.failures\r\n│             ~~~~~~~~\r\n├─ java.util.concurrent.CopyOnWriteArrayList instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 1.8 MB in 33903 objects\r\n│    ↓ CopyOnWriteArrayList[1]\r\n│                          ~~~\r\n├─ org.junit.runner.notification.Failure instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 871.5 kB in 16808 objects\r\n│    ↓ Failure.fThrownException\r\n│              ~~~~~~~~~~~~~~~~\r\n├─ androidx.test.espresso.NoMatchingViewException instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 871.4 kB in 16807 objects\r\n│    ↓ NoMatchingViewException.rootView\r\n│                              ~~~~~~~~\r\n╰→ com.android.internal.policy.DecorView instance\r\n​     Leaking: YES (View.mContext references a destroyed activity)\r\n​     Retaining 11.7 kB in 217 objects\r\n​     View not part of a window view hierarchy\r\n​     View.mAttachInfo is null (view detached)\r\n​     View.mWindowAttachCount = 1\r\n​     mContext instance of com.android.internal.policy.DecorContext, wrapping activity com.izettle.android.topLevelNavigation.TopLevelNavigationActivity with mDestroyed = true\r\n\r\n2054485 bytes retained by leaking objects\r\nDisplaying only 1 leak trace out of 10 with the same signature\r\nSignature: d324049fdd985fde1da52af311fa8d16538feb62\r\n┬───\r\n│ GC Root: Thread object\r\n│\r\n├─ android.app.Instrumentation$InstrumentationThread instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 2.1 MB in 45651 objects\r\n│    Thread name: 'Instr: com.izettle.android.test.IzettleMockTestRunner'\r\n│    ↓ Instrumentation$InstrumentationThread<Java Local>\r\n│                                           ~~~~~~~~~~~~\r\n├─ org.junit.runner.Result instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 1.8 MB in 33909 objects\r\n│    ↓ Result.failures\r\n│             ~~~~~~~~\r\n├─ java.util.concurrent.CopyOnWriteArrayList instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 1.8 MB in 33903 objects\r\n│    ↓ CopyOnWriteArrayList[1]\r\n│                          ~~~\r\n├─ org.junit.runner.notification.Failure instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 871.5 kB in 16808 objects\r\n│    ↓ Failure.fThrownException\r\n│              ~~~~~~~~~~~~~~~~\r\n├─ androidx.test.espresso.NoMatchingViewException instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 871.4 kB in 16807 objects\r\n│    ↓ NoMatchingViewException.adapterViews\r\n│                              ~~~~~~~~~~~~\r\n├─ java.util.ArrayList instance\r\n│    Leaking: UNKNOWN\r\n│    Retaining 205.7 kB in 4816 objects\r\n│    ↓ ArrayList[0]\r\n│               ~~~\r\n├─ androidx.appcompat.widget.AppCompatSpinner instance\r\n│    Leaking: YES (View.mContext references a destroyed activity)\r\n│    Retaining 205.6 kB in 4814 objects\r\n│    View not part of a window view hierarchy\r\n│    View.mAttachInfo is null (view detached)\r\n│    View.mWindowAttachCount = 1\r\n│    mPopupContext instance of android.view.ContextThemeWrapper, wrapping activity com.izettle.android.topLevelNavigation.TopLevelNavigationActivity with mDestroyed = true\r\n│    mContext instance of android.view.ContextThemeWrapper, wrapping activity com.izettle.android.topLevelNavigation.TopLevelNavigationActivity with mDestroyed = true\r\n│    ↓ View.mContext\r\n╰→ android.view.ContextThemeWrapper instance\r\n​     Leaking: YES (ContextThemeWrapper wraps an Activity with Activity.mDestroyed true)\r\n​     Retaining 48 B in 2 objects\r\n​     mBase instance of com.izettle.android.topLevelNavigation.TopLevelNavigationActivity with mDestroyed = true\r\n====================================\r\n```\r\nHere is our metadata too\r\n```\r\n====================================\r\nMETADATA\r\n\r\nPlease include this in bug reports and Stack Overflow questions.\r\n\r\nBuild.VERSION.SDK_INT: 33\r\nBuild.MANUFACTURER: Google\r\nLeakCanary version: 2.10\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1375572056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8181412507,"node_id":"MEE_lADOAhNhM85CkiIFzwAAAAHnpnKb","url":"https://api.github.com/repos/square/leakcanary/issues/events/8181412507","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-09T12:43:50Z","performed_via_github_app":null},{"id":8181412521,"node_id":"SE_lADOAhNhM85CkiIFzwAAAAHnpnKp","url":"https://api.github.com/repos/square/leakcanary/issues/events/8181412521","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-09T12:43:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1401124700","html_url":"https://github.com/square/leakcanary/issues/2297#issuecomment-1401124700","issue_url":"https://api.github.com/repos/square/leakcanary/issues/2297","id":1401124700,"node_id":"IC_kwDOAhNhM85Tg3dc","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T23:04:09Z","updated_at":"2023-01-23T23:04:09Z","body":"@mohlson the leak traces do look fairly similar.\r\n\r\nNote that these are leaks caused by Espresso which keeps test results in memory and in case of NoMatchingViewException failure the view is held by the exception until the whole test suite ends.\r\n\r\nThe fix we implemented was to clear the list of watched reference, so the leaks are still in place but LeakCanary doesn't look for these activity instances. Notice how LeakCanary says:\r\n\r\n> ObjectWatcher was watching this because com.squareup.sample.mainactivity.TicTacToeActivity received Activity#onDestroy() callback\r\n\r\nIn your leak report, there's no \"ObjectWatcher was watching this\". Which means it wasn't watching those objects, the weak refs had been cleared. However, you probably configured `LeakCanary.Config.leakingObjectFinder` with a more aggressive version that scans the whole heap dump for any view / context that looks leaking. So those leaks still show up.\r\n\r\nWe should likely get Espresso to fix this bug.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1401124700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8338999990,"node_id":"MEE_lADOAhNhM85CkiIFzwAAAAHxCwq2","url":"https://api.github.com/repos/square/leakcanary/issues/events/8338999990","actor":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-23T23:04:10Z","performed_via_github_app":null},{"id":8338999997,"node_id":"SE_lADOAhNhM85CkiIFzwAAAAHxCwq9","url":"https://api.github.com/repos/square/leakcanary/issues/events/8338999997","actor":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-23T23:04:10Z","performed_via_github_app":null},{"actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-23T23:17:43Z","updated_at":"2023-01-23T23:17:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/android/android-test/issues/1661","repository_url":"https://api.github.com/repos/android/android-test","labels_url":"https://api.github.com/repos/android/android-test/issues/1661/labels{/name}","comments_url":"https://api.github.com/repos/android/android-test/issues/1661/comments","events_url":"https://api.github.com/repos/android/android-test/issues/1661/events","html_url":"https://github.com/android/android-test/issues/1661","id":1553986543,"node_id":"I_kwDOAnPgTs5cn_Pv","number":1661,"title":"NoMatchingViewException leaks view hierarchies until test suite finishes","user":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-01-23T23:17:43Z","updated_at":"2024-06-24T23:08:37Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41148494,"node_id":"MDEwOlJlcG9zaXRvcnk0MTE0ODQ5NA==","name":"android-test","full_name":"android/android-test","private":false,"owner":{"login":"android","id":32689599,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMyNjg5NTk5","avatar_url":"https://avatars.githubusercontent.com/u/32689599?v=4","gravatar_id":"","url":"https://api.github.com/users/android","html_url":"https://github.com/android","followers_url":"https://api.github.com/users/android/followers","following_url":"https://api.github.com/users/android/following{/other_user}","gists_url":"https://api.github.com/users/android/gists{/gist_id}","starred_url":"https://api.github.com/users/android/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/android/subscriptions","organizations_url":"https://api.github.com/users/android/orgs","repos_url":"https://api.github.com/users/android/repos","events_url":"https://api.github.com/users/android/events{/privacy}","received_events_url":"https://api.github.com/users/android/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/android/android-test","description":"An extensive framework for testing Android apps","fork":false,"url":"https://api.github.com/repos/android/android-test","forks_url":"https://api.github.com/repos/android/android-test/forks","keys_url":"https://api.github.com/repos/android/android-test/keys{/key_id}","collaborators_url":"https://api.github.com/repos/android/android-test/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/android/android-test/teams","hooks_url":"https://api.github.com/repos/android/android-test/hooks","issue_events_url":"https://api.github.com/repos/android/android-test/issues/events{/number}","events_url":"https://api.github.com/repos/android/android-test/events","assignees_url":"https://api.github.com/repos/android/android-test/assignees{/user}","branches_url":"https://api.github.com/repos/android/android-test/branches{/branch}","tags_url":"https://api.github.com/repos/android/android-test/tags","blobs_url":"https://api.github.com/repos/android/android-test/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/android/android-test/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/android/android-test/git/refs{/sha}","trees_url":"https://api.github.com/repos/android/android-test/git/trees{/sha}","statuses_url":"https://api.github.com/repos/android/android-test/statuses/{sha}","languages_url":"https://api.github.com/repos/android/android-test/languages","stargazers_url":"https://api.github.com/repos/android/android-test/stargazers","contributors_url":"https://api.github.com/repos/android/android-test/contributors","subscribers_url":"https://api.github.com/repos/android/android-test/subscribers","subscription_url":"https://api.github.com/repos/android/android-test/subscription","commits_url":"https://api.github.com/repos/android/android-test/commits{/sha}","git_commits_url":"https://api.github.com/repos/android/android-test/git/commits{/sha}","comments_url":"https://api.github.com/repos/android/android-test/comments{/number}","issue_comment_url":"https://api.github.com/repos/android/android-test/issues/comments{/number}","contents_url":"https://api.github.com/repos/android/android-test/contents/{+path}","compare_url":"https://api.github.com/repos/android/android-test/compare/{base}...{head}","merges_url":"https://api.github.com/repos/android/android-test/merges","archive_url":"https://api.github.com/repos/android/android-test/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/android/android-test/downloads","issues_url":"https://api.github.com/repos/android/android-test/issues{/number}","pulls_url":"https://api.github.com/repos/android/android-test/pulls{/number}","milestones_url":"https://api.github.com/repos/android/android-test/milestones{/number}","notifications_url":"https://api.github.com/repos/android/android-test/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/android/android-test/labels{/name}","releases_url":"https://api.github.com/repos/android/android-test/releases{/id}","deployments_url":"https://api.github.com/repos/android/android-test/deployments","created_at":"2015-08-21T09:47:39Z","updated_at":"2025-11-03T18:37:56Z","pushed_at":"2025-11-03T18:37:54Z","git_url":"git://github.com/android/android-test.git","ssh_url":"git@github.com:android/android-test.git","clone_url":"https://github.com/android/android-test.git","svn_url":"https://github.com/android/android-test","homepage":"https://android.github.io/android-test","size":77431,"stargazers_count":1205,"watchers_count":1205,"language":"Java","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":334,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":332,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":334,"open_issues":332,"watchers":1205,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description\r\n\r\nWhile a test suite is running, the `AndroidJUnitRunner` thread holds the test suite result in a local variable of type `org.junit.runner.Result` where `Result.failures` is a list of `org.junit.runner.notification.Failure` and each `Failure` has a `Failure.fThrownException` that points to the thrown exception, which here is a `androidx.test.espresso.NoMatchingViewException`. Unfortunately, `NoMatchingViewException` has a strong reference to the root view where the exception was thrown.\r\n\r\nThis means that while the test suite is running, any test failing due to a view matching error will leak to the corresponding root view being leaked for the duration of the test suite. This increases memory pressure. Developers who run LeakCanary in tests might see subsequent tests fail due to a leak being detected, when that leak is actually caused by the Espresso.\r\n\r\n### Steps to Reproduce\r\n\r\n* Run a test suite where the first test fails due to view matching\r\n* Add LeakCanary leak detection to a subsequent test, with a configuration to detect leaks in the whole heap dumps instead of just newly leaks in the current tests\r\n* Notice that subsequent tests fail as well.\r\n\r\n### Expected Results\r\n\r\n* Test infra should not hold on to view hierarchies of past tests, subsequent tests should not fail.\r\n\r\n### AndroidX Test and Android OS Versions\r\n\r\nAll versions of AndroidX Test and all versions of Android.\r\n\r\n### Link to a public git repo demonstrating the problem\r\n\r\nhttps://github.com/square/leakcanary/issues/2297\r\n","reactions":{"url":"https://api.github.com/repos/android/android-test/issues/1661/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/android/android-test/issues/1661/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1401736522","html_url":"https://github.com/square/leakcanary/issues/2297#issuecomment-1401736522","issue_url":"https://api.github.com/repos/square/leakcanary/issues/2297","id":1401736522,"node_id":"IC_kwDOAhNhM85TjM1K","user":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T11:00:22Z","updated_at":"2023-01-24T11:00:22Z","body":"@pyricau \r\n\r\n> In your leak report, there's no \"ObjectWatcher was watching this\". Which means it wasn't watching those objects, the weak refs had been cleared. However, you probably configured `LeakCanary.Config.leakingObjectFinder` with a more aggressive version that scans the whole heap dump for any view / context that looks leaking. So those leaks still show up.\r\n\r\nThis is entirely correct, very sharp eyed! That also gives me a mental model for what was happening. Thank you!\r\n\r\n> We should likely get Espresso to fix this bug.\r\n\r\nI'll go and lend what little weight I can to the issue that you opened. Once again, thank you!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/comments/1401736522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mohlson","id":70900328,"node_id":"MDQ6VXNlcjcwOTAwMzI4","avatar_url":"https://avatars.githubusercontent.com/u/70900328?v=4","gravatar_id":"","url":"https://api.github.com/users/mohlson","html_url":"https://github.com/mohlson","followers_url":"https://api.github.com/users/mohlson/followers","following_url":"https://api.github.com/users/mohlson/following{/other_user}","gists_url":"https://api.github.com/users/mohlson/gists{/gist_id}","starred_url":"https://api.github.com/users/mohlson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohlson/subscriptions","organizations_url":"https://api.github.com/users/mohlson/orgs","repos_url":"https://api.github.com/users/mohlson/repos","events_url":"https://api.github.com/users/mohlson/events{/privacy}","received_events_url":"https://api.github.com/users/mohlson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8343019477,"node_id":"MEE_lADOAhNhM85CkiIFzwAAAAHxSF_V","url":"https://api.github.com/repos/square/leakcanary/issues/events/8343019477","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-24T11:00:22Z","performed_via_github_app":null},{"id":8343019496,"node_id":"SE_lADOAhNhM85CkiIFzwAAAAHxSF_o","url":"https://api.github.com/repos/square/leakcanary/issues/events/8343019496","actor":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-24T11:00:22Z","performed_via_github_app":null}]