{"url":"https://api.github.com/repos/square/leakcanary/issues/1158","repository_url":"https://api.github.com/repos/square/leakcanary","labels_url":"https://api.github.com/repos/square/leakcanary/issues/1158/labels{/name}","comments_url":"https://api.github.com/repos/square/leakcanary/issues/1158/comments","events_url":"https://api.github.com/repos/square/leakcanary/issues/1158/events","html_url":"https://github.com/square/leakcanary/issues/1158","id":396600790,"node_id":"MDU6SXNzdWUzOTY2MDA3OTA=","number":1158,"title":"Make DisplayLeakActivity optional","user":{"login":"saguinav","id":2420579,"node_id":"MDQ6VXNlcjI0MjA1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/2420579?v=4","gravatar_id":"","url":"https://api.github.com/users/saguinav","html_url":"https://github.com/saguinav","followers_url":"https://api.github.com/users/saguinav/followers","following_url":"https://api.github.com/users/saguinav/following{/other_user}","gists_url":"https://api.github.com/users/saguinav/gists{/gist_id}","starred_url":"https://api.github.com/users/saguinav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saguinav/subscriptions","organizations_url":"https://api.github.com/users/saguinav/orgs","repos_url":"https://api.github.com/users/saguinav/repos","events_url":"https://api.github.com/users/saguinav/events{/privacy}","received_events_url":"https://api.github.com/users/saguinav/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":205873876,"node_id":"MDU6TGFiZWwyMDU4NzM4NzY=","url":"https://api.github.com/repos/square/leakcanary/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/square/leakcanary/milestones/5","html_url":"https://github.com/square/leakcanary/milestone/5","labels_url":"https://api.github.com/repos/square/leakcanary/milestones/5/labels","id":3744815,"node_id":"MDk6TWlsZXN0b25lMzc0NDgxNQ==","number":5,"title":"1.6.3","description":"","creator":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2018-10-16T23:54:15Z","updated_at":"2019-01-11T00:38:30Z","due_on":null,"closed_at":"2019-01-11T00:38:30Z"},"comments":1,"created_at":"2019-01-07T18:35:52Z","updated_at":"2019-01-10T02:04:20Z","closed_at":"2019-01-10T02:04:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi @pyricau !  \r\n\r\nMy team tried to update Leak Canary to the latest version (`1.6.2`) and we noticed that this change (#1117) modified significantly how Leak Canary works in our builds. \r\n\r\nTo give you more context, our app defines an internal production flavor that gets distributed only for employees. In this internal production app we can enable/disable certain configuration flags, being one of them **memory leaks detections**. If the user enables memory leaks detection, any memory leak detected gets uploaded to our logging or crash report system, as explained in the Wiki [here](https://github.com/square/leakcanary/wiki/Customizing-LeakCanary#uploading-to-a-server). Instead of extending from the `DisplayLeakService`, we extend from `AbstractAnalysisResultService`, which allow us to report the analysis results without the need of displaying the leak activity or installing the side LeakCanary app. This way employees see the ForegroundService notification when the memory is being dumped and analyzed but don't see an unknown application named `Leaks` mysteriously installed on their phone.\r\nIn addition, we also noticed that some of our Instrumentation tests were suddenly failing because of this new requirement of the library.         \r\n\r\nWe believe it would be great to have an option to disable this requirement as you suggested in the description of the issue #1115. I hope this use case makes sense to you and has enough value to consider it. We are also opened to alternative solutions. Thanks in advance.  \r\n\r\nCheers. \r\n","closed_by":{"login":"pyricau","id":557033,"node_id":"MDQ6VXNlcjU1NzAzMw==","avatar_url":"https://avatars.githubusercontent.com/u/557033?v=4","gravatar_id":"","url":"https://api.github.com/users/pyricau","html_url":"https://github.com/pyricau","followers_url":"https://api.github.com/users/pyricau/followers","following_url":"https://api.github.com/users/pyricau/following{/other_user}","gists_url":"https://api.github.com/users/pyricau/gists{/gist_id}","starred_url":"https://api.github.com/users/pyricau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyricau/subscriptions","organizations_url":"https://api.github.com/users/pyricau/orgs","repos_url":"https://api.github.com/users/pyricau/repos","events_url":"https://api.github.com/users/pyricau/events{/privacy}","received_events_url":"https://api.github.com/users/pyricau/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/leakcanary/issues/1158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/leakcanary/issues/1158/timeline","performed_via_github_app":null,"state_reason":"completed"}