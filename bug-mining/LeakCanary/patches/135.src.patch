diff --git a/docs/fundamentals.md b/docs/fundamentals.md
index 16597889a..ba6771bb3 100644
--- a/docs/fundamentals.md
+++ b/docs/fundamentals.md
@@ -235,3 +235,4 @@ LeakCanary is released as several libraries:
 * LeakCanary Android separate process
 	* Enables running LeakCanary separately from the main app process.
 	* Artifact id: `com.squareup.leakcanary:leakcanary-android-process` (as a replacement for `com.squareup.leakcanary:leakcanary-android`).
+	* See [Running the LeakCanary analysis in a separate process](recipes.md#running-the-leakcanary-analysis-in-a-separate-process).
diff --git a/docs/recipes.md b/docs/recipes.md
index e73901046..1f549f67a 100644
--- a/docs/recipes.md
+++ b/docs/recipes.md
@@ -244,6 +244,21 @@ class DebugExampleApplication : ExampleApplication() {
 }
 ```
 
+## Running the LeakCanary analysis in a separate process
+
+LeakCanary runs in your main app process. LeakCanary 2 is optimized to keep memory usage low while analysing and runs in a background thread with priority `Process.THREAD_PRIORITY_BACKGROUND`. If you find that LeakCanary is still using too much memory or impacting the app process performance, you can configure it to run the analysis in a separate process.
+
+All you have to do is replace the `leakcanary-android` depedency with `leakcanary-android-process`:
+
+```groovy
+dependencies {
+  // debugImplementation 'com.squareup.leakcanary:leakcanary-android:${version}'
+  debugImplementation 'com.squareup.leakcanary:leakcanary-android-process:${version}'
+}
+```
+
+You can call [LeakCanaryProcess.isInAnalyzerProcess](/leakcanary/api/leakcanary-android-process/leakcanary/-leak-canary-process/is-in-analyzer-process/) to check if your Application class is being created in the LeakCanary process. This is useful when configuring libraries like Firebase that may crash when running in an unexpected process.
+
 ## Setting up LeakCanary for different product flavors
 
 You can setup LeakCanary to run in a specific product flavors of your app. For example, create:
diff --git a/leakcanary-android-core/src/main/java/leakcanary/LeakCanary.kt b/leakcanary-android-core/src/main/java/leakcanary/LeakCanary.kt
index d1137c822..6ef368ed4 100644
--- a/leakcanary-android-core/src/main/java/leakcanary/LeakCanary.kt
+++ b/leakcanary-android-core/src/main/java/leakcanary/LeakCanary.kt
@@ -9,6 +9,7 @@ import shark.IgnoredReferenceMatcher
 import shark.LibraryLeakReferenceMatcher
 import shark.ObjectInspector
 import shark.ReferenceMatcher
+import shark.SharkLog
 
 /**
  * The entry point API for LeakCanary. LeakCanary builds on top of [AppWatcher]. AppWatcher
@@ -145,6 +146,10 @@ object LeakCanary {
    */
   @Volatile
   var config: Config = if (AppWatcher.isInstalled) Config() else InternalLeakCanary.noInstallConfig
+    set(value) {
+      field = value
+      SharkLog.d { "Updated LeakCanary.config to $value" }
+    }
 
   /**
    * Returns a new [Intent] that can be used to programmatically launch the leak display activity.
diff --git a/leakcanary-android-process/src/main/AndroidManifest.xml b/leakcanary-android-process/src/main/AndroidManifest.xml
index 59728db48..6e787bc8a 100644
--- a/leakcanary-android-process/src/main/AndroidManifest.xml
+++ b/leakcanary-android-process/src/main/AndroidManifest.xml
@@ -21,13 +21,13 @@
     <service
         android:name="leakcanary.internal.HeapAnalyzerService"
         android:exported="false"
-        android:process=":leakcanary"
-        >
-      <intent-filter>
-        <action android:name="leakcanary.ANALYSIS_ACTION"/>
-      </intent-filter>
-    </service>
+        android:process=":leakcanary" />
 
+    <provider
+        android:name="leakcanary.internal.AppWatcherInstaller$LeakCanaryProcess"
+        android:authorities="${applicationId}.leakcanary-process.installer"
+        android:process=":leakcanary"
+        android:exported="false"/>
   </application>
 
 </manifest>
diff --git a/leakcanary-android/src/main/AndroidManifest.xml b/leakcanary-android/src/main/AndroidManifest.xml
index 0ee35e1c0..7ad651e45 100644
--- a/leakcanary-android/src/main/AndroidManifest.xml
+++ b/leakcanary-android/src/main/AndroidManifest.xml
@@ -20,13 +20,7 @@
   <application>
     <service
         android:name="leakcanary.internal.HeapAnalyzerService"
-        android:exported="false"
-        >
-      <intent-filter>
-        <action android:name="leakcanary.ANALYSIS_ACTION"/>
-      </intent-filter>
-    </service>
-
+        android:exported="false" />
   </application>
 
 </manifest>
diff --git a/leakcanary-object-watcher-android/src/main/AndroidManifest.xml b/leakcanary-object-watcher-android/src/main/AndroidManifest.xml
index db08981ea..aa51d7c58 100644
--- a/leakcanary-object-watcher-android/src/main/AndroidManifest.xml
+++ b/leakcanary-object-watcher-android/src/main/AndroidManifest.xml
@@ -6,7 +6,7 @@
 
   <application>
     <provider
-        android:name="leakcanary.internal.AppWatcherInstaller"
+        android:name="leakcanary.internal.AppWatcherInstaller$MainProcess"
         android:authorities="${applicationId}.leakcanary-installer"
         android:exported="false"/>
   </application>
diff --git a/leakcanary-object-watcher-android/src/main/java/leakcanary/AppWatcher.kt b/leakcanary-object-watcher-android/src/main/java/leakcanary/AppWatcher.kt
index 0aa035a56..2e6e7aaa5 100644
--- a/leakcanary-object-watcher-android/src/main/java/leakcanary/AppWatcher.kt
+++ b/leakcanary-object-watcher-android/src/main/java/leakcanary/AppWatcher.kt
@@ -1,9 +1,9 @@
 package leakcanary
 
 import android.app.Application
-import leakcanary.AppWatcher.config
 import leakcanary.AppWatcher.objectWatcher
 import leakcanary.internal.InternalAppWatcher
+import shark.SharkLog
 import java.util.concurrent.TimeUnit
 
 /**
@@ -61,6 +61,10 @@ object AppWatcher {
    */
   @Volatile
   var config: Config = if (isInstalled) Config() else Config(enabled = false)
+    set(value) {
+      field = value
+      SharkLog.d { "Updated AppWatcher.config to $value" }
+    }
 
   /**
    * The [ObjectWatcher] used by AppWatcher to detect retained objects.
diff --git a/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/AppWatcherInstaller.kt b/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/AppWatcherInstaller.kt
index 325e21aeb..95b0f544f 100644
--- a/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/AppWatcherInstaller.kt
+++ b/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/AppWatcherInstaller.kt
@@ -5,16 +5,32 @@ import android.content.ContentProvider
 import android.content.ContentValues
 import android.database.Cursor
 import android.net.Uri
-import shark.SharkLog
+import leakcanary.AppWatcher
 
 /**
  * Content providers are loaded before the application class is created. [AppWatcherInstaller] is
  * used to install [leakcanary.AppWatcher] on application start.
  */
-internal class AppWatcherInstaller : ContentProvider() {
+internal sealed class AppWatcherInstaller : ContentProvider() {
+
+  /**
+   * [MainProcess] automatically sets up the LeakCanary code that runs in the main app process.
+   */
+  internal class MainProcess : AppWatcherInstaller()
+
+  /**
+   * When using the `leakcanary-android-process` artifact instead of `leakcanary-android`,
+   * [LeakCanaryProcess] automatically sets up the LeakCanary code
+   */
+  internal class LeakCanaryProcess : AppWatcherInstaller() {
+    override fun onCreate(): Boolean {
+      super.onCreate()
+      AppWatcher.config = AppWatcher.config.copy(enabled = false)
+      return true
+    }
+  }
 
   override fun onCreate(): Boolean {
-    SharkLog.logger = DefaultCanaryLog()
     val application = context!!.applicationContext as Application
     InternalAppWatcher.install(application)
     return true
diff --git a/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/InternalAppWatcher.kt b/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/InternalAppWatcher.kt
index ec5f11708..578e28ada 100644
--- a/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/InternalAppWatcher.kt
+++ b/leakcanary-object-watcher-android/src/main/java/leakcanary/internal/InternalAppWatcher.kt
@@ -57,6 +57,7 @@ internal object InternalAppWatcher {
   )
 
   fun install(application: Application) {
+    SharkLog.logger = DefaultCanaryLog()
     SharkLog.d { "Installing AppWatcher" }
     checkMainThread()
     if (this::application.isInitialized) {
