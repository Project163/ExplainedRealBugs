{"url":"https://api.github.com/repos/hyperium/hyper/issues/1492","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1492/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1492/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1492/events","html_url":"https://github.com/hyperium/hyper/issues/1492","id":315747983,"node_id":"MDU6SXNzdWUzMTU3NDc5ODM=","number":1492,"title":"Headers are lower-cased when sent and no option to disable this feature.","user":{"login":"mbilker","id":1266541,"node_id":"MDQ6VXNlcjEyNjY1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1266541?v=4","gravatar_id":"","url":"https://api.github.com/users/mbilker","html_url":"https://github.com/mbilker","followers_url":"https://api.github.com/users/mbilker/followers","following_url":"https://api.github.com/users/mbilker/following{/other_user}","gists_url":"https://api.github.com/users/mbilker/gists{/gist_id}","starred_url":"https://api.github.com/users/mbilker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbilker/subscriptions","organizations_url":"https://api.github.com/users/mbilker/orgs","repos_url":"https://api.github.com/users/mbilker/repos","events_url":"https://api.github.com/users/mbilker/events{/privacy}","received_events_url":"https://api.github.com/users/mbilker/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-04-19T06:49:46Z","updated_at":"2018-04-24T23:41:03Z","closed_at":"2018-04-24T23:41:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am trying to use Hyper with a stubborn web service that does not like requests with headers that do not have the first letter of each word capitalized (`Content-Length` for example). I tried out some other HTTP client libraries for Rust (like `tk-http` which hasn't been updated recently and `mio_httpc` which doesn't work all the time with said web service), but Hyper doesn't have the issues as with the other libraries except for the header name mangling.\r\n\r\nAfter reading the RFC regarding header casing, I see that header names are supposed to be case-insensitive, so Hyper is not at fault here and from looking at `HeaderMap` I see that it relies on headers being lower-cased for performance.\r\n\r\nIf it is not possible to accommodate case-sensitive header names, then could it be possible to directly provide an array of headers to be used in an HTTP request?","closed_by":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1492/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1492/timeline","performed_via_github_app":null,"state_reason":"completed"}