[{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356038840","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-356038840","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":356038840,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjAzODg0MA==","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T17:41:52Z","updated_at":"2018-01-08T17:41:52Z","body":"You're right, I forgot about this method. I'll add it back to prevent breaking people, but `remote_addr` will also be deprecated.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356038840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1414139591,"node_id":"MDExOkNsb3NlZEV2ZW50MTQxNDEzOTU5MQ==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1414139591","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"fa7f4377c1d783ca860820aefc41d0eab73be14c","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/fa7f4377c1d783ca860820aefc41d0eab73be14c","created_at":"2018-01-08T18:05:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356114998","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-356114998","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":356114998,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjExNDk5OA==","user":{"login":"moderation","id":246317,"node_id":"MDQ6VXNlcjI0NjMxNw==","avatar_url":"https://avatars.githubusercontent.com/u/246317?v=4","gravatar_id":"","url":"https://api.github.com/users/moderation","html_url":"https://github.com/moderation","followers_url":"https://api.github.com/users/moderation/followers","following_url":"https://api.github.com/users/moderation/following{/other_user}","gists_url":"https://api.github.com/users/moderation/gists{/gist_id}","starred_url":"https://api.github.com/users/moderation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moderation/subscriptions","organizations_url":"https://api.github.com/users/moderation/orgs","repos_url":"https://api.github.com/users/moderation/repos","events_url":"https://api.github.com/users/moderation/events{/privacy}","received_events_url":"https://api.github.com/users/moderation/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T22:19:40Z","updated_at":"2018-01-08T22:19:40Z","body":"@seanmonstar with `remote_addr` being removed is there an alternative method or is the capability being removed all together?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356114998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"moderation","id":246317,"node_id":"MDQ6VXNlcjI0NjMxNw==","avatar_url":"https://avatars.githubusercontent.com/u/246317?v=4","gravatar_id":"","url":"https://api.github.com/users/moderation","html_url":"https://github.com/moderation","followers_url":"https://api.github.com/users/moderation/followers","following_url":"https://api.github.com/users/moderation/following{/other_user}","gists_url":"https://api.github.com/users/moderation/gists{/gist_id}","starred_url":"https://api.github.com/users/moderation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moderation/subscriptions","organizations_url":"https://api.github.com/users/moderation/orgs","repos_url":"https://api.github.com/users/moderation/repos","events_url":"https://api.github.com/users/moderation/events{/privacy}","received_events_url":"https://api.github.com/users/moderation/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1414568257,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQxNDU2ODI1Nw==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1414568257","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-01-08T22:19:40Z","performed_via_github_app":null},{"id":1414568258,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0MTQ1NjgyNTg=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1414568258","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-01-08T22:19:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356115678","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-356115678","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":356115678,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjExNTY3OA==","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T22:22:39Z","updated_at":"2018-01-08T22:22:39Z","body":"The remote address likely won't be part of the `Request` any other way. However, each `Service` is created per connection, so the address can be stored in a `Service`. That should be trivial if managing a `TcpListener` yourself, but a way to access it when using `Http::bind` doesn't really exist, and could be explored.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/356115678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/361888250","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-361888250","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":361888250,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTg4ODI1MA==","user":{"login":"oa-metaswitch","id":20189367,"node_id":"MDQ6VXNlcjIwMTg5MzY3","avatar_url":"https://avatars.githubusercontent.com/u/20189367?v=4","gravatar_id":"","url":"https://api.github.com/users/oa-metaswitch","html_url":"https://github.com/oa-metaswitch","followers_url":"https://api.github.com/users/oa-metaswitch/followers","following_url":"https://api.github.com/users/oa-metaswitch/following{/other_user}","gists_url":"https://api.github.com/users/oa-metaswitch/gists{/gist_id}","starred_url":"https://api.github.com/users/oa-metaswitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oa-metaswitch/subscriptions","organizations_url":"https://api.github.com/users/oa-metaswitch/orgs","repos_url":"https://api.github.com/users/oa-metaswitch/repos","events_url":"https://api.github.com/users/oa-metaswitch/events{/privacy}","received_events_url":"https://api.github.com/users/oa-metaswitch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-31T10:21:43Z","updated_at":"2018-01-31T10:21:43Z","body":"+1 for getting some way to access the TcpListener. I'm currently relying on getting access to the remote address, and it would be a shame to have to manage the transport layer manually. Particularly now that support for tokio_proto is going away.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/361888250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"oa-metaswitch","id":20189367,"node_id":"MDQ6VXNlcjIwMTg5MzY3","avatar_url":"https://avatars.githubusercontent.com/u/20189367?v=4","gravatar_id":"","url":"https://api.github.com/users/oa-metaswitch","html_url":"https://github.com/oa-metaswitch","followers_url":"https://api.github.com/users/oa-metaswitch/followers","following_url":"https://api.github.com/users/oa-metaswitch/following{/other_user}","gists_url":"https://api.github.com/users/oa-metaswitch/gists{/gist_id}","starred_url":"https://api.github.com/users/oa-metaswitch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oa-metaswitch/subscriptions","organizations_url":"https://api.github.com/users/oa-metaswitch/orgs","repos_url":"https://api.github.com/users/oa-metaswitch/repos","events_url":"https://api.github.com/users/oa-metaswitch/events{/privacy}","received_events_url":"https://api.github.com/users/oa-metaswitch/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/363429133","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-363429133","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":363429133,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzQyOTEzMw==","user":{"login":"jedisct1","id":124872,"node_id":"MDQ6VXNlcjEyNDg3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/124872?v=4","gravatar_id":"","url":"https://api.github.com/users/jedisct1","html_url":"https://github.com/jedisct1","followers_url":"https://api.github.com/users/jedisct1/followers","following_url":"https://api.github.com/users/jedisct1/following{/other_user}","gists_url":"https://api.github.com/users/jedisct1/gists{/gist_id}","starred_url":"https://api.github.com/users/jedisct1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jedisct1/subscriptions","organizations_url":"https://api.github.com/users/jedisct1/orgs","repos_url":"https://api.github.com/users/jedisct1/repos","events_url":"https://api.github.com/users/jedisct1/events{/privacy}","received_events_url":"https://api.github.com/users/jedisct1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-06T13:56:04Z","updated_at":"2018-02-06T13:56:04Z","body":"+1","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/363429133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jedisct1","id":124872,"node_id":"MDQ6VXNlcjEyNDg3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/124872?v=4","gravatar_id":"","url":"https://api.github.com/users/jedisct1","html_url":"https://github.com/jedisct1","followers_url":"https://api.github.com/users/jedisct1/followers","following_url":"https://api.github.com/users/jedisct1/following{/other_user}","gists_url":"https://api.github.com/users/jedisct1/gists{/gist_id}","starred_url":"https://api.github.com/users/jedisct1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jedisct1/subscriptions","organizations_url":"https://api.github.com/users/jedisct1/orgs","repos_url":"https://api.github.com/users/jedisct1/repos","events_url":"https://api.github.com/users/jedisct1/events{/privacy}","received_events_url":"https://api.github.com/users/jedisct1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/370267364","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-370267364","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":370267364,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDI2NzM2NA==","user":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-04T21:50:28Z","updated_at":"2018-03-04T21:50:28Z","body":"My current approach to pass down the IP address to my service (a proxy server use case):\r\n```rust\r\nlet address: SocketAddr = ([127, 0, 0, 1], port).into();\r\nlet mut core = Core::new().unwrap();\r\nlet handle = core.handle();\r\n\r\n// We can't use Http::new().bind() because we need to pass down the\r\n// remote source IP address to our proxy service. So we need to\r\n// create a TCP listener ourselves and handle each connection to\r\n// have access to the source IP address.\r\n// @todo Simplify this once Hyper has a better API to handle IP\r\n// addresses.\r\nlet listener = TcpListener::bind(&address, &handle)\r\n    .chain_err(|| format!(\"Failed to bind server to address {}\", address))?;\r\nlet client = Client::new(&handle);\r\nlet mut http = Http::<hyper::Chunk>::new();\r\n// Let Hyper swallow IO errors internally to keep the server always\r\n// running.\r\nhttp.sleep_on_errors(true);\r\n\r\nlet server = listener.incoming().for_each(move |(socket, source_address)| {\r\n    handle.spawn(\r\n        http.serve_connection(socket, Proxy {\r\n                port,\r\n                upstream_port,\r\n                client: client.clone(),\r\n                source_address,\r\n            })\r\n            .map(|_| ())\r\n            .map_err(|_| ())\r\n    );\r\n    Ok(())\r\n});\r\n\r\nprintln!(\"Listening on http://{}\", address);\r\ncore.run(server).chain_err(|| \"Tokio core run error\")?;\r\nbail!(\"The Tokio core run ended unexpectedly\");\r\n```\r\nFull source: https://github.com/klausi/rustnish/blob/goal-09/src/lib.rs","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/370267364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/370269899","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-370269899","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":370269899,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDI2OTg5OQ==","user":{"login":"ensc","id":43379,"node_id":"MDQ6VXNlcjQzMzc5","avatar_url":"https://avatars.githubusercontent.com/u/43379?v=4","gravatar_id":"","url":"https://api.github.com/users/ensc","html_url":"https://github.com/ensc","followers_url":"https://api.github.com/users/ensc/followers","following_url":"https://api.github.com/users/ensc/following{/other_user}","gists_url":"https://api.github.com/users/ensc/gists{/gist_id}","starred_url":"https://api.github.com/users/ensc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ensc/subscriptions","organizations_url":"https://api.github.com/users/ensc/orgs","repos_url":"https://api.github.com/users/ensc/repos","events_url":"https://api.github.com/users/ensc/events{/privacy}","received_events_url":"https://api.github.com/users/ensc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-04T22:23:10Z","updated_at":"2018-03-04T22:23:10Z","body":"@klausi  I do not know how, but `Http::bind()` seems to workaround the `'static` lifetime requirements of the inner function while they still exist when calling `handel.spawn()` manually.  E.g. I tried to write [this code](https://gist.github.com/ensc/155b28cbc07af11c3309348f7b19d9df) but failed to implement `bar()`.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/370269899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ensc","id":43379,"node_id":"MDQ6VXNlcjQzMzc5","avatar_url":"https://avatars.githubusercontent.com/u/43379?v=4","gravatar_id":"","url":"https://api.github.com/users/ensc","html_url":"https://github.com/ensc","followers_url":"https://api.github.com/users/ensc/followers","following_url":"https://api.github.com/users/ensc/following{/other_user}","gists_url":"https://api.github.com/users/ensc/gists{/gist_id}","starred_url":"https://api.github.com/users/ensc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ensc/subscriptions","organizations_url":"https://api.github.com/users/ensc/orgs","repos_url":"https://api.github.com/users/ensc/repos","events_url":"https://api.github.com/users/ensc/events{/privacy}","received_events_url":"https://api.github.com/users/ensc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1503120094,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUwMzEyMDA5NA==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1503120094","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-03-04T22:23:10Z","performed_via_github_app":null},{"id":1503120095,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1MDMxMjAwOTU=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1503120095","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-03-04T22:23:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/373158882","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-373158882","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":373158882,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE1ODg4Mg==","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T20:12:54Z","updated_at":"2018-03-14T20:12:54Z","body":"If there's interest in getting this information even when hyper manages the listener, we could open a new issue about that. This [related comment](https://github.com/hyperium/hyper/issues/1402#issuecomment-373157791) about an API in the client seems relevant.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/373158882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T02:53:32Z","updated_at":"2018-05-01T02:53:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378","repository_url":"https://api.github.com/repos/rust-lang/crates.io","labels_url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378/comments","events_url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378/events","html_url":"https://github.com/rust-lang/crates.io/pull/1378","id":319101129,"node_id":"MDExOlB1bGxSZXF1ZXN0MTg1MTEwOTcx","number":1378,"title":"Replace `civet` with `hyper` as http server","user":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-05-01T02:53:32Z","updated_at":"2019-02-07T16:15:22Z","closed_at":"2018-08-15T18:25:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":21365581,"node_id":"MDEwOlJlcG9zaXRvcnkyMTM2NTU4MQ==","name":"crates.io","full_name":"rust-lang/crates.io","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/crates.io","description":"The Rust package registry","fork":false,"url":"https://api.github.com/repos/rust-lang/crates.io","forks_url":"https://api.github.com/repos/rust-lang/crates.io/forks","keys_url":"https://api.github.com/repos/rust-lang/crates.io/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/crates.io/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/crates.io/teams","hooks_url":"https://api.github.com/repos/rust-lang/crates.io/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/crates.io/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/crates.io/events","assignees_url":"https://api.github.com/repos/rust-lang/crates.io/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/crates.io/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/crates.io/tags","blobs_url":"https://api.github.com/repos/rust-lang/crates.io/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/crates.io/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/crates.io/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/crates.io/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/crates.io/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/crates.io/languages","stargazers_url":"https://api.github.com/repos/rust-lang/crates.io/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/crates.io/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/crates.io/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/crates.io/subscription","commits_url":"https://api.github.com/repos/rust-lang/crates.io/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/crates.io/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/crates.io/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/crates.io/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/crates.io/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/crates.io/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/crates.io/merges","archive_url":"https://api.github.com/repos/rust-lang/crates.io/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/crates.io/downloads","issues_url":"https://api.github.com/repos/rust-lang/crates.io/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/crates.io/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/crates.io/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/crates.io/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/crates.io/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/crates.io/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/crates.io/deployments","created_at":"2014-06-30T20:53:49Z","updated_at":"2025-11-09T14:23:54Z","pushed_at":"2025-11-09T13:45:29Z","git_url":"git://github.com/rust-lang/crates.io.git","ssh_url":"git@github.com:rust-lang/crates.io.git","clone_url":"https://github.com/rust-lang/crates.io.git","svn_url":"https://github.com/rust-lang/crates.io","homepage":"https://crates.io","size":53377,"stargazers_count":3377,"watchers_count":3377,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":677,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":89,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","rust"],"visibility":"public","forks":677,"open_issues":89,"watchers":3377,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rust-lang/crates.io/pulls/1378","html_url":"https://github.com/rust-lang/crates.io/pull/1378","diff_url":"https://github.com/rust-lang/crates.io/pull/1378.diff","patch_url":"https://github.com/rust-lang/crates.io/pull/1378.patch","merged_at":"2018-08-15T18:25:41Z"},"body":"This is a work in progress implementation switching from `civet` to `hyper` as the base http server.\r\n\r\nThis is based on `conduit-hyper` which I've updated to `hyper 0.11`.  That source code is [here](https://github.com/jtgeibel/conduit-hyper/blob/master/src/lib.rs).  A huge shout-out to @sfackler and @drbawb as this is forked from their repos.  I'm curios if either of you are still using this code and if you have any feedback.  I plan to eventually publish this crate on crates.io, so please let me know if you would like to be added/removed as an author or if you have any objections.\r\n\r\nThere are several things I wish to investigate further, including:\r\n\r\n* I'm not yet sure if hyper handles panics.  I see no results searching for `catch_unwind`, so I'm assuming panics need to be handled in this layer.\r\n* Add some tests\r\n* request.remote_addr() is deprecated, also see: https://github.com/hyperium/hyper/issues/1410#issuecomment-356115678","reactions":{"url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/crates.io/issues/1378/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1790532613,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3OTA1MzI2MTM=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1790532613","actor":{"login":"bors-voyager[bot]","id":30538502,"node_id":"MDM6Qm90MzA1Mzg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/193874?v=4","gravatar_id":"","url":"https://api.github.com/users/bors-voyager%5Bbot%5D","html_url":"https://github.com/apps/bors-voyager","followers_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/followers","following_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/repos","events_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/bors-voyager%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ba6c689c2ebec7bcb8a9298de0750638af36c9ec","commit_url":"https://api.github.com/repos/rust-lang/crates.io/commits/ba6c689c2ebec7bcb8a9298de0750638af36c9ec","created_at":"2018-08-15T17:22:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/414340556","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-414340556","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":414340556,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDM0MDU1Ng==","user":{"login":"stevedonovan","id":218893,"node_id":"MDQ6VXNlcjIxODg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218893?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedonovan","html_url":"https://github.com/stevedonovan","followers_url":"https://api.github.com/users/stevedonovan/followers","following_url":"https://api.github.com/users/stevedonovan/following{/other_user}","gists_url":"https://api.github.com/users/stevedonovan/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedonovan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedonovan/subscriptions","organizations_url":"https://api.github.com/users/stevedonovan/orgs","repos_url":"https://api.github.com/users/stevedonovan/repos","events_url":"https://api.github.com/users/stevedonovan/events{/privacy}","received_events_url":"https://api.github.com/users/stevedonovan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T14:42:21Z","updated_at":"2018-08-20T14:42:21Z","body":"With 0.12, @klausi workaround no longer compiles. Anything further on this issue? It becomes important when providing a webhook for little devices that don't bother to fill in referer.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/414340556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevedonovan","id":218893,"node_id":"MDQ6VXNlcjIxODg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218893?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedonovan","html_url":"https://github.com/stevedonovan","followers_url":"https://api.github.com/users/stevedonovan/followers","following_url":"https://api.github.com/users/stevedonovan/following{/other_user}","gists_url":"https://api.github.com/users/stevedonovan/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedonovan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedonovan/subscriptions","organizations_url":"https://api.github.com/users/stevedonovan/orgs","repos_url":"https://api.github.com/users/stevedonovan/repos","events_url":"https://api.github.com/users/stevedonovan/events{/privacy}","received_events_url":"https://api.github.com/users/stevedonovan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1797867478,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc5Nzg2NzQ3OA==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1797867478","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-08-20T14:42:21Z","performed_via_github_app":null},{"id":1797867479,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3OTc4Njc0Nzk=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1797867479","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-08-20T14:42:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/419510220","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-419510220","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":419510220,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTUxMDIyMA==","user":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T17:27:28Z","updated_at":"2018-09-07T17:27:37Z","body":"@stevedonovan my TCPListener workaround still works with Hyper 0.12:\r\n\r\n```rust\r\nlet address: SocketAddr = ([127, 0, 0, 1], port).into();\r\nlet mut runtime = Runtime::new().unwrap();\r\n\r\nlet listener = TcpListener::bind(&address)\r\n    .chain_err(|| format!(\"Failed to bind server to address {}\", address))?;\r\nlet client = Client::new();\r\nlet http = Http::new();\r\n\r\nlet server = listener\r\n    .incoming()\r\n    .for_each(move |socket| {\r\n        let source_address = socket.peer_addr().unwrap();\r\n        tokio::spawn(\r\n            http.serve_connection(\r\n                socket,\r\n                Proxy {\r\n                    port,\r\n                    upstream_port,\r\n                    client: client.clone(),\r\n                    source_address,\r\n                },\r\n            ).map(|_| ())\r\n            .map_err(|_| ()),\r\n        );\r\n        Ok(())\r\n    }).map_err(|e| panic!(\"accept error: {}\", e));\r\n\r\nprintln!(\"Listening on http://{}\", address);\r\nruntime.spawn(server);\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/419510220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1833370264,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTgzMzM3MDI2NA==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1833370264","actor":{"login":"stevedonovan","id":218893,"node_id":"MDQ6VXNlcjIxODg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218893?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedonovan","html_url":"https://github.com/stevedonovan","followers_url":"https://api.github.com/users/stevedonovan/followers","following_url":"https://api.github.com/users/stevedonovan/following{/other_user}","gists_url":"https://api.github.com/users/stevedonovan/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedonovan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedonovan/subscriptions","organizations_url":"https://api.github.com/users/stevedonovan/orgs","repos_url":"https://api.github.com/users/stevedonovan/repos","events_url":"https://api.github.com/users/stevedonovan/events{/privacy}","received_events_url":"https://api.github.com/users/stevedonovan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-09-07T17:27:28Z","performed_via_github_app":null},{"id":1833370266,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE4MzMzNzAyNjY=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1833370266","actor":{"login":"stevedonovan","id":218893,"node_id":"MDQ6VXNlcjIxODg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218893?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedonovan","html_url":"https://github.com/stevedonovan","followers_url":"https://api.github.com/users/stevedonovan/followers","following_url":"https://api.github.com/users/stevedonovan/following{/other_user}","gists_url":"https://api.github.com/users/stevedonovan/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedonovan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedonovan/subscriptions","organizations_url":"https://api.github.com/users/stevedonovan/orgs","repos_url":"https://api.github.com/users/stevedonovan/repos","events_url":"https://api.github.com/users/stevedonovan/events{/privacy}","received_events_url":"https://api.github.com/users/stevedonovan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-09-07T17:27:28Z","performed_via_github_app":null},{"actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T17:49:18Z","updated_at":"2018-09-07T17:49:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1650","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1650/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1650/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1650/events","html_url":"https://github.com/hyperium/hyper/issues/1650","id":358155890,"node_id":"MDU6SXNzdWUzNTgxNTU4OTA=","number":1650,"title":"Provide access to remote IP address in incoming server requests","user":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":128399797,"node_id":"MDU6TGFiZWwxMjgzOTk3OTc=","url":"https://api.github.com/repos/hyperium/hyper/labels/A-server","name":"A-server","color":"fbca04","default":false,"description":"Area: server."},{"id":413075081,"node_id":"MDU6TGFiZWw0MTMwNzUwODE=","url":"https://api.github.com/repos/hyperium/hyper/labels/B-upstream","name":"B-upstream","color":"1d76db","default":false,"description":"Blocked: needs a change in a dependency or the compiler."},{"id":694496598,"node_id":"MDU6TGFiZWw2OTQ0OTY1OTg=","url":"https://api.github.com/repos/hyperium/hyper/labels/C-feature","name":"C-feature","color":"f9d0c4","default":false,"description":"Category: feature. This is adding a new feature."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-09-07T17:49:18Z","updated_at":"2018-11-16T21:18:10Z","closed_at":"2018-11-16T21:18:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When writing a server in Hyper I should be able to retrieve the remote IP address from the request.\r\n\r\n@seanmonstar mentioned in #1410 that an API similar to the client (#1402) might be relevant?\r\n\r\nAPI usage could then look like this:\r\n\r\n```rust\r\nfn respond_with_sender_ip(request: Request<Body>) -> BoxFut {\r\n    let remote_address = request\r\n        .extensions()\r\n        .get::<HttpInfo>()\r\n        .expect(\"something something sets HttpInfo\")\r\n        .remote_addr();\r\n\r\n    Box::new(future::ok(Response::new(Body::from(remote_address))))\r\n}\r\n```\r\n(Please edit this to make the proposed API usage correct :-)","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1650/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1650/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/419521200","html_url":"https://github.com/hyperium/hyper/issues/1410#issuecomment-419521200","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1410","id":419521200,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTUyMTIwMA==","user":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T18:07:48Z","updated_at":"2018-09-07T18:07:48Z","body":"Ah, just found the usual DoS security weakness again with my code from above. If your server needs to handle many requests and runs out of file descriptors then the code from above will panic and your server will exit and stop.\r\n\r\n[I wrote about this before](https://klausi.github.io/rustnish/2018/03/11/crashing-a-rust-hyper-server-with-a-denial-of-service-attack.html) and Hyper even has a protection against this built in now - but if you are constructing your TCP listener manually then you are on your own again :-(","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/419521200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"klausi","id":213229,"node_id":"MDQ6VXNlcjIxMzIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/213229?v=4","gravatar_id":"","url":"https://api.github.com/users/klausi","html_url":"https://github.com/klausi","followers_url":"https://api.github.com/users/klausi/followers","following_url":"https://api.github.com/users/klausi/following{/other_user}","gists_url":"https://api.github.com/users/klausi/gists{/gist_id}","starred_url":"https://api.github.com/users/klausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klausi/subscriptions","organizations_url":"https://api.github.com/users/klausi/orgs","repos_url":"https://api.github.com/users/klausi/repos","events_url":"https://api.github.com/users/klausi/events{/privacy}","received_events_url":"https://api.github.com/users/klausi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1990504324,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE5OTA1MDQzMjQ=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1990504324","actor":{"login":"scottlamb","id":8949524,"node_id":"MDQ6VXNlcjg5NDk1MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8949524?v=4","gravatar_id":"","url":"https://api.github.com/users/scottlamb","html_url":"https://github.com/scottlamb","followers_url":"https://api.github.com/users/scottlamb/followers","following_url":"https://api.github.com/users/scottlamb/following{/other_user}","gists_url":"https://api.github.com/users/scottlamb/gists{/gist_id}","starred_url":"https://api.github.com/users/scottlamb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottlamb/subscriptions","organizations_url":"https://api.github.com/users/scottlamb/orgs","repos_url":"https://api.github.com/users/scottlamb/repos","events_url":"https://api.github.com/users/scottlamb/events{/privacy}","received_events_url":"https://api.github.com/users/scottlamb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"422cd2a75e8f6c02379c442c472b77e9e943b6a9","commit_url":"https://api.github.com/repos/scottlamb/moonfire-nvr/commits/422cd2a75e8f6c02379c442c472b77e9e943b6a9","created_at":"2018-11-27T19:10:45Z","performed_via_github_app":null},{"id":12498527876,"node_id":"REFE_lADOAWaYQc4RE3fpzwAAAALo-GaE","url":"https://api.github.com/repos/hyperium/hyper/issues/events/12498527876","actor":{"login":"hjr3","id":33318,"node_id":"MDQ6VXNlcjMzMzE4","avatar_url":"https://avatars.githubusercontent.com/u/33318?v=4","gravatar_id":"","url":"https://api.github.com/users/hjr3","html_url":"https://github.com/hjr3","followers_url":"https://api.github.com/users/hjr3/followers","following_url":"https://api.github.com/users/hjr3/following{/other_user}","gists_url":"https://api.github.com/users/hjr3/gists{/gist_id}","starred_url":"https://api.github.com/users/hjr3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjr3/subscriptions","organizations_url":"https://api.github.com/users/hjr3/orgs","repos_url":"https://api.github.com/users/hjr3/repos","events_url":"https://api.github.com/users/hjr3/events{/privacy}","received_events_url":"https://api.github.com/users/hjr3/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fa7f4377c1d783ca860820aefc41d0eab73be14c","commit_url":"https://api.github.com/repos/hjr3/hyper/commits/fa7f4377c1d783ca860820aefc41d0eab73be14c","created_at":"2024-04-17T00:15:40Z","performed_via_github_app":null}]