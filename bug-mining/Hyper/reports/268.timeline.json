[{"id":6652684378,"node_id":"LE_lADOAWaYQc5KHgKHzwAAAAGMh-ha","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6652684378","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:31Z","label":{"name":"A-server","color":"fbca04"},"performed_via_github_app":null},{"id":6652684380,"node_id":"LE_lADOAWaYQc5KHgKHzwAAAAGMh-hc","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6652684380","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:31Z","label":{"name":"E-easy","color":"0e8a16"},"performed_via_github_app":null},{"id":6652684382,"node_id":"LE_lADOAWaYQc5KHgKHzwAAAAGMh-he","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6652684382","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:31Z","label":{"name":"S-feature","color":"f9d0c4"},"performed_via_github_app":null},{"id":6652684385,"node_id":"LE_lADOAWaYQc5KHgKHzwAAAAGMh-hh","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6652684385","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:31Z","label":{"name":"A-body","color":"fbca04"},"performed_via_github_app":null},{"id":6652684394,"node_id":"MIE_lADOAWaYQc5KHgKHzwAAAAGMh-hq","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6652684394","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:31Z","milestone":{"title":"1.0"},"performed_via_github_app":null},{"id":15228660729,"node_id":"ATPVTE_lADOAWaYQc5KHgKHzwAAAAOLsuv5","url":"https://api.github.com/repos/hyperium/hyper/issues/events/15228660729","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2022-05-20T18:20:32Z","performed_via_github_app":null},{"id":6681430424,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGOPomY","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6681430424","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"77f149e9e91cee8b2144a54ed6429368ae50475a","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/77f149e9e91cee8b2144a54ed6429368ae50475a","created_at":"2022-05-25T22:08:10Z","performed_via_github_app":null},{"id":6681444184,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGOPr9Y","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6681444184","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b44898ce7ab9c5d38f564f21a7f961a34360ff66","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/b44898ce7ab9c5d38f564f21a7f961a34360ff66","created_at":"2022-05-25T22:11:05Z","performed_via_github_app":null},{"id":6686806227,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGOkJDT","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6686806227","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d77db69596ea90e46d6dba12292a7b0388611e60","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/d77db69596ea90e46d6dba12292a7b0388611e60","created_at":"2022-05-26T16:10:42Z","performed_via_github_app":null},{"id":6688274047,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGOpvZ_","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6688274047","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f97d19c0c965047d6316ac10a1a3c3e7f77e5b47","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/f97d19c0c965047d6316ac10a1a3c3e7f77e5b47","created_at":"2022-05-26T20:23:26Z","performed_via_github_app":null},{"id":6807281949,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGVvuEd","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6807281949","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2415aa6f7803d182a226e44f99b83bda354c6175","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/2415aa6f7803d182a226e44f99b83bda354c6175","created_at":"2022-06-14T19:20:14Z","performed_via_github_app":null},{"actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T19:26:30Z","updated_at":"2022-06-14T19:26:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/2896","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/2896/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/2896/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/2896/events","html_url":"https://github.com/hyperium/hyper/pull/2896","id":1271263680,"node_id":"PR_kwDOAWaYQc45qCsN","number":2896,"title":"Remove stream cargo feature","user":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-06-14T19:26:30Z","updated_at":"2022-06-23T22:16:44Z","closed_at":"2022-06-23T22:12:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hyperium/hyper/pulls/2896","html_url":"https://github.com/hyperium/hyper/pull/2896","diff_url":"https://github.com/hyperium/hyper/pull/2896.diff","patch_url":"https://github.com/hyperium/hyper/pull/2896.patch","merged_at":"2022-06-23T22:12:25Z"},"body":"Removes the `stream` cargo feature and any usage of `Stream`, including `Body::wrap_stream`, `impl Stream for Body` and `accept::from_stream`.\r\n\r\nA few tests were broken, and some examples. Quite extensive changes were needed to fix some of them, which I wasn't able to do in this PR. As discussed on Discord I left TODO comments on the remaining broken tests, tagged with the PR number (#2896).\r\n\r\nThis PR partially fixes issue #2855.","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/2896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/2896/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6807901349,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGVyFSl","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6807901349","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f855b2e8b77ef17478b9d6f7f8aaf27dc7134286","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/f855b2e8b77ef17478b9d6f7f8aaf27dc7134286","created_at":"2022-06-14T20:59:56Z","performed_via_github_app":null},{"id":15202050941,"node_id":"PVTISC_lADOAWaYQc5KHgKHzwAAAAOKHON9","url":"https://api.github.com/repos/hyperium/hyper/issues/events/15202050941","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2022-06-15T18:31:34Z","performed_via_github_app":null},{"id":15167638666,"node_id":"PVTISC_lADOAWaYQc5KHgKHzwAAAAOID8yK","url":"https://api.github.com/repos/hyperium/hyper/issues/events/15167638666","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2022-06-15T18:31:41Z","performed_via_github_app":null},{"id":6831153648,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAAGXKyHw","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6831153648","actor":{"login":"oddgrd","id":29732646,"node_id":"MDQ6VXNlcjI5NzMyNjQ2","avatar_url":"https://avatars.githubusercontent.com/u/29732646?v=4","gravatar_id":"","url":"https://api.github.com/users/oddgrd","html_url":"https://github.com/oddgrd","followers_url":"https://api.github.com/users/oddgrd/followers","following_url":"https://api.github.com/users/oddgrd/following{/other_user}","gists_url":"https://api.github.com/users/oddgrd/gists{/gist_id}","starred_url":"https://api.github.com/users/oddgrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oddgrd/subscriptions","organizations_url":"https://api.github.com/users/oddgrd/orgs","repos_url":"https://api.github.com/users/oddgrd/repos","events_url":"https://api.github.com/users/oddgrd/events{/privacy}","received_events_url":"https://api.github.com/users/oddgrd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"31a8be1f02320c2e1f4263918b2f2ed3d0645cd0","commit_url":"https://api.github.com/repos/oddgrd/hyper/commits/31a8be1f02320c2e1f4263918b2f2ed3d0645cd0","created_at":"2022-06-17T19:41:29Z","performed_via_github_app":null},{"id":6870042187,"node_id":"CE_lADOAWaYQc5KHgKHzwAAAAGZfIZL","url":"https://api.github.com/repos/hyperium/hyper/issues/events/6870042187","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ce72f73464d96fd67b59ceff08fd424733b43ffa","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/ce72f73464d96fd67b59ceff08fd424733b43ffa","created_at":"2022-06-23T22:12:26Z","state_reason":null,"performed_via_github_app":null},{"id":15164593323,"node_id":"PVTISC_lADOAWaYQc5KHgKHzwAAAAOH4VSr","url":"https://api.github.com/repos/hyperium/hyper/issues/events/15164593323","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2022-06-23T22:12:28Z","performed_via_github_app":null},{"actor":{"login":"dmeijboom","id":3341876,"node_id":"MDQ6VXNlcjMzNDE4NzY=","avatar_url":"https://avatars.githubusercontent.com/u/3341876?v=4","gravatar_id":"","url":"https://api.github.com/users/dmeijboom","html_url":"https://github.com/dmeijboom","followers_url":"https://api.github.com/users/dmeijboom/followers","following_url":"https://api.github.com/users/dmeijboom/following{/other_user}","gists_url":"https://api.github.com/users/dmeijboom/gists{/gist_id}","starred_url":"https://api.github.com/users/dmeijboom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmeijboom/subscriptions","organizations_url":"https://api.github.com/users/dmeijboom/orgs","repos_url":"https://api.github.com/users/dmeijboom/repos","events_url":"https://api.github.com/users/dmeijboom/events{/privacy}","received_events_url":"https://api.github.com/users/dmeijboom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T14:48:46Z","updated_at":"2022-10-26T14:48:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/h2/issues/644","repository_url":"https://api.github.com/repos/hyperium/h2","labels_url":"https://api.github.com/repos/hyperium/h2/issues/644/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/h2/issues/644/comments","events_url":"https://api.github.com/repos/hyperium/h2/issues/644/events","html_url":"https://github.com/hyperium/h2/issues/644","id":1423617318,"node_id":"I_kwDOBQmjSM5U2q0m","number":644,"title":"Receiving `FRAME_SIZE_ERROR` in complex setup","user":{"login":"dmeijboom","id":3341876,"node_id":"MDQ6VXNlcjMzNDE4NzY=","avatar_url":"https://avatars.githubusercontent.com/u/3341876?v=4","gravatar_id":"","url":"https://api.github.com/users/dmeijboom","html_url":"https://github.com/dmeijboom","followers_url":"https://api.github.com/users/dmeijboom/followers","following_url":"https://api.github.com/users/dmeijboom/following{/other_user}","gists_url":"https://api.github.com/users/dmeijboom/gists{/gist_id}","starred_url":"https://api.github.com/users/dmeijboom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmeijboom/subscriptions","organizations_url":"https://api.github.com/users/dmeijboom/orgs","repos_url":"https://api.github.com/users/dmeijboom/repos","events_url":"https://api.github.com/users/dmeijboom/events{/privacy}","received_events_url":"https://api.github.com/users/dmeijboom/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-26T08:15:18Z","updated_at":"2022-10-26T14:49:01Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":84517704,"node_id":"MDEwOlJlcG9zaXRvcnk4NDUxNzcwNA==","name":"h2","full_name":"hyperium/h2","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/h2","description":"HTTP 2.0 client & server implementation for Rust.","fork":false,"url":"https://api.github.com/repos/hyperium/h2","forks_url":"https://api.github.com/repos/hyperium/h2/forks","keys_url":"https://api.github.com/repos/hyperium/h2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/h2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/h2/teams","hooks_url":"https://api.github.com/repos/hyperium/h2/hooks","issue_events_url":"https://api.github.com/repos/hyperium/h2/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/h2/events","assignees_url":"https://api.github.com/repos/hyperium/h2/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/h2/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/h2/tags","blobs_url":"https://api.github.com/repos/hyperium/h2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/h2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/h2/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/h2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/h2/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/h2/languages","stargazers_url":"https://api.github.com/repos/hyperium/h2/stargazers","contributors_url":"https://api.github.com/repos/hyperium/h2/contributors","subscribers_url":"https://api.github.com/repos/hyperium/h2/subscribers","subscription_url":"https://api.github.com/repos/hyperium/h2/subscription","commits_url":"https://api.github.com/repos/hyperium/h2/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/h2/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/h2/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/h2/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/h2/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/h2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/h2/merges","archive_url":"https://api.github.com/repos/hyperium/h2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/h2/downloads","issues_url":"https://api.github.com/repos/hyperium/h2/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/h2/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/h2/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/h2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/h2/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/h2/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/h2/deployments","created_at":"2017-03-10T04:03:11Z","updated_at":"2025-11-04T18:22:30Z","pushed_at":"2025-08-25T14:13:43Z","git_url":"git://github.com/hyperium/h2.git","ssh_url":"git@github.com:hyperium/h2.git","clone_url":"https://github.com/hyperium/h2.git","svn_url":"https://github.com/hyperium/h2","homepage":"","size":5637,"stargazers_count":1469,"watchers_count":1469,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":317,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":78,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http2","rust","tokio"],"visibility":"public","forks":317,"open_issues":78,"watchers":1469,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm building an alternative implementation of a (mostly) decentralised networking protocol. This protocol consists of the following services:\r\n\r\n- Client (any HTTP client, could be `curl` or an application in any programming language)\r\n- Outway (plain HTTP server, acts as a reverse proxy to the Inway)\r\n- Inway (mTls HTTPS server, acts as a reverse proxy to a service)\r\n- Service (any HTTP/HTTPS endpoint)\r\n\r\nThe traffic flow is like this (going both ways):\r\n```mermaid\r\nflowchart LR\r\n  Client --plain HTTP 1.1--> Outway --HTTP 2 mTLS--> Inway --> Service\r\n```\r\n\r\nBoth the Outway/Inway use [warp](https://github.com/seanmonstar/warp) for the server implementation and [reqwest](https://github.com/seanmonstar/reqwest) for the client in the [reverse proxy](https://github.com/dillendev/nlx-gateway/blob/main/src/reverse_proxy.rs). The configuration of reqwest is as follows:\r\n\r\n**Outway**\r\n```rust\r\n        ClientBuilder::new()\r\n            .use_rustls_tls()\r\n            .build()?;\r\n```\r\n\r\n**Inway**\r\n```rust\r\n        ClientBuilder::new()\r\n            .use_rustls_tls()\r\n            .tls_built_in_root_certs(false)\r\n            .add_root_certificate(ca_cert)\r\n            .identity(identity)\r\n            .https_only(true)\r\n            .build()?;\r\n```\r\n\r\nI tried to verify this is not an issue with my reverse proxy implementation (which is very basic). To check this I used `curl` (with TLS client authentication) directly with the Inway. This works fine. So the following flow seems to work:\r\n\r\n```mermaid\r\nflowchart LR\r\n  Client --HTTP2 mTLS--> Inway --> Service\r\n```\r\n\r\nSo it seems that this is an issue between the Outway and the Inway, although I'm not 100% sure.\r\n\r\nThe error I'm getting is `BrokenPipe` in `hyper`. This doesn't seem to happen when I either force `http1` in the `reqwest::ClientBuilder` of the Outway or remove the request body stream. Not sure if it's relevant but this is how I stream the request body in the reverse proxy:\r\n\r\n```rust\r\nlet stream = self\r\n            .body\r\n            .map(|buf| buf.map(|mut buf| buf.copy_to_bytes(buf.remaining())));\r\n```\r\n\r\nTrace logs (in the Inway with `https://httpbin.org/anything` as the service endpoint):\r\n```\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }\r\n DEBUG h2::codec::framed_write          > send frame=Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }\r\n TRACE h2::frame::settings              > encoding SETTINGS; len=18\r\n TRACE h2::frame::settings              > encoding setting; val=InitialWindowSize(1048576)\r\n TRACE h2::frame::settings              > encoding setting; val=MaxFrameSize(16384)\r\n TRACE h2::frame::settings              > encoding setting; val=MaxHeaderListSize(16777216)\r\n TRACE h2::codec::framed_write          > encoded settings rem=27\r\n TRACE h2::server                       > state=Flushing(_)\r\n TRACE h2::codec::framed_write          > queued_data_frame=false\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::server                       > flush.poll=Ready\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=65535; old=0; new=65535\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=65535; old=0; new=65535\r\n TRACE h2::proto::streams::prioritize   > Prioritize::new; flow=FlowControl { window_size: Window(65535), available: Window(65535) }\r\n DEBUG h2::proto::connection            > Connection; peer=Server\r\n TRACE h2::server                       > connection established!\r\n TRACE h2::proto::streams::recv         > set_target_connection_window; target=1048576; available=65535, reserved=0\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=WindowUpdate { stream_id: StreamId(0), size_increment: 983041 }\r\n DEBUG h2::codec::framed_write          > send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 983041 }\r\n TRACE h2::frame::window_update         > encoding WINDOW_UPDATE; id=StreamId(0)\r\n TRACE h2::codec::framed_write          > encoded window_update rem=13\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=983041; old=65535; new=1048576\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > queued_data_frame=false\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=27\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=27\r\n TRACE h2::codec::framed_read           > decoding frame from 27B\r\n TRACE h2::codec::framed_read           > frame.kind=Settings\r\n DEBUG h2::codec::framed_read           > received frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }\r\n TRACE h2::proto::connection            > recv SETTINGS frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Settings { flags: (0x1: ACK) }\r\n DEBUG h2::codec::framed_write          > send frame=Settings { flags: (0x1: ACK) }\r\n TRACE h2::frame::settings              > encoding SETTINGS; len=0\r\n TRACE h2::codec::framed_write          > encoded settings rem=9\r\n TRACE h2::proto::settings              > ACK sent; applying settings\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=13\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=13\r\n TRACE h2::codec::framed_read           > decoding frame from 13B\r\n TRACE h2::codec::framed_read           > frame.kind=WindowUpdate\r\n DEBUG h2::codec::framed_read           > received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 }\r\n TRACE h2::proto::connection            > recv WINDOW_UPDATE frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 }\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=5177345; old=65535; new=5242880\r\n TRACE h2::proto::streams::prioritize   > assign_connection_capacity; inc=5177345\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=63\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=63\r\n TRACE h2::codec::framed_read           > decoding frame from 63B\r\n TRACE h2::codec::framed_read           > frame.kind=Headers\r\n TRACE h2::frame::headers               > loading headers; flags=(0x4: END_HEADERS)\r\n TRACE h2::hpack::decoder               > decode\r\n TRACE h2::hpack::decoder               > rem=54 kind=Indexed\r\n TRACE h2::hpack::decoder               > rem=53 kind=Indexed\r\n TRACE h2::hpack::decoder               > rem=52 kind=LiteralWithIndexing\r\n TRACE h2::hpack::decoder               > rem=37 kind=LiteralWithoutIndexing\r\n TRACE h2::hpack::decoder               > rem=30 kind=LiteralWithIndexing\r\n TRACE h2::hpack::decoder               > rem=25 kind=LiteralWithIndexing\r\n TRACE h2::hpack::decoder               > rem=15 kind=LiteralWithIndexing\r\n DEBUG h2::codec::framed_read           > received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::connection            > recv HEADERS frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=1048576; old=0; new=1048576\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=2097152; old=0; new=2097152\r\n TRACE h2::proto::streams::streams      > recv_headers; stream=StreamId(1); state=State { inner: Idle }\r\n TRACE h2::proto::streams::recv         > opening stream; init_window=1048576\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Open { local: AwaitingHeaders, remote: Streaming } }; is_closed=false; pending_send_empty=true; buffered_send_data=0; num_recv=1; num_send=0\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=9\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=9\r\n TRACE h2::codec::framed_read           > decoding frame from 9B\r\n TRACE h2::codec::framed_read           > frame.kind=Data\r\n DEBUG h2::codec::framed_read           > received frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::proto::connection            > recv DATA frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::proto::streams::recv         > recv_data; size=0; connection=1048576; stream=1048576\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=1048576; available=1048576\r\n TRACE h2::proto::streams::state        > recv_close: Open => HalfClosedRemote(AwaitingHeaders)\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=1048576; available=1048576\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedRemote(AwaitingHeaders) }; is_closed=false; pending_send_empty=true; buffered_send_data=0; num_recv=1; num_send=0\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=9\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=9\r\n TRACE h2::codec::framed_read           > decoding frame from 9B\r\n TRACE h2::codec::framed_read           > frame.kind=Settings\r\n DEBUG h2::codec::framed_read           > received frame=Settings { flags: (0x1: ACK) }\r\n TRACE h2::proto::connection            > recv SETTINGS frame=Settings { flags: (0x1: ACK) }\r\n DEBUG h2::proto::settings              > received settings ACK; applying Settings { flags: (0x0), initial_window_size: 1048576, max_frame_size: 16384, max_header_list_size: 16777216 }\r\n TRACE h2::proto::streams::recv         > update_initial_window_size; new=1048576; old=1048576\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > queued_data_frame=false\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::streams::streams      > next_incoming; id=StreamId(1), state=State { inner: HalfClosedRemote(AwaitingHeaders) }\r\n TRACE h2::server                       > received incoming\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n DEBUG h2::client                       > binding client connection\r\n DEBUG h2::client                       > client connection bound\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }\r\n DEBUG h2::codec::framed_write          > send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }\r\n TRACE h2::frame::settings              > encoding SETTINGS; len=18\r\n TRACE h2::frame::settings              > encoding setting; val=EnablePush(0)\r\n TRACE h2::frame::settings              > encoding setting; val=InitialWindowSize(2097152)\r\n TRACE h2::frame::settings              > encoding setting; val=MaxFrameSize(16384)\r\n TRACE h2::codec::framed_write          > encoded settings rem=27\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=65535; old=0; new=65535\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=65535; old=0; new=65535\r\n TRACE h2::proto::streams::prioritize   > Prioritize::new; flow=FlowControl { window_size: Window(65535), available: Window(65535) }\r\n DEBUG h2::proto::connection            > Connection; peer=Client\r\n TRACE h2::proto::streams::recv         > set_target_connection_window; target=5242880; available=65535, reserved=0\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=2097152; old=0; new=2097152\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=65535; old=0; new=65535\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::proto::streams::send         > send_headers; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }; init_window=65535\r\n TRACE h2::proto::streams::prioritize   > Prioritize::queue_frame; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > schedule_send stream.id=StreamId(1)\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=1 effective=1 curr=0\r\n TRACE h2::proto::streams::prioritize   > try_assign_capacity; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > requested=1 additional=1 buffered=0 window=65535 conn=65535\r\n TRACE h2::proto::streams::prioritize   > assigning capacity=1\r\n TRACE h2::proto::streams::stream       >   assigned capacity to stream; available=1; buffered=0; id=StreamId(1); max_buffer_size=1048576\r\n TRACE h2::proto::streams::stream       >   notifying task\r\n TRACE h2::proto::streams::prioritize   > available=1 requested=1 buffered=0 has_unavailable=true\r\n TRACE h2::proto::streams::recv         > release_capacity; size=0\r\n TRACE h2::proto::streams::recv         > release_connection_capacity; size=0, connection in_flight_data=0\r\n TRACE h2::proto::streams::prioritize   > send_data; sz=0 requested=1\r\n TRACE h2::proto::streams::prioritize   > buffered=0\r\n TRACE h2::proto::streams::prioritize   > available=1 buffered=0\r\n TRACE h2::proto::streams::prioritize   > Prioritize::queue_frame; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > schedule_send stream.id=StreamId(1)\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> already queued\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Open { local: Streaming, remote: AwaitingHeaders } }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=1 effective=1 curr=1\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=0 effective=0 curr=1\r\n TRACE h2::proto::streams::prioritize   > assign_connection_capacity; inc=1\r\n TRACE h2::proto::streams::prioritize   > send_data; sz=0 requested=0\r\n TRACE h2::proto::streams::prioritize   > buffered=0\r\n TRACE h2::proto::streams::state        > send_close: Open => HalfClosedLocal(AwaitingHeaders)\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=0 effective=0 curr=0\r\n TRACE h2::proto::streams::prioritize   > available=0 buffered=0\r\n TRACE h2::proto::streams::prioritize   > Prioritize::queue_frame; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > schedule_send stream.id=StreamId(1)\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> already queued\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedLocal(AwaitingHeaders) }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::streams      > drop_stream_ref; stream=Stream { id: StreamId(1), state: State { inner: HalfClosedLocal(AwaitingHeaders) }, is_counted: true, ref_count: 2, next_pending_send: None, is_pending_send: true, send_flow: FlowControl { window_size: Window(65535), available: Window(0) }, requested_send_capacity: 0, buffered_send_data: 0, send_task: Some(Waker { data: 0x133508020, vtable: 0x102bf9240 }), pending_send: Deque { indices: Some(Indices { head: 0, tail: 2 }) }, next_pending_send_capacity: None, is_pending_send_capacity: false, send_capacity_inc: true, next_open: None, is_pending_open: false, is_pending_push: false, next_pending_accept: None, is_pending_accept: false, recv_flow: FlowControl { window_size: Window(2097152), available: Window(2097152) }, in_flight_recv_data: 0, next_window_update: None, is_pending_window_update: false, reset_at: None, next_reset_expire: None, pending_recv: Deque { indices: None }, recv_task: None, pending_push_promises: Queue { indices: None, _p: PhantomData }, content_length: Omitted }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedLocal(AwaitingHeaders) }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::streams      > drop_stream_ref; stream=Stream { id: StreamId(1), state: State { inner: HalfClosedRemote(AwaitingHeaders) }, is_counted: true, ref_count: 2, next_pending_send: None, is_pending_send: false, send_flow: FlowControl { window_size: Window(2097152), available: Window(0) }, requested_send_capacity: 0, buffered_send_data: 0, send_task: Some(Waker { data: 0x134813000, vtable: 0x102bcc300 }), pending_send: Deque { indices: None }, next_pending_send_capacity: None, is_pending_send_capacity: false, send_capacity_inc: false, next_open: None, is_pending_open: false, is_pending_push: false, next_pending_accept: None, is_pending_accept: false, recv_flow: FlowControl { window_size: Window(1048576), available: Window(1048576) }, in_flight_recv_data: 0, next_window_update: None, is_pending_window_update: false, reset_at: None, next_reset_expire: None, pending_recv: Deque { indices: None }, recv_task: None, pending_push_promises: Queue { indices: None, _p: PhantomData }, content_length: Omitted }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedRemote(AwaitingHeaders) }; is_closed=false; pending_send_empty=true; buffered_send_data=0; num_recv=1; num_send=0\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=27\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=27\r\n TRACE h2::codec::framed_read           > decoding frame from 27B\r\n TRACE h2::codec::framed_read           > frame.kind=Settings\r\n DEBUG h2::codec::framed_read           > received frame=Settings { flags: (0x0), max_concurrent_streams: 128, initial_window_size: 65536, max_frame_size: 16777215 }\r\n TRACE h2::proto::connection            > recv SETTINGS frame=Settings { flags: (0x0), max_concurrent_streams: 128, initial_window_size: 65536, max_frame_size: 16777215 }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Settings { flags: (0x1: ACK) }\r\n DEBUG h2::codec::framed_write          > send frame=Settings { flags: (0x1: ACK) }\r\n TRACE h2::frame::settings              > encoding SETTINGS; len=0\r\n TRACE h2::codec::framed_write          > encoded settings rem=36\r\n TRACE h2::proto::settings              > ACK sent; applying settings\r\n TRACE h2::proto::streams::prioritize   > recv_stream_window_update; stream.id=StreamId(1) stream.state=State { inner: HalfClosedLocal(AwaitingHeaders) } inc=1 flow=FlowControl { window_size: Window(65535), available: Window(0) }\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=13\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=13\r\n TRACE h2::codec::framed_read           > decoding frame from 13B\r\n TRACE h2::codec::framed_read           > frame.kind=WindowUpdate\r\n DEBUG h2::codec::framed_read           > received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }\r\n TRACE h2::proto::connection            > recv WINDOW_UPDATE frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=2147418112; old=65535; new=2147483647\r\n TRACE h2::proto::streams::prioritize   > assign_connection_capacity; inc=2147418112\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 }\r\n DEBUG h2::codec::framed_write          > send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 }\r\n TRACE h2::frame::window_update         > encoding WINDOW_UPDATE; id=StreamId(0)\r\n TRACE h2::codec::framed_write          > encoded window_update rem=49\r\n TRACE h2::proto::streams::flow_control > inc_window; sz=5177345; old=65535; new=5242880\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::proto::streams::prioritize   > popped; stream.id=StreamId(1) stream.state=State { inner: HalfClosedLocal(AwaitingHeaders) }\r\n TRACE h2::proto::streams::prioritize   > is_pending_reset=false\r\n TRACE h2::proto::streams::prioritize   > pop_frame; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedLocal(AwaitingHeaders) }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::prioritize   > writing frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n DEBUG h2::codec::framed_write          > send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::proto::streams::prioritize   > popped; stream.id=StreamId(1) stream.state=State { inner: HalfClosedLocal(AwaitingHeaders) }\r\n TRACE h2::proto::streams::prioritize   > is_pending_reset=false\r\n TRACE h2::proto::streams::prioritize   > data frame sz=0 eos=false window=0 available=0 requested=0 buffered=0\r\n TRACE h2::proto::streams::prioritize   > sending data frame len=0\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=65535; available=0\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=2147483647; available=2147483647\r\n TRACE h2::proto::streams::prioritize   > pop_frame; frame=Data { stream_id: StreamId(1) }\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedLocal(AwaitingHeaders) }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::prioritize   > writing frame=Data { stream_id: StreamId(1) }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Data { stream_id: StreamId(1) }\r\n DEBUG h2::codec::framed_write          > send frame=Data { stream_id: StreamId(1) }\r\n TRACE h2::proto::streams::prioritize   > reclaimed frame=Data { stream_id: StreamId(1) } sz=0\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::proto::streams::prioritize   > popped; stream.id=StreamId(1) stream.state=State { inner: HalfClosedLocal(AwaitingHeaders) }\r\n TRACE h2::proto::streams::prioritize   > is_pending_reset=false\r\n TRACE h2::proto::streams::prioritize   > data frame sz=0 eos=true window=0 available=0 requested=0 buffered=0\r\n TRACE h2::proto::streams::prioritize   > sending data frame len=0\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=65535; available=0\r\n TRACE h2::proto::streams::flow_control > send_data; sz=0; window=2147483647; available=2147483647\r\n TRACE h2::proto::streams::prioritize   > pop_frame; frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedLocal(AwaitingHeaders) }; is_closed=false; pending_send_empty=true; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::prioritize   > writing frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n DEBUG h2::codec::framed_write          > send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::proto::streams::prioritize   > reclaimed frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) } sz=0\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > queued_data_frame=false\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=9\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=9\r\n TRACE h2::codec::framed_read           > decoding frame from 9B\r\n TRACE h2::codec::framed_read           > frame.kind=Settings\r\n DEBUG h2::codec::framed_read           > received frame=Settings { flags: (0x1: ACK) }\r\n TRACE h2::proto::connection            > recv SETTINGS frame=Settings { flags: (0x1: ACK) }\r\n DEBUG h2::proto::settings              > received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 }\r\n TRACE h2::proto::streams::recv         > update_initial_window_size; new=2097152; old=2097152\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::codec::framed_read           > read.bytes=17\r\n TRACE h2::codec::framed_read           > FramedRead::decode_frame; offset=17\r\n TRACE h2::codec::framed_read           > decoding frame from 17B\r\n TRACE h2::codec::framed_read           > frame.kind=GoAway\r\n DEBUG h2::codec::framed_read           > received frame=GoAway { error_code: FRAME_SIZE_ERROR, last_stream_id: StreamId(1) }\r\n TRACE h2::proto::connection            > recv GOAWAY frame=GoAway { error_code: FRAME_SIZE_ERROR, last_stream_id: StreamId(1) }\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::connection            > codec closed\r\n TRACE h2::proto::streams::streams      > Streams::recv_eof\r\n TRACE h2::proto::streams::state        > recv_eof; state=HalfClosedLocal(AwaitingHeaders)\r\n TRACE h2::proto::streams::prioritize   > clear_queue; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > assign_connection_capacity; inc=0\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(Error(Io(BrokenPipe, None))) }; is_closed=true; pending_send_empty=true; buffered_send_data=0; num_recv=0; num_send=1\r\n TRACE h2::proto::streams::counts       > dec_num_streams; stream=StreamId(1)\r\n TRACE h2::proto::connection            > connection.state=Closing(NO_ERROR, Library)\r\n TRACE h2::proto::connection            > connection closing after flush\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::connection            > connection.state=Closed(NO_ERROR, Library)\r\n TRACE h2::proto::streams::streams      > Streams::recv_eof\r\n TRACE h2::proto::streams::streams      > drop_stream_ref; stream=Stream { id: StreamId(1), state: State { inner: Closed(Error(Io(BrokenPipe, None))) }, is_counted: false, ref_count: 1, next_pending_send: None, is_pending_send: false, send_flow: FlowControl { window_size: Window(65535), available: Window(0) }, requested_send_capacity: 0, buffered_send_data: 0, send_task: None, pending_send: Deque { indices: None }, next_pending_send_capacity: None, is_pending_send_capacity: false, send_capacity_inc: true, next_open: None, is_pending_open: false, is_pending_push: false, next_pending_accept: None, is_pending_accept: false, recv_flow: FlowControl { window_size: Window(2097152), available: Window(2097152) }, in_flight_recv_data: 0, next_window_update: None, is_pending_window_update: false, reset_at: None, next_reset_expire: None, pending_recv: Deque { indices: None }, recv_task: None, pending_push_promises: Queue { indices: None, _p: PhantomData }, content_length: Omitted }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(Error(Io(BrokenPipe, None))) }; is_closed=true; pending_send_empty=true; buffered_send_data=0; num_recv=0; num_send=0\r\n TRACE h2::proto::streams::send         > send_headers; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }; init_window=2097152\r\n TRACE h2::proto::streams::prioritize   > Prioritize::queue_frame; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > schedule_send stream.id=StreamId(1)\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: HalfClosedRemote(Streaming) }; is_closed=false; pending_send_empty=false; buffered_send_data=0; num_recv=1; num_send=0\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=1 effective=1 curr=0\r\n TRACE h2::proto::streams::prioritize   > try_assign_capacity; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > requested=1 additional=1 buffered=0 window=2097152 conn=5242880\r\n TRACE h2::proto::streams::prioritize   > assigning capacity=1\r\n TRACE h2::proto::streams::stream       >   assigned capacity to stream; available=1; buffered=0; id=StreamId(1); max_buffer_size=409600\r\n TRACE h2::proto::streams::stream       >   notifying task\r\n TRACE h2::proto::streams::prioritize   > available=1 requested=1 buffered=0 has_unavailable=true\r\n TRACE h2::proto::streams::prioritize   > send_data; sz=291 requested=1\r\n TRACE h2::proto::streams::prioritize   > buffered=291\r\n TRACE h2::proto::streams::prioritize   > try_assign_capacity; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > requested=291 additional=290 buffered=291 window=2097152 conn=5242879\r\n TRACE h2::proto::streams::prioritize   > assigning capacity=290\r\n TRACE h2::proto::streams::stream       >   assigned capacity to stream; available=291; buffered=291; id=StreamId(1); max_buffer_size=409600\r\n TRACE h2::proto::streams::prioritize   > available=291 requested=291 buffered=291 has_unavailable=true\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> already queued\r\n TRACE h2::proto::streams::state        > send_close: HalfClosedRemote => Closed\r\n TRACE h2::proto::streams::prioritize   > reserve_capacity; stream.id=StreamId(1) requested=0 effective=291 curr=291\r\n TRACE h2::proto::streams::prioritize   > available=291 buffered=291\r\n TRACE h2::proto::streams::prioritize   > Prioritize::queue_frame; stream.id=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > schedule_send stream.id=StreamId(1)\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> already queued\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(EndStream) }; is_closed=false; pending_send_empty=false; buffered_send_data=291; num_recv=1; num_send=0\r\n TRACE h2::proto::streams::streams      > drop_stream_ref; stream=Stream { id: StreamId(1), state: State { inner: Closed(EndStream) }, is_counted: true, ref_count: 2, next_pending_send: None, is_pending_send: true, send_flow: FlowControl { window_size: Window(2097152), available: Window(291) }, requested_send_capacity: 291, buffered_send_data: 291, send_task: Some(Waker { data: 0x134813000, vtable: 0x102bcc300 }), pending_send: Deque { indices: Some(Indices { head: 0, tail: 1 }) }, next_pending_send_capacity: None, is_pending_send_capacity: false, send_capacity_inc: true, next_open: None, is_pending_open: false, is_pending_push: false, next_pending_accept: None, is_pending_accept: false, recv_flow: FlowControl { window_size: Window(1048576), available: Window(1048576) }, in_flight_recv_data: 0, next_window_update: None, is_pending_window_update: false, reset_at: None, next_reset_expire: None, pending_recv: Deque { indices: None }, recv_task: None, pending_push_promises: Queue { indices: None, _p: PhantomData }, content_length: Omitted }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(EndStream) }; is_closed=false; pending_send_empty=false; buffered_send_data=291; num_recv=1; num_send=0\r\n TRACE h2::proto::streams::streams      > drop_stream_ref; stream=Stream { id: StreamId(1), state: State { inner: Closed(EndStream) }, is_counted: true, ref_count: 1, next_pending_send: None, is_pending_send: true, send_flow: FlowControl { window_size: Window(2097152), available: Window(291) }, requested_send_capacity: 291, buffered_send_data: 291, send_task: Some(Waker { data: 0x134813000, vtable: 0x102bcc300 }), pending_send: Deque { indices: Some(Indices { head: 0, tail: 1 }) }, next_pending_send_capacity: None, is_pending_send_capacity: false, send_capacity_inc: true, next_open: None, is_pending_open: false, is_pending_push: false, next_pending_accept: None, is_pending_accept: false, recv_flow: FlowControl { window_size: Window(1048576), available: Window(1048576) }, in_flight_recv_data: 0, next_window_update: None, is_pending_window_update: false, reset_at: None, next_reset_expire: None, pending_recv: Deque { indices: None }, recv_task: None, pending_push_promises: Queue { indices: None, _p: PhantomData }, content_length: Omitted }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(EndStream) }; is_closed=false; pending_send_empty=false; buffered_send_data=291; num_recv=1; num_send=0\r\n TRACE h2::proto::connection            > connection.state=Open\r\n TRACE h2::codec::framed_read           > poll\r\n TRACE h2::proto::streams::prioritize   > poll_complete\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::proto::streams::prioritize   > popped; stream.id=StreamId(1) stream.state=State { inner: Closed(EndStream) }\r\n TRACE h2::proto::streams::prioritize   > is_pending_reset=false\r\n TRACE h2::proto::streams::prioritize   > pop_frame; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::streams::store        > Queue::push\r\n TRACE h2::proto::streams::store        >  -> first entry\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(EndStream) }; is_closed=false; pending_send_empty=false; buffered_send_data=291; num_recv=1; num_send=0\r\n TRACE h2::proto::streams::prioritize   > writing frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n DEBUG h2::codec::framed_write          > send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::proto::streams::prioritize   > popped; stream.id=StreamId(1) stream.state=State { inner: Closed(EndStream) }\r\n TRACE h2::proto::streams::prioritize   > is_pending_reset=false\r\n TRACE h2::proto::streams::prioritize   > data frame sz=291 eos=true window=291 available=291 requested=291 buffered=291\r\n TRACE h2::proto::streams::prioritize   > sending data frame len=291\r\n TRACE h2::proto::streams::flow_control > send_data; sz=291; window=2097152; available=291\r\n TRACE h2::proto::streams::flow_control > send_data; sz=291; window=5242880; available=5242880\r\n TRACE h2::proto::streams::prioritize   > pop_frame; frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::proto::streams::counts       > transition_after; stream=StreamId(1); state=State { inner: Closed(EndStream) }; is_closed=true; pending_send_empty=true; buffered_send_data=0; num_recv=1; num_send=0\r\n TRACE h2::proto::streams::counts       > dec_num_streams; stream=StreamId(1)\r\n TRACE h2::proto::streams::prioritize   > writing frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::codec::framed_write          > FramedWrite::buffer; frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n DEBUG h2::codec::framed_write          > send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }\r\n TRACE h2::codec::framed_write          > queued_data_frame=true\r\n TRACE h2::codec::framed_write          > queued_data_frame=true\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n TRACE h2::proto::streams::prioritize   > reclaimed frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) } sz=0\r\n TRACE h2::proto::streams::prioritize   > schedule_pending_open\r\n TRACE h2::codec::framed_write          > flushing buffer\r\n```","reactions":{"url":"https://api.github.com/repos/hyperium/h2/issues/644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/h2/issues/644/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12033897181,"node_id":"REFE_lADOAWaYQc5KHgKHzwAAAALNRrLd","url":"https://api.github.com/repos/hyperium/hyper/issues/events/12033897181","actor":{"login":"olix0r","id":240738,"node_id":"MDQ6VXNlcjI0MDczOA==","avatar_url":"https://avatars.githubusercontent.com/u/240738?v=4","gravatar_id":"","url":"https://api.github.com/users/olix0r","html_url":"https://github.com/olix0r","followers_url":"https://api.github.com/users/olix0r/followers","following_url":"https://api.github.com/users/olix0r/following{/other_user}","gists_url":"https://api.github.com/users/olix0r/gists{/gist_id}","starred_url":"https://api.github.com/users/olix0r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olix0r/subscriptions","organizations_url":"https://api.github.com/users/olix0r/orgs","repos_url":"https://api.github.com/users/olix0r/repos","events_url":"https://api.github.com/users/olix0r/events{/privacy}","received_events_url":"https://api.github.com/users/olix0r/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ce72f73464d96fd67b59ceff08fd424733b43ffa","commit_url":"https://api.github.com/repos/olix0r/hyper/commits/ce72f73464d96fd67b59ceff08fd424733b43ffa","created_at":"2024-03-06T21:43:51Z","performed_via_github_app":null}]