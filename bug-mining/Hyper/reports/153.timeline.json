[{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T03:18:23Z","updated_at":"2017-09-16T03:18:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1075","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1075/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1075/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1075/events","html_url":"https://github.com/hyperium/hyper/issues/1075","id":210102515,"node_id":"MDU6SXNzdWUyMTAxMDI1MTU=","number":1075,"title":"Http::new(core: &'a Core)","user":{"login":"scottlamb","id":8949524,"node_id":"MDQ6VXNlcjg5NDk1MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8949524?v=4","gravatar_id":"","url":"https://api.github.com/users/scottlamb","html_url":"https://github.com/scottlamb","followers_url":"https://api.github.com/users/scottlamb/followers","following_url":"https://api.github.com/users/scottlamb/following{/other_user}","gists_url":"https://api.github.com/users/scottlamb/gists{/gist_id}","starred_url":"https://api.github.com/users/scottlamb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottlamb/subscriptions","organizations_url":"https://api.github.com/users/scottlamb/orgs","repos_url":"https://api.github.com/users/scottlamb/repos","events_url":"https://api.github.com/users/scottlamb/events{/privacy}","received_events_url":"https://api.github.com/users/scottlamb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":31,"created_at":"2017-02-24T17:00:27Z","updated_at":"2018-05-10T00:10:53Z","closed_at":"2018-05-10T00:10:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Currently `hyper::server::Server` owns its own `tokio::reactor::Core`. I propose it borrow one instead.\r\n\r\nThis would allow better sharing the reactor. It'd mean that a `Server` could share the `Core` with things that it can't now, such as another hyper server (http + https). Also, it'd mean that the reactor could be available to be used prior to bringing up the hyper server.\r\n\r\nFor example, I'd like to use it with tokio_signal, which (copying from [the example](https://github.com/alexcrichton/tokio-signal/blob/master/examples/log.rs)) is intended to be used like this:\r\n\r\n```rust\r\nlet mut core = Core::new().unwrap();\r\nlet ctrlc = tokio_signal::ctrl_c(&core.handle());\r\nlet stream = core.run(ctrlc).unwrap();\r\n```\r\n\r\nI'd like to install the signal handler before being able to call `server.handle()` (this would allow me to do things such as flushing async logs prior to dying if a signal is received earlier in the startup process), and I'd like to advance the core myself to turn the future into a stream before starting to serve requests via `server.run_until` (just seems cleaner in terms of error handling).\r\n\r\nAnother possible benefit is that it'd make it easier to pass a `Remote` to the service. The `new_service` argument to `Server::bind` now has to be provided before hyper creates the `Core`. So to pass it the `Remote`, you have to stuff it later into a `std::sync::Mutex` that you passed into the lambda or in a `lazy_static`. That's inconvenient. I think with this way you could simply do something like this:\r\n\r\n```rust\r\nlet core = Core::new();\r\nlet remote = core.remote();\r\nlet server = hyper::server::Http::new(&core)\r\n    .bind(&addr, move || Ok(MyService(remote.clone())))\r\n    .unwrap();\r\n```\r\n\r\n(Although if services are always intended to be created on a reactor thread, it might be even better for tokio's `NewService::new_service` to take a `Handle`, to avoid having to deal with `Remote::handle()` returning `None`. That change would make this benefit moot.)\r\n\r\nIt looks like I can use hyper with a borrowed `Core` today by avoiding `Http::bind` in favor of `Http::bind_connection`. But in doing so, I have to roll my own logic for not only accepting connections but also graceful shutdown, duplicating a lot of `hyper/src/server/mod.rs`. I'd rather not do that.","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1075/reactions","total_count":20,"+1":16,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":4,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1075/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T03:19:26Z","updated_at":"2017-09-16T03:19:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1263","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1263/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1263/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1263/events","html_url":"https://github.com/hyperium/hyper/issues/1263","id":243163094,"node_id":"MDU6SXNzdWUyNDMxNjMwOTQ=","number":1263,"title":"Http::bind does not scale to uses where a Handle is needed","user":{"login":"brendanzab","id":695077,"node_id":"MDQ6VXNlcjY5NTA3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/695077?v=4","gravatar_id":"","url":"https://api.github.com/users/brendanzab","html_url":"https://github.com/brendanzab","followers_url":"https://api.github.com/users/brendanzab/followers","following_url":"https://api.github.com/users/brendanzab/following{/other_user}","gists_url":"https://api.github.com/users/brendanzab/gists{/gist_id}","starred_url":"https://api.github.com/users/brendanzab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brendanzab/subscriptions","organizations_url":"https://api.github.com/users/brendanzab/orgs","repos_url":"https://api.github.com/users/brendanzab/repos","events_url":"https://api.github.com/users/brendanzab/events{/privacy}","received_events_url":"https://api.github.com/users/brendanzab/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/hyperium/hyper/milestones/4","html_url":"https://github.com/hyperium/hyper/milestone/4","labels_url":"https://api.github.com/repos/hyperium/hyper/milestones/4/labels","id":2338703,"node_id":"MDk6TWlsZXN0b25lMjMzODcwMw==","number":4,"title":"0.12","description":"","creator":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":24,"state":"closed","created_at":"2017-02-21T19:39:36Z","updated_at":"2018-06-01T23:09:51Z","due_on":null,"closed_at":"2018-06-01T23:09:51Z"},"comments":2,"created_at":"2017-07-15T08:54:15Z","updated_at":"2018-04-16T23:35:20Z","closed_at":"2018-04-16T23:35:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"So, I have a [`ReverseProxy` type that requires a `Client`](https://docs.rs/hyper-reverse-proxy/0.2.1/hyper_reverse_proxy/struct.ReverseProxy.html#method.new) in order to be constructed. But in order to do that I need to [do the manual set up of the Tokio event loop](https://docs.rs/hyper-reverse-proxy/0.2.1/hyper_reverse_proxy/#example), because constructing a `Client` requires access to the `Handle`, which I can't get when calling `Http::bind`. \r\n\r\n```rust\r\nfn run() -> hyper::Result<()> {\r\n    // Set up the Tokio reactor core\r\n    let mut core = Core::new()?;\r\n    let handle = core.handle();\r\n\r\n    // Set up a TCP socket to listen to\r\n    let listen_addr = SocketAddr::new(Ipv4Addr::new(127, 0, 0, 1).into(), 8080);\r\n    let listener = TcpListener::bind(&listen_addr, &handle)?;\r\n\r\n    // Listen to incoming requests over TCP, and forward them to a new `ReverseProxy`\r\n    let http = Http::new();\r\n    let server = listener.incoming().for_each(|(socket, addr)| {\r\n        let client = Client::new(&handle);\r\n        let service = ReverseProxy::new(client, Some(addr.ip()));\r\n        http.bind_connection(&handle, socket, addr, service);\r\n        Ok(())\r\n    });\r\n\r\n    // Start our server on the reactor core\r\n    core.run(server)?;\r\n\r\n    Ok(())\r\n}\r\n```\r\n\r\nThis gets pretty horrific once I start needing the graceful shutdown behavior of `Server::run_until`, as shown by [hyper-reverse-proxy/examples/extended.rs](https://github.com/brendanzab/hyper-reverse-proxy/blob/2b2ef26523aca56f822622dc287b4fab925a7b42/examples/extended.rs). I pretty much need to re-implement all of that stuff myself...\r\n\r\nIs there a better way to go about this? Or could we have a `Http::bind_with_handle` which could allow us to pass a handle to our own reactor core into Hyper?","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1263/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1263/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1252043507,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyNTIwNDM1MDc=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1252043507","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-09-16T03:21:16Z","label":{"name":"server","color":"5319e7"},"performed_via_github_app":null},{"id":1252308686,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyNTIzMDg2ODY=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1252308686","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-09-16T23:26:58Z","label":{"name":"E-hard","color":"0e8a16"},"performed_via_github_app":null},{"id":1252308741,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyNTIzMDg3NDE=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1252308741","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-09-16T23:27:22Z","label":{"name":"E-medium","color":"0e8a16"},"performed_via_github_app":null},{"id":1252308742,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyNTIzMDg3NDI=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1252308742","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-09-16T23:27:23Z","label":{"name":"S-feature","color":"fc2929"},"performed_via_github_app":null},{"id":1252308743,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTI1MjMwODc0Mw==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1252308743","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-09-16T23:27:23Z","label":{"name":"E-hard","color":"0e8a16"},"performed_via_github_app":null},{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-17T01:09:24Z","updated_at":"2017-09-17T01:09:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1207","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1207/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1207/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1207/events","html_url":"https://github.com/hyperium/hyper/issues/1207","id":233544000,"node_id":"MDU6SXNzdWUyMzM1NDQwMDA=","number":1207,"title":"Exposing current event loop handle to a service","user":{"login":"kw217","id":587036,"node_id":"MDQ6VXNlcjU4NzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/587036?v=4","gravatar_id":"","url":"https://api.github.com/users/kw217","html_url":"https://github.com/kw217","followers_url":"https://api.github.com/users/kw217/followers","following_url":"https://api.github.com/users/kw217/following{/other_user}","gists_url":"https://api.github.com/users/kw217/gists{/gist_id}","starred_url":"https://api.github.com/users/kw217/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw217/subscriptions","organizations_url":"https://api.github.com/users/kw217/orgs","repos_url":"https://api.github.com/users/kw217/repos","events_url":"https://api.github.com/users/kw217/events{/privacy}","received_events_url":"https://api.github.com/users/kw217/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2017-06-05T09:59:55Z","updated_at":"2017-09-25T09:50:07Z","closed_at":"2017-09-17T01:09:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi – I’m trying to get async file I/O working within a Hyper service, and I’m having trouble getting hold of the event loop handle. I’m not sure if I’m missing something obvious, or if there is something missing from hyper 0.11a0.\r\n\r\n(This may be related to #1075, and maybe I’ve just confused myself by using the “easy mode” APIs. If so, perhaps some improved docs / examples of how and when to do things the non-easy way would be helpful.)\r\n\r\nI recently wrote a little static file webserver in Rust, which serves the files using async I/O. The crate [tokio-file-unix](https://github.com/Rufflewind/tokio-file-unix) (0.4.0) supports async I/O; all I needed to do was:\r\n\r\n```rust\r\n        let f = std::fs::File::open(path).expect(\"Couldn't open file\");\r\n        let file = tokio_file_unix::File::new_nb(f).expect(\"Couldn't set nonblocking\");\r\n        let reader = file.into_reader(&handle).expect(\"Fail to generate reader\");\r\n        // … and then you can use tokio_io::io::read(reader, buf) to read data from the file.\r\n```\r\n\r\nHowever, `tokio_file_unix::File::into_reader` needs to be provided with a `tokio::reactor::handle` (a handle to the current event loop), which it ultimately passes to `tokio::reactor::PollEvented::new`.\r\n\r\nMy problem is that I can’t see how to get hold of that handle!\r\n\r\nAs far as I can see, `hyper::server::Http::bind()` just passes an `http::request::Request` to the enclosed `tokio_service::Service`. There is no mention of handles.\r\n\r\nTo work around this, I forked hyper and made [the following change]( https://github.com/hyperium/hyper/compare/master...kw217:expose-handle). As you can see, it does the following:\r\n\r\n* `hyper::server::Http::bind_connection` now stores a clone of the current `Handle` in the `HttpService` struct.\r\n* The `Service`’s `Request` is now a pair `(http::request::Request, tokio::reactor::Handle)` rather than just an `http::request::Request`.\r\n* `HttpService::call` now passes a clone of the `Handle` (from the `HttpService` struct) to the service.\r\n\r\nThat’s obviously not the right solution. Am I missing something obvious, or is there something missing from Hyper at the moment?\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1207/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1207/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T20:10:21Z","updated_at":"2017-09-19T20:10:21Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1326","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1326/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1326/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1326/events","html_url":"https://github.com/hyperium/hyper/pull/1326","id":258840973,"node_id":"MDExOlB1bGxSZXF1ZXN0MTQxODY0MzEw","number":1326,"title":"feat(server): Accepting futures::Streams of connections, and turning the server into a future","user":{"login":"P-E-Meunier","id":17021304,"node_id":"MDQ6VXNlcjE3MDIxMzA0","avatar_url":"https://avatars.githubusercontent.com/u/17021304?v=4","gravatar_id":"","url":"https://api.github.com/users/P-E-Meunier","html_url":"https://github.com/P-E-Meunier","followers_url":"https://api.github.com/users/P-E-Meunier/followers","following_url":"https://api.github.com/users/P-E-Meunier/following{/other_user}","gists_url":"https://api.github.com/users/P-E-Meunier/gists{/gist_id}","starred_url":"https://api.github.com/users/P-E-Meunier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/P-E-Meunier/subscriptions","organizations_url":"https://api.github.com/users/P-E-Meunier/orgs","repos_url":"https://api.github.com/users/P-E-Meunier/repos","events_url":"https://api.github.com/users/P-E-Meunier/events{/privacy}","received_events_url":"https://api.github.com/users/P-E-Meunier/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2017-09-19T14:26:06Z","updated_at":"2017-11-15T14:18:52Z","closed_at":"2017-11-14T22:20:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hyperium/hyper/pulls/1326","html_url":"https://github.com/hyperium/hyper/pull/1326","diff_url":"https://github.com/hyperium/hyper/pull/1326.diff","patch_url":"https://github.com/hyperium/hyper/pull/1326.patch","merged_at":null},"body":"- [x] The commit messages match the guidelines in https://github.com/hyperium/hyper/blob/master/CONTRIBUTING.md#git-commit-guidelines\r\n\r\n\r\nThis PR is maybe not meant to be accepted as such, but solves a number of problems for me:\r\n\r\n- I can now run my own event loop, and configure my socket as I want before, without having to resort to low-level functions. This was already possible before, at the price of code duplication between Hyper and my crate. This solves issues #1075 and #1263.\r\n\r\n- I can now use the latest developments of rustls (for example their recent addition of SNI): since the server now takes an arbitrary stream of connections, one example use is to negotiate a TLS connection and passing it as a stream, like so:\r\n\r\n``` rust\r\nlet mut core = Core::new().unwrap();\r\nlet http = hyper::server::Http::new();\r\nlet listener = tokio_core::net::TcpListener::bind(addr, core.handle())\r\n  .incoming().from_err()\r\n  .and_then(move |(socket, addr)| {\r\n      https_config\r\n        .accept_async(socket)\r\n        .map(move |socket| (socket, addr))\r\n        .from_err()\r\n  });\r\nhttp.from_listener(listener, | | Ok(MyServer { … }).unwrap()\r\n  .future_run(core.handle())\r\n  .from_err()\r\n```\r\nOf course, it work fine on plain `TcpListener`s, and that's actually what `Http::bind` does.\r\n\r\nAlso, this PR does not change the existing API, except for:\r\n- `local_addr`, which is now impossible to implement with the more general setting of arbitrary streams of connections instead of just Incoming.\r\n- `handle`, but this is now useless: if you need a handle, you might as well run your own event loop.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1326/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/330956392","html_url":"https://github.com/hyperium/hyper/issues/1322#issuecomment-330956392","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1322","id":330956392,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1NjM5Mg==","user":{"login":"algermissen","id":572229,"node_id":"MDQ6VXNlcjU3MjIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/572229?v=4","gravatar_id":"","url":"https://api.github.com/users/algermissen","html_url":"https://github.com/algermissen","followers_url":"https://api.github.com/users/algermissen/followers","following_url":"https://api.github.com/users/algermissen/following{/other_user}","gists_url":"https://api.github.com/users/algermissen/gists{/gist_id}","starred_url":"https://api.github.com/users/algermissen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/algermissen/subscriptions","organizations_url":"https://api.github.com/users/algermissen/orgs","repos_url":"https://api.github.com/users/algermissen/repos","events_url":"https://api.github.com/users/algermissen/events{/privacy}","received_events_url":"https://api.github.com/users/algermissen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:30:10Z","updated_at":"2017-09-20T19:30:10Z","body":"Caveat: I am very(!) new to this, and merely trying to add value here, not complaining.\r\n\r\nFWIW it feels that the current convenience impl and also the proposals hide too much of the internals (or do not allow for working with them through accessors). Eg one aspect is listening on a port with multiple threads (eg [1]). Another one is related to handling failures in the incoming conns loop (sorry, need to dig the reference up). So I think a more fine grained API will be beneficial.\r\n\r\n[1] https://github.com/algermissen/web-rust/blob/master/src/bin/ts1.rs#L50","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/330956392/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"algermissen","id":572229,"node_id":"MDQ6VXNlcjU3MjIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/572229?v=4","gravatar_id":"","url":"https://api.github.com/users/algermissen","html_url":"https://github.com/algermissen","followers_url":"https://api.github.com/users/algermissen/followers","following_url":"https://api.github.com/users/algermissen/following{/other_user}","gists_url":"https://api.github.com/users/algermissen/gists{/gist_id}","starred_url":"https://api.github.com/users/algermissen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/algermissen/subscriptions","organizations_url":"https://api.github.com/users/algermissen/orgs","repos_url":"https://api.github.com/users/algermissen/repos","events_url":"https://api.github.com/users/algermissen/events{/privacy}","received_events_url":"https://api.github.com/users/algermissen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/330968755","html_url":"https://github.com/hyperium/hyper/issues/1322#issuecomment-330968755","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1322","id":330968755,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2ODc1NQ==","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:19:23Z","updated_at":"2017-09-20T20:19:23Z","body":"@algermissen Thanks for the comment!\r\n\r\n> Eg one aspect is listening on a port with multiple threads.\r\n\r\nSure. A recent PR, #1326, suggested allowing the `Server` to be able to use any `Stream` of IO objects, not just a `TcpListener`. I've wanted this too, but felt it was different enough to not be in this issue. With such a change, one could configure a `TcpListener` before giving to hyper, which would allow setting `SO_REUSEPORT`, and then you could have a server running on several threads with the same port.\r\n\r\n>  Another one is related to handling failures in the incoming conns loop.\r\n\r\nAgain, by customizing a `Stream` of connections, one can completely decide what to do with errors coming in the stream. FWIW, errors from `accept` are usually errors from the pending connection, which means that connection should probably just be dropped, and one can `accept` again.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/330968755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1258185106,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI1ODE4NTEwNg==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1258185106","actor":{"login":"algermissen","id":572229,"node_id":"MDQ6VXNlcjU3MjIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/572229?v=4","gravatar_id":"","url":"https://api.github.com/users/algermissen","html_url":"https://github.com/algermissen","followers_url":"https://api.github.com/users/algermissen/followers","following_url":"https://api.github.com/users/algermissen/following{/other_user}","gists_url":"https://api.github.com/users/algermissen/gists{/gist_id}","starred_url":"https://api.github.com/users/algermissen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/algermissen/subscriptions","organizations_url":"https://api.github.com/users/algermissen/orgs","repos_url":"https://api.github.com/users/algermissen/repos","events_url":"https://api.github.com/users/algermissen/events{/privacy}","received_events_url":"https://api.github.com/users/algermissen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-09-20T20:19:23Z","performed_via_github_app":null},{"id":1258185107,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyNTgxODUxMDc=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1258185107","actor":{"login":"algermissen","id":572229,"node_id":"MDQ6VXNlcjU3MjIyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/572229?v=4","gravatar_id":"","url":"https://api.github.com/users/algermissen","html_url":"https://github.com/algermissen","followers_url":"https://api.github.com/users/algermissen/followers","following_url":"https://api.github.com/users/algermissen/following{/other_user}","gists_url":"https://api.github.com/users/algermissen/gists{/gist_id}","starred_url":"https://api.github.com/users/algermissen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/algermissen/subscriptions","organizations_url":"https://api.github.com/users/algermissen/orgs","repos_url":"https://api.github.com/users/algermissen/repos","events_url":"https://api.github.com/users/algermissen/events{/privacy}","received_events_url":"https://api.github.com/users/algermissen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-09-20T20:19:23Z","performed_via_github_app":null},{"actor":{"login":"Thomspoon","id":7809144,"node_id":"MDQ6VXNlcjc4MDkxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7809144?v=4","gravatar_id":"","url":"https://api.github.com/users/Thomspoon","html_url":"https://github.com/Thomspoon","followers_url":"https://api.github.com/users/Thomspoon/followers","following_url":"https://api.github.com/users/Thomspoon/following{/other_user}","gists_url":"https://api.github.com/users/Thomspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/Thomspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thomspoon/subscriptions","organizations_url":"https://api.github.com/users/Thomspoon/orgs","repos_url":"https://api.github.com/users/Thomspoon/repos","events_url":"https://api.github.com/users/Thomspoon/events{/privacy}","received_events_url":"https://api.github.com/users/Thomspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T22:25:20Z","updated_at":"2017-09-22T22:25:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1332","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1332/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1332/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1332/events","html_url":"https://github.com/hyperium/hyper/pull/1332","id":259952953,"node_id":"MDExOlB1bGxSZXF1ZXN0MTQyNjgxMTUz","number":1332,"title":"feat(server): Creating Server with a Handle WIP","user":{"login":"Thomspoon","id":7809144,"node_id":"MDQ6VXNlcjc4MDkxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7809144?v=4","gravatar_id":"","url":"https://api.github.com/users/Thomspoon","html_url":"https://github.com/Thomspoon","followers_url":"https://api.github.com/users/Thomspoon/followers","following_url":"https://api.github.com/users/Thomspoon/following{/other_user}","gists_url":"https://api.github.com/users/Thomspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/Thomspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thomspoon/subscriptions","organizations_url":"https://api.github.com/users/Thomspoon/orgs","repos_url":"https://api.github.com/users/Thomspoon/repos","events_url":"https://api.github.com/users/Thomspoon/events{/privacy}","received_events_url":"https://api.github.com/users/Thomspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-22T22:25:20Z","updated_at":"2017-11-14T22:22:46Z","closed_at":"2017-11-14T22:22:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hyperium/hyper/pulls/1332","html_url":"https://github.com/hyperium/hyper/pull/1332","diff_url":"https://github.com/hyperium/hyper/pull/1332.diff","patch_url":"https://github.com/hyperium/hyper/pull/1332.patch","merged_at":null},"body":"- [x] The commit messages match the guidelines in https://github.com/hyperium/hyper/blob/master/CONTRIBUTING.md#git-commit-guidelines\r\n\r\nThis PR is a work-in-progress for #1322.\r\n","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1332/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/331833701","html_url":"https://github.com/hyperium/hyper/issues/1322#issuecomment-331833701","issue_url":"https://api.github.com/repos/hyperium/hyper/issues/1322","id":331833701,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTgzMzcwMQ==","user":{"login":"kw217","id":587036,"node_id":"MDQ6VXNlcjU4NzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/587036?v=4","gravatar_id":"","url":"https://api.github.com/users/kw217","html_url":"https://github.com/kw217","followers_url":"https://api.github.com/users/kw217/followers","following_url":"https://api.github.com/users/kw217/following{/other_user}","gists_url":"https://api.github.com/users/kw217/gists{/gist_id}","starred_url":"https://api.github.com/users/kw217/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw217/subscriptions","organizations_url":"https://api.github.com/users/kw217/orgs","repos_url":"https://api.github.com/users/kw217/repos","events_url":"https://api.github.com/users/kw217/events{/privacy}","received_events_url":"https://api.github.com/users/kw217/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T09:54:56Z","updated_at":"2017-09-25T09:54:56Z","body":"This would definitely be an improvement - thanks. \r\n\r\nIn terms of documentation, please can you consider my concerns from https://github.com/hyperium/hyper/issues/1207#issuecomment-308144548, specifically making it clear that `Server` is just a helper and you can build a more flexible server by using `Http` directly? That's still the case, even if this current change makes `Server` more powerful.\r\n\r\nAs a newbie, I clicked through to `hyper::server` which lists four structs, one of which is \"`Server`: an instance of a server created through `Http::bind`\". So I went to `Http::bind` and it seemed to do what I wanted. Immediately below is `Http::bind_connection` but it says \"This is the low-level method ... This method is typically not invoked directly but is rather transitively used through `bind`.\"\r\n\r\nI think those statements are a bit too strong.\r\n\r\n* Firstly, despite the name, `Server` is just another server - it's not special in any way. `Http` is the key struct for HTTP servers. Can the first sentence of the `Server` comment say \"Convenience type used by `Http:bind`\", so it's more obvious this isn't the primary type?\r\n* Secondly, can `Http::bind` say \"if you need more flexibility, use `bind_connection`\" and `Http::bind_connection` remove the comments about \"low-level\" and \"not typically invoked directly\"? Instead it could say \"For simple cases consider using `bind` instead\".","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/comments/331833701/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kw217","id":587036,"node_id":"MDQ6VXNlcjU4NzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/587036?v=4","gravatar_id":"","url":"https://api.github.com/users/kw217","html_url":"https://github.com/kw217","followers_url":"https://api.github.com/users/kw217/followers","following_url":"https://api.github.com/users/kw217/following{/other_user}","gists_url":"https://api.github.com/users/kw217/gists{/gist_id}","starred_url":"https://api.github.com/users/kw217/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw217/subscriptions","organizations_url":"https://api.github.com/users/kw217/orgs","repos_url":"https://api.github.com/users/kw217/repos","events_url":"https://api.github.com/users/kw217/events{/privacy}","received_events_url":"https://api.github.com/users/kw217/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T00:44:25Z","updated_at":"2017-09-30T00:44:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1342","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1342/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1342/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1342/events","html_url":"https://github.com/hyperium/hyper/issues/1342","id":261804058,"node_id":"MDU6SXNzdWUyNjE4MDQwNTg=","number":1342,"title":"A hyper without tokio-proto","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":128399797,"node_id":"MDU6TGFiZWwxMjgzOTk3OTc=","url":"https://api.github.com/repos/hyperium/hyper/labels/A-server","name":"A-server","color":"fbca04","default":false,"description":"Area: server."},{"id":694496598,"node_id":"MDU6TGFiZWw2OTQ0OTY1OTg=","url":"https://api.github.com/repos/hyperium/hyper/labels/C-feature","name":"C-feature","color":"f9d0c4","default":false,"description":"Category: feature. This is adding a new feature."},{"id":694501214,"node_id":"MDU6TGFiZWw2OTQ1MDEyMTQ=","url":"https://api.github.com/repos/hyperium/hyper/labels/E-hard","name":"E-hard","color":"c2e0c6","default":false,"description":"Effort: hard. Likely requires a deeper understanding of how hyper's internals work."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2017-09-30T00:44:25Z","updated_at":"2018-01-14T18:48:34Z","closed_at":"2018-01-12T19:34:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"It would be nice to have hyper working without internally using tokio-proto. It should be possible to do this in a backwards-compatible way at first, such that the server still provides a `ServerProto` implementation that makes use of the internal stuff, and that can be deprecated in the future.\r\n\r\n## Motivation\r\n\r\n- The tokio-proto crate is being de-emphasized.\r\n- We can do some things better, specifically for HTTP\r\n  - We can better detect if a body has a length if we control the `Stream`\r\n  - We improve handling of `Expect: 100-continue` (#838)\r\n  - We can probably improve performance a little\r\n- Errors that are encountered reading, parsing, and writing are kind of just lost.\r\n  - They are given back to tokio-proto, but it's pretty tricky for a user to get those errors.\r\n- It doesn't allow hyper to currently spawn a server that can handle both HTTP/1 and HTTP/2\r\n\r\n## API\r\n\r\n### `Http::bind_connection(socket, service) -> Connection`\r\n\r\nCompared to the current `bind_connection`:\r\n\r\n- The `socket` is `T: AsyncRead + AsyncWrite`.\r\n- The `service` is currently a `S: Service`.\r\n- The `addr` is not needed anymore. Anyone wanting to know the address can store it on their `Service`.\r\n- The `handle` is not provided, since it's only purpose was to spawn a task on it. With the desire to separate tokio from being a task executor, we can plan ahead.\r\n\r\nThe returned type is a `Connection<T, S>`, which implements `Future`. Instead of taking a `Handle`, a user can instead receive this future and spawn it on any executor they desire.\r\n\r\nOf course, since `bind_connection` already exist, this would need a new name. It could be `bind_connection2`, with the previous deprecated, with the intent to finish the replacement in 0.12.\r\n\r\nOr maybe `bind_connection` itself isn't the best of names. The action of this method is to apply the `Http` protocol to a connection, aided by the `Service` to respond to requests.\r\n\r\n### `Connection`\r\n\r\nThis is returned by `Http::bind_connection`, and implements `Future`.\r\n\r\n- `Item = ()`\r\n- `Error = hyper::Error`\r\n\r\nIf there are never any errors when processing the connection, the future yields `Ok(Async::Ready)` when `Http` says it should close.\r\n\r\nIf there are errors encountered that would require tearing down the connection, the future returns the `Err`. Importantly, this allows users to very easily know if there was an error reading or writing the HTTP protocol.\r\n\r\nSome unresolved questions:\r\n\r\n- This could perhaps have the `Item` be the socket (`T`) instead, in case there is desire to be able to do something with the socket after HTTP is \"done\" (perhaps due to a protocol upgrade).\r\n- When HTTP/2 is introduced, it is possible to have **stream errors** which aren't fatal to the connection, but do abort a stream. It wouldn't be feasible to make those stream errors be returned from the `Connection` future, as it should keep working.\r\n  - Perhaps `Connection` shouldn't be a `Future` directly, but more like a `Stream`... of `Err`s...\r\n  - The `Connection` could alternatively grow a `on_stream_error<F>(callback: F)` where `F: Fn(hyper::Error)` or something...\r\n\r\n### `Server`\r\n\r\nThe current `Server` type is supposed to be an \"easy mode\" for starting up a TCP listener and accepting plain text HTTP requests. There is a related proposal (#1322) to make `Server` accept any kind of listener, and be a `Future` so users can execute it with their own executor.\r\n\r\nPerhaps that proposal should be updated to support this new `Connection` future:\r\n\r\n- `impl Stream for Server` instead of `Future`.\r\n  - The `Server` could be a `Stream` of already bound `Connection`s.\r\n  - This would allow someone to use the `Server` to automatically call `Http::bind_connection` with a service, and manage graceful shutdown, while still being able to watch for errors that happen in that connection.\r\n\r\nWe could add some convenience methods to `Server`, like `run_ignore_errors() -> impl Future`, so a user could easily just \"run\" the server without worrying about it being a `Stream` of `Connection`s.\r\n\r\n## Usage\r\n\r\n### Bare bones `bind_connection`\r\n\r\n```rust\r\nlet http = Http::new();\r\n\r\n// we've received a socket and made a service somewhere else\r\nlet conn = http.bind_connection(socket, service);\r\n// whatever your executor is\r\nexecutor.spawn(conn.map_err(move |err| {\r\n    println!(\"connection [{}] error: {}\", addr, err);\r\n}));\r\n```\r\n\r\n### Fuller example with a tokio `Core` and hyper `Server`\r\n\r\n```rust\r\nlet mut core = Core::new()?;\r\nlet handle = core.handle();\r\n\r\nlet tcp = TcpListener::bind(addr, &handle).map(|listener| {\r\n  listener.incoming()\r\n});\r\nlet tls = tcp.and_then(|tcp_streams| {\r\n    tcp_streams.and_then(|(socket, _addr)| {\r\n        TlsAcceptorThing::handshake(socket)\r\n    })\r\n});\r\n\r\nlet server = tls.map(|tls_streams| {\r\n    let http = Http::new();\r\n    http.serve(tls_streams, || Ok(Echo))\r\n});\r\n\r\nlet connections = server.and_then(move |srv| {\r\n    // srv is `Server`, so it is a `Stream<Item=Connection>`\r\n    srv.for_each(move |conn| {\r\n        // each connection should be its own task, so spawn it on the executor\r\n        handle.spawn(conn.map_err(|err| {\r\n            println!(\"http error: {}\", err);\r\n        }));\r\n        Ok(())\r\n    })\r\n});\r\n\r\ncore.run(connections)?;\r\n```\r\n\r\n## Meta unresolved questions\r\n\r\n- Perhaps the naming of types could be improved as well? (Of course, only finish renaming in 0.12)\r\n  - Currently:\r\n    - `Http` is more like a `ServerBuilder` or `ConnectionBuilder`...\r\n    - If the `Http` were named a builder, `Http` could replace `Connection`? Such that `Server` is a `Stream<Item=Http>`?\r\n  - Many people are used to reaching for a `Server` type, but hyper currently asks you to grab the `Http` to configure a `Server`.","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1342/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1342/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1526621221,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE1MjY2MjEyMjE=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1526621221","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-03-17T00:22:50Z","milestone":{"title":"0.12"},"performed_via_github_app":null},{"id":1577063772,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzcwNjM3NzI=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577063772","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e83f8a1107f72458c5778b15be8f546639febb28","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/e83f8a1107f72458c5778b15be8f546639febb28","created_at":"2018-04-16T19:04:12Z","performed_via_github_app":null},{"actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-16T19:04:36Z","updated_at":"2018-04-16T19:04:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1488","repository_url":"https://api.github.com/repos/hyperium/hyper","labels_url":"https://api.github.com/repos/hyperium/hyper/issues/1488/labels{/name}","comments_url":"https://api.github.com/repos/hyperium/hyper/issues/1488/comments","events_url":"https://api.github.com/repos/hyperium/hyper/issues/1488/events","html_url":"https://github.com/hyperium/hyper/pull/1488","id":314779507,"node_id":"MDExOlB1bGxSZXF1ZXN0MTgxOTU5MDgx","number":1488,"title":"feat(server): re-design `Server` as higher-level API","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-16T19:04:36Z","updated_at":"2018-04-16T23:35:25Z","closed_at":"2018-04-16T23:35:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":23500865,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwMDg2NQ==","name":"hyper","full_name":"hyperium/hyper","private":false,"owner":{"login":"hyperium","id":8730506,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg3MzA1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/8730506?v=4","gravatar_id":"","url":"https://api.github.com/users/hyperium","html_url":"https://github.com/hyperium","followers_url":"https://api.github.com/users/hyperium/followers","following_url":"https://api.github.com/users/hyperium/following{/other_user}","gists_url":"https://api.github.com/users/hyperium/gists{/gist_id}","starred_url":"https://api.github.com/users/hyperium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyperium/subscriptions","organizations_url":"https://api.github.com/users/hyperium/orgs","repos_url":"https://api.github.com/users/hyperium/repos","events_url":"https://api.github.com/users/hyperium/events{/privacy}","received_events_url":"https://api.github.com/users/hyperium/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hyperium/hyper","description":"An HTTP library for Rust","fork":false,"url":"https://api.github.com/repos/hyperium/hyper","forks_url":"https://api.github.com/repos/hyperium/hyper/forks","keys_url":"https://api.github.com/repos/hyperium/hyper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hyperium/hyper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hyperium/hyper/teams","hooks_url":"https://api.github.com/repos/hyperium/hyper/hooks","issue_events_url":"https://api.github.com/repos/hyperium/hyper/issues/events{/number}","events_url":"https://api.github.com/repos/hyperium/hyper/events","assignees_url":"https://api.github.com/repos/hyperium/hyper/assignees{/user}","branches_url":"https://api.github.com/repos/hyperium/hyper/branches{/branch}","tags_url":"https://api.github.com/repos/hyperium/hyper/tags","blobs_url":"https://api.github.com/repos/hyperium/hyper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hyperium/hyper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hyperium/hyper/git/refs{/sha}","trees_url":"https://api.github.com/repos/hyperium/hyper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hyperium/hyper/statuses/{sha}","languages_url":"https://api.github.com/repos/hyperium/hyper/languages","stargazers_url":"https://api.github.com/repos/hyperium/hyper/stargazers","contributors_url":"https://api.github.com/repos/hyperium/hyper/contributors","subscribers_url":"https://api.github.com/repos/hyperium/hyper/subscribers","subscription_url":"https://api.github.com/repos/hyperium/hyper/subscription","commits_url":"https://api.github.com/repos/hyperium/hyper/commits{/sha}","git_commits_url":"https://api.github.com/repos/hyperium/hyper/git/commits{/sha}","comments_url":"https://api.github.com/repos/hyperium/hyper/comments{/number}","issue_comment_url":"https://api.github.com/repos/hyperium/hyper/issues/comments{/number}","contents_url":"https://api.github.com/repos/hyperium/hyper/contents/{+path}","compare_url":"https://api.github.com/repos/hyperium/hyper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hyperium/hyper/merges","archive_url":"https://api.github.com/repos/hyperium/hyper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hyperium/hyper/downloads","issues_url":"https://api.github.com/repos/hyperium/hyper/issues{/number}","pulls_url":"https://api.github.com/repos/hyperium/hyper/pulls{/number}","milestones_url":"https://api.github.com/repos/hyperium/hyper/milestones{/number}","notifications_url":"https://api.github.com/repos/hyperium/hyper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hyperium/hyper/labels{/name}","releases_url":"https://api.github.com/repos/hyperium/hyper/releases{/id}","deployments_url":"https://api.github.com/repos/hyperium/hyper/deployments","created_at":"2014-08-30T21:14:33Z","updated_at":"2025-11-09T09:11:28Z","pushed_at":"2025-10-27T16:23:23Z","git_url":"git://github.com/hyperium/hyper.git","ssh_url":"git@github.com:hyperium/hyper.git","clone_url":"https://github.com/hyperium/hyper.git","svn_url":"https://github.com/hyperium/hyper","homepage":"https://hyper.rs","size":13990,"stargazers_count":15659,"watchers_count":15659,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1683,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":259,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","hyper","rust"],"visibility":"public","forks":1683,"open_issues":259,"watchers":15659,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hyperium/hyper/pulls/1488","html_url":"https://github.com/hyperium/hyper/pull/1488","diff_url":"https://github.com/hyperium/hyper/pull/1488.diff","patch_url":"https://github.com/hyperium/hyper/pull/1488.patch","merged_at":"2018-04-16T23:35:20Z"},"body":"The `hyper::Server` is now a proper higher-level API for running HTTP\r\nservers. There is a related `hyper::server::Builder` type, to construct\r\na `Server`. All other types (`Http`, `Serve`, etc) were moved into the\r\n\"lower-level\" `hyper::server::conn` module.\r\n\r\nThe `Server` is a `Future` representing a listening HTTP server. Options\r\nneeded to build one are set on the `Builder`.\r\n\r\nAs `Server` is just a `Future`, it no longer owns a thread-blocking\r\nexecutor, and can thus be run next to other servers, clients, or\r\nwhat-have-you.\r\n\r\nCloses #1322\r\nCloses #1263\r\n\r\nBREAKING CHANGE: The `Server` is no longer created from `Http::bind`,\r\n  nor is it `run`. It is a `Future` that must be polled by an\r\n  `Executor`.\r\n\r\n  The `hyper::server::Http` type has move to\r\n  `hyper::server::conn::Http`.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/hyperium/hyper/issues/1488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hyperium/hyper/issues/1488/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1577079801,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzcwNzk4MDE=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577079801","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c5e949088f271592455967b78e0ba008f7b2a3ad","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/c5e949088f271592455967b78e0ba008f7b2a3ad","created_at":"2018-04-16T19:12:54Z","performed_via_github_app":null},{"id":1577138160,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzcxMzgxNjA=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577138160","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7463fd2641e230db761697b62125e3b244faac21","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/7463fd2641e230db761697b62125e3b244faac21","created_at":"2018-04-16T19:44:00Z","performed_via_github_app":null},{"id":1577268218,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzcyNjgyMTg=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577268218","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4fa759f5a109551e2c8b3f5f7360c0b8d2ccb9a4","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/4fa759f5a109551e2c8b3f5f7360c0b8d2ccb9a4","created_at":"2018-04-16T20:49:34Z","performed_via_github_app":null},{"id":1577286804,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzcyODY4MDQ=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577286804","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"67010fb6809d0c229b60b1e6f9e1f1083ec2f447","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/67010fb6809d0c229b60b1e6f9e1f1083ec2f447","created_at":"2018-04-16T20:58:44Z","performed_via_github_app":null},{"id":1577346443,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzczNDY0NDM=","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577346443","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c4974500abee45b95b0b54109cad15978ef8ced9","commit_url":"https://api.github.com/repos/hyperium/hyper/commits/c4974500abee45b95b0b54109cad15978ef8ced9","created_at":"2018-04-16T21:29:29Z","performed_via_github_app":null},{"id":1577518700,"node_id":"MDExOkNsb3NlZEV2ZW50MTU3NzUxODcwMA==","url":"https://api.github.com/repos/hyperium/hyper/issues/events/1577518700","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-04-16T23:35:20Z","state_reason":null,"performed_via_github_app":null}]