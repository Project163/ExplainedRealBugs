diff --git a/src/proto/h1/role.rs b/src/proto/h1/role.rs
index a9f2f007..b7310ba9 100644
--- a/src/proto/h1/role.rs
+++ b/src/proto/h1/role.rs
@@ -562,13 +562,13 @@ impl Http1Transaction for Server {
                     }
                 }
                 None | Some(BodyLength::Known(0)) => {
-                    if msg.head.subject != StatusCode::NOT_MODIFIED {
+                    if Server::can_have_content_length(msg.req_method, msg.head.subject) {
                         extend(dst, b"content-length: 0\r\n");
                     }
                     Encoder::length(0)
                 }
                 Some(BodyLength::Known(len)) => {
-                    if msg.head.subject == StatusCode::NOT_MODIFIED {
+                    if !Server::can_have_content_length(msg.req_method, msg.head.subject) {
                         Encoder::length(0)
                     } else {
                         extend(dst, b"content-length: ");
@@ -638,13 +638,22 @@ impl Server {
         if method == &Some(Method::HEAD) || method == &Some(Method::CONNECT) && status.is_success()
         {
             false
+        } else if status.is_informational() {
+            false
+        } else {
+            match status {
+                StatusCode::NO_CONTENT | StatusCode::NOT_MODIFIED => false,
+                _ => true,
+            }
+        }
+    }
+
+    fn can_have_content_length(method: &Option<Method>, status: StatusCode) -> bool {
+        if status.is_informational() || method == &Some(Method::CONNECT) && status.is_success() {
+            false
         } else {
             match status {
-                // TODO: support for 1xx codes needs improvement everywhere
-                // would be 100...199 => false
-                StatusCode::SWITCHING_PROTOCOLS
-                | StatusCode::NO_CONTENT
-                | StatusCode::NOT_MODIFIED => false,
+                StatusCode::NO_CONTENT | StatusCode::NOT_MODIFIED => false,
                 _ => true,
             }
         }
diff --git a/tests/server.rs b/tests/server.rs
index 72d2e459..662e903d 100644
--- a/tests/server.rs
+++ b/tests/server.rs
@@ -1330,8 +1330,9 @@ async fn upgrades_new() {
         let mut buf = [0; 256];
         tcp.read(&mut buf).expect("read 1");
 
-        let expected = "HTTP/1.1 101 Switching Protocols\r\n";
-        assert_eq!(s(&buf[..expected.len()]), expected);
+        let response = s(&buf);
+        assert!(response.starts_with("HTTP/1.1 101 Switching Protocols\r\n"));
+        assert!(!has_header(&response, "content-length"));
         let _ = read_101_tx.send(());
 
         let n = tcp.read(&mut buf).expect("read 2");
