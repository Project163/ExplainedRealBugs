{"url":"https://api.github.com/repos/rust-random/rand/issues/645","repository_url":"https://api.github.com/repos/rust-random/rand","labels_url":"https://api.github.com/repos/rust-random/rand/issues/645/labels{/name}","comments_url":"https://api.github.com/repos/rust-random/rand/issues/645/comments","events_url":"https://api.github.com/repos/rust-random/rand/issues/645/events","html_url":"https://github.com/rust-random/rand/issues/645","id":381592023,"node_id":"MDU6SXNzdWUzODE1OTIwMjM=","number":645,"title":"Having `rand` 0.5 and `rand` 0.6 with default features turned off in the crate graph results in a compliation error","user":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2018-11-16T13:06:48Z","updated_at":"2019-01-25T09:52:24Z","closed_at":"2019-01-25T09:52:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"1. Create a crate `bar` and depend on `rand` 0.5.\r\n2. Create a crate `foo` and depend on `rand` 0.6 with `default-features = false` and on `bar`.\r\n3. Compile `foo`.\r\n\r\nResulting error:\r\n\r\n```\r\n$ cargo check\r\n    Checking rand v0.6.0\r\nerror[E0277]: the trait bound `rngs::jitter::TimerError: std::error::Error` is not satisfied\r\n   --> ~/.cargo/registry/src/github.com-1ecc6299db9ec823/rand-0.6.0/src/rngs/jitter.rs:267:9\r\n    |\r\n267 |         Error::with_cause(ErrorKind::Unavailable,\r\n    |         ^^^^^^^^^^^^^^^^^ the trait `std::error::Error` is not implemented for `rngs::jitter::TimerError`\r\n    |\r\n    = note: required because of the requirements on the impl of `core::convert::From<rngs::jitter::TimerError>` for `alloc::boxed::Box<(dyn std::error::Error + core::marker::Send + core::marker::Sync + 'static)>`\r\n    = note: required because of the requirements on the impl of `core::convert::Into<alloc::boxed::Box<(dyn std::error::Error + core::marker::Send + core::marker::Sync + 'static)>>` for `rngs::jitter::TimerError`\r\n    = note: required by `rand_core::Error::with_cause`\r\n\r\nerror: aborting due to previous error\r\n\r\nFor more information about this error, try `rustc --explain E0277`.\r\nerror: Could not compile `rand`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n\r\nAutomatic reproduction:\r\n\r\n```\r\ncargo new --lib foo\r\ncargo new --lib bar\r\n\r\necho 'rand = \"0.5\"' >> bar/Cargo.toml\r\necho 'rand = { version = \"0.6\", default-features = false }' >> foo/Cargo.toml\r\necho 'bar = { path = \"../bar\" }' >> foo/Cargo.toml\r\n\r\ncd foo\r\ncargo check\r\n```\r\n\r\nRust version:\r\n\r\n```\r\nrustc 1.32.0-nightly (6f93e93af 2018-11-14)\r\n```\r\n\r\nCrate graph from `Cargo.lock`:\r\n\r\n```\r\n\"checksum bitflags 1.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"228047a76f468627ca71776ecdebd732a3423081fcf5125585bcd7c49886ce12\"\r\n\"checksum cloudabi 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ddfc5b9aa5d4507acaf872de71051dfd0e309860e88966e1051e462a077aac4f\"\r\n\"checksum fuchsia-zircon 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2e9763c69ebaae630ba35f74888db465e49e259ba1bc0eda7d06f4a067615d82\"\r\n\"checksum fuchsia-zircon-sys 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dcaa9ae7725d12cdb85b3ad99a434db70b468c09ded17e012d86b5c1010f7a7\"\r\n\"checksum libc 0.2.43 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76e3a3ef172f1a0b9a9ff0dd1491ae5e6c948b94479a3021819ba7d860c8645d\"\r\n\"checksum rand 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e464cd887e869cddcae8792a4ee31d23c7edd516700695608f5b98c67ee0131c\"\r\n\"checksum rand 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"de3f08319b5395bd19b70e73c4c465329495db02dafeb8ca711a20f1c2bd058c\"\r\n\"checksum rand_chacha 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"771b009e3a508cb67e8823dda454aaa5368c7bc1c16829fb77d3e980440dd34a\"\r\n\"checksum rand_core 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1961a422c4d189dfb50ffa9320bf1f2a9bd54ecb92792fb9477f99a1045f3372\"\r\n\"checksum rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0905b6b7079ec73b314d4c748701f6931eb79fd97c668caa3f1899b22b32c6db\"\r\n\"checksum rand_hc 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7b40677c7be09ae76218dc623efbf7b18e34bced3f38883af07bb75630a21bc4\"\r\n\"checksum rand_isaac 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2d6ecfe9ebf36acd47a49d150990b047a5f7db0a7236ee2414b7ff5cc1097c7b\"\r\n\"checksum rand_pcg 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"086bd09a33c7044e56bb44d5bdde5a60e7f119a9e95b0775f545de759a32fe05\"\r\n\"checksum rand_xorshift 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"effa3fcaa47e18db002bdde6060944b6d2f9cfd8db471c30e873448ad9187be3\"\r\n\"checksum rustc_version 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"138e3e0acb6c9fb258b19b67cb8abd63c00679d2851805ea151465464fe9030a\"\r\n\"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\r\n\"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\r\n\"checksum winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"92c1eb33641e276cfa214a0522acad57be5c56b10cb348b3c5117db75f3ac4b0\"\r\n\"checksum winapi-i686-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6\"\r\n\"checksum winapi-x86_64-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f\"\r\n```","closed_by":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-random/rand/issues/645/timeline","performed_via_github_app":null,"state_reason":"completed"}