[{"id":2811366654,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjgxMTM2NjY1NA==","url":"https://api.github.com/repos/rust-random/rand/issues/events/2811366654","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-19T13:15:40Z","performed_via_github_app":null},{"id":2811366656,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4MTEzNjY2NTY=","url":"https://api.github.com/repos/rust-random/rand/issues/events/2811366656","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-19T13:15:40Z","performed_via_github_app":null},{"actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T13:15:55Z","updated_at":"2019-11-19T13:15:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-random/rand/issues/907","repository_url":"https://api.github.com/repos/rust-random/rand","labels_url":"https://api.github.com/repos/rust-random/rand/issues/907/labels{/name}","comments_url":"https://api.github.com/repos/rust-random/rand/issues/907/comments","events_url":"https://api.github.com/repos/rust-random/rand/issues/907/events","html_url":"https://github.com/rust-random/rand/issues/907","id":522561054,"node_id":"MDU6SXNzdWU1MjI1NjEwNTQ=","number":907,"title":"Document dependency between streams in PCG64","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-11-14T01:02:41Z","updated_at":"2021-05-08T07:31:37Z","closed_at":"2021-05-08T07:31:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":30227790,"node_id":"MDEwOlJlcG9zaXRvcnkzMDIyNzc5MA==","name":"rand","full_name":"rust-random/rand","private":false,"owner":{"login":"rust-random","id":42028081,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMDI4MDgx","avatar_url":"https://avatars.githubusercontent.com/u/42028081?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-random","html_url":"https://github.com/rust-random","followers_url":"https://api.github.com/users/rust-random/followers","following_url":"https://api.github.com/users/rust-random/following{/other_user}","gists_url":"https://api.github.com/users/rust-random/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-random/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-random/subscriptions","organizations_url":"https://api.github.com/users/rust-random/orgs","repos_url":"https://api.github.com/users/rust-random/repos","events_url":"https://api.github.com/users/rust-random/events{/privacy}","received_events_url":"https://api.github.com/users/rust-random/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-random/rand","description":"A Rust library for random number generation.","fork":false,"url":"https://api.github.com/repos/rust-random/rand","forks_url":"https://api.github.com/repos/rust-random/rand/forks","keys_url":"https://api.github.com/repos/rust-random/rand/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-random/rand/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-random/rand/teams","hooks_url":"https://api.github.com/repos/rust-random/rand/hooks","issue_events_url":"https://api.github.com/repos/rust-random/rand/issues/events{/number}","events_url":"https://api.github.com/repos/rust-random/rand/events","assignees_url":"https://api.github.com/repos/rust-random/rand/assignees{/user}","branches_url":"https://api.github.com/repos/rust-random/rand/branches{/branch}","tags_url":"https://api.github.com/repos/rust-random/rand/tags","blobs_url":"https://api.github.com/repos/rust-random/rand/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-random/rand/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-random/rand/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-random/rand/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-random/rand/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-random/rand/languages","stargazers_url":"https://api.github.com/repos/rust-random/rand/stargazers","contributors_url":"https://api.github.com/repos/rust-random/rand/contributors","subscribers_url":"https://api.github.com/repos/rust-random/rand/subscribers","subscription_url":"https://api.github.com/repos/rust-random/rand/subscription","commits_url":"https://api.github.com/repos/rust-random/rand/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-random/rand/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-random/rand/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-random/rand/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-random/rand/contents/{+path}","compare_url":"https://api.github.com/repos/rust-random/rand/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-random/rand/merges","archive_url":"https://api.github.com/repos/rust-random/rand/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-random/rand/downloads","issues_url":"https://api.github.com/repos/rust-random/rand/issues{/number}","pulls_url":"https://api.github.com/repos/rust-random/rand/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-random/rand/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-random/rand/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-random/rand/labels{/name}","releases_url":"https://api.github.com/repos/rust-random/rand/releases{/id}","deployments_url":"https://api.github.com/repos/rust-random/rand/deployments","created_at":"2015-02-03T05:59:32Z","updated_at":"2025-11-08T09:24:07Z","pushed_at":"2025-11-08T09:24:45Z","git_url":"git://github.com/rust-random/rand.git","ssh_url":"git@github.com:rust-random/rand.git","clone_url":"https://github.com/rust-random/rand.git","svn_url":"https://github.com/rust-random/rand","homepage":"https://crates.io/crates/rand","size":5223,"stargazers_count":1934,"watchers_count":1934,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":480,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":18,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":480,"open_issues":18,"watchers":1934,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The documentation of the PCG generators with a \"stream\" parameter does not state explicit that different streams generate independent sequences, but the existence of a parameter named \"stream\" implies somehow the idea.\r\n\r\nThe user should be made aware that the stream parameter is almost useless from a mathematical and statistical viewpoint.\r\n\r\nChanging constant (stream) to an LCG with power-of-two modulus and a constant like the one used in PCG simply adds a constant to the sequence (more precisely, there are two equivalence classes of constants, and in each equivalence class the sequences are identical, except for an additive constant).\r\n\r\nThe minimal scrambling done by the generator cannot cancel this fact, and as a result changing the constant is basically equivalent to changing the initial state. You can try to run this program:\r\n\r\n    extern crate rand_pcg;\r\n    use rand::{Rng};\r\n\r\n    fn main() {\r\n        let state : u128  = 0x596d84dfefec2fc76b79f81ab9f3e37b; // Original state\r\n        let c : u128 = 0x702bdbf7bb3c0a7ac28fa16a64abf95; // Original increment parameter (must be odd)\r\n        let c_ : u128 = c << 1 | 1; // Actual increment\r\n        let d_ : u128 = 0xba6724c0f47893162ee214efcc33da13; // Any other actual increment (must be congruent to 3 mod 8)\r\n\r\n        let mut r : u128 = 68263968060690495638840298501726217073;\r\n        r = r.wrapping_mul((d_ - c_) / 4);\r\n\r\n        let mut r0 = rand_pcg::Pcg64::new(state.wrapping_sub(c_), c);\r\n        let mut r1 = rand_pcg::Pcg64::new(state.wrapping_sub(d_).wrapping_sub(r), d_ >> 1);\r\n\r\n        loop {\r\n            let x: u64 = r0.gen();\r\n            let y: u64 = r1.gen();\r\n            println!(\"0x{:x}\", x);\r\n            println!(\"0x{:x}\", y);\r\n        }\r\n    }\r\n\r\nYou can change state as you like, and the two constants c and d_ as you like. The program will set up two initial states so that the sequences generated by the two PRNGs are based on almost identical underlying LCG sequences, in spite of having arbitrary constants (stream parameters). I don't know how to write in binary in Rust, but I passed the output through this simple C program\r\n\r\n     #include <stdio.h>\r\n     #include <stdlib.h>\r\n     #include <stdint.h>\r\n\r\n     int main() {\r\n             char s[100];\r\n\r\n             for(;;) {\r\n                     gets(s);\r\n                     const uint64_t x = strtoull(s, NULL, 0);\r\n                     fwrite(&x, sizeof x, 1, stdout);\r\n            }\r\n    }\r\n\r\nand then through PractRand. If you comment one of the `println!`, everything is fine. If you interleave the two generators:\r\n\r\n    rng=RNG_stdin64, seed=unknown\r\n    length= 16 megabytes (2^24 bytes), time= 3.3 seconds\r\n      Test Name                         Raw       Processed     Evaluation\r\n      BCFN(0+0,13-4,T)                  R=+472.4  p =  2.4e-206   FAIL !!!!!!\r\n      BCFN(0+1,13-4,T)                  R=+663.5  p =  8.2e-290   FAIL !!!!!!\r\n      BCFN(0+2,13-5,T)                  R=+367.3  p =  6.0e-144   FAIL !!!!!\r\n      BCFN(0+3,13-5,T)                  R=+564.4  p =  4.1e-221   FAIL !!!!!!\r\n      DC6-9x1Bytes-1                    R= +64.4  p =  5.7e-37    FAIL !!!\r\n      DC6-6x2Bytes-1                    R= +98.4  p =  1.8e-56    FAIL !!!!\r\n      DC6-5x4Bytes-1                    R= +45.4  p =  1.3e-27    FAIL !!\r\n      [Low4/16]BCFN(0+0,13-5,T)         R= +81.3  p =  5.3e-32    FAIL !!!\r\n      [Low4/16]BCFN(0+1,13-5,T)         R=+144.4  p =  1.0e-56    FAIL !!!!\r\n      [Low4/16]BCFN(0+2,13-6,T)         R= +14.8  p =  1.7e-5   mildly suspicious\r\n      [Low4/16]DC6-9x1Bytes-1           R= +16.0  p =  8.1e-9    VERY SUSPICIOUS\r\n      [Low4/16]DC6-6x2Bytes-1           R= +32.7  p =  5.2e-18    FAIL !\r\n      [Low4/16]DC6-5x4Bytes-1           R= +45.6  p =  1.7e-22    FAIL !!\r\n      [Low4/16]FPF-14+6/4:(0,14-1)      R=+128.3  p =  1.9e-113   FAIL !!!!!\r\n      [Low4/16]FPF-14+6/4:(1,14-2)      R=+126.7  p =  1.4e-110   FAIL !!!!!\r\n      [Low4/16]FPF-14+6/4:(2,14-2)      R= +79.0  p =  7.3e-69    FAIL !!!!\r\n      [Low4/16]FPF-14+6/4:(3,14-3)      R= +17.5  p =  4.2e-15    FAIL\r\n      [Low4/16]FPF-14+6/4:(4,14-4)      R=  +9.3  p =  1.4e-7   mildly suspicious\r\n      [Low4/16]FPF-14+6/4:all           R=+179.8  p =  3.3e-168   FAIL !!!!!\r\n      ...and 849 test result(s) without anomalies\r\n\r\nYou can also offset one of generator by hundred of iterations, but the sequences are so correlated that the result won't change.\r\n\r\nI think the reader should be made aware of the danger. If you start several generators of this kind the state is too small to guarantee that there will be no overlap. Once you get overlap, since there are in practice just two sequences, you will get a lot of unwanted correlation.","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-random/rand/issues/907/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555535320","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555535320","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555535320,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTUzNTMyMA==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T14:35:30Z","updated_at":"2019-11-19T14:35:30Z","body":"Do you need multiple streams? Constant-time jumps for parallel execution? Are 64-bit operations fine or would you prefer 32-bit operations?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555535320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555536729","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555536729","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555536729,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTUzNjcyOQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T14:38:39Z","updated_at":"2019-11-19T14:38:39Z","body":"We expect the key size (seed + stream) to be at least 100 bits. We require an algorithm for 32-bit CPUs and for 64-bit CPUs (currently we have a different RNG for each; they could also be the same).\r\n\r\nFor parallel usage we generally recommend seeding each PRNG independently from a strong master (CSPRNG or system source) instead of using jumps.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555536729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555545297","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555545297","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555545297,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU0NTI5Nw==","user":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T14:57:39Z","updated_at":"2019-11-19T14:57:39Z","body":"Does this affect the current implementation of `SeedableRng::seed_from_u64`?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555545297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555553366","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555553366","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555553366,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU1MzM2Ng==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T15:15:36Z","updated_at":"2019-11-19T15:15:36Z","body":"For these two cases, on my page I suggest xoroshiro128++ or xoshiro128++. The second generator is 32-bit though, so you'll need to call it twice for a 64-bit integer or a double.\r\n\r\nNote that in general generators writing to multiple locations (like those above) might perform better in artificial benchmarks (e.g., loops) than generators with a stream parameter, but in real life the cost of storing *two* words instead of one might be detectable even at the application level in some circumstances (e.g., a lot of generation but in a situation in which the compiler cannot keep the state of the PRNG in registers).\r\n\r\nSplitMix fills many of your requirements. The problem with it is that the parameter (the additive constant of the underlying Weyl generator) must have a balance of zeros and ones, so it might be tricky to have the user specify an arbitrary parameter and avoid collisions when you \"fix\" it.\r\n\r\nAn alternative you might explore is any kind of 64-bit engine (e.g., a xorshift generator or an LCG with modulus 2^64) with a strong parameterized scrambling function. Something like a murmurHash mix, but inserting the constant defining the stream in the middel (e.g., when you multiply). Of course it is not guaranteed that all constants will work equally, etc. Streams are objectively difficult unless you are using a stream cipher.\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555553366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555566330","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555566330","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555566330,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU2NjMzMA==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T15:43:15Z","updated_at":"2019-11-19T15:43:15Z","body":"> Does this affect the current implementation of SeedableRng::seed_from_u64?\r\n\r\nI don't believe so. In this case we care more about reproducibility and less about supporting many independent instances (the function only accepts 64-bit key, and uses a fixed stream).\r\n\r\nI did some quick benchmarks of our existing Rust PRNGs below. These are not fully representative (only one CPU arch, may be a little imprecise), but show roughly how our current code performs.\r\n\r\n```\r\nx86_64 (Haswell):\r\n\r\ntest gen_bytes_chacha12      ... bench:     351,126 ns/iter (+/- 22,460) = 2916 MB/s\r\ntest gen_bytes_chacha20      ... bench:     535,578 ns/iter (+/- 41,333) = 1911 MB/s\r\ntest gen_bytes_chacha8       ... bench:     256,668 ns/iter (+/- 10,779) = 3989 MB/s\r\ntest gen_bytes_hc128         ... bench:     461,475 ns/iter (+/- 42,922) = 2218 MB/s\r\ntest gen_bytes_os            ... bench:   4,672,746 ns/iter (+/- 105,596) = 219 MB/s\r\ntest gen_bytes_pcg32         ... bench:     480,698 ns/iter (+/- 8,081) = 2130 MB/s\r\ntest gen_bytes_pcg64         ... bench:     410,520 ns/iter (+/- 10,004) = 2494 MB/s\r\ntest gen_bytes_pcg64mcg      ... bench:     337,623 ns/iter (+/- 8,450) = 3032 MB/s\r\ntest gen_bytes_std           ... bench:     535,034 ns/iter (+/- 9,829) = 1913 MB/s\r\ntest gen_bytes_step          ... bench:     272,422 ns/iter (+/- 4,405) = 3758 MB/s\r\ntest gen_bytes_isaac                ... bench:     767,380 ns/iter (+/- 14,082) = 1334 MB/s\r\ntest gen_bytes_isaac64              ... bench:     410,192 ns/iter (+/- 11,555) = 2496 MB/s\r\ntest gen_bytes_splitmix64           ... bench:     504,261 ns/iter (+/- 19,653) = 2030 MB/s\r\ntest gen_bytes_xoroshiro128plus     ... bench:     471,811 ns/iter (+/- 19,862) = 2170 MB/s\r\ntest gen_bytes_xoroshiro128plusplus ... bench:     465,413 ns/iter (+/- 25,334) = 2200 MB/s\r\ntest gen_bytes_xoroshiro128starstar ... bench:     465,180 ns/iter (+/- 20,501) = 2201 MB/s\r\ntest gen_bytes_xoroshiro64star      ... bench:     560,486 ns/iter (+/- 12,691) = 1826 MB/s\r\ntest gen_bytes_xoroshiro64starstar  ... bench:     590,918 ns/iter (+/- 14,597) = 1732 MB/s\r\ntest gen_bytes_xorshift             ... bench:     385,338 ns/iter (+/- 15,345) = 2657 MB/s\r\ntest gen_bytes_xoshiro128plus       ... bench:     480,411 ns/iter (+/- 21,039) = 2131 MB/s\r\ntest gen_bytes_xoshiro128plusplus   ... bench:     506,841 ns/iter (+/- 35,335) = 2020 MB/s\r\ntest gen_bytes_xoshiro128starstar   ... bench:     485,184 ns/iter (+/- 34,264) = 2110 MB/s\r\ntest gen_bytes_xoshiro256plus       ... bench:     373,064 ns/iter (+/- 29,397) = 2744 MB/s\r\ntest gen_bytes_xoshiro256plusplus   ... bench:     382,244 ns/iter (+/- 15,187) = 2678 MB/s\r\ntest gen_bytes_xoshiro256starstar   ... bench:     365,659 ns/iter (+/- 27,107) = 2800 MB/s\r\ntest gen_bytes_xoshiro512plus       ... bench:     395,434 ns/iter (+/- 46,206) = 2589 MB/s\r\ntest gen_bytes_xoshiro512plusplus   ... bench:     410,415 ns/iter (+/- 32,176) = 2495 MB/s\r\ntest gen_bytes_xoshiro512starstar   ... bench:     400,167 ns/iter (+/- 11,301) = 2558 MB/s\r\ntest gen_bytes_siprng ... bench:     662,201 ns/iter (+/- 41,361) = 1546 MB/s\r\n\r\ntest gen_u32_chacha12        ... bench:       1,778 ns/iter (+/- 77) = 2249 MB/s\r\ntest gen_u32_chacha20        ... bench:       2,516 ns/iter (+/- 73) = 1589 MB/s\r\ntest gen_u32_chacha8         ... bench:       1,304 ns/iter (+/- 46) = 3067 MB/s\r\ntest gen_u32_hc128           ... bench:       1,836 ns/iter (+/- 46) = 2178 MB/s\r\ntest gen_u32_os              ... bench:     623,795 ns/iter (+/- 28,568) = 6 MB/s\r\ntest gen_u32_pcg32           ... bench:       1,218 ns/iter (+/- 38) = 3284 MB/s\r\ntest gen_u32_pcg64           ... bench:       1,867 ns/iter (+/- 40) = 2142 MB/s\r\ntest gen_u32_pcg64mcg        ... bench:       1,222 ns/iter (+/- 50) = 3273 MB/s\r\ntest gen_u32_std             ... bench:       2,506 ns/iter (+/- 86) = 1596 MB/s\r\ntest gen_u32_step            ... bench:          96 ns/iter (+/- 3) = 41666 MB/s\r\ntest gen_u32_isaac                  ... bench:       3,242 ns/iter (+/- 228) = 1233 MB/s\r\ntest gen_u32_isaac64                ... bench:       3,251 ns/iter (+/- 292) = 1230 MB/s\r\ntest gen_u32_splitmix64             ... bench:         820 ns/iter (+/- 34) = 4878 MB/s\r\ntest gen_u32_xoroshiro128plus       ... bench:       1,071 ns/iter (+/- 79) = 3734 MB/s\r\ntest gen_u32_xoroshiro128plusplus   ... bench:       1,524 ns/iter (+/- 115) = 2624 MB/s\r\ntest gen_u32_xoroshiro128starstar   ... bench:       1,358 ns/iter (+/- 302) = 2945 MB/s\r\ntest gen_u32_xoroshiro64star        ... bench:       1,582 ns/iter (+/- 108) = 2528 MB/s\r\ntest gen_u32_xoroshiro64starstar    ... bench:       1,720 ns/iter (+/- 206) = 2325 MB/s\r\ntest gen_u32_xorshift               ... bench:       1,376 ns/iter (+/- 676) = 2906 MB/s\r\ntest gen_u32_xoshiro128plus         ... bench:         983 ns/iter (+/- 32) = 4069 MB/s\r\ntest gen_u32_xoshiro128plusplus     ... bench:       1,036 ns/iter (+/- 23) = 3861 MB/s\r\ntest gen_u32_xoshiro128starstar     ... bench:       1,150 ns/iter (+/- 4) = 3478 MB/s\r\ntest gen_u32_xoshiro256plus         ... bench:         981 ns/iter (+/- 6) = 4077 MB/s\r\ntest gen_u32_xoshiro256plusplus     ... bench:       1,120 ns/iter (+/- 17) = 3571 MB/s\r\ntest gen_u32_xoshiro256starstar     ... bench:       1,065 ns/iter (+/- 7) = 3755 MB/s\r\ntest gen_u32_xoshiro512plus         ... bench:       3,362 ns/iter (+/- 34) = 1189 MB/s\r\ntest gen_u32_xoshiro512plusplus     ... bench:       3,467 ns/iter (+/- 23) = 1153 MB/s\r\ntest gen_u32_xoshiro512starstar     ... bench:       3,418 ns/iter (+/- 67) = 1170 MB/s\r\ntest gen_u32_siprng   ... bench:       5,052 ns/iter (+/- 417) = 791 MB/s\r\n\r\ntest gen_u64_chacha12        ... bench:       3,993 ns/iter (+/- 315) = 2003 MB/s\r\ntest gen_u64_chacha20        ... bench:       4,463 ns/iter (+/- 164) = 1792 MB/s\r\ntest gen_u64_chacha8         ... bench:       3,268 ns/iter (+/- 181) = 2447 MB/s\r\ntest gen_u64_hc128           ... bench:       3,930 ns/iter (+/- 387) = 2035 MB/s\r\ntest gen_u64_os              ... bench:     625,831 ns/iter (+/- 14,467) = 12 MB/s\r\ntest gen_u64_pcg32           ... bench:       2,664 ns/iter (+/- 228) = 3003 MB/s\r\ntest gen_u64_pcg64           ... bench:       1,868 ns/iter (+/- 37) = 4282 MB/s\r\ntest gen_u64_pcg64mcg        ... bench:       1,215 ns/iter (+/- 25) = 6584 MB/s\r\ntest gen_u64_std             ... bench:       5,380 ns/iter (+/- 211) = 1486 MB/s\r\ntest gen_u64_step            ... bench:         152 ns/iter (+/- 9) = 52631 MB/s\r\ntest gen_u64_isaac                  ... bench:       7,551 ns/iter (+/- 26) = 1059 MB/s\r\ntest gen_u64_isaac64                ... bench:       3,621 ns/iter (+/- 16) = 2209 MB/s\r\ntest gen_u64_splitmix64             ... bench:         994 ns/iter (+/- 14) = 8048 MB/s\r\ntest gen_u64_xoroshiro128plus       ... bench:       1,201 ns/iter (+/- 3) = 6661 MB/s\r\ntest gen_u64_xoroshiro128plusplus   ... bench:       1,408 ns/iter (+/- 4) = 5681 MB/s\r\ntest gen_u64_xoroshiro128starstar   ... bench:       1,342 ns/iter (+/- 26) = 5961 MB/s\r\ntest gen_u64_xoroshiro64star        ... bench:       3,064 ns/iter (+/- 111) = 2610 MB/s\r\ntest gen_u64_xoroshiro64starstar    ... bench:       3,337 ns/iter (+/- 142) = 2397 MB/s\r\ntest gen_u64_xorshift               ... bench:       1,849 ns/iter (+/- 218) = 4326 MB/s\r\ntest gen_u64_xoshiro128plus         ... bench:       1,834 ns/iter (+/- 193) = 4362 MB/s\r\ntest gen_u64_xoshiro128plusplus     ... bench:       2,190 ns/iter (+/- 187) = 3652 MB/s\r\ntest gen_u64_xoshiro128starstar     ... bench:       2,070 ns/iter (+/- 189) = 3864 MB/s\r\ntest gen_u64_xoshiro256plus         ... bench:         987 ns/iter (+/- 148) = 8105 MB/s\r\ntest gen_u64_xoshiro256plusplus     ... bench:       1,038 ns/iter (+/- 107) = 7707 MB/s\r\ntest gen_u64_xoshiro256starstar     ... bench:       1,129 ns/iter (+/- 98) = 7085 MB/s\r\ntest gen_u64_xoshiro512plus         ... bench:       3,337 ns/iter (+/- 123) = 2397 MB/s\r\ntest gen_u64_xoshiro512plusplus     ... bench:       3,377 ns/iter (+/- 239) = 2368 MB/s\r\ntest gen_u64_xoshiro512starstar     ... bench:       3,446 ns/iter (+/- 203) = 2321 MB/s\r\ntest gen_u64_siprng   ... bench:       5,037 ns/iter (+/- 128) = 1588 MB/s\r\n\r\n\r\ni686 (emulated on Haswell):\r\n\r\ntest gen_bytes_chacha12      ... bench:   2,959,160 ns/iter (+/- 69,935) = 346 MB/s\r\ntest gen_bytes_chacha20      ... bench:   4,676,660 ns/iter (+/- 176,771) = 218 MB/s\r\ntest gen_bytes_chacha8       ... bench:   2,129,900 ns/iter (+/- 105,724) = 480 MB/s\r\ntest gen_bytes_hc128         ... bench:     779,442 ns/iter (+/- 23,737) = 1313 MB/s\r\ntest gen_bytes_os            ... bench:   4,763,796 ns/iter (+/- 68,559) = 214 MB/s\r\ntest gen_bytes_pcg32         ... bench:     841,579 ns/iter (+/- 20,688) = 1216 MB/s\r\ntest gen_bytes_pcg64         ... bench:   1,499,088 ns/iter (+/- 90,571) = 683 MB/s\r\ntest gen_bytes_pcg64mcg      ... bench:   1,291,361 ns/iter (+/- 24,630) = 792 MB/s\r\ntest gen_bytes_std           ... bench:   4,732,747 ns/iter (+/- 124,216) = 216 MB/s\r\ntest gen_bytes_step          ... bench:     319,588 ns/iter (+/- 4,945) = 3204 MB/s\r\ntest gen_bytes_isaac                ... bench:   1,028,576 ns/iter (+/- 195,479) = 995 MB/s\r\ntest gen_bytes_isaac64              ... bench:     564,817 ns/iter (+/- 6,652) = 1812 MB/s\r\ntest gen_bytes_splitmix64           ... bench:   2,781,309 ns/iter (+/- 67,637) = 368 MB/s\r\ntest gen_bytes_xoroshiro128plus     ... bench:   4,087,332 ns/iter (+/- 1,702,551) = 250 MB/s\r\ntest gen_bytes_xoroshiro128plusplus ... bench:   4,295,951 ns/iter (+/- 468,283) = 238 MB/s\r\ntest gen_bytes_xoroshiro128starstar ... bench:   2,778,644 ns/iter (+/- 119,197) = 368 MB/s\r\ntest gen_bytes_xoroshiro64star      ... bench:     598,607 ns/iter (+/- 46,824) = 1710 MB/s\r\ntest gen_bytes_xoroshiro64starstar  ... bench:     621,693 ns/iter (+/- 34,658) = 1647 MB/s\r\ntest gen_bytes_xorshift             ... bench:     441,959 ns/iter (+/- 37,409) = 2316 MB/s\r\ntest gen_bytes_xoshiro128plus       ... bench:     704,238 ns/iter (+/- 56,033) = 1454 MB/s\r\ntest gen_bytes_xoshiro128plusplus   ... bench:     557,983 ns/iter (+/- 53,534) = 1835 MB/s\r\ntest gen_bytes_xoshiro128starstar   ... bench:     568,295 ns/iter (+/- 67,564) = 1801 MB/s\r\ntest gen_bytes_xoshiro256plus       ... bench:     728,636 ns/iter (+/- 42,730) = 1405 MB/s\r\ntest gen_bytes_xoshiro256plusplus   ... bench:     758,109 ns/iter (+/- 11,789) = 1350 MB/s\r\ntest gen_bytes_xoshiro256starstar   ... bench:     769,551 ns/iter (+/- 4,485) = 1330 MB/s\r\ntest gen_bytes_xoshiro512plus       ... bench:     907,000 ns/iter (+/- 3,928) = 1128 MB/s\r\ntest gen_bytes_xoshiro512plusplus   ... bench:   1,025,192 ns/iter (+/- 15,996) = 998 MB/s\r\ntest gen_bytes_xoshiro512starstar   ... bench:     914,588 ns/iter (+/- 28,553) = 1119 MB/s\r\ntest gen_bytes_siprng ... bench:   1,699,922 ns/iter (+/- 29,795) = 602 MB/s\r\n\r\ntest gen_u32_chacha12        ... bench:      12,904 ns/iter (+/- 308) = 309 MB/s\r\ntest gen_u32_chacha20        ... bench:      19,474 ns/iter (+/- 255) = 205 MB/s\r\ntest gen_u32_chacha8         ... bench:       9,149 ns/iter (+/- 240) = 437 MB/s\r\ntest gen_u32_hc128           ... bench:       2,453 ns/iter (+/- 151) = 1630 MB/s\r\ntest gen_u32_os              ... bench:     642,248 ns/iter (+/- 23,286) = 6 MB/s\r\ntest gen_u32_pcg32           ... bench:       2,831 ns/iter (+/- 293) = 1412 MB/s\r\ntest gen_u32_pcg64           ... bench:       9,930 ns/iter (+/- 691) = 402 MB/s\r\ntest gen_u32_pcg64mcg        ... bench:       8,675 ns/iter (+/- 751) = 461 MB/s\r\ntest gen_u32_std             ... bench:      18,959 ns/iter (+/- 995) = 210 MB/s\r\ntest gen_u32_step            ... bench:           2 ns/iter (+/- 0) = 2000000 MB/s\r\ntest gen_u32_isaac                  ... bench:       3,742 ns/iter (+/- 74) = 1068 MB/s\r\ntest gen_u32_isaac64                ... bench:       4,328 ns/iter (+/- 124) = 924 MB/s\r\ntest gen_u32_splitmix64             ... bench:       2,001 ns/iter (+/- 93) = 1999 MB/s\r\ntest gen_u32_xoroshiro128plus       ... bench:       2,499 ns/iter (+/- 336) = 1600 MB/s\r\ntest gen_u32_xoroshiro128plusplus   ... bench:       2,608 ns/iter (+/- 37) = 1533 MB/s\r\ntest gen_u32_xoroshiro128starstar   ... bench:       2,816 ns/iter (+/- 309) = 1420 MB/s\r\ntest gen_u32_xoroshiro64star        ... bench:       1,307 ns/iter (+/- 106) = 3060 MB/s\r\ntest gen_u32_xoroshiro64starstar    ... bench:       1,490 ns/iter (+/- 133) = 2684 MB/s\r\ntest gen_u32_xorshift               ... bench:       1,547 ns/iter (+/- 164) = 2585 MB/s\r\ntest gen_u32_xoshiro128plus         ... bench:       2,372 ns/iter (+/- 177) = 1686 MB/s\r\ntest gen_u32_xoshiro128plusplus     ... bench:       2,408 ns/iter (+/- 232) = 1661 MB/s\r\ntest gen_u32_xoshiro128starstar     ... bench:       1,702 ns/iter (+/- 68) = 2350 MB/s\r\ntest gen_u32_xoshiro256plus         ... bench:       4,157 ns/iter (+/- 284) = 962 MB/s\r\ntest gen_u32_xoshiro256plusplus     ... bench:       4,162 ns/iter (+/- 593) = 961 MB/s\r\ntest gen_u32_xoshiro256starstar     ... bench:       4,091 ns/iter (+/- 295) = 977 MB/s\r\ntest gen_u32_xoshiro512plus         ... bench:       6,711 ns/iter (+/- 341) = 596 MB/s\r\ntest gen_u32_xoshiro512plusplus     ... bench:       7,369 ns/iter (+/- 438) = 542 MB/s\r\ntest gen_u32_xoshiro512starstar     ... bench:       6,171 ns/iter (+/- 83) = 648 MB/s\r\ntest gen_u32_siprng   ... bench:      15,812 ns/iter (+/- 965) = 252 MB/s\r\n\r\ntest gen_u64_chacha12        ... bench:      23,474 ns/iter (+/- 2,590) = 340 MB/s\r\ntest gen_u64_chacha20        ... bench:      35,887 ns/iter (+/- 4,109) = 222 MB/s\r\ntest gen_u64_chacha8         ... bench:      16,714 ns/iter (+/- 1,957) = 478 MB/s\r\ntest gen_u64_hc128           ... bench:       5,033 ns/iter (+/- 681) = 1589 MB/s\r\ntest gen_u64_os              ... bench:     721,669 ns/iter (+/- 75,554) = 11 MB/s\r\ntest gen_u64_pcg32           ... bench:       6,309 ns/iter (+/- 251) = 1268 MB/s\r\ntest gen_u64_pcg64           ... bench:      11,835 ns/iter (+/- 1,544) = 675 MB/s\r\ntest gen_u64_pcg64mcg        ... bench:      11,505 ns/iter (+/- 545) = 695 MB/s\r\ntest gen_u64_std             ... bench:      36,579 ns/iter (+/- 634) = 218 MB/s\r\ntest gen_u64_step            ... bench:           4 ns/iter (+/- 0) = 2000000 MB/s\r\ntest gen_u64_isaac                  ... bench:       7,792 ns/iter (+/- 257) = 1026 MB/s\r\ntest gen_u64_isaac64                ... bench:       5,642 ns/iter (+/- 407) = 1417 MB/s\r\ntest gen_u64_splitmix64             ... bench:       2,236 ns/iter (+/- 96) = 3577 MB/s\r\ntest gen_u64_xoroshiro128plus       ... bench:       3,360 ns/iter (+/- 223) = 2380 MB/s\r\ntest gen_u64_xoroshiro128plusplus   ... bench:       3,833 ns/iter (+/- 159) = 2087 MB/s\r\ntest gen_u64_xoroshiro128starstar   ... bench:       3,787 ns/iter (+/- 164) = 2112 MB/s\r\ntest gen_u64_xoroshiro64star        ... bench:       2,982 ns/iter (+/- 51) = 2682 MB/s\r\ntest gen_u64_xoroshiro64starstar    ... bench:       3,119 ns/iter (+/- 72) = 2564 MB/s\r\ntest gen_u64_xorshift               ... bench:       2,558 ns/iter (+/- 204) = 3127 MB/s\r\ntest gen_u64_xoshiro128plus         ... bench:       3,017 ns/iter (+/- 315) = 2651 MB/s\r\ntest gen_u64_xoshiro128plusplus     ... bench:       2,772 ns/iter (+/- 330) = 2886 MB/s\r\ntest gen_u64_xoshiro128starstar     ... bench:       2,815 ns/iter (+/- 321) = 2841 MB/s\r\ntest gen_u64_xoshiro256plus         ... bench:       4,115 ns/iter (+/- 127) = 1944 MB/s\r\ntest gen_u64_xoshiro256plusplus     ... bench:       5,121 ns/iter (+/- 155) = 1562 MB/s\r\ntest gen_u64_xoshiro256starstar     ... bench:       4,620 ns/iter (+/- 154) = 1731 MB/s\r\ntest gen_u64_xoshiro512plus         ... bench:       7,430 ns/iter (+/- 858) = 1076 MB/s\r\ntest gen_u64_xoshiro512plusplus     ... bench:       7,301 ns/iter (+/- 756) = 1095 MB/s\r\ntest gen_u64_xoshiro512starstar     ... bench:       7,020 ns/iter (+/- 695) = 1139 MB/s\r\ntest gen_u64_siprng   ... bench:      16,127 ns/iter (+/- 592) = 496 MB/s\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555566330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555591903","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555591903","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555591903,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU5MTkwMw==","user":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T16:32:37Z","updated_at":"2019-11-19T16:32:37Z","body":"It's nice to see that chacha8 is faster than steprng thanks to vectorization!\r\n\r\nThis looks like xoshiro128++ and xoshiro256++ are good choices for i686 and x86_64, respectively.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555591903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555595249","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555595249","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555595249,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU5NTI0OQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T16:39:56Z","updated_at":"2019-11-19T16:39:56Z","body":"> test gen_bytes_chacha8       ... bench:   2,129,900 ns/iter (+/- 105,724) = 480 MB/s\r\n\r\nNot on i686. I guess this has more to do with which CPU features can be assumed than the word size.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555595249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555599176","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555599176","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555599176,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU5OTE3Ng==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T16:48:38Z","updated_at":"2019-11-19T16:48:38Z","body":"Some results are improved a little when using `RUSTFLAGS=\"-C target-cpu=native\"`. Whether we should care about this is questionable. I posted some results using this (x86_64) [here](https://gist.github.com/dhardy/e8379a1d87221b0b7b03845e58afde2c).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555599176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555601166","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555601166","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555601166,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTYwMTE2Ng==","user":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T16:52:40Z","updated_at":"2019-11-19T16:52:40Z","body":"> Not on i686. I guess this has more to do with which CPU features can be assumed than the word size.\r\n\r\nYes, this is expected, because `x86_64` implies SSE2, but `i686` doesn't.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555601166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vks","id":33460,"node_id":"MDQ6VXNlcjMzNDYw","avatar_url":"https://avatars.githubusercontent.com/u/33460?v=4","gravatar_id":"","url":"https://api.github.com/users/vks","html_url":"https://github.com/vks","followers_url":"https://api.github.com/users/vks/followers","following_url":"https://api.github.com/users/vks/following{/other_user}","gists_url":"https://api.github.com/users/vks/gists{/gist_id}","starred_url":"https://api.github.com/users/vks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vks/subscriptions","organizations_url":"https://api.github.com/users/vks/orgs","repos_url":"https://api.github.com/users/vks/repos","events_url":"https://api.github.com/users/vks/events{/privacy}","received_events_url":"https://api.github.com/users/vks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555615643","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555615643","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555615643,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTYxNTY0Mw==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T17:23:45Z","updated_at":"2019-11-19T17:23:45Z","body":"Are you keeping the compiler from unrolling loops? My experience, in particular with clang, is that the compiler will unroll different code a different number of times, strongly biasing the results. That might not be the case here, but it doesn't hurt.\r\n\r\nThe other parameter that might influence heavily the result is whether you let the compiler extract loop invariants. In that case, anything using large constants might appear much faster than in reality, because due to the small loop size all constants are loaded into registers before entering the loop. When you're mixing generation with other activities this might or might not happen (but this depends a lot on the CPU architecture).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555615643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555954163","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555954163","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555954163,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTk1NDE2Mw==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T11:02:30Z","updated_at":"2019-11-20T11:07:21Z","body":"Most of the results (the MB/s value) are robust against doubling each of `RAND_BENCH_N` (from 1000 to 2000) and `BYTES_LEN` (from 1024 to 2048), testing `gen_bytes_*` benches from the `rngs` repo and `gen_u*` from the `rand` repo. There are a few differences, e.g. SplitMix is approx 8% slower when the byte output length is doubled, and the 128-bit PCG generators appear about 4% faster when the number of loop iterations is doubled. Most benchmarks are basically unaffected.\r\n\r\nThis doesn't rule out loop unrolling, but I would expect to see some larger changes if it were a significant factor.\r\n\r\n> When you're mixing generation with other activities this might or might not happen\r\n\r\nI don't really know what we *can* do about this, except to recommend that users benchmark their particular applications (which we already do). `SmallRng` is supposed to be a \"reasonable default choice\", not necessarily the best.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555954163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555992191","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-555992191","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":555992191,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTk5MjE5MQ==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T12:56:40Z","updated_at":"2019-11-20T12:56:40Z","body":"I didn't say you had to do anythingthat was just a general comment. My benchmarks use 10^10 iterations.\r\n\r\nIn C, -march=native can have disruptive effectsfor example, on my benchmark hardware SplitMix gets unrolled/vectorized by GCC and takes 0.50ns/word.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/555992191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/563369569","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-563369569","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":563369569,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MzM2OTU2OQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-09T18:29:56Z","updated_at":"2019-12-09T18:29:56Z","body":"Based on re-reading [this](https://github.com/MartyMacGyver/PractRand/blob/master/doc/RNG_engines.txt) and [this](https://github.com/dhardy/rand/issues/60), sfc64 and sfc32 also appear good candidates.\r\n\r\nI have updated @pitdicker's `small-rngs` repo [here](https://github.com/dhardy/small-rngs-1) and run some benchmarks; they perform well here:\r\n```\r\ntest gen_u32_ci                   ... bench:       5,662 ns/iter (+/- 308) = 706 MB/s\r\ntest gen_u32_gj                   ... bench:       2,701 ns/iter (+/- 105) = 1480 MB/s\r\ntest gen_u32_jsf32                ... bench:         963 ns/iter (+/- 28) = 4153 MB/s\r\ntest gen_u32_jsf64                ... bench:       1,048 ns/iter (+/- 134) = 3816 MB/s\r\ntest gen_u32_kiss32               ... bench:       3,572 ns/iter (+/- 700) = 1119 MB/s\r\ntest gen_u32_kiss64               ... bench:       2,997 ns/iter (+/- 117) = 1334 MB/s\r\ntest gen_u32_msws                 ... bench:       1,119 ns/iter (+/- 28) = 3574 MB/s\r\ntest gen_u32_mwp                  ... bench:         938 ns/iter (+/- 31) = 4264 MB/s\r\ntest gen_u32_pcg_xsh_64_lcg       ... bench:       1,162 ns/iter (+/- 76) = 3442 MB/s\r\ntest gen_u32_pcg_xsl_128_mcg      ... bench:       1,202 ns/iter (+/- 54) = 3327 MB/s\r\ntest gen_u32_pcg_xsl_64_lcg       ... bench:       1,123 ns/iter (+/- 48) = 3561 MB/s\r\ntest gen_u32_sapparoth_32         ... bench:       1,355 ns/iter (+/- 53) = 2952 MB/s\r\ntest gen_u32_sapparoth_64         ... bench:       1,339 ns/iter (+/- 93) = 2987 MB/s\r\ntest gen_u32_sfc_32               ... bench:       1,203 ns/iter (+/- 66) = 3325 MB/s\r\ntest gen_u32_sfc_64               ... bench:       1,210 ns/iter (+/- 20) = 3305 MB/s\r\ntest gen_u32_velox                ... bench:       2,117 ns/iter (+/- 113) = 1889 MB/s\r\ntest gen_u32_xoroshiro_128_plus   ... bench:       1,284 ns/iter (+/- 63) = 3115 MB/s\r\ntest gen_u32_xoroshiro_64_plus    ... bench:       1,336 ns/iter (+/- 58) = 2994 MB/s\r\ntest gen_u32_xoroshiro_mt_32of128 ... bench:       1,376 ns/iter (+/- 79) = 2906 MB/s\r\ntest gen_u32_xoroshiro_mt_64of128 ... bench:       1,413 ns/iter (+/- 57) = 2830 MB/s\r\ntest gen_u32_xorshift_128_32      ... bench:         808 ns/iter (+/- 32) = 4950 MB/s\r\ntest gen_u32_xorshift_128_64      ... bench:       1,053 ns/iter (+/- 70) = 3798 MB/s\r\ntest gen_u32_xorshift_128_plus    ... bench:       1,180 ns/iter (+/- 132) = 3389 MB/s\r\ntest gen_u32_xorshift_mt_32       ... bench:       1,202 ns/iter (+/- 50) = 3327 MB/s\r\ntest gen_u32_xorshift_mt_64       ... bench:       1,262 ns/iter (+/- 37) = 3169 MB/s\r\ntest gen_u32_xsm32                ... bench:       2,654 ns/iter (+/- 355) = 1507 MB/s\r\ntest gen_u32_xsm64                ... bench:       1,185 ns/iter (+/- 26) = 3375 MB/s\r\ntest gen_u64_ci                   ... bench:      10,732 ns/iter (+/- 1,305) = 745 MB/s\r\ntest gen_u64_gj                   ... bench:       2,943 ns/iter (+/- 327) = 2718 MB/s\r\ntest gen_u64_jsf32                ... bench:       2,121 ns/iter (+/- 219) = 3771 MB/s\r\ntest gen_u64_jsf64                ... bench:       1,038 ns/iter (+/- 103) = 7707 MB/s\r\ntest gen_u64_kiss32               ... bench:       5,281 ns/iter (+/- 110) = 1514 MB/s\r\ntest gen_u64_kiss64               ... bench:       3,022 ns/iter (+/- 202) = 2647 MB/s\r\ntest gen_u64_msws                 ... bench:       1,154 ns/iter (+/- 25) = 6932 MB/s\r\ntest gen_u64_mwp                  ... bench:       1,219 ns/iter (+/- 108) = 6562 MB/s\r\ntest gen_u64_pcg_xsh_64_lcg       ... bench:       2,318 ns/iter (+/- 164) = 3451 MB/s\r\ntest gen_u64_pcg_xsl_128_mcg      ... bench:       1,206 ns/iter (+/- 136) = 6633 MB/s\r\ntest gen_u64_pcg_xsl_64_lcg       ... bench:       2,322 ns/iter (+/- 186) = 3445 MB/s\r\ntest gen_u64_sapparoth_32         ... bench:       2,734 ns/iter (+/- 263) = 2926 MB/s\r\ntest gen_u64_sapparoth_64         ... bench:       1,336 ns/iter (+/- 103) = 5988 MB/s\r\ntest gen_u64_sfc_32               ... bench:       2,829 ns/iter (+/- 152) = 2827 MB/s\r\ntest gen_u64_sfc_64               ... bench:       1,078 ns/iter (+/- 62) = 7421 MB/s\r\ntest gen_u64_velox                ... bench:       3,995 ns/iter (+/- 219) = 2002 MB/s\r\ntest gen_u64_xoroshiro_128_plus   ... bench:       1,346 ns/iter (+/- 111) = 5943 MB/s\r\ntest gen_u64_xoroshiro_64_plus    ... bench:       2,609 ns/iter (+/- 193) = 3066 MB/s\r\ntest gen_u64_xoroshiro_mt_32of128 ... bench:       2,873 ns/iter (+/- 202) = 2784 MB/s\r\ntest gen_u64_xoroshiro_mt_64of128 ... bench:       1,510 ns/iter (+/- 109) = 5298 MB/s\r\ntest gen_u64_xorshift_128_32      ... bench:       2,902 ns/iter (+/- 195) = 2756 MB/s\r\ntest gen_u64_xorshift_128_64      ... bench:       1,048 ns/iter (+/- 84) = 7633 MB/s\r\ntest gen_u64_xorshift_128_plus    ... bench:       1,003 ns/iter (+/- 55) = 7976 MB/s\r\ntest gen_u64_xorshift_mt_32       ... bench:       2,647 ns/iter (+/- 162) = 3022 MB/s\r\ntest gen_u64_xorshift_mt_64       ... bench:       1,349 ns/iter (+/- 126) = 5930 MB/s\r\ntest gen_u64_xsm32                ... bench:       3,534 ns/iter (+/- 302) = 2263 MB/s\r\ntest gen_u64_xsm64                ... bench:       1,158 ns/iter (+/- 70) = 6908 MB/s\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/563369569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2867404848,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg2NzQwNDg0OA==","url":"https://api.github.com/repos/rust-random/rand/issues/events/2867404848","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-09T18:29:56Z","performed_via_github_app":null},{"id":2867404852,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4Njc0MDQ4NTI=","url":"https://api.github.com/repos/rust-random/rand/issues/events/2867404852","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-09T18:29:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/563370660","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-563370660","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":563370660,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MzM3MDY2MA==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-09T18:32:36Z","updated_at":"2019-12-09T18:32:36Z","body":"Simulated i686 benchmarks imply we should prefer SFC32 over SFC64 for 32-bit platforms:\r\n```\r\ntest gen_u32_sfc_32               ... bench:       2,495 ns/iter (+/- 193) = 1603 MB/s\r\ntest gen_u32_sfc_64               ... bench:       4,046 ns/iter (+/- 172) = 988 MB/s\r\ntest gen_u64_sfc_32               ... bench:       3,731 ns/iter (+/- 192) = 2144 MB/s\r\ntest gen_u64_sfc_64               ... bench:       3,839 ns/iter (+/- 398) = 2083 MB/s\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/563370660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569639482","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569639482","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569639482,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTYzOTQ4Mg==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T10:34:18Z","updated_at":"2019-12-30T10:34:18Z","body":"@vigna can you please comment on the [repeats that O'Neill found in Xoshiro](http://www.pcg-random.org/posts/xoshiro-repeat-flaws.html)? I realise that there is a certain amount of hyperbole involved since this apparently affects only (approx) 2^64 of the 2^256 outputs of Xoshiro256. I understand that David Blackman did some further analysis?\r\n\r\nThe [SFC generator](http://pracrand.sourceforge.net/RNG_engines.txt) by Doty-Humphrey also appears interesting but appears to lack third-party review  a recurring problem in the space of fast non-crypto PRNGs!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569639482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2913653849,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxMzY1Mzg0OQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/2913653849","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-30T10:34:18Z","performed_via_github_app":null},{"id":2913653851,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTM2NTM4NTE=","url":"https://api.github.com/repos/rust-random/rand/issues/events/2913653851","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-30T10:34:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569645253","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569645253","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569645253,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTY0NTI1Mw==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T10:56:31Z","updated_at":"2019-12-30T10:56:31Z","body":"I guess the alternative is that we just retire `SmallRng` in Rand 0.8. It already requires explicit activation via a feature flag. Since `StdRng` (ChaCha20) is already fast/small enough for many uses and `SmallRng` does not provide stability, it is not appropriate for usage in that many cases anyway (it might be useful for some forms of testing, but e.g. is not used by `quickcheck`).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569645253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569735063","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569735063","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569735063,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTczNTA2Mw==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T17:03:04Z","updated_at":"2019-12-30T17:27:14Z","body":"SFC is very fast and, empirically, very good (it might be different in applications because writing four words of state it takes timexoshiro256 has the same problem). I don't think anybody tried seriously to find flaws in it, tho.\r\n\r\nI have made a point of not considering in my work generators for which you cannot prove that the period is close to the size of the state space (the \"bang for the buck\" criterion), and SFC has a guaranteed period of at least 2^64 against 2^256 points of the state space. This is also a problem if you wanna do random seeding for multiple streams, because the assumption of random seeding is that it is like jumping at random in an orbit, and you estimate overlap based on the size of the orbit. The size is not known for SFCwe have just a lower bound that is too small for any practical random-seeding practice. One can, of course, engage in imaginative, non-mathematical considerations about that size, but I was trained otherwise, so not my cup of tea.\r\n\r\nThe occurrence of a too-frequent pattern every 2^192 elements: yes, it is true. Basically every PRNG with structure, if you work it enough, will show you something like that. Harase, for example, shows that if you pick the output of the Mersenne Twister with certain specific lags (like, take one output, skip 15, take one, skip 37, etc.) periodically, the result fails the Birthday Spacings test (!). So subsequences of the Mersenne Twister are not random. Analogously, Matsumoto shows that if you take triples of output from xorshift128+, multiply them by 2^22 and use the result to generate points in the unit cube the points you obtain are not very random (multiplying by 2^22 moves to the most significant bits at the top, and so it \"magnifies\" carefully a slight bias in the middle bits that affects triples of consecutive outputs and that would be very difficult to detect directly).\r\n\r\nAll these results (there are many moreI just wanted to share some examples) are very common: if your generator has structure and you bang the structure enough, you'll find something.  I consider more relevant, for example, the fact that linear generators map states with few ones in states with few ones (the \"escape from zeroland\" problem), and my solution is to make good generators with a small state space (the Mersenne Twister needs millions of iterations to get back to normality starting from a state with all bits zero except one).\r\n\r\nThe point is that there is statistically no way your computation can be influenced by a slight bias in probability happening after 2^192 values. If you believe that, all generators with less than 192 bits of state would be problematic, because if you use 2^192 values out of them you'll repeat the period several times, and every imaginable statistical feature you expect from a random stream will be wrong.\r\n\r\nIt is a very different situation when structure kills the alleged properties of the generator. For example, all sequences produced by an LCG with power-of-two modulus (and multiplier with maximum potency, as usually happens) with varying constant are the same, modulo a sign change and an additive constant (in a couple of days there will be an arXiv paper explaining this in detail). It took some time to realize thisthere are papers in the late '80s suggesting to use different constants to get different, independent streams. People even proved complex properties of these \"independent streams\", properties that were _hinting_, but not _proving_ independence. Then Durst showed that all such sequences are basically the same, and everything fell like a house of cards.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569735063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569751650","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569751650","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569751650,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTc1MTY1MA==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T18:08:57Z","updated_at":"2019-12-30T18:10:21Z","body":"> This is also a problem if you wanna do random seeding for multiple streams, because the assumption of random seeding is that it is like jumping at random in an orbit, and you estimate overlap based on the size of the orbit.\r\n\r\nAssuming all orbits have size 2^64 within a 256-bit state, the chance of two random seeds having the same orbit is 2^-192. Of course this is not the case since orbits may be (and usually are) larger, but if you consider the RNG as having 2^192 slices of size 2^64 (each of which may jump to any slice at its end), the chance of two random seeds being within 2^64 of each other is still 2^-191, right? Thus I fail to see how the size of the slice is important to this argument. (Assuming that the state mapping function is bijective  perhaps this is an assumption too far?)\r\n\r\n> (the \"escape from zeroland\" problem)\r\n\r\nYes, I read your recent paper attacking the Mersenne Twister. Lets hope it helps do what many past papers have not: convince an audience who are not expert in this subject that they should consider alternatives to MT19937. I would like to link it from our book.\r\n\r\n> The point is that there is statistically no way your computation can be influenced by a slight bias in probability happening after 2^192 values.\r\n\r\nPerhaps its more that 5-in-7 repeats are a *very obvious problem*, no matter which scrambler/distribution you apply to the results. Also, 2^64 such patterns makes this more prevalent than zero-land issues, right? (There are *far* less than 2^64 ways to choose 6 bits from 256.)\r\n\r\n> all sequences produced by an LCG with power-of-two modulus (and multiplier with maximum potency, as usually happens) with varying constant are the same\r\n\r\nI look forward to the read!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569751650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569757148","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569757148","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569757148,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTc1NzE0OA==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T18:29:36Z","updated_at":"2019-12-30T18:29:36Z","body":"Usually you assume P processors using L outputs and you want to compute the probability of overlap. I don't know if the next-state function of SFC is bijective, but let's assume it. But yes, either the orbits are very long and then there will be collision on the orbits, but not on the sequence, or they are short and then there could be an overlap on the sequence, but since everyone is in a different orbit everything is fine. I have no idea if this is more \"efficient\" than a single orbitone would need to compute the probability of overlap in both cases.\r\n\r\nBut you're right, my considerations about random seeding were mostly FUD (given that the next-state function is bijective).\r\n\r\nNote that \"Escape from Zeroland\" is not my inventionit is a term used in the paper about WELL.\r\n\r\nFor what matters the \"no matter which scrambler\": no, if you use a scrambler like ++ that combines several parts of the state the observation about 5-in-7 is no longer valid: there might be this bias in one of the combined words, but it will be hidden by the others. ** is different because it remaps bijectively a single word of state, and that word is specifically that with the reported bias (in fact, we could probably change the word we use if this makes someone happier).\r\n\r\nFor the zeroland part, no, it's not less frequentit is just a matter of how close you wanna look. Since there are 256 bits of state, you can consider the > 2^64 states containing at most 11 ones. You will _definitely_ see a bias in terms of number of ones in the next state (which will be partially hidden by the scrambler, but it's there).\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569757148/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569898525","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-569898525","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":569898525,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTg5ODUyNQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-31T09:43:58Z","updated_at":"2019-12-31T09:43:58Z","body":"> I don't know if the next-state function of SFC is bijective\r\n\r\nHere's the [SFC-64 transition function](https://github.com/dhardy/small-rngs-1/blob/master/src/sfc.rs#L156). I think `x ^ (x >> 11)` and `x + (x << 3)` are both bijective? If so, then the transition is bijective. (Though there's a small bug in this implementation: Rust traps on overflow unless explicitly using wrapping arithmetic, so that `counter` will eventually cause a panic.)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/569898525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/576263948","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-576263948","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":576263948,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjI2Mzk0OA==","user":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T13:00:30Z","updated_at":"2020-01-20T13:00:30Z","body":"BTW, if you're interested our paper is out: https://arxiv.org/abs/2001.05304","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/576263948/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vigna","id":1464942,"node_id":"MDQ6VXNlcjE0NjQ5NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1464942?v=4","gravatar_id":"","url":"https://api.github.com/users/vigna","html_url":"https://github.com/vigna","followers_url":"https://api.github.com/users/vigna/followers","following_url":"https://api.github.com/users/vigna/following{/other_user}","gists_url":"https://api.github.com/users/vigna/gists{/gist_id}","starred_url":"https://api.github.com/users/vigna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vigna/subscriptions","organizations_url":"https://api.github.com/users/vigna/orgs","repos_url":"https://api.github.com/users/vigna/repos","events_url":"https://api.github.com/users/vigna/events{/privacy}","received_events_url":"https://api.github.com/users/vigna/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/578398402","html_url":"https://github.com/rust-random/rand/issues/910#issuecomment-578398402","issue_url":"https://api.github.com/repos/rust-random/rand/issues/910","id":578398402,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODM5ODQwMg==","user":{"login":"peteroupc","id":2554980,"node_id":"MDQ6VXNlcjI1NTQ5ODA=","avatar_url":"https://avatars.githubusercontent.com/u/2554980?v=4","gravatar_id":"","url":"https://api.github.com/users/peteroupc","html_url":"https://github.com/peteroupc","followers_url":"https://api.github.com/users/peteroupc/followers","following_url":"https://api.github.com/users/peteroupc/following{/other_user}","gists_url":"https://api.github.com/users/peteroupc/gists{/gist_id}","starred_url":"https://api.github.com/users/peteroupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peteroupc/subscriptions","organizations_url":"https://api.github.com/users/peteroupc/orgs","repos_url":"https://api.github.com/users/peteroupc/repos","events_url":"https://api.github.com/users/peteroupc/events{/privacy}","received_events_url":"https://api.github.com/users/peteroupc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-25T11:26:27Z","updated_at":"2020-03-02T08:26:28Z","body":"For your information I have written a short document on [testing PRNGs for high-quality randomness](https://github.com/peteroupc/peteroupc.github.io/blob/master/randomtest.md).  There is more to testing PRNGs than testing a single random number sequence.  For instance:\r\n\r\n- Testing two \"nearby sequences\" of the same PRNG can reveal correlations between them.  For example, PCG can produce correlated sequences from two internal states that differ only in their high bits.  However, this might depend on how these nearby sequences are formed.  For instance, testing could reveal that one PRNG and the same PRNG formed by efficiently discarding `period / golden-ratio` worth of outputs have practically uncorrelated nearby sequences.  These tests can reveal the best way to initialize \"nearby sequences\" of a given PRNG to reduce correlation risks.\r\n- Hash functions have their own suggestion for a random number sequence to test, especially since they can form the basis of counter-based PRNGs.\r\n- Splittable PRNGs have four suggested random number sequences, taken from Schaathun's work from 2015.\r\n- Sometimes a PRNG can gain useful properties when combined with another.  For example, an XOR combination of a full-period LCG and a nonlinear PRNG (such as JSF) will be a PRNG with a guaranteed minimum cycle length, namely that of the LCG.\r\n\r\nHowever, if we limit the scope to PRNGs with 128 or maybe 256 bits of state, maybe a PractRand threshold of 1 TiB, as I suggest in that document, is too much for `SmallRNG`'s purposes.  Note also that hash functions are essentially stateless.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/578398402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"peteroupc","id":2554980,"node_id":"MDQ6VXNlcjI1NTQ5ODA=","avatar_url":"https://avatars.githubusercontent.com/u/2554980?v=4","gravatar_id":"","url":"https://api.github.com/users/peteroupc","html_url":"https://github.com/peteroupc","followers_url":"https://api.github.com/users/peteroupc/followers","following_url":"https://api.github.com/users/peteroupc/following{/other_user}","gists_url":"https://api.github.com/users/peteroupc/gists{/gist_id}","starred_url":"https://api.github.com/users/peteroupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peteroupc/subscriptions","organizations_url":"https://api.github.com/users/peteroupc/orgs","repos_url":"https://api.github.com/users/peteroupc/repos","events_url":"https://api.github.com/users/peteroupc/events{/privacy}","received_events_url":"https://api.github.com/users/peteroupc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-01T09:50:37Z","updated_at":"2020-03-01T09:50:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-random/rand/issues/941","repository_url":"https://api.github.com/repos/rust-random/rand","labels_url":"https://api.github.com/repos/rust-random/rand/issues/941/labels{/name}","comments_url":"https://api.github.com/repos/rust-random/rand/issues/941/comments","events_url":"https://api.github.com/repos/rust-random/rand/issues/941/events","html_url":"https://github.com/rust-random/rand/issues/941","id":573291856,"node_id":"MDU6SXNzdWU1NzMyOTE4NTY=","number":941,"title":"Implement Romu RNG","user":{"login":"utterstep","id":829944,"node_id":"MDQ6VXNlcjgyOTk0NA==","avatar_url":"https://avatars.githubusercontent.com/u/829944?v=4","gravatar_id":"","url":"https://api.github.com/users/utterstep","html_url":"https://github.com/utterstep","followers_url":"https://api.github.com/users/utterstep/followers","following_url":"https://api.github.com/users/utterstep/following{/other_user}","gists_url":"https://api.github.com/users/utterstep/gists{/gist_id}","starred_url":"https://api.github.com/users/utterstep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/utterstep/subscriptions","organizations_url":"https://api.github.com/users/utterstep/orgs","repos_url":"https://api.github.com/users/utterstep/repos","events_url":"https://api.github.com/users/utterstep/events{/privacy}","received_events_url":"https://api.github.com/users/utterstep/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-02-29T13:11:12Z","updated_at":"2020-03-09T12:44:40Z","closed_at":"2020-03-09T12:44:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":30227790,"node_id":"MDEwOlJlcG9zaXRvcnkzMDIyNzc5MA==","name":"rand","full_name":"rust-random/rand","private":false,"owner":{"login":"rust-random","id":42028081,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyMDI4MDgx","avatar_url":"https://avatars.githubusercontent.com/u/42028081?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-random","html_url":"https://github.com/rust-random","followers_url":"https://api.github.com/users/rust-random/followers","following_url":"https://api.github.com/users/rust-random/following{/other_user}","gists_url":"https://api.github.com/users/rust-random/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-random/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-random/subscriptions","organizations_url":"https://api.github.com/users/rust-random/orgs","repos_url":"https://api.github.com/users/rust-random/repos","events_url":"https://api.github.com/users/rust-random/events{/privacy}","received_events_url":"https://api.github.com/users/rust-random/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-random/rand","description":"A Rust library for random number generation.","fork":false,"url":"https://api.github.com/repos/rust-random/rand","forks_url":"https://api.github.com/repos/rust-random/rand/forks","keys_url":"https://api.github.com/repos/rust-random/rand/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-random/rand/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-random/rand/teams","hooks_url":"https://api.github.com/repos/rust-random/rand/hooks","issue_events_url":"https://api.github.com/repos/rust-random/rand/issues/events{/number}","events_url":"https://api.github.com/repos/rust-random/rand/events","assignees_url":"https://api.github.com/repos/rust-random/rand/assignees{/user}","branches_url":"https://api.github.com/repos/rust-random/rand/branches{/branch}","tags_url":"https://api.github.com/repos/rust-random/rand/tags","blobs_url":"https://api.github.com/repos/rust-random/rand/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-random/rand/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-random/rand/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-random/rand/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-random/rand/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-random/rand/languages","stargazers_url":"https://api.github.com/repos/rust-random/rand/stargazers","contributors_url":"https://api.github.com/repos/rust-random/rand/contributors","subscribers_url":"https://api.github.com/repos/rust-random/rand/subscribers","subscription_url":"https://api.github.com/repos/rust-random/rand/subscription","commits_url":"https://api.github.com/repos/rust-random/rand/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-random/rand/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-random/rand/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-random/rand/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-random/rand/contents/{+path}","compare_url":"https://api.github.com/repos/rust-random/rand/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-random/rand/merges","archive_url":"https://api.github.com/repos/rust-random/rand/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-random/rand/downloads","issues_url":"https://api.github.com/repos/rust-random/rand/issues{/number}","pulls_url":"https://api.github.com/repos/rust-random/rand/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-random/rand/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-random/rand/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-random/rand/labels{/name}","releases_url":"https://api.github.com/repos/rust-random/rand/releases{/id}","deployments_url":"https://api.github.com/repos/rust-random/rand/deployments","created_at":"2015-02-03T05:59:32Z","updated_at":"2025-11-08T09:24:07Z","pushed_at":"2025-11-08T09:24:45Z","git_url":"git://github.com/rust-random/rand.git","ssh_url":"git@github.com:rust-random/rand.git","clone_url":"https://github.com/rust-random/rand.git","svn_url":"https://github.com/rust-random/rand","homepage":"https://crates.io/crates/rand","size":5223,"stargazers_count":1934,"watchers_count":1934,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":480,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":18,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":480,"open_issues":18,"watchers":1934,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Background\r\n\r\nThere is a new family of PRNGs, claiming to be equal to PCG in terms of quality (randomness), but faster in execution.\r\nInfo, including [C source code](http://www.romu-random.org/code.c) and [paper](http://www.romu-random.org/romupaper.pdf) about it: http://www.romu-random.org/\r\n\r\n## Feature request\r\n\r\nMaybe it's reasonable to consider implementing Romu PRNG, as an alternative to PCG, [used currently](https://docs.rs/rand/0.7.3/rand/rngs/struct.SmallRng.html) in SmallRng?\r\n\r\nIf that is the case  I can try doing it myself, however I'll need some guidance on at least \"where exactly this alternative should be inside `rand` crate\"-topic :)\r\n","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/941/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/rust-random/rand/issues/941/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]