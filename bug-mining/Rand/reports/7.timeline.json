[{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337751540","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337751540","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337751540,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzc1MTU0MA==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T22:57:35Z","updated_at":"2017-10-18T22:57:35Z","body":"We already have a rough suggestion to use the system clock as a fallback (see end of [this comment](https://github.com/rust-lang/rfcs/pull/2152#issuecomment-332524880)).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337751540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337759725","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337759725","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337759725,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzc1OTcyNQ==","user":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T23:49:25Z","updated_at":"2017-10-18T23:49:25Z","body":"Some backstory: in [Firefox bug 1409444](https://bugzilla.mozilla.org/show_bug.cgi?id=1409444), we are hitting weak_rng panics because OsRng fails for a few hundred Windows 7 users. This problem seems to be related to \"corrupted DLLs\" or anti-virus software.\r\n\r\nweak_rng should probably fall back to a weak seed on all platforms, not just Windows [7]. We've hit other OS RNG problems (not Rust or weak_rng specific) such as Firefox for Android failing to open(\"/dev/urandom\") because the OS temporarily ran out of fds on some CI test machines ([Firefox bug 1409444](https://bugzilla.mozilla.org/show_bug.cgi?id=1409444)).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337759725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337760285","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337760285","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337760285,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzc2MDI4NQ==","user":{"login":"sfackler","id":1455697,"node_id":"MDQ6VXNlcjE0NTU2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1455697?v=4","gravatar_id":"","url":"https://api.github.com/users/sfackler","html_url":"https://github.com/sfackler","followers_url":"https://api.github.com/users/sfackler/followers","following_url":"https://api.github.com/users/sfackler/following{/other_user}","gists_url":"https://api.github.com/users/sfackler/gists{/gist_id}","starred_url":"https://api.github.com/users/sfackler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfackler/subscriptions","organizations_url":"https://api.github.com/users/sfackler/orgs","repos_url":"https://api.github.com/users/sfackler/repos","events_url":"https://api.github.com/users/sfackler/events{/privacy}","received_events_url":"https://api.github.com/users/sfackler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T23:52:59Z","updated_at":"2017-10-18T23:52:59Z","body":"At that point, should we just move entirely off of OsRng and on to the system clock or whatever?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337760285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sfackler","id":1455697,"node_id":"MDQ6VXNlcjE0NTU2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1455697?v=4","gravatar_id":"","url":"https://api.github.com/users/sfackler","html_url":"https://github.com/sfackler","followers_url":"https://api.github.com/users/sfackler/followers","following_url":"https://api.github.com/users/sfackler/following{/other_user}","gists_url":"https://api.github.com/users/sfackler/gists{/gist_id}","starred_url":"https://api.github.com/users/sfackler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfackler/subscriptions","organizations_url":"https://api.github.com/users/sfackler/orgs","repos_url":"https://api.github.com/users/sfackler/repos","events_url":"https://api.github.com/users/sfackler/events{/privacy}","received_events_url":"https://api.github.com/users/sfackler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337834681","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337834681","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337834681,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzgzNDY4MQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T08:19:44Z","updated_at":"2017-10-19T08:19:44Z","body":"No, it's worth using `OsRng` where available (unless you really don't care about random number quality).\r\n\r\nBut what's Firefox using random numbers for — presumably cryptography? In this case using a low-entropy source like the system clock is really not ideal.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337834681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337975007","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337975007","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337975007,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk3NTAwNw==","user":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T17:12:00Z","updated_at":"2017-10-19T17:12:00Z","body":"At this time, Firefox just uses `weak_rng` in the rayon and parking_lot schedulers (and in some Rust test code).\r\n\r\nAlso, @Manishearth changed Firefox's HashMap seed to use an RNG other than `OsRng` because we were hitting these same Windows panics.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337975007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1301532940,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTMwMTUzMjk0MA==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1301532940","actor":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-10-19T17:12:00Z","performed_via_github_app":null},{"id":1301532941,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEzMDE1MzI5NDE=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1301532941","actor":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-10-19T17:12:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337983986","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-337983986","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":337983986,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk4Mzk4Ng==","user":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T17:45:09Z","updated_at":"2017-10-19T17:45:09Z","body":"To be clear, I changed the hashmaps used by Stylo to _not_ use an RNG/cryptographically secure hasher and instead use FNV hash since hashmap DOS is not a problem for browsers.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/337983986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"nagisa","id":679122,"node_id":"MDQ6VXNlcjY3OTEyMg==","avatar_url":"https://avatars.githubusercontent.com/u/679122?v=4","gravatar_id":"","url":"https://api.github.com/users/nagisa","html_url":"https://github.com/nagisa","followers_url":"https://api.github.com/users/nagisa/followers","following_url":"https://api.github.com/users/nagisa/following{/other_user}","gists_url":"https://api.github.com/users/nagisa/gists{/gist_id}","starred_url":"https://api.github.com/users/nagisa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nagisa/subscriptions","organizations_url":"https://api.github.com/users/nagisa/orgs","repos_url":"https://api.github.com/users/nagisa/repos","events_url":"https://api.github.com/users/nagisa/events{/privacy}","received_events_url":"https://api.github.com/users/nagisa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T17:54:03Z","updated_at":"2017-10-19T17:54:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152","repository_url":"https://api.github.com/repos/rust-lang/rfcs","labels_url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152/comments","events_url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152/events","html_url":"https://github.com/rust-lang/rfcs/pull/2152","id":257955055,"node_id":"MDExOlB1bGxSZXF1ZXN0MTQxMjQ4NTIx","number":2152,"title":"RFC: new `rand-core` crate, `rand` adaptations","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":211667901,"node_id":"MDU6TGFiZWwyMTE2Njc5MDE=","url":"https://api.github.com/repos/rust-lang/rfcs/labels/T-libs-api","name":"T-libs-api","color":"bfd4f2","default":false,"description":"Relevant to the library API team, which will review and decide on the RFC."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":107,"created_at":"2017-09-15T07:49:09Z","updated_at":"2018-02-01T21:28:17Z","closed_at":"2018-02-01T21:28:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":17527989,"node_id":"MDEwOlJlcG9zaXRvcnkxNzUyNzk4OQ==","name":"rfcs","full_name":"rust-lang/rfcs","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/rfcs","description":"RFCs for changes to Rust","fork":false,"url":"https://api.github.com/repos/rust-lang/rfcs","forks_url":"https://api.github.com/repos/rust-lang/rfcs/forks","keys_url":"https://api.github.com/repos/rust-lang/rfcs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/rfcs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/rfcs/teams","hooks_url":"https://api.github.com/repos/rust-lang/rfcs/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/rfcs/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/rfcs/events","assignees_url":"https://api.github.com/repos/rust-lang/rfcs/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/rfcs/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/rfcs/tags","blobs_url":"https://api.github.com/repos/rust-lang/rfcs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/rfcs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/rfcs/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/rfcs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/rfcs/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/rfcs/languages","stargazers_url":"https://api.github.com/repos/rust-lang/rfcs/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/rfcs/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/rfcs/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/rfcs/subscription","commits_url":"https://api.github.com/repos/rust-lang/rfcs/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/rfcs/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/rfcs/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/rfcs/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/rfcs/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/rfcs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/rfcs/merges","archive_url":"https://api.github.com/repos/rust-lang/rfcs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/rfcs/downloads","issues_url":"https://api.github.com/repos/rust-lang/rfcs/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/rfcs/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/rfcs/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/rfcs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/rfcs/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/rfcs/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/rfcs/deployments","created_at":"2014-03-07T21:29:00Z","updated_at":"2025-11-10T08:22:31Z","pushed_at":"2025-11-08T11:03:57Z","git_url":"git://github.com/rust-lang/rfcs.git","ssh_url":"git@github.com:rust-lang/rfcs.git","clone_url":"https://github.com/rust-lang/rfcs.git","svn_url":"https://github.com/rust-lang/rfcs","homepage":"https://rust-lang.github.io/rfcs/","size":11309,"stargazers_count":6316,"watchers_count":6316,"language":"Markdown","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":1639,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":797,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["rfc","rfc-process","rust"],"visibility":"public","forks":1639,"open_issues":797,"watchers":6316,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rust-lang/rfcs/pulls/2152","html_url":"https://github.com/rust-lang/rfcs/pull/2152","diff_url":"https://github.com/rust-lang/rfcs/pull/2152.diff","patch_url":"https://github.com/rust-lang/rfcs/pull/2152.patch","merged_at":null},"body":"This RFC seeks to introduce a `rand_core` trait, and make a few changes to `rand` for compatibility.\r\n\r\n[Rendered link](https://github.com/dhardy/rfcs/blob/rand-core/text/0000-rand-core.md)\r\n\r\n[Parent RFC](https://github.com/rust-lang/rfcs/pull/2106) — for reference on the development of this RFC\r\n\r\nStill undecided in this RFC:\r\n\r\n- [x] Semantic meaning of `CryptoRng`\r\n- [ ] [`Error` type](https://github.com/dhardy/rand/issues/10)\r\n- [x] `SeedableRng` stream support\r\n- [x] Trait for seek support [can wait until later]\r\n- [x] Add `next_u128`?","reactions":{"url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":3,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/rfcs/issues/2152/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/338163201","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-338163201","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":338163201,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODE2MzIwMQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T10:01:00Z","updated_at":"2017-10-20T10:01:00Z","body":"Right, well this is definitely something we want to fix with the rand refactor, but I suspect any changes coming through that will take a while (waiting for at least two RFCs to get merged, first [2152](https://github.com/rust-lang/rfcs/pull/2152) which is still getting worked out, then `weak_rng`/ `thread_rng` changes).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/338163201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1304364783,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzMDQzNjQ3ODM=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1304364783","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"030c96129399332863db29d5a332125d6eda8d90","commit_url":"https://api.github.com/repos/cpeterso/rand/commits/030c96129399332863db29d5a332125d6eda8d90","created_at":"2017-10-22T01:28:22Z","performed_via_github_app":null},{"id":1307052154,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzMDcwNTIxNTQ=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1307052154","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b008e1de27587b96ba5748a80c0cc027b57d005e","commit_url":"https://api.github.com/repos/cpeterso/rand/commits/b008e1de27587b96ba5748a80c0cc027b57d005e","created_at":"2017-10-24T06:28:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/339085552","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-339085552","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":339085552,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTA4NTU1Mg==","user":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-24T18:24:17Z","updated_at":"2017-10-24T18:24:17Z","body":"https://treeherder.mozilla.org/logviewer.html#?job_id=139160909&repo=mozilla-inbound&lineNumber=6586","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/339085552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Manishearth","id":1617736,"node_id":"MDQ6VXNlcjE2MTc3MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1617736?v=4","gravatar_id":"","url":"https://api.github.com/users/Manishearth","html_url":"https://github.com/Manishearth","followers_url":"https://api.github.com/users/Manishearth/followers","following_url":"https://api.github.com/users/Manishearth/following{/other_user}","gists_url":"https://api.github.com/users/Manishearth/gists{/gist_id}","starred_url":"https://api.github.com/users/Manishearth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manishearth/subscriptions","organizations_url":"https://api.github.com/users/Manishearth/orgs","repos_url":"https://api.github.com/users/Manishearth/repos","events_url":"https://api.github.com/users/Manishearth/events{/privacy}","received_events_url":"https://api.github.com/users/Manishearth/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1309130268,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzMDkxMzAyNjg=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1309130268","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0812927faa5416d5d0814997e3461c54cf4d49f3","commit_url":"https://api.github.com/repos/cpeterso/rand/commits/0812927faa5416d5d0814997e3461c54cf4d49f3","created_at":"2017-10-25T05:30:54Z","performed_via_github_app":null},{"id":1309134904,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzMDkxMzQ5MDQ=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1309134904","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6d297d52284a429ad7318559823c23ef48d197e6","commit_url":"https://api.github.com/repos/cpeterso/rand/commits/6d297d52284a429ad7318559823c23ef48d197e6","created_at":"2017-10-25T05:37:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/339224285","html_url":"https://github.com/rust-random/rand/issues/180#issuecomment-339224285","issue_url":"https://api.github.com/repos/rust-random/rand/issues/180","id":339224285,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTIyNDI4NQ==","user":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-25T06:05:09Z","updated_at":"2017-10-25T06:05:09Z","body":"> Sandbox: Unexpected EOF, op 0 flags 02100000 path /dev/urandom\r\n> thread 'StyleThread#3' panicked at 'weak_rng: failed to create seeded RNG: Error { repr: Os { code: 5, message: \"Input/output error\" } }', /builds/worker/workspace/build/src/third_party/rust/rand/src/lib.rs:898:18\r\n\r\nManishearth is pointing to a Firefox test failure where weak_rng panicked because StdRng::new() failed to read /dev/urandom on Linux.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/339224285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-27T11:22:25Z","updated_at":"2017-10-27T11:22:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dhardy/rand/issues/22","repository_url":"https://api.github.com/repos/dhardy/rand","labels_url":"https://api.github.com/repos/dhardy/rand/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/dhardy/rand/issues/22/comments","events_url":"https://api.github.com/repos/dhardy/rand/issues/22/events","html_url":"https://github.com/dhardy/rand/issues/22","id":269073647,"node_id":"MDU6SXNzdWUyNjkwNzM2NDc=","number":22,"title":"Fallback source of entropy","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":657164807,"node_id":"MDU6TGFiZWw2NTcxNjQ4MDc=","url":"https://api.github.com/repos/dhardy/rand/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":657164808,"node_id":"MDU6TGFiZWw2NTcxNjQ4MDg=","url":"https://api.github.com/repos/dhardy/rand/labels/help%20wanted","name":"help wanted","color":"128A0C","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dhardy/rand/milestones/2","html_url":"https://github.com/dhardy/rand/milestone/2","labels_url":"https://api.github.com/repos/dhardy/rand/milestones/2/labels","id":2869515,"node_id":"MDk6TWlsZXN0b25lMjg2OTUxNQ==","number":2,"title":"Entropy and convenience generators","description":"Topics: entropy gathering (`OsRng` and clock-based generators) and convenient auto-seeded generators (`thread_rng`, `weak_rng`).","creator":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"open","created_at":"2017-10-27T11:52:31Z","updated_at":"2018-03-18T17:28:05Z","due_on":"2017-11-30T08:00:00Z","closed_at":null},"comments":10,"created_at":"2017-10-27T11:22:25Z","updated_at":"2018-03-18T17:28:05Z","closed_at":"2018-03-18T17:28:04Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":98670438,"node_id":"MDEwOlJlcG9zaXRvcnk5ODY3MDQzOA==","name":"rand","full_name":"dhardy/rand","private":false,"owner":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dhardy/rand","description":null,"fork":true,"url":"https://api.github.com/repos/dhardy/rand","forks_url":"https://api.github.com/repos/dhardy/rand/forks","keys_url":"https://api.github.com/repos/dhardy/rand/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dhardy/rand/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dhardy/rand/teams","hooks_url":"https://api.github.com/repos/dhardy/rand/hooks","issue_events_url":"https://api.github.com/repos/dhardy/rand/issues/events{/number}","events_url":"https://api.github.com/repos/dhardy/rand/events","assignees_url":"https://api.github.com/repos/dhardy/rand/assignees{/user}","branches_url":"https://api.github.com/repos/dhardy/rand/branches{/branch}","tags_url":"https://api.github.com/repos/dhardy/rand/tags","blobs_url":"https://api.github.com/repos/dhardy/rand/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dhardy/rand/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dhardy/rand/git/refs{/sha}","trees_url":"https://api.github.com/repos/dhardy/rand/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dhardy/rand/statuses/{sha}","languages_url":"https://api.github.com/repos/dhardy/rand/languages","stargazers_url":"https://api.github.com/repos/dhardy/rand/stargazers","contributors_url":"https://api.github.com/repos/dhardy/rand/contributors","subscribers_url":"https://api.github.com/repos/dhardy/rand/subscribers","subscription_url":"https://api.github.com/repos/dhardy/rand/subscription","commits_url":"https://api.github.com/repos/dhardy/rand/commits{/sha}","git_commits_url":"https://api.github.com/repos/dhardy/rand/git/commits{/sha}","comments_url":"https://api.github.com/repos/dhardy/rand/comments{/number}","issue_comment_url":"https://api.github.com/repos/dhardy/rand/issues/comments{/number}","contents_url":"https://api.github.com/repos/dhardy/rand/contents/{+path}","compare_url":"https://api.github.com/repos/dhardy/rand/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dhardy/rand/merges","archive_url":"https://api.github.com/repos/dhardy/rand/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dhardy/rand/downloads","issues_url":"https://api.github.com/repos/dhardy/rand/issues{/number}","pulls_url":"https://api.github.com/repos/dhardy/rand/pulls{/number}","milestones_url":"https://api.github.com/repos/dhardy/rand/milestones{/number}","notifications_url":"https://api.github.com/repos/dhardy/rand/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dhardy/rand/labels{/name}","releases_url":"https://api.github.com/repos/dhardy/rand/releases{/id}","deployments_url":"https://api.github.com/repos/dhardy/rand/deployments","created_at":"2017-07-28T17:04:25Z","updated_at":"2020-01-09T15:17:22Z","pushed_at":"2025-04-15T16:28:43Z","git_url":"git://github.com/dhardy/rand.git","ssh_url":"git@github.com:dhardy/rand.git","clone_url":"https://github.com/dhardy/rand.git","svn_url":"https://github.com/dhardy/rand","homepage":"http://doc.rust-lang.org/rand","size":97277,"stargazers_count":2,"watchers_count":2,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":4,"watchers":2,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This issue is a tracker for the topic *providing an alternative entropy source in case `OsRng` fails*.\r\n\r\nMotivation: https://github.com/rust-lang-nursery/rand/issues/180\r\n\r\nExisting work: https://github.com/dhardy/rand/pull/21, https://github.com/rust-lang-nursery/rand/pull/181\r\n\r\n---\r\n\r\n- [`EntropyRng`](https://github.com/rust-lang-nursery/rand/pull/235) provides part of the switching mechanism\r\n- `JitterRng` provides one fallback\r\n- we may still allow applications to provide another entropy source, especially useful for embedded","reactions":{"url":"https://api.github.com/repos/dhardy/rand/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dhardy/rand/issues/22/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1314117381,"node_id":"MDExOkNsb3NlZEV2ZW50MTMxNDExNzM4MQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1314117381","actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"6d297d52284a429ad7318559823c23ef48d197e6","commit_url":"https://api.github.com/repos/rust-random/rand/commits/6d297d52284a429ad7318559823c23ef48d197e6","created_at":"2017-10-27T15:07:35Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"alexcrichton","id":64996,"node_id":"MDQ6VXNlcjY0OTk2","avatar_url":"https://avatars.githubusercontent.com/u/64996?v=4","gravatar_id":"","url":"https://api.github.com/users/alexcrichton","html_url":"https://github.com/alexcrichton","followers_url":"https://api.github.com/users/alexcrichton/followers","following_url":"https://api.github.com/users/alexcrichton/following{/other_user}","gists_url":"https://api.github.com/users/alexcrichton/gists{/gist_id}","starred_url":"https://api.github.com/users/alexcrichton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexcrichton/subscriptions","organizations_url":"https://api.github.com/users/alexcrichton/orgs","repos_url":"https://api.github.com/users/alexcrichton/repos","events_url":"https://api.github.com/users/alexcrichton/events{/privacy}","received_events_url":"https://api.github.com/users/alexcrichton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-30T16:47:45Z","updated_at":"2017-10-30T16:47:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dhardy/rand/issues/23","repository_url":"https://api.github.com/repos/dhardy/rand","labels_url":"https://api.github.com/repos/dhardy/rand/issues/23/labels{/name}","comments_url":"https://api.github.com/repos/dhardy/rand/issues/23/comments","events_url":"https://api.github.com/repos/dhardy/rand/issues/23/events","html_url":"https://github.com/dhardy/rand/issues/23","id":269079984,"node_id":"MDU6SXNzdWUyNjkwNzk5ODQ=","number":23,"title":"Auto-seeded randomness: `thread_rng`, `weak_rng`, `random()`","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dhardy/rand/milestones/2","html_url":"https://github.com/dhardy/rand/milestone/2","labels_url":"https://api.github.com/repos/dhardy/rand/milestones/2/labels","id":2869515,"node_id":"MDk6TWlsZXN0b25lMjg2OTUxNQ==","number":2,"title":"Entropy and convenience generators","description":"Topics: entropy gathering (`OsRng` and clock-based generators) and convenient auto-seeded generators (`thread_rng`, `weak_rng`).","creator":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"open","created_at":"2017-10-27T11:52:31Z","updated_at":"2018-03-18T17:28:05Z","due_on":"2017-11-30T08:00:00Z","closed_at":null},"comments":13,"created_at":"2017-10-27T11:48:45Z","updated_at":"2018-03-11T11:39:13Z","closed_at":"2018-03-11T11:39:13Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":98670438,"node_id":"MDEwOlJlcG9zaXRvcnk5ODY3MDQzOA==","name":"rand","full_name":"dhardy/rand","private":false,"owner":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dhardy/rand","description":null,"fork":true,"url":"https://api.github.com/repos/dhardy/rand","forks_url":"https://api.github.com/repos/dhardy/rand/forks","keys_url":"https://api.github.com/repos/dhardy/rand/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dhardy/rand/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dhardy/rand/teams","hooks_url":"https://api.github.com/repos/dhardy/rand/hooks","issue_events_url":"https://api.github.com/repos/dhardy/rand/issues/events{/number}","events_url":"https://api.github.com/repos/dhardy/rand/events","assignees_url":"https://api.github.com/repos/dhardy/rand/assignees{/user}","branches_url":"https://api.github.com/repos/dhardy/rand/branches{/branch}","tags_url":"https://api.github.com/repos/dhardy/rand/tags","blobs_url":"https://api.github.com/repos/dhardy/rand/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dhardy/rand/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dhardy/rand/git/refs{/sha}","trees_url":"https://api.github.com/repos/dhardy/rand/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dhardy/rand/statuses/{sha}","languages_url":"https://api.github.com/repos/dhardy/rand/languages","stargazers_url":"https://api.github.com/repos/dhardy/rand/stargazers","contributors_url":"https://api.github.com/repos/dhardy/rand/contributors","subscribers_url":"https://api.github.com/repos/dhardy/rand/subscribers","subscription_url":"https://api.github.com/repos/dhardy/rand/subscription","commits_url":"https://api.github.com/repos/dhardy/rand/commits{/sha}","git_commits_url":"https://api.github.com/repos/dhardy/rand/git/commits{/sha}","comments_url":"https://api.github.com/repos/dhardy/rand/comments{/number}","issue_comment_url":"https://api.github.com/repos/dhardy/rand/issues/comments{/number}","contents_url":"https://api.github.com/repos/dhardy/rand/contents/{+path}","compare_url":"https://api.github.com/repos/dhardy/rand/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dhardy/rand/merges","archive_url":"https://api.github.com/repos/dhardy/rand/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dhardy/rand/downloads","issues_url":"https://api.github.com/repos/dhardy/rand/issues{/number}","pulls_url":"https://api.github.com/repos/dhardy/rand/pulls{/number}","milestones_url":"https://api.github.com/repos/dhardy/rand/milestones{/number}","notifications_url":"https://api.github.com/repos/dhardy/rand/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dhardy/rand/labels{/name}","releases_url":"https://api.github.com/repos/dhardy/rand/releases{/id}","deployments_url":"https://api.github.com/repos/dhardy/rand/deployments","created_at":"2017-07-28T17:04:25Z","updated_at":"2020-01-09T15:17:22Z","pushed_at":"2025-04-15T16:28:43Z","git_url":"git://github.com/dhardy/rand.git","ssh_url":"git@github.com:dhardy/rand.git","clone_url":"https://github.com/dhardy/rand.git","svn_url":"https://github.com/dhardy/rand","homepage":"http://doc.rust-lang.org/rand","size":97277,"stargazers_count":2,"watchers_count":2,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":4,"watchers":2,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The `rand` crate currently has:\r\n\r\n*   `weak_rng()` — seeds a new `XorShiftRng` from `OsRng` on each call\r\n*   `thread_rng()` — initialises a per-thread ISAAC generator from `OsRng` on first call and returns a reference\r\n*   `random()` — convenience wrapper around `thread_rng()`\r\n*   `OsRng::new()` — unlike other generators, can be created directly since it uses external entropy\r\n\r\n---\r\n\r\nBut what do we *want* to provide? In terms of entropy:\r\n\r\n1.  Strong entropy for direct usage or seeding crypto generators: `OsRng`\r\n2.  \"Good\" entropy via `OsRng` or [a fallback](https://github.com/dhardy/rand/issues/22) for cases where entropy is still important but not critical (stuff like `HashMap` which might possibly be open to a DoS attack or randomised algorithms)\r\n3.  Weak entropy? For things which want *some* entropy (e.g. randomised algorithms and games) but aren't vulnerable to attacks or where it really doesn't matter. (It may be that the previous category covers this one too sufficiently anyway.)\r\n4.  Deterministic (seeded) generators: no entropy\r\n\r\nIn terms of convenient random numbers it gets more complicated, because we potentially have a matrix of entropy vs speed and memory requirements, via a thread-local generator or a fresh generator. But most importantly:\r\n\r\n1.  Direct access to strong entropy (`OsRng`)\r\n2.  Direct access to reliable entropy (`OsRng` or fallback)\r\n3.  (Possibly) direct access to fast entropy (`ClockRng` or some such)\r\n4.  A generator which provides a good trade-off between strength and performance without necessarily having true cryptographic strength: `thread_rng`\r\n5.  Some recommended PRNGs providing various trade-offs between performance, memory usage and quality, which can be easily seeded from either fresh entropy or a fixed seed\r\n\r\nThe existing `weak_rng()` really satisfies only one variant of the last case, and personally I see little justification for keeping it over something like `SmallFastRng::from_rng(reliable_entropy())`. On the other hand, one shouldn't use `SmallFastRng` directly for deterministic generation (since the underlying generator may change), so `SmallFastRng::from_rng(reliable_entropy())` appears to be the only use-case.\r\n\r\nThe existing `StdRng` is in a similar position: it shouldn't be used for reproducibility, hence its only real use is the current `thread_rng()`.\r\n\r\nTo do:\r\n\r\n- [ ] Implement a good [fallback generator](https://github.com/dhardy/rand/issues/22)\r\n- [ ] Do we also want a fast, weak clock-based generator?\r\n- [ ] Is `weak_rng` + `thread_rng` + direct access to entropy generators sufficient?\r\n- [ ] Is usage sufficiently clear (e.g. that `thread_rng` is not for cryptography)?","reactions":{"url":"https://api.github.com/repos/dhardy/rand/issues/23/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dhardy/rand/issues/23/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1557065995,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NTcwNjU5OTU=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1557065995","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b3bda8508d042ebdf1fc98710a96a470824a98a5","commit_url":"https://api.github.com/repos/pitdicker/rand/commits/b3bda8508d042ebdf1fc98710a96a470824a98a5","created_at":"2018-04-04T17:48:19Z","performed_via_github_app":null},{"actor":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T01:31:25Z","updated_at":"2019-09-26T01:31:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175","repository_url":"https://api.github.com/repos/Amanieu/parking_lot","labels_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175/labels{/name}","comments_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175/comments","events_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175/events","html_url":"https://github.com/Amanieu/parking_lot/issues/175","id":498601415,"node_id":"MDU6SXNzdWU0OTg2MDE0MTU=","number":175,"title":" parking_lot_core::parking_lot::HashTable::new crash in [@ <T>::from_entropy::{{closure}}]","user":{"login":"cpeterso","id":629193,"node_id":"MDQ6VXNlcjYyOTE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/629193?v=4","gravatar_id":"","url":"https://api.github.com/users/cpeterso","html_url":"https://github.com/cpeterso","followers_url":"https://api.github.com/users/cpeterso/followers","following_url":"https://api.github.com/users/cpeterso/following{/other_user}","gists_url":"https://api.github.com/users/cpeterso/gists{/gist_id}","starred_url":"https://api.github.com/users/cpeterso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpeterso/subscriptions","organizations_url":"https://api.github.com/users/cpeterso/orgs","repos_url":"https://api.github.com/users/cpeterso/repos","events_url":"https://api.github.com/users/cpeterso/events{/privacy}","received_events_url":"https://api.github.com/users/cpeterso/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-09-26T01:31:25Z","updated_at":"2019-09-26T18:47:46Z","closed_at":"2019-09-26T18:47:46Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":58731560,"node_id":"MDEwOlJlcG9zaXRvcnk1ODczMTU2MA==","name":"parking_lot","full_name":"Amanieu/parking_lot","private":false,"owner":{"login":"Amanieu","id":278509,"node_id":"MDQ6VXNlcjI3ODUwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/278509?v=4","gravatar_id":"","url":"https://api.github.com/users/Amanieu","html_url":"https://github.com/Amanieu","followers_url":"https://api.github.com/users/Amanieu/followers","following_url":"https://api.github.com/users/Amanieu/following{/other_user}","gists_url":"https://api.github.com/users/Amanieu/gists{/gist_id}","starred_url":"https://api.github.com/users/Amanieu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Amanieu/subscriptions","organizations_url":"https://api.github.com/users/Amanieu/orgs","repos_url":"https://api.github.com/users/Amanieu/repos","events_url":"https://api.github.com/users/Amanieu/events{/privacy}","received_events_url":"https://api.github.com/users/Amanieu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Amanieu/parking_lot","description":"Compact and efficient synchronization primitives for Rust. Also provides an API for creating custom synchronization primitives.","fork":false,"url":"https://api.github.com/repos/Amanieu/parking_lot","forks_url":"https://api.github.com/repos/Amanieu/parking_lot/forks","keys_url":"https://api.github.com/repos/Amanieu/parking_lot/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Amanieu/parking_lot/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Amanieu/parking_lot/teams","hooks_url":"https://api.github.com/repos/Amanieu/parking_lot/hooks","issue_events_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/events{/number}","events_url":"https://api.github.com/repos/Amanieu/parking_lot/events","assignees_url":"https://api.github.com/repos/Amanieu/parking_lot/assignees{/user}","branches_url":"https://api.github.com/repos/Amanieu/parking_lot/branches{/branch}","tags_url":"https://api.github.com/repos/Amanieu/parking_lot/tags","blobs_url":"https://api.github.com/repos/Amanieu/parking_lot/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Amanieu/parking_lot/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Amanieu/parking_lot/git/refs{/sha}","trees_url":"https://api.github.com/repos/Amanieu/parking_lot/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Amanieu/parking_lot/statuses/{sha}","languages_url":"https://api.github.com/repos/Amanieu/parking_lot/languages","stargazers_url":"https://api.github.com/repos/Amanieu/parking_lot/stargazers","contributors_url":"https://api.github.com/repos/Amanieu/parking_lot/contributors","subscribers_url":"https://api.github.com/repos/Amanieu/parking_lot/subscribers","subscription_url":"https://api.github.com/repos/Amanieu/parking_lot/subscription","commits_url":"https://api.github.com/repos/Amanieu/parking_lot/commits{/sha}","git_commits_url":"https://api.github.com/repos/Amanieu/parking_lot/git/commits{/sha}","comments_url":"https://api.github.com/repos/Amanieu/parking_lot/comments{/number}","issue_comment_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/comments{/number}","contents_url":"https://api.github.com/repos/Amanieu/parking_lot/contents/{+path}","compare_url":"https://api.github.com/repos/Amanieu/parking_lot/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Amanieu/parking_lot/merges","archive_url":"https://api.github.com/repos/Amanieu/parking_lot/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Amanieu/parking_lot/downloads","issues_url":"https://api.github.com/repos/Amanieu/parking_lot/issues{/number}","pulls_url":"https://api.github.com/repos/Amanieu/parking_lot/pulls{/number}","milestones_url":"https://api.github.com/repos/Amanieu/parking_lot/milestones{/number}","notifications_url":"https://api.github.com/repos/Amanieu/parking_lot/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Amanieu/parking_lot/labels{/name}","releases_url":"https://api.github.com/repos/Amanieu/parking_lot/releases{/id}","deployments_url":"https://api.github.com/repos/Amanieu/parking_lot/deployments","created_at":"2016-05-13T10:59:24Z","updated_at":"2025-11-10T10:04:06Z","pushed_at":"2025-10-03T23:34:42Z","git_url":"git://github.com/Amanieu/parking_lot.git","ssh_url":"git@github.com:Amanieu/parking_lot.git","clone_url":"https://github.com/Amanieu/parking_lot.git","svn_url":"https://github.com/Amanieu/parking_lot","homepage":null,"size":1974,"stargazers_count":3152,"watchers_count":3152,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":256,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":71,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":256,"open_issues":71,"watchers":3152,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Firefox on Android and Linux is hitting a rare parking_lot panic (just 590 crash reports over the last six months): https://bugzilla.mozilla.org/show_bug.cgi?id=1584043\r\n\r\n`FromEntropy::from_entropy() failed: All entropy sources failed (permanently unavailable); cause: OS RNG not yet seeded (not ready yet); cause: Try again (os error 11)`\r\n\r\nWe've seen similar RNG errors in Firefox on Android and Linux tests when was unable to open /dev/urandom because we hit some fd limit. 95% of these crash reports are from Android. 5% are from Linux.\r\n\r\nTo avoid Windows RNG error crashes, @manishearth changed Stylo's hashmaps use FNV hash instead of an RNG/cryptographically secure hasher since hashmap DOS is not a problem for browsers:\r\n\r\nhttps://github.com/rust-random/rand/issues/180#issuecomment-337983986\r\n\r\nparking_lot could probably do the same for its HashTables. We probably don't have enough threads in the parking_lot for hashtable DOS to be a risk. Threads are heavier weight than a big hashtable.\r\n\r\nOTOH, if the OS RNG is failing in parking_lot code and we sidestep this panic, some other code will probably fail reading the OS RNG soon after.\r\n\r\nPartial stack trace from a Firefox for Android crash report: https://crash-stats.mozilla.com/report/index/5742d966-7264-4325-90e2-3f0760190926#tab-details\r\n\r\n```\r\n0 libxul.so GeckoCrash toolkit/xre/nsAppRunner.cpp:5162\r\n1 libxul.so gkrust_shared::panic_hook toolkit/library/rust/shared/lib.rs:246\r\n2 libxul.so core::ops::function::Fn::call src/libcore/ops/function.rs:69\r\n3 libxul.so std::panicking::rust_panic_with_hook src/libstd/panicking.rs:478\r\n4 libxul.so std::panicking::continue_panic_fmt src/libstd/panicking.rs:381\r\n5 libxul.so std::panicking::begin_panic_fmt src/libstd/panicking.rs:336\r\n6 libxul.so <R as rand::FromEntropy>::from_entropy::{{closure}} hg:hg.mozilla.org/releases/mozilla-beta:third_party/rust/parking_lot_core/<::std::macros::panic macros>:fbd37d14e8976c336816d21137e8239811265630:8\r\n7 libxul.so parking_lot_core::parking_lot::HashTable::new src/libcore/result.rs:764\r\n8 libxul.so parking_lot_core::parking_lot::ThreadData::new third_party/rust/parking_lot_core/src/parking_lot.rs:143\r\n9 libxul.so parking_lot::raw_rwlock::RawRwLock::lock_upgradable_slow third_party/rust/parking_lot/src/raw_rwlock.rs:740\r\n10 libxul.so style::rule_tree::StrongRuleNode::ensure_child servo/components/style/rule_tree/mod.rs:1152\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Amanieu/parking_lot/issues/175/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]