[{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392125460","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392125460","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392125460,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjEyNTQ2MA==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T17:22:15Z","updated_at":"2018-05-25T17:22:15Z","body":"Probably related to the `OsRng` implementation, but I don't know much about WASM. Can you investigate further?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392125460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392151809","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392151809","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392151809,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjE1MTgwOQ==","user":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T19:03:16Z","updated_at":"2018-05-25T19:03:16Z","body":"The implementation lives here: https://github.com/rust-lang-nursery/rand/blob/0.5.0/src/rngs/os.rs#L696.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392151809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392168059","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392168059","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392168059,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjE2ODA1OQ==","user":{"login":"mbalex99","id":2183729,"node_id":"MDQ6VXNlcjIxODM3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/2183729?v=4","gravatar_id":"","url":"https://api.github.com/users/mbalex99","html_url":"https://github.com/mbalex99","followers_url":"https://api.github.com/users/mbalex99/followers","following_url":"https://api.github.com/users/mbalex99/following{/other_user}","gists_url":"https://api.github.com/users/mbalex99/gists{/gist_id}","starred_url":"https://api.github.com/users/mbalex99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbalex99/subscriptions","organizations_url":"https://api.github.com/users/mbalex99/orgs","repos_url":"https://api.github.com/users/mbalex99/repos","events_url":"https://api.github.com/users/mbalex99/events{/privacy}","received_events_url":"https://api.github.com/users/mbalex99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T20:15:26Z","updated_at":"2018-05-25T20:15:43Z","body":"I am unfortunately pretty new to rust (ðŸ˜ž) and by my glance I am not sure where the `require('env')` is coming from in that `OsRng` implementation","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392168059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbalex99","id":2183729,"node_id":"MDQ6VXNlcjIxODM3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/2183729?v=4","gravatar_id":"","url":"https://api.github.com/users/mbalex99","html_url":"https://github.com/mbalex99","followers_url":"https://api.github.com/users/mbalex99/followers","following_url":"https://api.github.com/users/mbalex99/following{/other_user}","gists_url":"https://api.github.com/users/mbalex99/gists{/gist_id}","starred_url":"https://api.github.com/users/mbalex99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbalex99/subscriptions","organizations_url":"https://api.github.com/users/mbalex99/orgs","repos_url":"https://api.github.com/users/mbalex99/repos","events_url":"https://api.github.com/users/mbalex99/events{/privacy}","received_events_url":"https://api.github.com/users/mbalex99/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392169801","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392169801","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392169801,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjE2OTgwMQ==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T20:22:55Z","updated_at":"2018-05-25T20:22:55Z","body":"Since Rand transitively depends on `stdweb` in this case, is this to do with [stdweb](https://github.com/koute/stdweb)? Or is it that `require(\"crypto\")` implies this? In any case maybe if you ask over there you can find someone who has some idea.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392169801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392170290","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392170290","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392170290,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjE3MDI5MA==","user":{"login":"mbalex99","id":2183729,"node_id":"MDQ6VXNlcjIxODM3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/2183729?v=4","gravatar_id":"","url":"https://api.github.com/users/mbalex99","html_url":"https://github.com/mbalex99","followers_url":"https://api.github.com/users/mbalex99/followers","following_url":"https://api.github.com/users/mbalex99/following{/other_user}","gists_url":"https://api.github.com/users/mbalex99/gists{/gist_id}","starred_url":"https://api.github.com/users/mbalex99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbalex99/subscriptions","organizations_url":"https://api.github.com/users/mbalex99/orgs","repos_url":"https://api.github.com/users/mbalex99/repos","events_url":"https://api.github.com/users/mbalex99/events{/privacy}","received_events_url":"https://api.github.com/users/mbalex99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T20:23:53Z","updated_at":"2018-05-25T20:23:53Z","body":"Ah I see maybe that's the cause of it. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392170290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mbalex99","id":2183729,"node_id":"MDQ6VXNlcjIxODM3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/2183729?v=4","gravatar_id":"","url":"https://api.github.com/users/mbalex99","html_url":"https://github.com/mbalex99","followers_url":"https://api.github.com/users/mbalex99/followers","following_url":"https://api.github.com/users/mbalex99/following{/other_user}","gists_url":"https://api.github.com/users/mbalex99/gists{/gist_id}","starred_url":"https://api.github.com/users/mbalex99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbalex99/subscriptions","organizations_url":"https://api.github.com/users/mbalex99/orgs","repos_url":"https://api.github.com/users/mbalex99/repos","events_url":"https://api.github.com/users/mbalex99/events{/privacy}","received_events_url":"https://api.github.com/users/mbalex99/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392329827","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392329827","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392329827,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjMyOTgyNw==","user":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T13:08:00Z","updated_at":"2018-05-27T13:08:00Z","body":"I have the same issue :( \r\n\r\nhere's the full error (for google, and if someone knows more than us ðŸ˜„ )\r\n```\r\n/workspace/Mine/azure-functions-rust/pibench-rs/wasm_pibench_bg.js:9\r\n            const wasmInstance = new WebAssembly.Instance(wasmModule, imports);\r\n                                 ^\r\n\r\nLinkError: WebAssembly Instantiation: Import #0 module=\"env\" function=\"__js_1\" error: function import requires a callable\r\n    at Object.<anonymous> (/workspace/Mine/azure-functions-rust/pibench-rs/wasm_pibench_bg.js:9:34)\r\n    at Module._compile (module.js:660:30)\r\n    at Object.Module._extensions..js (module.js:671:10)\r\n    at Module.load (module.js:573:32)\r\n    at tryModuleLoad (module.js:513:12)\r\n    at Function.Module._load (module.js:505:3)\r\n    at Module.require (module.js:604:17)\r\n    at require (internal/module.js:11:18)\r\n    at Object.<anonymous> (/workspace/Mine/azure-functions-rust/pibench-rs/wasm_pibench.js:168:8)\r\n    at Module._compile (module.js:660:30)\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392329827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T16:59:31Z","updated_at":"2018-05-27T16:59:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/koute/stdweb/issues/224","repository_url":"https://api.github.com/repos/koute/stdweb","labels_url":"https://api.github.com/repos/koute/stdweb/issues/224/labels{/name}","comments_url":"https://api.github.com/repos/koute/stdweb/issues/224/comments","events_url":"https://api.github.com/repos/koute/stdweb/issues/224/events","html_url":"https://github.com/koute/stdweb/issues/224","id":326832221,"node_id":"MDU6SXNzdWUzMjY4MzIyMjE=","number":224,"title":"Unknown `require('env')` when compiling rand with stdweb feature","user":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-27T16:59:31Z","updated_at":"2018-05-28T09:13:43Z","closed_at":"2018-05-28T09:13:42Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":84753809,"node_id":"MDEwOlJlcG9zaXRvcnk4NDc1MzgwOQ==","name":"stdweb","full_name":"koute/stdweb","private":false,"owner":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/koute/stdweb","description":"A standard library for the client-side Web","fork":false,"url":"https://api.github.com/repos/koute/stdweb","forks_url":"https://api.github.com/repos/koute/stdweb/forks","keys_url":"https://api.github.com/repos/koute/stdweb/keys{/key_id}","collaborators_url":"https://api.github.com/repos/koute/stdweb/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/koute/stdweb/teams","hooks_url":"https://api.github.com/repos/koute/stdweb/hooks","issue_events_url":"https://api.github.com/repos/koute/stdweb/issues/events{/number}","events_url":"https://api.github.com/repos/koute/stdweb/events","assignees_url":"https://api.github.com/repos/koute/stdweb/assignees{/user}","branches_url":"https://api.github.com/repos/koute/stdweb/branches{/branch}","tags_url":"https://api.github.com/repos/koute/stdweb/tags","blobs_url":"https://api.github.com/repos/koute/stdweb/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/koute/stdweb/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/koute/stdweb/git/refs{/sha}","trees_url":"https://api.github.com/repos/koute/stdweb/git/trees{/sha}","statuses_url":"https://api.github.com/repos/koute/stdweb/statuses/{sha}","languages_url":"https://api.github.com/repos/koute/stdweb/languages","stargazers_url":"https://api.github.com/repos/koute/stdweb/stargazers","contributors_url":"https://api.github.com/repos/koute/stdweb/contributors","subscribers_url":"https://api.github.com/repos/koute/stdweb/subscribers","subscription_url":"https://api.github.com/repos/koute/stdweb/subscription","commits_url":"https://api.github.com/repos/koute/stdweb/commits{/sha}","git_commits_url":"https://api.github.com/repos/koute/stdweb/git/commits{/sha}","comments_url":"https://api.github.com/repos/koute/stdweb/comments{/number}","issue_comment_url":"https://api.github.com/repos/koute/stdweb/issues/comments{/number}","contents_url":"https://api.github.com/repos/koute/stdweb/contents/{+path}","compare_url":"https://api.github.com/repos/koute/stdweb/compare/{base}...{head}","merges_url":"https://api.github.com/repos/koute/stdweb/merges","archive_url":"https://api.github.com/repos/koute/stdweb/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/koute/stdweb/downloads","issues_url":"https://api.github.com/repos/koute/stdweb/issues{/number}","pulls_url":"https://api.github.com/repos/koute/stdweb/pulls{/number}","milestones_url":"https://api.github.com/repos/koute/stdweb/milestones{/number}","notifications_url":"https://api.github.com/repos/koute/stdweb/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/koute/stdweb/labels{/name}","releases_url":"https://api.github.com/repos/koute/stdweb/releases{/id}","deployments_url":"https://api.github.com/repos/koute/stdweb/deployments","created_at":"2017-03-12T20:07:37Z","updated_at":"2025-10-24T03:48:15Z","pushed_at":"2024-02-28T12:11:10Z","git_url":"git://github.com/koute/stdweb.git","ssh_url":"git@github.com:koute/stdweb.git","clone_url":"https://github.com/koute/stdweb.git","svn_url":"https://github.com/koute/stdweb","homepage":"","size":1142,"stargazers_count":3457,"watchers_count":3457,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":178,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":134,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["asmjs","emscripten","gui","javascript","rust","web","webasm","webassembly"],"visibility":"public","forks":178,"open_issues":134,"watchers":3457,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In Rand we got a bug report, and I don't know what to do with it. https://github.com/rust-lang-nursery/rand/issues/478.\r\n\r\nIt seemed the problem is not related to Rand, because if I remove everything related to `stdweb` in Rand except\r\n```rust\r\n#[macro_use]\r\nextern crate stdweb;\r\n```\r\nthe error remains.\r\n\r\nCan you help us out?","reactions":{"url":"https://api.github.com/repos/koute/stdweb/issues/224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/koute/stdweb/issues/224/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392371963","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392371963","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392371963,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjM3MTk2Mw==","user":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-27T21:16:27Z","updated_at":"2018-05-27T21:18:00Z","body":"The `wasm-bindgen` doesn't support `stdweb`'s [`js!`](https://docs.rs/stdweb/*/stdweb/macro.js.html) macro, which is why this error is being generated.\r\n\r\nBasically, the way the `js!` macro works is something like this: `stdweb` imports a bunch of functions called `env.__js_0`, `env.__js_1`, `env.__js_2` and calls them every time the `js!` macro is used, so, e.g. something like this:\r\n\r\n```rust\r\nlet value = 2;\r\njs! {\r\n    console.log( \"1 + 1 = \", @{value} );\r\n}\r\n```\r\n\r\nis effectively equivalent to this under the hood (I'm simplifying a little):\r\n\r\n```rust\r\nextern \"C\" {\r\n    pub fn __js_1( a1: i32, code: *const u8 ) -> i32;\r\n}\r\nlet value = 2;\r\n__js_1( value, r#\"console.log( \"1 + 1 = \", $0 );\"# );\r\n```\r\n\r\nNow what's supposed to happen here (and [`cargo-web`](https://github.com/koute/cargo-web/) actually does this) is that the import for the `__js_1` (which is emitted as `env.__js_1` by the Rust compiler) should be removed and the call to `__js_1` replaced by a concrete import of the JS snipped you had in your code.\r\n\r\nSince you're not using `cargo-web` this doesn't happen; the `wasm-bindgen` sees the `env.__js_1` import and does what it does to imports normally - `require`s the module, in this case a module called `env`.\r\n\r\nYou could *probably* work around this issue (this is super hacky though) by creating a module called `env` yourself, and implement the `__js_1`, `__js_2`, etc. functions through `eval`. Or you could switch from `wasm-bindgen` to `cargo-web`, which may or may not be feasible depending on your usecase. (`stdweb` in conjunction with `cargo-web` also supports `wasm-bindgen`-like exporting of functions through the `js_export` attribute; see `stdweb`'s README for more details.)\r\n\r\nIdeally we'd come up with a cross-tool ABI of specifying JavaScript snippets (which both `wasm-bindgen` and `cargo-web` could support), but that is still probably a way off.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392371963/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392459102","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392459102","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392459102,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQ1OTEwMg==","user":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T08:32:38Z","updated_at":"2018-05-28T08:32:38Z","body":"Thank you @koute, I had a hunch that the `js!` macro might be responsible. My project isn't too complex so I might get it to work with cargo-web - thanks for the pointer. ðŸ˜Š","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392459102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1648910141,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0ODkxMDE0MQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1648910141","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T08:32:38Z","performed_via_github_app":null},{"id":1648910142,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDg5MTAxNDI=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1648910142","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T08:32:38Z","performed_via_github_app":null},{"id":1649227909,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTY0OTIyNzkwOQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649227909","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:42:50Z","rename":{"from":"rand with stdweb feature and with --nodejs in wasm_bindgen and wasm32-unknown-unknown target generates unknown 'env' module","to":"Add wasm_bindgen support"},"performed_via_github_app":null},{"id":1649238798,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NDkyMzg3OTg=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649238798","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:49:50Z","label":{"name":"E-help-wanted","color":"00ff00"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392506170","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392506170","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392506170,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjUwNjE3MA==","user":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T11:50:12Z","updated_at":"2018-05-28T11:50:33Z","body":"Thanks @koute for the good explanation!\r\n\r\nSo what I think needs to happen here is we need to support `wasm_bindgen`, similar to `stdweb`. I.e., add it as an optional dependency in `cargo.toml` and `lib.rs`, similar to what we do now with `stdweb`, and add an implementation in `OsRng` similar to the one for `stdweb` (note: I just touched that code a bit in https://github.com/rust-lang-nursery/rand/pull/484).\r\n\r\n@dhardy Do you think this is a nice 'help wanted' issue to advertise?\r\n\r\n(Changed the title from \"rand with stdweb feature and with --nodejs in wasm_bindgen and wasm32-unknown-unknown target generates unknown 'env' module\" to \"Add wasm_bindgen support\").\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392506170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1649239392,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0OTIzOTM5Mg==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649239392","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:50:12Z","performed_via_github_app":null},{"id":1649239393,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDkyMzkzOTM=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649239393","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:50:12Z","performed_via_github_app":null},{"id":1649239394,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0OTIzOTM5NA==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649239394","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:50:12Z","performed_via_github_app":null},{"id":1649239395,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDkyMzkzOTU=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649239395","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T11:50:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392535587","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392535587","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392535587,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjUzNTU4Nw==","user":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T14:02:55Z","updated_at":"2018-05-28T14:02:55Z","body":"Yes, agreed @pitdicker. And thanks @koute for helping us out with ha good explanation of the issue.\r\n\r\nI don't know what the best solution for Rand is, but I guess we don't want `wasm-bindgen` support that conflicts with `cargo-web`, (at least not unless it's optional).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392535587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dhardy","id":134893,"node_id":"MDQ6VXNlcjEzNDg5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/134893?v=4","gravatar_id":"","url":"https://api.github.com/users/dhardy","html_url":"https://github.com/dhardy","followers_url":"https://api.github.com/users/dhardy/followers","following_url":"https://api.github.com/users/dhardy/following{/other_user}","gists_url":"https://api.github.com/users/dhardy/gists{/gist_id}","starred_url":"https://api.github.com/users/dhardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhardy/subscriptions","organizations_url":"https://api.github.com/users/dhardy/orgs","repos_url":"https://api.github.com/users/dhardy/repos","events_url":"https://api.github.com/users/dhardy/events{/privacy}","received_events_url":"https://api.github.com/users/dhardy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1649460051,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0OTQ2MDA1MQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649460051","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T14:02:55Z","performed_via_github_app":null},{"id":1649460052,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDk0NjAwNTI=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649460052","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T14:02:55Z","performed_via_github_app":null},{"id":1649460054,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0OTQ2MDA1NA==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649460054","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T14:02:55Z","performed_via_github_app":null},{"id":1649460056,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDk0NjAwNTY=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649460056","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T14:02:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392560591","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392560591","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392560591,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjU2MDU5MQ==","user":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T15:56:01Z","updated_at":"2018-05-31T17:55:31Z","body":"Here's a quick & dirty fix for the `rand` crate  (as @koute mentioned ðŸ‘ )\r\n\r\nNevermind, I was wrong ðŸ˜­ \r\n*this does not work*\r\n`wasm_<project>_bg.js`\r\n```js\r\nlet imports = {};\r\nimports['./wasm_pibench'] = require('./wasm_pibench');\r\nimports['env'] = {__js_1:  require('crypto') } // that's what stdweb/rand is trying to import on nodejs\r\n\r\n            const join = require('path').join;\r\n            const bytes = require('fs').readFileSync(join(__dirname, 'wasm_pibench_bg.wasm'));\r\n            const wasmModule = new WebAssembly.Module(bytes);\r\n            const wasmInstance = new WebAssembly.Instance(wasmModule, imports);\r\n            module.exports = wasmInstance.exports;\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392560591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"celaus","id":713346,"node_id":"MDQ6VXNlcjcxMzM0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/713346?v=4","gravatar_id":"","url":"https://api.github.com/users/celaus","html_url":"https://github.com/celaus","followers_url":"https://api.github.com/users/celaus/followers","following_url":"https://api.github.com/users/celaus/following{/other_user}","gists_url":"https://api.github.com/users/celaus/gists{/gist_id}","starred_url":"https://api.github.com/users/celaus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/celaus/subscriptions","organizations_url":"https://api.github.com/users/celaus/orgs","repos_url":"https://api.github.com/users/celaus/repos","events_url":"https://api.github.com/users/celaus/events{/privacy}","received_events_url":"https://api.github.com/users/celaus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1649636385,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY0OTYzNjM4NQ==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649636385","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-28T15:56:50Z","performed_via_github_app":null},{"id":1649636386,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NDk2MzYzODY=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1649636386","actor":{"login":"koute","id":246574,"node_id":"MDQ6VXNlcjI0NjU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/246574?v=4","gravatar_id":"","url":"https://api.github.com/users/koute","html_url":"https://github.com/koute","followers_url":"https://api.github.com/users/koute/followers","following_url":"https://api.github.com/users/koute/following{/other_user}","gists_url":"https://api.github.com/users/koute/gists{/gist_id}","starred_url":"https://api.github.com/users/koute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koute/subscriptions","organizations_url":"https://api.github.com/users/koute/orgs","repos_url":"https://api.github.com/users/koute/repos","events_url":"https://api.github.com/users/koute/events{/privacy}","received_events_url":"https://api.github.com/users/koute/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-28T15:56:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392669337","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392669337","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392669337,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjY2OTMzNw==","user":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-29T06:44:03Z","updated_at":"2018-05-29T06:46:08Z","body":"@quininer continuing from our conversation on reddit https://www.reddit.com/r/rust/comments/8msrfp/help_add_wasmbindgen_support_to_rand/ (I like github a bit more).\r\n\r\n> `wasm-bindgen` does not support dynamic feature-detects, I think `wbg-rand` still uses `Math.random` for the same reason.\r\n\r\nBut would it be possible to link to two custom javascript functions, like `detect_crypto_random` and `fill_bytes`? And do the detection there?\r\n\r\n(and sorry, didn't recognise your name at first as the author of the `stdweb` implementation :smile:)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392669337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pitdicker","id":6255050,"node_id":"MDQ6VXNlcjYyNTUwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/6255050?v=4","gravatar_id":"","url":"https://api.github.com/users/pitdicker","html_url":"https://github.com/pitdicker","followers_url":"https://api.github.com/users/pitdicker/followers","following_url":"https://api.github.com/users/pitdicker/following{/other_user}","gists_url":"https://api.github.com/users/pitdicker/gists{/gist_id}","starred_url":"https://api.github.com/users/pitdicker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pitdicker/subscriptions","organizations_url":"https://api.github.com/users/pitdicker/orgs","repos_url":"https://api.github.com/users/pitdicker/repos","events_url":"https://api.github.com/users/pitdicker/events{/privacy}","received_events_url":"https://api.github.com/users/pitdicker/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1650308112,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY1MDMwODExMg==","url":"https://api.github.com/repos/rust-random/rand/issues/events/1650308112","actor":{"login":"quininer","id":6286761,"node_id":"MDQ6VXNlcjYyODY3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/6286761?v=4","gravatar_id":"","url":"https://api.github.com/users/quininer","html_url":"https://github.com/quininer","followers_url":"https://api.github.com/users/quininer/followers","following_url":"https://api.github.com/users/quininer/following{/other_user}","gists_url":"https://api.github.com/users/quininer/gists{/gist_id}","starred_url":"https://api.github.com/users/quininer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quininer/subscriptions","organizations_url":"https://api.github.com/users/quininer/orgs","repos_url":"https://api.github.com/users/quininer/repos","events_url":"https://api.github.com/users/quininer/events{/privacy}","received_events_url":"https://api.github.com/users/quininer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-29T06:44:03Z","performed_via_github_app":null},{"id":1650308113,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NTAzMDgxMTM=","url":"https://api.github.com/repos/rust-random/rand/issues/events/1650308113","actor":{"login":"quininer","id":6286761,"node_id":"MDQ6VXNlcjYyODY3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/6286761?v=4","gravatar_id":"","url":"https://api.github.com/users/quininer","html_url":"https://github.com/quininer","followers_url":"https://api.github.com/users/quininer/followers","following_url":"https://api.github.com/users/quininer/following{/other_user}","gists_url":"https://api.github.com/users/quininer/gists{/gist_id}","starred_url":"https://api.github.com/users/quininer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quininer/subscriptions","organizations_url":"https://api.github.com/users/quininer/orgs","repos_url":"https://api.github.com/users/quininer/repos","events_url":"https://api.github.com/users/quininer/events{/privacy}","received_events_url":"https://api.github.com/users/quininer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-29T06:44:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392672022","html_url":"https://github.com/rust-random/rand/issues/478#issuecomment-392672022","issue_url":"https://api.github.com/repos/rust-random/rand/issues/478","id":392672022,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjY3MjAyMg==","user":{"login":"quininer","id":6286761,"node_id":"MDQ6VXNlcjYyODY3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/6286761?v=4","gravatar_id":"","url":"https://api.github.com/users/quininer","html_url":"https://github.com/quininer","followers_url":"https://api.github.com/users/quininer/followers","following_url":"https://api.github.com/users/quininer/following{/other_user}","gists_url":"https://api.github.com/users/quininer/gists{/gist_id}","starred_url":"https://api.github.com/users/quininer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quininer/subscriptions","organizations_url":"https://api.github.com/users/quininer/orgs","repos_url":"https://api.github.com/users/quininer/repos","events_url":"https://api.github.com/users/quininer/events{/privacy}","received_events_url":"https://api.github.com/users/quininer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-29T06:57:05Z","updated_at":"2018-05-29T06:57:05Z","body":"@pitdicker  It's possible, but I don't know if there's any elegant way to do that.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rust-random/rand/issues/comments/392672022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"quininer","id":6286761,"node_id":"MDQ6VXNlcjYyODY3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/6286761?v=4","gravatar_id":"","url":"https://api.github.com/users/quininer","html_url":"https://github.com/quininer","followers_url":"https://api.github.com/users/quininer/followers","following_url":"https://api.github.com/users/quininer/following{/other_user}","gists_url":"https://api.github.com/users/quininer/gists{/gist_id}","starred_url":"https://api.github.com/users/quininer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quininer/subscriptions","organizations_url":"https://api.github.com/users/quininer/orgs","repos_url":"https://api.github.com/users/quininer/repos","events_url":"https://api.github.com/users/quininer/events{/privacy}","received_events_url":"https://api.github.com/users/quininer/received_events","type":"User","user_view_type":"public","site_admin":false}}]