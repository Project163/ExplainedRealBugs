[{"id":450021093,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1MDAyMTA5Mw==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/450021093","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-10-30T04:38:59Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T05:22:21Z","updated_at":"2015-12-17T05:22:21Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/amaembo/streamex/issues/42","repository_url":"https://api.github.com/repos/amaembo/streamex","labels_url":"https://api.github.com/repos/amaembo/streamex/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/amaembo/streamex/issues/42/comments","events_url":"https://api.github.com/repos/amaembo/streamex/issues/42/events","html_url":"https://github.com/amaembo/streamex/issues/42","id":122663224,"node_id":"MDU6SXNzdWUxMjI2NjMyMjQ=","number":42,"title":"Create EntryStream.ofTree() attaching the depth value","user":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/amaembo/streamex/milestones/7","html_url":"https://github.com/amaembo/streamex/milestone/7","labels_url":"https://api.github.com/repos/amaembo/streamex/milestones/7/labels","id":1464340,"node_id":"MDk6TWlsZXN0b25lMTQ2NDM0MA==","number":7,"title":"0.5.2","description":null,"creator":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2015-12-17T05:22:12Z","updated_at":"2016-01-12T11:32:51Z","due_on":null,"closed_at":"2016-01-12T11:32:51Z"},"comments":0,"created_at":"2015-12-17T05:22:21Z","updated_at":"2015-12-22T10:02:49Z","closed_at":"2015-12-22T10:02:48Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":33740196,"node_id":"MDEwOlJlcG9zaXRvcnkzMzc0MDE5Ng==","name":"streamex","full_name":"amaembo/streamex","private":false,"owner":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/amaembo/streamex","description":"Enhancing Java Stream API","fork":false,"url":"https://api.github.com/repos/amaembo/streamex","forks_url":"https://api.github.com/repos/amaembo/streamex/forks","keys_url":"https://api.github.com/repos/amaembo/streamex/keys{/key_id}","collaborators_url":"https://api.github.com/repos/amaembo/streamex/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/amaembo/streamex/teams","hooks_url":"https://api.github.com/repos/amaembo/streamex/hooks","issue_events_url":"https://api.github.com/repos/amaembo/streamex/issues/events{/number}","events_url":"https://api.github.com/repos/amaembo/streamex/events","assignees_url":"https://api.github.com/repos/amaembo/streamex/assignees{/user}","branches_url":"https://api.github.com/repos/amaembo/streamex/branches{/branch}","tags_url":"https://api.github.com/repos/amaembo/streamex/tags","blobs_url":"https://api.github.com/repos/amaembo/streamex/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/amaembo/streamex/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/amaembo/streamex/git/refs{/sha}","trees_url":"https://api.github.com/repos/amaembo/streamex/git/trees{/sha}","statuses_url":"https://api.github.com/repos/amaembo/streamex/statuses/{sha}","languages_url":"https://api.github.com/repos/amaembo/streamex/languages","stargazers_url":"https://api.github.com/repos/amaembo/streamex/stargazers","contributors_url":"https://api.github.com/repos/amaembo/streamex/contributors","subscribers_url":"https://api.github.com/repos/amaembo/streamex/subscribers","subscription_url":"https://api.github.com/repos/amaembo/streamex/subscription","commits_url":"https://api.github.com/repos/amaembo/streamex/commits{/sha}","git_commits_url":"https://api.github.com/repos/amaembo/streamex/git/commits{/sha}","comments_url":"https://api.github.com/repos/amaembo/streamex/comments{/number}","issue_comment_url":"https://api.github.com/repos/amaembo/streamex/issues/comments{/number}","contents_url":"https://api.github.com/repos/amaembo/streamex/contents/{+path}","compare_url":"https://api.github.com/repos/amaembo/streamex/compare/{base}...{head}","merges_url":"https://api.github.com/repos/amaembo/streamex/merges","archive_url":"https://api.github.com/repos/amaembo/streamex/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/amaembo/streamex/downloads","issues_url":"https://api.github.com/repos/amaembo/streamex/issues{/number}","pulls_url":"https://api.github.com/repos/amaembo/streamex/pulls{/number}","milestones_url":"https://api.github.com/repos/amaembo/streamex/milestones{/number}","notifications_url":"https://api.github.com/repos/amaembo/streamex/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/amaembo/streamex/labels{/name}","releases_url":"https://api.github.com/repos/amaembo/streamex/releases{/id}","deployments_url":"https://api.github.com/repos/amaembo/streamex/deployments","created_at":"2015-04-10T17:02:32Z","updated_at":"2025-11-02T14:04:09Z","pushed_at":"2025-08-30T10:58:34Z","git_url":"git://github.com/amaembo/streamex.git","ssh_url":"git@github.com:amaembo/streamex.git","clone_url":"https://github.com/amaembo/streamex.git","svn_url":"https://github.com/amaembo/streamex","homepage":"","size":4888,"stargazers_count":2268,"watchers_count":2268,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":255,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":20,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["collections","java","java8","streams-api"],"visibility":"public","forks":255,"open_issues":20,"watchers":2268,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Currently there are `StreamEx.ofTree()` methods family which allow to construct the stream of tree-like structure. Sometimes it's desired to track the current tree depth. This could be resolved adding new static methods to `EntryStream`:\n\n```\n<T> EntryStream<Integer, T> ofTree(T root, BiFunction<Integer, T, Stream<T>> mapper) {}\n<T, TT extends T> EntryStream<Integer, T> ofTree(T root, Class<TT> collectionClass,\n        BiFunction<Integer, TT, Stream<T>> mapper) {}\n```\n\nThe resulting stream contains elements in the values and the tree depth in the keys (0 = root, 1 = immediate root children and so on). Also mapper function receives depth now which allows, for example, to limit tree expansion by given depth:\n\n```\nEntryStream.ofTree(root, (depth, e) -> depth > MAX_DEPTH ? null : e.children());\n```\n\nIn this case depth could be easily dropped using `EntryStream.values()` if it's unnecessary after that.\n\nSimple implementation may use `flatMap`. Later improvement using custom spliterator is possible (see #17).\n- [x] Implementation\n- [x] Tests\n- [x] JavaDoc\n- [x] Changes\n- [x] Cheatsheet\n","reactions":{"url":"https://api.github.com/repos/amaembo/streamex/issues/42/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/amaembo/streamex/issues/42/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":759710202,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc1OTcxMDIwMg==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/759710202","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5b98074876349d56bc7aef8cb41148ecf502a105","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/5b98074876349d56bc7aef8cb41148ecf502a105","created_at":"2016-08-18T10:22:14Z","performed_via_github_app":null},{"id":760793803,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc2MDc5MzgwMw==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/760793803","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c4c452b60d98a9bb942d14c430b9d346ed2a8662","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/c4c452b60d98a9bb942d14c430b9d346ed2a8662","created_at":"2016-08-19T03:46:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/amaembo/streamex/issues/comments/240926361","html_url":"https://github.com/amaembo/streamex/issues/17#issuecomment-240926361","issue_url":"https://api.github.com/repos/amaembo/streamex/issues/17","id":240926361,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDkyNjM2MQ==","user":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-19T04:40:49Z","updated_at":"2016-08-19T04:55:08Z","body":"Benchmarks show that new implementation is indeed better\n\nStream source in all tests is:\n\n``` java\nStreamEx.ofTree(\"\", s -> s.length() == depth ? null : Stream.of(\"a\", \"b\", \"c\").map(s::concat));\n```\n\ncount = .count(), has = .has(\"a\") (find the second element in the stream), hasNone = .has(\"foo\") (find non-existing element). Quasi means that `.pairMap(String::concat)` quasi-intermediate op is added.\n\n| Benchmark | (depth) | 0.6.1, us | 0.6.2, us | 0.6.1, bytes | 0.6.2, bytes |\n| --- | --: | --: | --: | --: | --: |\n| streamExCount | 1 | 0.363 | 0.261 | 1064 | 680 |\n| streamExCount | 3 | 4.364 | 2.997 | 10224 | 5984 |\n| streamExCount | 5 | 44.677 | 28.528 | 94914 | 54976 |\n| streamExHas | 1 | 0.271 | 0.254 | 856 | 792 |\n| streamExHas | 3 | 1.604 | 0.307 | 3920 | 1104 |\n| streamExHas | 5 | 13.745 | 0.310 | 32768 | 1080 |\n| streamExHasNone | 1 | 0.440 | 0.371 | 1136 | 888 |\n| streamExHasNone | 3 | 5.306 | 4.619 | 10232 | 8184 |\n| streamExHasNone | 5 | 46.949 | 39.143 | 96840 | 75810 |\n| streamExQuasiCount | 1 | 0.509 | 0.410 | 1208 | 856 |\n| streamExQuasiCount | 3 | 6.104 | 4.501 | 11488 | 7024 |\n| streamExQuasiCount | 5 | 55.119 | 43.443 | 110783 | 66262 |\n| streamExQuasiHas | 1 | 0.307 | 0.290 | 936 | 944 |\n| streamExQuasiHas | 3 | 1.639 | 0.353 | 4024 | 1208 |\n| streamExQuasiHas | 5 | 13.941 | 0.349 | 32848 | 1160 |\n| streamExQuasiHasNone | 1 | 0.569 | 0.572 | 1240 | 1160 |\n| streamExQuasiHasNone | 3 | 6.620 | 5.925 | 11704 | 10448 |\n| streamExQuasiHasNone | 5 | 60.728 | 52.358 | 110928 | 89887 |\n\nShort-circuiting ops indeed become short-circuiting. All times are better except `streamExQuasiHasNone` (difference 0.569/0.572 is statistically insignificant here). Allocated bytes are always less except `streamExQuasiHas` (936/944).\n\nAlso stack traces for non-short-circuit operations in 0.6.2 contain 2 frames less per tree depth. Short-circuiting operations have constant stack depth.\n\nCurrent implementation refuses to parallelize at all. 0.6.1 implementation could parallelize the top level of the tree. It would be nice to preserve this level of parallelization in 0.6.2 as well.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/amaembo/streamex/issues/comments/240926361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":760874584,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc2MDg3NDU4NA==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/760874584","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3f408cfc29b014d36879e5781b60de5958ff6665","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/3f408cfc29b014d36879e5781b60de5958ff6665","created_at":"2016-08-19T06:30:15Z","performed_via_github_app":null},{"id":761077713,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc2MTA3NzcxMw==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/761077713","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"62eccd279139ab8d715ace26f1a53134c54d5ae3","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/62eccd279139ab8d715ace26f1a53134c54d5ae3","created_at":"2016-08-19T10:14:47Z","performed_via_github_app":null},{"id":761082101,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc2MTA4MjEwMQ==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/761082101","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8570086e6e66751a745ded82076f80ce1713013d","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/8570086e6e66751a745ded82076f80ce1713013d","created_at":"2016-08-19T10:19:22Z","performed_via_github_app":null},{"id":763226040,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDc2MzIyNjA0MA==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/763226040","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f5bd4c3ba79aa0de87ea834e87ac1040a67fa5d8","commit_url":"https://api.github.com/repos/amaembo/streamex/commits/f5bd4c3ba79aa0de87ea834e87ac1040a67fa5d8","created_at":"2016-08-22T15:51:25Z","performed_via_github_app":null},{"id":764818593,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDc2NDgxODU5Mw==","url":"https://api.github.com/repos/amaembo/streamex/issues/events/764818593","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-08-23T17:18:32Z","milestone":{"title":"0.6.2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/amaembo/streamex/issues/comments/241806949","html_url":"https://github.com/amaembo/streamex/issues/17#issuecomment-241806949","issue_url":"https://api.github.com/repos/amaembo/streamex/issues/17","id":241806949,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTgwNjk0OQ==","user":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-23T17:18:37Z","updated_at":"2016-08-23T17:18:37Z","body":"It was discovered that if mapper function contains an intermediate operation and does not have explicit `.parallel()` it was not parallelized (only root node was handled in parallel with other nodes). So it was necessary to specify `.parallel()` twice like `StreamEx.ofTree(root, x -> x.stream().map(...).parallel()).parallel()`. Now it's fixed: only the resulting stream should be paralleled.\n\nHere's benchmark results for depth 5,7,9:\n\nParallel:\n\n| test | (depth) | 0.6.1 bytes | 0.6.2 bytes | 0.6.1 us | 0.6.2 us |\n| --- | --: | --: | --: | --: | --: |\n| streamExCount | 5 | 96551 | 56305 | 31.2 | 22.4 |\n| streamExCount | 7 | 883352 | 503408 | 234.9 | 133.6 |\n| streamExCount | 9 | 7932148 | 4684978 | 2113.4 | 1245.3 |\n| streamExHas | 5 | 97970 | 6832 | 34.2 | 7.9 |\n| streamExHas | 7 | 902202 | 40231 | 270.1 | 26.4 |\n| streamExHas | 9 | 8071357 | 108467 | 2547.6 | 51.7 |\n| streamExHasNone | 5 | 98719 | 77180 | 34.4 | 29.5 |\n| streamExHasNone | 7 | 902192 | 691459 | 270.7 | 190.2 |\n| streamExHasNone | 9 | 8071358 | 6377684 | 2690.6 | 1742.1 |\n| streamExQuasiCount | 5 | 110627 | 70785 | 59.3 | 28.8 |\n| streamExQuasiCount | 7 | 1035622 | 669264 | 415.0 | 180.4 |\n| streamExQuasiCount | 9 | 9479318 | 6415613 | 3452.0 | 1824.7 |\n| streamExQuasiHas | 5 | 107859 | 31855 | 65.6 | 21.0 |\n| streamExQuasiHas | 7 | 1010192 | 289295 | 481.0 | 174.3 |\n| streamExQuasiHas | 9 | 9142122 | 2764214 | 4417.1 | 1488.2 |\n| streamExQuasiHasNone | 5 | 112680 | 91537 | 68.4 | 34.1 |\n| streamExQuasiHasNone | 7 | 1054365 | 844144 | 478.8 | 231.7 |\n| streamExQuasiHasNone | 9 | 9678526 | 7984309 | 4404.6 | 2168.2 |\n\nSequential:\n\n| test | (depth) | 0.6.1 bytes | 0.6.2 bytes | 0.6.1 us | 0.6.2 us |\n| --- | --: | --: | --: | --: | --: |\n| streamExCount | 5 | 94914 | 53056 | 44.7 | 28.5 |\n| streamExCount | 7 | 882456 | 475888 | 433.5 | 258.2 |\n| streamExCount | 9 | 7996216 | 4447533 | 3744.5 | 2272.8 |\n| streamExHas | 5 | 32776 | 1080 | 14.2 | 0.3 |\n| streamExHas | 7 | 296464 | 1080 | 130.5 | 0.3 |\n| streamExHas | 9 | 2769330 | 1080 | 1221.2 | 0.3 |\n| streamExHasNone | 5 | 96845 | 75809 | 48.9 | 38.7 |\n| streamExHasNone | 7 | 907648 | 690096 | 470.4 | 354.7 |\n| streamExHasNone | 9 | 8129346 | 6376351 | 4412.0 | 3209.5 |\n| streamExQuasiCount | 5 | 108990 | 66262 | 56.2 | 41.4 |\n| streamExQuasiCount | 7 | 1034775 | 649621 | 539.1 | 386.3 |\n| streamExQuasiCount | 9 | 9694931 | 6506464 | 4822.2 | 3527.2 |\n| streamExQuasiHas | 5 | 32856 | 1216 | 14.2 | 0.3 |\n| streamExQuasiHas | 7 | 296528 | 1224 | 129.9 | 0.3 |\n| streamExQuasiHas | 9 | 2763426 | 1208 | 1231.9 | 0.3 |\n| streamExQuasiHasNone | 5 | 112552 | 89885 | 64.4 | 53.8 |\n| streamExQuasiHasNone | 7 | 1059959 | 842384 | 628.2 | 475.6 |\n| streamExQuasiHasNone | 9 | 9735493 | 7982569 | 5874.8 | 4280.5 |\n\nHere new implementation is better for every test, both for time and memory consumption, both for parallel and sequential. Also stream closure issues seem to be solved. Thus the feature is considered to be complete.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/amaembo/streamex/issues/comments/241806949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":764818745,"node_id":"MDExOkNsb3NlZEV2ZW50NzY0ODE4NzQ1","url":"https://api.github.com/repos/amaembo/streamex/issues/events/764818745","actor":{"login":"amaembo","id":5114450,"node_id":"MDQ6VXNlcjUxMTQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/5114450?v=4","gravatar_id":"","url":"https://api.github.com/users/amaembo","html_url":"https://github.com/amaembo","followers_url":"https://api.github.com/users/amaembo/followers","following_url":"https://api.github.com/users/amaembo/following{/other_user}","gists_url":"https://api.github.com/users/amaembo/gists{/gist_id}","starred_url":"https://api.github.com/users/amaembo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaembo/subscriptions","organizations_url":"https://api.github.com/users/amaembo/orgs","repos_url":"https://api.github.com/users/amaembo/repos","events_url":"https://api.github.com/users/amaembo/events{/privacy}","received_events_url":"https://api.github.com/users/amaembo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2016-08-23T17:18:37Z","state_reason":null,"performed_via_github_app":null}]