diff --git a/src/main/java/one/util/streamex/CharSpliterator.java b/src/main/java/one/util/streamex/CharSpliterator.java
index 489a9d8..b3d5188 100644
--- a/src/main/java/one/util/streamex/CharSpliterator.java
+++ b/src/main/java/one/util/streamex/CharSpliterator.java
@@ -126,7 +126,7 @@ import java.util.function.Consumer;
 
     @Override
     public long estimateSize() {
-        return fence-pos;
+        return pos > fence ? 0 : fence - pos;
     }
 
     @Override
diff --git a/src/test/java/one/util/streamex/CharSpliteratorTest.java b/src/test/java/one/util/streamex/CharSpliteratorTest.java
index 1f47375..9548e00 100644
--- a/src/test/java/one/util/streamex/CharSpliteratorTest.java
+++ b/src/test/java/one/util/streamex/CharSpliteratorTest.java
@@ -16,9 +16,11 @@
 package one.util.streamex;
 
 import static one.util.streamex.TestHelpers.*;
+import static org.junit.Assert.*;
 
 import java.util.Arrays;
 import java.util.Random;
+import java.util.Spliterator;
 
 import org.junit.Test;
 
@@ -26,6 +28,20 @@ import org.junit.Test;
  * @author Tagir Valeev
  */
 public class CharSpliteratorTest {
+    @Test
+    public void testBasics() {
+        CharSpliterator spliterator = new CharSpliterator("abcd,efgh", ',', false);
+        assertTrue(spliterator.hasCharacteristics(Spliterator.ORDERED));
+        assertTrue(spliterator.hasCharacteristics(Spliterator.NONNULL));
+        assertFalse(spliterator.hasCharacteristics(Spliterator.SORTED));
+        assertFalse(spliterator.hasCharacteristics(Spliterator.SIZED));
+        assertEquals(9, spliterator.estimateSize());
+        assertTrue(spliterator.tryAdvance(a -> {}));
+        assertEquals(4, spliterator.estimateSize());
+        assertTrue(spliterator.tryAdvance(a -> {}));
+        assertEquals(0, spliterator.estimateSize());
+    }
+    
     @Test
     public void testSpliterator() {
         // Empty string is processed differently by CharSpliterator, but this is fixed in StreamEx.split
