diff --git a/CHANGES.txt b/CHANGES.txt
index 59ec16e26..8427952a1 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -78,6 +78,9 @@ BUGFIXES:
   (phunt and breed via mahadev)
 
   ZOOKEEPER-1269. Multi deserialization issues. (Camille Fournier via mahadev)
+
+  ZOOKEEPER-1323. c client doesn't compile on freebsd
+  (michi mutsuzaki via phunt)
  
 IMPROVEMENTS:
 
diff --git a/src/c/src/zookeeper.c b/src/c/src/zookeeper.c
index bd2d980e7..f117b18b8 100644
--- a/src/c/src/zookeeper.c
+++ b/src/c/src/zookeeper.c
@@ -442,7 +442,8 @@ static void setup_random()
 static int getaddrinfo_errno(int rc) { 
     switch(rc) {
     case EAI_NONAME:
-#if EAI_NODATA != EAI_NONAME
+// ZOOKEEPER-1323 EAI_NODATA and EAI_ADDRFAMILY are deprecated in FreeBSD.
+#if defined EAI_NODATA && EAI_NODATA != EAI_NONAME
     case EAI_NODATA:
 #endif
         return ENOENT;
@@ -578,7 +579,12 @@ int getaddrs(zhandle_t *zh)
             // ai_flags as AI_ADDRCONFIG
 #ifdef AI_ADDRCONFIG
             if ((hints.ai_flags == AI_ADDRCONFIG) && 
+// ZOOKEEPER-1323 EAI_NODATA and EAI_ADDRFAMILY are deprecated in FreeBSD.
+#ifdef EAI_ADDRFAMILY
                 ((rc ==EAI_BADFLAGS) || (rc == EAI_ADDRFAMILY))) {
+#else
+                (rc == EAI_BADFLAGS)) {
+#endif
                 //reset ai_flags to null
                 hints.ai_flags = 0;
                 //retry getaddrinfo
