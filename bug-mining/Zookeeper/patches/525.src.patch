diff --git a/CHANGES.txt b/CHANGES.txt
index 71d40695b..b84e5c63c 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -557,6 +557,9 @@ IMPROVEMENTS:
 
   ZOOKEEPER-1679. c client: use -Wdeclaration-after-statement (michi via fpj)
 
+  ZOOKEEPER-1750 Race condition producing NPE in NIOServerCnxn.toString
+  (Rakesh R via michim)
+
 Release 3.4.0 - 
 
 Non-backward compatible changes:
diff --git a/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java b/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
index 2094b1a79..96529adf4 100644
--- a/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
+++ b/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
@@ -31,7 +31,6 @@
 import java.nio.channels.SocketChannel;
 import java.util.List;
 import java.util.Queue;
-import java.util.Set;
 import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.atomic.AtomicInteger;
 import java.util.concurrent.LinkedBlockingQueue;
@@ -63,7 +62,7 @@ public class NIOServerCnxn extends ServerCnxn {
 
     private final NIOServerCnxnFactory factory;
 
-    private SocketChannel sock;
+    private final SocketChannel sock;
 
     private final SelectorThread selectorThread;
 
@@ -139,7 +138,7 @@ void sendBufferSync(ByteBuffer bb) {
             * a tight while loop
             */
            if (bb != ServerCnxnFactory.closeConn) {
-               if (sock != null) {
+               if (sock.isOpen()) {
                    sock.configureBlocking(true);
                    sock.write(bb);
                }
@@ -307,7 +306,7 @@ void handleWrite(SelectionKey k) throws IOException, CloseRequestException {
      */
     void doIO(SelectionKey k) throws InterruptedException {
         try {
-            if (sock == null) {
+            if (sock.isOpen() == false) {
                 LOG.warn("trying to do i/o on a null socket for session:0x"
                          + Long.toHexString(sessionId));
 
@@ -993,7 +992,7 @@ public void close() {
      * Close resources associated with the sock of this cnxn.
      */
     private void closeSock() {
-        if (sock == null) {
+        if (sock.isOpen() == false) {
             return;
         }
 
@@ -1003,14 +1002,13 @@ private void closeSock() {
                         " which had sessionid 0x" + Long.toHexString(sessionId) :
                         " (no session established for client)"));
         closeSock(sock);
-        sock = null;
     }
 
     /**
      * Close resources associated with a sock.
      */
     public static void closeSock(SocketChannel sock) {
-        if (sock == null) {
+        if (sock.isOpen() == false) {
             return;
         }
 
@@ -1152,14 +1150,14 @@ public int getInterestOps() {
 
     @Override
     public InetSocketAddress getRemoteSocketAddress() {
-        if (sock == null) {
+        if (sock.isOpen() == false) {
             return null;
         }
         return (InetSocketAddress) sock.socket().getRemoteSocketAddress();
     }
 
     public InetAddress getSocketAddress() {
-        if (sock == null) {
+        if (sock.isOpen() == false) {
             return null;
         }
         return sock.socket().getInetAddress();
diff --git a/src/java/test/org/apache/zookeeper/server/NIOServerCnxnTest.java b/src/java/test/org/apache/zookeeper/server/NIOServerCnxnTest.java
new file mode 100644
index 000000000..da61e3695
--- /dev/null
+++ b/src/java/test/org/apache/zookeeper/server/NIOServerCnxnTest.java
@@ -0,0 +1,64 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.zookeeper.server;
+
+import java.io.IOException;
+
+import junit.framework.Assert;
+
+import org.apache.zookeeper.CreateMode;
+import org.apache.zookeeper.KeeperException;
+import org.apache.zookeeper.ZooDefs.Ids;
+import org.apache.zookeeper.ZooKeeper;
+import org.apache.zookeeper.test.ClientBase;
+import org.junit.Test;
+
+public class NIOServerCnxnTest extends ClientBase {
+
+    /**
+     * Test operations on ServerCnxn after socket closure.
+     */
+    @Test(timeout = 60000)
+    public void testOperationsAfterCnxnClose() throws IOException,
+            InterruptedException, KeeperException {
+        final ZooKeeper zk = createClient();
+
+        final String path = "/a";
+        try {
+            // make sure zkclient works
+            zk.create(path, "test".getBytes(), Ids.OPEN_ACL_UNSAFE,
+                    CreateMode.PERSISTENT);
+            Assert.assertNotNull("Didn't create znode:" + path,
+                    zk.exists(path, false));
+            // Defaults ServerCnxnFactory would be instantiated with
+            // NIOServerCnxnFactory
+            Assert.assertTrue(
+                    "Didn't instantiate ServerCnxnFactory with NIOServerCnxnFactory!",
+                    serverFactory instanceof NIOServerCnxnFactory);
+            Iterable<ServerCnxn> connections = serverFactory.getConnections();
+            for (ServerCnxn serverCnxn : connections) {
+                String cnxnStr = serverCnxn.toString();
+                serverCnxn.close();
+                Assert.assertEquals("Connection mismatches!", cnxnStr,
+                        serverCnxn.toString());
+            }
+        } finally {
+            zk.close();
+        }
+    }
+}
