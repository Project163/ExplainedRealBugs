diff --git a/CHANGES.txt b/CHANGES.txt
index 2821c36f9..dee948b9d 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -290,6 +290,9 @@ BUGFIXES:
   ZOOKEEPER-1387. Wrong epoch file created
   (Benjamin Busjaeger via breed, phunt)
 
+  ZOOKEEPER-1578. org.apache.zookeeper.server.quorum.Zab1_0Test failed due to
+  hard code with 33556 port (Li Ping via mahadev)
+
 IMPROVEMENTS:
 
   ZOOKEEPER-1170. Fix compiler (eclipse) warnings: unused imports,
diff --git a/src/java/test/org/apache/zookeeper/server/quorum/Zab1_0Test.java b/src/java/test/org/apache/zookeeper/server/quorum/Zab1_0Test.java
index 151e2c2dc..370e7bbbb 100644
--- a/src/java/test/org/apache/zookeeper/server/quorum/Zab1_0Test.java
+++ b/src/java/test/org/apache/zookeeper/server/quorum/Zab1_0Test.java
@@ -38,6 +38,7 @@
 import org.apache.jute.BinaryOutputArchive;
 import org.apache.jute.InputArchive;
 import org.apache.jute.OutputArchive;
+import org.apache.zookeeper.PortAssignment;
 import org.apache.zookeeper.WatchedEvent;
 import org.apache.zookeeper.Watcher;
 import org.apache.zookeeper.Watcher.Event.EventType;
@@ -957,7 +958,7 @@ private LeaderZooKeeperServer prepareLeader(File tmpDir, QuorumPeer peer)
         peer.setTxnFactory(logFactory);
         Field addrField = peer.getClass().getDeclaredField("myQuorumAddr");
         addrField.setAccessible(true);
-        addrField.set(peer, new InetSocketAddress(33556));
+        addrField.set(peer, new InetSocketAddress(PortAssignment.unique()));
         ZKDatabase zkDb = new ZKDatabase(logFactory);
         LeaderZooKeeperServer zk = new LeaderZooKeeperServer(logFactory, peer, zkDb);
         return zk;
