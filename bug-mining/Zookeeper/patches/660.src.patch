diff --git a/CHANGES.txt b/CHANGES.txt
index 235796818..7a366ec96 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,6 +4,8 @@ NEW FEATURES:
   ZOOKEEPER-2069 Netty Support for ClientCnxnSocket (Hongchao via fpj)
 
 BUGFIXES:
+  ZOOKEEPER-1784 wrong check for COMMITANDACTIVATE in observer code, Learner.java (rgs via shralex).
+
   ZOOKEEPER-2047 testTruncationNullLog fails on windows (flavio via rakeshr)
 
   ZOOKEEPER-2026 Startup order in ServerCnxnFactory-ies is wrong (Stevo Slavic via rakeshr)
diff --git a/src/java/main/org/apache/zookeeper/server/quorum/Learner.java b/src/java/main/org/apache/zookeeper/server/quorum/Learner.java
index 4dd1e9473..87f4c0627 100644
--- a/src/java/main/org/apache/zookeeper/server/quorum/Learner.java
+++ b/src/java/main/org/apache/zookeeper/server/quorum/Learner.java
@@ -422,7 +422,7 @@ else if (qp.getType() == Leader.SNAP) {
                     PacketInFlight packet = new PacketInFlight();
                     packet.hdr = new TxnHeader();
 
-                    if (qp.getType() == Leader.COMMITANDACTIVATE) {
+                    if (qp.getType() == Leader.INFORMANDACTIVATE) {
                         ByteBuffer buffer = ByteBuffer.wrap(qp.getData());
                         long suggestedLeaderId = buffer.getLong();
                         byte[] remainingdata = new byte[buffer.remaining()];
