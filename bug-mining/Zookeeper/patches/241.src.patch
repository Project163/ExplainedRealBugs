diff --git a/CHANGES.txt b/CHANGES.txt
index a66a54ea4..a1254a632 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -285,6 +285,9 @@ BUGFIXES:
   ZOOKEEPER-121_3. SyncRequestProcessor is not closing log stream during
   shutdown (mahadev via phunt)
 
+  ZOOKEEPER-121_4. SyncRequestProcessor is not closing log stream during
+  shutdown (mahadev via breed)
+
 IMPROVEMENTS:
   ZOOKEEPER-473. cleanup junit tests to eliminate false positives due to
   "socket reuse" and failure to close client (phunt via mahadev)
diff --git a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
index c502ec6f6..714ceaabd 100644
--- a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
+++ b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
@@ -672,11 +672,6 @@ public void run() {
 
     public void shutdown() {
         running = false;
-        try {
-            zkDb.close();
-        } catch (IOException ie) {
-            LOG.warn("Error closing logs ", ie);
-        }
         if (leader != null) {
             leader.shutdown("quorum Peer shutdown");
         }
@@ -691,6 +686,11 @@ public void shutdown() {
         if(getElectionAlg() != null){
         	getElectionAlg().shutdown();
         }
+        try {
+            zkDb.close();
+        } catch (IOException ie) {
+            LOG.warn("Error closing logs ", ie);
+        }     
     }
 
     /**
diff --git a/src/java/test/org/apache/zookeeper/test/QuorumQuotaTest.java b/src/java/test/org/apache/zookeeper/test/QuorumQuotaTest.java
index e1f531b42..8f3bafc30 100644
--- a/src/java/test/org/apache/zookeeper/test/QuorumQuotaTest.java
+++ b/src/java/test/org/apache/zookeeper/test/QuorumQuotaTest.java
@@ -40,11 +40,13 @@ public class QuorumQuotaTest extends QuorumBase {
     @Override
     protected void setUp() throws Exception {
         super.setUp();
+        LOG.info("STARTING " + getClass().getName());
     }
 
     @Override
     protected void tearDown() throws Exception {
         super.tearDown();
+        LOG.info("STOPPING " + getClass().getName());
     }
 
     public void testQuotaWithQuorum() throws Exception {
diff --git a/src/java/test/org/apache/zookeeper/test/QuorumZxidSyncTest.java b/src/java/test/org/apache/zookeeper/test/QuorumZxidSyncTest.java
index 04244aa58..f53e848c5 100644
--- a/src/java/test/org/apache/zookeeper/test/QuorumZxidSyncTest.java
+++ b/src/java/test/org/apache/zookeeper/test/QuorumZxidSyncTest.java
@@ -41,7 +41,7 @@ public class QuorumZxidSyncTest extends TestCase {
     @Before
     @Override
     protected void setUp() throws Exception {
-        qb.setUp();
+    	qb.setUp();
     }
     
     @Test
diff --git a/src/java/test/org/apache/zookeeper/test/ZkDatabaseCorruptionTest.java b/src/java/test/org/apache/zookeeper/test/ZkDatabaseCorruptionTest.java
index e18115b3d..2f7547f6f 100644
--- a/src/java/test/org/apache/zookeeper/test/ZkDatabaseCorruptionTest.java
+++ b/src/java/test/org/apache/zookeeper/test/ZkDatabaseCorruptionTest.java
@@ -44,10 +44,12 @@ public class ZkDatabaseCorruptionTest extends QuorumBase {
     @Before
     @Override
     protected void setUp() throws Exception {
+    	LOG.info("STARTING " + getClass().getName());
         qb.setUp();
     }
         
     protected void tearDown() throws Exception {
+    	LOG.info("STOPPING " + getClass().getName());
     }
     
     private void corruptFile(File f) throws IOException {
diff --git a/src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java b/src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java
index 9741cc129..70374a846 100644
--- a/src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java
+++ b/src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java
@@ -42,11 +42,13 @@ public class ZooKeeperQuotaTest extends ClientBase {
     @Override
     protected void setUp() throws Exception {
         super.setUp();
+        LOG.info("STARTING " + getClass().getName());
     }
 
     @Override
     protected void tearDown() throws Exception {
         super.tearDown();
+        LOG.info("STOPPING " + getClass().getName());
     }
 
     public void testQuota() throws IOException,
