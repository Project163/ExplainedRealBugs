diff --git a/CHANGES.txt b/CHANGES.txt
index 4ed0ad7d4..65a1af793 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -370,6 +370,9 @@ BUGFIXES:
   creating temporary file with some junk folder name for
   zookeeper_server.pid (Rakesh Kumar Singh via phunt)
 
+  ZOOKEEPER-2539: Throwing nullpointerException when run the command
+  "config -c" when client port is mentioned as separate and not like
+  new style (Rakesh Kumar Singh via phunt)
 
 IMPROVEMENTS:
   ZOOKEEPER-2024 Major throughput improvement with mixed workloads (Kfir Lev-Ari via shralex)
diff --git a/src/java/main/org/apache/zookeeper/server/util/ConfigUtils.java b/src/java/main/org/apache/zookeeper/server/util/ConfigUtils.java
index af21f46ac..1ca37d1f8 100644
--- a/src/java/main/org/apache/zookeeper/server/util/ConfigUtils.java
+++ b/src/java/main/org/apache/zookeeper/server/util/ConfigUtils.java
@@ -28,11 +28,11 @@
 
 
 public class ConfigUtils {
-	static public String getClientConfigStr(String configData) {
-        Properties props = new Properties();    	
+    static public String getClientConfigStr(String configData) {
+        Properties props = new Properties();        
         try {
           props.load(new StringReader(configData));
-		} catch (IOException e) {
+        } catch (IOException e) {
             e.printStackTrace();
             return "";
         }
@@ -43,17 +43,20 @@ static public String getClientConfigStr(String configData) {
              String key = entry.getKey().toString().trim();
              String value = entry.getValue().toString().trim();
              if (key.equals("version")) version = value;
-             if (!key.startsWith("server.")) continue;	         
+             if (!key.startsWith("server.")) continue;           
              QuorumPeer.QuorumServer qs;
              try {
                qs = new QuorumPeer.QuorumServer(-1, value);
-             } catch (ConfigException e) {				
+             } catch (ConfigException e) {              
                     e.printStackTrace();
                     continue;
              }
              if (!first) sb.append(",");
              else first = false;
-             sb.append(qs.clientAddr.getHostString() + ":" + qs.clientAddr.getPort());
+             if (null != qs.clientAddr) {
+                 sb.append(qs.clientAddr.getHostString()
+                         + ":" + qs.clientAddr.getPort());
+             }
         }
         return version + " " + sb.toString();
     }
