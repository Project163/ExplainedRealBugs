diff --git a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
index 60e87d32f..eacbd1b23 100644
--- a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
+++ b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
@@ -446,7 +446,7 @@ public void checkValidity() throws IOException, ConfigException{
                        && clientPortAddress.getPort()!=qs.clientAddr.getPort())) 
                throw new ConfigException("client address for this server (id = " + serverId + ") in static config file is " + clientPortAddress + " is different from client address found in dynamic file: " + qs.clientAddr);                    
            } 
-            if (qs!=null) clientPortAddress = qs.clientAddr;                       
+            if (qs!=null && qs.clientAddr != null) clientPortAddress = qs.clientAddr;                       
             
             // Warn about inconsistent peer type
             LearnerType roleByServersList = quorumVerifier.getObservingMembers().containsKey(serverId) ? LearnerType.OBSERVER
diff --git a/src/java/test/org/apache/zookeeper/server/util/DynamicConfigBCTest.java b/src/java/test/org/apache/zookeeper/server/util/DynamicConfigBCTest.java
index 4caba0d83..02838b4ed 100644
--- a/src/java/test/org/apache/zookeeper/server/util/DynamicConfigBCTest.java
+++ b/src/java/test/org/apache/zookeeper/server/util/DynamicConfigBCTest.java
@@ -107,6 +107,9 @@ public void dynamicConfigBackwardCompatibilityTest() throws IOException, ConfigE
             QuorumPeerConfig config = new QuorumPeerConfig();
             config.parse(confFile.toString());
             
+            Assert.assertTrue(config.getClientPortAddress() != null 
+                && config.getClientPortAddress().getPort() == CLIENT_PORT_QP1);
+
             setDynamicConfigFilename(config.getDynamicConfigFilename());
             setConfigFileName(config.getConfigFilename());
             setConfigBackwardCompatibility(config.getConfigBackwardCompatibility());
