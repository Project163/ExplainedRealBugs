diff --git a/CHANGES.txt b/CHANGES.txt
index f7fb74ebf..d642292f9 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -41,12 +41,14 @@ daroch and ben reed via mahadev)
 
    ZOOKEEPER-232. fix apache licence header in TestableZookeeper (mahadev)
 
+   ZOOKEEPER-249. QuorumPeer.getClientPort() always returns -1. (nitay 
+joffe via mahadev)
+
 IMPROVEMENTS:
    
    ZOOKEEPER-64. Log system env information when initializing server and
 client (pat via mahadev)
 
-
 Release 3.0.0 - 2008-10-21
 
 Non-backward compatible changes:
diff --git a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
index c204cda38..076537435 100644
--- a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
+++ b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java
@@ -574,7 +574,7 @@ public void setQuorumPeers(HashMap<Long,QuorumServer> quorumPeers) {
     }
 
     public int getClientPort() {
-        return -1;
+        return cnxnFactory.getLocalPort();
     }
 
     public void setClientPort(int clientPort) {
diff --git a/src/java/test/org/apache/zookeeper/test/QuorumTest.java b/src/java/test/org/apache/zookeeper/test/QuorumTest.java
index 7abbf8bdd..fb9395f0f 100644
--- a/src/java/test/org/apache/zookeeper/test/QuorumTest.java
+++ b/src/java/test/org/apache/zookeeper/test/QuorumTest.java
@@ -74,14 +74,19 @@ void startServers() throws IOException, InterruptedException {
         
         LOG.info("creating QuorumPeer 1");
         s1 = new QuorumPeer(peers, s1dir, s1dir, 2181, 0, 1, tickTime, initLimit, syncLimit);
+        assertEquals(2181, s1.getClientPort());
         LOG.info("creating QuorumPeer 2");
         s2 = new QuorumPeer(peers, s2dir, s2dir, 2182, 0, 2, tickTime, initLimit, syncLimit);
+        assertEquals(2182, s2.getClientPort());
         LOG.info("creating QuorumPeer 3");
         s3 = new QuorumPeer(peers, s3dir, s3dir, 2183, 0, 3, tickTime, initLimit, syncLimit);
+        assertEquals(2183, s3.getClientPort());
         LOG.info("creating QuorumPeer 4");
         s4 = new QuorumPeer(peers, s4dir, s4dir, 2184, 0, 4, tickTime, initLimit, syncLimit);
+        assertEquals(2184, s4.getClientPort());
         LOG.info("creating QuorumPeer 5");
         s5 = new QuorumPeer(peers, s5dir, s5dir, 2185, 0, 5, tickTime, initLimit, syncLimit);
+        assertEquals(2185, s5.getClientPort());
         LOG.info("start QuorumPeer 1");
         s1.start();
         LOG.info("start QuorumPeer 2");
