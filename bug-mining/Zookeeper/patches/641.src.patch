diff --git a/CHANGES.txt b/CHANGES.txt
index 81142119f..984f05236 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -741,6 +741,9 @@ BUGFIXES:
   ZOOKEEPER-1877. Malformed ACL Id can crash server with skipACL=yes
   (Chris Chen via phunt)
 
+  ZOOKEEPER-1974. winvs2008 jenkins job failing with "unresolved
+  external symbol" (flavio via phunt)
+
 IMPROVEMENTS:
 
   ZOOKEEPER-1170. Fix compiler (eclipse) warnings: unused imports,
diff --git a/src/c/src/zookeeper.c b/src/c/src/zookeeper.c
index 782ac52a0..1cb87483a 100644
--- a/src/c/src/zookeeper.c
+++ b/src/c/src/zookeeper.c
@@ -2004,8 +2004,9 @@ static void zookeeper_set_sock_noblock(zhandle_t *zh, socket_t sock)
 
 static void zookeeper_set_sock_timeout(zhandle_t *zh, socket_t s, int timeout)
 {
-    struct timeval tv = { .tv_sec = timeout };
+    struct timeval tv;
 
+    tv.tv_sec = timeout;
     setsockopt(s, SOL_SOCKET, SO_SNDTIMEO, &tv, sizeof(struct timeval));
     setsockopt(s, SOL_SOCKET, SO_RCVTIMEO, &tv, sizeof(struct timeval));
 }
