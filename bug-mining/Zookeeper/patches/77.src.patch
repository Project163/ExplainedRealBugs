diff --git a/CHANGES.txt b/CHANGES.txt
index 49905dfca..41720a8e6 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -8,6 +8,9 @@ Backward compatibile changes:
 
 BUGFIXES: 
   ZOOKEEPER-303. Bin scripts dont work on a Mac. (tom white via mahadev)
+  
+  ZOOKEEPER-330. zookeeper standalone server does not startup with just a port
+and datadir. (chris darroch and mahadev)
  
 IMPROVEMENTS:
   ZOOKEEPER-308. improve the atomic broadcast performance 3x. (breed via
diff --git a/src/java/main/org/apache/zookeeper/server/ServerConfig.java b/src/java/main/org/apache/zookeeper/server/ServerConfig.java
index 9bf92b874..8b7addfc1 100644
--- a/src/java/main/org/apache/zookeeper/server/ServerConfig.java
+++ b/src/java/main/org/apache/zookeeper/server/ServerConfig.java
@@ -22,12 +22,15 @@ public class ServerConfig {
     private int clientPort;
     private String dataDir;
     private String dataLogDir;
+    private int tickTime;
     
-    protected ServerConfig(int port, String dataDir,String dataLogDir) {
+    protected ServerConfig(int port, String dataDir,String dataLogDir, int tickTime) {
         this.clientPort = port;
         this.dataDir = dataDir;
         this.dataLogDir=dataLogDir;
+        this.tickTime = tickTime;
     }
+    
     protected boolean isStandaloneServer(){
         return true;
     }
@@ -49,16 +52,27 @@ public static boolean isStandalone(){
         return instance.isStandaloneServer();
     }
     
+    public static int getTickTime() {
+        assert instance != null;
+        return instance.tickTime;
+    }
+    
     protected static ServerConfig instance=null;
     
     public static void parse(String[] args) throws Exception {
         if(instance!=null)
             return;
-        if (args.length != 2) {
+        if (args.length < 2) {
             throw new IllegalArgumentException("Invalid usage.");
         }
+        int tickTime = ZooKeeperServer.DEFAULT_TICK_TIME;
+        if (args.length > 2) {
+            // the last parameter ticktime is optional
+            tickTime = Integer.parseInt(args[2]);
+        }
         try {
-              instance=new ServerConfig(Integer.parseInt(args[0]),args[1],args[1]);
+              instance=new ServerConfig(Integer.parseInt(args[0]),args[1],
+                      args[1], tickTime);
         } catch (NumberFormatException e) {
             throw new IllegalArgumentException(args[0] + " is not a valid port number");
         }
diff --git a/src/java/main/org/apache/zookeeper/server/ZooKeeperServer.java b/src/java/main/org/apache/zookeeper/server/ZooKeeperServer.java
index 568540c42..ac0f58843 100644
--- a/src/java/main/org/apache/zookeeper/server/ZooKeeperServer.java
+++ b/src/java/main/org/apache/zookeeper/server/ZooKeeperServer.java
@@ -93,7 +93,7 @@ public DataTree build() {
         }
     }
 
-    private static final int DEFAULT_TICK_TIME = 3000;
+    public static final int DEFAULT_TICK_TIME = 3000;
     protected int tickTime = DEFAULT_TICK_TIME;
 
     public static final int commitLogCount = 500;
diff --git a/src/java/main/org/apache/zookeeper/server/ZooKeeperServerMain.java b/src/java/main/org/apache/zookeeper/server/ZooKeeperServerMain.java
index bcfc03796..c879c3553 100644
--- a/src/java/main/org/apache/zookeeper/server/ZooKeeperServerMain.java
+++ b/src/java/main/org/apache/zookeeper/server/ZooKeeperServerMain.java
@@ -34,7 +34,7 @@
 public class ZooKeeperServerMain {
 
     private static final Logger LOG = Logger.getLogger(ZooKeeperServerMain.class);
-    private static final String USAGE = "Usage: ZooKeeperServerMain port datadir";
+    private static final String USAGE = "Usage: ZooKeeperServerMain configfile | port datadir [ticktime]";
     /*
      * Start up the ZooKeeper server.
      *
@@ -48,7 +48,11 @@ public static void main(String[] args) {
         }
 
         try {
-            QuorumPeerConfig.parse(args);
+            if (args.length == 1) {
+                QuorumPeerConfig.parse(args);
+            } else {
+                ServerConfig.parse(args);
+            }
         } catch(Exception e) {
             LOG.fatal("Error in config", e);
             LOG.info(USAGE);
@@ -67,7 +71,7 @@ public ZooKeeperServer createServer() throws IOException {
                        File(ServerConfig.getDataLogDir()),
                         new File(ServerConfig.getDataDir()));
                zks.setTxnLogFactory(ftxn);
-               zks.setTickTime(QuorumPeerConfig.getTickTime());
+               zks.setTickTime(ServerConfig.getTickTime());
                return zks;
             }
         });
diff --git a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
index 082642132..de98c7e31 100644
--- a/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
+++ b/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java
@@ -30,6 +30,7 @@
 import org.apache.log4j.Logger;
 
 import org.apache.zookeeper.server.ServerConfig;
+import org.apache.zookeeper.server.ZooKeeperServer;
 import org.apache.zookeeper.server.quorum.QuorumPeer.QuorumServer;
 
 public class QuorumPeerConfig extends ServerConfig {
@@ -43,8 +44,8 @@ public class QuorumPeerConfig extends ServerConfig {
     private HashMap<Long,QuorumServer> servers = null;
     private long serverId;
 
-    private QuorumPeerConfig(int port, String dataDir, String dataLogDir) {
-        super(port, dataDir, dataLogDir);
+    private QuorumPeerConfig(int port, String dataDir, String dataLogDir, int tickTime) {
+        super(port, dataDir, dataLogDir, tickTime);
     }
 
     public static void parse(String[] args) throws Exception {
@@ -137,8 +138,7 @@ else if (parts.length == 3) {
             throw new IllegalArgumentException("syncLimit is not set");
         }
         QuorumPeerConfig conf = new QuorumPeerConfig(clientPort, dataDir,
-                dataLogDir);
-        conf.tickTime = tickTime;
+                dataLogDir, tickTime);
         conf.initLimit = initLimit;
         conf.syncLimit = syncLimit;
         conf.electionAlg = electionAlg;
