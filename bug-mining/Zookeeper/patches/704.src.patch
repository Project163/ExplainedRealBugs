diff --git a/CHANGES.txt b/CHANGES.txt
index c6514e007..1a7dd4789 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -154,6 +154,9 @@ BUGFIXES:
   ZOOKEEPER-2239: JMX State from LocalPeerBean incorrect
   (Kevin Lee via rgs)
 
+  ZOOKEEPER-2245: SimpleSysTest test cases fails
+  (Arshad Mohammad via rgs)
+
 IMPROVEMENTS:
   ZOOKEEPER-1660 Documentation for Dynamic Reconfiguration (Reed Wanderman-Milne via shralex)  
 
diff --git a/src/java/systest/org/apache/zookeeper/test/system/BaseSysTest.java b/src/java/systest/org/apache/zookeeper/test/system/BaseSysTest.java
index 86108e48c..109c1b553 100644
--- a/src/java/systest/org/apache/zookeeper/test/system/BaseSysTest.java
+++ b/src/java/systest/org/apache/zookeeper/test/system/BaseSysTest.java
@@ -61,7 +61,9 @@ public void setUp() throws Exception {
     }
     @After
     public void tearDown() throws Exception {
-        im.close();
+        if (null != im) {
+            im.close();
+        }
     }
 
     int serverCount = defaultServerCount;
@@ -148,10 +150,17 @@ private void fakeConfigureServers(int count) throws IOException {
         qps = new QuorumPeer[count];
         qpsDirs = new File[count];
         for(int i = 1; i <= count; i++) {
-            peers.put(Long.valueOf(i), new QuorumServer(i, new InetSocketAddress("127.0.0.1", fakeBasePort + i)));
+            InetSocketAddress peerAddress = new InetSocketAddress("127.0.0.1",
+                    fakeBasePort + i);
+            InetSocketAddress electionAddr = new InetSocketAddress("127.0.0.1",
+                    serverCount + fakeBasePort + i);
+            peers.put(Long.valueOf(i), new QuorumServer(i, peerAddress,
+                    electionAddr));
         }
         StringBuilder sb = new StringBuilder();
         for(int i = 0; i < count; i++) {
+            //make that testData exists otherwise it fails on windows
+            testData.mkdirs();
             qpsDirs[i] = File.createTempFile("sysTest", ".tmp", testData);
             qpsDirs[i].delete();
             qpsDirs[i].mkdir();
diff --git a/src/java/systest/org/apache/zookeeper/test/system/SimpleClient.java b/src/java/systest/org/apache/zookeeper/test/system/SimpleClient.java
index 96c357c61..6ca5cc39c 100644
--- a/src/java/systest/org/apache/zookeeper/test/system/SimpleClient.java
+++ b/src/java/systest/org/apache/zookeeper/test/system/SimpleClient.java
@@ -51,7 +51,9 @@ public void start() {
         try {
             zk = new ZooKeeper(hostPort, 15000, this);
             zk.getData("/simpleCase", true, this, null);
-            r.report("Client " + index + " connecting to " + hostPort); 
+            if (null != r) {
+                r.report("Client " + index + " connecting to " + hostPort);
+            }
         } catch (Exception e) {
             e.printStackTrace();
         }
