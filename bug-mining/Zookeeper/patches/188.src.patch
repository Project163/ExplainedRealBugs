diff --git a/CHANGES.txt b/CHANGES.txt
index 545cfc9bd..0cdace185 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -151,6 +151,8 @@ BUGFIXES:
   ZOOKEEPER-597. ASyncHammerTest is failing intermittently on hudson trunk 
   (take 5) (mahadev)
 
+  ZOOKEEPER-611.  hudson build failiure (mahadev)
+
 IMPROVEMENTS:
   ZOOKEEPER-473. cleanup junit tests to eliminate false positives due to
   "socket reuse" and failure to close client (phunt via mahadev)
diff --git a/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java b/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
index dc3ba1fb9..b4291dd1f 100644
--- a/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
+++ b/src/java/main/org/apache/zookeeper/server/NIOServerCnxn.java
@@ -77,17 +77,13 @@ public void uncaughtException(Thread t, Throwable e) {
                 LOG.error("Thread " + t + " died", e);
             }
         });
-        
         /**
          * this is to avoid the jvm bug:
          * NullPointerException in Selector.open()
          * http://bugs.sun.com/view_bug.do?bug_id=6427854
          */
-        try {
-        	Selector.open().close();
-        } catch(IOException ie) {
-        	LOG.error("Exception while opening a selector", ie);
-        }
+        System.setProperty("sun.nio.ch.bugLevel", 
+                System.getProperty("sun.nio.ch.bugLevel",""));
     }
 
     static public class Factory extends Thread {
