diff --git a/CHANGES.txt b/CHANGES.txt
index 39c160f43..b23e57c3d 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -35,6 +35,9 @@ Backward compatibile changes:
 
   BUGFIXES: 
 
+  ZOOKEEPER-200. the magic number for snapshot and log must be different
+  (currently same) (phunt)
+
   ZOOKEEPER-199. fix log messages in persistence code (mahadev via phunt)
 
   ZOOKEEPER-197. create checksums for snapshots (mahadev via phunt)
diff --git a/src/java/main/org/apache/zookeeper/server/persistence/FileSnap.java b/src/java/main/org/apache/zookeeper/server/persistence/FileSnap.java
index b002ee44a..67bd8880b 100644
--- a/src/java/main/org/apache/zookeeper/server/persistence/FileSnap.java
+++ b/src/java/main/org/apache/zookeeper/server/persistence/FileSnap.java
@@ -51,11 +51,12 @@ public class FileSnap implements SnapShot {
     private static final int VERSION=2;
     private static final long dbId=-1;
     private static final Logger LOG = Logger.getLogger(FileSnap.class);
-    public final static int MAGIC = ByteBuffer.wrap("AK47".getBytes()).getInt();
+    public final static int SNAP_MAGIC
+        = ByteBuffer.wrap("ZKSN".getBytes()).getInt();
     public FileSnap(File snapDir) {
         this.snapDir = snapDir;
     }
-    
+
     /**
      * deserialize a data tree from the most recent snapshot
      * @return the zxid of the snapshot
@@ -81,7 +82,7 @@ public long deserialize(DataTree dt, Map<Long, Integer> sessions)
         dt.lastProcessedZxid = Util.getZxidFromName(snap.getName(), "snapshot");
         return dt.lastProcessedZxid;
     }
-    
+
     /**
      * deserialize the datatree from an inputarchive
      * @param dt the datatree to be serialized into
@@ -95,7 +96,7 @@ protected void deserialize(DataTree dt, Map<Long, Integer> sessions,
         header.deserialize(ia, "fileheader");
         SerializeUtils.deserializeSnapshot(dt,ia,sessions);
     }
-    
+
     /**
      * find the most recent snapshot in the database.
      * @return the file containing the most recent snapshot
@@ -119,7 +120,7 @@ public File findMostRecentSnapshot() throws IOException {
      */
     protected void serialize(DataTree dt,Map<Long, Integer> sessions,
             OutputArchive oa, FileHeader header) throws IOException {
-        // this is really a programmatic error and not something that can 
+        // this is really a programmatic error and not something that can
         // happen at runtime
         if(header==null)
             throw new IllegalStateException(
@@ -127,7 +128,7 @@ protected void serialize(DataTree dt,Map<Long, Integer> sessions,
         header.serialize(oa, "fileheader");
         SerializeUtils.serializeSnapshot(dt,oa,sessions);
     }
-    
+
     /**
      * serialize the datatree and session into the file snapshot
      * @param dt the datatree to be serialized
@@ -140,7 +141,7 @@ public void serialize(DataTree dt, Map<Long, Integer> sessions, File snapShot)
         CheckedOutputStream crcOut = new CheckedOutputStream(sessOS, new Adler32());
         //CheckedOutputStream cout = new CheckedOutputStream()
         OutputArchive oa = BinaryOutputArchive.getArchive(crcOut);
-        FileHeader header = new FileHeader(MAGIC, VERSION, dbId);
+        FileHeader header = new FileHeader(SNAP_MAGIC, VERSION, dbId);
         serialize(dt,sessions,oa, header);
         long val = crcOut.getChecksum().getValue();
         oa.writeLong(val, "val");
@@ -149,5 +150,5 @@ public void serialize(DataTree dt, Map<Long, Integer> sessions, File snapShot)
         crcOut.close();
         sessOS.close();
     }
-   
+
  }
\ No newline at end of file
diff --git a/src/java/main/org/apache/zookeeper/server/persistence/FileTxnLog.java b/src/java/main/org/apache/zookeeper/server/persistence/FileTxnLog.java
index 9de69ed93..1c2993085 100644
--- a/src/java/main/org/apache/zookeeper/server/persistence/FileTxnLog.java
+++ b/src/java/main/org/apache/zookeeper/server/persistence/FileTxnLog.java
@@ -53,7 +53,8 @@ public class FileTxnLog implements TxnLog {
     volatile OutputArchive oa;
     
     File logDir;
-    public final static int MAGIC = ByteBuffer.wrap("AK47".getBytes()).getInt();
+    public final static int TXNLOG_MAGIC =
+        ByteBuffer.wrap("ZKLG".getBytes()).getInt();
     public final static int VERSION = 2;
     private boolean forceSync = true;
     long dbId;
@@ -127,7 +128,7 @@ public synchronized void append(TxnHeader hdr, Record txn)
                        Long.toHexString(hdr.getZxid())));
                logStream=new FileOutputStream(logFileWrite);
                oa = BinaryOutputArchive.getArchive(logStream);
-               FileHeader fhdr = new FileHeader(MAGIC,VERSION, dbId);
+               FileHeader fhdr = new FileHeader(TXNLOG_MAGIC,VERSION, dbId);
                fhdr.serialize(oa, "fileheader");
                currentSize = logStream.getChannel().position();
                streamsToFlush.add(logStream);
