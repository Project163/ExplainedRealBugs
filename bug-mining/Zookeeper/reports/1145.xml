<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:05:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-4733]  non-return function error and asan error in CPPUNIT TESTs</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-4733</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;when enable Werror=return-type check in gcc, the following error occurs:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;zookeeper/zookeeper-client/zookeeper-client-c/tests/ZooKeeperQuorumServer.cc: In static member function &#8216;static std::vector&amp;lt;ZooKeeperQuorumServer*&amp;gt; ZooKeeperQuorumServer::getCluster(uint32_t, ZooKeeperQuorumServer::tConfigPairs, std::__cxx11::string)&#8217;:&lt;br/&gt;
zookeeper/zookeeper-client/zookeeper-client-c/tests/ZooKeeperQuorumServer.cc:230:1: error: control reaches end of non-void function &lt;span class=&quot;error&quot;&gt;&amp;#91;-Werror=return-type&amp;#93;&lt;/span&gt;&lt;br/&gt;
 }&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;when enable asan option on cppunit test, the following error occurs:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;1: Zookeeper_reconfig::testMigrationCycle=================================================================&lt;br/&gt;
1: ==415554==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x60d00000cf6f at pc 0x560905cbbd12 bp 0x7ffe32d10af0 sp 0x7ffe32d10ae8&lt;br/&gt;
1: READ of size 1 at 0x60d00000cf6f thread T0&lt;br/&gt;
1:     #0 0x560905cbbd11 in Zookeeper_reconfig::testMigrationCycle() zookeeper/zookeeper-client/zookeeper-client-c/tests/TestReconfig.cc:502&lt;br/&gt;
1:     #1 0x560905cc21a1 in CppUnit::TestCaller&amp;lt;Zookeeper_reconfig&amp;gt;::runTest() /usr/include/cppunit/TestCaller.h:166&lt;br/&gt;
1:     #2 0x7fb8248815b1 in CppUnit::TestCaseMethodFunctor::operator()() const (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x235b1)&lt;br/&gt;
1:     #3 0x7fb824877eb2 in CppUnit::DefaultProtector::protect(CppUnit::Functor const&amp;amp;, CppUnit::ProtectorContext const&amp;amp;) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x19eb2)&lt;br/&gt;
1:     #4 0x7fb82487e7e1 in CppUnit::ProtectorChain::protect(CppUnit::Functor const&amp;amp;, CppUnit::ProtectorContext const&amp;amp;) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x207e1)&lt;br/&gt;
1:     #5 0x7fb824886e4f in CppUnit::TestResult::protect(CppUnit::Functor const&amp;amp;, CppUnit::Test*, std::__cxx11::basic_string&amp;lt;char, std::char_traits&amp;lt;char&amp;gt;, std::allocator&amp;lt;char&amp;gt; &amp;gt; const&amp;amp;) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x28e4f)&lt;br/&gt;
1:     #6 0x7fb82488138f in CppUnit::TestCase::run(CppUnit::TestResult*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x2338f)&lt;br/&gt;
1:     #7 0x7fb8248818e2 in CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x238e2)&lt;br/&gt;
1:     #8 0x7fb8248817fd in CppUnit::TestComposite::run(CppUnit::TestResult*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x237fd)&lt;br/&gt;
1:     #9 0x7fb8248818e2 in CppUnit::TestComposite::doRunChildTests(CppUnit::TestResult*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x238e2)&lt;br/&gt;
1:     #10 0x7fb8248817fd in CppUnit::TestComposite::run(CppUnit::TestResult*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x237fd)&lt;br/&gt;
1:     #11 0x7fb824886d71 in CppUnit::TestResult::runTest(CppUnit::Test*) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x28d71)&lt;br/&gt;
1:     #12 0x7fb82488947d in CppUnit::TestRunner::run(CppUnit::TestResult&amp;amp;, std::__cxx11::basic_string&amp;lt;char, std::char_traits&amp;lt;char&amp;gt;, std::allocator&amp;lt;char&amp;gt; &amp;gt; const&amp;amp;) (/usr/lib/x86_64-linux-gnu/libcppunit-1.13.so.0+0x2b47d)&lt;br/&gt;
1:     #13 0x560905c918a5 in main zookeeper/zookeeper-client/zookeeper-client-c/tests/TestDriver.cc:152&lt;br/&gt;
1:     #14 0x7fb8230b42e0 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x202e0)&lt;br/&gt;
1:     #15 0x560905c914c9 in _start (build/zookeeper/zookeeper-client/zookeeper-client-c/zktest+0x154c9)&lt;br/&gt;
1: &lt;br/&gt;
1: 0x60d00000cf6f is located 1 bytes to the left of 138-byte region [0x60d00000cf70,0x60d00000cffa)&lt;br/&gt;
1: allocated by thread T0 here:&lt;br/&gt;
1:     #0 0x7fb824b5fbf0 in operator new(unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.3+0xc2bf0)&lt;br/&gt;
1:     #1 0x7fb823a5f1f6  (/usr/lib/x86_64-linux-gnu/libstdc++.so.6+0x1111f6)&lt;br/&gt;
1:     #2 0x7fb823a5bcb9 in std::ostream&amp;amp; std::ostream::_M_insert&amp;lt;unsigned long&amp;gt;(unsigned long) (/usr/lib/x86_64-linux-gnu/libstdc++.so.6+0x10dcb9)&lt;br/&gt;
1:     #3 0x7ffe32d1090f  (&amp;lt;unknown module&amp;gt;)&lt;br/&gt;
1: &lt;br/&gt;
1: SUMMARY: AddressSanitizer: heap-buffer-overflow zookeeper/zookeeper-client/zookeeper-client-c/tests/TestReconfig.cc:502 in Zookeeper_reconfig::testMigrationCycle()&lt;br/&gt;
1: Shadow bytes around the buggy address:&lt;br/&gt;
1:   0x0c1a7fff9990: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff99a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff99b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff99c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff99d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1: =&amp;gt;0x0c1a7fff99e0: fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;span class=&quot;error&quot;&gt;&amp;#91;fa&amp;#93;&lt;/span&gt;00 00&lt;br/&gt;
1:   0x0c1a7fff99f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02&lt;br/&gt;
1:   0x0c1a7fff9a00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff9a10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff9a20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1:   0x0c1a7fff9a30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa&lt;br/&gt;
1: Shadow byte legend (one shadow byte represents 8 application bytes):&lt;br/&gt;
1:   Addressable:           00&lt;br/&gt;
1:   Partially addressable: 01 02 03 04 05 06 07 &lt;br/&gt;
1:   Heap left redzone:       fa&lt;br/&gt;
1:   Heap right redzone:      fb&lt;br/&gt;
1:   Freed heap region:       fd&lt;br/&gt;
1:   Stack left redzone:      f1&lt;br/&gt;
1:   Stack mid redzone:       f2&lt;br/&gt;
1:   Stack right redzone:     f3&lt;br/&gt;
1:   Stack partial redzone:   f4&lt;br/&gt;
1:   Stack after return:      f5&lt;br/&gt;
1:   Stack use after scope:   f8&lt;br/&gt;
1:   Global redzone:          f9&lt;br/&gt;
1:   Global init order:       f6&lt;br/&gt;
1:   Poisoned by user:        f7&lt;br/&gt;
1:   Container overflow:      fc&lt;br/&gt;
1:   Array cookie:            ac&lt;br/&gt;
1:   Intra object redzone:    bb&lt;br/&gt;
1:   ASan internal:           fe&lt;br/&gt;
1:   Left alloca redzone:     ca&lt;br/&gt;
1:   Right alloca redzone:    cb&lt;br/&gt;
1: ==415554==ABORTING&lt;br/&gt;
1/1 Test #1: zktest_runner ....................***Failed    1.42 sec&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;gcc (Debian 6.3.0-18+deb9u1) 6.3.0 20170516&lt;/p&gt;</environment>
        <key id="13546203">ZOOKEEPER-4733</key>
            <summary> non-return function error and asan error in CPPUNIT TESTs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hanye">whyer</assignee>
                                    <reporter username="hanye">whyer</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 5 Aug 2023 01:13:59 +0000</created>
                <updated>Thu, 24 Oct 2024 20:09:30 +0000</updated>
                            <resolved>Tue, 10 Sep 2024 16:46:01 +0000</resolved>
                                    <version>3.8.2</version>
                                    <fixVersion>3.10.0</fixVersion>
                    <fixVersion>3.9.3</fixVersion>
                                    <component>c client</component>
                    <component>tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jlow:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>