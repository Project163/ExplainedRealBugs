<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:03:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-3818] fix zkServer.sh status command to support SSL-only server</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-3818</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;I am configuring SSL on Zookeeper 3.5.5 branch and have removed the clientPort config from zoo.cfg and adding onlysecureClientPort. Also, I have removed it from my server ensemble connection string in zoo.cfg.dynamic file as it results in a port binding issue on the port 2181 if we keep it in both the files.&lt;/p&gt;

&lt;p&gt;But, in zkServer.sh, it checks if the clientPort is set in the&#160;&lt;b&gt;status&lt;/b&gt;&#160;cmd else it throws exit 1 and terminates the process. How to overcome this situation? We cannot see the clientPort in zoo.cfg as it would enable mixed mode which we do not want when we enable SSL.&lt;/p&gt;

&lt;p&gt;Also, I am using zkServer.sh status output as a healthcheck for our containerized zookeeper to see if thee quorum is established or not as in cluster mode, zookeeper can finally run either in follower or leader state (ignoring intermediate state changes). So as the status output throws exit 1, the healthcheck is also failing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13303035">ZOOKEEPER-3818</key>
            <summary>fix zkServer.sh status command to support SSL-only server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xiaoheipangzi">lujie</assignee>
                                    <reporter username="aishwaryasoni1991">Aishwarya Soni</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 6 May 2020 06:39:45 +0000</created>
                <updated>Thu, 10 Sep 2020 10:43:47 +0000</updated>
                            <resolved>Tue, 12 May 2020 10:07:03 +0000</resolved>
                                    <version>3.5.5</version>
                                    <fixVersion>3.5.9</fixVersion>
                    <fixVersion>3.7.0</fixVersion>
                    <fixVersion>3.6.2</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12600">3.5h</timespent>
                                <comments>
                            <comment id="17100523" author="symat" created="Wed, 6 May 2020 07:02:42 +0000"  >&lt;p&gt;this is an important observation, thanks for reporting it! &lt;br/&gt;
would you like to provide a fix for it by creating a pull-request against the master branch?&lt;/p&gt;</comment>
                            <comment id="17100530" author="aishwaryasoni1991" created="Wed, 6 May 2020 07:13:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;&#160;I apologize, but I won&apos;t be able to pick it up. Loaded up pretty badly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;But it would be really great if someone can as I do need the fix. May be backport the fix to other relevant zookeeper branches as I suppose master is 3.6.1.&lt;/p&gt;</comment>
                            <comment id="17100574" author="symat" created="Wed, 6 May 2020 08:23:43 +0000"  >&lt;p&gt;ok, sure. I&apos;ll take a look then. This is something we will face in our company as well soon, it would be good to be fixed.&lt;/p&gt;</comment>
                            <comment id="17100586" author="aishwaryasoni1991" created="Wed, 6 May 2020 08:35:41 +0000"  >&lt;p&gt;Thanks for picking it up. On a side note, is 3.5.5 still the only release recommended for production or 3.6.0+ is also production stable? In the official doc, I see only 3.5.5 nominated for production use (at least verbally)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://zookeeper.apache.org/releases.html#releasenotes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://zookeeper.apache.org/releases.html#releasenotes&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17100660" author="symat" created="Wed, 6 May 2020 10:39:46 +0000"  >&lt;p&gt;well, maybe the release notes should be more precise &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
all 3.5.x after 3.5.5 is considered as production stable. There are relatively few changes in the bugfix releases, but still each bugfix release contains important security and other fixes. So I would recommend to use the 3.5.&amp;lt;latest&amp;gt; in production. (FYI: 3.5.8 will be released very soon, we are in the middle of the release process and tests)&lt;/p&gt;

&lt;p&gt;About 3.6 I am not sure. I know that some in the community are using it in production, but I think they are still in minority.&lt;/p&gt;</comment>
                            <comment id="17100665" author="symat" created="Wed, 6 May 2020 10:45:18 +0000"  >&lt;p&gt;anyway, feel free to ask about these in our mail list (user@zookeeper.apache.org), where people can share their experiences. We have a friendly community &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17105296" author="symat" created="Tue, 12 May 2020 10:07:03 +0000"  >&lt;p&gt;Issue resolved by pull request 1348&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/1348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1348&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ef6o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>