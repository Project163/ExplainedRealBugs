<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:00:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2924] Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2924</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper_branch34_openjdk7/1682/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper_branch34_openjdk7/1682/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Same issue happens in jdk8 and jdk9 builds as well.&lt;/p&gt;

&lt;p&gt;Issue has already been fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2484&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-2484&lt;/a&gt; , but I believe that the root cause here is that test startup / cleanup code is included in the tests instead of using try-finally block or Before-After methods.&lt;/p&gt;

&lt;p&gt;As a consequence, when exception happens during test execution, ZK test server doesn&apos;t get shutdown properly and still listening on the port bound to the test class.&lt;/p&gt;

&lt;p&gt;As mentioned above there could be 2 approaches to address this:&lt;br/&gt;
#1 Wrap cleanup code block with finally&lt;br/&gt;
#2 Use JUnit&apos;s Before-After methods for initialization and cleanup&lt;/p&gt;

&lt;p&gt;Test where original issue happens:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...   
     [junit] 2017-10-12 15:05:20,135 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:create cxid:0x8c zxid:0x8d txntype:-1 req$
     [junit] 2017-10-12 15:05:20,137 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:create cxid:0x8d zxid:0x8e txntype:-1 req$
     [junit] 2017-10-12 15:05:20,139 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:create cxid:0x8e zxid:0x8f txntype:-1 req$
     [junit] 2017-10-12 15:05:20,142 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:create cxid:0x8f zxid:0x90 txntype:-1 req$
     [junit] 2017-10-12 15:05:20,144 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:create cxid:0x90 zxid:0x91 txntype:-1 req$
     [junit] 2017-10-12 15:05:30,479 [myid:] - INFO  [SessionTracker:ZooKeeperServer@354] - Expiring session 0x104cd7b190c0000, timeout of 6000ms exceeded
     [junit] 2017-10-12 15:05:32,996 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x104cd7b190c0000 type:ping cxid:0xfffffffffffffffe zxid:0xfffff$
     [junit] 2017-10-12 15:05:24,147 [myid:] - WARN  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1111] - Client session timed out, have not heard from server in 4002ms for sessionid 0x104cd7b190c0000
     [junit] 2017-10-12 15:05:32,996 [myid:] - INFO  [main-SendThread(127.0.0.1:11221):ClientCnxn$SendThread@1159] - Client session timed out, have not heard from server in 4002ms for sessionid 0x104cd7b190c0000, closing socket connectio$
     [junit] 2017-10-12 15:05:21,479 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
     [junit] 2017-10-12 15:05:32,998 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@376] - Unable to read additional data from client sessionid 0x104cd7b190c0000, likely client has closed socket
     [junit] 2017-10-12 15:05:33,067 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@1040] - Closed socket connection for client /127.0.0.1:45735 which had sessionid 0x104cd7b190c0000
     [junit] 2017-10-12 15:05:32,996 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x104cd7b190c0000
     [junit] 2017-10-12 15:05:33,889 [myid:] - INFO  [main:ZooKeeper@687] - Session: 0x104cd7b190c0000 closed
     [junit] 2017-10-12 15:05:33,890 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@520] - EventThread shut down for session: 0x104cd7b190c0000
     [junit] 2017-10-12 15:05:33,891 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@74] - TEST METHOD FAILED testRestoreWithTransactionErrors
     [junit] org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /invaliddir/test-
     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
     [junit]     at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
     [junit]     at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:786)
     [junit]     at org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors(LoadFromLogTest.java:368)
     [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
     [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
     [junit]     at java.lang.reflect.Method.invoke(Method.java:606)
     [junit]     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
     [junit]     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
     [junit]     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
     [junit]     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
     [junit]     at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:55)
     [junit]     at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)
     [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)
     [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
     [junit]     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
     [junit]     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
     [junit]     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
     [junit]     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
     [junit]     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
     [junit]     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
     [junit]     at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test #2 where port is already in use:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;     [junit] 2017-10-12 15:05:33,899 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testReloadSnapshotWithMissingParent
     [junit] 2017-10-12 15:05:33,899 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testReloadSnapshotWithMissingParent
     [junit] 2017-10-12 15:05:33,900 [myid:] - INFO  [main:ZooKeeperServer@173] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /home/jenkins/jenkins-slave/workspace/ZooKeeper_branch34_openjdk7/$
     [junit] 2017-10-12 15:05:33,900 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
     [junit] 2017-10-12 15:05:33,900 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
     [junit] 2017-10-12 15:05:33,901 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@74] - TEST METHOD FAILED testReloadSnapshotWithMissingParent
     [junit] java.net.BindException: Address already in use
     [junit]     at sun.nio.ch.Net.bind0(Native Method)
     [junit]     at sun.nio.ch.Net.bind(Net.java:463)
     [junit]     at sun.nio.ch.Net.bind(Net.java:455)
     [junit]     at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
     [junit]     at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
     [junit]     at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:67)
     [junit]     at org.apache.zookeeper.server.NIOServerCnxnFactory.configure(NIOServerCnxnFactory.java:90)
     [junit]     at org.apache.zookeeper.server.ServerCnxnFactory.createFactory(ServerCnxnFactory.java:137)
     [junit]     at org.apache.zookeeper.server.ServerCnxnFactory.createFactory(ServerCnxnFactory.java:130)
     [junit]     at org.apache.zookeeper.test.LoadFromLogTest.testReloadSnapshotWithMissingParent(LoadFromLogTest.java:412)
     [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
     [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
     [junit]     at java.lang.reflect.Method.invoke(Method.java:606)
     [junit]     at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
     [junit]     at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
     [junit]     at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
     [junit]     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
     [junit]     at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:55)
     [junit]     at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)
     [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)
     [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
     [junit]     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
     [junit]     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
     [junit]     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
     [junit]     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
     [junit]     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
     [junit]     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
     [junit]     at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)
     [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13112296">ZOOKEEPER-2924</key>
            <summary>Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andor">Andor Molnar</assignee>
                                    <reporter username="andor">Andor Molnar</reporter>
                        <labels>
                            <label>flaky</label>
                            <label>flaky-test</label>
                    </labels>
                <created>Thu, 26 Oct 2017 14:31:54 +0000</created>
                <updated>Tue, 12 Dec 2017 18:16:10 +0000</updated>
                            <resolved>Tue, 12 Dec 2017 18:01:24 +0000</resolved>
                                    <version>3.4.10</version>
                    <version>3.5.3</version>
                    <version>3.6.0</version>
                                    <fixVersion>3.5.4</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                    <fixVersion>3.4.12</fixVersion>
                                    <component>server</component>
                    <component>tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16220882" author="abrahamfine" created="Thu, 26 Oct 2017 17:44:54 +0000"  >&lt;p&gt;I think solution #2 would be the way to go. It is inline with what we do in other tests. &lt;/p&gt;</comment>
                            <comment id="16222031" author="githubbot" created="Fri, 27 Oct 2017 09:51:14 +0000"  >&lt;p&gt;GitHub user anmolnar opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;: Refactor tests of LoadFromLogTest.java&lt;/p&gt;

&lt;p&gt;    Tests which don&apos;t need ZK test server to run have been extracted to&lt;br/&gt;
    LoadFromLogNoServerTest.java.&lt;br/&gt;
    Rest of them have been refactored to do init/shutdown in JUnit&lt;br/&gt;
    Before/After methods.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anmolnar/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anmolnar/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #409&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 552a7d2a8e4afe297fa36042fd60d7c55a00e9e5&lt;br/&gt;
Author: Andor Moln&#225;r &amp;lt;andor@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2017-10-27T09:49:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;: Refactor tests of LoadFromLogTest.java&lt;/p&gt;

&lt;p&gt;    Tests which don&apos;t need ZK test server to run have been extracted to&lt;br/&gt;
    LoadFromLogNoServerTest.java.&lt;br/&gt;
    Rest of them have been refactored to do init/shutdown in JUnit&lt;br/&gt;
    Before/After methods.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16222045" author="andorm" created="Fri, 27 Oct 2017 09:58:11 +0000"  >&lt;p&gt;The refactor doesn&apos;t fix the original problem though: the ConnectionLossException.&lt;br/&gt;
I&apos;m planning to create another Jira on implementing some nice retry logic for that once this one has been accepted.&lt;/p&gt;</comment>
                            <comment id="16222133" author="hadoopqa" created="Fri, 27 Oct 2017 10:28:27 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1124//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16224660" author="githubbot" created="Mon, 30 Oct 2017 10:57:18 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @afine . I&apos;ve updated the PR.&lt;/p&gt;</comment>
                            <comment id="16224749" author="hadoopqa" created="Mon, 30 Oct 2017 11:32:59 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1127//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16234388" author="githubbot" created="Wed, 1 Nov 2017 17:05:02 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt would you please kindly commit this patch?&lt;/p&gt;</comment>
                            <comment id="16244698" author="githubbot" created="Wed, 8 Nov 2017 20:44:59 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt Do you think we can merge this now into branch-3.4?&lt;/p&gt;</comment>
                            <comment id="16256751" author="githubbot" created="Fri, 17 Nov 2017 09:53:41 +0000"  >&lt;p&gt;GitHub user anmolnar opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;. Refactor tests of LoadFromLogTest.java&lt;/p&gt;

&lt;p&gt;    This patch is the trunk version of &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anmolnar/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anmolnar/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;-trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #420&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c2fa3e179bc73937863176ec8538cb065b38ee30&lt;br/&gt;
Author: Andor Moln&#225;r &amp;lt;andor@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2017-11-17T09:52:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;. Refactor tests of LoadFromLogTest.java&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16256767" author="hadoopqa" created="Fri, 17 Nov 2017 10:05:08 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1239//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256769" author="hadoopqa" created="Fri, 17 Nov 2017 10:05:09 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1240//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256787" author="hadoopqa" created="Fri, 17 Nov 2017 10:14:21 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1241//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256788" author="hadoopqa" created="Fri, 17 Nov 2017 10:14:21 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1242//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256790" author="hadoopqa" created="Fri, 17 Nov 2017 10:14:56 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1237//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256792" author="hadoopqa" created="Fri, 17 Nov 2017 10:19:33 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1238//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256838" author="hadoopqa" created="Fri, 17 Nov 2017 11:10:59 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1245//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256839" author="hadoopqa" created="Fri, 17 Nov 2017 11:11:00 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1246//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256848" author="hadoopqa" created="Fri, 17 Nov 2017 11:20:32 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1244//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256851" author="hadoopqa" created="Fri, 17 Nov 2017 11:24:26 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1243//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256854" author="hadoopqa" created="Fri, 17 Nov 2017 11:28:42 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1247//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16256862" author="hadoopqa" created="Fri, 17 Nov 2017 11:35:59 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1248//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258337" author="hadoopqa" created="Sun, 19 Nov 2017 05:41:44 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1275//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258338" author="hadoopqa" created="Sun, 19 Nov 2017 05:41:46 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 3.0.1) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1276//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1276//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1276//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1276//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258341" author="hadoopqa" created="Sun, 19 Nov 2017 05:50:32 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1277//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258345" author="hadoopqa" created="Sun, 19 Nov 2017 06:01:15 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1278//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258346" author="hadoopqa" created="Sun, 19 Nov 2017 06:02:08 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1279//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16258347" author="hadoopqa" created="Sun, 19 Nov 2017 06:02:12 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1280//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16260789" author="hadoopqa" created="Tue, 21 Nov 2017 14:25:28 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1292//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16261998" author="hadoopqa" created="Wed, 22 Nov 2017 05:49:33 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1304//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16263300" author="hadoopqa" created="Wed, 22 Nov 2017 20:30:52 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1305//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16265930" author="githubbot" created="Sun, 26 Nov 2017 07:00:43 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt I rebased the branch on trunk and the build is now green. Thanks.&lt;br/&gt;
    Please review.&lt;/p&gt;</comment>
                            <comment id="16267783" author="githubbot" created="Mon, 27 Nov 2017 23:25:26 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153354717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153354717&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -69,25 +54,42 @@&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;/**&lt;/li&gt;
	&lt;li&gt;* test that all transactions from the Log are loaded, and only once&lt;/li&gt;
	&lt;li&gt;* @throws Exception an exception might be thrown here&lt;/li&gt;
	&lt;li&gt;*/&lt;/li&gt;
	&lt;li&gt;@Test&lt;/li&gt;
	&lt;li&gt;public void testLoad() throws Exception {&lt;/li&gt;
	&lt;li&gt;final String hostPort = HOST + PortAssignment.unique();&lt;br/&gt;
    +    private String hostPort;&lt;br/&gt;
    +    private int port;&lt;br/&gt;
    +    private ZooKeeper zk;&lt;br/&gt;
    +    private ServerCnxnFactory serverCnxnFactory;&lt;br/&gt;
    +    private File tmpDir;&lt;br/&gt;
    +    private ZooKeeperServer zks;&lt;br/&gt;
    +&lt;br/&gt;
    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception {&lt;br/&gt;
    +        hostPort = HOST + PortAssignment.unique();
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    While you&apos;re in here can you also fix this? We should be using this value from ClientBase. Is there a reason why we can&apos;t convert this class over to subclass ClientBase?&lt;/p&gt;</comment>
                            <comment id="16267786" author="githubbot" created="Mon, 27 Nov 2017 23:26:18 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153354864&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153354864&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -69,25 +54,42 @@&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;/**&lt;/li&gt;
	&lt;li&gt;* test that all transactions from the Log are loaded, and only once&lt;/li&gt;
	&lt;li&gt;* @throws Exception an exception might be thrown here&lt;/li&gt;
	&lt;li&gt;*/&lt;/li&gt;
	&lt;li&gt;@Test&lt;/li&gt;
	&lt;li&gt;public void testLoad() throws Exception {&lt;/li&gt;
	&lt;li&gt;final String hostPort = HOST + PortAssignment.unique();&lt;br/&gt;
    +    private String hostPort;&lt;br/&gt;
    +    private int port;&lt;br/&gt;
    +    private ZooKeeper zk;&lt;br/&gt;
    +    private ServerCnxnFactory serverCnxnFactory;&lt;br/&gt;
    +    private File tmpDir;&lt;br/&gt;
    +    private ZooKeeperServer zks;&lt;br/&gt;
    +&lt;br/&gt;
    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception {&lt;br/&gt;
    +        hostPort = HOST + PortAssignment.unique();&lt;br/&gt;
    +        port = Integer.parseInt(hostPort.split(&quot;:&quot;)&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;);&lt;br/&gt;
    +&lt;br/&gt;
             // setup a single server cluster&lt;/li&gt;
	&lt;li&gt;File tmpDir = ClientBase.createTmpDir();&lt;br/&gt;
    +        tmpDir = ClientBase.createTmpDir();&lt;br/&gt;
             ClientBase.setupTestEnv();&lt;/li&gt;
	&lt;li&gt;ZooKeeperServer zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;br/&gt;
    +        zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;br/&gt;
             SyncRequestProcessor.setSnapCount(100);&lt;/li&gt;
	&lt;li&gt;final int PORT = Integer.parseInt(hostPort.split(&quot;:&quot;)&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;);&lt;/li&gt;
	&lt;li&gt;ServerCnxnFactory f = ServerCnxnFactory.createFactory(PORT, -1);&lt;/li&gt;
	&lt;li&gt;f.startup(zks);&lt;br/&gt;
    +        serverCnxnFactory = ServerCnxnFactory.createFactory(port, -1);&lt;br/&gt;
    +        serverCnxnFactory.startup(zks);&lt;br/&gt;
             Assert.assertTrue(&quot;waiting for server being up &quot;,&lt;br/&gt;
                     ClientBase.waitForServerUp(hostPort,CONNECTION_TIMEOUT));
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Notice the issue here - this class has defined it&apos;s own constant for CONNECTION_TIMEOUT which is too small. If we were a subclass of ClientBase this would be handled for us already (incl the setup and teardown).&lt;/p&gt;</comment>
                            <comment id="16267788" author="githubbot" created="Mon, 27 Nov 2017 23:27:04 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Same comments as in #420 &lt;/p&gt;</comment>
                            <comment id="16269108" author="hadoopqa" created="Tue, 28 Nov 2017 17:33:55 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1315//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16269232" author="githubbot" created="Tue, 28 Nov 2017 18:38:27 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153584084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153584084&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -18,77 +18,58 @@&lt;/p&gt;

&lt;p&gt;     package org.apache.zookeeper.test;&lt;/p&gt;

&lt;p&gt;    -import java.io.ByteArrayOutputStream;&lt;br/&gt;
     import java.io.File;&lt;br/&gt;
    -import java.io.FileInputStream;&lt;br/&gt;
     import java.io.IOException;&lt;br/&gt;
    -import java.nio.ByteBuffer;&lt;br/&gt;
    -import java.util.ArrayList;&lt;br/&gt;
    -import java.util.List;&lt;br/&gt;
    -&lt;br/&gt;
    -import org.apache.zookeeper.common.Time;&lt;br/&gt;
    -import org.apache.jute.BinaryInputArchive;&lt;br/&gt;
    -import org.apache.jute.BinaryOutputArchive;&lt;br/&gt;
    -import org.apache.jute.Record;&lt;br/&gt;
    +&lt;br/&gt;
     import org.apache.zookeeper.CreateMode;&lt;br/&gt;
     import org.apache.zookeeper.KeeperException.NoNodeException;&lt;br/&gt;
    -import org.apache.zookeeper.PortAssignment;&lt;br/&gt;
    -import org.apache.zookeeper.ZKTestCase;&lt;br/&gt;
     import org.apache.zookeeper.ZooDefs.Ids;&lt;br/&gt;
    -import org.apache.zookeeper.ZooDefs.OpCode;&lt;br/&gt;
     import org.apache.zookeeper.ZooKeeper;&lt;br/&gt;
     import org.apache.zookeeper.data.Stat;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataNode;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataTree;&lt;br/&gt;
     import org.apache.zookeeper.server.ServerCnxnFactory;&lt;br/&gt;
     import org.apache.zookeeper.server.SyncRequestProcessor;&lt;br/&gt;
     import org.apache.zookeeper.server.ZooKeeperServer;&lt;br/&gt;
    -import org.apache.zookeeper.server.persistence.FileHeader;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnSnapLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.Util;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog.FileTxnIterator;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.TxnLog.TxnIterator;&lt;br/&gt;
    -import org.apache.zookeeper.txn.CreateTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.DeleteTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.MultiTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.Txn;&lt;br/&gt;
     import org.apache.zookeeper.txn.TxnHeader;&lt;br/&gt;
    +import org.eclipse.jetty.util.SocketAddressResolver;&lt;br/&gt;
    +import org.junit.After;&lt;br/&gt;
     import org.junit.Assert;&lt;br/&gt;
    +import org.junit.Before;&lt;br/&gt;
     import org.junit.Test;&lt;br/&gt;
     import org.slf4j.Logger;&lt;br/&gt;
     import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt;    -public class LoadFromLogTest extends ZKTestCase {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final String HOST = &quot;127.0.0.1:&quot;;&lt;/li&gt;
	&lt;li&gt;private static final int CONNECTION_TIMEOUT = 3000;&lt;br/&gt;
    +public class LoadFromLogTest extends ClientBase {&lt;br/&gt;
         private static final int NUM_MESSAGES = 300;&lt;br/&gt;
         protected static final Logger LOG = LoggerFactory.getLogger(LoadFromLogTest.class);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         // setting up the quorum has a transaction overhead for creating and closing the session&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;p&gt;    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception &lt;/p&gt;
{
    +        SyncRequestProcessor.setSnapCount(100);
    +        super.setUp();
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    @After&lt;br/&gt;
    +    public void tearDown() throws Exception {&lt;br/&gt;
    +        stopServer();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    shouldn&apos;t this should be calling super.tearDown() ?&lt;/p&gt;</comment>
                            <comment id="16269296" author="githubbot" created="Tue, 28 Nov 2017 19:10:31 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153591967&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153591967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -136,21 +113,10 @@ public void testLoad() throws Exception {&lt;br/&gt;
          */&lt;br/&gt;
         @Test&lt;br/&gt;
         public void testLoadFailure() throws Exception {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final String hostPort = HOST + PortAssignment.unique();&lt;/li&gt;
	&lt;li&gt;// setup a single server cluster&lt;/li&gt;
	&lt;li&gt;File tmpDir = ClientBase.createTmpDir();&lt;/li&gt;
	&lt;li&gt;ClientBase.setupTestEnv();&lt;/li&gt;
	&lt;li&gt;ZooKeeperServer zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;/li&gt;
	&lt;li&gt;// So we have at least 4 logs&lt;br/&gt;
             SyncRequestProcessor.setSnapCount(50);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    iiuc the server has already been started in setUp method and as a result this will have no effect. Am I reading that right. Instead you might need to set this then call setUp.&lt;/p&gt;</comment>
                            <comment id="16269297" author="githubbot" created="Tue, 28 Nov 2017 19:10:31 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153592257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153592257&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -370,20 +202,17 @@ public void testRestore() throws Exception {&lt;br/&gt;
             // Force snapshot and restore&lt;br/&gt;
             zks.takeSnapshot();&lt;br/&gt;
             zks.shutdown();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;f.shutdown();&lt;br/&gt;
    +        stopServer();&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;br/&gt;
             SyncRequestProcessor.setSnapCount(10000);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I believe this is ok as the server is restarted (but you might want to verify).&lt;/p&gt;</comment>
                            <comment id="16269298" author="githubbot" created="Tue, 28 Nov 2017 19:10:32 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153592781&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153592781&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -449,50 +267,25 @@ public void testRestoreWithTransactionErrors() throws Exception &lt;/p&gt;
{
             // Force snapshot and restore
             zks.takeSnapshot();
             zks.shutdown();
    -        f.shutdown();
    +        stopServer();
     
             zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);
             SyncRequestProcessor.setSnapCount(10000);
    -        f = ServerCnxnFactory.createFactory(PORT, -1);
    -        f.startup(zks);
    -        Assert.assertTrue(&quot;waiting for server being up &quot;, ClientBase
    -                .waitForServerUp(hostPort, CONNECTION_TIMEOUT));
    -
    -        f.shutdown();
    -        zks.shutdown();
    +        startServer();
         }

&lt;p&gt;         /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Verify snap/log dir create with/without autocreate enabled.&lt;br/&gt;
          */&lt;br/&gt;
         @Test&lt;br/&gt;
         public void testDatadirAutocreate() throws Exception {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ClientBase.setupTestEnv();
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    not sure if it matters here and in the following test method but the snapcount is different after the current patch.&lt;/p&gt;</comment>
                            <comment id="16269299" author="githubbot" created="Tue, 28 Nov 2017 19:10:32 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153591342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153591342&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -18,77 +18,58 @@&lt;/p&gt;

&lt;p&gt;     package org.apache.zookeeper.test;&lt;/p&gt;

&lt;p&gt;    -import java.io.ByteArrayOutputStream;&lt;br/&gt;
     import java.io.File;&lt;br/&gt;
    -import java.io.FileInputStream;&lt;br/&gt;
     import java.io.IOException;&lt;br/&gt;
    -import java.nio.ByteBuffer;&lt;br/&gt;
    -import java.util.ArrayList;&lt;br/&gt;
    -import java.util.List;&lt;br/&gt;
    -&lt;br/&gt;
    -import org.apache.zookeeper.common.Time;&lt;br/&gt;
    -import org.apache.jute.BinaryInputArchive;&lt;br/&gt;
    -import org.apache.jute.BinaryOutputArchive;&lt;br/&gt;
    -import org.apache.jute.Record;&lt;br/&gt;
    +&lt;br/&gt;
     import org.apache.zookeeper.CreateMode;&lt;br/&gt;
     import org.apache.zookeeper.KeeperException.NoNodeException;&lt;br/&gt;
    -import org.apache.zookeeper.PortAssignment;&lt;br/&gt;
    -import org.apache.zookeeper.ZKTestCase;&lt;br/&gt;
     import org.apache.zookeeper.ZooDefs.Ids;&lt;br/&gt;
    -import org.apache.zookeeper.ZooDefs.OpCode;&lt;br/&gt;
     import org.apache.zookeeper.ZooKeeper;&lt;br/&gt;
     import org.apache.zookeeper.data.Stat;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataNode;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataTree;&lt;br/&gt;
     import org.apache.zookeeper.server.ServerCnxnFactory;&lt;br/&gt;
     import org.apache.zookeeper.server.SyncRequestProcessor;&lt;br/&gt;
     import org.apache.zookeeper.server.ZooKeeperServer;&lt;br/&gt;
    -import org.apache.zookeeper.server.persistence.FileHeader;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnSnapLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.Util;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog.FileTxnIterator;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.TxnLog.TxnIterator;&lt;br/&gt;
    -import org.apache.zookeeper.txn.CreateTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.DeleteTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.MultiTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.Txn;&lt;br/&gt;
     import org.apache.zookeeper.txn.TxnHeader;&lt;br/&gt;
    +import org.eclipse.jetty.util.SocketAddressResolver;&lt;br/&gt;
    +import org.junit.After;&lt;br/&gt;
     import org.junit.Assert;&lt;br/&gt;
    +import org.junit.Before;&lt;br/&gt;
     import org.junit.Test;&lt;br/&gt;
     import org.slf4j.Logger;&lt;br/&gt;
     import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt;    -public class LoadFromLogTest extends ZKTestCase {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final String HOST = &quot;127.0.0.1:&quot;;&lt;/li&gt;
	&lt;li&gt;private static final int CONNECTION_TIMEOUT = 3000;&lt;br/&gt;
    +public class LoadFromLogTest extends ClientBase {&lt;br/&gt;
         private static final int NUM_MESSAGES = 300;&lt;br/&gt;
         protected static final Logger LOG = LoggerFactory.getLogger(LoadFromLogTest.class);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         // setting up the quorum has a transaction overhead for creating and closing the session&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;p&gt;    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception {&lt;br/&gt;
    +        SyncRequestProcessor.setSnapCount(100);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Unfortunately this is going to have the side-effect that all servers of all the tests in this class will be started with a snapCount of 100. Subsequently setting this value in the test itself will have no effect as the server has already been started (syncprocessor thread running). Unless the server is restarted of course.&lt;/p&gt;

&lt;p&gt;    See comments below and please verify this finding yourself.&lt;/p&gt;

&lt;p&gt;    I&apos;m thinking that you might need to make this setup empty, and call setUp from the very beginning of the test after setting the count explicitly.&lt;/p&gt;</comment>
                            <comment id="16269300" author="githubbot" created="Tue, 28 Nov 2017 19:10:32 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153592079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153592079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -332,20 +173,10 @@ public void testPad() throws Exception {&lt;br/&gt;
          */&lt;br/&gt;
         @Test&lt;br/&gt;
         public void testRestore() throws Exception {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final String hostPort = HOST + PortAssignment.unique();&lt;/li&gt;
	&lt;li&gt;// setup a single server cluster&lt;/li&gt;
	&lt;li&gt;File tmpDir = ClientBase.createTmpDir();&lt;/li&gt;
	&lt;li&gt;ClientBase.setupTestEnv();&lt;/li&gt;
	&lt;li&gt;ZooKeeperServer zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;br/&gt;
             SyncRequestProcessor.setSnapCount(10000);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Same issue here...&lt;/p&gt;</comment>
                            <comment id="16269301" author="githubbot" created="Tue, 28 Nov 2017 19:10:32 +0000"  >&lt;p&gt;Github user phunt commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153592393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153592393&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -413,20 +240,10 @@ public void testRestore() throws Exception {&lt;br/&gt;
          */&lt;br/&gt;
         @Test&lt;br/&gt;
         public void testRestoreWithTransactionErrors() throws Exception {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final String hostPort = HOST + PortAssignment.unique();&lt;/li&gt;
	&lt;li&gt;// setup a single server cluster&lt;/li&gt;
	&lt;li&gt;File tmpDir = ClientBase.createTmpDir();&lt;/li&gt;
	&lt;li&gt;ClientBase.setupTestEnv();&lt;/li&gt;
	&lt;li&gt;ZooKeeperServer zks = new ZooKeeperServer(tmpDir, tmpDir, 3000);&lt;br/&gt;
             SyncRequestProcessor.setSnapCount(10000);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    same...&lt;/p&gt;</comment>
                            <comment id="16269389" author="githubbot" created="Tue, 28 Nov 2017 20:12:56 +0000"  >&lt;p&gt;Github user anmolnar commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153610044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153610044&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -18,77 +18,58 @@&lt;/p&gt;

&lt;p&gt;     package org.apache.zookeeper.test;&lt;/p&gt;

&lt;p&gt;    -import java.io.ByteArrayOutputStream;&lt;br/&gt;
     import java.io.File;&lt;br/&gt;
    -import java.io.FileInputStream;&lt;br/&gt;
     import java.io.IOException;&lt;br/&gt;
    -import java.nio.ByteBuffer;&lt;br/&gt;
    -import java.util.ArrayList;&lt;br/&gt;
    -import java.util.List;&lt;br/&gt;
    -&lt;br/&gt;
    -import org.apache.zookeeper.common.Time;&lt;br/&gt;
    -import org.apache.jute.BinaryInputArchive;&lt;br/&gt;
    -import org.apache.jute.BinaryOutputArchive;&lt;br/&gt;
    -import org.apache.jute.Record;&lt;br/&gt;
    +&lt;br/&gt;
     import org.apache.zookeeper.CreateMode;&lt;br/&gt;
     import org.apache.zookeeper.KeeperException.NoNodeException;&lt;br/&gt;
    -import org.apache.zookeeper.PortAssignment;&lt;br/&gt;
    -import org.apache.zookeeper.ZKTestCase;&lt;br/&gt;
     import org.apache.zookeeper.ZooDefs.Ids;&lt;br/&gt;
    -import org.apache.zookeeper.ZooDefs.OpCode;&lt;br/&gt;
     import org.apache.zookeeper.ZooKeeper;&lt;br/&gt;
     import org.apache.zookeeper.data.Stat;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataNode;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataTree;&lt;br/&gt;
     import org.apache.zookeeper.server.ServerCnxnFactory;&lt;br/&gt;
     import org.apache.zookeeper.server.SyncRequestProcessor;&lt;br/&gt;
     import org.apache.zookeeper.server.ZooKeeperServer;&lt;br/&gt;
    -import org.apache.zookeeper.server.persistence.FileHeader;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnSnapLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.Util;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog.FileTxnIterator;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.TxnLog.TxnIterator;&lt;br/&gt;
    -import org.apache.zookeeper.txn.CreateTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.DeleteTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.MultiTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.Txn;&lt;br/&gt;
     import org.apache.zookeeper.txn.TxnHeader;&lt;br/&gt;
    +import org.eclipse.jetty.util.SocketAddressResolver;&lt;br/&gt;
    +import org.junit.After;&lt;br/&gt;
     import org.junit.Assert;&lt;br/&gt;
    +import org.junit.Before;&lt;br/&gt;
     import org.junit.Test;&lt;br/&gt;
     import org.slf4j.Logger;&lt;br/&gt;
     import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt;    -public class LoadFromLogTest extends ZKTestCase {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final String HOST = &quot;127.0.0.1:&quot;;&lt;/li&gt;
	&lt;li&gt;private static final int CONNECTION_TIMEOUT = 3000;&lt;br/&gt;
    +public class LoadFromLogTest extends ClientBase {&lt;br/&gt;
         private static final int NUM_MESSAGES = 300;&lt;br/&gt;
         protected static final Logger LOG = LoggerFactory.getLogger(LoadFromLogTest.class);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         // setting up the quorum has a transaction overhead for creating and closing the session&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;p&gt;    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception &lt;/p&gt;
{
    +        SyncRequestProcessor.setSnapCount(100);
    +        super.setUp();
    +    }
&lt;p&gt;    +&lt;br/&gt;
    +    @After&lt;br/&gt;
    +    public void tearDown() throws Exception {&lt;br/&gt;
    +        stopServer();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Good point. super.tearDown() includes stopServer() so I&apos;ll remove this one completely.&lt;/p&gt;</comment>
                            <comment id="16269663" author="githubbot" created="Tue, 28 Nov 2017 23:14:42 +0000"  >&lt;p&gt;Github user afine commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153652218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153652218&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -18,77 +18,58 @@&lt;/p&gt;

&lt;p&gt;     package org.apache.zookeeper.test;&lt;/p&gt;

&lt;p&gt;    -import java.io.ByteArrayOutputStream;&lt;br/&gt;
     import java.io.File;&lt;br/&gt;
    -import java.io.FileInputStream;&lt;br/&gt;
     import java.io.IOException;&lt;br/&gt;
    -import java.nio.ByteBuffer;&lt;br/&gt;
    -import java.util.ArrayList;&lt;br/&gt;
    -import java.util.List;&lt;br/&gt;
    -&lt;br/&gt;
    -import org.apache.zookeeper.common.Time;&lt;br/&gt;
    -import org.apache.jute.BinaryInputArchive;&lt;br/&gt;
    -import org.apache.jute.BinaryOutputArchive;&lt;br/&gt;
    -import org.apache.jute.Record;&lt;br/&gt;
    +&lt;br/&gt;
     import org.apache.zookeeper.CreateMode;&lt;br/&gt;
     import org.apache.zookeeper.KeeperException.NoNodeException;&lt;br/&gt;
    -import org.apache.zookeeper.PortAssignment;&lt;br/&gt;
    -import org.apache.zookeeper.ZKTestCase;&lt;br/&gt;
     import org.apache.zookeeper.ZooDefs.Ids;&lt;br/&gt;
    -import org.apache.zookeeper.ZooDefs.OpCode;&lt;br/&gt;
     import org.apache.zookeeper.ZooKeeper;&lt;br/&gt;
     import org.apache.zookeeper.data.Stat;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataNode;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataTree;&lt;br/&gt;
     import org.apache.zookeeper.server.ServerCnxnFactory;&lt;br/&gt;
     import org.apache.zookeeper.server.SyncRequestProcessor;&lt;br/&gt;
     import org.apache.zookeeper.server.ZooKeeperServer;&lt;br/&gt;
    -import org.apache.zookeeper.server.persistence.FileHeader;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnSnapLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.Util;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog.FileTxnIterator;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.TxnLog.TxnIterator;&lt;br/&gt;
    -import org.apache.zookeeper.txn.CreateTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.DeleteTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.MultiTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.Txn;&lt;br/&gt;
     import org.apache.zookeeper.txn.TxnHeader;&lt;br/&gt;
    +import org.eclipse.jetty.util.SocketAddressResolver;&lt;br/&gt;
    +import org.junit.After;&lt;br/&gt;
     import org.junit.Assert;&lt;br/&gt;
    +import org.junit.Before;&lt;br/&gt;
     import org.junit.Test;&lt;br/&gt;
     import org.slf4j.Logger;&lt;br/&gt;
     import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt;    -public class LoadFromLogTest extends ZKTestCase {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final String HOST = &quot;127.0.0.1:&quot;;&lt;/li&gt;
	&lt;li&gt;private static final int CONNECTION_TIMEOUT = 3000;&lt;br/&gt;
    +public class LoadFromLogTest extends ClientBase {&lt;br/&gt;
         private static final int NUM_MESSAGES = 300;&lt;br/&gt;
         protected static final Logger LOG = LoggerFactory.getLogger(LoadFromLogTest.class);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         // setting up the quorum has a transaction overhead for creating and closing the session&lt;br/&gt;
         private static final int TRANSACTION_OVERHEAD = 2;&lt;br/&gt;
         private static final int TOTAL_TRANSACTIONS = NUM_MESSAGES + TRANSACTION_OVERHEAD;&lt;/p&gt;

&lt;p&gt;    +    @Before&lt;br/&gt;
    +    public void setUp() throws Exception {&lt;br/&gt;
    +        SyncRequestProcessor.setSnapCount(100);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think @phunt is mostly correct. There are a couple issues with `snapCount`. &lt;/p&gt;

&lt;p&gt;    First, if want to change it while the syncProcessor thread has started, shouldn&apos;t it be volatile? &lt;/p&gt;

&lt;p&gt;    Second, I disagree that it has &quot;no effect&quot; on a server that has already been started but the effect is not the desired behavior. Taking the issue of the `snapCount` field not being volatile out of the picture, the code in `SyncProcessor` looks like:&lt;br/&gt;
    ```java&lt;br/&gt;
        public void run() {&lt;br/&gt;
            try {&lt;br/&gt;
                int randRoll = r.nextInt(snapCount/2);&lt;br/&gt;
                while (true) {&lt;br/&gt;
                    Request si = null;&lt;br/&gt;
                    //get a request&lt;br/&gt;
                    if (si != null) {&lt;br/&gt;
                        // track the number of records written to the log&lt;br/&gt;
                        if (zks.getZKDatabase().append(si)) {&lt;br/&gt;
                            logCount++;&lt;br/&gt;
                            if (logCount &amp;gt; (snapCount / 2 + randRoll)) {&lt;br/&gt;
                                randRoll = r.nextInt(snapCount/2);&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    So my reading is that if `snapCount` is changed from `previousSnapCount` while the `SyncProcessor` is already running to `desiredSnapCount` it will take at least `desiredSnapCount` and at worst `desiredSnapCount + previousSnapCount/2` transactions for the &quot;effective&quot; `snapCount` to become `desiredSnapCount` (again ignoring the volatility issue).&lt;/p&gt;

&lt;p&gt;    I agree with @phunt&apos;s solution.&lt;/p&gt;
</comment>
                            <comment id="16269664" author="githubbot" created="Tue, 28 Nov 2017 23:14:42 +0000"  >&lt;p&gt;Github user afine commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420#discussion_r153636108&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420#discussion_r153636108&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java &amp;#8212;&lt;br/&gt;
    @@ -18,77 +18,58 @@&lt;/p&gt;

&lt;p&gt;     package org.apache.zookeeper.test;&lt;/p&gt;

&lt;p&gt;    -import java.io.ByteArrayOutputStream;&lt;br/&gt;
     import java.io.File;&lt;br/&gt;
    -import java.io.FileInputStream;&lt;br/&gt;
     import java.io.IOException;&lt;br/&gt;
    -import java.nio.ByteBuffer;&lt;br/&gt;
    -import java.util.ArrayList;&lt;br/&gt;
    -import java.util.List;&lt;br/&gt;
    -&lt;br/&gt;
    -import org.apache.zookeeper.common.Time;&lt;br/&gt;
    -import org.apache.jute.BinaryInputArchive;&lt;br/&gt;
    -import org.apache.jute.BinaryOutputArchive;&lt;br/&gt;
    -import org.apache.jute.Record;&lt;br/&gt;
    +&lt;br/&gt;
     import org.apache.zookeeper.CreateMode;&lt;br/&gt;
     import org.apache.zookeeper.KeeperException.NoNodeException;&lt;br/&gt;
    -import org.apache.zookeeper.PortAssignment;&lt;br/&gt;
    -import org.apache.zookeeper.ZKTestCase;&lt;br/&gt;
     import org.apache.zookeeper.ZooDefs.Ids;&lt;br/&gt;
    -import org.apache.zookeeper.ZooDefs.OpCode;&lt;br/&gt;
     import org.apache.zookeeper.ZooKeeper;&lt;br/&gt;
     import org.apache.zookeeper.data.Stat;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataNode;&lt;br/&gt;
    -import org.apache.zookeeper.server.DataTree;&lt;br/&gt;
     import org.apache.zookeeper.server.ServerCnxnFactory;&lt;br/&gt;
     import org.apache.zookeeper.server.SyncRequestProcessor;&lt;br/&gt;
     import org.apache.zookeeper.server.ZooKeeperServer;&lt;br/&gt;
    -import org.apache.zookeeper.server.persistence.FileHeader;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnSnapLog;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.Util;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.FileTxnLog.FileTxnIterator;&lt;br/&gt;
     import org.apache.zookeeper.server.persistence.TxnLog.TxnIterator;&lt;br/&gt;
    -import org.apache.zookeeper.txn.CreateTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.DeleteTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.MultiTxn;&lt;br/&gt;
    -import org.apache.zookeeper.txn.Txn;&lt;br/&gt;
     import org.apache.zookeeper.txn.TxnHeader;&lt;br/&gt;
    +import org.eclipse.jetty.util.SocketAddressResolver;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    nit: not sure this import is needed&lt;/p&gt;</comment>
                            <comment id="16270681" author="githubbot" created="Wed, 29 Nov 2017 12:44:11 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt @afine thanks for the detail comments.&lt;br/&gt;
    I think @afine made a good point, I&apos;ve removed setting the SnapCount explicitly in each test, leaving only a common setting in the setUp method. Only those 2 tests really care about the setting and with a little modification, they can share the same setting.&lt;/p&gt;</comment>
                            <comment id="16270704" author="hadoopqa" created="Wed, 29 Nov 2017 13:08:17 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1320//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16271592" author="githubbot" created="Wed, 29 Nov 2017 21:52:42 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I thought @afine &apos;s comment was that only the two tests that actually need the snapcount to be set should have it set. The other two tests should not have it set. Am I mistaken?&lt;/p&gt;

&lt;p&gt;    My concern (remaining) is that we&apos;ve effectively changed the parameters of the tests if we change these values. I&apos;m assuming the original author verified that the tests failed before submitting the fix (incl tests). However unless we do that ourselves I&apos;d be concerned that the test no longer recreates the environment that originally caused the problem. As such that&apos;s why I was suggesting we ensure the original values are used.&lt;/p&gt;

&lt;p&gt;    Unless you both looked at what the tests are doing and are confident? (I didn&apos;t look that deep) I do see that num messages is 300. If we do go this route perhaps we should use the smaller of the two original values? (50 iiuc).&lt;/p&gt;

&lt;p&gt;    And please remove the lines themselves (rather than just commenting them out).&lt;/p&gt;

&lt;p&gt;    Thanks!&lt;/p&gt;</comment>
                            <comment id="16272186" author="githubbot" created="Thu, 30 Nov 2017 05:28:53 +0000"  >&lt;p&gt;Github user afine commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt I think it&apos;s fine to always modify the `snapCount`. My concern was primarily modifying it once the zookeeper server was running created nondeterministic behavior.&lt;/p&gt;

&lt;p&gt;    In addition, I don&apos;t think most of these tests make any assertions that could be impacted by the `snapCount`. So I think the current iteration of the tests is fine.&lt;/p&gt;

&lt;p&gt;    Also, +1 on removing the lines instead of commenting them out and using a smaller snapCount.&lt;/p&gt;

&lt;p&gt;    Otherwise lgtm.&lt;/p&gt;</comment>
                            <comment id="16272252" author="hadoopqa" created="Thu, 30 Nov 2017 07:09:26 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1323//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16272426" author="githubbot" created="Thu, 30 Nov 2017 09:24:53 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Tests don&apos;t seem to be related to the snapCount apart from the 2 that @afine mentioned previously. This way we can keep the structure of this testfile nice and clean with doing the initialization in the setUp method and reusing everything from the base class. I prefer to keep it this way.&lt;/p&gt;

&lt;p&gt;    Regarding making it volatile: ability to change the snapCount is for testing-purposes only. Which is already not the nicest thing in the world, I wouldn&apos;t make it even worse by making it thread safe just for test code.&lt;/p&gt;

&lt;p&gt;    Commented lines have been removed, were there by accident.&lt;/p&gt;</comment>
                            <comment id="16275195" author="githubbot" created="Fri, 1 Dec 2017 23:41:23 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;gt; I don&apos;t think most of these tests make any assertions that could be impacted by the snapCount.&lt;/p&gt;

&lt;p&gt;    This is an ambiguous statement to me. You do see that some of the tests are impacted though, right? &lt;/p&gt;

&lt;p&gt;    e.g.:&lt;br/&gt;
            // Verify that we have at least NUM_MESSAGES / SNAPCOUNT txnlog&lt;br/&gt;
            etc....&lt;/p&gt;

&lt;p&gt;    I am I missing something? In testLoadFailure we need at least two log files or otw the test will fail. Not setting the snapcount appropriately (small relative to num messages) would be an issue, no?&lt;/p&gt;</comment>
                            <comment id="16275467" author="githubbot" created="Sat, 2 Dec 2017 08:23:41 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt Correct. These 2 tests: testLoad and testLoadFailure make assertion on the number of log files. Rest of the tests don&apos;t care. Originally they&apos;ve reset snapCount to 10000 to produce only 1 test file, but they work perfectly with other setting as well. &lt;/p&gt;</comment>
                            <comment id="16279345" author="githubbot" created="Tue, 5 Dec 2017 23:09:09 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt do you still have concerns?&lt;/p&gt;</comment>
                            <comment id="16281010" author="githubbot" created="Wed, 6 Dec 2017 22:13:24 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    lgtm - +1. Thanks @anmolnar !&lt;/p&gt;</comment>
                            <comment id="16281014" author="githubbot" created="Wed, 6 Dec 2017 22:14:59 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/420&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16281017" author="githubbot" created="Wed, 6 Dec 2017 22:17:04 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @anmolnar does this need to be updated to reflect the changes in #420 ? (looks that way to me...)&lt;/p&gt;</comment>
                            <comment id="16281054" author="hudson" created="Wed, 6 Dec 2017 22:45:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3645 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3645/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3645/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2924&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testRestoreWithTransactionErrors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2924&quot;&gt;&lt;del&gt;ZOOKEEPER-2924&lt;/del&gt;&lt;/a&gt;: Refactor tests of LoadFromLogTest.java (phunt: rev d857e042fe4d188a7ba750ea6947f93f39cb7ed1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) src/java/test/org/apache/zookeeper/test/LoadFromLogTest.java&lt;/li&gt;
	&lt;li&gt;(add) src/java/test/org/apache/zookeeper/test/LoadFromLogNoServerTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16282447" author="githubbot" created="Thu, 7 Dec 2017 20:05:45 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt Yes, I&apos;m working on it.&lt;/p&gt;</comment>
                            <comment id="16283518" author="githubbot" created="Fri, 8 Dec 2017 13:37:32 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt Patch has been updated with the trunk review changes. Please take a look.&lt;/p&gt;</comment>
                            <comment id="16285810" author="hadoopqa" created="Mon, 11 Dec 2017 11:50:16 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1337//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16285839" author="githubbot" created="Mon, 11 Dec 2017 12:34:37 +0000"  >&lt;p&gt;Github user anmolnar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @phunt Build is green now. Please review &amp;amp; commit if you have a chance.&lt;/p&gt;</comment>
                            <comment id="16287982" author="phunt" created="Tue, 12 Dec 2017 18:01:24 +0000"  >&lt;p&gt;LGTM - +1 thanks Andor.&lt;/p&gt;</comment>
                            <comment id="16287983" author="githubbot" created="Tue, 12 Dec 2017 18:01:59 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 thanks Andor. I committed this to branch-3.4 - you&apos;ll need to close this PR manually.&lt;/p&gt;</comment>
                            <comment id="16288003" author="githubbot" created="Tue, 12 Dec 2017 18:16:10 +0000"  >&lt;p&gt;Github user anmolnar closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/409&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lqq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>