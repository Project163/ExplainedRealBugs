<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:02:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2563] A revisit to setquota</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2563</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;delquota -&lt;span class=&quot;error&quot;&gt;&amp;#91;n|b&amp;#93;&lt;/span&gt; is not deleting the set quota properly&lt;/p&gt;

&lt;p&gt;Steps to reproduce:-&lt;br/&gt;
1. Start zookeeper in cluster mode (ssl)&lt;br/&gt;
2. create some node say /test&lt;br/&gt;
3. Run command as listquota says (as expected)&lt;br/&gt;
quota for /test does not exist&lt;br/&gt;
4. setquota let say&lt;br/&gt;
setquota -n 10 /test&lt;br/&gt;
5. Now try to delete this as below&lt;br/&gt;
delquota -n /test&lt;br/&gt;
6. now check the quota&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;zk: localhost:2181(CONNECTED) 1&amp;#93;&lt;/span&gt; listquota /test&lt;br/&gt;
absolute path is /zookeeper/quota/test/zookeeper_limits&lt;br/&gt;
Output quota for /test count=-1,bytes=-1&lt;br/&gt;
Output stat for /test count=1,bytes=5&lt;/p&gt;

&lt;p&gt;7. Here it is not deleted quota node for test&lt;br/&gt;
8. Now try to set some new quota&lt;br/&gt;
It fails as it is not deleted correctly while delete&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;zk: localhost:2181(CONNECTED) 3&amp;#93;&lt;/span&gt; setquota -n 11 /test&lt;br/&gt;
Command failed: java.lang.IllegalArgumentException: /test has a parent /zookeeper/quota/test which has a quota&lt;/p&gt;

&lt;p&gt;But through delquota it is able to delete&lt;/p&gt;</description>
                <environment></environment>
        <key id="13003462">ZOOKEEPER-2563</key>
            <summary>A revisit to setquota</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rakeshsingh">Rakesh Kumar Singh</assignee>
                                    <reporter username="rakeshsingh">Rakesh Kumar Singh</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 8 Sep 2016 06:19:59 +0000</created>
                <updated>Wed, 17 Jul 2019 21:33:58 +0000</updated>
                            <resolved>Wed, 17 Jul 2019 11:42:56 +0000</resolved>
                                    <version>3.5.1</version>
                                    <fixVersion>3.6.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="16848410" author="maoling" created="Sun, 26 May 2019 11:41:49 +0000"  >&lt;p&gt;the origin JIRA title is:&#160;&lt;b&gt;delquota -&lt;span class=&quot;error&quot;&gt;&amp;#91;n|b&amp;#93;&lt;/span&gt; is not deleting the set quota properly&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="16886954" author="andorm" created="Wed, 17 Jul 2019 11:42:56 +0000"  >&lt;p&gt;Issue resolved by pull request 936&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/936&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16887120" author="hudson" created="Wed, 17 Jul 2019 14:43:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Zookeeper-trunk-single-thread #455 (See &lt;a href=&quot;https://builds.apache.org/job/Zookeeper-trunk-single-thread/455/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Zookeeper-trunk-single-thread/455/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2563&quot; title=&quot;A revisit to setquota&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2563&quot;&gt;&lt;del&gt;ZOOKEEPER-2563&lt;/del&gt;&lt;/a&gt;: A revisit to setquota (andor: rev a6c36b69cc72d7d67e392dab5360007d6f737bef)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) zookeeper-server/src/main/java/org/apache/zookeeper/cli/SetQuotaCommand.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-docs/src/main/resources/markdown/zookeeperQuotas.md&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-docs/src/main/resources/markdown/zookeeperCLI.md&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/test/java/org/apache/zookeeper/test/QuorumQuotaTest.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/main/java/org/apache/zookeeper/ZooKeeperMain.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/test/java/org/apache/zookeeper/test/ZooKeeperQuotaTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16887439" author="hudson" created="Wed, 17 Jul 2019 21:33:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #620 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/620/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/620/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2563&quot; title=&quot;A revisit to setquota&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2563&quot;&gt;&lt;del&gt;ZOOKEEPER-2563&lt;/del&gt;&lt;/a&gt;: A revisit to setquota (andor: rev a6c36b69cc72d7d67e392dab5360007d6f737bef)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) zookeeper-docs/src/main/resources/markdown/zookeeperQuotas.md&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/main/java/org/apache/zookeeper/ZooKeeperMain.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/main/java/org/apache/zookeeper/cli/SetQuotaCommand.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/test/java/org/apache/zookeeper/test/ZooKeeperQuotaTest.java&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-docs/src/main/resources/markdown/zookeeperCLI.md&lt;/li&gt;
	&lt;li&gt;(edit) zookeeper-server/src/test/java/org/apache/zookeeper/test/QuorumQuotaTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33dj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>