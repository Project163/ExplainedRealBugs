<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:59:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2636] Fix C build break.</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2636</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;C client build is broken after &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2628&quot; title=&quot;Investigate and fix findbug warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2628&quot;&gt;&lt;del&gt;ZOOKEEPER-2628&lt;/del&gt;&lt;/a&gt; is merged in. After a little debug, I find out that the build is broken because the zookeeper.jute.h and zookeeper.jute.c are not completely generated. &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The culprit is the code change introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2628&quot; title=&quot;Investigate and fix findbug warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2628&quot;&gt;&lt;del&gt;ZOOKEEPER-2628&lt;/del&gt;&lt;/a&gt;, where we wraps 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JRecord.genCCode&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; with a try / catch / finally block and the file writers were prematurely closed in finally block which prevents remaining of the zookeeper.jute.h/c file being generated.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;The fix to 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JRecord.genCCode&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2628&quot; title=&quot;Investigate and fix findbug warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2628&quot;&gt;&lt;del&gt;ZOOKEEPER-2628&lt;/del&gt;&lt;/a&gt; was made because a find bug warning was directly associated with the code. Due to the subtlety of the file writer ownership, we did not capture the issue during code review.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;The build break was not captured in pre-commit builds as well (&lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/72//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;an example&lt;/a&gt;), where we get all tests passed including C client tests. I suspect we might have another bug with cached generated files that should be regenerated but we don&apos;t - need more investigation on this one.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;The fix is simple by revert the change to this specific method. Findbug does not complain anymore because the previous warning that appertain to this code block was fixed at the call site of 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JRecord.genCCode&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. So by reverting the change we still have zero find bug warnings.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13023262">ZOOKEEPER-2636</key>
            <summary>Fix C build break.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hanm">Michael Han</assignee>
                                    <reporter username="hanm">Michael Han</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Nov 2016 21:28:56 +0000</created>
                <updated>Thu, 18 May 2017 03:44:00 +0000</updated>
                            <resolved>Fri, 25 Nov 2016 06:10:39 +0000</resolved>
                                    <version>3.5.3</version>
                                    <fixVersion>3.5.3</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>jute</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15694257" author="githubbot" created="Thu, 24 Nov 2016 21:36:45 +0000"  >&lt;p&gt;GitHub user hanm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2636&quot; title=&quot;Fix C build break.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2636&quot;&gt;&lt;del&gt;ZOOKEEPER-2636&lt;/del&gt;&lt;/a&gt;: Fix C client build break.&lt;/p&gt;

&lt;p&gt;    JIRA: &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2636&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-2636&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix build break by reverting the changes made to JRecord.genCCode in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2686&quot; title=&quot;Flaky Test: org.apache.zookeeper.test.WatcherTest.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2686&quot;&gt;&lt;del&gt;ZOOKEEPER-2686&lt;/del&gt;&lt;/a&gt;, which prematurely closed the file writers that prevents zookeeper.jute.h and zookeeper.jute.c files from complete generation.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/hanm/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hanm/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2636&quot; title=&quot;Fix C build break.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2636&quot;&gt;&lt;del&gt;ZOOKEEPER-2636&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/115.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/115.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #115&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8b2df1dca353946cd265c217e4010d3f080943ba&lt;br/&gt;
Author: Michael Han &amp;lt;hanm@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2016-11-24T21:32:16Z&lt;/p&gt;

&lt;p&gt;    Fix C client build break caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2628&quot; title=&quot;Investigate and fix findbug warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2628&quot;&gt;&lt;del&gt;ZOOKEEPER-2628&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15694288" author="hadoopqa" created="Thu, 24 Nov 2016 21:56:06 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +0 tests included.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/87//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15694951" author="githubbot" created="Fri, 25 Nov 2016 06:09:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/115&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15694954" author="fpj" created="Fri, 25 Nov 2016 06:10:39 +0000"  >&lt;p&gt;+1, thanks for fixing this so swiftly &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hanm&quot; class=&quot;user-hover&quot; rel=&quot;hanm&quot;&gt;hanm&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15695001" author="hudson" created="Fri, 25 Nov 2016 06:37:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3171 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3171/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3171/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2636&quot; title=&quot;Fix C build break.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2636&quot;&gt;&lt;del&gt;ZOOKEEPER-2636&lt;/del&gt;&lt;/a&gt;: Fix C client build break. (fpj: rev d72f27279a13986ee0c011e1e5b34edf3a310da9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/jute/compiler/JRecord.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13018325">ZOOKEEPER-2628</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36rhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>