<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-706] large numbers of watches can cause session re-establishment to fail</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-706</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;If a client sets a large number of watches the &quot;set watches&quot; operation during session re-establishment can fail.&lt;/p&gt;

&lt;p&gt;for example:&lt;br/&gt;
 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:22801:NIOServerCnxn@417&amp;#93;&lt;/span&gt; - Exception causing close of session 0xe727001201a4ee7c due to java.io.IOException: Len error 4348380&lt;/p&gt;

&lt;p&gt;in this case the client was a web monitoring app and had set both data and child watches on &amp;gt; 32k znodes.&lt;/p&gt;

&lt;p&gt;there are two issues I see here we need to fix:&lt;/p&gt;

&lt;p&gt;1) handle this case properly (split up the set watches into multiple calls I guess...)&lt;br/&gt;
2) the session should have expired after the &quot;timeout&quot;. however we seem to consider any message from the client as re-setting the expiration on the server side. Probably we should only consider messages from the client that are sent during an established session, otherwise we can see this situation where the session is not established however the session is not expired either. Perhaps we should create another JIRA for this particular issue.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12459410">ZOOKEEPER-706</key>
            <summary>large numbers of watches can cause session re-establishment to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cthunes">Chris Thunes</assignee>
                                    <reporter username="phunt">Patrick D. Hunt</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 17 Mar 2010 18:08:37 +0000</created>
                <updated>Sat, 10 Dec 2022 02:21:45 +0000</updated>
                            <resolved>Sat, 13 Jun 2015 00:50:17 +0000</resolved>
                                    <version>3.1.2</version>
                    <version>3.2.2</version>
                    <version>3.3.0</version>
                                    <fixVersion>3.4.7</fixVersion>
                    <fixVersion>3.5.2</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>c client</component>
                    <component>java client</component>
                        <due></due>
                            <votes>7</votes>
                                    <watches>34</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="12925222" author="phunt" created="Wed, 27 Oct 2010 00:30:31 +0000"  >&lt;p&gt;This is a pretty easy one for someone to fix, and as more users use more watches it would be good to get this addressed.&lt;/p&gt;</comment>
                            <comment id="13049634" author="mahadev" created="Wed, 15 Jun 2011 06:09:05 +0000"  >&lt;p&gt;not a blocker. Moving it out of 3.4 release.&lt;/p&gt;</comment>
                            <comment id="13093167" author="ehwang" created="Mon, 29 Aug 2011 20:29:45 +0000"  >&lt;p&gt;I am seeing this issue coming up quite a bit right now. Some clients are getting continually disconnected/reconnected with that error message from what I assume is the large number of watches. For example:&lt;/p&gt;

&lt;p&gt;2011-08-29 13:26:43,750 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32866&lt;br/&gt;
2011-08-29 13:26:43,775 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32866&lt;br/&gt;
2011-08-29 13:26:43,775 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32866&lt;br/&gt;
2011-08-29 13:26:43,775 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:43,775 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32866 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:26:47,276 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32871&lt;br/&gt;
2011-08-29 13:26:47,298 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32871&lt;br/&gt;
2011-08-29 13:26:47,298 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32871&lt;br/&gt;
2011-08-29 13:26:47,298 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:47,300 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32871 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:26:51,124 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32879&lt;br/&gt;
2011-08-29 13:26:51,142 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32879&lt;br/&gt;
2011-08-29 13:26:51,143 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32879&lt;br/&gt;
2011-08-29 13:26:51,143 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:51,143 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32879 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:26:53,985 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32885&lt;br/&gt;
2011-08-29 13:26:54,006 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32885&lt;br/&gt;
2011-08-29 13:26:54,007 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32885&lt;br/&gt;
2011-08-29 13:26:54,007 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:54,007 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32885 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:26:57,495 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32892&lt;br/&gt;
2011-08-29 13:26:57,513 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32892&lt;br/&gt;
2011-08-29 13:26:57,513 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32892&lt;br/&gt;
2011-08-29 13:26:57,514 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:57,514 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32892 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:26:59,937 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32897&lt;br/&gt;
2011-08-29 13:26:59,958 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@770&amp;#93;&lt;/span&gt; - Client attempting to renew session 0x1319819fcd1000b at /10.141.241.188:32897&lt;br/&gt;
2011-08-29 13:26:59,958 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1580&amp;#93;&lt;/span&gt; - Established session 0x1319819fcd1000b with negotiated timeout 10000 for client /10.141.241.188:32897&lt;br/&gt;
2011-08-29 13:26:59,958 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@639&amp;#93;&lt;/span&gt; - Exception causing close of session 0x1319819fcd1000b due to java.io.IOException: Len error 1150247&lt;br/&gt;
2011-08-29 13:26:59,958 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1435&amp;#93;&lt;/span&gt; - Closed socket connection for client /10.141.241.188:32897 which had sessionid 0x1319819fcd1000b&lt;br/&gt;
2011-08-29 13:27:03,711 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@251&amp;#93;&lt;/span&gt; - Accepted socket connection from /10.141.241.188:32904&lt;/p&gt;

&lt;p&gt;It would be great to get this fixed in an upcoming release since it is impacting us quite a bit.&lt;/p&gt;</comment>
                            <comment id="13093200" author="phunt" created="Mon, 29 Aug 2011 21:00:45 +0000"  >&lt;p&gt;You might be seeing &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1162&quot; title=&quot;consistent handling of jute.maxbuffer when attempting to read large zk &amp;quot;directories&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1162&quot;&gt;ZOOKEEPER-1162&lt;/a&gt; &amp;#8211; see if the workaround there fixes your problem.&lt;/p&gt;</comment>
                            <comment id="13094136" author="ehwang" created="Tue, 30 Aug 2011 21:52:36 +0000"  >&lt;p&gt;Any idea if the jute.maxbuffer setting needs to be applied to both server and client? or just client?&lt;/p&gt;</comment>
                            <comment id="13094785" author="ehwang" created="Wed, 31 Aug 2011 18:57:36 +0000"  >&lt;p&gt;Thanks Patrick, setting jute.maxbuffer size to a larger value in the server and client seems to have fixed the problem.&lt;/p&gt;</comment>
                            <comment id="13094971" author="phunt" created="Wed, 31 Aug 2011 22:41:23 +0000"  >&lt;p&gt;Good to know, thanks Eric. Even more reason to address &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1162&quot; title=&quot;consistent handling of jute.maxbuffer when attempting to read large zk &amp;quot;directories&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1162&quot;&gt;ZOOKEEPER-1162&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14285361" author="chenchun" created="Wed, 21 Jan 2015 08:42:35 +0000"  >&lt;p&gt;I think not only large number of watches might cause the error, but also too many ops in a single call of ZooKeeper#multi. I&apos;m seeing the following error &lt;br/&gt;
RM log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-01-20 09:45:45,464 WARN org.apache.zookeeper.ClientCnxn: Session 0x24aeb334e8e000d &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; server c112/10.149.27.112:2181, unexpected error, closing socket connection and attempting reconn
ect
java.io.IOException: Broken pipe
        at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
        at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
        at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
        at sun.nio.ch.IOUtil.write(IOUtil.java:65)
        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:470)
        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:117)
        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1068)
2015-01-20 09:45:45,564 INFO org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing a ZK operation.
org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss
        at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)
        at org.apache.zookeeper.ZooKeeper.multiInternal(ZooKeeper.java:931)
        at org.apache.zookeeper.ZooKeeper.multi(ZooKeeper.java:911)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$4.run(ZKRMStateStore.java:895)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$4.run(ZKRMStateStore.java:892)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$ZKAction.runWithCheck(ZKRMStateStore.java:1031)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$ZKAction.runWithRetries(ZKRMStateStore.java:1050)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.doMultiWithRetries(ZKRMStateStore.java:892)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.doMultiWithRetries(ZKRMStateStore.java:906)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.createWithRetries(ZKRMStateStore.java:915)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.storeRMDTMasterKeyState(ZKRMStateStore.java:785)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore.storeRMDTMasterKey(RMStateStore.java:678)
        at org.apache.hadoop.yarn.server.resourcemanager.security.RMDelegationTokenSecretManager.storeNewMasterKey(RMDelegationTokenSecretManager.java:86)
        at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.updateCurrentKey(AbstractDelegationTokenSecretManager.java:233)
        at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.startThreads(AbstractDelegationTokenSecretManager.java:116)
        at org.apache.hadoop.yarn.server.resourcemanager.RMSecretManagerService.serviceStart(RMSecretManagerService.java:83)
        at org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)
        at org.apache.hadoop.service.CompositeService.serviceStart(CompositeService.java:120)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$RMActiveServices.serviceStart(ResourceManager.java:514)
        at org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.startActiveServices(ResourceManager.java:847)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$2.run(ResourceManager.java:888)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$2.run(ResourceManager.java:884)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:422)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1667)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.transitionToActive(ResourceManager.java:884)
        at org.apache.hadoop.yarn.server.resourcemanager.AdminService.transitionToActive(AdminService.java:275)
        at org.apache.hadoop.yarn.server.resourcemanager.EmbeddedElectorService.becomeActive(EmbeddedElectorService.java:116)
        at org.apache.hadoop.ha.ActiveStandbyElector.becomeActive(ActiveStandbyElector.java:804)
        at org.apache.hadoop.ha.ActiveStandbyElector.processResult(ActiveStandbyElector.java:415)
        at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:596)


2015-01-20 09:59:49,665 WARN org.apache.zookeeper.ClientCnxn: Session 0x34aeb34ba360012 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; server c114/10.149.27.114:2181, unexpected error, closing socket connection and attempting reconnect
java.io.IOException: Broken pipe
        at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
        at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
        at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
        at sun.nio.ch.IOUtil.write(IOUtil.java:65)
        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:470)
        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:117)
        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1068)
2015-01-20 09:59:49,765 INFO org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing a ZK operation.
org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss
        at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)
        at org.apache.zookeeper.ZooKeeper.multiInternal(ZooKeeper.java:931)
        at org.apache.zookeeper.ZooKeeper.multi(ZooKeeper.java:911)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$4.run(ZKRMStateStore.java:895)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$4.run(ZKRMStateStore.java:892)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$ZKAction.runWithCheck(ZKRMStateStore.java:1031)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore$ZKAction.runWithRetries(ZKRMStateStore.java:1050)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.doMultiWithRetries(ZKRMStateStore.java:892)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore.removeApplicationStateInternal(ZKRMStateStore.java:678)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore$RemoveAppTransition.transition(RMStateStore.java:184)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore$RemoveAppTransition.transition(RMStateStore.java:170)
        at org.apache.hadoop.yarn.state.StateMachineFactory$SingleInternalArc.doTransition(StateMachineFactory.java:362)
        at org.apache.hadoop.yarn.state.StateMachineFactory.doTransition(StateMachineFactory.java:302)
        at org.apache.hadoop.yarn.state.StateMachineFactory.access$300(StateMachineFactory.java:46)
        at org.apache.hadoop.yarn.state.StateMachineFactory$InternalStateMachine.doTransition(StateMachineFactory.java:448)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore.handleStoreEvent(RMStateStore.java:769)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore$ForwardingEventHandler.handle(RMStateStore.java:842)
        at org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore$ForwardingEventHandler.handle(RMStateStore.java:837)
        at org.apache.hadoop.yarn.event.AsyncDispatcher.dispatch(AsyncDispatcher.java:191)
        at org.apache.hadoop.yarn.event.AsyncDispatcher$1.run(AsyncDispatcher.java:124)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;zk log&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-01-20 09:45:46,377 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxnFactory@197] - Accepted socket connection from /10.149.27.114:33517
2015-01-20 09:45:46,381 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@861] - Client attempting to renew session 0x24aeb334e8e000d at /10.149.27.114:33517
2015-01-20 09:45:46,381 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@617] - Established session 0x24aeb334e8e000d with negotiated timeout 10000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; client /10.149.27.114:33517
2015-01-20 09:45:46,381 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@892] - got auth packet /10.149.27.114:33517
2015-01-20 09:45:46,381 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:ZooKeeperServer@926] - auth success /10.149.27.114:33517
2015-01-20 09:45:46,481 [myid:2] - WARN [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@362] - Exception causing close of session 0x24aeb334e8e000d due to java.io.IOException: Len error 9271869
2015-01-20 09:45:46,481 [myid:2] - INFO [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1007] - Closed socket connection &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; client /10.149.27.114:33517 which had sessionid 0x24aeb334e8e000d
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14583365" author="cthunes" created="Fri, 12 Jun 2015 13:08:36 +0000"  >&lt;p&gt;I would like to submit the attached patch for review. This change handles splitting the SetWatches call after session re-establishment into multiple smaller requests to avoid hitting the maxBuffer limit of the server.&lt;/p&gt;</comment>
                            <comment id="14583843" author="rgs" created="Fri, 12 Jun 2015 18:28:34 +0000"  >&lt;p&gt;lgtm, +1.&lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cthunes&quot; class=&quot;user-hover&quot; rel=&quot;cthunes&quot;&gt;cthunes&lt;/a&gt;! Do you think you could add a test? I think we could go without one, but given the assumption has always been there&apos;s only one SetWatches() packet after reconnect, it might be good to have a small test for this. &lt;/p&gt;</comment>
                            <comment id="14583846" author="hadoopqa" created="Fri, 12 Jun 2015 18:31:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739232/ZOOKEEPER-706.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739232/ZOOKEEPER-706.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1684956.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2765//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2765//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14583848" author="rgs" created="Fri, 12 Jun 2015 18:32:07 +0000"  >&lt;p&gt;Ah, also: the patch you attached only applies to the 3.4 branch. Do you mind renaming that patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-706&quot; title=&quot;large numbers of watches can cause session re-establishment to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-706&quot;&gt;&lt;del&gt;ZOOKEEPER-706&lt;/del&gt;&lt;/a&gt;-branch-34.patch and also submitting one that applies to trunk (which would be &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-706&quot; title=&quot;large numbers of watches can cause session re-establishment to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-706&quot;&gt;&lt;del&gt;ZOOKEEPER-706&lt;/del&gt;&lt;/a&gt;.patch)? Thanks!&lt;/p&gt;</comment>
                            <comment id="14583849" author="rgs" created="Fri, 12 Jun 2015 18:32:25 +0000"  >&lt;p&gt;yeah, this is because the patch is against the 3.4 branch. &lt;/p&gt;</comment>
                            <comment id="14583867" author="cthunes" created="Fri, 12 Jun 2015 18:39:00 +0000"  >&lt;p&gt;Sure, let me see if I can put something together. It looks like org.apache.zookeeper.test.DisconnectedWatcherTest would an appropriate place for one. Does that seem correct?&lt;/p&gt;</comment>
                            <comment id="14583870" author="cthunes" created="Fri, 12 Jun 2015 18:39:43 +0000"  >&lt;p&gt;Will do.&lt;/p&gt;</comment>
                            <comment id="14583883" author="rgs" created="Fri, 12 Jun 2015 18:47:19 +0000"  >&lt;p&gt;Yeah, I think that makes sense. Something like setting 10K watches on /some/100/chars/path maybe? &lt;/p&gt;</comment>
                            <comment id="14583995" author="cthunes" created="Fri, 12 Jun 2015 20:11:22 +0000"  >&lt;p&gt;I&apos;ve add a test and attached the updated patches for both the 3.4 branch and trunk.&lt;/p&gt;</comment>
                            <comment id="14584016" author="hadoopqa" created="Fri, 12 Jun 2015 20:28:27 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739317/ZOOKEEPER-706.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739317/ZOOKEEPER-706.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1684956.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2766//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14584032" author="rgs" created="Fri, 12 Jun 2015 20:34:01 +0000"  >&lt;p&gt;We can ignore the failed test:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1 tests failed.
REGRESSION:  org.apache.zookeeper.test.ReconfigTest.testPortChange
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14584033" author="rgs" created="Fri, 12 Jun 2015 20:34:02 +0000"  >&lt;p&gt;We can ignore the failed test:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1 tests failed.
REGRESSION:  org.apache.zookeeper.test.ReconfigTest.testPortChange
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14584051" author="rgs" created="Fri, 12 Jun 2015 20:47:55 +0000"  >&lt;p&gt;So chatting with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svoutil&quot; class=&quot;user-hover&quot; rel=&quot;svoutil&quot;&gt;svoutil&lt;/a&gt; about this, we think there is an issue in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+                        SetWatches sw = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SetWatches(lastZxid,
+                                                       dataWatchesBatch,
+                                                       existWatchesBatch,
+                                                       childWatchesBatch);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The lastZxid should be the &lt;b&gt;same&lt;/b&gt; for all SetWatches packets. Given it can change while you are looping (because a watch could have fired, and triggered a read), that would cause the client to claim that it&apos;s further ahead than it really is. &lt;/p&gt;

&lt;p&gt;So we should save lastZxid before we start sending the SetWatches packets. &lt;/p&gt;</comment>
                            <comment id="14584062" author="rgs" created="Fri, 12 Jun 2015 20:55:50 +0000"  >&lt;p&gt;Small nit, in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path = zk1.create(pathBase + &lt;span class=&quot;code-quote&quot;&gt;&quot;/ch-&quot;&lt;/span&gt; + i, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, Ids.OPEN_ACL_UNSAFE,
+                                     CreateMode.PERSISTENT);
+            paths.add(path);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;given that you are saving the path, you could just use CreateMode.PERSISTENT_SEQUENTIAL (to get a unique path) and no need to + i. &lt;/p&gt;

&lt;p&gt;Other than that and the lastZxid issue, I think it looks good. Thanks!&lt;/p&gt;</comment>
                            <comment id="14584078" author="cthunes" created="Fri, 12 Jun 2015 21:04:47 +0000"  >&lt;p&gt;Ah, good catch. I&apos;ll fix that up.&lt;/p&gt;</comment>
                            <comment id="14584095" author="cthunes" created="Fri, 12 Jun 2015 21:15:43 +0000"  >&lt;p&gt;Okay, these should address the zxid issue and the PERSISTENT_SEQUENTIAL issue.&lt;/p&gt;</comment>
                            <comment id="14584106" author="hadoopqa" created="Fri, 12 Jun 2015 21:21:05 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739332/ZOOKEEPER-706-branch-34.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739332/ZOOKEEPER-706-branch-34.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1685167.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2767//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2767//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14584342" author="rgs" created="Sat, 13 Jun 2015 00:50:17 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;trunk &lt;a href=&quot;https://github.com/apache/zookeeper/commit/aea212fb4cea300dd1eb213541f60352246a74d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/aea212fb4cea300dd1eb213541f60352246a74d6&lt;/a&gt;&lt;br/&gt;
3.5 &lt;a href=&quot;https://github.com/apache/zookeeper/commit/66532c2b43daf96e769a8ed6cf217808d2c621ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/66532c2b43daf96e769a8ed6cf217808d2c621ec&lt;/a&gt;&lt;br/&gt;
3.4 &lt;a href=&quot;https://github.com/apache/zookeeper/commit/05f17a04e5ef261abae19b08ef138f62febfb188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/05f17a04e5ef261abae19b08ef138f62febfb188&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cthunes&quot; class=&quot;user-hover&quot; rel=&quot;cthunes&quot;&gt;cthunes&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14584371" author="cthunes" created="Sat, 13 Jun 2015 01:30:43 +0000"  >&lt;p&gt;Happy to contribute and thanks for the feedback and quick turn around!&lt;/p&gt;</comment>
                            <comment id="14584554" author="hudson" created="Sat, 13 Jun 2015 10:37:56 +0000"  >&lt;p&gt;FAILURE: Integrated in ZooKeeper-trunk #2725 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2725/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2725/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-706&quot; title=&quot;large numbers of watches can cause session re-establishment to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-706&quot;&gt;&lt;del&gt;ZOOKEEPER-706&lt;/del&gt;&lt;/a&gt;: Large numbers of watches can cause session re-establishment to fail&lt;br/&gt;
(Chris Thunes via rgs) (rgs: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1685200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1685200&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/ClientCnxn.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/DisconnectedWatcherTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14723524" author="janmejay" created="Mon, 31 Aug 2015 15:06:23 +0000"  >&lt;p&gt;@Raul: Is it safe to backport this to 3.4.6?&lt;/p&gt;</comment>
                            <comment id="14723624" author="rgs" created="Mon, 31 Aug 2015 16:19:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janmejay&quot; class=&quot;user-hover&quot; rel=&quot;janmejay&quot;&gt;janmejay&lt;/a&gt;: should be, but I am hoping to have an RC for 3.4.7 out this week (waiting on two patches as well...)&lt;/p&gt;</comment>
                            <comment id="14724880" author="rakeshr" created="Tue, 1 Sep 2015 06:54:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; please help to add &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cthunes&quot; class=&quot;user-hover&quot; rel=&quot;cthunes&quot;&gt;cthunes&lt;/a&gt; to the contributors list and assign the issue to him. Thanks!&lt;/p&gt;</comment>
                            <comment id="14725666" author="fpj" created="Tue, 1 Sep 2015 16:47:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt; done.&lt;/p&gt;</comment>
                            <comment id="16588973" author="sujay.paranjape@gmail.com" created="Wed, 22 Aug 2018 14:55:26 +0000"  >&lt;p&gt;Looks like patch has fix only for JAVA client. This has not been fixed for C client. I would like to submit a fix for C client. Please confirm.&#160;&lt;/p&gt;</comment>
                            <comment id="16595642" author="nixon" created="Tue, 28 Aug 2018 21:42:33 +0000"  >&lt;p&gt;I agree that the C client is still vulnerable to this - please do put up a patch if you have the time.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12631829">ZOOKEEPER-1644</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12520055">ZOOKEEPER-1162</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12739332" name="ZOOKEEPER-706-branch-34.patch" size="8823" author="cthunes" created="Fri, 12 Jun 2015 21:15:43 +0000"/>
                            <attachment id="12739316" name="ZOOKEEPER-706-branch-34.patch" size="8745" author="cthunes" created="Fri, 12 Jun 2015 20:11:22 +0000"/>
                            <attachment id="12739331" name="ZOOKEEPER-706.patch" size="8647" author="cthunes" created="Fri, 12 Jun 2015 21:15:43 +0000"/>
                            <attachment id="12739317" name="ZOOKEEPER-706.patch" size="8573" author="cthunes" created="Fri, 12 Jun 2015 20:11:22 +0000"/>
                            <attachment id="12739232" name="ZOOKEEPER-706.patch" size="4867" author="cthunes" created="Fri, 12 Jun 2015 13:08:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05zvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>