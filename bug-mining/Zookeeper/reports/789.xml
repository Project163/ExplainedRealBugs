<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:59:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2517] jute.maxbuffer is ignored</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2517</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;In ClientCnxnSocket.java the parsing of the system property is erroneous:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;packetLen = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.getInteger(
  clientConfig.getProperty(ZKConfig.JUTE_MAXBUFFER),
  ZKClientConfig.CLIENT_MAX_PACKET_LENGTH_DEFAULT
);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Javadoc of Integer.getInteger states &quot;The first argument is treated as the name of a system property&quot;, whereas here the value of the property is passed.&lt;/p&gt;

&lt;p&gt;Instead I believe the author meant to write something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;packetLen = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(
  clientConfig.getProperty(
    ZKConfig.JUTE_MAXBUFFER,
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(ZKClientConfig.CLIENT_MAX_PACKET_LENGTH_DEFAULT)
  )
);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12998347">ZOOKEEPER-2517</key>
            <summary>jute.maxbuffer is ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arshad.mohammad">Mohammad Arshad</assignee>
                                    <reporter username="benjamin.jaton">Benjamin Jaton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Aug 2016 23:41:52 +0000</created>
                <updated>Thu, 18 May 2017 03:43:55 +0000</updated>
                            <resolved>Fri, 30 Dec 2016 22:02:36 +0000</resolved>
                                    <version>3.5.2</version>
                                    <fixVersion>3.5.3</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15427373" author="benjamin.jaton" created="Thu, 18 Aug 2016 23:44:28 +0000"  >&lt;p&gt;Proposed patch&lt;/p&gt;</comment>
                            <comment id="15427384" author="benjamin.jaton" created="Thu, 18 Aug 2016 23:58:25 +0000"  >&lt;p&gt;Proposed Patch&lt;/p&gt;</comment>
                            <comment id="15427669" author="arshad.mohammad" created="Fri, 19 Aug 2016 06:01:40 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benjamin.jaton&quot; class=&quot;user-hover&quot; rel=&quot;benjamin.jaton&quot;&gt;benjamin.jaton&lt;/a&gt; for reporting and submitting a patch.&lt;br/&gt;
One review comment on the patch.&lt;br/&gt;
Can we handled NumberFormatException and use default in case of NumberFormatException.&lt;/p&gt;</comment>
                            <comment id="15428420" author="hanm" created="Fri, 19 Aug 2016 16:41:07 +0000"  >&lt;p&gt;The issue is introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2139&quot; title=&quot;Support multiple ZooKeeper client, with different configurations, in a single JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2139&quot;&gt;&lt;del&gt;ZOOKEEPER-2139&lt;/del&gt;&lt;/a&gt;. Should we make packetLen testable and write a test case for this?&lt;/p&gt;</comment>
                            <comment id="15434993" author="arshad.mohammad" created="Wed, 24 Aug 2016 14:09:00 +0000"  >&lt;p&gt;sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benjamin.jaton&quot; class=&quot;user-hover&quot; rel=&quot;benjamin.jaton&quot;&gt;benjamin.jaton&lt;/a&gt;, I assigned the issue without asking you. Please feel free to unassign form your or assign me if you don&apos;t have cycle to work on it.&lt;/p&gt;</comment>
                            <comment id="15459426" author="arshad.mohammad" created="Fri, 2 Sep 2016 19:50:10 +0000"  >&lt;ol&gt;
	&lt;li&gt;I am submitting new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2517&quot; title=&quot;jute.maxbuffer is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2517&quot;&gt;&lt;del&gt;ZOOKEEPER-2517&lt;/del&gt;&lt;/a&gt;-01.patch for this issue, I feel this is very important bug and it should be fixed ASAP. Hope &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benjamin.jaton&quot; class=&quot;user-hover&quot; rel=&quot;benjamin.jaton&quot;&gt;benjamin.jaton&lt;/a&gt; you wont mind it.&lt;/li&gt;
	&lt;li&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hanm&quot; class=&quot;user-hover&quot; rel=&quot;hanm&quot;&gt;hanm&lt;/a&gt; for your suggestion, I made it testable&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15459459" author="hadoopqa" created="Fri, 2 Sep 2016 20:04:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12826918/ZOOKEEPER-2517-01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12826918/ZOOKEEPER-2517-01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1757584.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3387//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15459520" author="eribeiro" created="Fri, 2 Sep 2016 20:31:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;A few comments:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = getProperty(key);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; defaultValue;
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(value);
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NumberFormatException e) {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isDebugEnabled()) {
                    LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Configured value {} &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; property {} can not be parsed to &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value {}.&quot;&lt;/span&gt;,
                            value, key, defaultValue);
                }
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; defaultValue;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;can be rewritten as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = getProperty(key);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; value.trim().length() &amp;gt; 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(value);
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NumberFormatException e) {
                    LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Configured value {} &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; property {} can not be parsed to &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value {}.&quot;&lt;/span&gt;, value, key, defaultValue);
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; defaultValue;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, I think a parser error of a parameter can be more insidious and dangerous bug to relegate it to debug only logging. I think it should be at least &lt;tt&gt;LOG.WARN&lt;/tt&gt;. wdyt?&lt;/p&gt;

&lt;p&gt;Finally, I don&apos;t like the name of the unit test: &lt;tt&gt;testGetInt&lt;/tt&gt;. I think it&apos;s a bit vague so a more verbose, but clear name would be nice. Maybe &lt;tt&gt;testIntegerRetrievalFromProperty&lt;/tt&gt; or something else... I no good with naming, btw.&lt;/p&gt;

&lt;p&gt;Best regards!&lt;/p&gt;
</comment>
                            <comment id="15471957" author="phunt" created="Wed, 7 Sep 2016 22:15:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt; - do you want to update the patch with Edward&apos;s comments?&lt;/p&gt;</comment>
                            <comment id="15473148" author="arshad.mohammad" created="Thu, 8 Sep 2016 08:03:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eribeiro&quot; class=&quot;user-hover&quot; rel=&quot;eribeiro&quot;&gt;eribeiro&lt;/a&gt;, Handled review comments, please have a look&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;instead of just checking trimmed value length, we should use the trimmed value. Not checking length after trim to log the warning&lt;/li&gt;
	&lt;li&gt;getInt is a common class. The classes using it will log the returned value. If it was a method meant to be used in specific class, no doubt it would have been a WARN. no problem, changing to WARN&lt;/li&gt;
	&lt;li&gt;Because getInt is a small method and I was testing the complete getInt method but it can be renamed to testIntegerRetrievalFromProperty]Handled review comments, please have a look.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15473196" author="hadoopqa" created="Thu, 8 Sep 2016 08:26:22 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12827512/ZOOKEEPER-2517-02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12827512/ZOOKEEPER-2517-02.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1759739.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3402//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15474489" author="phunt" created="Thu, 8 Sep 2016 17:30:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; - could you help with this one (review/commit), given you had participated in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2139&quot; title=&quot;Support multiple ZooKeeper client, with different configurations, in a single JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2139&quot;&gt;&lt;del&gt;ZOOKEEPER-2139&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="15474508" author="eribeiro" created="Thu, 8 Sep 2016 17:35:56 +0000"  >&lt;p&gt;It has been updated. LGTM.&lt;/p&gt;</comment>
                            <comment id="15474512" author="eribeiro" created="Thu, 8 Sep 2016 17:36:26 +0000"  >&lt;p&gt;Nice points, Arshad. LGTM.&lt;/p&gt;</comment>
                            <comment id="15478383" author="fpj" created="Fri, 9 Sep 2016 21:56:13 +0000"  >&lt;p&gt;It looks mostly good. There are a couple of long lines that I would appreciate if we could break into multiple.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering about the warning on number format exception. If I make a mistake, then I&apos;ll get a warning in my log, but the server will keep going. I might get an undesired behavior that I&apos;ll only realize after a while. Is it better to propagate the exception rather than just writing the warning?&lt;/p&gt;</comment>
                            <comment id="15491065" author="fpj" created="Wed, 14 Sep 2016 17:59:56 +0000"  >&lt;p&gt;Just to complement what I said before, if we propagate the exception, then it should end up caught in &lt;tt&gt;zookeeper.getClientCnxnSocket&lt;/tt&gt; and transformed into an &lt;tt&gt;IOException&lt;/tt&gt;. I think this is a better course of action compared to swallowing the exception, but feel free to disagree.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15491284" author="arshad.mohammad" created="Wed, 14 Sep 2016 19:45:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; for reviews.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;I was using maximum line width 120 in eclipse. now changed to 80 and formatted the modified code. is this OK? or is there any other zookeeper guideline for this.&lt;/li&gt;
	&lt;li&gt;Throwing NumberFormatException from ZKConfig.getInt(String, int).&lt;/li&gt;
	&lt;li&gt;&lt;blockquote&gt;&lt;p&gt;If we propagate the exception, then it should end up caught in zookeeper.getClientCnxnSocket and transformed into an IOException&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;can we log the warning here and use the default value?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15491331" author="hadoopqa" created="Wed, 14 Sep 2016 20:06:22 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12828521/ZOOKEEPER-2517-03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12828521/ZOOKEEPER-2517-03.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision b2a484cfe743116d2531fe5d1e1d78b3960c511e.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3430//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15492392" author="hanm" created="Thu, 15 Sep 2016 05:03:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;can we log the warning here and use the default value?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This sounds good as it will be consistent with old client side behavior, where we don&apos;t bail out on bogus just.maxbuffer&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; packetLen = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.getInteger(&lt;span class=&quot;code-quote&quot;&gt;&quot;jute.maxbuffer&quot;&lt;/span&gt;,4096 * 1024);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On server side, I think the behavior is different, that the server is less tolerant with bogus configuration value. In most if not all cases server will not start with bogus value which makes sense as it&apos;s better to bail out early than running into unknown states with bogus configuration. &lt;/p&gt;

&lt;p&gt;We could make client behavior consistent with server, so when client has a bogus maxbuffer config value client will abort? &lt;/p&gt;
</comment>
                            <comment id="15499417" author="arshad.mohammad" created="Sat, 17 Sep 2016 17:51:59 +0000"  >&lt;p&gt;In the new patch, throwing &lt;tt&gt;IOException&lt;/tt&gt; in case invalid &lt;tt&gt;jute.maxbuffer&lt;/tt&gt; is configured.&lt;/p&gt;</comment>
                            <comment id="15499448" author="hadoopqa" created="Sat, 17 Sep 2016 18:16:18 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12829061/ZOOKEEPER-2517-04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12829061/ZOOKEEPER-2517-04.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision b2a484cfe743116d2531fe5d1e1d78b3960c511e.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3439//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15684450" author="githubbot" created="Mon, 21 Nov 2016 19:11:50 +0000"  >&lt;p&gt;GitHub user arshadmohammad opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2517&quot; title=&quot;jute.maxbuffer is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2517&quot;&gt;&lt;del&gt;ZOOKEEPER-2517&lt;/del&gt;&lt;/a&gt;:jute.maxbuffer is ignored&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2517&quot; title=&quot;jute.maxbuffer is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2517&quot;&gt;&lt;del&gt;ZOOKEEPER-2517&lt;/del&gt;&lt;/a&gt;:jute.maxbuffer is ignored&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/arshadmohammad/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/arshadmohammad/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2517&quot; title=&quot;jute.maxbuffer is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2517&quot;&gt;&lt;del&gt;ZOOKEEPER-2517&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #113&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d722cacd247cee4352ce4012db92cb604f8fa57b&lt;br/&gt;
Author: arshadmohammad &amp;lt;arshad.mohammad.k@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-21T19:09:41Z&lt;/p&gt;

&lt;p&gt;    jute.maxbuffer is ignored&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15684504" author="hadoopqa" created="Mon, 21 Nov 2016 19:31:11 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 20 new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/84//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15712555" author="githubbot" created="Thu, 1 Dec 2016 17:34:32 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, looks good. We should definitely get this in before cutting RC build for 3.5.3.&lt;/p&gt;</comment>
                            <comment id="15712611" author="hadoopqa" created="Thu, 1 Dec 2016 18:00:51 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12829061/ZOOKEEPER-2517-04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12829061/ZOOKEEPER-2517-04.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision d72f27279a13986ee0c011e1e5b34edf3a310da9.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3537//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15733566" author="githubbot" created="Thu, 8 Dec 2016 22:19:56 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @rgs1 this is the blocker issue we were talking about, please take a look at it.&lt;/p&gt;</comment>
                            <comment id="15772526" author="githubbot" created="Fri, 23 Dec 2016 10:42:56 +0000"  >&lt;p&gt;Github user rakeshadr commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, LGTM. Thanks @arshadmohammad for the patch.&lt;/p&gt;</comment>
                            <comment id="15788425" author="githubbot" created="Fri, 30 Dec 2016 22:02:24 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15788426" author="hanm" created="Fri, 30 Dec 2016 22:02:36 +0000"  >&lt;p&gt;Issue resolved by pull request 113&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/113&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15788480" author="hudson" created="Fri, 30 Dec 2016 22:42:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3217 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3217/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3217/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2517&quot; title=&quot;jute.maxbuffer is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2517&quot;&gt;&lt;del&gt;ZOOKEEPER-2517&lt;/del&gt;&lt;/a&gt;: jute.maxbuffer is ignored (hanm: rev de5c0e9abeb87721f4157662210dfcd38a7c15ea)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/zookeeper/common/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/test/org/apache/zookeeper/client/ZKClientConfigTest.java&lt;/li&gt;
	&lt;li&gt;(add) src/java/test/org/apache/zookeeper/ClientCnxnSocketTest.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/zookeeper/ClientCnxnSocket.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/zookeeper/ClientCnxnSocketNetty.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12781714">ZOOKEEPER-2139</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12826918" name="ZOOKEEPER-2517-01.patch" size="3909" author="arshad.mohammad" created="Fri, 2 Sep 2016 19:46:12 +0000"/>
                            <attachment id="12827512" name="ZOOKEEPER-2517-02.patch" size="4123" author="arshad.mohammad" created="Thu, 8 Sep 2016 08:03:39 +0000"/>
                            <attachment id="12828521" name="ZOOKEEPER-2517-03.patch" size="5004" author="arshad.mohammad" created="Wed, 14 Sep 2016 19:46:05 +0000"/>
                            <attachment id="12829061" name="ZOOKEEPER-2517-04.patch" size="8124" author="arshad.mohammad" created="Sat, 17 Sep 2016 17:51:59 +0000"/>
                            <attachment id="12824466" name="ZOOKEEPER-2517.patch" size="895" author="benjamin.jaton" created="Thu, 18 Aug 2016 23:58:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32hzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>