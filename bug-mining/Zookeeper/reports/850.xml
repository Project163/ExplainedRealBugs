<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:00:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2934] c versions of election and queue recipes do not compile</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2934</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;I see errors like: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/zookeeper/src/recipes/queue/src/c/../../../../../src/c/include/zookeeper_log.h:39:74: error: expected expression before &lt;span class=&quot;code-quote&quot;&gt;&apos;)&apos;&lt;/span&gt; token
     log_message(_cb, ZOO_LOG_LEVEL_DEBUG, __LINE__, __func__, __VA_ARGS__)
                                                                          ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13116513">ZOOKEEPER-2934</key>
            <summary>c versions of election and queue recipes do not compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andor">Andor Molnar</assignee>
                                    <reporter username="abrahamfine">Abraham Fine</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Nov 2017 20:44:47 +0000</created>
                <updated>Wed, 15 Nov 2017 22:32:24 +0000</updated>
                            <resolved>Wed, 15 Nov 2017 22:19:08 +0000</resolved>
                                    <version>3.4.10</version>
                    <version>3.5.3</version>
                                    <fixVersion>3.5.4</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>recipes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16241843" author="andorm" created="Tue, 7 Nov 2017 11:21:59 +0000"  >&lt;p&gt;I&apos;ve taken a look at other usages of LOG_DEBUG macro and it looks slightly different in the C client library.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
src/c/src/zookeeper.c:    LOG_DEBUG(LOGCALLBACK(zh), &lt;span class=&quot;code-quote&quot;&gt;&quot;Sending request xid=%#x &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; path [%s] to %s&quot;&lt;/span&gt;,h.xid,path,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;wheres in the recipe code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
src/recipes/queue/src/c/src/zoo_queue.c:        LOG_DEBUG((&lt;span class=&quot;code-quote&quot;&gt;&quot;Error! Called await twice.&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suspect that the macro has been changed recently and the recipe hasn&apos;t been updated. &lt;br/&gt;
I&apos;ll take a closer look how to fix it later today.&lt;/p&gt;</comment>
                            <comment id="16241851" author="andorm" created="Tue, 7 Nov 2017 11:26:13 +0000"  >&lt;p&gt;Caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1400&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16241898" author="andorm" created="Tue, 7 Nov 2017 12:06:10 +0000"  >&lt;p&gt;This problem exist in &apos;lock&apos; recipe too.&lt;/p&gt;

&lt;p&gt;I&apos;m going to create patch for both of them.&lt;/p&gt;</comment>
                            <comment id="16246664" author="githubbot" created="Thu, 9 Nov 2017 22:14:44 +0000"  >&lt;p&gt;GitHub user anmolnar opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2934&quot; title=&quot;c versions of election and queue recipes do not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2934&quot;&gt;&lt;del&gt;ZOOKEEPER-2934&lt;/del&gt;&lt;/a&gt;: Updated usage of LOG_DEBUG in recipes to follow changes in ZK client&lt;/p&gt;

&lt;p&gt;    LOG_DEBUG macro has been changed recently in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1400&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This patch updates &apos;lock&apos; and &apos;queue&apos; recipes to follow the changes.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anmolnar/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anmolnar/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2934&quot; title=&quot;c versions of election and queue recipes do not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2934&quot;&gt;&lt;del&gt;ZOOKEEPER-2934&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/416.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #416&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 86dc7190aeda82ffb3cf32aaa45426294ab7395b&lt;br/&gt;
Author: Andor Moln&#225;r &amp;lt;andor@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2017-11-07T12:09:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2934&quot; title=&quot;c versions of election and queue recipes do not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2934&quot;&gt;&lt;del&gt;ZOOKEEPER-2934&lt;/del&gt;&lt;/a&gt;: Updated usage of LOG_DEBUG in recipes to follow changes in ZK client&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16246830" author="hadoopqa" created="Fri, 10 Nov 2017 00:38:36 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +0 tests included.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1185//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16254294" author="githubbot" created="Wed, 15 Nov 2017 22:07:07 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I ran &quot;ant compile&quot; and &quot;ant test&quot; from the toplevel and it worked fine for me - passed.&lt;/p&gt;

&lt;p&gt;    +1 - I&apos;m committing, if I missed something we can followup with another jira. &lt;/p&gt;

&lt;p&gt;    Thanks Andor!&lt;/p&gt;</comment>
                            <comment id="16254299" author="githubbot" created="Wed, 15 Nov 2017 22:09:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16254318" author="githubbot" created="Wed, 15 Nov 2017 22:15:42 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ic - &quot;ant ..&quot; is only exercising the java code. NM. Still committing this, although it would be good to followup separately on Abe&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="16254322" author="phunt" created="Wed, 15 Nov 2017 22:19:08 +0000"  >&lt;p&gt;Issue resolved by pull request 416&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/416&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16254350" author="hudson" created="Wed, 15 Nov 2017 22:32:24 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build ZooKeeper-trunk #3610 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3610/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3610/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2934&quot; title=&quot;c versions of election and queue recipes do not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2934&quot;&gt;&lt;del&gt;ZOOKEEPER-2934&lt;/del&gt;&lt;/a&gt;: Updated usage of LOG_DEBUG in recipes to follow changes (phunt: rev f6d2abf58adeda5a8c5da8192ea4a6549285e561)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) src/recipes/queue/src/c/src/zoo_queue.c&lt;/li&gt;
	&lt;li&gt;(edit) src/recipes/queue/src/c/include/zoo_queue.h&lt;/li&gt;
	&lt;li&gt;(edit) src/recipes/lock/src/c/src/zoo_lock.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mgpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>