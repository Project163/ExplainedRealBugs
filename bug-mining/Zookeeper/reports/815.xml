<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:59:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-1932] Remove deprecated LeaderElection class</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1932</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;org.apache.zookeeper.test.LETest.testLE is failing on trunk once in a while. I&apos;m not able to reproduce the failure on my box. I looked at the log, but I couldn&apos;t quite figure out what&apos;s going on. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/ZooKeeper-trunk/2315/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/ZooKeeper-trunk/2315/testReport/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Update:&lt;br/&gt;
======&lt;br/&gt;
Because LE is deprecated there is not much points on spending effort fixing it, as discussed in the JIRA. Updated JIRA title to reflect the state of the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12717832">ZOOKEEPER-1932</key>
            <summary>Remove deprecated LeaderElection class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hanm">Michael Han</assignee>
                                    <reporter username="michim">Michi Mutsuzaki</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2014 00:58:01 +0000</created>
                <updated>Thu, 11 May 2017 16:42:03 +0000</updated>
                            <resolved>Thu, 11 May 2017 15:01:21 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.6.0</fixVersion>
                                    <component>leaderElection</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14044601" author="fpj" created="Thu, 26 Jun 2014 12:22:04 +0000"  >&lt;p&gt;We have marked LE deprecated in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1153&quot; title=&quot;Deprecate AuthFLE and LE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1153&quot;&gt;&lt;del&gt;ZOOKEEPER-1153&lt;/del&gt;&lt;/a&gt;, and said that we would remove it in the next branch, so my suggestion is that we simply drop this test. Any concern about that?&lt;/p&gt;

&lt;p&gt;I&apos;m attaching in any case the logs for a run that failed.&lt;/p&gt;</comment>
                            <comment id="15398460" author="hanm" created="Fri, 29 Jul 2016 00:00:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; I saw you mentioned that we could remove the this test because the code it is testing, the LeaderElection is deprecated. Should we just do that for this test, or you prefer we keep this test for now and remove it along with the LE code in future releases? What others think about this proposal? &lt;/p&gt;

&lt;p&gt;Anyway, the curios part of me looked at the problem briefly today and it can be a little bit easier reproducible if we increase the thread count, from 30 to 60, and can be hardly reproducible if I decrease the thread count from 30 to 5. Thread dump indicates that one or more LE threads were in WAITING state which implies they never bail out (that they never finds a leader for some reasons). Sounds another threading related issue.&lt;/p&gt;</comment>
                            <comment id="15563676" author="hanm" created="Mon, 10 Oct 2016 22:02:56 +0000"  >&lt;p&gt;This test failed a lot recently - since the code it&apos;s testing is deprecated, I don&apos;t see much value of keeping the test around. Probably we should remove LeaderElection class along with the test too? This patch just removed testLE.&lt;/p&gt;</comment>
                            <comment id="15563867" author="hadoopqa" created="Mon, 10 Oct 2016 23:20:21 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12832555/ZOOKEEPER-1932.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12832555/ZOOKEEPER-1932.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision f78061aafb19b102c37cb6d744ec6258d5f5b66e.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3479//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15564972" author="fpj" created="Tue, 11 Oct 2016 09:12:28 +0000"  >&lt;p&gt;I&apos;m +1 on this patch and on removing the LeaderElection class, although it might be better to remove the LeaderElection class on trunk only because earlier versions of 3.5 already contain it. What do you think?&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hanm&quot; class=&quot;user-hover&quot; rel=&quot;hanm&quot;&gt;hanm&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15566695" author="hanm" created="Tue, 11 Oct 2016 21:38:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; Yes removing the class on master branch only sounds good.&lt;/p&gt;</comment>
                            <comment id="15566836" author="hanm" created="Tue, 11 Oct 2016 22:36:49 +0000"  >&lt;p&gt;Patch to remove both deprecated LeaderElection class and associated tests.&lt;/p&gt;</comment>
                            <comment id="15566899" author="hadoopqa" created="Tue, 11 Oct 2016 23:04:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12832786/ZOOKEEPER-1932.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12832786/ZOOKEEPER-1932.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision f78061aafb19b102c37cb6d744ec6258d5f5b66e.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 7 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3482//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15667974" author="githubbot" created="Tue, 15 Nov 2016 19:11:58 +0000"  >&lt;p&gt;GitHub user hanm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1932&quot; title=&quot;Remove deprecated LeaderElection class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1932&quot;&gt;&lt;del&gt;ZOOKEEPER-1932&lt;/del&gt;&lt;/a&gt;: Remove deprecated LeaderElection class.&lt;/p&gt;

&lt;p&gt;    The motivation of removing LeaderElection class:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;It has been long deprecated and no one uses it.&lt;/li&gt;
	&lt;li&gt;Tests around it is flaky.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/hanm/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hanm/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1932&quot; title=&quot;Remove deprecated LeaderElection class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1932&quot;&gt;&lt;del&gt;ZOOKEEPER-1932&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #106&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f6f1ad497c71b54ae8944e7d1b1726e66b8153f6&lt;br/&gt;
Author: Michael Han &amp;lt;hanm@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2016-11-15T18:57:04Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1932&quot; title=&quot;Remove deprecated LeaderElection class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1932&quot;&gt;&lt;del&gt;ZOOKEEPER-1932&lt;/del&gt;&lt;/a&gt;: Remove deprecated LeaderElection class.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15668073" author="hadoopqa" created="Tue, 15 Nov 2016 19:43:49 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 7 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 21 new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/71//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15701070" author="githubbot" created="Mon, 28 Nov 2016 06:22:28 +0000"  >&lt;p&gt;Github user lvfangmin commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Since we&apos;re deprecating the LeaderElection, should we also remove LeaderElection.java itself? Any reason we keep it there even no code is referencing it?&lt;/p&gt;</comment>
                            <comment id="15707132" author="githubbot" created="Wed, 30 Nov 2016 01:12:44 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @lvfangmin Good catch, thanks for looking at the PR. I can&apos;t remember why LeaderElection.java was not removed in the patch, let me double check before updating the PR.&lt;/p&gt;</comment>
                            <comment id="15726573" author="hadoopqa" created="Tue, 6 Dec 2016 20:12:28 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/103//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15726587" author="githubbot" created="Tue, 6 Dec 2016 20:18:34 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    PR updated:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removed LeaderElection class that not referenced anywhere.&lt;/li&gt;
	&lt;li&gt;Fixed a couple of places in tests that still reference the LeaderElection algorithm.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Would be good to get this in as this LETest was one of most frequent flaky tests in recent builds. @rgs1 @rakeshadr @fpj if you have cycles please review and merge if it&apos;s lgty.&lt;/p&gt;</comment>
                            <comment id="15993534" author="githubbot" created="Tue, 2 May 2017 19:10:51 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Need another committer view to merge this in; @arshadmohammad, can you please review this? Flavio had +1 on an older version of the patch as commented in JIRA, and this is only going to trunk.&lt;/p&gt;</comment>
                            <comment id="15994433" author="githubbot" created="Wed, 3 May 2017 07:52:04 +0000"  >&lt;p&gt;Github user arshadmohammad commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I will review it soon&lt;/p&gt;</comment>
                            <comment id="15995129" author="githubbot" created="Wed, 3 May 2017 15:58:22 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @arshadmohammad &lt;/p&gt;</comment>
                            <comment id="15999236" author="githubbot" created="Sat, 6 May 2017 03:10:06 +0000"  >&lt;p&gt;Github user arshadmohammad commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Jira &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1932&quot; title=&quot;Remove deprecated LeaderElection class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1932&quot;&gt;&lt;del&gt;ZOOKEEPER-1932&lt;/del&gt;&lt;/a&gt; title is completely different from what is being done in its MR. It think we should change the title as well as the description&lt;/p&gt;</comment>
                            <comment id="15999244" author="githubbot" created="Sat, 6 May 2017 03:30:23 +0000"  >&lt;p&gt;Github user arshadmohammad commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115112178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115112178&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -930,39 +918,36 @@ protected Election createElectionAlgorithm(int electionAlgorithm){&lt;/p&gt;

&lt;p&gt;             //TODO: use a factory rather than a switch&lt;br/&gt;
             switch (electionAlgorithm) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case 0:&lt;/li&gt;
	&lt;li&gt;le = new LeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 1:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 2:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this, true);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 3:&lt;/li&gt;
	&lt;li&gt;qcm = new QuorumCnxManager(this);&lt;/li&gt;
	&lt;li&gt;QuorumCnxManager.Listener listener = qcm.listener;&lt;/li&gt;
	&lt;li&gt;if(listener != null)
{
    -                listener.start();
    -                FastLeaderElection fle = new FastLeaderElection(this, qcm);
    -                fle.start();
    -                le = fle;
    -            }
&lt;p&gt; else &lt;/p&gt;
{
    -                LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    -            }&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;default:&lt;/li&gt;
	&lt;li&gt;assert false;&lt;br/&gt;
    +            case 0:&lt;br/&gt;
    +                assert false : &quot;Leader election algorithm type 0 is not supported anymore.&quot;;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Another option is  validate electionAlg in org.apache.zookeeper.server.quorum.QuorumPeerConfig and exit from there for wrong input and remove the case from here &lt;/p&gt;</comment>
                            <comment id="15999245" author="githubbot" created="Sat, 6 May 2017 03:30:23 +0000"  >&lt;p&gt;Github user arshadmohammad commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115111872&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115111872&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml &amp;#8212;&lt;br/&gt;
    @@ -948,15 +948,14 @@ server.3=zoo3:2888:3888&amp;lt;/programlisting&amp;gt;&lt;br/&gt;
                 &amp;lt;listitem&amp;gt;&lt;br/&gt;
                   &amp;lt;para&amp;gt;(No Java system property)&amp;lt;/para&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;para&amp;gt;Election implementation to use. A value of &quot;0&quot; corresponds&lt;/li&gt;
	&lt;li&gt;to the original UDP-based version, &quot;1&quot; corresponds to the&lt;br/&gt;
    +              &amp;lt;para&amp;gt;Election implementation to use. A value of &quot;1&quot; corresponds to the&lt;br/&gt;
                   non-authenticated UDP-based version of fast leader election, &quot;2&quot;&lt;br/&gt;
                   corresponds to the authenticated UDP-based version of fast&lt;br/&gt;
                   leader election, and &quot;3&quot; corresponds to TCP-based version of&lt;/li&gt;
	&lt;li&gt;fast leader election. Currently, algorithm 3 is the default&amp;lt;/para&amp;gt;&lt;br/&gt;
    +              fast leader election. Currently, algorithm 3 is the default.&amp;lt;/para&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                   &amp;lt;note&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;para&amp;gt; The implementations of leader election 0, 1, and 2 are now&lt;br/&gt;
    +              &amp;lt;para&amp;gt; The implementations of leader election 1, and 2 are now&lt;br/&gt;
                   &amp;lt;emphasis role=&quot;bold&quot;&amp;gt; deprecated &amp;lt;/emphasis&amp;gt;. We have the intention&lt;br/&gt;
                   of removing them in the next release, at which point only the &lt;br/&gt;
                   FastLeaderElection will be available. 
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    There is at least one more reference of election alog type 0. Should be deleted.&lt;br/&gt;
    Reference Text : If electionAlg is 0, then the second port is not &lt;br/&gt;
                  necessary&lt;/p&gt;</comment>
                            <comment id="15999246" author="githubbot" created="Sat, 6 May 2017 03:30:23 +0000"  >&lt;p&gt;Github user arshadmohammad commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115111921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115111921&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -809,28 +809,16 @@ synchronized public void stopLeaderElection() {&lt;br/&gt;
             responder.interrupt();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    The import java.net.SocketException is never used&lt;/p&gt;</comment>
                            <comment id="15999247" author="githubbot" created="Sat, 6 May 2017 03:30:23 +0000"  >&lt;p&gt;Github user arshadmohammad commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115112169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115112169&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -930,39 +918,36 @@ protected Election createElectionAlgorithm(int electionAlgorithm){&lt;/p&gt;

&lt;p&gt;             //TODO: use a factory rather than a switch&lt;br/&gt;
             switch (electionAlgorithm) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case 0:&lt;/li&gt;
	&lt;li&gt;le = new LeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 1:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 2:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this, true);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 3:&lt;/li&gt;
	&lt;li&gt;qcm = new QuorumCnxManager(this);&lt;/li&gt;
	&lt;li&gt;QuorumCnxManager.Listener listener = qcm.listener;&lt;/li&gt;
	&lt;li&gt;if(listener != null)
{
    -                listener.start();
    -                FastLeaderElection fle = new FastLeaderElection(this, qcm);
    -                fle.start();
    -                le = fle;
    -            }
&lt;p&gt; else &lt;/p&gt;
{
    -                LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    -            }&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;default:&lt;/li&gt;
	&lt;li&gt;assert false;&lt;br/&gt;
    +            case 0:&lt;br/&gt;
    +                assert false : &quot;Leader election algorithm type 0 is not supported anymore.&quot;;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I think we should log error here and make sure the server jvm exit in this case&lt;/p&gt;</comment>
                            <comment id="15999248" author="githubbot" created="Sat, 6 May 2017 03:30:23 +0000"  >&lt;p&gt;Github user arshadmohammad commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115111914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115111914&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -930,39 +918,36 @@ protected Election createElectionAlgorithm(int electionAlgorithm){&lt;/p&gt;

&lt;p&gt;             //TODO: use a factory rather than a switch&lt;br/&gt;
             switch (electionAlgorithm) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case 0:&lt;/li&gt;
	&lt;li&gt;le = new LeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 1:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 2:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this, true);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 3:&lt;/li&gt;
	&lt;li&gt;qcm = new QuorumCnxManager(this);&lt;/li&gt;
	&lt;li&gt;QuorumCnxManager.Listener listener = qcm.listener;&lt;/li&gt;
	&lt;li&gt;if(listener != null)
{
    -                listener.start();
    -                FastLeaderElection fle = new FastLeaderElection(this, qcm);
    -                fle.start();
    -                le = fle;
    -            }
&lt;p&gt; else &lt;/p&gt;
{
    -                LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    -            }&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;default:&lt;/li&gt;
	&lt;li&gt;assert false;&lt;br/&gt;
    +            case 0:&lt;br/&gt;
    +                assert false : &quot;Leader election algorithm type 0 is not supported anymore.&quot;;&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 1:&lt;br/&gt;
    +                le = new AuthFastLeaderElection(this);&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 2:&lt;br/&gt;
    +                le = new AuthFastLeaderElection(this, true);&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 3:&lt;br/&gt;
    +                qcm = new QuorumCnxManager(this);&lt;br/&gt;
    +                QuorumCnxManager.Listener listener = qcm.listener;&lt;br/&gt;
    +                if(listener != null)
{
    +                    listener.start();
    +                    FastLeaderElection fle = new FastLeaderElection(this, qcm);
    +                    fle.start();
    +                    le = fle;
    +                }
&lt;p&gt; else &lt;/p&gt;
{
    +                    LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    +                }
&lt;p&gt;    +                break;&lt;br/&gt;
    +            default:&lt;br/&gt;
    +                assert false;&lt;br/&gt;
             }&lt;br/&gt;
             return le;&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         @SuppressWarnings(&quot;deprecation&quot;)&lt;br/&gt;
         protected Election makeLEStrategy(){&lt;br/&gt;
             LOG.debug(&quot;Initializing leader election protocol...&quot;);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (getElectionType() == 0) 
{
    -            electionAlg = new LeaderElection(this);
    -        }
&lt;p&gt;             return electionAlg;&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    org.apache.zookeeper.server.quorum.QuorumPeerConfig.parseDynamicConfig(Properties, int, boolean, boolean)&lt;br/&gt;
    has a logic related to election algo type 0. This should be removed&lt;/p&gt;</comment>
                            <comment id="16001446" author="hadoopqa" created="Mon, 8 May 2017 20:01:21 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/668//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16001536" author="githubbot" created="Mon, 8 May 2017 21:05:10 +0000"  >&lt;p&gt;Github user hanm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115352994&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115352994&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -930,39 +918,36 @@ protected Election createElectionAlgorithm(int electionAlgorithm){&lt;/p&gt;

&lt;p&gt;             //TODO: use a factory rather than a switch&lt;br/&gt;
             switch (electionAlgorithm) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case 0:&lt;/li&gt;
	&lt;li&gt;le = new LeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 1:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 2:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this, true);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 3:&lt;/li&gt;
	&lt;li&gt;qcm = new QuorumCnxManager(this);&lt;/li&gt;
	&lt;li&gt;QuorumCnxManager.Listener listener = qcm.listener;&lt;/li&gt;
	&lt;li&gt;if(listener != null)
{
    -                listener.start();
    -                FastLeaderElection fle = new FastLeaderElection(this, qcm);
    -                fle.start();
    -                le = fle;
    -            }
&lt;p&gt; else &lt;/p&gt;
{
    -                LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    -            }&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;default:&lt;/li&gt;
	&lt;li&gt;assert false;&lt;br/&gt;
    +            case 0:&lt;br/&gt;
    +                assert false : &quot;Leader election algorithm type 0 is not supported anymore.&quot;;&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 1:&lt;br/&gt;
    +                le = new AuthFastLeaderElection(this);&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 2:&lt;br/&gt;
    +                le = new AuthFastLeaderElection(this, true);&lt;br/&gt;
    +                break;&lt;br/&gt;
    +            case 3:&lt;br/&gt;
    +                qcm = new QuorumCnxManager(this);&lt;br/&gt;
    +                QuorumCnxManager.Listener listener = qcm.listener;&lt;br/&gt;
    +                if(listener != null)
{
    +                    listener.start();
    +                    FastLeaderElection fle = new FastLeaderElection(this, qcm);
    +                    fle.start();
    +                    le = fle;
    +                }
&lt;p&gt; else &lt;/p&gt;
{
    +                    LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    +                }
&lt;p&gt;    +                break;&lt;br/&gt;
    +            default:&lt;br/&gt;
    +                assert false;&lt;br/&gt;
             }&lt;br/&gt;
             return le;&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         @SuppressWarnings(&quot;deprecation&quot;)&lt;br/&gt;
         protected Election makeLEStrategy(){&lt;br/&gt;
             LOG.debug(&quot;Initializing leader election protocol...&quot;);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (getElectionType() == 0) 
{
    -            electionAlg = new LeaderElection(this);
    -        }
&lt;p&gt;             return electionAlg;&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    good catch. fixed.&lt;/p&gt;</comment>
                            <comment id="16001538" author="githubbot" created="Mon, 8 May 2017 21:05:17 +0000"  >&lt;p&gt;Github user hanm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115353017&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115353017&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -809,28 +809,16 @@ synchronized public void stopLeaderElection() {&lt;br/&gt;
             responder.interrupt();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    removed.&lt;/p&gt;</comment>
                            <comment id="16001539" author="githubbot" created="Mon, 8 May 2017 21:05:26 +0000"  >&lt;p&gt;Github user hanm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115353053&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115353053&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml &amp;#8212;&lt;br/&gt;
    @@ -948,15 +948,14 @@ server.3=zoo3:2888:3888&amp;lt;/programlisting&amp;gt;&lt;br/&gt;
                 &amp;lt;listitem&amp;gt;&lt;br/&gt;
                   &amp;lt;para&amp;gt;(No Java system property)&amp;lt;/para&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;para&amp;gt;Election implementation to use. A value of &quot;0&quot; corresponds&lt;/li&gt;
	&lt;li&gt;to the original UDP-based version, &quot;1&quot; corresponds to the&lt;br/&gt;
    +              &amp;lt;para&amp;gt;Election implementation to use. A value of &quot;1&quot; corresponds to the&lt;br/&gt;
                   non-authenticated UDP-based version of fast leader election, &quot;2&quot;&lt;br/&gt;
                   corresponds to the authenticated UDP-based version of fast&lt;br/&gt;
                   leader election, and &quot;3&quot; corresponds to TCP-based version of&lt;/li&gt;
	&lt;li&gt;fast leader election. Currently, algorithm 3 is the default&amp;lt;/para&amp;gt;&lt;br/&gt;
    +              fast leader election. Currently, algorithm 3 is the default.&amp;lt;/para&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                   &amp;lt;note&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;para&amp;gt; The implementations of leader election 0, 1, and 2 are now&lt;br/&gt;
    +              &amp;lt;para&amp;gt; The implementations of leader election 1, and 2 are now&lt;br/&gt;
                   &amp;lt;emphasis role=&quot;bold&quot;&amp;gt; deprecated &amp;lt;/emphasis&amp;gt;. We have the intention&lt;br/&gt;
                   of removing them in the next release, at which point only the &lt;br/&gt;
                   FastLeaderElection will be available. 
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    removed.&lt;/p&gt;</comment>
                            <comment id="16001545" author="githubbot" created="Mon, 8 May 2017 21:07:07 +0000"  >&lt;p&gt;Github user hanm commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106#discussion_r115353405&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106#discussion_r115353405&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java &amp;#8212;&lt;br/&gt;
    @@ -930,39 +918,36 @@ protected Election createElectionAlgorithm(int electionAlgorithm){&lt;/p&gt;

&lt;p&gt;             //TODO: use a factory rather than a switch&lt;br/&gt;
             switch (electionAlgorithm) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case 0:&lt;/li&gt;
	&lt;li&gt;le = new LeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 1:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 2:&lt;/li&gt;
	&lt;li&gt;le = new AuthFastLeaderElection(this, true);&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;case 3:&lt;/li&gt;
	&lt;li&gt;qcm = new QuorumCnxManager(this);&lt;/li&gt;
	&lt;li&gt;QuorumCnxManager.Listener listener = qcm.listener;&lt;/li&gt;
	&lt;li&gt;if(listener != null)
{
    -                listener.start();
    -                FastLeaderElection fle = new FastLeaderElection(this, qcm);
    -                fle.start();
    -                le = fle;
    -            }
&lt;p&gt; else &lt;/p&gt;
{
    -                LOG.error(&quot;Null listener when initializing cnx manager&quot;);
    -            }&lt;/li&gt;
	&lt;li&gt;break;&lt;/li&gt;
	&lt;li&gt;default:&lt;/li&gt;
	&lt;li&gt;assert false;&lt;br/&gt;
    +            case 0:&lt;br/&gt;
    +                assert false : &quot;Leader election algorithm type 0 is not supported anymore.&quot;;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I like the idea of catching invalid electionAlg value when parsing config file. Code updated by throwing an exception when input value is bad.&lt;/p&gt;</comment>
                            <comment id="16001546" author="githubbot" created="Mon, 8 May 2017 21:08:53 +0000"  >&lt;p&gt;Github user hanm commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @arshadmohammad thanks for review, code is updated, please take a look at. I also updated JIRA description so it&apos;s consistent with the pull request title.&lt;/p&gt;</comment>
                            <comment id="16006555" author="githubbot" created="Thu, 11 May 2017 14:46:15 +0000"  >&lt;p&gt;Github user arshadmohammad commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    LGTM  +1&lt;/p&gt;</comment>
                            <comment id="16006587" author="githubbot" created="Thu, 11 May 2017 15:01:05 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16006588" author="arshad.mohammad" created="Thu, 11 May 2017 15:01:21 +0000"  >&lt;p&gt;Issue resolved by pull request 106&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/106&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16006607" author="arshad.mohammad" created="Thu, 11 May 2017 15:09:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hanm&quot; class=&quot;user-hover&quot; rel=&quot;hanm&quot;&gt;hanm&lt;/a&gt; for working on this issue.&lt;br/&gt;
Merged to master: &lt;a href=&quot;https://github.com/apache/zookeeper/commit/a680655a3569bfc546712cb85eeaea8c9b7de3ad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/a680655a3569bfc546712cb85eeaea8c9b7de3ad&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16006652" author="hanm" created="Thu, 11 May 2017 15:42:30 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt; for code review and commit!&lt;/p&gt;</comment>
                            <comment id="16006745" author="hudson" created="Thu, 11 May 2017 16:42:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3386 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3386/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3386/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1932&quot; title=&quot;Remove deprecated LeaderElection class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1932&quot;&gt;&lt;del&gt;ZOOKEEPER-1932&lt;/del&gt;&lt;/a&gt;: Remove deprecated LeaderElection class. (arshad: rev a680655a3569bfc546712cb85eeaea8c9b7de3ad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(delete) src/java/test/org/apache/zookeeper/test/LENonTerminateTest.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java&lt;/li&gt;
	&lt;li&gt;(delete) src/java/main/org/apache/zookeeper/server/quorum/LeaderElection.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/systest/org/apache/zookeeper/test/system/QuorumPeerInstance.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
	&lt;li&gt;(edit) src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml&lt;/li&gt;
	&lt;li&gt;(edit) src/java/test/config/findbugsExcludeFile.xml&lt;/li&gt;
	&lt;li&gt;(delete) src/java/test/org/apache/zookeeper/test/LETest.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/test/org/apache/zookeeper/test/TruncateTest.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/systest/org/apache/zookeeper/test/system/BaseSysTest.java&lt;/li&gt;
	&lt;li&gt;(edit) src/java/test/org/apache/zookeeper/test/HierarchicalQuorumTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12991629">ZOOKEEPER-2483</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12652605" name="TEST-org.apache.zookeeper.test.LETest.txt" size="624592" author="fpj" created="Thu, 26 Jun 2014 12:22:51 +0000"/>
                            <attachment id="12832786" name="ZOOKEEPER-1932.patch" size="23908" author="hanm" created="Tue, 11 Oct 2016 22:36:49 +0000"/>
                            <attachment id="12832555" name="ZOOKEEPER-1932.patch" size="5673" author="hanm" created="Mon, 10 Oct 2016 22:02:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w6nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>