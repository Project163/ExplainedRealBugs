<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:02:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2164] fast leader election keeps failing</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2164</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;I have a 3-node cluster with sids 1, 2 and 3. Originally 2 is the leader. When I shut down 2, 1 and 3 keep going back to leader election. Here is what seems to be happening.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Both 1 and 3 elect 3 as the leader.&lt;/li&gt;
	&lt;li&gt;1 receives votes from 3 and itself, and starts trying to connect to 3 as a follower.&lt;/li&gt;
	&lt;li&gt;3 doesn&apos;t receive votes for 5 seconds because connectOne() to 2 doesn&apos;t timeout for 5 seconds: &lt;a href=&quot;https://github.com/apache/zookeeper/blob/41c9fcb3ca09cd3d05e59fe47f08ecf0b85532c8/src/java/main/org/apache/zookeeper/server/quorum/QuorumCnxManager.java#L346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/41c9fcb3ca09cd3d05e59fe47f08ecf0b85532c8/src/java/main/org/apache/zookeeper/server/quorum/QuorumCnxManager.java#L346&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;By the time 3 receives votes, 1 has given up trying to connect to 3: &lt;a href=&quot;https://github.com/apache/zookeeper/blob/41c9fcb3ca09cd3d05e59fe47f08ecf0b85532c8/src/java/main/org/apache/zookeeper/server/quorum/Learner.java#L247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/41c9fcb3ca09cd3d05e59fe47f08ecf0b85532c8/src/java/main/org/apache/zookeeper/server/quorum/Learner.java#L247&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m using 3.4.5, but it looks like this part of the code hasn&apos;t changed for a while, so I&apos;m guessing later versions have the same issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12820740">ZOOKEEPER-2164</key>
            <summary>fast leader election keeps failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="symat">Mate Szalay-Beko</assignee>
                                    <reporter username="michim">Michi Mutsuzaki</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 14 Apr 2015 07:36:12 +0000</created>
                <updated>Mon, 11 May 2020 15:41:11 +0000</updated>
                            <resolved>Thu, 12 Mar 2020 13:52:19 +0000</resolved>
                                    <version>3.4.5</version>
                                    <fixVersion>3.7.0</fixVersion>
                    <fixVersion>3.6.1</fixVersion>
                    <fixVersion>3.5.8</fixVersion>
                                    <component>leaderElection</component>
                        <due></due>
                            <votes>10</votes>
                                    <watches>29</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="28200">7h 50m</timespent>
                                <comments>
                            <comment id="14494154" author="fpj" created="Tue, 14 Apr 2015 14:22:12 +0000"  >&lt;p&gt;connectOne is blocking, yes? shall we make it non-blocking?&lt;/p&gt;</comment>
                            <comment id="14494405" author="hdeng" created="Tue, 14 Apr 2015 17:06:52 +0000"  >&lt;p&gt;Good catch!&lt;/p&gt;

&lt;p&gt;Actually I&apos;m trying to refactor this part to be non-blocking &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; More like:&lt;/p&gt;

&lt;p&gt;1. Construct a connector instead of connectOne()&lt;br/&gt;
2. Submit the connector to connection manager. Submit() returns a Future.&lt;br/&gt;
3. connector is an interface for Netty to roll in.&lt;/p&gt;

&lt;p&gt;I would like to take advantage of this JIRA and discuss the design here. Any thoughts?&lt;/p&gt;</comment>
                            <comment id="14495709" author="michim" created="Wed, 15 Apr 2015 06:07:14 +0000"  >&lt;p&gt;Sure sounds good. Thank you for driving this Hongchao!&lt;/p&gt;</comment>
                            <comment id="14602876" author="filipdeleersnijder" created="Fri, 26 Jun 2015 13:32:36 +0000"  >&lt;p&gt;We experienced a related problem.  &lt;/p&gt;

&lt;p&gt;In a test-setup with 6 servers (3.4.6) with 2 servers shut down, leader election could take a very long time ( 1 to 2 minutes ) to complete. Once we changed the &quot;cnxTO&quot; variable from 5000ms to 500ms in the QuorumCnxManager, it completed under 10 seconds again.&lt;/p&gt;

&lt;p&gt;In a setup with 8 servers (3.4.6) with 2 servers shut down, leader election could take a very long time ( We have experienced more than 10 minutes ! ) to complete and frequently started again immediately after completing.&lt;br/&gt;
Monday we will test our cnxTO fix on this setup as well.&lt;/p&gt;</comment>
                            <comment id="14603285" author="hdeng" created="Fri, 26 Jun 2015 17:45:04 +0000"  >&lt;p&gt;It&apos;s on my plan to have a patch for this. I&apos;m currently involved in internal stuff. I should be able to get onto this after that.&lt;/p&gt;

&lt;p&gt;At the mean time, it sounds like you have a good testing plan. Would be nice if you can share it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14605352" author="basantbibhar@gmail.com" created="Mon, 29 Jun 2015 09:36:34 +0000"  >&lt;p&gt;Its on my plan to have a patch for this.I&apos;m currently involved in internal stuff.&lt;/p&gt;</comment>
                            <comment id="14605979" author="basantbibhar@gmail.com" created="Mon, 29 Jun 2015 17:47:20 +0000"  >&lt;p&gt;ZOOKEEPER 2164-fast leader election keeps failling.&lt;/p&gt;</comment>
                            <comment id="16205360" author="tuxthedog" created="Mon, 16 Oct 2017 01:30:29 +0000"  >&lt;p&gt;I believe I have run into this issue (zookeeper versions 3.4.6  and 3.4.10).  &lt;/p&gt;

&lt;p&gt;These scenarios I&apos;ve tested  lead me to believe I have the same problem.  I have a 3 node cluster and if the leader is &quot;2&quot; and is stopped, the election will fail and ultimately 1 and 3  respond with  &quot;This ZooKeeper instance is not currently serving requests&quot; from the stat command.  &lt;/p&gt;

&lt;p&gt;If 2 is restarted, the cluster returns and 2 becomes the leader .     This appears to be the scenario documented above.  Sometimes 3 will fail to rejoin but if it is restarted it will rejoin the cluster successfully.&lt;/p&gt;

&lt;p&gt;Essentially the only electable leader is #2.  The nodes are built as docker containers and orchestrated using Kubernetes.  &lt;/p&gt;

&lt;p&gt;I am searching  for a work around or  configuration change that will enable the  cluster to be functional if the existing leader fails  are there are only 2 nodes (out of 3) available.&lt;/p&gt;</comment>
                            <comment id="16695360" author="mkedwards" created="Wed, 21 Nov 2018 23:28:12 +0000"  >&lt;p&gt;Is this reproducible with the current branch-3.5 code?&lt;/p&gt;</comment>
                            <comment id="16751546" author="ecnepsnai" created="Thu, 24 Jan 2019 20:20:33 +0000"  >&lt;p&gt;We can reproduce this issue with 3.4.6.&lt;/p&gt;

&lt;p&gt;5 node ZK cluster, we&#160;restarted one node and after an hour it still has not joined the quorum.&lt;/p&gt;

&lt;p&gt;stat and mntr show &quot;This ZooKeeper instance is not currently serving requests&quot;.&lt;/p&gt;</comment>
                            <comment id="16937122" author="mani109" created="Tue, 24 Sep 2019 19:27:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ecnepsnai&quot; class=&quot;user-hover&quot; rel=&quot;ecnepsnai&quot;&gt;ecnepsnai&lt;/a&gt;&#160;Is the above issue fixed ?.We to face the same issue.&lt;/p&gt;</comment>
                            <comment id="16940855" author="duerrm" created="Mon, 30 Sep 2019 10:54:32 +0000"  >&lt;p&gt;Same problem here:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Simple 3 node cluster (zoo1, zoo2, zoo3). zoo1 is leader&lt;/li&gt;
	&lt;li&gt;Shutting down and restarting zoo1 will not result in a proper cluster state:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
$ echo &lt;span class=&quot;code-quote-red&quot;&gt;&quot;stat&quot;&lt;/span&gt; | nc zoo1 2181
This ZooKeeper instance is not currently serving requests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
$ echo &lt;span class=&quot;code-quote-red&quot;&gt;&quot;stat&quot;&lt;/span&gt; | nc zoo2 2181
Zookeeper version: 3.5.5-390fe37ea45dee01bf87dc1c042b5e3dcce88653, built on 05/03/2019 12:07 GMT
Clients:
 /172.22.0.1:45764[0](queued=0,recved=1,sent=0)

Latency min/avg/max: 0/0/0
Received: 3
Sent: 2
Connections: 1
Outstanding: 0
Zxid: 0x1000000009
Mode: follower
Node count: 401
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
$ echo &lt;span class=&quot;code-quote-red&quot;&gt;&quot;stat&quot;&lt;/span&gt; | nc zoo3 2181
Zookeeper version: 3.5.5-390fe37ea45dee01bf87dc1c042b5e3dcce88653, built on 05/03/2019 12:07 GMT
Clients:
 /172.22.0.1:53132[0](queued=0,recved=1,sent=0)

Latency min/avg/max: 0/0/0
Received: 2
Sent: 1
Connections: 1
Outstanding: 0
Zxid: 0x1400000000
Mode: leader
Node count: 401
Proposal sizes last/min/max: -1/-1/-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16959916" author="matthew knight" created="Fri, 25 Oct 2019 16:44:39 +0000"  >&lt;p&gt;How are people working around this?&#160; Right now if my leader goes down the whole cluster goes down until I restart all of the Zookeeper services.&lt;/p&gt;</comment>
                            <comment id="16962338" author="paxi" created="Tue, 29 Oct 2019 19:24:24 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I have like a similar problem.... Updating from 3.4.14 to 3.5.5 or 3.5.6 fails during leader-election if I start nodes in order 3-2-1. If I start in 1-2-3 it&apos;s fine.&lt;br/&gt;
The first upgrade I did in my Test-Environment was running fine. Probably because during rolling upgrade some were still running 3.4.14 while they got updated in order 1-2-3 to version 3.5.6. But last night during an change of configuration of another component the Zookeeper-Containers were redeployed and the problem appeared.&#160;&lt;/p&gt;

&lt;p&gt;I wanted to attach the logs here, but it doesn&apos;t work somehow. And don&apos;t want to paste them here as it&apos;s like 2000 lines of logs. So if someone wants to see both starts logged just ask me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;

&lt;p&gt;Sebastian&lt;/p&gt;</comment>
                            <comment id="17028691" author="revirii" created="Mon, 3 Feb 2020 06:31:03 +0000"  >&lt;p&gt;i&apos;m having the same problem like the other ones, with a 3 node cluster when the leader is shut down or the server rebooted, resulting in a non-working cluster when the (former) leader is back. I have to shut down all 3 instances and start them in the proper order.&lt;/p&gt;</comment>
                            <comment id="17032127" author="duerrm" created="Fri, 7 Feb 2020 06:13:15 +0000"  >&lt;p&gt;In addition to &lt;a href=&quot;#comment-16940855&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;comment-16940855&lt;/a&gt;&#160;I did a similar test with 5 instances for zookeeper version 3.5.5. This also does not solve the problem.&lt;/p&gt;

&lt;p&gt;This error frequently causes situations where our web servers cannot communicate with our solr instances any more.&#160; A fix would more than appreciated!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17032195" author="symat" created="Fri, 7 Feb 2020 08:30:41 +0000"  >&lt;p&gt;This part was changed a bit on the master branch recently in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3188&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ZOOKEEPER-3188&lt;/a&gt;. These changes will be released very soon in 3.6.0. It might be great to take a look on the current Release Candidate (&lt;a href=&quot;https://people.apache.org/~eolivelli/zookeeper-3.6.0-candidate-2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/~eolivelli/zookeeper-3.6.0-candidate-2/&lt;/a&gt;) just to see if 3.6.0 would solve the issue.&lt;/p&gt;</comment>
                            <comment id="17032348" author="symat" created="Fri, 7 Feb 2020 13:01:09 +0000"  >&lt;p&gt;I also reproduced the problem using &lt;a href=&quot;https://github.com/symat/zookeeper-docker-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/symat/zookeeper-docker-test&lt;/a&gt;&lt;br/&gt;
 I compiled with OpenJDK 8u212 and tested runtime with OpenJDK 8u222.&lt;br/&gt;
 I found the same problem for both the released 3.5.5 branch and also for the current master branch.&lt;/p&gt;

&lt;p&gt;My first test (on 3.5.5):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;starting a 3 node cluster&lt;/li&gt;
	&lt;li&gt;the status I see: zoo1: follower, zoo2: follower, &lt;b&gt;zoo3: leader&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;restarting the container for zoo3, the cluster recovered&lt;/li&gt;
	&lt;li&gt;the status I see: &lt;b&gt;zoo1: leader&lt;/b&gt;, zoo2: follower, zoo3: follower&lt;/li&gt;
	&lt;li&gt;restarting the container for zoo1, the cluster didn&apos;t recover fully (I waited for a few minutes)&lt;/li&gt;
	&lt;li&gt;the status I see: &lt;font color=&quot;#FF0000&quot;&gt;&lt;b&gt;zoo1: &apos;This ZooKeeper instance is not currently serving requests&apos;&lt;/b&gt;&lt;/font&gt;, &lt;b&gt;zoo2: leader&lt;/b&gt;, zoo3: follower&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;My second test (on the master branch):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;starting a 3 node cluster&lt;/li&gt;
	&lt;li&gt;the status I see: zoo1: follower, zoo2: follower, &lt;b&gt;zoo3: leader&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;restarting the container for zoo3, the cluster recovered&lt;/li&gt;
	&lt;li&gt;the status I see: zoo1: follower, &lt;b&gt;zoo2: leader&lt;/b&gt;, zoo3: follower&lt;/li&gt;
	&lt;li&gt;restarting the container for zoo2, the cluster didn&apos;t recover fully (I waited for a few minutes)&lt;/li&gt;
	&lt;li&gt;the status I see: zoo1: follower, &lt;font color=&quot;#FF0000&quot;&gt;&lt;b&gt;zoo2: &apos;This ZooKeeper instance is not currently serving requests&apos;&lt;/b&gt;&lt;/font&gt;, &lt;b&gt;zoo3: leader&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basantbibhar%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;basantbibhar@gmail.com&quot;&gt;basantbibhar@gmail.com&lt;/a&gt;&#160;are you working on this? If not, then I will fix it, but I want to avoid double work...&lt;/p&gt;</comment>
                            <comment id="17032352" author="symat" created="Fri, 7 Feb 2020 13:09:34 +0000"  >&lt;p&gt;I saw in the comments that some of you found this issue while running ZooKeeper in docker. I also reproduced it in docker. I am wondering, if it is a coincidence or not. Did anyone see this issue while running ZooKeeper without docker?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revirii&quot; class=&quot;user-hover&quot; rel=&quot;revirii&quot;&gt;revirii&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=duerrm&quot; class=&quot;user-hover&quot; rel=&quot;duerrm&quot;&gt;duerrm&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ecnepsnai&quot; class=&quot;user-hover&quot; rel=&quot;ecnepsnai&quot;&gt;ecnepsnai&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paxi&quot; class=&quot;user-hover&quot; rel=&quot;paxi&quot;&gt;paxi&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tuxthedog&quot; class=&quot;user-hover&quot; rel=&quot;tuxthedog&quot;&gt;tuxthedog&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17032365" author="matthew knight" created="Fri, 7 Feb 2020 13:31:47 +0000"  >&lt;p&gt;I reproduced this on VMs in Azure &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17032546" author="suhas.dantkale" created="Fri, 7 Feb 2020 17:41:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;,&#160;&lt;/p&gt;

&lt;p&gt;Is the zoo.cfg having 0.0.0.0 as it&apos;s own hostname representing as self in the server list of ensemble?&lt;/p&gt;

&lt;p&gt;I don&apos;t know if you are running into this issue. But just jotting down&#160; the analysis of problem I had faced with 0.0.0.0:-&amp;gt;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;HowIPaddress0.0.0.0createsproblemwithZKLeaderElectionprotocol%3F&quot;&gt;&lt;/a&gt;How IP address 0.0.0.0 creates problem with ZK Leader Election protocol?&lt;/h3&gt;

&lt;p&gt;-&amp;gt;&lt;/p&gt;

&lt;p&gt;(1) When ZK server starts for the very first time, it sends out its &lt;em&gt;Initial Identification&lt;/em&gt; to its peers.&#160;The zoo.cfg file has its peer&#8217;s hostname and Election port info.&#160;In its &lt;em&gt;Initial Identification&lt;/em&gt; represented by &lt;em&gt;class InitialMessage&lt;/em&gt; in the code, the ZK server sends out its sid and 0.0.0.0 as its identification.&lt;/p&gt;

&lt;p&gt;(2) When the peers receive and parse this Initial message, they understood it as coming from 0.0.0.0. The &lt;em&gt;handleConnection&lt;/em&gt; method below does receive and parse the message coming from its peer. It saves the identification of its peer into &lt;em&gt;electionAddr&lt;/em&gt; and &lt;em&gt;sid&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;The peer uses this identification to connect back to the ZK server on 0.0.0.0, if its own SID is greater than the SID of the originating node.&lt;/b&gt; And before it establishes a new connection it, closes the existing connection to the originating node if there is any. (I believe it does that to increase the chances the node with higher SID to be the leader.)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;(3) However, the 0.0.0.0:3888 is not its peer Address and actually it&#8217;s its own address &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/b&gt;&#160;So the peer Server tries to connect to itself thinking that it&#8217;s connecting to the originating node.&lt;/p&gt;

&lt;p&gt;-&amp;gt; What this leads to is that the originating node is never able to complete its Leader Election and therefore is never able to join the cluster.&lt;/p&gt;

&lt;p&gt;If you change the order of the nodes to join the cluster in decreasing order of SIDs, this problem doesn&apos;t happen for the reasons described above.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We had temporary solved this problem by not using 0.0.0.0 as the IP address of the self and instead of use the FQDN or the real IP address. Because in our setup, we don&apos;t have multiple network interfaces that we deal with.&lt;/p&gt;

&lt;p&gt;&#160;However, I was planning to propose the below changes to the community:-&lt;/p&gt;

&lt;p&gt;In point (2) above, while connecting back to the originating node, can peer look into its own zoo.cfg to get the real hostname or IP address to connect to originating node instead of relying on the IP address that comes in its Initial message. Since in its initial message, it also has the SID, so it can easily get the real identity of the originating node from its zoo.cfg file.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I don&apos;t know if the above points help you. But just thought of sharing them with you.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17033618" author="symat" created="Mon, 10 Feb 2020 13:57:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suhas.dantkale&quot; class=&quot;user-hover&quot; rel=&quot;suhas.dantkale&quot;&gt;suhas.dantkale&lt;/a&gt;, this is a nice catch / proposal indeed.&lt;/p&gt;

&lt;p&gt;In our production environments we don&apos;t use 0.0.0.0 in any zoo.cfg files, but I can imagine that it makes sense in some scenarios. Although since &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3188&quot; title=&quot;Improve resilience to network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3188&quot;&gt;&lt;del&gt;ZOOKEEPER-3188&lt;/del&gt;&lt;/a&gt; you can explicitly specify multiple addresses for the server-server communication. And I think there is already a config property (clientPortAddress) to set the host address where the clientPort will bind in the server. I guess people want to set that to 0.0.0.0 in some setups. (see&#160;&lt;a href=&quot;https://zookeeper.apache.org/doc/r3.5.6/zookeeperAdmin.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://zookeeper.apache.org/doc/r3.5.6/zookeeperAdmin.html&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;BTW, I don&apos;t think it is related to the issue we discussed in this Jira. at least in my tests I got the error without using 0.0.0.0 anywhere.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17036846" author="symat" created="Fri, 14 Feb 2020 09:38:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suhas.dantkale&quot; class=&quot;user-hover&quot; rel=&quot;suhas.dantkale&quot;&gt;suhas.dantkale&lt;/a&gt;&#160;I think this issue with the 0.0.0.0 hostnames needs some more thinking. This previous ticket can be interesting:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-107&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-107&lt;/a&gt;&#160; - so maybe this behaviour is intentional and we want to allow the new Peers to send their addresses. Also there is the config property &apos;quorumListenOnAllIPs&apos;, maybe we can solve your problem with that?&lt;/p&gt;

&lt;p&gt;Anyway, it might worth a discussion on the dev list. On the user list, there is also a case, when someone is running dockerized ZooKeeper and claims that he has to use the 0.0.0.0 address.&#160;&lt;/p&gt;</comment>
                            <comment id="17037115" author="suhas.dantkale" created="Fri, 14 Feb 2020 17:05:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;&#160;for looking into it.&lt;/p&gt;

&lt;p&gt;Yes, I had tried &apos;quorumListenOnAllIPs&apos; config option. But it only makes sure that the server listens on all the available IP addresses.&#160; The problem I was facing is :- The peer is responding to 0.0.0.0 thinking that it&apos;s the IP address of the sender because that is what comes to it in the &lt;em&gt;Initial Message&lt;/em&gt; from the sender.&lt;/p&gt;

&lt;p&gt;Yes, I just subscribed to the dev list. Should I start the discussion there to understand the context behind it and if it&apos;s possible for the peer to look at its own zoo.cfg file and get the correct address(or hostname) when it receives the &lt;em&gt;Initial Message&lt;/em&gt;&#160;OR the sender to somehow send it&apos;s correct hostname/IPaddress inside its&#160;&lt;em&gt;Initial Message?&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="17037667" author="symat" created="Sat, 15 Feb 2020 23:54:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suhas.dantkale&quot; class=&quot;user-hover&quot; rel=&quot;suhas.dantkale&quot;&gt;suhas.dantkale&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Actually, after adding some extra logs and analyzing them, I realized that the issue I found before and reproduced is indeed caused by the 0.0.0.0 addresses (I just mixed up the configs, and indeed I used wildcard addresses in the config files).&#160; Sorry for misleading you...&lt;/p&gt;

&lt;p&gt;Your root cause analysis is totally correct. I have a fix that solves this issue. It is actually quite easy...&#160; sending the address in in the initial message was introduced in 3.5.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-107&quot; title=&quot;Allow dynamic changes to server cluster membership&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-107&quot;&gt;&lt;del&gt;ZOOKEEPER-107&lt;/del&gt;&lt;/a&gt;) and the 3.4 versions never used this field. And still in 3.5 for backward compatibility reasons (needed during rolling upgrade) there is a version of the &lt;tt&gt;QuorumCnxManager.connectOne()&lt;/tt&gt;&#160;that needs no election address but use the last known address to initiate the connection. So the solution can be simply to call this method if the address is a wildcard address (0.0.0.0). It can simply be verified using &lt;tt&gt;InetAddress.isAnyLocalAddress()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Still, we have to verify if this change is compatible with the dynamic reconfig (I think it is) and also works with rolling upgrade. (I also had the idea to not even send the 0.0.0.0 in the first place, but then I think we would hit parsing errors during rolling upgrades, so the best is to still send it, just filter out in the receiver side.) Also the same change will not work both on the 3.5 and 3.6 branches, as we have the MultiAddress feature added for 3.6 and we use a slightly different message format / internal representation of addresses.&lt;/p&gt;

&lt;p&gt;Anyway, as you were the one found this issue in the first place, let me know if you wish to take it over and work on it. I think it is a change that will require some discussion within the community. Otherwise I will push my PR and do the rest of the work.&lt;/p&gt;

&lt;p&gt;BTW: I don&apos;t think that this would be something that can be verified by unit tests. Even using 0.0.0.0 in the unit tests would always work (would be similar to 127.0.0.1), as we are executing everything on a single machine.&lt;/p&gt;

&lt;p&gt;Still, it is a question for me if this ticket was originally about this issue or not. Some of the comments seems to indicate that people were hitting the 0.0.0.0 issues, but in the original description ZooKeeper 3.4.5 was mentioned, and that can not be the the issue you and I were talking here. I still have to look into that.&lt;/p&gt;</comment>
                            <comment id="17037941" author="paxi" created="Sun, 16 Feb 2020 19:44:05 +0000"  >&lt;p&gt;We are using 0.0.0.0 in our config of the 3-node-cluster as the nodes are running in separate docker-instances not directly connected to each other. Which means the zookeeper-container doesn&apos;t have its real IP assigned only using port-forwardings from the docker host to the container to make it accessible and so using the external IP or the FQDN doesn&apos;t allow zookeeper to start as it complains about not finding that IP in the container. Which is of course correct. Using the internal Network-IP instead of 0.0.0.0 would result in the same problem as using 0.0.0.0 as all internal networks of the three docker hosts are using the same network-range in their internal networks.&lt;/p&gt;</comment>
                            <comment id="17038180" author="duerrm" created="Mon, 17 Feb 2020 09:13:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Still, it is a question for me if this ticket was originally about this issue or not. Some of the comments seems to indicate that people were hitting the 0.0.0.0 issues, but in the original description ZooKeeper 3.4.5 was mentioned, and that can not be the the issue you and I were talking here. I still have to look into that.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m one of the guys who experienced this behavior with a docker setup based on version 3.5.5 &lt;a href=&quot;#comment-16940855&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;comment-16940855&lt;/a&gt;. I never had problems with any of the 3.4.X versions.&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paxi&quot; class=&quot;user-hover&quot; rel=&quot;paxi&quot;&gt;paxi&lt;/a&gt; we have the problem, that we have to rely on  0.0.0.0 as the local address. The docker images cannot bind to the external host address and we cannot use FQDNs as well. &lt;/p&gt;

&lt;p&gt;I would be really grateful if you can provide a fix for this issue!&lt;/p&gt;</comment>
                            <comment id="17038661" author="symat" created="Mon, 17 Feb 2020 22:11:46 +0000"  >&lt;p&gt;OK, sure. I just pushed the PR &lt;a href=&quot;https://github.com/apache/zookeeper/pull/1254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1254&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suhas.dantkale&quot; class=&quot;user-hover&quot; rel=&quot;suhas.dantkale&quot;&gt;suhas.dantkale&lt;/a&gt;, can you take a look?&lt;/p&gt;</comment>
                            <comment id="17039551" author="suhas.dantkale" created="Tue, 18 Feb 2020 23:29:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;, Yes looking into it. Thanks for the quick turnaround.&lt;/p&gt;</comment>
                            <comment id="17046734" author="matthew knight" created="Thu, 27 Feb 2020 15:28:36 +0000"  >&lt;p&gt;I tried building and deploying&#160;&lt;a href=&quot;https://github.com/apache/zookeeper/pull/1256&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1256&lt;/a&gt; with a NiFi cluster client, leader election seems to report success but on the client side it is still unable to reconnect successfully, Curator just does an infinite loop of reconnect attempts.&lt;/p&gt;</comment>
                            <comment id="17047345" author="symat" created="Fri, 28 Feb 2020 09:11:30 +0000"  >&lt;p&gt;Strange... the client connections should not have anything to do to this fix, we only fix the leader election here. After restart / leader election success, can you connect to the cluster using e.g. ZooKeeper CLI? For me that worked. If that works, then I think it will be some other issue (e.g. related to Curator / NiFi potentially?). Even if the bug seems to be in the ZooKeeper client code, then I suggest to open a separate ticket for it, because this ticket is about the leader election.&#160;&lt;/p&gt;

&lt;p&gt;Can you check the client logs / ZooKeeper server logs? Maybe there are some hints why NiFi can not re-connect using Curator.&lt;/p&gt;

&lt;p&gt;I am not familiar with Curator / NiFi unfortunately... but I am happy to check what is happening, if you can help me somehow to reproduce it.&lt;/p&gt;</comment>
                            <comment id="17047816" author="suhas.dantkale" created="Fri, 28 Feb 2020 17:25:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;&#160;&#160; &#160;@suhasdantkale I got 1-2 comments from Enrico on the master branch PR (&lt;a href=&quot;https://github.com/apache/zookeeper/pull/1254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1254&lt;/a&gt;) about the tests. Can you push those changes here as well?&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; Yes. I&apos;m addressing them and pushing the changes soon.&lt;/p&gt;</comment>
                            <comment id="17055479" author="paxi" created="Tue, 10 Mar 2020 00:34:46 +0000"  >&lt;p&gt;Hello again,&lt;/p&gt;

&lt;p&gt;I just tried the 3.6.0 to see how that would work, but it&apos;s even worse than the previous version. Now I can&apos;t even recover a broken zookeeper-cluster by restarting nodes.&lt;br/&gt;
Yes, I know that this fix isn&apos;t in there, just thought this might be useful info&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;Sebastian&lt;/p&gt;</comment>
                            <comment id="17057939" author="eolivelli" created="Thu, 12 Mar 2020 13:52:19 +0000"  >&lt;p&gt;Issue resolved by pull request 1254&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/1254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1254&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17058035" author="antoine.dessaigne" created="Thu, 12 Mar 2020 15:53:53 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Will it be backported to previous versions like 2.5? Right now it prevents clusters from starting (see &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3725&quot; title=&quot;Zookeeper fails to establish quorum with 2 servers using 3.5.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3725&quot;&gt;&lt;del&gt;ZOOKEEPER-3725&lt;/del&gt;&lt;/a&gt;) and there is already a pull request (&lt;a href=&quot;https://github.com/apache/zookeeper/pull/1256&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/1256&lt;/a&gt;) created by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suhas.dantkale&quot; class=&quot;user-hover&quot; rel=&quot;suhas.dantkale&quot;&gt;suhas.dantkale&lt;/a&gt; for backporting it to 2.5 branch.&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="17058436" author="duerrm" created="Fri, 13 Mar 2020 05:44:21 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;are versions 3.5.5 (client side) and 3.7.0 (server side) compatible?&lt;/p&gt;

&lt;p&gt;If not it would be great&#160;to see this fix in 3.5.8 as well, as solr ships with 3.5.5.&#160;&lt;/p&gt;

&lt;p&gt;(Prior to the resolution of this issue (thanks a lot to all that contributed here!) version 3.5.8 was mentioned as a fixed version, but now its only 3.7.0.)&lt;/p&gt;

&lt;p&gt;Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="17058644" author="eolivelli" created="Fri, 13 Mar 2020 11:23:50 +0000"  >&lt;p&gt;Yes.&lt;br/&gt;
100% compatible &lt;/p&gt;</comment>
                            <comment id="17058683" author="symat" created="Fri, 13 Mar 2020 12:17:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=duerrm&quot; class=&quot;user-hover&quot; rel=&quot;duerrm&quot;&gt;duerrm&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;Enrico already merged the PRs to both master and branch-3.5, so it will be part of the next 3.5 release too (which will be 3.5.8). I will update the &apos;fixed verison&apos; part.&lt;/p&gt;</comment>
                            <comment id="17058965" author="eolivelli" created="Fri, 13 Mar 2020 18:13:46 +0000"  >&lt;p&gt;I have cherry picked this change to 3.6.1 as well as you requested &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17060204" author="symat" created="Mon, 16 Mar 2020 13:13:11 +0000"  >&lt;p&gt;FYI: this ticket contained multiple errors regarding the leader election. We fixed one (with the 0.0.0.0 addresses), but the original one (slow leader election due to synchronized &lt;tt&gt;connectOne&lt;/tt&gt; method call and socket timeouts) remained unfixed. Now I just faced the same original issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3756&quot; title=&quot;Members failing to rejoin quorum&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3756&quot;&gt;&lt;del&gt;ZOOKEEPER-3756&lt;/del&gt;&lt;/a&gt;, and plan to fix it. I don&apos;t think we should re-open this jira, but I will  rather use the new one.&lt;/p&gt;</comment>
                            <comment id="17060596" author="duerrm" created="Tue, 17 Mar 2020 02:59:13 +0000"  >&lt;p&gt;Thank you very much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;&#160;and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=symat&quot; class=&quot;user-hover&quot; rel=&quot;symat&quot;&gt;symat&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17068415" author="antoine.dessaigne" created="Fri, 27 Mar 2020 08:27:29 +0000"  >&lt;p&gt;Thank you all. Do you know when you want to release the 3.5.8 release (approx.)? Thanks&lt;/p&gt;</comment>
                            <comment id="17085535" author="antoine.dessaigne" created="Fri, 17 Apr 2020 08:16:03 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eolivelli&quot; class=&quot;user-hover&quot; rel=&quot;eolivelli&quot;&gt;eolivelli&lt;/a&gt;,&lt;br/&gt;
I saw that you made an attempt to release 3.6.1. Do you know if it&apos;s possible to release 3.5.8? Would it be easier?&lt;br/&gt;
Thank you very much.&lt;/p&gt;</comment>
                            <comment id="17085663" author="symat" created="Fri, 17 Apr 2020 11:29:50 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=antoine.dessaigne&quot; class=&quot;user-hover&quot; rel=&quot;antoine.dessaigne&quot;&gt;antoine.dessaigne&lt;/a&gt;! &lt;br/&gt;
We will have 3.6.1 release soon, which will contain this fix as well. The release schedule is up to the community (the PMC members), but I think we can expect the 3.5.8 not far in the future, as ZooKeeper releases become more frequent recently. I will ask about the schedule in the zookeeper dev mail list. &lt;/p&gt;</comment>
                            <comment id="17104578" author="symat" created="Mon, 11 May 2020 15:41:11 +0000"  >&lt;p&gt;closed after releasing 3.5.8&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13285022">ZOOKEEPER-3725</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12754914">ZOOKEEPER-2080</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13291171">ZOOKEEPER-3756</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12477470">ZOOKEEPER-900</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d7r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>