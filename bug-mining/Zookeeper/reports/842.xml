<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:00:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2905] Don&apos;t include `config.h` in `zookeeper.h`</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2905</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting changes that were included in the public headers, which then broke upstream projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;Unfortunately, I inadvertently created the exact same problem for Linux (or really any system that uses Autotools), and it wasn&apos;t evident until the build was coupled with another project with the same problem. More specifically, when including ZooKeeper (with my changes) in Mesos, and including Google&apos;s Glog in Mesos, and building both with Autotools (which we also support), both packages define the pre-processor macro &lt;tt&gt;PACKAGE_VERSION&lt;/tt&gt;, and so so publicly. This is defined in &lt;tt&gt;config.h&lt;/tt&gt; by Autotools, and is not a problem &lt;em&gt;unless included publicly&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;When refactoring, I saw two includes in &lt;tt&gt;zookeeper.h&lt;/tt&gt; that instead of being guarded by e.g. &lt;tt&gt;#ifdef HAVE_SYS_SOCKET_H&lt;/tt&gt; were guarded by &lt;tt&gt;#ifndef WIN32&lt;/tt&gt;. Without realizing that I would create the exact same problem I was elsewhere fixing, I erroneously added &lt;tt&gt;#include &quot;config.h&quot;&lt;/tt&gt; and guarded the includes &quot;properly.&quot; But there is &lt;em&gt;very good reasons&lt;/em&gt; not to do this (explained above).&lt;/p&gt;

&lt;p&gt;The patch to fix this is simple:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/src/c/include/zookeeper.h b/src/c/include/zookeeper.h
index d20e70af4..b0bb09e3f 100644
--- a/src/c/include/zookeeper.h
+++ b/src/c/include/zookeeper.h
@@ -21,13 +21,9 @@

 #include &amp;lt;stdlib.h&amp;gt;

-#include &quot;config.h&quot;
-
-#ifdef HAVE_SYS_SOCKET_H
+/* we must not include config.h as a public header */
+#ifndef WIN32
 #include &amp;lt;sys/socket.h&amp;gt;
-#endif
-
-#ifdef HAVE_SYS_TIME_H
 #include &amp;lt;sys/time.h&amp;gt;
 #endif

diff --git a/src/c/src/zookeeper.c b/src/c/src/zookeeper.c
index 220c57dc4..9b837f227 100644
--- a/src/c/src/zookeeper.c
+++ b/src/c/src/zookeeper.c
@@ -24,6 +24,7 @@
 #define USE_IPV6
 #endif

+#include &quot;config.h&quot;
 #include &amp;lt;zookeeper.h&amp;gt;
 #include &amp;lt;zookeeper.jute.h&amp;gt;
 #include &amp;lt;proto.h&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am opening pull requests in a few minutes to have this applied to branch 3.4 and 3.5.&lt;/p&gt;

&lt;p&gt;I&apos;m sorry!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux-ish environments.&lt;/p&gt;</environment>
        <key id="13104933">ZOOKEEPER-2905</key>
            <summary>Don&apos;t include `config.h` in `zookeeper.h`</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andschwa">Andrew Schwartzmeyer</assignee>
                                    <reporter username="andschwa">Andrew Schwartzmeyer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Sep 2017 22:41:49 +0000</created>
                <updated>Wed, 27 Sep 2017 23:34:47 +0000</updated>
                            <resolved>Wed, 27 Sep 2017 22:19:17 +0000</resolved>
                                                    <fixVersion>3.4.11</fixVersion>
                    <fixVersion>3.5.4</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16179912" author="githubbot" created="Mon, 25 Sep 2017 22:57:22 +0000"  >&lt;p&gt;GitHub user andschwa opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andschwa/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andschwa/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #381&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2ec2bc6680d49f3b6917db3f58257a80b4b4144f&lt;br/&gt;
Author: Andrew Schwartzmeyer &amp;lt;andrew@schwartzmeyer.com&amp;gt;&lt;br/&gt;
Date:   2017-08-30T23:15:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16179916" author="githubbot" created="Mon, 25 Sep 2017 22:58:29 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hey @hanm, I found and fixed a bug I made. This patches `branch-3.4`. It should be very straightforward.&lt;/p&gt;

&lt;p&gt;    This is for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16179917" author="andschwa" created="Mon, 25 Sep 2017 22:59:14 +0000"  >&lt;p&gt;I didn&apos;t catch this sooner as the CMake build on Windows and Linux for Mesos uses a newer version of Glog than our Autotools build, which doesn&apos;t have this bug. So it was when my ZooKeeper patch with the bug was combined with an old version of Glog (0.3.3) which also had the bug, that I finally found it.&lt;/p&gt;</comment>
                            <comment id="16179918" author="githubbot" created="Mon, 25 Sep 2017 23:00:23 +0000"  >&lt;p&gt;GitHub user andschwa opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andschwa/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andschwa/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;-3.5&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #382&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit daac5254a1a7472089f6950f60e4a4a1a3fa1f0e&lt;br/&gt;
Author: Andrew Schwartzmeyer &amp;lt;andrew@schwartzmeyer.com&amp;gt;&lt;br/&gt;
Date:   2017-08-30T23:15:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16179919" author="githubbot" created="Mon, 25 Sep 2017 23:00:39 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @hanm and this is is for `branch-3.5`.&lt;/p&gt;</comment>
                            <comment id="16179921" author="githubbot" created="Mon, 25 Sep 2017 23:01:50 +0000"  >&lt;p&gt;GitHub user andschwa opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andschwa/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andschwa/zookeeper&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;-master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #383&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b825ecd08724107f873c726692ea8af02173bb5d&lt;br/&gt;
Author: Andrew Schwartzmeyer &amp;lt;andrew@schwartzmeyer.com&amp;gt;&lt;br/&gt;
Date:   2017-08-30T23:15:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h`&lt;/p&gt;

&lt;p&gt;    In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2841&quot; title=&quot;ZooKeeper public include files leak porting changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2841&quot;&gt;&lt;del&gt;ZOOKEEPER-2841&lt;/del&gt;&lt;/a&gt; I fixed the inclusion of project-specific porting code&lt;br/&gt;
    that were included in the public headers, which then broke upstream&lt;br/&gt;
    projects (in my case, Mesos).&lt;/p&gt;

&lt;p&gt;    Unfortunately, I inadvertently created a very similar problem, and it&lt;br/&gt;
    wasn&apos;t evident until the build was coupled with another project with the&lt;br/&gt;
    same bug. More specifically, when including ZooKeeper in Mesos, and&lt;br/&gt;
    including Google&apos;s Glog in Mesos, both projects define the macros&lt;br/&gt;
    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.&lt;br/&gt;
    This is commonly defined in `config.h` by Autotools (and by CMake for&lt;br/&gt;
    ZooKeeper for compatibility), and is not a problem unless included&lt;br/&gt;
    publicly, such as in `zookeeper.h`, and by more than one project.&lt;/p&gt;

&lt;p&gt;    When refactoring, I saw two includes in `zookeeper.h` that instead of&lt;br/&gt;
    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by&lt;br/&gt;
    `#ifndef WIN32`. I erroneously added `#include &quot;config.h&quot;` and guarded&lt;br/&gt;
    the includes &quot;properly&quot; with a feature guard. However, configuration&lt;br/&gt;
    files such as `config.h` and `winconfig.h` etc. must never be included&lt;br/&gt;
    in publicly in `zookeeper.h`, for the reasons given above.&lt;/p&gt;

&lt;p&gt;    This patch reverts the bug, and instead includes `config.h` in&lt;br/&gt;
    `zookeeper.c`, where it is not exposed to other projects.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16179922" author="githubbot" created="Mon, 25 Sep 2017 23:02:43 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @hanm and finally this PR is for `master`.&lt;/p&gt;

&lt;p&gt;    Let me reiterate: I&apos;m sorry! Ha, seriously, I can&apos;t believe I broke practically the same thing I was fixing. You have to be &lt;em&gt;super&lt;/em&gt; careful about what gets included in public headers.&lt;/p&gt;</comment>
                            <comment id="16179936" author="hadoopqa" created="Mon, 25 Sep 2017 23:16:31 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +0 tests included.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16179946" author="hadoopqa" created="Mon, 25 Sep 2017 23:22:20 +0000"  >&lt;p&gt;+1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +0 tests included.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16179949" author="hadoopqa" created="Mon, 25 Sep 2017 23:30:23 +0000"  >&lt;p&gt;-1 overall.  GitHub Pull Request  Build&lt;/p&gt;


&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +0 tests included.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="16183346" author="githubbot" created="Wed, 27 Sep 2017 22:14:02 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.&lt;/p&gt;</comment>
                            <comment id="16183348" author="githubbot" created="Wed, 27 Sep 2017 22:14:08 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.&lt;/p&gt;</comment>
                            <comment id="16183349" author="githubbot" created="Wed, 27 Sep 2017 22:14:24 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.&lt;/p&gt;</comment>
                            <comment id="16183351" author="githubbot" created="Wed, 27 Sep 2017 22:15:02 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @andschwa - no worries. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16183358" author="githubbot" created="Wed, 27 Sep 2017 22:19:12 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16183359" author="phunt" created="Wed, 27 Sep 2017 22:19:17 +0000"  >&lt;p&gt;Issue resolved by pull request 383&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16183396" author="githubbot" created="Wed, 27 Sep 2017 22:54:15 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @andschwa - can you close this PR? It&apos;s been merged but GH only allows keyword commands on the default branch and I don&apos;t have admin privs. Thanks again.&lt;/p&gt;</comment>
                            <comment id="16183397" author="githubbot" created="Wed, 27 Sep 2017 22:54:41 +0000"  >&lt;p&gt;Github user phunt commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @andschwa - can you close this PR? It&apos;s been merged but GH only allows keyword commands on the default branch and I don&apos;t have admin privs. Thanks again.&lt;/p&gt;</comment>
                            <comment id="16183432" author="githubbot" created="Wed, 27 Sep 2017 23:30:33 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @phunt!&lt;/p&gt;</comment>
                            <comment id="16183435" author="githubbot" created="Wed, 27 Sep 2017 23:31:45 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks!&lt;/p&gt;</comment>
                            <comment id="16183436" author="githubbot" created="Wed, 27 Sep 2017 23:31:46 +0000"  >&lt;p&gt;Github user andschwa closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/382&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16183438" author="githubbot" created="Wed, 27 Sep 2017 23:32:14 +0000"  >&lt;p&gt;Github user andschwa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks!&lt;/p&gt;</comment>
                            <comment id="16183439" author="githubbot" created="Wed, 27 Sep 2017 23:32:15 +0000"  >&lt;p&gt;Github user andschwa closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/zookeeper/pull/381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/pull/381&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16183442" author="hudson" created="Wed, 27 Sep 2017 23:34:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3551 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3551/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3551/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2905&quot; title=&quot;Don&amp;#39;t include `config.h` in `zookeeper.h`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2905&quot;&gt;&lt;del&gt;ZOOKEEPER-2905&lt;/del&gt;&lt;/a&gt;: Don&apos;t include `config.h` in `zookeeper.h` (phunt: rev 0fee905684a82eefb2d7d4a999290fb2f2378b41)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) src/c/src/zookeeper.c&lt;/li&gt;
	&lt;li&gt;(edit) src/c/include/zookeeper.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kix3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>