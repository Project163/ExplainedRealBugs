<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2239] JMX State from LocalPeerBean incorrect</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2239</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;The &quot;State&quot; property of LocalPeerBean in package org.apache.zookeeper.server.quorum is returning the incorrect value.  It is performing peer.getState() which is calling the getState() method on java.lang.Thread instead of getting the server state from org.apache.zookeeper.server.quorum.QuorumPeer.  The Javadoc within LocalPeerMXBean.java states that it should be returning the server state as well.  The fix is to call peer.getServerState() in the getState() method of LocalPeerBean instead of peer.getState().toString().  This will return the states defined in QuorumStats.Provider (unknown, leaderelection, leading, following, and observing).  This issue prevents JMX monitoring of the Zookeeper server state.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12851430">ZOOKEEPER-2239</key>
            <summary>JMX State from LocalPeerBean incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kglee79">Kevin Lee</assignee>
                                    <reporter username="kglee79">Kevin Lee</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Aug 2015 16:33:11 +0000</created>
                <updated>Thu, 21 Jul 2016 20:18:35 +0000</updated>
                            <resolved>Mon, 26 Oct 2015 07:15:51 +0000</resolved>
                                    <version>3.4.6</version>
                    <version>3.5.0</version>
                    <version>3.5.1</version>
                                    <fixVersion>3.4.7</fixVersion>
                    <fixVersion>3.5.2</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>jmx</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14654064" author="rakeshr" created="Tue, 4 Aug 2015 18:07:50 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kglee79&quot; class=&quot;user-hover&quot; rel=&quot;kglee79&quot;&gt;kglee79&lt;/a&gt; for reporting this. Would you mind creating a patch to fix this issue. Probably you can refer &lt;a href=&quot;https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HowToContribute&lt;/a&gt; section to know about contributing patches.&lt;/p&gt;</comment>
                            <comment id="14654128" author="kglee79" created="Tue, 4 Aug 2015 18:43:01 +0000"  >&lt;p&gt;Patch uploaded&lt;/p&gt;</comment>
                            <comment id="14658697" author="rgs" created="Wed, 5 Aug 2015 19:02:18 +0000"  >&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kglee79&quot; class=&quot;user-hover&quot; rel=&quot;kglee79&quot;&gt;kglee79&lt;/a&gt;! You need to press &apos;Submit patch&apos; after uploading it to have CI run (I&apos;ve just done it). Patch lgtm, I&apos;ll merge it once CI is happy. &lt;/p&gt;</comment>
                            <comment id="14658703" author="rgs" created="Wed, 5 Aug 2015 19:05:09 +0000"  >&lt;p&gt;I&apos;ll merge this to trunk and 3.4 (for starters).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;: shall I merge it to the 3.5 branch as well?&lt;/p&gt;</comment>
                            <comment id="14658764" author="hadoopqa" created="Wed, 5 Aug 2015 19:52:36 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12748705/ZOOKEEPER-2239.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12748705/ZOOKEEPER-2239.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1692989.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2818//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14658796" author="rgs" created="Wed, 5 Aug 2015 20:06:49 +0000"  >&lt;p&gt;The failure is unrelated:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1 tests failed.
REGRESSION:  org.apache.zookeeper.test.ReconfigTest.testPortChange

Error Message:
expected:&amp;lt;test[1]&amp;gt; but was:&amp;lt;test[0]&amp;gt;

Stack Trace:
junit.framework.AssertionFailedError: expected:&amp;lt;test[1]&amp;gt; but was:&amp;lt;test[0]&amp;gt;
        at org.apache.zookeeper.test.ReconfigTest.testNormalOperation(ReconfigTest.java:150)
        at org.apache.zookeeper.test.ReconfigTest.testPortChange(ReconfigTest.java:598)
        at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So merging regardless. &lt;/p&gt;</comment>
                            <comment id="14658824" author="rgs" created="Wed, 5 Aug 2015 20:18:24 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;trunk: &lt;a href=&quot;https://github.com/apache/zookeeper/commit/5b1b668d33ccf7d93c31db2a53728177393fea90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/5b1b668d33ccf7d93c31db2a53728177393fea90&lt;/a&gt;&lt;br/&gt;
3.4: &lt;a href=&quot;https://github.com/apache/zookeeper/commit/da3e7e0d4b66ac5a25d40ae2d0102b1b57994b62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/da3e7e0d4b66ac5a25d40ae2d0102b1b57994b62&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Waiting on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; to merge to 3.5.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kglee79&quot; class=&quot;user-hover&quot; rel=&quot;kglee79&quot;&gt;kglee79&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14659960" author="hudson" created="Thu, 6 Aug 2015 12:51:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2776 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2776/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2776/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2239&quot; title=&quot;JMX State from LocalPeerBean incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2239&quot;&gt;&lt;del&gt;ZOOKEEPER-2239&lt;/del&gt;&lt;/a&gt;: JMX State from LocalPeerBean incorrect&lt;br/&gt;
(Kevin Lee via rgs)&lt;/p&gt;

&lt;p&gt;Signed-off-by: Raul Gutierrez S &amp;lt;rgs@itevenworks.net&amp;gt; (rgs: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1694317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1694317&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/LocalPeerBean.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14701981" author="eribeiro" created="Tue, 18 Aug 2015 20:59:20 +0000"  >&lt;p&gt;This issue can be closed as Resolved? Still pending 3.5 merging? /cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fournc&quot; class=&quot;user-hover&quot; rel=&quot;fournc&quot;&gt;fournc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14708522" author="rgs" created="Sun, 23 Aug 2015 20:11:49 +0000"  >&lt;p&gt;I think so &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eribeiro&quot; class=&quot;user-hover&quot; rel=&quot;eribeiro&quot;&gt;eribeiro&lt;/a&gt;, though I&apos;d like to merge it for 3.5. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;: ping - can I merge?&lt;/p&gt;</comment>
                            <comment id="14973839" author="rakeshr" created="Mon, 26 Oct 2015 07:14:44 +0000"  >&lt;p&gt;Committed to br3.5 : &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1705796&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1705796&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; Please add Kevin Lee to the contributors list and assign the issue to him. Thanks! &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12748705" name="ZOOKEEPER-2239.patch" size="520" author="kglee79" created="Tue, 4 Aug 2015 18:43:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ibkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>