<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:54:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-877] zkpython does not work with python3.1</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-877</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;as written in the contrib/zkpython/README file:&lt;/p&gt;


&lt;p&gt;&quot;Python &amp;gt;= 2.6 is required. We have tested against 2.6. We have not tested against 3.x.&quot;&lt;/p&gt;

&lt;p&gt;this is probably more a &apos;new feature&apos; request than a bug; anyway compiling the pythn module and calling it returns an error at load time:&lt;/p&gt;


&lt;p&gt;python3.1&lt;br/&gt;
Python 3.1.2 (r312:79147, May  8 2010, 16:36:46) &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;GCC 4.4.4&amp;#93;&lt;/span&gt; on linux2&lt;br/&gt;
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt; import zookeeper&lt;br/&gt;
Traceback (most recent call last):&lt;br/&gt;
  File &quot;&amp;lt;stdin&amp;gt;&quot;, line 1, in &amp;lt;module&amp;gt;&lt;br/&gt;
ImportError: /usr/local/lib/python3.1/dist-packages/zookeeper.so: undefined symbol: PyString_AsString&lt;/p&gt;



&lt;p&gt;are there any plan to support Python3.X?&lt;/p&gt;

&lt;p&gt;I also tried to write a 3.1 ctypes wrapper but the C API seems in fact to be written in C++, so python ctypes cannot be used.&lt;/p&gt;</description>
                <environment>&lt;p&gt;linux+python3.1&lt;/p&gt;</environment>
        <key id="12474807">ZOOKEEPER-877</key>
            <summary>zkpython does not work with python3.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enmand">Daniel Enman</assignee>
                                    <reporter username="tuxracer69">TuxRacer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Sep 2010 10:44:09 +0000</created>
                <updated>Thu, 13 Mar 2014 18:16:55 +0000</updated>
                            <resolved>Tue, 8 Oct 2013 06:46:53 +0000</resolved>
                                    <version>3.3.1</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>contrib-bindings</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12913626" author="phunt" created="Wed, 22 Sep 2010 15:39:24 +0000"  >&lt;p&gt;Slating for 3.4. This would be a great project for someone interested in both zk and python 3 support. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12914513" author="tuxracer69" created="Fri, 24 Sep 2010 16:19:06 +0000"  >&lt;p&gt;In py3k PyString_AsString does not exist&lt;/p&gt;

&lt;p&gt;see &lt;a href=&quot;http://www.velocityreviews.com/forums/t674572-where-is-the-pystring_asstring-in-python-3-0-a.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.velocityreviews.com/forums/t674572-where-is-the-pystring_asstring-in-python-3-0-a.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is no PyString_AsString. Everything string is unicode now. (PyUnicode API)&lt;/p&gt;

&lt;p&gt;example:&lt;/p&gt;

&lt;p&gt;PyString_FromString -&amp;gt; PyUnicode_FromString&lt;br/&gt;
PyString_Concat -&amp;gt; PyUnicode_Concat&lt;br/&gt;
etc...&lt;/p&gt;

&lt;p&gt;To get a char * you have to explicitly encode the string with&lt;br/&gt;
PyUnicode_AsEncodedString.&lt;/p&gt;</comment>
                            <comment id="12915640" author="tuxracer69" created="Tue, 28 Sep 2010 06:38:33 +0000"  >&lt;p&gt;Please find my first attempt to resolve this issue as three attachments&lt;br/&gt;
The zookeeper.c file (full code attached + diff file) now supports a compilation with python3.1 and python2.6.&lt;br/&gt;
(I used conditional compilation as recommended at&lt;br/&gt;
&lt;a href=&quot;http://docs.python.org/py3k/howto/cporting.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.python.org/py3k/howto/cporting.html&lt;/a&gt; )&lt;/p&gt;

&lt;p&gt;I converted the python test to py3k syntax using the &apos;2to3&apos; tool.&lt;br/&gt;
So we probably need to add a 2nd directory in the tree (and call it maybe &apos;tests_py3k&apos;?)&lt;/p&gt;

&lt;p&gt;good news:&lt;br/&gt;
all the test pass &lt;/p&gt;

&lt;p&gt;bad news:&lt;br/&gt;
I could not make logging work (so had to comment the log setup in the tests)&lt;/p&gt;

&lt;p&gt;Please let me know what you think, thanks. TuX&lt;/p&gt;</comment>
                            <comment id="12915812" author="tuxracer69" created="Tue, 28 Sep 2010 16:21:38 +0000"  >&lt;p&gt;a new version of the C file to also support file streams logs in py3k&lt;/p&gt;</comment>
                            <comment id="12915817" author="tuxracer69" created="Tue, 28 Sep 2010 16:30:04 +0000"  >&lt;p&gt;the new file streams handling introduced with the above patch should work with both python2.6 and python3.1, so the code could probably be simplified removing the 2.6 conditional compilation preprocessor directive.&lt;/p&gt;</comment>
                            <comment id="12916474" author="tuxracer69" created="Thu, 30 Sep 2010 13:39:12 +0000"  >&lt;p&gt;Adding also a documentation file zookeeper.rst in RST format (standard documentation format for python).&lt;br/&gt;
The information has been taken from the ./src/c/pyzk_docstrings.h file.&lt;br/&gt;
Attaching the Doc environment in Doc.tgz&lt;/p&gt;

&lt;p&gt;To build it just run:&lt;/p&gt;

&lt;p&gt;sphinx-build Doc html&lt;/p&gt;

&lt;p&gt;It is in theory possible to generate an HTML doc directly from the C docstrings but almost impossible to get a nice HTML ouput.&lt;/p&gt;
</comment>
                            <comment id="12930252" author="hadoopqa" created="Tue, 9 Nov 2010 19:36:36 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12456008/zookeeper.rst&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12456008/zookeeper.rst&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1033155.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/10//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/10//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12930409" author="phunt" created="Wed, 10 Nov 2010 01:37:55 +0000"  >&lt;p&gt;Hi TuxRacer, is it possible for you to re-submit this as a single patch file? We generally request all changes in that format, to ensure that it&apos;s committed the way you intended (also helps with a bunch of other things like reviewing and hudsonqabot, etc...) here are the basic details: &lt;a href=&quot;http://wiki.apache.org/hadoop/ZooKeeper/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/hadoop/ZooKeeper/HowToContribute&lt;/a&gt;&lt;br/&gt;
(basically: svn checkout the code, make changes, &quot;svn diff&quot; and submit the result as &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-877&quot; title=&quot;zkpython does not work with python3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-877&quot;&gt;&lt;del&gt;ZOOKEEPER-877&lt;/del&gt;&lt;/a&gt;.patch, you may need to &quot;svn add&quot; if you are adding new files).&lt;/p&gt;</comment>
                            <comment id="13403099" author="enmand" created="Thu, 28 Jun 2012 13:50:14 +0000"  >&lt;p&gt;I&apos;ve attached my work on porting &lt;tt&gt;zkpython&lt;/tt&gt; to Python 3+ (I&apos;ve tested on 2.6 and 3.2).&lt;/p&gt;</comment>
                            <comment id="13404403" author="phunt" created="Sat, 30 Jun 2012 05:46:43 +0000"  >&lt;p&gt;I&apos;m assuming this is ready to go? (if not cancel the patch)&lt;/p&gt;</comment>
                            <comment id="13657687" author="fpj" created="Tue, 14 May 2013 23:38:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;phunt&lt;/a&gt;, should we try to get this in?&lt;/p&gt;</comment>
                            <comment id="13788974" author="phunt" created="Tue, 8 Oct 2013 06:46:53 +0000"  >&lt;p&gt;Committed to 3.4.6 and trunk. Thanks Daniel &amp;amp; TuxRacer.&lt;/p&gt;</comment>
                            <comment id="13789112" author="hudson" created="Tue, 8 Oct 2013 11:12:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2082 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2082/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2082/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-877&quot; title=&quot;zkpython does not work with python3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-877&quot;&gt;&lt;del&gt;ZOOKEEPER-877&lt;/del&gt;&lt;/a&gt;. zkpython does not work with python3.1 (Daniel Enman via phunt) (phunt: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530166&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/contrib/zkpython/src/c/zookeeper.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/contrib/zkpython/src/python/zk.py&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/contrib/zkpython/src/test/connection_test.py&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/contrib/zkpython/src/test/get_set_test.py&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/contrib/zkpython/src/test/zktestbase.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933704" author="fpj" created="Thu, 13 Mar 2014 18:16:55 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456007" name="Doc.tgz" size="9211" author="tuxracer69" created="Thu, 30 Sep 2010 13:39:12 +0000"/>
                            <attachment id="12533829" name="ZOOKEEPER-877.patch" size="8533" author="enmand" created="Thu, 28 Jun 2012 13:50:14 +0000"/>
                            <attachment id="12455806" name="tests_py3k.tgz" size="6919" author="tuxracer69" created="Tue, 28 Sep 2010 06:38:33 +0000"/>
                            <attachment id="12455805" name="zookeeper.c" size="50206" author="tuxracer69" created="Tue, 28 Sep 2010 06:38:33 +0000"/>
                            <attachment id="12455804" name="zookeeper.c.patch.v1" size="2727" author="tuxracer69" created="Tue, 28 Sep 2010 06:38:33 +0000"/>
                            <attachment id="12455840" name="zookeeper.c.patch.v2" size="3566" author="tuxracer69" created="Tue, 28 Sep 2010 16:21:38 +0000"/>
                            <attachment id="12455839" name="zookeeper.c.v2" size="50958" author="tuxracer69" created="Tue, 28 Sep 2010 16:21:37 +0000"/>
                            <attachment id="12456008" name="zookeeper.rst" size="25397" author="tuxracer69" created="Thu, 30 Sep 2010 13:39:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>70733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00sq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>