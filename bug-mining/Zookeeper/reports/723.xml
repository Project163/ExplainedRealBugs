<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-1371] Remove dependency on log4j in the source code.</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1371</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-850&quot; title=&quot;Switch from log4j to slf4j&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-850&quot;&gt;&lt;del&gt;ZOOKEEPER-850&lt;/del&gt;&lt;/a&gt; added slf4j to ZK. We still depend on log4j in our codebase. We should remove the dependency on log4j so that we can make logging pluggable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539547">ZOOKEEPER-1371</key>
            <summary>Remove dependency on log4j in the source code.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arshad.mohammad">Mohammad Arshad</assignee>
                                    <reporter username="mahadev">Mahadev Konar</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Tue, 24 Jan 2012 00:30:06 +0000</created>
                <updated>Tue, 2 May 2023 17:31:35 +0000</updated>
                            <resolved>Sat, 21 Nov 2015 21:21:49 +0000</resolved>
                                    <version>3.4.0</version>
                    <version>3.4.1</version>
                    <version>3.4.2</version>
                    <version>3.4.3</version>
                                    <fixVersion>3.5.2</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                        <due></due>
                            <votes>6</votes>
                                    <watches>24</watches>
                                                                                                                <comments>
                            <comment id="13255120" author="calvarez" created="Mon, 16 Apr 2012 22:12:24 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removed Log4J dependencies from main source core.&lt;/li&gt;
	&lt;li&gt;Removed Log4J dependencies from test source core except for a bunch of test cases.&lt;/li&gt;
	&lt;li&gt;Modified ivy.xml and build.xml to make use of slf4j to log4j bridge only for testing purposes.&lt;/li&gt;
	&lt;li&gt;Modified build.xml to include a new test branch where no log4.jar is used.&lt;/li&gt;
	&lt;li&gt;Pending to review if documentacion needs to be updater.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13255144" author="hadoopqa" created="Mon, 16 Apr 2012 22:44:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12522869/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12522869/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1326029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 15 javac compiler warnings (more than the trunk&apos;s current 5 warnings).&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13255202" author="michim" created="Tue, 17 Apr 2012 00:13:19 +0000"  >&lt;p&gt;Hi C&#233;sar,&lt;/p&gt;

&lt;p&gt;The patch looks ok to me, but the unit test is failing. Could you take a look?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034/testReport/org.apache.zookeeper.jmx/ManagedUtilNoLog4jTest/testZookeeperJmxLog4jDisableFalse/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034/testReport/org.apache.zookeeper.jmx/ManagedUtilNoLog4jTest/testZookeeperJmxLog4jDisableFalse/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13255417" author="calvarez" created="Tue, 17 Apr 2012 08:52:44 +0000"  >&lt;p&gt;I&apos;m not sure if the warning increment could be removed since it is due to replace Log4J references in ManagedUtil class by reflection in order to keep supporting Log4J JMX beans when &quot;SLF to LOG4J&quot; is used instead of a native slf4j implementation like LogBack.&lt;/p&gt;

&lt;p&gt;Regarding to the failed tests, it seems that the build.xml modifications has not been applied. Is there some kind of mechanism that protect it?&lt;/p&gt;</comment>
                            <comment id="13255919" author="michim" created="Tue, 17 Apr 2012 20:46:18 +0000"  >&lt;p&gt;Hmm, I&apos;m not sure what happened. The build log says &quot;patching file build.xml&quot;, but something could have gone wrong. I&apos;ll let somebody familiar with the build process answer.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1034//consoleText&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13256056" author="calvarez" created="Tue, 17 Apr 2012 23:28:21 +0000"  >&lt;p&gt;My fault. New patch available.&lt;/p&gt;</comment>
                            <comment id="13256057" author="calvarez" created="Tue, 17 Apr 2012 23:29:26 +0000"  >&lt;p&gt;Fixed previous issues: warnings and failed test.&lt;/p&gt;</comment>
                            <comment id="13256082" author="hadoopqa" created="Tue, 17 Apr 2012 23:58:49 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12523050/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12523050/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1326029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1039//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13262435" author="michim" created="Thu, 26 Apr 2012 07:40:58 +0000"  >&lt;p&gt;Thanks for the patch, C&#233;sar! Here are my comments:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Please update the &quot;Logging&quot; section of src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml. It should note that ZooKeeper uses slf4j and defaults to log4j binding (I&apos;m assuming log4j-1.2.16.jar and slf4j-log4j12-1.6.4.jar will be included in the new release under lib/).&lt;/li&gt;
	&lt;li&gt;Right now bin/zkServer.
{sh,cmd} doesn&apos;t initialize logging properly for developers since log4j-1.2.16.jar and slf4j-log4j12-1.6.4.jar are located under build/test/lib/. Should we add build/test/lib/ to the classpath in bin/zkEnv.{sh,cmd}
&lt;p&gt;?&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;Thank you for adding unit tests for JMX!&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13536800" author="phunt" created="Thu, 20 Dec 2012 05:54:49 +0000"  >&lt;p&gt;Any updates on this? It would be a good time to clean this up.&lt;/p&gt;</comment>
                            <comment id="13551446" author="calvarez" created="Fri, 11 Jan 2013 19:36:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;phunt&lt;/a&gt;, quid pro quo. I update this one and you review &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1214&quot; title=&quot;QuorumPeer should unregister only its previsously registered MBeans instead of use MBeanRegistry.unregisterAll() method.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1214&quot;&gt;&lt;del&gt;ZOOKEEPER-1214&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13551734" author="hadoopqa" created="Sat, 12 Jan 2013 01:32:32 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564532/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564532/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1330//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1330//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13551739" author="calvarez" created="Sat, 12 Jan 2013 01:36:22 +0000"  >&lt;p&gt;1.- Updated src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml, but I can not verify it as doc files are copied from doc directory instead of being generated from docbook files. Am I missing something?&lt;/p&gt;

&lt;p&gt;2.- Included slf4j-log4j12-1.7.2.jar and log4j-1.2.17.jar build/lib directory.&lt;/p&gt;</comment>
                            <comment id="13551758" author="hadoopqa" created="Sat, 12 Jan 2013 02:02:33 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564538/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564538/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1331//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1331//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13552278" author="hadoopqa" created="Sun, 13 Jan 2013 19:12:35 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564626/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564626/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1333//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1333//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13552288" author="hadoopqa" created="Sun, 13 Jan 2013 19:32:34 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564627/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564627/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1334//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1334//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13552292" author="calvarez" created="Sun, 13 Jan 2013 19:42:42 +0000"  >&lt;p&gt;I don&apos;t understand why it is failing. I just checkout a clean trunk and I was able to successfully apply the patch. Trying a new patch without zooinspector/ivy.xml&lt;/p&gt;</comment>
                            <comment id="13552298" author="hadoopqa" created="Sun, 13 Jan 2013 20:16:27 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564628/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564628/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1335//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13552325" author="hadoopqa" created="Sun, 13 Jan 2013 21:49:51 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564633/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564633/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1427034.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1336//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13929805" author="michim" created="Tue, 11 Mar 2014 00:46:55 +0000"  >&lt;p&gt;The patch went stale. C&#233;sar, could you rebase and regenerate the patch?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13930198" author="calvarez" created="Tue, 11 Mar 2014 10:37:03 +0000"  >&lt;p&gt;This patch is nearly 2 years old. It will take some time to refresh it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13931257" author="michim" created="Wed, 12 Mar 2014 01:41:58 +0000"  >&lt;p&gt;Yes, you are right. Sorry I&apos;ve been putting this off for so long.&lt;/p&gt;</comment>
                            <comment id="13956988" author="rockj" created="Tue, 1 Apr 2014 20:35:49 +0000"  >&lt;p&gt;Rebased existing patch and applied to master/trunk. &lt;/p&gt;

&lt;p&gt;Also did a few changes:&lt;/p&gt;

&lt;p&gt;1) ivy build files and dependencies, use same log4j version for testing scope. &lt;br/&gt;
2) I see no reason for why you want to include the &lt;b&gt;log4j&lt;/b&gt; in distribution( ? ). It&apos;s only for running a (few) tests &amp;amp; I assume we don&apos;t want to dump the log4j into classpath for people. Whole point of slf4j is to let the developer who uses zookeeper to chose their choice of logging implementation of the slf4j api. Also ivy will pull down the log4j binding impl. for test scope for developers. &lt;br/&gt;
3) bumped log4j to version 1.2.17 (contrib/ivy declared dependency at version 1.2.15 which pulls in JMX SUN libraries which is not distributed in maven central. 1.2.16 was mentioned in root ivy file. Might as well bump to latest minor version.&lt;/p&gt;

&lt;p&gt;Would be nice to see this merged now before we have to wait another X years &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="13957021" author="hadoopqa" created="Tue, 1 Apr 2014 21:15:36 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1583513.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2018//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13957033" author="michim" created="Tue, 1 Apr 2014 21:27:54 +0000"  >&lt;p&gt;+1 The patch looks good to me, thanks Roy. I&apos;ll give it a day for other people to review the patch and check it in.&lt;/p&gt;</comment>
                            <comment id="13957185" author="hadoopqa" created="Wed, 2 Apr 2014 00:24:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1583783.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2019//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13957895" author="rockj" created="Wed, 2 Apr 2014 17:05:43 +0000"  >&lt;p&gt;Tests run locally just fine  ( ant test-cppunit ), someone could probably try to rerun the patch again.. &lt;/p&gt;</comment>
                            <comment id="13957929" author="michim" created="Wed, 2 Apr 2014 17:41:00 +0000"  >&lt;p&gt;Restarted the build.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/2022/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/2022/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13957980" author="hadoopqa" created="Wed, 2 Apr 2014 18:18:07 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1583783.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2022//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13958041" author="hadoopqa" created="Wed, 2 Apr 2014 19:02:15 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1583783.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2024//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13958407" author="fournc" created="Thu, 3 Apr 2014 01:04:28 +0000"  >&lt;p&gt;In general this looks good to me, should we just replace test.junit with test.junit-no-log4j (or whatever the target you made was called)?&lt;/p&gt;</comment>
                            <comment id="13958421" author="hadoopqa" created="Thu, 3 Apr 2014 01:35:11 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12638125/ZOOKEEPER-1371.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1583783.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2025//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13958625" author="rockj" created="Thu, 3 Apr 2014 08:30:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=calvarez&quot; class=&quot;user-hover&quot; rel=&quot;calvarez&quot;&gt;calvarez&lt;/a&gt; It&apos;s your patch, I&apos;m unsure why you want the junit.run.nolog4j goal, it simply tries to only run the tests : &#171;&amp;lt;include name=&quot;*&lt;b&gt;/&lt;/b&gt;${test.category}NoLog4j*.java&quot;/&amp;gt;&#187; which is no test files basically atm. I don&apos;t see why we would want to encourage users/devs to particular create such tests? So maybe it should be removed?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fournc&quot; class=&quot;user-hover&quot; rel=&quot;fournc&quot;&gt;fournc&lt;/a&gt;: Can you confirm with packager that it is okey to drop log4j jar file from distribution? I see no reason for why you want it included in distribution as it then will land in classpath for users and that complicates things when they want to choose their own slf4j implementation for logging. I think it would be enough to have it declared as a test dependency in ivy for the log4j&#187;-specific test implementations we have. This should be enough for developers I guess, maybe leave it as a note in a &#171;readme.developers&#187; if they want to run the jmx log4j test, they should fetch dependencies with ivy to ensure to get slf4j-log4j12 bridge for running it.&lt;/p&gt;

&lt;p&gt;I guess it would make more sense to have the nolog4j goal to exclude the jmx log4j test instead, make it the default target for running tests and add a note in &#171;readme.developers&#187; to run &#171;ant junit.run&#187; to include tests which depends on log4j and then make CI to run the ant junit.run goal. &lt;/p&gt;

&lt;p&gt;jmx log4j test is also an integration/system test as well, and most useful to be run by a CI. &lt;/p&gt;</comment>
                            <comment id="13959342" author="michim" created="Thu, 3 Apr 2014 22:29:25 +0000"  >&lt;p&gt;I think it&apos;s fine to remove the log4j jar file, but at least the documentation needs to be updated. The commands shown in the documentation uses the log4j jar file included in the distribution. Maybe we can address this in a separate jira to get this one checked in?&lt;/p&gt;

&lt;p&gt;As for the testing, my personal preference is to &lt;b&gt;not&lt;/b&gt; exclude the jmx log4j tests. Ideally running &quot;ant test&quot; should run the same set of tests it did before this patch. Either that or modify the test so that it doesn&apos;t depend on log4j.&lt;/p&gt;</comment>
                            <comment id="13965124" author="rockj" created="Thu, 10 Apr 2014 08:19:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; Can probably create an issue with docs that is related to this one yes, if your thinking about -&amp;gt; &lt;a href=&quot;http://zookeeper.apache.org/doc/r3.3.3/zookeeperAdmin.html#Debug+Log+Cleanup+%28log4j%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://zookeeper.apache.org/doc/r3.3.3/zookeeperAdmin.html#Debug+Log+Cleanup+%28log4j%29&lt;/a&gt;  etc. &lt;/p&gt;

&lt;p&gt;What generates the docs/? I assume there is a tool or something that generates all the html/pdfs. Would be best to ensure docs are updated with the release. &lt;/p&gt;

&lt;p&gt;Regarding the jmx log4j bean stuff, it should really be distributed as it&apos;s own artifact and then move the log4j specific implementation to this artifact together with the test. Because it doesn&apos;t really belong at all in the main project. Then users can contribute to other jmx logging artifacts for logback etc as well. &lt;/p&gt;

&lt;p&gt;So I highly suggest to move it to its own artifact (jmx/log4j test we currently have), or at least move it to contrib and out of the main project.&lt;/p&gt;
</comment>
                            <comment id="13965138" author="fpj" created="Thu, 10 Apr 2014 08:52:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;What generates the docs/?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We use Forrest. You just have to update the files under src/docs/src/documentation/content/xdocs, and ideally run ant docs to make sure it builds alright.&lt;/p&gt;</comment>
                            <comment id="13965660" author="michim" created="Thu, 10 Apr 2014 18:25:55 +0000"  >&lt;p&gt;FYI ant docs didn&apos;t work for me with Forrest 0.9. I use Forrest 0.8.&lt;/p&gt;</comment>
                            <comment id="13965734" author="grobmeier" created="Thu, 10 Apr 2014 19:16:24 +0000"  >&lt;p&gt;Not directly related, but please have a note Log4j 2 reached RC1 and would be a great to choice to default too. It also has a (native) slf4j binding and brings an API with it too, if you want it. API supports various libs aswell. Check: &lt;a href=&quot;http://logging.apache.org/log4j/2.x&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logging.apache.org/log4j/2.x&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14002506" author="michim" created="Mon, 19 May 2014 22:31:13 +0000"  >&lt;p&gt;Ok so we still have some things to take care of.&lt;/p&gt;

&lt;p&gt;1. Move log4j JMX mbeans to a separate artifact.&lt;br/&gt;
2. Update the documentation.&lt;/p&gt;</comment>
                            <comment id="14709105" author="oneiros" created="Mon, 24 Aug 2015 11:20:05 +0000"  >&lt;p&gt;Any update on this? log4j has been officially announced dead (end of life):&lt;br/&gt;
&lt;a href=&quot;https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14939273" author="xcbsmith" created="Thu, 1 Oct 2015 03:38:21 +0000"  >&lt;p&gt;Just got burned by this. Love to see the log4j dependency at least moved out of runtime... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15013750" author="jmoney" created="Thu, 19 Nov 2015 16:02:10 +0000"  >&lt;p&gt;This would be so awesome to get in.&lt;/p&gt;</comment>
                            <comment id="15013771" author="fpj" created="Thu, 19 Nov 2015 16:15:37 +0000"  >&lt;p&gt;Agreed, it&apos;d be good to get this one in. Is anyone here willing to update the patch to make sure it can be applied cleanly to the 3.5 branch and trunk?&lt;/p&gt;</comment>
                            <comment id="15015493" author="arshad.mohammad" created="Fri, 20 Nov 2015 09:32:32 +0000"  >&lt;p&gt;I will re-base and submit the patch&lt;/p&gt;</comment>
                            <comment id="15020552" author="arshad.mohammad" created="Sat, 21 Nov 2015 16:12:27 +0000"  >&lt;p&gt;Submitting patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1371&quot; title=&quot;Remove dependency on log4j in the source code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1371&quot;&gt;&lt;del&gt;ZOOKEEPER-1371&lt;/del&gt;&lt;/a&gt;-05.patch trunk and branch-3.5&lt;/p&gt;</comment>
                            <comment id="15020670" author="rgs" created="Sat, 21 Nov 2015 20:27:00 +0000"  >&lt;p&gt;Patch lgtm, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt;! Waiting for CI to run, then i&apos;ll merge. &lt;/p&gt;</comment>
                            <comment id="15020679" author="hadoopqa" created="Sat, 21 Nov 2015 20:33:51 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773684/ZOOKEEPER-1371-05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773684/ZOOKEEPER-1371-05.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1715557.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2963//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15020698" author="rgs" created="Sat, 21 Nov 2015 21:14:43 +0000"  >&lt;p&gt;I am ignoring the javadoc warnings for now, given that we have many of them already:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ ant javadoc
...
  [javadoc] 15 errors
  [javadoc] 100 warnings
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should clean these in a separate ticket. &lt;/p&gt;</comment>
                            <comment id="15020699" author="rgs" created="Sat, 21 Nov 2015 21:21:49 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/zookeeper/trunk@1715577&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/zookeeper/trunk@1715577&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/zookeeper/branches/branch-3.5@1715578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/zookeeper/branches/branch-3.5@1715578&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arshad.mohammad&quot; class=&quot;user-hover&quot; rel=&quot;arshad.mohammad&quot;&gt;arshad.mohammad&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15020700" author="arshad.mohammad" created="Sat, 21 Nov 2015 21:22:42 +0000"  >&lt;p&gt;Sure &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;. I have already analysed these warning. Currently in the system there are 10 javac warning and 1 javadoc warning. May some more warnings will get added in after this patch commit. I will create separate ticket and handle there.&lt;/p&gt;</comment>
                            <comment id="15020720" author="arshad.mohammad" created="Sat, 21 Nov 2015 22:09:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; for committing the patch.&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=calvarez&quot; class=&quot;user-hover&quot; rel=&quot;calvarez&quot;&gt;calvarez&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Rockj&quot; class=&quot;user-hover&quot; rel=&quot;Rockj&quot;&gt;Rockj&lt;/a&gt; for contributing the patch&lt;br/&gt;
Thanks everyone for your review comments&lt;/p&gt;</comment>
                            <comment id="15020722" author="arshad.mohammad" created="Sat, 21 Nov 2015 22:11:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;, I submitted another patch &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2329&quot; title=&quot;Clear javac and javadoc warning from zookeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2329&quot;&gt;&lt;del&gt;ZOOKEEPER-2329&lt;/del&gt;&lt;/a&gt; to clean the warnings. But I see only 10 javac and 1 javadoc warning(actually 9 javac warning as this patch reduced one javac warning). Please guide me if I am missing some thing.&lt;/p&gt;</comment>
                            <comment id="15020733" author="hudson" created="Sat, 21 Nov 2015 22:28:42 +0000"  >&lt;p&gt;FAILURE: Integrated in ZooKeeper-trunk #2816 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2816/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2816/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1371&quot; title=&quot;Remove dependency on log4j in the source code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1371&quot;&gt;&lt;del&gt;ZOOKEEPER-1371&lt;/del&gt;&lt;/a&gt;: Remove dependency on log4j in the source code&lt;br/&gt;
(Arshad Mohammad via rgs) (rgs: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1715577&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1715577&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;trunk/build.xml&lt;/li&gt;
	&lt;li&gt;trunk/ivy.xml&lt;/li&gt;
	&lt;li&gt;trunk/src/contrib/loggraph/ivy.xml&lt;/li&gt;
	&lt;li&gt;trunk/src/contrib/rest/ivy.xml&lt;/li&gt;
	&lt;li&gt;trunk/src/contrib/zooinspector/ivy.xml&lt;/li&gt;
	&lt;li&gt;trunk/src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/Login.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/Shell.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/client/FourLetterWordMain.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/jmx/ManagedUtil.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/server/ZxidRolloverTest.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/test/FollowerResyncConcurrencyTest.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/test/MultiTransactionTest.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/test/RestoreCommittedLogTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15049771" author="cnauroth" created="Thu, 10 Dec 2015 01:03:29 +0000"  >&lt;p&gt;After this patch, ZooKeeper no longer produces any logging, because there is no SLF4J binding jar available on the runtime classpath.  I filed blocker issue &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2342&quot; title=&quot;Migrate to Log4J 2.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2342&quot;&gt;&lt;del&gt;ZOOKEEPER-2342&lt;/del&gt;&lt;/a&gt; for follow-up.&lt;/p&gt;</comment>
                            <comment id="15050954" author="sslavic" created="Thu, 10 Dec 2015 13:19:18 +0000"  >&lt;p&gt;Maybe splitting zookeeper to multiple modules (server, client, shared/common) would help. Then use same logging api in all modules, and use whatever logging implementation is preferred in server module only, letting client module users use whichever logging implementation they prefer.&lt;/p&gt;</comment>
                            <comment id="15053163" author="cnauroth" created="Fri, 11 Dec 2015 18:34:49 +0000"  >&lt;p&gt;It&apos;s unacceptable to ship a product with logging broken out of the box.&lt;/p&gt;

&lt;p&gt;On &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2342&quot; title=&quot;Migrate to Log4J 2.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2342&quot;&gt;&lt;del&gt;ZOOKEEPER-2342&lt;/del&gt;&lt;/a&gt;, I&apos;ve described a choice between bundling the Log4J 1 binding (backwards-compatible, but Log4J 1 is end of life) or bundling the Log4J 2 binding (actively supported, but backwards-incompatible).  I&apos;d encourage anyone interested in participating further in the discussion to comment on that issue, since this one is closed.  Thanks!&lt;/p&gt;</comment>
                            <comment id="15197639" author="cnauroth" created="Wed, 16 Mar 2016 16:37:24 +0000"  >&lt;p&gt;We now have multiple binding +1&apos;s for a revert of this patch for 3.5.2 after discussion on the dev list.  I will wait 24 hours before proceeding with the revert, just to make sure everyone has been given an opportunity to comment.&lt;/p&gt;</comment>
                            <comment id="15202347" author="cnauroth" created="Fri, 18 Mar 2016 23:15:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2393&quot; title=&quot;Revert run-time dependency on log4j and slf4j-log4j12&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2393&quot;&gt;&lt;del&gt;ZOOKEEPER-2393&lt;/del&gt;&lt;/a&gt; tracks a partial revert to restore the SLF4J Log4J 1 binding on the runtime classpath.&lt;/p&gt;</comment>
                            <comment id="15955524" author="rehevkor5" created="Tue, 4 Apr 2017 18:02:51 +0000"  >&lt;p&gt;I second the suggestion by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sslavic&quot; class=&quot;user-hover&quot; rel=&quot;sslavic&quot;&gt;sslavic&lt;/a&gt; to split out the server distro from other stuff, such as the jar that clients would use. Otherwise everyone who uses the ZK client has to add an exclusion for ZK&apos;s log4j dependency in order to make sure their slf4j works right (if they&apos;re not using Log4j).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12951413">ZOOKEEPER-2393</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13287385">ZOOKEEPER-3737</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12471687">ZOOKEEPER-850</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12920618">ZOOKEEPER-2342</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12773684" name="ZOOKEEPER-1371-05.patch" size="45315" author="arshad.mohammad" created="Sat, 21 Nov 2015 16:12:27 +0000"/>
                            <attachment id="12638125" name="ZOOKEEPER-1371.patch" size="45603" author="Rockj" created="Tue, 1 Apr 2014 20:36:38 +0000"/>
                            <attachment id="12564633" name="ZOOKEEPER-1371.patch" size="75132" author="calvarez" created="Sun, 13 Jan 2013 21:12:08 +0000"/>
                            <attachment id="12564627" name="ZOOKEEPER-1371.patch" size="76110" author="calvarez" created="Sun, 13 Jan 2013 19:23:06 +0000"/>
                            <attachment id="12523050" name="ZOOKEEPER-1371.patch" size="46328" author="calvarez" created="Tue, 17 Apr 2012 23:29:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>