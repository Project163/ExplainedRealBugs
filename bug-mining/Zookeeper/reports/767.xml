<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:58:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2074] Incorrect exit codes for &quot;./zkCli.sh cmd arg&quot;</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2074</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Linux@hghoulaslx406:/&amp;gt; $ZOOKEEPER_HOME/bin/zkCli.sh create /test &quot;test&quot;&lt;br/&gt;
Created /test1&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; echo $?&lt;br/&gt;
0&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; $ZOOKEEPER_HOME/bin/zkCli.sh create /test &quot;test&quot;&lt;br/&gt;
Node already exists: /test1&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; echo $?&lt;br/&gt;
0&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; $ZOOKEEPER_HOME/bin/zkCli.sh delete /test&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; echo $?&lt;br/&gt;
0&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; $ZOOKEEPER_HOME/bin/zkCli.sh delete /test&lt;br/&gt;
Node does not exist: /test1&lt;br/&gt;
Linux@hghoulaslx406:/&amp;gt; echo $?&lt;br/&gt;
0&lt;/p&gt;


&lt;p&gt;Here for failed command it should return exit code 1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12753656">ZOOKEEPER-2074</key>
            <summary>Incorrect exit codes for &quot;./zkCli.sh cmd arg&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abrahamfine">Abraham Fine</assignee>
                                    <reporter username="surendralilhore">Surendra Singh Lilhore</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Nov 2014 09:20:00 +0000</created>
                <updated>Thu, 18 May 2017 03:44:03 +0000</updated>
                            <resolved>Wed, 10 Aug 2016 17:33:02 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.5.3</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="14201830" author="surendrasingh" created="Fri, 7 Nov 2014 09:25:27 +0000"  >&lt;p&gt;Please assign this Jira to me, I will upload patch soon&lt;/p&gt;</comment>
                            <comment id="14202105" author="surendrasingh" created="Fri, 7 Nov 2014 14:52:24 +0000"  >&lt;p&gt;I have attached patch , Please review it.&lt;/p&gt;</comment>
                            <comment id="14219364" author="thecoop1984" created="Thu, 20 Nov 2014 13:30:59 +0000"  >&lt;p&gt;Looks like a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1897&quot; title=&quot;ZK Shell/Cli not processing commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1897&quot;&gt;&lt;del&gt;ZOOKEEPER-1897&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="14229575" author="surendrasingh" created="Mon, 1 Dec 2014 09:17:34 +0000"  >&lt;p&gt;Hi Simon, &lt;/p&gt;</comment>
                            <comment id="14229581" author="surendrasingh" created="Mon, 1 Dec 2014 09:21:12 +0000"  >&lt;p&gt;I don&#8217;t think it is duplicate, In that jira they are not checking command result.&lt;br/&gt;
But I want, we should check command result and then do exit with 1 if command result is false.&lt;/p&gt;</comment>
                            <comment id="14285393" author="surendrasingh" created="Wed, 21 Jan 2015 09:15:57 +0000"  >&lt;p&gt;Please can someone review my patch and assign this issue to me..Thank in advance&lt;/p&gt;</comment>
                            <comment id="14300914" author="rakeshr" created="Mon, 2 Feb 2015 06:04:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=surendrasingh&quot; class=&quot;user-hover&quot; rel=&quot;surendrasingh&quot;&gt;surendrasingh&lt;/a&gt; for the patch. Can you move the command result check and &lt;tt&gt;System.exit(1);&lt;/tt&gt; one level up to the ZooKeeperMain#main() method. I could see &lt;tt&gt;ZooKeeperMain#run()&lt;/tt&gt; has default access, if someone embedded this in their code then may exit the JVM, right? &lt;/p&gt;</comment>
                            <comment id="14300918" author="surendrasingh" created="Mon, 2 Feb 2015 06:14:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Yes you are correct , I will change the patch and upload soon..&lt;/p&gt;</comment>
                            <comment id="14301618" author="surendrasingh" created="Mon, 2 Feb 2015 18:38:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have attached new patch, please review it.&lt;br/&gt;
Thanks in advance.&lt;/p&gt;</comment>
                            <comment id="14302780" author="rakeshr" created="Tue, 3 Feb 2015 05:14:34 +0000"  >&lt;p&gt;+1 lgtm&lt;/p&gt;</comment>
                            <comment id="14308322" author="surendrasingh" created="Fri, 6 Feb 2015 00:21:14 +0000"  >&lt;p&gt;@Rakesh &lt;/p&gt;

&lt;p&gt;Thanks for review&lt;/p&gt;</comment>
                            <comment id="14311822" author="michim" created="Mon, 9 Feb 2015 05:39:11 +0000"  >&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1658307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1658307&lt;/a&gt;&lt;br/&gt;
branch-3.5: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1658308&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1658308&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14312975" author="hudson" created="Mon, 9 Feb 2015 22:05:52 +0000"  >&lt;p&gt;ABORTED: Integrated in ZooKeeper-trunk #2590 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2590/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2590/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2074&quot; title=&quot;Incorrect exit codes for &amp;quot;./zkCli.sh cmd arg&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2074&quot;&gt;&lt;del&gt;ZOOKEEPER-2074&lt;/del&gt;&lt;/a&gt; Incorrect exit codes for &quot;./zkCli.sh cmd arg&quot; (surendra singh lilhore via michim) (michim: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1658307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1658307&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/ZooKeeperMain.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14362029" author="michim" created="Sat, 14 Mar 2015 21:14:08 +0000"  >&lt;p&gt;with this patch even successful commands return 1 if processZKCmd returns false.&lt;/p&gt;</comment>
                            <comment id="14362066" author="fournc" created="Sat, 14 Mar 2015 22:26:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; did you revert the change? Do we want to revert or fix?&lt;/p&gt;</comment>
                            <comment id="14362069" author="michim" created="Sat, 14 Mar 2015 22:30:47 +0000"  >&lt;p&gt;Yes, I just reverted the change:&lt;/p&gt;

&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666760&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666760&lt;/a&gt;&lt;br/&gt;
branch-3.5: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1666761&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14362128" author="hudson" created="Sun, 15 Mar 2015 01:09:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2628 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2628/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2628/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2074&quot; title=&quot;Incorrect exit codes for &amp;quot;./zkCli.sh cmd arg&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2074&quot;&gt;&lt;del&gt;ZOOKEEPER-2074&lt;/del&gt;&lt;/a&gt;. (michim: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1666760&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1666760&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/ZooKeeperMain.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14362191" author="rakeshr" created="Sun, 15 Mar 2015 04:19:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; for pointing out this case. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=surendrasingh&quot; class=&quot;user-hover&quot; rel=&quot;surendrasingh&quot;&gt;surendrasingh&lt;/a&gt; could you re-look at it.&lt;/p&gt;</comment>
                            <comment id="14362695" author="surendrasingh" created="Mon, 16 Mar 2015 03:41:18 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt; Yes I will check it..&lt;/p&gt;

&lt;p&gt;But I have one doubt, why processZKCmd() will return false if command is success.&lt;/p&gt;

&lt;p&gt;when watch is false ??&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	 &lt;span class=&quot;code-comment&quot;&gt;// execute from commandMap
&lt;/span&gt;        CliCommand cliCmd = commandMapCli.get(cmd);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(cliCmd != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            cliCmd.setZk(zk);
            watch = cliCmd.parse(args).exec();
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!commandMap.containsKey(cmd)) {
             usage();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I saw some command like &quot;getAcl&quot; which prints the command output on console, it will always return false &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; exec() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; KeeperException, InterruptedException {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path = args[1];
        Stat stat = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Stat();
        List&amp;lt;ACL&amp;gt; acl = zk.getACL(path, stat);
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (ACL a : acl) {
            out.println(a.getId() + &lt;span class=&quot;code-quote&quot;&gt;&quot;: &quot;&lt;/span&gt;
                        + getPermString(a.getPerms()));
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cl.hasOption(&lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StatPrinter(out).print(stat);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14381456" author="surendrasingh" created="Thu, 26 Mar 2015 06:34:05 +0000"  >&lt;p&gt;Attached new patch, please review &lt;/p&gt;</comment>
                            <comment id="14382324" author="hadoopqa" created="Thu, 26 Mar 2015 17:51:49 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12707442/ZOOKEEPER-2074_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12707442/ZOOKEEPER-2074_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1669062.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2591//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14385471" author="surendrasingh" created="Sat, 28 Mar 2015 19:00:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; I have attached new patch. Please can you review..&lt;/p&gt;</comment>
                            <comment id="14489033" author="rakeshr" created="Fri, 10 Apr 2015 06:34:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=surendrasingh&quot; class=&quot;user-hover&quot; rel=&quot;surendrasingh&quot;&gt;surendrasingh&lt;/a&gt; for taking care this. Could you tell me, any specific reason to not to return the status after executing the &lt;tt&gt;&quot;redo&quot;&lt;/tt&gt; command. IMO, we can return after executing the command. Please verify this case also.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            history.put(commandCount, history.get(i));
            processCmd( cl);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14489253" author="surendrasingh" created="Fri, 10 Apr 2015 09:29:15 +0000"  >
&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt; for review&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&quot;redo&quot;&lt;/tt&gt; is not useful as Command line args for ZkCli.sh.&lt;/p&gt;

&lt;p&gt;It is used only when we are executing command on cli prompt.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;./zkCli.sh -server IP:PORT redo 0&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This command always return false&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cmd.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;redo&quot;&lt;/span&gt;) &amp;amp;&amp;amp; args.length &amp;gt;= 2) {
            &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; i = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.decode(args[1]);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (commandCount &amp;lt;= i){ &lt;span class=&quot;code-comment&quot;&gt;// don&apos;t allow redoing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; redo
&lt;/span&gt;                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Command index out of range&quot;&lt;/span&gt;);
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
           }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14489310" author="rakeshr" created="Fri, 10 Apr 2015 10:12:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt; could you please have a look at the reworked patch when you get a chance. Thanks!&lt;/p&gt;</comment>
                            <comment id="15342933" author="hadoopqa" created="Tue, 21 Jun 2016 22:39:05 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12707442/ZOOKEEPER-2074_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12707442/ZOOKEEPER-2074_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1748630.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3212//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15412174" author="hadoopqa" created="Mon, 8 Aug 2016 18:01:21 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12822618/ZOOKEEPER-2074_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12822618/ZOOKEEPER-2074_4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1755379.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3334//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15412178" author="abrahamfine" created="Mon, 8 Aug 2016 18:03:47 +0000"  >&lt;p&gt;I do not believe the test failure is relevant to this patch&lt;/p&gt;</comment>
                            <comment id="15412220" author="hanm" created="Mon, 8 Aug 2016 18:30:24 +0000"  >&lt;p&gt;That is a known failure taken care of by &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2080&quot; title=&quot;Fix deadlock in dynamic reconfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2080&quot;&gt;&lt;del&gt;ZOOKEEPER-2080&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15412485" author="eribeiro" created="Mon, 8 Aug 2016 21:14:23 +0000"  >&lt;p&gt;hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abrahamfine&quot; class=&quot;user-hover&quot; rel=&quot;abrahamfine&quot;&gt;abrahamfine&lt;/a&gt;, this patch is a complement of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1898&quot; title=&quot;ZooKeeper Java cli shell always returns &amp;quot;0&amp;quot; as exit code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1898&quot;&gt;&lt;del&gt;ZOOKEEPER-1898&lt;/del&gt;&lt;/a&gt;, right? I am linking the two so that we can expose the relation between the two issues.&lt;/p&gt;

&lt;p&gt;LGTM (informal review). &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15412488" author="abrahamfine" created="Mon, 8 Aug 2016 21:16:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eribeiro&quot; class=&quot;user-hover&quot; rel=&quot;eribeiro&quot;&gt;eribeiro&lt;/a&gt; indeed, they are related. thanks for taking a look!&lt;/p&gt;</comment>
                            <comment id="15413937" author="phunt" created="Tue, 9 Aug 2016 18:10:19 +0000"  >&lt;p&gt;Looks good - however DEFAULT_EXIT_CODE is really the default error exit code, right? Can you change variable, e.g. DEFAULT_EXIT_CODE_ON_ERROR or something like that?&lt;/p&gt;</comment>
                            <comment id="15414166" author="hadoopqa" created="Tue, 9 Aug 2016 20:16:34 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12822869/ZOOKEEPER-2074_5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12822869/ZOOKEEPER-2074_5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1755379.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3344//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15415638" author="phunt" created="Wed, 10 Aug 2016 17:33:02 +0000"  >&lt;p&gt;Committed to 3.5.3 and Trunk. Thanks Abe!&lt;/p&gt;</comment>
                            <comment id="15415743" author="hudson" created="Wed, 10 Aug 2016 18:36:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #3030 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/3030/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/3030/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2074&quot; title=&quot;Incorrect exit codes for &amp;quot;./zkCli.sh cmd arg&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2074&quot;&gt;&lt;del&gt;ZOOKEEPER-2074&lt;/del&gt;&lt;/a&gt;: Incorrect exit codes for &apos;./zkCli.sh cmd arg&apos; (Abraham Fine via phunt) (phunt: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1755786&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1755786&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/cli/CliException.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/ZooKeeperTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12702650">ZOOKEEPER-1898</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12680173" name="ZOOKEEPER-2074_1.patch" size="667" author="surendralilhore" created="Fri, 7 Nov 2014 14:52:24 +0000"/>
                            <attachment id="12695967" name="ZOOKEEPER-2074_2.patch" size="1247" author="surendralilhore" created="Mon, 2 Feb 2015 18:35:42 +0000"/>
                            <attachment id="12707442" name="ZOOKEEPER-2074_3.patch" size="12282" author="surendralilhore" created="Thu, 26 Mar 2015 06:34:05 +0000"/>
                            <attachment id="12822618" name="ZOOKEEPER-2074_4.patch" size="1771" author="abrahamfine" created="Mon, 8 Aug 2016 17:44:06 +0000"/>
                            <attachment id="12822869" name="ZOOKEEPER-2074_5.patch" size="1811" author="abrahamfine" created="Tue, 9 Aug 2016 19:58:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i223lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>