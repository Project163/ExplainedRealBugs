<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-1460] IPv6 literal address not supported for quorum members</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1460</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Via code inspection, I see that the &quot;server.nnn&quot; configuration key does not support literal IPv6 addresses because the property value is split on &quot;:&quot;. In v3.4.3, the problem is in QuorumPeerConfig:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;String parts[] = value.split(&quot;:&quot;);
InetSocketAddress addr = new InetSocketAddress(parts[0],
                        Integer.parseInt(parts[1]));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the current trunk (&lt;a href=&quot;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java?view=markup&lt;/a&gt;) this code has been refactored into QuorumPeer.QuorumServer, but the bug remains:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;String serverClientParts[] = addressStr.split(&quot;;&quot;);
String serverParts[] = serverClientParts[0].split(&quot;:&quot;);
addr = new InetSocketAddress(serverParts[0],
                        Integer.parseInt(serverParts[1]));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This bug probably affects very few users because most will naturally use a hostname rather than a literal IP address. But given that IPv6 addresses are supported for clients via &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-667&quot; title=&quot;java client doesn&amp;#39;t allow ipv6 numeric connect string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-667&quot;&gt;&lt;del&gt;ZOOKEEPER-667&lt;/del&gt;&lt;/a&gt; it seems that server support should be fixed too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12553409">ZOOKEEPER-1460</key>
            <summary>IPv6 literal address not supported for quorum members</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joe@kafsemo.org">Joseph Walton</assignee>
                                    <reporter username="cdolan">Chris Dolan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Apr 2012 19:49:30 +0000</created>
                <updated>Thu, 21 Jul 2016 20:18:19 +0000</updated>
                            <resolved>Thu, 23 Jun 2016 20:21:13 +0000</resolved>
                                    <version>3.4.3</version>
                                    <fixVersion>3.5.2</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>quorum</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>19</watches>
                                                                                                                <comments>
                            <comment id="13892280" author="liping" created="Wed, 5 Feb 2014 16:33:13 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Is anyone looking into this issue?&lt;br/&gt;
In our env, we do not want to depend on dns.  So it is better if we have an official fix for it.  Thanks.&lt;/p&gt;

&lt;p&gt;Liping&lt;/p&gt;</comment>
                            <comment id="14061665" author="woopi" created="Tue, 15 Jul 2014 04:55:24 +0000"  >&lt;p&gt;We should use a typical IPv6 address/port configuration like &lt;/p&gt;

&lt;p&gt;server.1=&lt;span class=&quot;error&quot;&gt;&amp;#91;1234::f4b5:3fff:fe0f:e96e&amp;#93;&lt;/span&gt;:2888:3888 &lt;/p&gt;

&lt;p&gt;in the case of literal IPv6 addresses. I think this would be more handy than splitting the configuration in several different properties (host/port) like in the client case.&lt;/p&gt;

&lt;p&gt;From my point of view this issue is not a IPv6 show stopper, because especially in the IPv6 case there are hostnames defined in DNS of /etc/hosts. If we use the hostnames the configuration is no problem.&lt;/p&gt;</comment>
                            <comment id="14332014" author="joe@kafsemo.org" created="Sun, 22 Feb 2015 04:04:32 +0000"  >&lt;p&gt;I&apos;ve attached a patch to accept that syntax. Before splitting by &lt;tt&gt;:&lt;/tt&gt; it attempts to extract a square-bracket-delimited component at the start of the string, and then splits the remainder as before.&lt;/p&gt;

&lt;p&gt;Tests for parsing are included.&lt;/p&gt;</comment>
                            <comment id="14744882" author="boying" created="Tue, 15 Sep 2015 05:59:08 +0000"  >&lt;p&gt;Can we fix it in ZK 3.5.0?&lt;/p&gt;</comment>
                            <comment id="14744901" author="rgs" created="Tue, 15 Sep 2015 06:06:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boying&quot; class=&quot;user-hover&quot; rel=&quot;boying&quot;&gt;boying&lt;/a&gt;: sure, mind rebasing the patch on top of master?&lt;/p&gt;</comment>
                            <comment id="14744903" author="rgs" created="Tue, 15 Sep 2015 06:09:07 +0000"  >&lt;p&gt;lgtm, though I did wish we had Guava so we didnt&apos; have to write our own validators &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;: can I get an extra +1 and then I&apos;ll merge (once it&apos;s rebased). Thanks!&lt;/p&gt;</comment>
                            <comment id="14745633" author="hdeng" created="Tue, 15 Sep 2015 15:50:19 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Thanks Raul for raising it up. I did remember there is some IPV6 issues.&lt;/p&gt;</comment>
                            <comment id="14745687" author="cnauroth" created="Tue, 15 Sep 2015 16:31:19 +0000"  >&lt;p&gt;The logic looks good, but the rebase will be significant, because &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2171&quot; title=&quot;avoid reverse lookups in QuorumCnxManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2171&quot;&gt;&lt;del&gt;ZOOKEEPER-2171&lt;/del&gt;&lt;/a&gt; removed the &lt;tt&gt;HostNameUtils&lt;/tt&gt; class.&lt;/p&gt;

&lt;p&gt;I suggest that we wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt; to get finalized and committed before we rebase and commit this.  I think that will minimize churn on resolving merge conflicts.  That will also give us a chance to make sure this patch remains consistent with the final version of the &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt; patch.&lt;/p&gt;

&lt;p&gt;I&apos;d be happy to help with a review on the final rebased patch.  Thawan, thank you for contributing!&lt;/p&gt;</comment>
                            <comment id="14745747" author="rgs" created="Tue, 15 Sep 2015 17:06:31 +0000"  >&lt;p&gt;You are right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, thanks!&lt;/p&gt;</comment>
                            <comment id="14746693" author="boying" created="Wed, 16 Sep 2015 02:29:13 +0000"  >&lt;p&gt;Thanks a lot !&lt;br/&gt;
Can we get it fixed in 3.5.0 release? &lt;/p&gt;</comment>
                            <comment id="14746728" author="boying" created="Wed, 16 Sep 2015 03:03:13 +0000"  >&lt;p&gt;I can help to test the patch.&lt;/p&gt;</comment>
                            <comment id="14746825" author="cnauroth" created="Wed, 16 Sep 2015 04:24:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we get it fixed in 3.5.0 release?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, I think so.  We just need the patch rebased against the current version of the codebase.&lt;/p&gt;

&lt;p&gt;I just realized the original patch was contributed by Joseph Walton, so I&apos;ve updated the assignee.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joe%40kafsemo.org&quot; class=&quot;user-hover&quot; rel=&quot;joe@kafsemo.org&quot;&gt;joe@kafsemo.org&lt;/a&gt;, are you able to create another version of this patch that applies to the current trunk branch?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I can help to test the patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boying&quot; class=&quot;user-hover&quot; rel=&quot;boying&quot;&gt;boying&lt;/a&gt;, thank you for the offer to help test!&lt;/p&gt;</comment>
                            <comment id="14746887" author="boying" created="Wed, 16 Sep 2015 05:17:30 +0000"  >&lt;p&gt;Please let me know when the patch is ready for test. I can test it on ZK 3.5.0&lt;/p&gt;</comment>
                            <comment id="14768969" author="joe@kafsemo.org" created="Wed, 16 Sep 2015 13:56:25 +0000"  >&lt;p&gt;I&apos;ve attached the previous patch rebased against r1702378.&lt;/p&gt;</comment>
                            <comment id="14791005" author="cnauroth" created="Wed, 16 Sep 2015 19:39:02 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joe%40kafsemo.org&quot; class=&quot;user-hover&quot; rel=&quot;joe@kafsemo.org&quot;&gt;joe@kafsemo.org&lt;/a&gt;!  I&apos;m submitting this for our pre-commit test run.  FYI, in the future, you can do this by clicking the Submit Patch button.&lt;/p&gt;</comment>
                            <comment id="14791045" author="hadoopqa" created="Wed, 16 Sep 2015 20:07:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756254/ZOOKEEPER-1460-accept-square-bracket-delimited-IPv6-literals.2.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756254/ZOOKEEPER-1460-accept-square-bracket-delimited-IPv6-literals.2.diff&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1702378.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2879//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2879//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14791064" author="cnauroth" created="Wed, 16 Sep 2015 20:17:03 +0000"  >&lt;p&gt;I&apos;m attaching the same patch, reformatted with &lt;tt&gt;git diff --no-prefix&lt;/tt&gt; to satisfy pre-commit.&lt;/p&gt;</comment>
                            <comment id="14791172" author="hadoopqa" created="Wed, 16 Sep 2015 21:40:31 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756346/ZOOKEEPER-1460.003.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756346/ZOOKEEPER-1460.003.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1702378.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2880//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14791623" author="boying" created="Thu, 17 Sep 2015 06:08:59 +0000"  >&lt;p&gt;The patch 1460.003 can&apos;t be applied to the 3.5.0-alpha codebase directly.&lt;br/&gt;
So I made a patch for 3.5.0-alpha with some minor changes.&lt;/p&gt;

&lt;p&gt;I&apos;ve tested the patch in my IPv6 environment and it works well.&lt;/p&gt;</comment>
                            <comment id="14791651" author="hadoopqa" created="Thu, 17 Sep 2015 06:29:46 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756423/ZOOKEEPER-1460-for-3.5.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756423/ZOOKEEPER-1460-for-3.5.0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1702378.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2881//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2881//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14805048" author="boying" created="Fri, 18 Sep 2015 06:22:57 +0000"  >&lt;p&gt;Is there anything else I can do to get it fixed in ZK 3.5.0 ?&lt;/p&gt;</comment>
                            <comment id="14876636" author="cnauroth" created="Fri, 18 Sep 2015 22:54:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there anything else I can do to get it fixed in ZK 3.5.0 ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boying&quot; class=&quot;user-hover&quot; rel=&quot;boying&quot;&gt;boying&lt;/a&gt;, you&apos;ve been very helpful already, and thank you!&lt;/p&gt;

&lt;p&gt;At this point, the plan is to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt; to finish and get committed first.  Depending on the final outcome of the &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt; patch, we might need to rebase this once again and do another pre-commit test run.&lt;/p&gt;

&lt;p&gt;After that, if you want to help more, then I suggest watching the dev@zookeeper.apache.org list for an announcement of the next 3.5.x release candidate.  When that&apos;s published, you could download it, repeat your testing with the release candidate, and then reply to dev@zookeeper.apache.org with a +1 (or -1 if you found something wrong).  That would give us confidence that the fix made it into the release candidate correctly.&lt;/p&gt;</comment>
                            <comment id="14900147" author="boying" created="Mon, 21 Sep 2015 02:12:47 +0000"  >&lt;p&gt;OK, got it. I want ot get this fixed in ZK 3.5.0, so can we add the &apos;3.5.0&apos; to the &apos;Fix Version&apos; list of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14900881" author="cnauroth" created="Mon, 21 Sep 2015 15:55:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;I want to get this fixed in ZK 3.5.0, so can we add the &apos;3.5.0&apos; to the &apos;Fix Version&apos; list of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just to clarify, the next release in the 3.5 line will be 3.5.2.  I don&apos;t recall if the plan is for that one to still be labeled alpha or beta, but the number is going to be 3.5.2.&lt;/p&gt;

&lt;p&gt;I&apos;ve updated fix version on this issue to show 3.5.2 and 3.6.0 (trunk).&lt;/p&gt;</comment>
                            <comment id="14900889" author="fpj" created="Mon, 21 Sep 2015 16:01:24 +0000"  >&lt;p&gt;I don&apos;t think we have agreed on removing the alpha label for the next release, but it sounds reasonable if the community feels it is stable enough for regular production use.&lt;/p&gt;</comment>
                            <comment id="14910068" author="boying" created="Mon, 28 Sep 2015 06:05:35 +0000"  >&lt;p&gt;Since the &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1506&quot; title=&quot;Re-try DNS hostname -&amp;gt; IP resolution if node connection fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1506&quot;&gt;&lt;del&gt;ZOOKEEPER-1506&lt;/del&gt;&lt;/a&gt; has been checked in, can we check in the patch now?&lt;/p&gt;</comment>
                            <comment id="14957835" author="cnauroth" created="Wed, 14 Oct 2015 21:32:13 +0000"  >&lt;p&gt;I am +1 for patch v003.  I plan to commit this to trunk and branch-3.5.  I&apos;ll wait until Friday, 10/16, before committing, just in case any other committers want to give it one last look.&lt;/p&gt;</comment>
                            <comment id="14962503" author="cnauroth" created="Sun, 18 Oct 2015 17:02:27 +0000"  >&lt;p&gt;I have committed this to trunk and branch-3.5.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joe%40kafsemo.org&quot; class=&quot;user-hover&quot; rel=&quot;joe@kafsemo.org&quot;&gt;joe@kafsemo.org&lt;/a&gt;, thank you for contributing the patch.&lt;/p&gt;

&lt;p&gt;Thank you also to everyone who helped with code review and testing: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boying&quot; class=&quot;user-hover&quot; rel=&quot;boying&quot;&gt;boying&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14962517" author="hudson" created="Sun, 18 Oct 2015 17:24:40 +0000"  >&lt;p&gt;FAILURE: Integrated in ZooKeeper-trunk #2803 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2803/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2803/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1460&quot; title=&quot;IPv6 literal address not supported for quorum members&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1460&quot;&gt;&lt;del&gt;ZOOKEEPER-1460&lt;/del&gt;&lt;/a&gt;: IPv6 literal address not supported for quorum members (Joseph Walton via cnauroth) (cnauroth: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1709293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1709293&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
	&lt;li&gt;trunk/src/java/test/org/apache/zookeeper/server/quorum/QuorumServerTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14969146" author="rakeshr" created="Thu, 22 Oct 2015 13:23:09 +0000"  >&lt;p&gt;Thanks all for taking care this. I think we could consider this fix to branch-3.4 as well.&lt;br/&gt;
cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joe%40kafsemo.org&quot; class=&quot;user-hover&quot; rel=&quot;joe@kafsemo.org&quot;&gt;joe@kafsemo.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please see branch-3.4 logic:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/blob/branch-3.4/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java#L182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;QuorumPeerConfig.java#L182&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/zookeeper/blob/branch-3.4/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java#L215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;QuorumPeerConfig.java#L215&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;value.split(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14988514" author="cnauroth" created="Tue, 3 Nov 2015 23:59:01 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt;.  Were you interested in getting this into the soon-to-come 3.4.7 release?  I believe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; plans to get rolling on that soon.  I&apos;m not sure I&apos;ll have time myself to rebase this patch for branch-3.4 soon enough.  If someone else would like to do so, then I&apos;d be happy to squeeze in a code review though.&lt;/p&gt;</comment>
                            <comment id="14988898" author="rakeshr" created="Wed, 4 Nov 2015 05:12:19 +0000"  >&lt;p&gt;OK, it need not be in 3.4.7 release until someone wants this urgently. I&apos;m just reopening this issue to back port the changes to branch-3.4, otw we may forget about this task (tracking purpose).&lt;/p&gt;</comment>
                            <comment id="15037509" author="benedict jin" created="Thu, 3 Dec 2015 08:48:12 +0000"  >&lt;p&gt;Why did &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt; comment out those following code in line 821?&lt;br/&gt;
```java&lt;br/&gt;
       // if (!getView().containsKey(myid)) &lt;/p&gt;
{
      //      throw new RuntimeException(&quot;My id &quot; + myid + &quot; not in the peer list&quot;);
        //}
&lt;p&gt;```&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15038719" author="cnauroth" created="Thu, 3 Dec 2015 22:24:03 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict+jin&quot; class=&quot;user-hover&quot; rel=&quot;benedict jin&quot;&gt;benedict jin&lt;/a&gt;.  That code was not commented out as part of this patch.  Instead, &lt;tt&gt;git blame&lt;/tt&gt; traces that to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-107&quot; title=&quot;Allow dynamic changes to server cluster membership&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-107&quot;&gt;&lt;del&gt;ZOOKEEPER-107&lt;/del&gt;&lt;/a&gt; (dynamic reconfiguration).&lt;/p&gt;</comment>
                            <comment id="15039612" author="benedict jin" created="Fri, 4 Dec 2015 02:19:57 +0000"  >&lt;p&gt;I see, &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-107&quot; title=&quot;Allow dynamic changes to server cluster membership&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-107&quot;&gt;&lt;del&gt;ZOOKEEPER-107&lt;/del&gt;&lt;/a&gt; changed that for adding/removing hosts to/from the server cluster dynamically. Thank you, my fault.&lt;/p&gt;</comment>
                            <comment id="15049358" author="cnauroth" created="Wed, 9 Dec 2015 20:35:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;rakeshr&lt;/a&gt;, since we&apos;ve shipped 3.4.7, do you mind if I commit this to branch-3.4 now?&lt;/p&gt;</comment>
                            <comment id="15050147" author="rgs" created="Thu, 10 Dec 2015 06:11:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;: please go ahead - thanks!&lt;/p&gt;</comment>
                            <comment id="15051596" author="cnauroth" created="Thu, 10 Dec 2015 20:26:13 +0000"  >&lt;p&gt;I just realized that we don&apos;t actually have a patch applicable to branch-3.4 ready to go, so I can&apos;t proceed with the commit immediately.  If someone wants to rebase to branch-3.4, then I&apos;ll review and commit it.  Otherwise, I&apos;ll put this into my queue and rebase later when I get some free time.&lt;/p&gt;</comment>
                            <comment id="15135489" author="rgs" created="Sat, 6 Feb 2016 02:42:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;: lets target this in 3.4.9 - thanks!&lt;/p&gt;</comment>
                            <comment id="15225356" author="patrickwhite" created="Tue, 5 Apr 2016 00:11:37 +0000"  >&lt;p&gt;Super naive port of the other IPv6 patch to branch-3.4&lt;/p&gt;</comment>
                            <comment id="15225360" author="patrickwhite" created="Tue, 5 Apr 2016 00:16:22 +0000"  >&lt;p&gt;Very naive. Didn&apos;t update tests, since I was afraid of breaking anything on folks that didn&apos;t have v6 loopbacks. Though, I did push it to a test cluster that happily ate the config and joined the ensemble.&lt;/p&gt;

&lt;p&gt;Also happy to go back and help with updating tests, etc (provided somebody is willing to hold my hand - I&apos;m new to the zookeeper game)&lt;/p&gt;</comment>
                            <comment id="15225394" author="hadoopqa" created="Tue, 5 Apr 2016 00:38:34 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12796945/ZOOKEEPER-1460-branch3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12796945/ZOOKEEPER-1460-branch3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1736259.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3136//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3136//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15273134" author="phunt" created="Thu, 5 May 2016 21:35:31 +0000"  >&lt;p&gt;Updated the patch so that it will apply cleanly against branch 3.4.&lt;/p&gt;</comment>
                            <comment id="15273259" author="hadoopqa" created="Thu, 5 May 2016 22:45:25 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12802534/ZOOKEEPER-1460-branch3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12802534/ZOOKEEPER-1460-branch3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1742472.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3158//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3158//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15273263" author="patrickwhite" created="Thu, 5 May 2016 22:48:54 +0000"  >&lt;p&gt;So, when I did this it broke InitialMessages in QuorumCnxManager (line 196ish)&lt;/p&gt;

&lt;p&gt;I have a bigger patch that uses formatted/bracketed IPv6 in the identifiers being sent around, happy to post that if that&apos;s a reasonable way to solve the issue.&lt;/p&gt;</comment>
                            <comment id="15342875" author="cnauroth" created="Tue, 21 Jun 2016 22:17:55 +0000"  >&lt;p&gt;If we don&apos;t finalize the patch for branch-3.4 by Thursday, 6/23, 12 noon PST, then I&apos;m going to resolve this issue as fixed for the impending 3.5.2 release.  Then, I&apos;ll file a separate issue to track a backport targeted to release 3.4.9.&lt;/p&gt;</comment>
                            <comment id="15347104" author="cnauroth" created="Thu, 23 Jun 2016 20:21:13 +0000"  >&lt;p&gt;I am resolving this issue as fixed for the 3.5.2 release.  I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2452&quot; title=&quot;Back-port ZOOKEEPER-1460 to 3.4 for IPv6 literal address support.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2452&quot;&gt;&lt;del&gt;ZOOKEEPER-2452&lt;/del&gt;&lt;/a&gt; as a separate issue to track back-porting to branch-3.4.  If anyone is interested in watching progress or possibly contributing a branch-3.4 patch, then please watch that issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joe%40kafsemo.org&quot; class=&quot;user-hover&quot; rel=&quot;joe@kafsemo.org&quot;&gt;joe@kafsemo.org&lt;/a&gt;, thank you for contributing the patch.  Thank you also to all of the contributors who helped with code review and testing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12982448">ZOOKEEPER-2452</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12756254" name="ZOOKEEPER-1460-accept-square-bracket-delimited-IPv6-literals.2.diff" size="6113" author="joe@kafsemo.org" created="Wed, 16 Sep 2015 13:56:25 +0000"/>
                            <attachment id="12700070" name="ZOOKEEPER-1460-accept-square-bracket-delimited-IPv6-literals.diff" size="6144" author="joe@kafsemo.org" created="Sun, 22 Feb 2015 04:04:32 +0000"/>
                            <attachment id="12802534" name="ZOOKEEPER-1460-branch3.4.patch" size="1669" author="phunt" created="Thu, 5 May 2016 21:35:31 +0000"/>
                            <attachment id="12796945" name="ZOOKEEPER-1460-branch3.4.patch" size="1777" author="patrickwhite" created="Tue, 5 Apr 2016 00:11:37 +0000"/>
                            <attachment id="12756423" name="ZOOKEEPER-1460-for-3.5.0.patch" size="6052" author="boying" created="Thu, 17 Sep 2015 06:08:59 +0000"/>
                            <attachment id="12756346" name="ZOOKEEPER-1460.003.patch" size="6097" author="cnauroth" created="Wed, 16 Sep 2015 20:17:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>237568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02jnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>IPv6 addresses are now properly parsed in the config</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>