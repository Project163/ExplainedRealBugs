<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2213] Empty path in Set crashes server and prevents restart</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2213</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://github.com/samuel/go-zookeeper/issues/62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/samuel/go-zookeeper/issues/62&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve reproduced this on 3.4.5 with the code:&lt;br/&gt;
        c, _, _ := zk.Connect([]string&lt;/p&gt;
{&quot;127.0.0.1&quot;}
&lt;p&gt;, time.Second)&lt;br/&gt;
        c.Set(&quot;&quot;, []byte{}, 0)&lt;/p&gt;

&lt;p&gt;This crashes a local zookeeper 3.4.5 server:&lt;br/&gt;
2015-06-10 16:21:10,862 &lt;span class=&quot;error&quot;&gt;&amp;#91;myid:&amp;#93;&lt;/span&gt; - ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:0:SyncRequestProcessor@151&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting  &lt;br/&gt;
java.lang.IllegalArgumentException: Invalid path&lt;br/&gt;
        at org.apache.zookeeper.common.PathTrie.findMaxPrefix(PathTrie.java:259)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.getMaxPrefixWithQuota(DataTree.java:634)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.setData(DataTree.java:616)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.processTxn(DataTree.java:807)&lt;br/&gt;
        at org.apache.zookeeper.server.ZKDatabase.processTxn(ZKDatabase.java:329)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServer.processTxn(ZooKeeperServer.java:965)&lt;br/&gt;
        at org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:116)&lt;br/&gt;
        at org.apache.zookeeper.server.SyncRequestProcessor.flush(SyncRequestProcessor.java:167)&lt;br/&gt;
        at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:101)&lt;/p&gt;

&lt;p&gt;On restart the zookeeper server crashes out:&lt;br/&gt;
2015-06-10 16:22:21,352 &lt;span class=&quot;error&quot;&gt;&amp;#91;myid:&amp;#93;&lt;/span&gt; - ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main:ZooKeeperServerMain@54&amp;#93;&lt;/span&gt; - Invalid arguments, exiting abnormally&lt;br/&gt;
java.lang.IllegalArgumentException: Invalid path&lt;br/&gt;
        at org.apache.zookeeper.common.PathTrie.findMaxPrefix(PathTrie.java:259)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.getMaxPrefixWithQuota(DataTree.java:634)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.setData(DataTree.java:616)&lt;br/&gt;
        at org.apache.zookeeper.server.DataTree.processTxn(DataTree.java:807)&lt;br/&gt;
        at org.apache.zookeeper.server.persistence.FileTxnSnapLog.processTransaction(FileTxnSnapLog.java:198)&lt;br/&gt;
        at org.apache.zookeeper.server.persistence.FileTxnSnapLog.restore(FileTxnSnapLog.java:151)&lt;br/&gt;
        at org.apache.zookeeper.server.ZKDatabase.loadDataBase(ZKDatabase.java:223)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServer.loadData(ZooKeeperServer.java:250)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServer.startdata(ZooKeeperServer.java:377)&lt;br/&gt;
        at org.apache.zookeeper.server.NIOServerCnxnFactory.startup(NIOServerCnxnFactory.java:122)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServerMain.runFromConfig(ZooKeeperServerMain.java:112)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServerMain.initializeAndRun(ZooKeeperServerMain.java:86)&lt;br/&gt;
        at org.apache.zookeeper.server.ZooKeeperServerMain.main(ZooKeeperServerMain.java:52)&lt;br/&gt;
        at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:116)&lt;br/&gt;
        at org.apache.zookeeper.server.quorum.QuorumPeerMain.main(QuorumPeerMain.java:78)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12836857">ZOOKEEPER-2213</key>
            <summary>Empty path in Set crashes server and prevents restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hdeng">Hongchao Deng</assignee>
                                    <reporter username="brianbrazil">Brian Brazil</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jun 2015 15:29:23 +0000</created>
                <updated>Mon, 29 Jun 2015 17:43:47 +0000</updated>
                            <resolved>Thu, 11 Jun 2015 18:16:00 +0000</resolved>
                                    <version>3.4.5</version>
                                    <fixVersion>3.4.7</fixVersion>
                    <fixVersion>3.5.1</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14580676" author="brianbrazil" created="Wed, 10 Jun 2015 15:48:56 +0000"  >&lt;p&gt;This bug only appears to affect Set.&lt;/p&gt;</comment>
                            <comment id="14580691" author="hdeng" created="Wed, 10 Jun 2015 15:55:23 +0000"  >&lt;p&gt;It seems that ZK java client does a lot of checking locally before sending the packets to server:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/blob/26e8dd6e90726997a37965ef469e37a96ef7085f/src/java/main/org/apache/zookeeper/common/PathUtils.java#L43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/26e8dd6e90726997a37965ef469e37a96ef7085f/src/java/main/org/apache/zookeeper/common/PathUtils.java#L43&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As a result, if the server receives any kind of wrong path, it breaks the assumption:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/blob/26e8dd6e90726997a37965ef469e37a96ef7085f/src/java/main/org/apache/zookeeper/common/PathTrie.java#L258-L260&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/26e8dd6e90726997a37965ef469e37a96ef7085f/src/java/main/org/apache/zookeeper/common/PathTrie.java#L258-L260&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Such a user error shouldn&apos;t break server down. We can either return an error to client or just close the connection. Let me think about it more.&lt;/p&gt;</comment>
                            <comment id="14580710" author="rgs" created="Wed, 10 Jun 2015 16:06:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;: so in PrepRequestProcessor we call PathUtils.validatePath() on create:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/server/PrepRequestProcessor.java#L388&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/server/PrepRequestProcessor.java#L388&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but not for anything else. We should do it for probably all ops. &lt;/p&gt;</comment>
                            <comment id="14580937" author="hdeng" created="Wed, 10 Jun 2015 18:41:48 +0000"  >&lt;p&gt;There is one more thing I&apos;m not sure.&lt;/p&gt;

&lt;p&gt;I thought SetData should return a NoNodeException but it didn&apos;t. That&apos;s because datatree treats empty string also as the root &quot;/&quot;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/zookeeper/blob/71401b4842b0486716f96d9ea3060d4fba65be96/src/java/main/org/apache/zookeeper/server/DataTree.java#L292&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/blob/71401b4842b0486716f96d9ea3060d4fba65be96/src/java/main/org/apache/zookeeper/server/DataTree.java#L292&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is inconsistent assumption because path checking thinks that empty string is invalid..&lt;/p&gt;

&lt;p&gt;Anyway, I agree with Raul that to fix this we only need to add validatePath() for SetData and SetACL. It&apos;s more stable to add the checking.&lt;/p&gt;
</comment>
                            <comment id="14581306" author="rgs" created="Thu, 11 Jun 2015 01:00:51 +0000"  >&lt;p&gt;Some nits:&lt;/p&gt;

&lt;p&gt;In:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void validatePath(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; sessionId) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; BadArgumentsException {
+        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+            PathUtils.validatePath(path);
+        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(IllegalArgumentException ie) {
+            LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Invalid path {} with session 0x{}&quot;&lt;/span&gt;, path, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.toHexString(sessionId));
+            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KeeperException.BadArgumentsException(path);
+        }
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;given that we import KeeperException.BadArgumentsException, you can just do throw new BadArgumentsException(path).&lt;/p&gt;

&lt;p&gt;Grammar nit in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+     * It tests that &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; PrepRequestProcessor will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; BadArgument KeeperException
+     * &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the request path (&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; existed) is not valid, e.g. empty string.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;Tests that PrepRequestProcessor will ...&quot;&lt;/li&gt;
	&lt;li&gt;(if it exists)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Other than that, +1. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14581309" author="hadoopqa" created="Thu, 11 Jun 2015 01:05:31 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12738956/ZOOKEEPER-2213.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12738956/ZOOKEEPER-2213.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1683878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2759//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14581328" author="hdeng" created="Thu, 11 Jun 2015 01:44:33 +0000"  >&lt;p&gt;Addressed comments and fix findbugs warning.&lt;/p&gt;</comment>
                            <comment id="14581337" author="hdeng" created="Thu, 11 Jun 2015 01:56:32 +0000"  >&lt;p&gt;I will come up with a patch for 3.4 branch if there is no other comment for current patch. Thanks! &lt;/p&gt;</comment>
                            <comment id="14581339" author="hadoopqa" created="Thu, 11 Jun 2015 01:58:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12738963/ZOOKEEPER-2213.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12738963/ZOOKEEPER-2213.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1683878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2760//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14581466" author="rgs" created="Thu, 11 Jun 2015 05:36:21 +0000"  >&lt;p&gt;The findbugs warnings are unrelated to this bug though (i.e.: the changes in src/java/main/org/apache/zookeeper/server/quorum/LearnerHandler.java). Should we not do that in a separate commit? Sorry for push back, but keep the commits separate is a good thing in the long run (specially when reviewing history, etc). &lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="14581467" author="rgs" created="Thu, 11 Jun 2015 05:37:09 +0000"  >&lt;p&gt;(Other than that, +1 again. But if possible, please less do the findbugs warnings in a separate patch). &lt;/p&gt;</comment>
                            <comment id="14582132" author="hdeng" created="Thu, 11 Jun 2015 15:49:34 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for the suggestion. I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2214&quot; title=&quot;Findbugs warning: LearnerHandler.packetToString Dead store to local variable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2214&quot;&gt;&lt;del&gt;ZOOKEEPER-2214&lt;/del&gt;&lt;/a&gt; to fix the findbugs warning.&lt;br/&gt;
The latest patch cleans up that part out.&lt;/p&gt;</comment>
                            <comment id="14582149" author="rgs" created="Thu, 11 Jun 2015 16:00:39 +0000"  >&lt;p&gt;lgtm, +1. &lt;/p&gt;</comment>
                            <comment id="14582153" author="hadoopqa" created="Thu, 11 Jun 2015 16:03:45 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739075/ZOOKEEPER-2213.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739075/ZOOKEEPER-2213.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1683878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2762//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14582155" author="rgs" created="Thu, 11 Jun 2015 16:05:34 +0000"  >&lt;p&gt;we can ignore the failure, it&apos;s our old friend TestReconfig.cc:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;     [exec]      [exec] /home/jenkins/jenkins-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/tests/TestReconfig.cc:183: Assertion: equality assertion failed [Expected: 1, Actual  : 0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14582167" author="hdeng" created="Thu, 11 Jun 2015 16:15:43 +0000"  >&lt;p&gt;Thanks for the review.&lt;/p&gt;

&lt;p&gt;I will submit a patch for 3.4 branch shortly.&lt;/p&gt;</comment>
                            <comment id="14582199" author="hdeng" created="Thu, 11 Jun 2015 16:41:49 +0000"  >&lt;p&gt;I wonder if we should add validation to OpCode.check too. I thought we might have missed that. I will add the check too.&lt;/p&gt;</comment>
                            <comment id="14582210" author="hdeng" created="Thu, 11 Jun 2015 16:53:17 +0000"  >&lt;p&gt;Latest patch added validation to OpCode.check too.&lt;/p&gt;

&lt;p&gt;Also submitted patch for branch-3.4&lt;/p&gt;</comment>
                            <comment id="14582244" author="hadoopqa" created="Thu, 11 Jun 2015 17:13:37 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739084/ZOOKEEPER-2213.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739084/ZOOKEEPER-2213.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1683878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2764//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14582319" author="rgs" created="Thu, 11 Jun 2015 18:16:00 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;trunk &lt;a href=&quot;https://github.com/apache/zookeeper/commit/d54ca1467db6d6a8619a3979e02e3ffc328f75f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/d54ca1467db6d6a8619a3979e02e3ffc328f75f2&lt;/a&gt;&lt;br/&gt;
3.5 &lt;a href=&quot;https://github.com/apache/zookeeper/commit/9972e78bd6c79b4ad9523c43ccb680e43240f70d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/9972e78bd6c79b4ad9523c43ccb680e43240f70d&lt;/a&gt;&lt;br/&gt;
3.4 &lt;a href=&quot;https://github.com/apache/zookeeper/commit/e0872bc73a0ea302e0848905ff3c5a894dab2954&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/e0872bc73a0ea302e0848905ff3c5a894dab2954&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hdeng&quot; class=&quot;user-hover&quot; rel=&quot;hdeng&quot;&gt;hdeng&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14583242" author="hudson" created="Fri, 12 Jun 2015 10:46:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2724 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2724/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2724/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2213&quot; title=&quot;Empty path in Set crashes server and prevents restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2213&quot;&gt;&lt;del&gt;ZOOKEEPER-2213&lt;/del&gt;&lt;/a&gt;: Empty path in Set crashes server and prevents restart&lt;br/&gt;
(Hongchao Deng via rgs) (rgs: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1684956&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1684956&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/PrepRequestProcessor.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/server/PrepRequestProcessorTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14605967" author="basantbibhar@gmail.com" created="Mon, 29 Jun 2015 17:43:47 +0000"  >&lt;p&gt;Empty path in Set crashes server and prevent restart.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739083" name="ZOOKEEPER-2213-branch34.patch" size="8183" author="hdeng" created="Thu, 11 Jun 2015 16:52:32 +0000"/>
                            <attachment id="12739084" name="ZOOKEEPER-2213.patch" size="7951" author="hdeng" created="Thu, 11 Jun 2015 16:52:38 +0000"/>
                            <attachment id="12739075" name="ZOOKEEPER-2213.patch" size="7324" author="hdeng" created="Thu, 11 Jun 2015 15:48:18 +0000"/>
                            <attachment id="12738963" name="ZOOKEEPER-2213.patch" size="8424" author="hdeng" created="Thu, 11 Jun 2015 01:44:33 +0000"/>
                            <attachment id="12738956" name="ZOOKEEPER-2213.patch" size="7341" author="hdeng" created="Thu, 11 Jun 2015 00:47:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fvtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>