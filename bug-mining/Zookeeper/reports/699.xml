<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:57:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[ZOOKEEPER-2193] reconfig command completes even if parameter is wrong obviously</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-2193</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Even if reconfig parameter is wrong, it was confirmed to complete.&lt;br/&gt;
refer to the following.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ensemble consists of four nodes&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[zk: vm-101:2181(CONNECTED) 0] config
server.1=192.168.100.101:2888:3888:participant
server.2=192.168.100.102:2888:3888:participant
server.3=192.168.100.103:2888:3888:participant
server.4=192.168.100.104:2888:3888:participant
version=100000000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;add node by reconfig command&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[zk: vm-101:2181(CONNECTED) 9] reconfig -add server.5=192.168.100.104:2888:3888:participant;0.0.0.0:2181
Committed new configuration:
server.1=192.168.100.101:2888:3888:participant
server.2=192.168.100.102:2888:3888:participant
server.3=192.168.100.103:2888:3888:participant
server.4=192.168.100.104:2888:3888:participant
server.5=192.168.100.104:2888:3888:participant;0.0.0.0:2181
version=300000007
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;server.4 and server.5 of the IP address is a duplicate.&lt;/p&gt;

&lt;p&gt;In this state, reader election will not work properly.&lt;br/&gt;
Besides, it is assumed an ensemble will be undesirable state.&lt;br/&gt;
I think that need a parameter validation when reconfig.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS7 + Java7&lt;/p&gt;</environment>
        <key id="12831323">ZOOKEEPER-2193</key>
            <summary>reconfig command completes even if parameter is wrong obviously</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Yasuhito Fukuda">Yasuhito Fukuda</assignee>
                                    <reporter username="Yasuhito Fukuda">Yasuhito Fukuda</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2015 09:38:23 +0000</created>
                <updated>Tue, 28 Jul 2015 06:49:10 +0000</updated>
                            <resolved>Sat, 27 Jun 2015 00:06:00 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.5.1</fixVersion>
                    <fixVersion>3.6.0</fixVersion>
                                    <component>leaderElection</component>
                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14552502" author="shralex" created="Wed, 20 May 2015 15:37:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;. Would be great if you could suggest a patch.&lt;br/&gt;
BTW, I&apos;m not sure that uniqueness of servers in the config is being checked during initial server boot either, not only in reconfig.&lt;/p&gt;</comment>
                            <comment id="14557948" author="yasuhito fukuda" created="Mon, 25 May 2015 03:41:11 +0000"  >&lt;p&gt;I&apos;ve created a patch for this issue.&lt;br/&gt;
When hostname and port are duplicate in joined ensemble node, it will be raised an exception.&lt;br/&gt;
This patch add validation for reconfig -add parameters, but it may not be exhaustive in other config processes.&lt;/p&gt;

&lt;p&gt;Your comments would be appreciated.&lt;/p&gt;</comment>
                            <comment id="14557955" author="mitake" created="Mon, 25 May 2015 03:56:34 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;IIUC, there is a possibility of duplicated addresses for different purposes e.g. clientAddr of new node == electionAddr of existing node.&lt;/p&gt;

&lt;p&gt;For checking duplication, 9 comparison per node pair would be required, I think.&lt;/p&gt;</comment>
                            <comment id="14558599" author="shralex" created="Tue, 26 May 2015 00:36:15 +0000"  >&lt;p&gt;Thanks for the patch! here are some comments:&lt;/p&gt;

&lt;p&gt;One can use reconfig -add to change the ports of a server dynamically, basically adding a server that is already in the system, with different ports. In that case it is possible that all the ports will be the same but one. To do this &quot;nextServers.remove(qs.id);&quot; removes the old spec of a server and the following line adds the new spec. To avoid checking a server against its old self,  I think that nextServers.remove(qs.id); should go before your checks.&lt;/p&gt;

&lt;p&gt;Also, why do you need joinedServers, isn&apos;t nextServers defined above your code sufficient ?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;, can you take a look as well ? do you know if the same address:port can be shared by different servers ? (please see comment above by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14558634" author="yasuhito fukuda" created="Tue, 26 May 2015 02:53:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mitake&quot; class=&quot;user-hover&quot; rel=&quot;mitake&quot;&gt;mitake&lt;/a&gt;, thanks for your comments.&lt;br/&gt;
I have recreated patch to reflect your comments.&lt;br/&gt;
please see patch v2. &lt;br/&gt;
loopback address(localhost/127.0.0.1) and wildCard address(0.0.0.0) may be same address:port by different servers, i think. So, I added the code to exclude them in validation.&lt;/p&gt;</comment>
                            <comment id="14558642" author="shralex" created="Tue, 26 May 2015 03:08:36 +0000"  >&lt;p&gt;Thanks! I&apos;ll take a closer look tomorrow, but as I mentioned, the line &quot; nextServers.remove(qs.id);&quot; should probably go before your changes, not after, otherwise we won&apos;t be able to change a server&apos;s port.&lt;/p&gt;</comment>
                            <comment id="14558665" author="hadoopqa" created="Tue, 26 May 2015 03:48:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12735241/ZOOKEEPER-2193-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12735241/ZOOKEEPER-2193-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1680994.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2711//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14558763" author="yasuhito fukuda" created="Tue, 26 May 2015 07:03:32 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;, Thank you for comment and submitting test run.&lt;br/&gt;
I&apos;ve added &quot;if statement&quot; for validation skip, in the case of configuration changes on the same server(ex. change port number).&lt;br/&gt;
Please see patch v3.&lt;/p&gt;</comment>
                            <comment id="14558773" author="hadoopqa" created="Tue, 26 May 2015 07:18:50 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12735261/ZOOKEEPER-2193-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12735261/ZOOKEEPER-2193-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1680994.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2712//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14566303" author="michim" created="Sun, 31 May 2015 02:25:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt; thank you for the patch! Could you post the patch to the reviewboard? &lt;a href=&quot;https://reviews.apache.org/r/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14566329" author="shralex" created="Sun, 31 May 2015 03:56:52 +0000"  >&lt;p&gt;3 more minor comments:&lt;/p&gt;

&lt;p&gt;1) I&apos;m not sure that my == null can ever happen both because of the checks in the calling function and because the exclude... function also excludes null. &lt;/p&gt;

&lt;p&gt;2) Perhaps rename &quot;existing&quot; to something else since its not only existing its also the joiners that were processed before. For example if someone is adding multiple servers with the same command. Similarly the message in the thrown exception shouldn&apos;t say that the conflict is with one of the existing servers because it may be with one of the new ones. &lt;/p&gt;

&lt;p&gt;3) Consider making the message in the exception more specific - such as &quot;port x of server #y conflicts with port x of server #z&quot;. &lt;/p&gt;</comment>
                            <comment id="14576840" author="yasuhito fukuda" created="Mon, 8 Jun 2015 09:45:03 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;, thanks for your comments.&lt;br/&gt;
I have created new patch reflected comments from Alexander, and posted on reviewboard.&lt;br/&gt;
Please see the review &lt;a href=&quot;https://reviews.apache.org/r/35204/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35204/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14578151" author="rgs" created="Tue, 9 Jun 2015 01:12:56 +0000"  >&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;, commented on a few issues/nits on the reviewboard. &lt;/p&gt;</comment>
                            <comment id="14578441" author="yasuhito fukuda" created="Tue, 9 Jun 2015 06:52:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; thanks for your review.&lt;br/&gt;
I posted new diff on the reviewboard.&lt;/p&gt;</comment>
                            <comment id="14579875" author="rgs" created="Wed, 10 Jun 2015 02:19:22 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt; - added some more comments. do you mind uploading the patch here as well, besides updating the reviewboard after you&apos;ve updated the patch? that way CI can run and we can see if all passes and we can merge the patch. thanks!&lt;/p&gt;</comment>
                            <comment id="14581651" author="yasuhito fukuda" created="Thu, 11 Jun 2015 08:12:10 +0000"  >&lt;p&gt;thanks for your comment and review.&lt;br/&gt;
I posted Rev3 on the reviewboard.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/35204/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35204/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, I attached three patches in JIRA now.&lt;br/&gt;
v4 and v5 are old patches only was posted on the reviewboard.&lt;br/&gt;
v6 is newest a patch.&lt;/p&gt;</comment>
                            <comment id="14581652" author="yasuhito fukuda" created="Thu, 11 Jun 2015 08:12:12 +0000"  >&lt;p&gt;thanks for your comment and review.&lt;br/&gt;
I posted Rev3 on the reviewboard.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/35204/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35204/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, I attached three patches in JIRA now.&lt;br/&gt;
v4 and v5 are old patches only was posted on the reviewboard.&lt;br/&gt;
v6 is newest a patch.&lt;/p&gt;</comment>
                            <comment id="14581673" author="hadoopqa" created="Thu, 11 Jun 2015 08:28:52 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739014/ZOOKEEPER-2193-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739014/ZOOKEEPER-2193-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1683878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2761//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14592274" author="rgs" created="Thu, 18 Jun 2015 18:34:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt; - do you get this failure when running the tests locally:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-11 08:24:41,482 [myid:] - INFO  [main:ZKTestCase$1@70] - FAILED testBadPeerAddressInQuorum
java.lang.AssertionError: complains about host
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="14592280" author="rgs" created="Thu, 18 Jun 2015 18:36:38 +0000"  >&lt;p&gt;The 3 failures actually look related to the patch (and not general flakiness in CI):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum
org.apache.zookeeper.test.CnxManagerTest.testCnxManagerTimeout
org.apache.zookeeper.test.ReconfigTest.testUnspecifiedClientAddress
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do these pass locally for you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14593142" author="yasuhito fukuda" created="Fri, 19 Jun 2015 07:34:03 +0000"  >&lt;p&gt;I am sorry. I did not check the unit-test result carefully.&lt;br/&gt;
cause of the 3 failures were returned null by getAddress() in excludedSpecialAddress() when a hostname wasn&apos;t lookup by dns or an address is wrong.&lt;br/&gt;
I&apos;ve attached the new patch. and, I&apos;ve posted new diff on the reviewboard.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/35204/diff/3-4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35204/diff/3-4/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14594269" author="hadoopqa" created="Sat, 20 Jun 2015 01:43:06 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12740593/ZOOKEEPER-2193-v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12740593/ZOOKEEPER-2193-v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1686296.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2773//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14595272" author="rgs" created="Mon, 22 Jun 2015 01:01:57 +0000"  >&lt;p&gt;Patch lgtm, +1. A few more nits though (but I wouldn&apos;t block merging on them):&lt;/p&gt;

&lt;p&gt;In:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+                        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; KeeperException.BadArgumentsException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%s of server.%d conflicts %s of server.%d&quot;&lt;/span&gt;, my, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.id, other, s.id));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the line is too long, maybe use an intermediate assignment to make it more readable:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;       &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; error = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%s of server.%d conflicts %s of server.%d&quot;&lt;/span&gt;, my, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.id, other, s.id);
       &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BadArgumentsException(error);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(also, you can just use BadArgumentsException without KeeperException. since it&apos;s imported).&lt;/p&gt;

&lt;p&gt;In:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;InetSocketAddress&amp;gt; excludedSpecialAddress(List&amp;lt;InetSocketAddress&amp;gt; addrs) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;how about we call the method excludeSpecialAddresses given it&apos;s an action?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;michim&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;: could you take another look as well?&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14595276" author="rgs" created="Mon, 22 Jun 2015 01:07:24 +0000"  >&lt;p&gt;One last nit, in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inetaddr == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+                &lt;span class=&quot;code-comment&quot;&gt;// wildCard address(0.0.0.0)
&lt;/span&gt;+                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inetaddr.equals(wcAddr)) {
+                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+                &lt;span class=&quot;code-comment&quot;&gt;// loopback address(localhost/127.0.0.1)
&lt;/span&gt;+                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inetaddr.isLoopbackAddress()) {
+                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+                    included.add(addr);
+                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you could simplify things a bit by having:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inetaddr == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ||
                    inetaddr.equals(wcAddr) ||
                    inetaddr.isLoopbackAddress()) {
                      &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
                }

                included.add(addr);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="14597155" author="yasuhito fukuda" created="Tue, 23 Jun 2015 04:42:06 +0000"  >&lt;p&gt;Thank you for your review. I attached v8 patch based on your comments.&lt;br/&gt;
and, I posted a new diff on the reviewboard.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/35204/diff/4-5/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35204/diff/4-5/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14597216" author="hadoopqa" created="Tue, 23 Jun 2015 06:00:37 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12741214/ZOOKEEPER-2193-v8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12741214/ZOOKEEPER-2193-v8.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1686767.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2775//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14597232" author="rgs" created="Tue, 23 Jun 2015 06:12:30 +0000"  >&lt;p&gt;Patch lgtm, +1. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;! Will wait for a final ack from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt; since he is more familiar with these bits.&lt;/p&gt;</comment>
                            <comment id="14597274" author="shralex" created="Tue, 23 Jun 2015 07:10:05 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;! and thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt; for reviewing.&lt;/p&gt;</comment>
                            <comment id="14597834" author="rgs" created="Tue, 23 Jun 2015 15:41:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;: Sorry, one last thing. I think there might be an issue in assuming unique IDs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+                               &lt;span class=&quot;code-comment&quot;&gt;// check duplication of addresses and ports
&lt;/span&gt;+                               &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (QuorumServer nqs: nextServers.values()) {
+                                   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (qs.id == nqs.id) {
+                                       &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+                                   }
+                                   qs.checkAddressDuplicate(nqs);
+                               }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is in it valid for Observers to have their id set to -1? In that case, the check wouldn&apos;t be performed. Could we add a test case for that?&lt;/p&gt;</comment>
                            <comment id="14598743" author="rgs" created="Wed, 24 Jun 2015 02:17:10 +0000"  >&lt;p&gt;A few more more nits since a test case will probably be needed, in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.zookeeper.KeeperException;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.zookeeper.KeeperException.BadArgumentsException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;there&apos;s no need to import KeeperException, only BadArgumentsException is needed. And in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-        
+        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;InetSocketAddress&amp;gt; myAddrs;
+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;myAddrs doesn&apos;t need to be public, it should be private.&lt;/p&gt;

&lt;p&gt;Finally, if you are updating the patch one more time you might as well rename excludedSpecialAddresses to removeSpecialAddresses for clarity. Thanks!&lt;/p&gt;</comment>
                            <comment id="14600800" author="yasuhito fukuda" created="Thu, 25 Jun 2015 07:10:19 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;.&lt;br/&gt;
Sorry, I don&apos;t understand. Why do observers&apos;s ids have -1 ?&lt;br/&gt;
Please tell me the details.&lt;/p&gt;</comment>
                            <comment id="14602296" author="shralex" created="Fri, 26 Jun 2015 02:33:39 +0000"  >&lt;p&gt;I don&apos;t think reconfiguration will work with non-unique ids. I&apos;m actually not sure that such observers would be in the config files. If I remember correctly an observer connects with -1 and then assigned an id by the system, but I&apos;m not sure about the details, can someone explain ? not sure someone is using this mode. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;phunt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14602999" author="fpj" created="Fri, 26 Jun 2015 14:58:23 +0000"  >&lt;p&gt;I remember that we wired QCM so that we could assign ids to observers automatically, but frankly I can&apos;t remember having finished the feature. I believe we still require observers to have unique ids in the config, but I can do some investigation to be sure.&lt;/p&gt;</comment>
                            <comment id="14603650" author="fpj" created="Fri, 26 Jun 2015 21:48:46 +0000"  >&lt;p&gt;We have added code to QCM so that observers could connect without providing a unique id, but I don&apos;t think the way we process configuration supports this feature currently. For example, we check if a peer is observing by checking the server id. The intent was to support this feature, though, to be able connect observers without having to change configuration.&lt;/p&gt;</comment>
                            <comment id="14603689" author="shralex" created="Fri, 26 Jun 2015 22:11:29 +0000"  >&lt;p&gt;I&apos;m not sure it would work with reconfig either. In any case, this should be discussed in a separate Jira (in case this is important to support)&lt;/p&gt;</comment>
                            <comment id="14603793" author="rgs" created="Fri, 26 Jun 2015 23:49:12 +0000"  >&lt;p&gt;Ok - thanks for checking &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt;. I&apos;ll go ahead and merge then. &lt;/p&gt;</comment>
                            <comment id="14603795" author="rgs" created="Fri, 26 Jun 2015 23:50:47 +0000"  >&lt;p&gt;I think it&apos;s been clarified below by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt; - we can ignore observers using non-unique (i.e.: -1) ids for now. I&apos;ll go ahead and merge. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14603812" author="rgs" created="Sat, 27 Jun 2015 00:06:00 +0000"  >&lt;p&gt;Merged:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/zookeeper/commit/86d9061bbd28e8230350146f64366f7e81519387&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/86d9061bbd28e8230350146f64366f7e81519387&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/zookeeper/commit/cca2a67578159a127c571a4b0abb4926e76a4dea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/zookeeper/commit/cca2a67578159a127c571a4b0abb4926e76a4dea&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yasuhito+Fukuda&quot; class=&quot;user-hover&quot; rel=&quot;Yasuhito Fukuda&quot;&gt;Yasuhito Fukuda&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14604118" author="hudson" created="Sat, 27 Jun 2015 10:46:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2739 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2739/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2739/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2193&quot; title=&quot;reconfig command completes even if parameter is wrong obviously&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2193&quot;&gt;&lt;del&gt;ZOOKEEPER-2193&lt;/del&gt;&lt;/a&gt;: reconfig command completes even if parameter is wrong obviously&lt;br/&gt;
(Yasuhito Fukuda via rgs) (rgs: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1687876&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1687876&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/PrepRequestProcessor.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14605255" author="yasuhito fukuda" created="Mon, 29 Jun 2015 08:11:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;fpj&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shralex&quot; class=&quot;user-hover&quot; rel=&quot;shralex&quot;&gt;shralex&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;, Thanks to you I was able to understand the feature and the current status of the feature.&lt;br/&gt;
Thanks for merge, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rgs&quot; class=&quot;user-hover&quot; rel=&quot;rgs&quot;&gt;rgs&lt;/a&gt;!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12735241" name="ZOOKEEPER-2193-v2.patch" size="3592" author="Yasuhito Fukuda" created="Tue, 26 May 2015 02:47:38 +0000"/>
                            <attachment id="12735261" name="ZOOKEEPER-2193-v3.patch" size="3797" author="Yasuhito Fukuda" created="Tue, 26 May 2015 07:02:08 +0000"/>
                            <attachment id="12739012" name="ZOOKEEPER-2193-v4.patch" size="3992" author="Yasuhito Fukuda" created="Thu, 11 Jun 2015 08:10:58 +0000"/>
                            <attachment id="12739013" name="ZOOKEEPER-2193-v5.patch" size="6414" author="Yasuhito Fukuda" created="Thu, 11 Jun 2015 08:10:58 +0000"/>
                            <attachment id="12739014" name="ZOOKEEPER-2193-v6.patch" size="6926" author="Yasuhito Fukuda" created="Thu, 11 Jun 2015 08:10:58 +0000"/>
                            <attachment id="12740593" name="ZOOKEEPER-2193-v7.patch" size="7005" author="Yasuhito Fukuda" created="Fri, 19 Jun 2015 07:29:05 +0000"/>
                            <attachment id="12741214" name="ZOOKEEPER-2193-v8.patch" size="6902" author="Yasuhito Fukuda" created="Tue, 23 Jun 2015 04:40:07 +0000"/>
                            <attachment id="12735107" name="ZOOKEEPER-2193.patch" size="1604" author="Yasuhito Fukuda" created="Mon, 25 May 2015 03:40:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ez9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>