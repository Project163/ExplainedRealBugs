{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581","repository_url":"https://api.github.com/repos/obsproject/obs-studio","labels_url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581/labels{/name}","comments_url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581/comments","events_url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581/events","html_url":"https://github.com/obsproject/obs-studio/issues/11581","id":2713488555,"node_id":"I_kwDOAMnsBs6hvIyr","number":11581,"title":"Crash in graphics-hook64.dll on call to vkCreateSwapchainKHR when using Vulkan Direct Display","user":{"login":"mbechard","id":3588417,"node_id":"MDQ6VXNlcjM1ODg0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/3588417?v=4","gravatar_id":"","url":"https://api.github.com/users/mbechard","html_url":"https://github.com/mbechard","followers_url":"https://api.github.com/users/mbechard/followers","following_url":"https://api.github.com/users/mbechard/following{/other_user}","gists_url":"https://api.github.com/users/mbechard/gists{/gist_id}","starred_url":"https://api.github.com/users/mbechard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbechard/subscriptions","organizations_url":"https://api.github.com/users/mbechard/orgs","repos_url":"https://api.github.com/users/mbechard/repos","events_url":"https://api.github.com/users/mbechard/events{/privacy}","received_events_url":"https://api.github.com/users/mbechard/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-02T22:01:27Z","updated_at":"2025-04-23T21:24:30Z","closed_at":"2025-04-23T21:24:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Operating System Info\n\nWindows 11\n\n### Other OS\n\n_No response_\n\n### OBS Studio Version\n\n30.2.3\n\n### OBS Studio Version (Other)\n\n_No response_\n\n### OBS Studio Log URL\n\nhttps://obsproject.com/logs/83BBFOiQVhsO906Y\n\n### OBS Studio Crash Log URL\n\n_No response_\n\n### Expected Behavior\n\nThis isn't a crash in OBS Studio itself, rather the graphics-hook64.dll causing other applications to crash. OBS doesn't need to be running, just installed. Direct Display is a new Vulkan feature that allows an app to directly output to a monitor without interacting with the Windows desktop. I would not expect graphics-hook64.dll to cause other applications to crash, especially when OBS isn't even active.\n\n### Current Behavior\n\nIf OBS is installed on the machine, trying to use this feature crashes due to a bug in graphics-hook64.dll. Likely not handling this new extension properly.\n\n### Steps to Reproduce\n\n1. You need Windows 11 Pro for Workstations or Windows 11 Enterprise to reproduce this. This is because the feature to 'remove a monitor from the desktop' is locked behind those versions.\r\n2. Uninstall OBS, just so we can see the Direct Display working first.\r\n3. Download and build Nvidia' sample project for Direct Display: https://github.com/nvpro-samples/vk_ddisplay\r\n4. You can ignore the sections about mosaic and the config files. Just download the https://www.nvidia.com/en-us/drivers/ddisplay-utility/ and open an admin cmd prompt use: \r\n5. `configureDdisplay.exe status` to see the displays on the machine\r\n6. `configureDdisplay.exe remove-from-desktop -i 1`, for example, to remove monitor index 1 from the desktop.\r\n7. Run the sample. You should see hairy torus object rotating on the monitor that isn't part of your Windows desktop anymore.\r\n8. Shut down and install OBS, then try running again. It should crash.\r\n\r\nThanks for looking into this.\n\n### Anything else we should know?\n\n_No response_","closed_by":{"login":"RytoEX","id":624931,"node_id":"MDQ6VXNlcjYyNDkzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/624931?v=4","gravatar_id":"","url":"https://api.github.com/users/RytoEX","html_url":"https://github.com/RytoEX","followers_url":"https://api.github.com/users/RytoEX/followers","following_url":"https://api.github.com/users/RytoEX/following{/other_user}","gists_url":"https://api.github.com/users/RytoEX/gists{/gist_id}","starred_url":"https://api.github.com/users/RytoEX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RytoEX/subscriptions","organizations_url":"https://api.github.com/users/RytoEX/orgs","repos_url":"https://api.github.com/users/RytoEX/repos","events_url":"https://api.github.com/users/RytoEX/events{/privacy}","received_events_url":"https://api.github.com/users/RytoEX/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/obsproject/obs-studio/issues/11581/timeline","performed_via_github_app":null,"state_reason":"completed"}