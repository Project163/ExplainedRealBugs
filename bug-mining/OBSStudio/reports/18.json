{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835","repository_url":"https://api.github.com/repos/obsproject/obs-studio","labels_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835/labels{/name}","comments_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835/comments","events_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835/events","html_url":"https://github.com/obsproject/obs-studio/issues/3835","id":758020780,"node_id":"MDU6SXNzdWU3NTgwMjA3ODA=","number":3835,"title":"26.1.0-rc2: error: implicit declaration of function 'strerror_l' is invalid in C99","user":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1042882599,"node_id":"MDU6TGFiZWwxMDQyODgyNTk5","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Incomplete","name":"Incomplete","color":"dd2aad","default":false,"description":"This doesn't provide enough information/context; further information required to be actionable."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-06T20:55:52Z","updated_at":"2020-12-06T21:51:47Z","closed_at":"2020-12-06T21:51:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"clang-10.0.1 fails to compile 26.1.0-rc2 on FreeBSD 12.2:\r\n\r\n```\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:129:4: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                        berr(LOG_ERROR, \"exiting due to poll error\");\r\n                        ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:129:4: note: did you mean 'strerror_r'?\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/include/string.h:91:6: note: 'strerror_r' declared here\r\nint      strerror_r(int, char *, size_t);\r\n         ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:129:4: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                        berr(LOG_ERROR, \"exiting due to poll error\");\r\n                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:145:5: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                                berr(LOG_ERROR,\r\n                                ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:145:5: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                                berr(LOG_ERROR,\r\n                                ^~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:276:3: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                berr(LOG_ERROR, \"socketpair\");\r\n                ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:276:3: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                berr(LOG_ERROR, \"socketpair\");\r\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:288:3: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                berr(LOG_ERROR, \"could not open %s sndio device\", devname);\r\n                ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:288:3: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                berr(LOG_ERROR, \"could not open %s sndio device\", devname);\r\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:301:3: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                berr(LOG_ERROR, \"could not set parameters for %s sndio device\",\r\n                ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:301:3: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                berr(LOG_ERROR, \"could not set parameters for %s sndio device\",\r\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:309:3: error: implicit declaration of function 'strerror_l' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                berr(LOG_ERROR, \"could not start recording on %s sndio device\",\r\n                ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:24: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                                     ^\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:309:3: warning: incompatible integer to pointer conversion initializing 'const char *' with an expression of type 'int' [-Wint-conversion]\r\n                berr(LOG_ERROR, \"could not start recording on %s sndio device\",\r\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/usr/ports/multimedia/obs-studio/work/obs-studio-26.1.0-rc2/plugins/sndio/sndio-input.c:41:15: note: expanded from macro 'berr'\r\n                const char *errstr = strerror_l(errno, NULL);   \\\r\n                            ^        ~~~~~~~~~~~~~~~~~~~~~~~\r\n7 warnings and 6 errors generated.\r\n```","closed_by":{"login":"yurivict","id":271906,"node_id":"MDQ6VXNlcjI3MTkwNg==","avatar_url":"https://avatars.githubusercontent.com/u/271906?v=4","gravatar_id":"","url":"https://api.github.com/users/yurivict","html_url":"https://github.com/yurivict","followers_url":"https://api.github.com/users/yurivict/followers","following_url":"https://api.github.com/users/yurivict/following{/other_user}","gists_url":"https://api.github.com/users/yurivict/gists{/gist_id}","starred_url":"https://api.github.com/users/yurivict/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurivict/subscriptions","organizations_url":"https://api.github.com/users/yurivict/orgs","repos_url":"https://api.github.com/users/yurivict/repos","events_url":"https://api.github.com/users/yurivict/events{/privacy}","received_events_url":"https://api.github.com/users/yurivict/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3835/timeline","performed_via_github_app":null,"state_reason":"completed"}