{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031","repository_url":"https://api.github.com/repos/obsproject/obs-studio","labels_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031/labels{/name}","comments_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031/comments","events_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031/events","html_url":"https://github.com/obsproject/obs-studio/issues/3031","id":629940527,"node_id":"MDU6SXNzdWU2Mjk5NDA1Mjc=","number":3031,"title":"Recording rawvideo causes SIGSEGV","user":{"login":"reitzig","id":4246780,"node_id":"MDQ6VXNlcjQyNDY3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4246780?v=4","gravatar_id":"","url":"https://api.github.com/users/reitzig","html_url":"https://github.com/reitzig","followers_url":"https://api.github.com/users/reitzig/followers","following_url":"https://api.github.com/users/reitzig/following{/other_user}","gists_url":"https://api.github.com/users/reitzig/gists{/gist_id}","starred_url":"https://api.github.com/users/reitzig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reitzig/subscriptions","organizations_url":"https://api.github.com/users/reitzig/orgs","repos_url":"https://api.github.com/users/reitzig/repos","events_url":"https://api.github.com/users/reitzig/events{/privacy}","received_events_url":"https://api.github.com/users/reitzig/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1994040919,"node_id":"MDU6TGFiZWwxOTk0MDQwOTE5","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Confirmed","name":"Confirmed","color":"42cebe","default":false,"description":"This bug report has been confirmed by project members"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-03T12:06:08Z","updated_at":"2020-09-09T16:59:10Z","closed_at":"2020-09-09T16:59:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Platform\r\n<!-- Please fill out the following information about your bug report. -->\r\n<!-- If you are on Linux and installed using a package, please list the package type. -->\r\nOperating system and version: Linux 5.3.0-46-generic #38~18.04.1-Ubuntu SMP Tue Mar 31 04:17:56 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\nOBS Studio version: OBS Studio - 25.0.8 (linux)\r\nInstaller: DEB from official PPA\r\n\r\n## Expected Behavior\r\n\r\nWhen I set obs to record `rawvideo` to my v4l2loopback device `/dev/video0`, I expect it to do so OR display a meaningful error message.\r\n\r\n## Current Behavior\r\n\r\n    “obs” terminated by signal SIGSEGV (Address boundary error)\r\n\r\n## Steps to Reproduce\r\n\r\n_Prerequisites:_ Install v4l2loopback and load the kernel module.\r\n\r\n1. Set Recording to Custom Output (FFmpeg) > Output to URL, `/dev/video0`, rawvideo\r\n   \r\n   ![image](https://user-images.githubusercontent.com/4246780/83634381-bea52380-a5a2-11ea-8722-45a47873a916.png)\r\n\r\n2. Press \"Start Recording\"\r\n\r\nI can reproduce the crash also without v4l2loopback, selecting Output to File.\r\n\r\n## Additional information\r\n\r\n```\r\n$ v4l2-ctl -d /dev/video0 --list-formats-ext\r\nioctl: VIDIOC_ENUM_FMT\r\n\tIndex       : 0\r\n\tType        : Video Capture\r\n\tPixel Format: 'MJPG' (compressed)\r\n\tName        : Motion-JPEG\r\n\t\tSize: Discrete 1280x720\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 320x180\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 320x240\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 352x288\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 424x240\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 640x360\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 640x480\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 848x480\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 960x540\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\r\n\tIndex       : 1\r\n\tType        : Video Capture\r\n\tPixel Format: 'YUYV'\r\n\tName        : YUYV 4:2:2\r\n\t\tSize: Discrete 1280x720\r\n\t\t\tInterval: Discrete 0.100s (10.000 fps)\r\n\t\tSize: Discrete 320x180\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 320x240\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 352x288\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 424x240\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 640x360\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 640x480\r\n\t\t\tInterval: Discrete 0.033s (30.000 fps)\r\n\t\tSize: Discrete 848x480\r\n\t\t\tInterval: Discrete 0.050s (20.000 fps)\r\n\t\tSize: Discrete 960x540\r\n\t\t\tInterval: Discrete 0.067s (15.000 fps)\r\n```\r\n\r\nYUYV does not appear in the recording options. MJPEG doesn't work either but doesn't crash (separate issue). FWIW:\r\n\r\n```\r\n $ ffplay /dev/video0\r\n<snip>\r\nInput #0, video4linux2,v4l2, from '/dev/video0':B sq=    0B f=0/0   \r\n  Duration: N/A, start: 1214650.214122, bitrate: 147456 kb/s\r\n    Stream #0:0: Video: rawvideo (YUY2 / 0x32595559), yuyv422, 1280x720, 147456 kb/s, 10 fps, 10 tbr, 1000k tbn, 1000k tbc\r\n```\r\n\r\nThat's why I tried to use `rawvideo`.","closed_by":{"login":"jp9000","id":2084112,"node_id":"MDQ6VXNlcjIwODQxMTI=","avatar_url":"https://avatars.githubusercontent.com/u/2084112?v=4","gravatar_id":"","url":"https://api.github.com/users/jp9000","html_url":"https://github.com/jp9000","followers_url":"https://api.github.com/users/jp9000/followers","following_url":"https://api.github.com/users/jp9000/following{/other_user}","gists_url":"https://api.github.com/users/jp9000/gists{/gist_id}","starred_url":"https://api.github.com/users/jp9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jp9000/subscriptions","organizations_url":"https://api.github.com/users/jp9000/orgs","repos_url":"https://api.github.com/users/jp9000/repos","events_url":"https://api.github.com/users/jp9000/events{/privacy}","received_events_url":"https://api.github.com/users/jp9000/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3031/timeline","performed_via_github_app":null,"state_reason":"completed"}