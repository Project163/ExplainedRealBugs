{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347","repository_url":"https://api.github.com/repos/obsproject/obs-studio","labels_url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347/labels{/name}","comments_url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347/comments","events_url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347/events","html_url":"https://github.com/obsproject/obs-studio/issues/4347","id":831791522,"node_id":"MDU6SXNzdWU4MzE3OTE1MjI=","number":4347,"title":"linux-v4l2 : loopback device not found if video_nr > 63","user":{"login":"didierm","id":989004,"node_id":"MDQ6VXNlcjk4OTAwNA==","avatar_url":"https://avatars.githubusercontent.com/u/989004?v=4","gravatar_id":"","url":"https://api.github.com/users/didierm","html_url":"https://github.com/didierm","followers_url":"https://api.github.com/users/didierm/followers","following_url":"https://api.github.com/users/didierm/following{/other_user}","gists_url":"https://api.github.com/users/didierm/gists{/gist_id}","starred_url":"https://api.github.com/users/didierm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/didierm/subscriptions","organizations_url":"https://api.github.com/users/didierm/orgs","repos_url":"https://api.github.com/users/didierm/repos","events_url":"https://api.github.com/users/didierm/events{/privacy}","received_events_url":"https://api.github.com/users/didierm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1652703726,"node_id":"MDU6TGFiZWwxNjUyNzAzNzI2","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Linux","name":"Linux","color":"709bc9","default":false,"description":"Affects Linux"},{"id":1994040919,"node_id":"MDU6TGFiZWwxOTk0MDQwOTE5","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Confirmed","name":"Confirmed","color":"42cebe","default":false,"description":"This bug report has been confirmed by project members"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/obsproject/obs-studio/milestones/8","html_url":"https://github.com/obsproject/obs-studio/milestone/8","labels_url":"https://api.github.com/repos/obsproject/obs-studio/milestones/8/labels","id":7229064,"node_id":"MI_kwDOAMnsBs4Abk6I","number":8,"title":"OBS Studio 27.2","description":"Items that we would like to consider for inclusion in OBS Studio v27.2.\r\n\r\nNOTE: Items on this list are not promised to be in the listed release, just that we are considering them. This list is subject to change at any time.","creator":{"login":"WizardCM","id":941350,"node_id":"MDQ6VXNlcjk0MTM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/941350?v=4","gravatar_id":"","url":"https://api.github.com/users/WizardCM","html_url":"https://github.com/WizardCM","followers_url":"https://api.github.com/users/WizardCM/followers","following_url":"https://api.github.com/users/WizardCM/following{/other_user}","gists_url":"https://api.github.com/users/WizardCM/gists{/gist_id}","starred_url":"https://api.github.com/users/WizardCM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WizardCM/subscriptions","organizations_url":"https://api.github.com/users/WizardCM/orgs","repos_url":"https://api.github.com/users/WizardCM/repos","events_url":"https://api.github.com/users/WizardCM/events{/privacy}","received_events_url":"https://api.github.com/users/WizardCM/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":291,"state":"closed","created_at":"2021-10-07T09:28:37Z","updated_at":"2022-11-11T20:07:28Z","due_on":null,"closed_at":"2022-11-11T20:07:28Z"},"comments":5,"created_at":"2021-03-15T13:05:27Z","updated_at":"2021-12-21T10:51:59Z","closed_at":"2021-11-10T22:32:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- READ THIS FIRST -->\r\n<!-- The OBS Studio GitHub issue tracker is **ONLY** to be -->\r\n<!-- used for reporting Bugs that have replication steps. -->\r\n\r\n<!-- You can post Feature Requests here: https://ideas.obsproject.com/ -->\r\n<!-- Get help for Support Issues here: https://obsproject.com/help -->\r\n\r\n<!--- Provide a general summary of the issue in the Title above -->\r\n\r\n## Platform\r\n<!-- Please fill out the following information about your bug report. -->\r\n<!-- If you are on Linux and installed using a package, please list the package type. -->\r\nOperating system and version: Linux Fedora 33\r\nOBS Studio version: obs-studio-26.1.2-1.fc33.x86_64\r\nOBS Log file:\r\n\r\n## Expected Behavior\r\nVirtual Camera should be started when clicking the [Start Virtual Camera]  button\r\n\r\n## Current Behavior\r\nNothing happens.\r\nThe log reveals : \r\n`warning: Failed to start virtual camera`\r\n\r\n## Steps to Reproduce\r\n1. sudo modprobe v4l2loopback\r\n2. obs\r\n\r\n## Additional information\r\n/etc/modprobe.d/v4l2-loopback.conf contains : \r\n`options v4l2loopback devices=1 video_nr=99 card_label=VirtCam exclusive_caps=1`\r\n\r\nOBS iterates over /dev/videoX, where X=0-63 ; this is probably due to **MAX_DEVICES=64** : \r\nhttps://github.com/obsproject/obs-studio/blame/9eb32eed18214eb3b292449fe46cd7749db86788/plugins/linux-v4l2/v4l2-output.c#L8\r\n\r\nAs a result, devices with a **video_nr >=64** (99 in the above example) are not found.\r\n\r\nThis neglects what @tovrstra already suggested in https://github.com/obsproject/obs-studio/pull/3182#discussion_r493162462 , i.e. iterating over the values in /sys/module/v4l2loopback/parameters/video_nr , which should resolve this issue.\r\n","closed_by":{"login":"GeorgesStavracas","id":3518204,"node_id":"MDQ6VXNlcjM1MTgyMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3518204?v=4","gravatar_id":"","url":"https://api.github.com/users/GeorgesStavracas","html_url":"https://github.com/GeorgesStavracas","followers_url":"https://api.github.com/users/GeorgesStavracas/followers","following_url":"https://api.github.com/users/GeorgesStavracas/following{/other_user}","gists_url":"https://api.github.com/users/GeorgesStavracas/gists{/gist_id}","starred_url":"https://api.github.com/users/GeorgesStavracas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GeorgesStavracas/subscriptions","organizations_url":"https://api.github.com/users/GeorgesStavracas/orgs","repos_url":"https://api.github.com/users/GeorgesStavracas/repos","events_url":"https://api.github.com/users/GeorgesStavracas/events{/privacy}","received_events_url":"https://api.github.com/users/GeorgesStavracas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/obsproject/obs-studio/issues/4347/timeline","performed_via_github_app":null,"state_reason":"completed"}