{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547","repository_url":"https://api.github.com/repos/obsproject/obs-studio","labels_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547/labels{/name}","comments_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547/comments","events_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547/events","html_url":"https://github.com/obsproject/obs-studio/issues/3547","id":714135834,"node_id":"MDU6SXNzdWU3MTQxMzU4MzQ=","number":3547,"title":"alsa-input: Doesnt work with cards missing s16 format support","user":{"login":"lockie","id":160056,"node_id":"MDQ6VXNlcjE2MDA1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/160056?v=4","gravatar_id":"","url":"https://api.github.com/users/lockie","html_url":"https://github.com/lockie","followers_url":"https://api.github.com/users/lockie/followers","following_url":"https://api.github.com/users/lockie/following{/other_user}","gists_url":"https://api.github.com/users/lockie/gists{/gist_id}","starred_url":"https://api.github.com/users/lockie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lockie/subscriptions","organizations_url":"https://api.github.com/users/lockie/orgs","repos_url":"https://api.github.com/users/lockie/repos","events_url":"https://api.github.com/users/lockie/events{/privacy}","received_events_url":"https://api.github.com/users/lockie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1652703726,"node_id":"MDU6TGFiZWwxNjUyNzAzNzI2","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Linux","name":"Linux","color":"709bc9","default":false,"description":"Affects Linux"},{"id":1747301058,"node_id":"MDU6TGFiZWwxNzQ3MzAxMDU4","url":"https://api.github.com/repos/obsproject/obs-studio/labels/Fix%20available","name":"Fix available","color":"e086d7","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-03T17:22:39Z","updated_at":"2020-10-16T12:50:58Z","closed_at":"2020-10-16T12:50:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- READ THIS FIRST -->\r\n<!-- The OBS Studio GitHub issue tracker is **ONLY** to be -->\r\n<!-- used for reporting Bugs that have replication steps. -->\r\n\r\n<!-- You can post Feature Requests here: https://ideas.obsproject.com/ -->\r\n<!-- Get help for Support Issues here: https://obsproject.com/help -->\r\n\r\n<!--- Provide a general summary of the issue in the Title above -->\r\n\r\n## Platform\r\n<!-- Please fill out the following information about your bug report. -->\r\n<!-- If you are on Linux and installed using a package, please list the package type. -->\r\nOperating system and version: Gentoo Linux desktop 17.1\r\nOBS Studio version: 25.0.8\r\n\r\n## Expected Behavior\r\nGetting some audio input from USB audio card with _ALSA Auido Capture Device_ source.\r\n\r\n## Current Behavior\r\nThere's no sound from the mic in OBS (the indicator in \"Audio Mixer\" is not moving), although I can record sound from that card and mic in different applications (e.g. Audacity). There's the line\r\n```\r\nerror: alsa-input: snd_pcm_hw_params_set_format failed: Invalid argument\r\n```\r\nconstantly written by OBS in its log.\r\n\r\n## Steps to Reproduce\r\n1. Plug in external USB audio card (Behringer UMC202HD in my case).\r\n2. Add _ALSA Auido Capture Device_ source targeting that card.\r\n\r\n## Additional information\r\nI've grepped OBS source for that error and found out that [the input format is hardcoded to be 16 bit](https://github.com/obsproject/obs-studio/blob/f4f2d383b1f234dc231ca0dc2804d8ba5c69635e/plugins/linux-alsa/alsa-input.c#L443), although the card does not seem to support 16 bit sample format:\r\n```\r\n$ arecord -f S16 -D hw:4,0\r\nRecording WAVE 'stdin' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono\r\narecord: set_params:1343: Sample format non available\r\nAvailable formats:\r\n- S32_LE\r\n```","closed_by":{"login":"jp9000","id":2084112,"node_id":"MDQ6VXNlcjIwODQxMTI=","avatar_url":"https://avatars.githubusercontent.com/u/2084112?v=4","gravatar_id":"","url":"https://api.github.com/users/jp9000","html_url":"https://github.com/jp9000","followers_url":"https://api.github.com/users/jp9000/followers","following_url":"https://api.github.com/users/jp9000/following{/other_user}","gists_url":"https://api.github.com/users/jp9000/gists{/gist_id}","starred_url":"https://api.github.com/users/jp9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jp9000/subscriptions","organizations_url":"https://api.github.com/users/jp9000/orgs","repos_url":"https://api.github.com/users/jp9000/repos","events_url":"https://api.github.com/users/jp9000/events{/privacy}","received_events_url":"https://api.github.com/users/jp9000/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/obsproject/obs-studio/issues/3547/timeline","performed_via_github_app":null,"state_reason":"completed"}