diff --git a/changelog/9791.bugfix.rst b/changelog/9791.bugfix.rst
new file mode 100644
index 000000000..f81c87016
--- /dev/null
+++ b/changelog/9791.bugfix.rst
@@ -0,0 +1 @@
+Fixed a path handling code in ``rewrite.py`` that seems to work fine, but was incorrect and fails in some systems.
diff --git a/src/_pytest/assertion/rewrite.py b/src/_pytest/assertion/rewrite.py
index 81096764e..9d0b431b4 100644
--- a/src/_pytest/assertion/rewrite.py
+++ b/src/_pytest/assertion/rewrite.py
@@ -190,7 +190,7 @@ class AssertionRewritingHook(importlib.abc.MetaPathFinder, importlib.abc.Loader)
             return False
 
         # For matching the name it must be as if it was a filename.
-        path = PurePath(os.path.sep.join(parts) + ".py")
+        path = PurePath(*parts).with_suffix(".py")
 
         for pat in self.fnpats:
             # if the pattern contains subdirectories ("tests/**.py" for example) we can't bail out based
