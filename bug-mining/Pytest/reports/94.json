{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400/events","html_url":"https://github.com/pytest-dev/pytest/issues/4400","id":381264529,"node_id":"MDU6SXNzdWUzODEyNjQ1Mjk=","number":4400,"title":"\"usage of Generator.Function is deprecated\" error coming from PyTest code, not ours","user":{"login":"nickwilliams-eventbrite","id":8230828,"node_id":"MDQ6VXNlcjgyMzA4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8230828?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwilliams-eventbrite","html_url":"https://github.com/nickwilliams-eventbrite","followers_url":"https://api.github.com/users/nickwilliams-eventbrite/followers","following_url":"https://api.github.com/users/nickwilliams-eventbrite/following{/other_user}","gists_url":"https://api.github.com/users/nickwilliams-eventbrite/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwilliams-eventbrite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwilliams-eventbrite/subscriptions","organizations_url":"https://api.github.com/users/nickwilliams-eventbrite/orgs","repos_url":"https://api.github.com/users/nickwilliams-eventbrite/repos","events_url":"https://api.github.com/users/nickwilliams-eventbrite/events{/privacy}","received_events_url":"https://api.github.com/users/nickwilliams-eventbrite/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849198,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTg=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20question","name":"type: question","color":"cc317c","default":false,"description":"general question, might be closed after 2 weeks of inactivity"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2018-11-15T17:26:52Z","updated_at":"2018-11-17T23:57:48Z","closed_at":"2018-11-17T23:57:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We upgraded one of our projects to PyTest 4.0.0, and our builds started failing with this deprecation error. We're filtering out the warning for now to get our build running, because there's nothing we can do about it. The warning isn't coming from our code. As you can see from the stacktrace below, the warning is coming from PyTest code.\r\n\r\n```\r\nself = <CallInfo when='collect' exception: usage of Generator.Function is deprecated, please use pytest.Function instead>\r\nfunc = <function <lambda> at 0x7fa771266d70>, when = 'collect'\r\ntreat_keyboard_interrupt_as_exception = False\r\n\r\n    def __init__(self, func, when, treat_keyboard_interrupt_as_exception=False):\r\n        #: context of invocation: one of \"setup\", \"call\",\r\n        #: \"teardown\", \"memocollect\"\r\n        self.when = when\r\n        self.start = time()\r\n        try:\r\n>           self.result = func()\r\n\r\n../venv/lib/python2.7/site-packages/_pytest/runner.py:211: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n../venv/lib/python2.7/site-packages/_pytest/runner.py:272: in <lambda>\r\n    call = CallInfo(lambda: list(collector.collect()), \"collect\")\r\n../venv/lib/python2.7/site-packages/_pytest/python.py:769: in collect\r\n    function_class = self.Function\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = _CompatProperty(name='Function')\r\nobj = <Generator 'test_parse_valid_tokens'>\r\nowner = <class '_pytest.python.Generator'>\r\n\r\n    def __get__(self, obj, owner):\r\n        if obj is None:\r\n            return self\r\n    \r\n        from _pytest.deprecated import COMPAT_PROPERTY\r\n    \r\n        warnings.warn(\r\n>           COMPAT_PROPERTY.format(name=self.name, owner=owner.__name__), stacklevel=2\r\n        )\r\nE       RemovedInPytest4Warning: usage of Generator.Function is deprecated, please use pytest.Function instead\r\n\r\n../venv/lib/python2.7/site-packages/_pytest/nodes.py:70: RemovedInPytest4Warning\r\n```\r\n\r\nInformation from the test startup:\r\n\r\n```\r\n============================= test session starts ==============================\r\nplatform linux2 -- Python 2.7.12, pytest-4.0.0, py-1.7.0, pluggy-0.8.0\r\ndjango settings: xxxxxxxxxxxx (from ini file)\r\nrootdir: xxxxxxxxxxxxxxx, inifile: setup.cfg\r\nplugins: django-2.9.1, forked-0.2, pysoa-0.55.0, mock-1.10.0, cov-2.6.0, xdist-1.24.1\r\n```\r\n\r\nHere's a quick checklist in what to include:\r\n\r\n- [x] Include a detailed description of the bug or suggestion\r\n- [x] `pip list` of the virtual environment you are using (I've shared what I can without divulging confidential information)\r\n- [x] pytest and operating system versions\r\n- [ ] Minimal example if possible (Not possible because I don't know what exactly causes this to replicate and I can't share the project)\r\n","closed_by":{"login":"blueyed","id":9766,"node_id":"MDQ6VXNlcjk3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/9766?v=4","gravatar_id":"","url":"https://api.github.com/users/blueyed","html_url":"https://github.com/blueyed","followers_url":"https://api.github.com/users/blueyed/followers","following_url":"https://api.github.com/users/blueyed/following{/other_user}","gists_url":"https://api.github.com/users/blueyed/gists{/gist_id}","starred_url":"https://api.github.com/users/blueyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blueyed/subscriptions","organizations_url":"https://api.github.com/users/blueyed/orgs","repos_url":"https://api.github.com/users/blueyed/repos","events_url":"https://api.github.com/users/blueyed/events{/privacy}","received_events_url":"https://api.github.com/users/blueyed/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/4400/timeline","performed_via_github_app":null,"state_reason":"completed"}