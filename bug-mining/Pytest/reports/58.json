{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251/events","html_url":"https://github.com/pytest-dev/pytest/issues/3251","id":299397175,"node_id":"MDU6SXNzdWUyOTkzOTcxNzU=","number":3251,"title":"Warnings not captured during test collection","user":{"login":"jaraco","id":308610,"node_id":"MDQ6VXNlcjMwODYxMA==","avatar_url":"https://avatars.githubusercontent.com/u/308610?v=4","gravatar_id":"","url":"https://api.github.com/users/jaraco","html_url":"https://github.com/jaraco","followers_url":"https://api.github.com/users/jaraco/followers","following_url":"https://api.github.com/users/jaraco/following{/other_user}","gists_url":"https://api.github.com/users/jaraco/gists{/gist_id}","starred_url":"https://api.github.com/users/jaraco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaraco/subscriptions","organizations_url":"https://api.github.com/users/jaraco/orgs","repos_url":"https://api.github.com/users/jaraco/repos","events_url":"https://api.github.com/users/jaraco/events{/privacy}","received_events_url":"https://api.github.com/users/jaraco/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849195,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTU=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20enhancement","name":"type: enhancement","color":"84b6eb","default":false,"description":"new feature or API change, should be merged into features branch"},{"id":615327396,"node_id":"MDU6TGFiZWw2MTUzMjczOTY=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/plugin:%20warnings","name":"plugin: warnings","color":"fef2c0","default":false,"description":"related to the warnings builtin plugin"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pytest-dev/pytest/milestones/19","html_url":"https://github.com/pytest-dev/pytest/milestone/19","labels_url":"https://api.github.com/repos/pytest-dev/pytest/milestones/19/labels","id":3483563,"node_id":"MDk6TWlsZXN0b25lMzQ4MzU2Mw==","number":19,"title":"3.8","description":"","creator":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"closed","created_at":"2018-07-09T17:13:48Z","updated_at":"2018-09-21T21:41:21Z","due_on":null,"closed_at":"2018-09-21T21:41:21Z"},"comments":5,"created_at":"2018-02-22T15:30:03Z","updated_at":"2018-09-06T01:40:14Z","closed_at":"2018-09-06T01:40:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The [warnings docs clearly state](https://docs.pytest.org/en/latest/warnings.html) that it captures warnings during test execution, but that means any warnings issued during test collection will not be captured and will silently pass. Consider this slight tweak to the canonical example:\r\n\r\n```\r\n$ cat test_show_warnings.py \r\nimport warnings\r\n\r\n\r\nwarnings.warn(\"foo\", UserWarning)\r\n\r\n\r\ndef test_one():\r\n    assert True\r\n$ .tox/python/bin/pytest test_show_warnings.py -s\r\n====================================== test session starts =======================================\r\nplatform darwin -- Python 3.7.0b1, pytest-3.4.1, py-1.5.2, pluggy-0.6.0\r\nrootdir: /Users/jaraco/warnings, inifile:\r\ncollecting 0 items                                                                               /Users/jaraco/warnings/test_show_warnings.py:4: UserWarning: foo\r\n  warnings.warn(\"foo\", UserWarning)\r\ncollected 1 item                                                                                 \r\n\r\ntest_show_warnings.py .\r\n\r\n==================================== 1 passed in 0.00 seconds ====================================\r\n$ .tox/python/bin/pytest test_show_warnings.py   \r\n====================================== test session starts =======================================\r\nplatform darwin -- Python 3.7.0b1, pytest-3.4.1, py-1.5.2, pluggy-0.6.0\r\nrootdir: /Users/jaraco/warnings, inifile:\r\ncollected 1 item                                                                                 \r\n\r\ntest_show_warnings.py .                                                                    [100%]\r\n\r\n==================================== 1 passed in 0.00 seconds ====================================\r\n```\r\n\r\nWould it be possible for the warnings feature to also be enabled during test collection, such that warnings like these could also be captured and reported and tweaked by the pytest config?","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3251/timeline","performed_via_github_app":null,"state_reason":"completed"}