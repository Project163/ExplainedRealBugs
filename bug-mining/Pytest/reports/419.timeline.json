[{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010153472","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1010153472","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1010153472,"node_id":"IC_kwDOAjwLdc48NbgA","user":{"login":"The-Compiler","id":625793,"node_id":"MDQ6VXNlcjYyNTc5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/625793?v=4","gravatar_id":"","url":"https://api.github.com/users/The-Compiler","html_url":"https://github.com/The-Compiler","followers_url":"https://api.github.com/users/The-Compiler/followers","following_url":"https://api.github.com/users/The-Compiler/following{/other_user}","gists_url":"https://api.github.com/users/The-Compiler/gists{/gist_id}","starred_url":"https://api.github.com/users/The-Compiler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/The-Compiler/subscriptions","organizations_url":"https://api.github.com/users/The-Compiler/orgs","repos_url":"https://api.github.com/users/The-Compiler/repos","events_url":"https://api.github.com/users/The-Compiler/events{/privacy}","received_events_url":"https://api.github.com/users/The-Compiler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T16:43:00Z","updated_at":"2022-01-11T16:43:00Z","body":"We currently just [document how to do this](https://pytest.org/en/6.2.x/example/simple.html#detect-if-running-from-within-a-pytest-run), probably in a way similarly to what your plugin does.\r\n\r\nNote you could also just check `if \"pytest\" in sys.modules:` as long as your code under test does not import pytest.\r\n\r\nWe do have a `PYTEST_CURRENT_TEST` environment variable already. Personally I'd be fine with having a `PYTEST_VERSION` or whatever which gets set very early, I suppose `PYTEST_CURRENT_TEST` will be set too late for it to be useful at import time.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010153472/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"The-Compiler","id":625793,"node_id":"MDQ6VXNlcjYyNTc5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/625793?v=4","gravatar_id":"","url":"https://api.github.com/users/The-Compiler","html_url":"https://github.com/The-Compiler","followers_url":"https://api.github.com/users/The-Compiler/followers","following_url":"https://api.github.com/users/The-Compiler/following{/other_user}","gists_url":"https://api.github.com/users/The-Compiler/gists{/gist_id}","starred_url":"https://api.github.com/users/The-Compiler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/The-Compiler/subscriptions","organizations_url":"https://api.github.com/users/The-Compiler/orgs","repos_url":"https://api.github.com/users/The-Compiler/repos","events_url":"https://api.github.com/users/The-Compiler/events{/privacy}","received_events_url":"https://api.github.com/users/The-Compiler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010154713","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1010154713","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1010154713,"node_id":"IC_kwDOAjwLdc48NbzZ","user":{"login":"The-Compiler","id":625793,"node_id":"MDQ6VXNlcjYyNTc5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/625793?v=4","gravatar_id":"","url":"https://api.github.com/users/The-Compiler","html_url":"https://github.com/The-Compiler","followers_url":"https://api.github.com/users/The-Compiler/followers","following_url":"https://api.github.com/users/The-Compiler/following{/other_user}","gists_url":"https://api.github.com/users/The-Compiler/gists{/gist_id}","starred_url":"https://api.github.com/users/The-Compiler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/The-Compiler/subscriptions","organizations_url":"https://api.github.com/users/The-Compiler/orgs","repos_url":"https://api.github.com/users/The-Compiler/repos","events_url":"https://api.github.com/users/The-Compiler/events{/privacy}","received_events_url":"https://api.github.com/users/The-Compiler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T16:44:25Z","updated_at":"2022-01-11T16:44:25Z","body":"Also see https://github.com/pytest-dev/pytest-django/issues/333 which has some additional considerations and use-cases around this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010154713/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"The-Compiler","id":625793,"node_id":"MDQ6VXNlcjYyNTc5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/625793?v=4","gravatar_id":"","url":"https://api.github.com/users/The-Compiler","html_url":"https://github.com/The-Compiler","followers_url":"https://api.github.com/users/The-Compiler/followers","following_url":"https://api.github.com/users/The-Compiler/following{/other_user}","gists_url":"https://api.github.com/users/The-Compiler/gists{/gist_id}","starred_url":"https://api.github.com/users/The-Compiler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/The-Compiler/subscriptions","organizations_url":"https://api.github.com/users/The-Compiler/orgs","repos_url":"https://api.github.com/users/The-Compiler/repos","events_url":"https://api.github.com/users/The-Compiler/events{/privacy}","received_events_url":"https://api.github.com/users/The-Compiler/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010215384","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1010215384","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1010215384,"node_id":"IC_kwDOAjwLdc48NqnY","user":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T17:53:21Z","updated_at":"2022-01-11T17:53:21Z","body":"> Personally I'd be fine with having a PYTEST_VERSION or whatever which gets set very early,\r\n\r\nI'm OK with this solution. It would also remove that env var from `os.environ` at the end of `pytest.main()`, I assume?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010215384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010253085","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1010253085","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1010253085,"node_id":"IC_kwDOAjwLdc48Nz0d","user":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T18:40:27Z","updated_at":"2022-01-11T18:40:27Z","body":"A while ago I had an idle thought that something like this should be a *python* feature. I was thinking a builtin constant `__test__`, similar to [`__debug__`](https://docs.python.org/3/library/constants.html#debug__), that would normally be false, but that a test runner would set to true while discovering and running tests.\r\n\r\nIn the Rust language for example it is very common to interleave unit tests with the code they're testing in the same file using [an attribute](https://doc.rust-lang.org/book/ch11-03-test-organization.html). In Python this would be:\r\n\r\n```py\r\ndef fibonacci(n): ...\r\n\r\nif __test__:\r\n    import pytest\r\n\r\n    def test_fibonacci(n):\r\n        assert fibonacci(10) == 55\r\n\r\n        with pytest.raises(ValueError):\r\n            fibonacci(-1)\r\n\r\ndef factorial(n): ...\r\n\r\nif __test__:\r\n    def test_factorial(n):\r\n        assert factorial(50) == 30414093201713378043612608166064768844377641568960512000000000000\r\n```\r\n\r\nNot for everyone, but I think there are cases I would have used this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1010253085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1011477820","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1011477820","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1011477820,"node_id":"IC_kwDOAjwLdc48Se08","user":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T21:41:24Z","updated_at":"2022-01-12T21:41:24Z","body":"after the drop of python 3.6 we can use https://docs.python.org/3/library/contextvars.html\r\n\r\ni would propose to use this for gathering whether pytest is running\r\n\r\ni woudl strictly oppose exposing sometihng like config as a contextvar however unless we had a stack for nested pytest session","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1011477820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5885402798,"node_id":"LE_lADOAjwLdc5Bhb5MzwAAAAFezB6u","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/5885402798","actor":{"login":"Zac-HD","id":12229877,"node_id":"MDQ6VXNlcjEyMjI5ODc3","avatar_url":"https://avatars.githubusercontent.com/u/12229877?v=4","gravatar_id":"","url":"https://api.github.com/users/Zac-HD","html_url":"https://github.com/Zac-HD","followers_url":"https://api.github.com/users/Zac-HD/followers","following_url":"https://api.github.com/users/Zac-HD/following{/other_user}","gists_url":"https://api.github.com/users/Zac-HD/gists{/gist_id}","starred_url":"https://api.github.com/users/Zac-HD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zac-HD/subscriptions","organizations_url":"https://api.github.com/users/Zac-HD/orgs","repos_url":"https://api.github.com/users/Zac-HD/repos","events_url":"https://api.github.com/users/Zac-HD/events{/privacy}","received_events_url":"https://api.github.com/users/Zac-HD/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-01-13T07:21:49Z","label":{"name":"type: proposal","color":"006b75"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013900568","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1013900568","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1013900568,"node_id":"IC_kwDOAjwLdc48buUY","user":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T15:51:01Z","updated_at":"2022-01-16T15:51:01Z","body":"> We currently just [document how to do this](https://pytest.org/en/6.2.x/example/simple.html#detect-if-running-from-within-a-pytest-run), probably in a way similarly to what your plugin does.\r\n\r\nYes, I noted in the description why this doesn't work for the case of the django settings file ðŸ˜Š\r\n\r\n---\r\n\r\nI like the idea of the `PYTEST_VERSION` (or whatever) environment variable. This is general and wouldn't require `import pytest` in production code. Yes it should be popped out of `os.environ` after pytest completes its run.\r\n\r\nA `__test__` builtin would be interesting, but it wouldn't be so easy to add. If it was only set by pytest, it wouldn't exist without importing pytest, unless it were actually added to Python, and placed in a backports package.\r\n\r\ncontextvars seem like they'd also require `import pytest` to use, since the var must be defined in a moduleâ€”unless pytest shipped a side module to contain the var?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013900568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013902658","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1013902658","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1013902658,"node_id":"IC_kwDOAjwLdc48bu1C","user":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T16:03:05Z","updated_at":"2022-01-16T16:03:05Z","body":"One can use `sys.modules.get` in such helpers\n\nPersonally im -1 on adding easy and obvious fast paths to make it easy to keep messy global configuration around\n\nThis stems from stuff going horrendously wrong every time a project uses that and then suddenly some tests need to run with different configurations or multiple configurations ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013902658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013928733","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1013928733","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1013928733,"node_id":"IC_kwDOAjwLdc48b1Md","user":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T18:35:18Z","updated_at":"2022-01-16T18:37:46Z","body":"> One can use `sys.modules.get` in such helpers\r\n\r\nðŸ¤” Idk why I didn't think of that, thanks for the hint.\r\n\r\nI think for now I will try `\"pytest\" in sys.modules` instead of my plugin.\r\n\r\nAgree that it can go wrong as complexity creeps in.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1013928733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jwhitlock","id":286017,"node_id":"MDQ6VXNlcjI4NjAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/286017?v=4","gravatar_id":"","url":"https://api.github.com/users/jwhitlock","html_url":"https://github.com/jwhitlock","followers_url":"https://api.github.com/users/jwhitlock/followers","following_url":"https://api.github.com/users/jwhitlock/following{/other_user}","gists_url":"https://api.github.com/users/jwhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/jwhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwhitlock/subscriptions","organizations_url":"https://api.github.com/users/jwhitlock/orgs","repos_url":"https://api.github.com/users/jwhitlock/repos","events_url":"https://api.github.com/users/jwhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/jwhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T00:41:54Z","updated_at":"2022-04-19T00:41:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809","repository_url":"https://api.github.com/repos/mozilla/fx-private-relay","labels_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809/comments","events_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809/events","html_url":"https://github.com/mozilla/fx-private-relay/pull/1809","id":1207587798,"node_id":"PR_kwDOC10h5842Y8Yn","number":1809,"title":"Add optional django-silk","user":{"login":"jwhitlock","id":286017,"node_id":"MDQ6VXNlcjI4NjAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/286017?v=4","gravatar_id":"","url":"https://api.github.com/users/jwhitlock","html_url":"https://github.com/jwhitlock","followers_url":"https://api.github.com/users/jwhitlock/followers","following_url":"https://api.github.com/users/jwhitlock/following{/other_user}","gists_url":"https://api.github.com/users/jwhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/jwhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwhitlock/subscriptions","organizations_url":"https://api.github.com/users/jwhitlock/orgs","repos_url":"https://api.github.com/users/jwhitlock/repos","events_url":"https://api.github.com/users/jwhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/jwhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-04-19T00:41:53Z","updated_at":"2022-04-21T15:47:20Z","closed_at":"2022-04-21T15:47:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":190652903,"node_id":"MDEwOlJlcG9zaXRvcnkxOTA2NTI5MDM=","name":"fx-private-relay","full_name":"mozilla/fx-private-relay","private":false,"owner":{"login":"mozilla","id":131524,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzMTUyNA==","avatar_url":"https://avatars.githubusercontent.com/u/131524?v=4","gravatar_id":"","url":"https://api.github.com/users/mozilla","html_url":"https://github.com/mozilla","followers_url":"https://api.github.com/users/mozilla/followers","following_url":"https://api.github.com/users/mozilla/following{/other_user}","gists_url":"https://api.github.com/users/mozilla/gists{/gist_id}","starred_url":"https://api.github.com/users/mozilla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mozilla/subscriptions","organizations_url":"https://api.github.com/users/mozilla/orgs","repos_url":"https://api.github.com/users/mozilla/repos","events_url":"https://api.github.com/users/mozilla/events{/privacy}","received_events_url":"https://api.github.com/users/mozilla/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mozilla/fx-private-relay","description":"Keep your email safe from hackers and trackers. Make an email alias with 1 click, and keep your address to yourself.","fork":false,"url":"https://api.github.com/repos/mozilla/fx-private-relay","forks_url":"https://api.github.com/repos/mozilla/fx-private-relay/forks","keys_url":"https://api.github.com/repos/mozilla/fx-private-relay/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mozilla/fx-private-relay/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mozilla/fx-private-relay/teams","hooks_url":"https://api.github.com/repos/mozilla/fx-private-relay/hooks","issue_events_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/events{/number}","events_url":"https://api.github.com/repos/mozilla/fx-private-relay/events","assignees_url":"https://api.github.com/repos/mozilla/fx-private-relay/assignees{/user}","branches_url":"https://api.github.com/repos/mozilla/fx-private-relay/branches{/branch}","tags_url":"https://api.github.com/repos/mozilla/fx-private-relay/tags","blobs_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/refs{/sha}","trees_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mozilla/fx-private-relay/statuses/{sha}","languages_url":"https://api.github.com/repos/mozilla/fx-private-relay/languages","stargazers_url":"https://api.github.com/repos/mozilla/fx-private-relay/stargazers","contributors_url":"https://api.github.com/repos/mozilla/fx-private-relay/contributors","subscribers_url":"https://api.github.com/repos/mozilla/fx-private-relay/subscribers","subscription_url":"https://api.github.com/repos/mozilla/fx-private-relay/subscription","commits_url":"https://api.github.com/repos/mozilla/fx-private-relay/commits{/sha}","git_commits_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/commits{/sha}","comments_url":"https://api.github.com/repos/mozilla/fx-private-relay/comments{/number}","issue_comment_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/comments{/number}","contents_url":"https://api.github.com/repos/mozilla/fx-private-relay/contents/{+path}","compare_url":"https://api.github.com/repos/mozilla/fx-private-relay/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mozilla/fx-private-relay/merges","archive_url":"https://api.github.com/repos/mozilla/fx-private-relay/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mozilla/fx-private-relay/downloads","issues_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues{/number}","pulls_url":"https://api.github.com/repos/mozilla/fx-private-relay/pulls{/number}","milestones_url":"https://api.github.com/repos/mozilla/fx-private-relay/milestones{/number}","notifications_url":"https://api.github.com/repos/mozilla/fx-private-relay/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mozilla/fx-private-relay/labels{/name}","releases_url":"https://api.github.com/repos/mozilla/fx-private-relay/releases{/id}","deployments_url":"https://api.github.com/repos/mozilla/fx-private-relay/deployments","created_at":"2019-06-06T21:36:28Z","updated_at":"2025-11-09T01:59:54Z","pushed_at":"2025-11-09T00:09:18Z","git_url":"git://github.com/mozilla/fx-private-relay.git","ssh_url":"git@github.com:mozilla/fx-private-relay.git","clone_url":"https://github.com/mozilla/fx-private-relay.git","svn_url":"https://github.com/mozilla/fx-private-relay","homepage":"https://relay.firefox.com","size":60688,"stargazers_count":1640,"watchers_count":1640,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":225,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":35,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":225,"open_issues":35,"watchers":1640,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/pulls/1809","html_url":"https://github.com/mozilla/fx-private-relay/pull/1809","diff_url":"https://github.com/mozilla/fx-private-relay/pull/1809.diff","patch_url":"https://github.com/mozilla/fx-private-relay/pull/1809.patch","merged_at":null},"body":"[Silk](https://github.com/jazzband/django-silk) is a live profiling and inspection tool for Django, suitable for local development. It is disabled when ``DEBUG=False``. It is also disabled when running tests, since it adds database queries for writing profile data to the database, using the mechanism suggested at https://github.com/pytest-dev/pytest/issues/9502.\r\n\r\nThis is based on https://gist.github.com/groovecoder/5d2963d753cdfa690507a415b565dbaa\r\n\r\nI'm not convinced we should add it by default, but if you want to use it, this makes it a lot easier.","reactions":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1809/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"jwhitlock","id":286017,"node_id":"MDQ6VXNlcjI4NjAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/286017?v=4","gravatar_id":"","url":"https://api.github.com/users/jwhitlock","html_url":"https://github.com/jwhitlock","followers_url":"https://api.github.com/users/jwhitlock/followers","following_url":"https://api.github.com/users/jwhitlock/following{/other_user}","gists_url":"https://api.github.com/users/jwhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/jwhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwhitlock/subscriptions","organizations_url":"https://api.github.com/users/jwhitlock/orgs","repos_url":"https://api.github.com/users/jwhitlock/repos","events_url":"https://api.github.com/users/jwhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/jwhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T15:46:53Z","updated_at":"2022-04-21T15:46:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829","repository_url":"https://api.github.com/repos/mozilla/fx-private-relay","labels_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829/labels{/name}","comments_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829/comments","events_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829/events","html_url":"https://github.com/mozilla/fx-private-relay/pull/1829","id":1211226918,"node_id":"PR_kwDOC10h5842kZMC","number":1829,"title":"Add optional django-silk","user":{"login":"jwhitlock","id":286017,"node_id":"MDQ6VXNlcjI4NjAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/286017?v=4","gravatar_id":"","url":"https://api.github.com/users/jwhitlock","html_url":"https://github.com/jwhitlock","followers_url":"https://api.github.com/users/jwhitlock/followers","following_url":"https://api.github.com/users/jwhitlock/following{/other_user}","gists_url":"https://api.github.com/users/jwhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/jwhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwhitlock/subscriptions","organizations_url":"https://api.github.com/users/jwhitlock/orgs","repos_url":"https://api.github.com/users/jwhitlock/repos","events_url":"https://api.github.com/users/jwhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/jwhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-21T15:46:53Z","updated_at":"2022-04-21T18:53:56Z","closed_at":"2022-04-21T18:53:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":190652903,"node_id":"MDEwOlJlcG9zaXRvcnkxOTA2NTI5MDM=","name":"fx-private-relay","full_name":"mozilla/fx-private-relay","private":false,"owner":{"login":"mozilla","id":131524,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzMTUyNA==","avatar_url":"https://avatars.githubusercontent.com/u/131524?v=4","gravatar_id":"","url":"https://api.github.com/users/mozilla","html_url":"https://github.com/mozilla","followers_url":"https://api.github.com/users/mozilla/followers","following_url":"https://api.github.com/users/mozilla/following{/other_user}","gists_url":"https://api.github.com/users/mozilla/gists{/gist_id}","starred_url":"https://api.github.com/users/mozilla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mozilla/subscriptions","organizations_url":"https://api.github.com/users/mozilla/orgs","repos_url":"https://api.github.com/users/mozilla/repos","events_url":"https://api.github.com/users/mozilla/events{/privacy}","received_events_url":"https://api.github.com/users/mozilla/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mozilla/fx-private-relay","description":"Keep your email safe from hackers and trackers. Make an email alias with 1 click, and keep your address to yourself.","fork":false,"url":"https://api.github.com/repos/mozilla/fx-private-relay","forks_url":"https://api.github.com/repos/mozilla/fx-private-relay/forks","keys_url":"https://api.github.com/repos/mozilla/fx-private-relay/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mozilla/fx-private-relay/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mozilla/fx-private-relay/teams","hooks_url":"https://api.github.com/repos/mozilla/fx-private-relay/hooks","issue_events_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/events{/number}","events_url":"https://api.github.com/repos/mozilla/fx-private-relay/events","assignees_url":"https://api.github.com/repos/mozilla/fx-private-relay/assignees{/user}","branches_url":"https://api.github.com/repos/mozilla/fx-private-relay/branches{/branch}","tags_url":"https://api.github.com/repos/mozilla/fx-private-relay/tags","blobs_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/refs{/sha}","trees_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mozilla/fx-private-relay/statuses/{sha}","languages_url":"https://api.github.com/repos/mozilla/fx-private-relay/languages","stargazers_url":"https://api.github.com/repos/mozilla/fx-private-relay/stargazers","contributors_url":"https://api.github.com/repos/mozilla/fx-private-relay/contributors","subscribers_url":"https://api.github.com/repos/mozilla/fx-private-relay/subscribers","subscription_url":"https://api.github.com/repos/mozilla/fx-private-relay/subscription","commits_url":"https://api.github.com/repos/mozilla/fx-private-relay/commits{/sha}","git_commits_url":"https://api.github.com/repos/mozilla/fx-private-relay/git/commits{/sha}","comments_url":"https://api.github.com/repos/mozilla/fx-private-relay/comments{/number}","issue_comment_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/comments{/number}","contents_url":"https://api.github.com/repos/mozilla/fx-private-relay/contents/{+path}","compare_url":"https://api.github.com/repos/mozilla/fx-private-relay/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mozilla/fx-private-relay/merges","archive_url":"https://api.github.com/repos/mozilla/fx-private-relay/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mozilla/fx-private-relay/downloads","issues_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues{/number}","pulls_url":"https://api.github.com/repos/mozilla/fx-private-relay/pulls{/number}","milestones_url":"https://api.github.com/repos/mozilla/fx-private-relay/milestones{/number}","notifications_url":"https://api.github.com/repos/mozilla/fx-private-relay/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mozilla/fx-private-relay/labels{/name}","releases_url":"https://api.github.com/repos/mozilla/fx-private-relay/releases{/id}","deployments_url":"https://api.github.com/repos/mozilla/fx-private-relay/deployments","created_at":"2019-06-06T21:36:28Z","updated_at":"2025-11-09T01:59:54Z","pushed_at":"2025-11-09T00:09:18Z","git_url":"git://github.com/mozilla/fx-private-relay.git","ssh_url":"git@github.com:mozilla/fx-private-relay.git","clone_url":"https://github.com/mozilla/fx-private-relay.git","svn_url":"https://github.com/mozilla/fx-private-relay","homepage":"https://relay.firefox.com","size":60688,"stargazers_count":1640,"watchers_count":1640,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":225,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":35,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":225,"open_issues":35,"watchers":1640,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/pulls/1829","html_url":"https://github.com/mozilla/fx-private-relay/pull/1829","diff_url":"https://github.com/mozilla/fx-private-relay/pull/1829.diff","patch_url":"https://github.com/mozilla/fx-private-relay/pull/1829.patch","merged_at":"2022-04-21T18:53:53Z"},"body":"[Silk](https://github.com/jazzband/django-silk) is a live profiling and inspection tool for Django, suitable for local development. It is disabled when ``DEBUG=False``. It is also disabled when running tests, since it adds database queries for writing profile data to the database, using the mechanism suggested at https://github.com/pytest-dev/pytest/issues/9502.\r\n\r\nThis is based on https://gist.github.com/groovecoder/5d2963d753cdfa690507a415b565dbaa\r\n\r\nTo use it, you need to manually install silk:\r\n\r\n```\r\npip install django-silk\r\n```\r\n\r\nAfter a `runserver` restart, it will be detected and enabled in Django settings.\r\n\r\nThis replaces PR #1809, which was on my fork so CI didn't run.","reactions":{"url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mozilla/fx-private-relay/issues/1829/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"saadmk11","id":24854406,"node_id":"MDQ6VXNlcjI0ODU0NDA2","avatar_url":"https://avatars.githubusercontent.com/u/24854406?v=4","gravatar_id":"","url":"https://api.github.com/users/saadmk11","html_url":"https://github.com/saadmk11","followers_url":"https://api.github.com/users/saadmk11/followers","following_url":"https://api.github.com/users/saadmk11/following{/other_user}","gists_url":"https://api.github.com/users/saadmk11/gists{/gist_id}","starred_url":"https://api.github.com/users/saadmk11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saadmk11/subscriptions","organizations_url":"https://api.github.com/users/saadmk11/orgs","repos_url":"https://api.github.com/users/saadmk11/repos","events_url":"https://api.github.com/users/saadmk11/events{/privacy}","received_events_url":"https://api.github.com/users/saadmk11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-26T13:46:45Z","updated_at":"2023-02-26T13:46:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934","repository_url":"https://api.github.com/repos/djangopackages/djangopackages","labels_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934/labels{/name}","comments_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934/comments","events_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934/events","html_url":"https://github.com/djangopackages/djangopackages/pull/934","id":1600064607,"node_id":"PR_kwDOACPiFc5KxhMn","number":934,"title":"Enable `django-debug-toolbar`","user":{"login":"saadmk11","id":24854406,"node_id":"MDQ6VXNlcjI0ODU0NDA2","avatar_url":"https://avatars.githubusercontent.com/u/24854406?v=4","gravatar_id":"","url":"https://api.github.com/users/saadmk11","html_url":"https://github.com/saadmk11","followers_url":"https://api.github.com/users/saadmk11/followers","following_url":"https://api.github.com/users/saadmk11/following{/other_user}","gists_url":"https://api.github.com/users/saadmk11/gists{/gist_id}","starred_url":"https://api.github.com/users/saadmk11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saadmk11/subscriptions","organizations_url":"https://api.github.com/users/saadmk11/orgs","repos_url":"https://api.github.com/users/saadmk11/repos","events_url":"https://api.github.com/users/saadmk11/events{/privacy}","received_events_url":"https://api.github.com/users/saadmk11/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-02-26T13:46:45Z","updated_at":"2023-03-03T21:11:40Z","closed_at":"2023-03-03T21:11:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":2351637,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUxNjM3","name":"djangopackages","full_name":"djangopackages/djangopackages","private":false,"owner":{"login":"djangopackages","id":27385825,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI3Mzg1ODI1","avatar_url":"https://avatars.githubusercontent.com/u/27385825?v=4","gravatar_id":"","url":"https://api.github.com/users/djangopackages","html_url":"https://github.com/djangopackages","followers_url":"https://api.github.com/users/djangopackages/followers","following_url":"https://api.github.com/users/djangopackages/following{/other_user}","gists_url":"https://api.github.com/users/djangopackages/gists{/gist_id}","starred_url":"https://api.github.com/users/djangopackages/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djangopackages/subscriptions","organizations_url":"https://api.github.com/users/djangopackages/orgs","repos_url":"https://api.github.com/users/djangopackages/repos","events_url":"https://api.github.com/users/djangopackages/events{/privacy}","received_events_url":"https://api.github.com/users/djangopackages/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/djangopackages/djangopackages","description":"Django Packages is a directory of reusable apps, sites, tools, and more for your Django projects.","fork":false,"url":"https://api.github.com/repos/djangopackages/djangopackages","forks_url":"https://api.github.com/repos/djangopackages/djangopackages/forks","keys_url":"https://api.github.com/repos/djangopackages/djangopackages/keys{/key_id}","collaborators_url":"https://api.github.com/repos/djangopackages/djangopackages/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/djangopackages/djangopackages/teams","hooks_url":"https://api.github.com/repos/djangopackages/djangopackages/hooks","issue_events_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/events{/number}","events_url":"https://api.github.com/repos/djangopackages/djangopackages/events","assignees_url":"https://api.github.com/repos/djangopackages/djangopackages/assignees{/user}","branches_url":"https://api.github.com/repos/djangopackages/djangopackages/branches{/branch}","tags_url":"https://api.github.com/repos/djangopackages/djangopackages/tags","blobs_url":"https://api.github.com/repos/djangopackages/djangopackages/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/djangopackages/djangopackages/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/djangopackages/djangopackages/git/refs{/sha}","trees_url":"https://api.github.com/repos/djangopackages/djangopackages/git/trees{/sha}","statuses_url":"https://api.github.com/repos/djangopackages/djangopackages/statuses/{sha}","languages_url":"https://api.github.com/repos/djangopackages/djangopackages/languages","stargazers_url":"https://api.github.com/repos/djangopackages/djangopackages/stargazers","contributors_url":"https://api.github.com/repos/djangopackages/djangopackages/contributors","subscribers_url":"https://api.github.com/repos/djangopackages/djangopackages/subscribers","subscription_url":"https://api.github.com/repos/djangopackages/djangopackages/subscription","commits_url":"https://api.github.com/repos/djangopackages/djangopackages/commits{/sha}","git_commits_url":"https://api.github.com/repos/djangopackages/djangopackages/git/commits{/sha}","comments_url":"https://api.github.com/repos/djangopackages/djangopackages/comments{/number}","issue_comment_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/comments{/number}","contents_url":"https://api.github.com/repos/djangopackages/djangopackages/contents/{+path}","compare_url":"https://api.github.com/repos/djangopackages/djangopackages/compare/{base}...{head}","merges_url":"https://api.github.com/repos/djangopackages/djangopackages/merges","archive_url":"https://api.github.com/repos/djangopackages/djangopackages/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/djangopackages/djangopackages/downloads","issues_url":"https://api.github.com/repos/djangopackages/djangopackages/issues{/number}","pulls_url":"https://api.github.com/repos/djangopackages/djangopackages/pulls{/number}","milestones_url":"https://api.github.com/repos/djangopackages/djangopackages/milestones{/number}","notifications_url":"https://api.github.com/repos/djangopackages/djangopackages/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/djangopackages/djangopackages/labels{/name}","releases_url":"https://api.github.com/repos/djangopackages/djangopackages/releases{/id}","deployments_url":"https://api.github.com/repos/djangopackages/djangopackages/deployments","created_at":"2011-09-08T21:24:21Z","updated_at":"2025-11-09T14:32:38Z","pushed_at":"2025-11-09T14:32:35Z","git_url":"git://github.com/djangopackages/djangopackages.git","ssh_url":"git@github.com:djangopackages/djangopackages.git","clone_url":"https://github.com/djangopackages/djangopackages.git","svn_url":"https://github.com/djangopackages/djangopackages","homepage":"https://djangopackages.org","size":17326,"stargazers_count":899,"watchers_count":899,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":194,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":34,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["django","packaging","python"],"visibility":"public","forks":194,"open_issues":34,"watchers":899,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/djangopackages/djangopackages/pulls/934","html_url":"https://github.com/djangopackages/djangopackages/pull/934","diff_url":"https://github.com/djangopackages/djangopackages/pull/934.diff","patch_url":"https://github.com/djangopackages/djangopackages/pull/934.patch","merged_at":"2023-03-03T21:11:35Z"},"body":"This PR:\r\n\r\n1. Enables `django-debug-toolbar` for development\r\n2. Fixes Test Failure when `django-debug-toolbar` is enabled.\r\n\r\nAlternative:\r\n\r\n- Using [pytest-is-running](https://github.com/adamchainz/pytest-is-running) package.\r\n\r\nDiscussion:\r\n- https://github.com/pytest-dev/pytest/issues/9502","reactions":{"url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/djangopackages/djangopackages/issues/934/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1959927315","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1959927315","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1959927315,"node_id":"IC_kwDOAjwLdc500h4T","user":{"login":"Bengt","id":11575,"node_id":"MDQ6VXNlcjExNTc1","avatar_url":"https://avatars.githubusercontent.com/u/11575?v=4","gravatar_id":"","url":"https://api.github.com/users/Bengt","html_url":"https://github.com/Bengt","followers_url":"https://api.github.com/users/Bengt/followers","following_url":"https://api.github.com/users/Bengt/following{/other_user}","gists_url":"https://api.github.com/users/Bengt/gists{/gist_id}","starred_url":"https://api.github.com/users/Bengt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bengt/subscriptions","organizations_url":"https://api.github.com/users/Bengt/orgs","repos_url":"https://api.github.com/users/Bengt/repos","events_url":"https://api.github.com/users/Bengt/events{/privacy}","received_events_url":"https://api.github.com/users/Bengt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-22T17:29:33Z","updated_at":"2024-02-22T17:29:33Z","body":"I stopped my overengineering when I arrived at:\r\n\r\n```python\r\ndef we_are_running_via_pytest() -> bool:\r\n    \"\"\"Detect if we are running via pytest.\"\"\"\r\n    # When we are running via pytest it is loaded to the sys modules dictionary.\r\n    _we_are_running_via_pytest: bool = 'pytest' in sys.modules\r\n    return _we_are_running_via_pytest\r\n```\r\n\r\nSource: <https://docs.python.org/3/library/sys.html#sys.modules>\r\n\r\nUse it like so:\r\n\r\n```python\r\ndef get_configuration() -> Configuration:\r\n    configuration: Configuration\r\n\r\n    if we_are_running_via_pytest():\r\n        print('Creating test configuration.')\r\n        configuration = _get_test_configuration()\r\n    else:\r\n        print('Creating runtime configuration.')\r\n        configuration = _get_runtime_configuration()\r\n\r\n    return configuration\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1959927315/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Bengt","id":11575,"node_id":"MDQ6VXNlcjExNTc1","avatar_url":"https://avatars.githubusercontent.com/u/11575?v=4","gravatar_id":"","url":"https://api.github.com/users/Bengt","html_url":"https://github.com/Bengt","followers_url":"https://api.github.com/users/Bengt/followers","following_url":"https://api.github.com/users/Bengt/following{/other_user}","gists_url":"https://api.github.com/users/Bengt/gists{/gist_id}","starred_url":"https://api.github.com/users/Bengt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bengt/subscriptions","organizations_url":"https://api.github.com/users/Bengt/orgs","repos_url":"https://api.github.com/users/Bengt/repos","events_url":"https://api.github.com/users/Bengt/events{/privacy}","received_events_url":"https://api.github.com/users/Bengt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1960541398","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1960541398","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":1960541398,"node_id":"IC_kwDOAjwLdc5023zW","user":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-23T00:07:26Z","updated_at":"2024-02-23T00:11:31Z","body":"Thanks everyone!\r\n\r\nI'm closing this for now, with the recommended solution being:\r\n\r\n```python\r\nis_running_pytest = \"pytest\" in sys.modules\r\n```\r\n\r\nIf somebody wants to contribute that to the documentation, it would be great!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1960541398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11898085392,"node_id":"CE_lADOAjwLdc5Bhb5MzwAAAALFLmAQ","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/11898085392","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-02-23T00:07:26Z","state_reason":"not_planned","performed_via_github_app":null},{"actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-22T18:43:33Z","updated_at":"2024-03-22T18:43:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153/events","html_url":"https://github.com/pytest-dev/pytest/pull/12153","id":2203078507,"node_id":"PR_kwDOAjwLdc5qhQeu","number":12153,"title":"Updated docs: Now we can use environment variable PYTEST_VERSION  to detect if a code is run by a pytest run","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2024-03-22T18:31:32Z","updated_at":"2024-04-28T18:58:32Z","closed_at":"2024-04-28T18:52:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pytest-dev/pytest/pulls/12153","html_url":"https://github.com/pytest-dev/pytest/pull/12153","diff_url":"https://github.com/pytest-dev/pytest/pull/12153.diff","patch_url":"https://github.com/pytest-dev/pytest/pull/12153.patch","merged_at":"2024-04-28T18:52:29Z"},"body":"Add a better way to detect if a code is running from within a pytest run.\r\n\r\n<!--\r\nThanks for submitting a PR, your contribution is really appreciated!\r\n\r\nHere is a quick checklist that should be present in PRs.\r\n\r\n- [ ] Include documentation when adding new features.\r\n- [ ] Include new tests or update existing tests when applicable.\r\n- [X] Allow maintainers to push and squash when merging my commits. Please uncheck this if you prefer to squash the commits yourself.\r\n\r\nIf this change fixes an issue, please:\r\n\r\n- [ ] Add text like ``closes #XYZW`` to the PR description and/or commits (where ``XYZW`` is the issue number). See the [github docs](https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword) for more information.\r\n\r\nUnless your change is trivial or a small documentation fix (e.g., a typo or reword of a small section) please:\r\n\r\n- [ ] Create a new changelog file in the `changelog` folder, with a name like `<ISSUE NUMBER>.<TYPE>.rst`. See [changelog/README.rst](https://github.com/pytest-dev/pytest/blob/main/changelog/README.rst) for details.\r\n\r\n  Write sentences in the **past or present tense**, examples:\r\n\r\n  * *Improved verbose diff output with sequences.*\r\n  * *Terminal summary statistics now use multiple colors.*\r\n\r\n  Also make sure to end the sentence with a `.`.\r\n\r\n- [ ] Add yourself to `AUTHORS` in alphabetical order.\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12153/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2015983919","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2015983919","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2015983919,"node_id":"IC_kwDOAjwLdc54KXkv","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-22T21:48:20Z","updated_at":"2024-03-22T21:48:20Z","body":"But I think \"pytest\" in sys.modules returning True if theres a pytest import makes it kinda error prone","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2015983919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016447991","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016447991","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2016447991,"node_id":"IC_kwDOAjwLdc54MI33","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T10:51:27Z","updated_at":"2024-03-23T10:51:27Z","body":"This might be over engineered but I think this works better and helps to avoid one of the edge case with ` \"pytest\" in sys.modules`\r\n\r\n```\r\nimport os\r\nimport inspect\r\nimport sys\r\n\r\n# List of pytest related files\r\npytest_related_files = (\r\n    os.path.join('_pytest', 'python_path.py'),\r\n    os.path.join('_pytest', 'logging.py'),\r\n    os.path.join('_pytest', 'main.py'),\r\n    os.path.join('_pytest', 'runner.py'),\r\n    os.path.join('_pytest', 'config', '__init__.py'),\r\n    os.path.join('_pytest', 'debugging.py')\r\n)\r\n\r\n# Check if any of the pytest related files are in the current stack\r\nis_pytest_in_stack = any(frame.filename.endswith(pytest_related_files) for frame in inspect.stack())\r\n\r\n# Check if a pytest is currently running\r\nis_pytest_running = os.environ.get(\"PYTEST_CURRENT_TEST\")\r\n\r\n# Check if pytest module is imported\r\n# We probably dont need to use this as, if one of the other two condition is True, this should be True\r\nis_pytest_imported = \"pytest\" in sys.modules \r\n\r\nif is_pytest_imported and (is_pytest_in_stack or is_pytest_running):\r\n    print(True)\r\nelse:\r\n    print(False)\r\n```\r\n\r\nDo let me know if theres a case where this will not work","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016447991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016450660","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016450660","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2016450660,"node_id":"IC_kwDOAjwLdc54MJhk","user":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T10:59:24Z","updated_at":"2024-03-23T10:59:24Z","body":"too many magic constants","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016450660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016455560","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016455560","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2016455560,"node_id":"IC_kwDOAjwLdc54MKuI","user":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T11:12:57Z","updated_at":"2024-03-23T11:12:57Z","body":"`inspect.stack()` is also relatively slow as it makes Python build all the frame objects. Checking for `PYTEST_CURRENT_TEST` is a good idea if you want something a bit more robust than than the `sys.modules` check. But IMO the `sys.modules` check is good enough for most projects, it should be exceedingly rare to import pytest outside of the test process.\r\n\r\nI archived my [pytest-is-running](https://github.com/adamchainz/pytest-is-running) project btw.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016455560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"adamchainz","id":857609,"node_id":"MDQ6VXNlcjg1NzYwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/857609?v=4","gravatar_id":"","url":"https://api.github.com/users/adamchainz","html_url":"https://github.com/adamchainz","followers_url":"https://api.github.com/users/adamchainz/followers","following_url":"https://api.github.com/users/adamchainz/following{/other_user}","gists_url":"https://api.github.com/users/adamchainz/gists{/gist_id}","starred_url":"https://api.github.com/users/adamchainz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamchainz/subscriptions","organizations_url":"https://api.github.com/users/adamchainz/orgs","repos_url":"https://api.github.com/users/adamchainz/repos","events_url":"https://api.github.com/users/adamchainz/events{/privacy}","received_events_url":"https://api.github.com/users/adamchainz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016529275","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016529275","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2016529275,"node_id":"IC_kwDOAjwLdc54Mct7","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T15:45:22Z","updated_at":"2024-03-23T15:45:22Z","body":"What do you think about this\r\nhttps://github.com/dheerajck/pytest/tree/dev\r\n\r\nThis has been discussed [above](https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1010153472)\r\n\r\ncontexvar will not help as mentioned in this [comment](https://github.com/pytest-dev/pytest/issues/9502#issuecomment-1013900568)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016529275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016535423","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016535423","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2016535423,"node_id":"IC_kwDOAjwLdc54MeN_","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T16:09:54Z","updated_at":"2024-03-23T16:09:54Z","body":"Also I think [this](https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2016447991) will work with `_pytest/main.py` and `config/__init__.py`, I am just trying to cover the edge cases if theres any by adding others\r\n\r\nI dont think it inspect.stack being slow is an issue in this case unless it is noticeably slow , because we should only use it in places like django settings(which is only run once per server start, in every other cases(like when a ut is running) we can use `os.environ.get(\"PYTEST_CURRENT_TEST\")` which works great\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2016535423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2019350271","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2019350271","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2019350271,"node_id":"IC_kwDOAjwLdc54XNb_","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T04:14:07Z","updated_at":"2024-03-26T04:14:07Z","body":"I am using ```IS_PYTEST = sys.argv[0].endswith('pytest') or os.environ.get('PYTEST_XDIST_WORKER_COUNT')``` which works with `pytest` and `pytest -n x`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2019350271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2019350460","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2019350460","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2019350460,"node_id":"IC_kwDOAjwLdc54XNe8","user":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T04:14:16Z","updated_at":"2024-03-26T04:14:16Z","body":"I am aware of cases where this doesnt work like `python -m pytest` but this seems better than `\"pytest\" in sys.modules`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2019350460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12521448969,"node_id":"REE_lADOAjwLdc5Bhb5MzwAAAALqViYJ","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12521448969","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2024-04-18T10:45:21Z","state_reason":"reopened","performed_via_github_app":null},{"id":12521453885,"node_id":"CE_lADOAjwLdc5Bhb5MzwAAAALqVjk9","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12521453885","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"48b6d188349b426a34e013820df6542087f0d08b","commit_url":"https://api.github.com/repos/pytest-dev/pytest/commits/48b6d188349b426a34e013820df6542087f0d08b","created_at":"2024-04-18T10:45:49Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2063572916","html_url":"https://github.com/pytest-dev/pytest/issues/9502#issuecomment-2063572916","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/9502","id":2063572916,"node_id":"IC_kwDOAjwLdc56_5-0","user":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T10:46:38Z","updated_at":"2024-04-18T10:46:38Z","body":"`PYTEST_VERSION` environment variable is now defined when executing pytest (#12190). It will be available in the next minor release.\r\n\r\nThanks @dheerajck for the PR. :+1:  ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2063572916/reactions","total_count":7,"+1":6,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12521462619,"node_id":"MEE_lADOAjwLdc5Bhb5MzwAAAALqVltb","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12521462619","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-18T10:46:39Z","performed_via_github_app":null},{"id":12521462624,"node_id":"SE_lADOAjwLdc5Bhb5MzwAAAALqVltg","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12521462624","actor":{"login":"dheerajck","id":112573278,"node_id":"U_kgDOBrW7Xg","avatar_url":"https://avatars.githubusercontent.com/u/112573278?v=4","gravatar_id":"","url":"https://api.github.com/users/dheerajck","html_url":"https://github.com/dheerajck","followers_url":"https://api.github.com/users/dheerajck/followers","following_url":"https://api.github.com/users/dheerajck/following{/other_user}","gists_url":"https://api.github.com/users/dheerajck/gists{/gist_id}","starred_url":"https://api.github.com/users/dheerajck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dheerajck/subscriptions","organizations_url":"https://api.github.com/users/dheerajck/orgs","repos_url":"https://api.github.com/users/dheerajck/repos","events_url":"https://api.github.com/users/dheerajck/events{/privacy}","received_events_url":"https://api.github.com/users/dheerajck/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-18T10:46:39Z","performed_via_github_app":null},{"id":12524980675,"node_id":"REFE_lADOAjwLdc5Bhb5MzwAAAALqjAnD","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12524980675","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"48b6d188349b426a34e013820df6542087f0d08b","commit_url":"https://api.github.com/repos/sysfce2/python-pytest/commits/48b6d188349b426a34e013820df6542087f0d08b","created_at":"2024-04-18T15:02:57Z","performed_via_github_app":null}]