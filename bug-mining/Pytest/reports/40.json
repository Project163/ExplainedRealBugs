{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757/events","html_url":"https://github.com/pytest-dev/pytest/issues/3757","id":346511213,"node_id":"MDU6SXNzdWUzNDY1MTEyMTM=","number":3757,"title":"pytest 3.7.0: exception on running tests","user":{"login":"bertpassek","id":7325772,"node_id":"MDQ6VXNlcjczMjU3NzI=","avatar_url":"https://avatars.githubusercontent.com/u/7325772?v=4","gravatar_id":"","url":"https://api.github.com/users/bertpassek","html_url":"https://github.com/bertpassek","followers_url":"https://api.github.com/users/bertpassek/followers","following_url":"https://api.github.com/users/bertpassek/following{/other_user}","gists_url":"https://api.github.com/users/bertpassek/gists{/gist_id}","starred_url":"https://api.github.com/users/bertpassek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bertpassek/subscriptions","organizations_url":"https://api.github.com/users/bertpassek/orgs","repos_url":"https://api.github.com/users/bertpassek/repos","events_url":"https://api.github.com/users/bertpassek/events{/privacy}","received_events_url":"https://api.github.com/users/bertpassek/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-08-01T09:04:41Z","updated_at":"2018-08-01T12:44:31Z","closed_at":"2018-08-01T12:44:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We get this error when running tests with pipenv (pipenv run pytest)\r\n\r\npython version: 2.7.12\r\npytest version: 3.7.0\r\npluggy version: 0.7.1\r\npathlib version: 2.1.0\r\n\r\nINTERNALERROR> Tracebak (most recent call last):\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/main.py\", line 174, in wrap_session\r\nINTERNALERROR>     config._do_configure()\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/config/__init__.py\", line 588, in _do_configure\r\nINTERNALERROR>     self.hook.pytest_configure.call_historic(kwargs=dict(config=self))\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/hooks.py\", line 280, in call_historic\r\nINTERNALERROR>     res = self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/manager.py\", line 67, in _hookexec\r\nINTERNALERROR>     return self._inner_hookexec(hook, methods, kwargs)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/manager.py\", line 61, in <lambda>\r\nINTERNALERROR>     firstresult=hook.spec_opts.get('firstresult'),\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/callers.py\", line 201, in _multicall\r\nINTERNALERROR>     return outcome.get_result()\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/callers.py\", line 77, in get_result\r\nINTERNALERROR>     _reraise(*ex)  # noqa\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pluggy/callers.py\", line 180, in _multicall\r\nINTERNALERROR>     res = hook_impl.function(*args)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/cacheprovider.py\", line 292, in pytest_configure\r\nINTERNALERROR>     config.cache = Cache.for_config(config)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/cacheprovider.py\", line 40, in for_config\r\nINTERNALERROR>     cachedir = cls.cache_dir_from_config(config)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/cacheprovider.py\", line 48, in cache_dir_from_config\r\nINTERNALERROR>     return paths.resolve_from_str(config.getini(\"cache_dir\"), config.rootdir)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/_pytest/paths.py\", line 7, in resolve_from_str\r\nINTERNALERROR>     root = Path(root)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pathlib2.py\", line 1095, in __new__\r\nINTERNALERROR>     self = cls._from_parts(args, init=False)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pathlib2.py\", line 760, in _from_parts\r\nINTERNALERROR>     drv, root, parts = self._parse_args(args)\r\nINTERNALERROR>   File \".venv/local/lib/python2.7/site-packages/pathlib2.py\", line 752, in _parse_args\r\nINTERNALERROR>     % type(a))\r\nINTERNALERROR> TypeError: argument should be a path or str object, not <class 'py._path.local.LocalPath'>","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3757/timeline","performed_via_github_app":null,"state_reason":"completed"}