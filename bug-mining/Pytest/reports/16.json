{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088/events","html_url":"https://github.com/pytest-dev/pytest/issues/3088","id":286313541,"node_id":"MDU6SXNzdWUyODYzMTM1NDE=","number":3088,"title":"Invalid percentages of Test Suite progress","user":{"login":"merzlya","id":18666343,"node_id":"MDQ6VXNlcjE4NjY2MzQz","avatar_url":"https://avatars.githubusercontent.com/u/18666343?v=4","gravatar_id":"","url":"https://api.github.com/users/merzlya","html_url":"https://github.com/merzlya","followers_url":"https://api.github.com/users/merzlya/followers","following_url":"https://api.github.com/users/merzlya/following{/other_user}","gists_url":"https://api.github.com/users/merzlya/gists{/gist_id}","starred_url":"https://api.github.com/users/merzlya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merzlya/subscriptions","organizations_url":"https://api.github.com/users/merzlya/orgs","repos_url":"https://api.github.com/users/merzlya/repos","events_url":"https://api.github.com/users/merzlya/events{/privacy}","received_events_url":"https://api.github.com/users/merzlya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":224853076,"node_id":"MDU6TGFiZWwyMjQ4NTMwNzY=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20reporting","name":"topic: reporting","color":"fef2c0","default":false,"description":"related to terminal output and user-facing messages and errors"}],"state":"closed","locked":false,"assignee":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2018-01-05T15:06:06Z","updated_at":"2018-01-12T10:27:27Z","closed_at":"2018-01-12T10:27:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Progress of Test Suite shows more than 100% if Teardown fails:\r\n```\r\n$ python3 -m pytest -v ./test.py &> res.txt; cat res.txt                                                                                                                                        \r\n============================= test session starts ==============================                                                                                                                                   \r\nplatform linux -- Python 3.6.4, pytest-3.3.1, py-1.5.0, pluggy-0.6.0 -- /usr/bin/python3\r\ncachedir: .cache\r\nrootdir: /home/pavel, inifile:\r\nplugins: allure-adaptor-1.7.8\r\ncollecting ... collected 1 item\r\n\r\ntest.py::test_foo1 PASSED                                                [100%]\r\ntest.py::test_foo1 ERROR                                                 [200%]\r\n\r\n==================================== ERRORS ====================================\r\n```\r\ntest.py:\r\n```\r\nimport pytest                                                                                                                                                                                                      \r\n\r\n@pytest.fixture\r\ndef fail_teardown():\r\n    print(\"SETUP\")\r\n    yield fail_teardown\r\n    print(\"TEARDOWN\")\r\n    assert 1 == 2\r\n\r\ndef test_foo1(fail_teardown):\r\n    print(\"TEST\")\r\n```\r\nSystem:\r\n```\r\n$ pip list 2>/dev/null                                                                                                                                                                          \r\nappdirs (1.4.3)                                                                                                                                                                                                    \r\nasn1crypto (0.24.0)                                                                                                                                                                                                \r\nattrs (17.4.0)\r\nbcrypt (3.1.4)\r\ncffi (1.11.2)\r\ncryptography (2.1.4)\r\nidna (2.6)\r\nisc (2.0)\r\njson2html (1.1.1)\r\nlxml (4.1.1)                                                                                                                                                                                                       \r\nmsgpack-python (0.4.8)                                                                                                                                                                                             \r\nnamedlist (1.7)                                                                                                                                                                                                    \r\nnetifaces (0.10.6)                                                                                                                                                                                                 \r\npackaging (16.8)                                                                                                                                                                                                   \r\nparamiko (2.4.0)                                                                                                                                                                                                   \r\npip (9.0.1)                                                                                                                                                                                                        \r\npluggy (0.6.0)                                                                                                                                                                                                     \r\nply (3.10)                                                                                                                                                                                                         \r\npy (1.5.0)                                                                                                                                                                                                         \r\npyasn1 (0.4.2)                                                                                                                                                                                                     \r\npycparser (2.18)                                                                                                                                                                                                   \r\nPyNaCl (1.2.0)                                                                                                                                                                                                     \r\npyparsing (2.2.0)                                                                                                                                                                                                  \r\npyserial (3.4)                                                                                                                                                                                                     \r\npytest (3.3.1)                                                                                                                                                                                                     \r\npytest-allure-adaptor (1.7.8)                                                                                                                                                                                      \r\nscp (0.10.2)                                                                                                                                                                                                       \r\nsetuptools (38.2.5)                                                                                                                                                                                                \r\nsix (1.11.0)                                                                                                                                                                                                       \r\nspeedtest-cli (1.0.7)                                                                                                                                                                                              \r\nws4py (0.3.4)                                                                                                                                                                                            \r\n$ uname -a                                                                                                                                                                                      \r\nLinux afitester 4.14.10-1-ARCH #1 SMP PREEMPT Fri Dec 29 20:17:35 UTC 2017 x86_64 GNU/Linux\r\n```","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/3088/timeline","performed_via_github_app":null,"state_reason":"completed"}