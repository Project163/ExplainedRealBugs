{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417/events","html_url":"https://github.com/pytest-dev/pytest/issues/11417","id":1887988823,"node_id":"I_kwDOAjwLdc5wiGxX","number":11417,"title":"ValueError: PurePosixPath('.') has an empty name","user":{"login":"qci-amos","id":45039789,"node_id":"MDQ6VXNlcjQ1MDM5Nzg5","avatar_url":"https://avatars.githubusercontent.com/u/45039789?v=4","gravatar_id":"","url":"https://api.github.com/users/qci-amos","html_url":"https://github.com/qci-amos","followers_url":"https://api.github.com/users/qci-amos/followers","following_url":"https://api.github.com/users/qci-amos/following{/other_user}","gists_url":"https://api.github.com/users/qci-amos/gists{/gist_id}","starred_url":"https://api.github.com/users/qci-amos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qci-amos/subscriptions","organizations_url":"https://api.github.com/users/qci-amos/orgs","repos_url":"https://api.github.com/users/qci-amos/repos","events_url":"https://api.github.com/users/qci-amos/events{/privacy}","received_events_url":"https://api.github.com/users/qci-amos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2023-09-08T16:30:07Z","updated_at":"2023-09-11T13:14:49Z","closed_at":"2023-09-10T12:57:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nThanks for submitting an issue!\r\n\r\nQuick check-list while reporting bugs:\r\n-->\r\n\r\n- [ ] a detailed description of the bug or problem you are having\r\n- [ ] output of `pip list` from the virtual environment you are using\r\n- [ ] pytest and operating system versions\r\n- [ ] minimal example if possible\r\n\r\n\r\nI've bracketed the exception to `pytest==7.4.2`:\r\n\r\n\r\nwith:\r\n```console\r\n$ cat test_debug_pytest.py\r\ndef test_my_test():\r\n    assert True\r\n$ cat pyproject.toml\r\n[tool.pytest.ini_options]\r\naddopts = \"-ra --import-mode=importlib\"\r\n$ cat __init__.py\r\n\r\n$ pytest test_debug_pytest.py\r\n================================================================================ test session starts =================================================================================\r\nplatform linux -- Python 3.8.11, pytest-7.4.2, pluggy-0.13.1\r\nrootdir: /mnt/c/Users/.../test\r\nconfigfile: pyproject.toml\r\nplugins: forked-1.3.0, notebook-0.6.1, mock-3.6.1, anyio-3.3.0, subtests-0.9.0, timeout-2.1.0, xdist-2.3.0, dash-2.7.0, cov-4.0.0, flaky-3.7.0, asyncio-0.21.0\r\nasyncio: mode=strict\r\ncollected 1 item\r\n\r\ntest_debug_pytest.py E                                                                                                                                                         [100%]\r\n\r\n======================================================================================= ERRORS =======================================================================================\r\n___________________________________________________________________________ ERROR at setup of test_my_test ___________________________________________________________________________\r\n\r\nself = PurePosixPath('.'), suffix = '.py'\r\n\r\n    def with_suffix(self, suffix):\r\n        \"\"\"Return a new path with the file suffix changed.  If the path\r\n        has no suffix, add given suffix.  If the given suffix is an empty\r\n        string, remove the suffix from the path.\r\n        \"\"\"\r\n        f = self._flavour\r\n        if f.sep in suffix or f.altsep and f.altsep in suffix:\r\n            raise ValueError(\"Invalid suffix %r\" % (suffix,))\r\n        if suffix and not suffix.startswith('.') or suffix == '.':\r\n            raise ValueError(\"Invalid suffix %r\" % (suffix))\r\n        name = self.name\r\n        if not name:\r\n>           raise ValueError(\"%r has an empty name\" % (self,))\r\nE           ValueError: PurePosixPath('.') has an empty name\r\n\r\n/home/me/miniconda3/envs/aq/lib/python3.8/pathlib.py:872: ValueError\r\n============================================================================== short test summary info ===============================================================================\r\nERROR test_debug_pytest.py::test_my_test - ValueError: PurePosixPath('.') has an empty name\r\n================================================================================== 1 error in 0.14s ==================================================================================\r\n```\r\nwith no `conftest.py`.\r\n\r\n","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11417/timeline","performed_via_github_app":null,"state_reason":"completed"}