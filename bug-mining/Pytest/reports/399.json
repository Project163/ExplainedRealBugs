{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937/events","html_url":"https://github.com/pytest-dev/pytest/issues/11937","id":2119518855,"node_id":"I_kwDOAjwLdc5-VUqH","number":11937,"title":"8.0.0 reverses order of parametrize when calling individual tests ","user":{"login":"okken","id":1568356,"node_id":"MDQ6VXNlcjE1NjgzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/1568356?v=4","gravatar_id":"","url":"https://api.github.com/users/okken","html_url":"https://github.com/okken","followers_url":"https://api.github.com/users/okken/followers","following_url":"https://api.github.com/users/okken/following{/other_user}","gists_url":"https://api.github.com/users/okken/gists{/gist_id}","starred_url":"https://api.github.com/users/okken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/okken/subscriptions","organizations_url":"https://api.github.com/users/okken/orgs","repos_url":"https://api.github.com/users/okken/repos","events_url":"https://api.github.com/users/okken/events{/privacy}","received_events_url":"https://api.github.com/users/okken/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":240511492,"node_id":"MDU6TGFiZWwyNDA1MTE0OTI=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20collection","name":"topic: collection","color":"006b75","default":false,"description":"related to the collection phase"},{"id":315571544,"node_id":"MDU6TGFiZWwzMTU1NzE1NDQ=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20regression","name":"type: regression","color":"f7c6c7","default":false,"description":"indicates a problem that was introduced in a release which was working previously"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-02-05T21:51:10Z","updated_at":"2024-02-13T07:44:14Z","closed_at":"2024-02-13T07:44:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Summary**\r\nMarking a test with `@pytest.mark.parametrize('i', [1, 2, 3, 4])`, I expect the test to run 1, 2, 3, 4.\r\nAs a file, pytest does this as expected.\r\nRunning individual tests, though, results in 4, 3, 2, 1.\r\nThis is surprising behavior and new to 8.0.0.\r\n```\r\n(foo) $ pytest test_param.py::test_param -v\r\n...\r\nplatform win32 -- Python 3.11.7, pytest-8.0.0, ...\r\n...\r\ntest_param.py::test_param[4] PASSED                                      [ 25%]\r\ntest_param.py::test_param[3] PASSED                                      [ 50%]\r\ntest_param.py::test_param[2] PASSED                                      [ 75%]\r\ntest_param.py::test_param[1] PASSED                                      [100%]\r\n...\r\n```\r\n\r\nVersion 7.4.4 runs the test cases in the expected 1, 2, 3, 4 order.\r\n```\r\n(foo) $ pytest test_param.py::test_param -v\r\n...\r\nplatform win32 -- Python 3.11.7, pytest-7.4.4, ...\r\n...\r\ntest_param.py::test_param[1] PASSED                                      [ 25%]\r\ntest_param.py::test_param[2] PASSED                                      [ 50%]\r\ntest_param.py::test_param[3] PASSED                                      [ 75%]\r\ntest_param.py::test_param[4] PASSED                                      [100%]\r\n...\r\n```\r\n\r\n\r\n**Detail**\r\n- [x] a detailed description of the bug or problem you are having\r\nWhen running individual parametrized tests, the order is reversed. \r\nThis is new in 8.0.0, and not the case in 7.4.4\r\nSince 8.0.0 doesn't guarantee backward compatibility, I'm not sure if this is a bug or a feature. :)\r\nBut I didn't see it in the notes, so I'm guessing this is an unintended change, and it is an unexpected, surprising behavior.\r\n\r\n- [x] output of `pip list` from the virtual environment you are using\r\n\r\n```\r\n$ pip list\r\nPackage    Version\r\n---------- -------\r\ncolorama   0.4.6\r\niniconfig  2.0.0\r\npackaging  23.2\r\npip        23.3.1\r\npluggy     1.3.0\r\npytest     8.0.0\r\nsetuptools 65.5.0\r\n```\r\n\r\n- [x] pytest and operating system versions\r\n\r\nplatform win32 -- Python 3.11.7, pytest-8.0.0, pluggy-1.3.0\r\n\r\n- [x] minimal example if possible\r\n```\r\n$ cat test_param.py\r\nimport pytest\r\n\r\n@pytest.mark.parametrize('i', [1, 2, 3, 4])\r\ndef test_param(i):\r\n    ...\r\n```\r\n\r\n\r\nOutput from 8.0.0, shows expected 1,2,3,4 order with file invocation, but reverse order with individual test, 4, 3, 2, 1\r\n```\r\n(foo) $ pytest test_param.py -v\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.11.7, pytest-8.0.0, pluggy-1.3.0 -- C:\\Users\\okken\\projects\\foo\\venv\\Scripts\\python.exe\r\ncachedir: .pytest_cache\r\nrootdir: C:\\Users\\okken\\projects\\foo\r\nconfigfile: pytest.ini\r\ncollecting ... collected 4 items\r\n\r\ntest_param.py::test_param[1] PASSED                                      [ 25%]\r\ntest_param.py::test_param[2] PASSED                                      [ 50%]\r\ntest_param.py::test_param[3] PASSED                                      [ 75%]\r\ntest_param.py::test_param[4] PASSED                                      [100%]\r\n\r\n============================== 4 passed in 0.01s ==============================\r\n(foo) $ pytest test_param.py::test_param -v\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.11.7, pytest-8.0.0, pluggy-1.3.0 -- C:\\Users\\okken\\projects\\foo\\venv\\Scripts\\python.exe\r\ncachedir: .pytest_cache\r\nrootdir: C:\\Users\\okken\\projects\\foo\r\nconfigfile: pytest.ini\r\ncollecting ... collected 4 items\r\n\r\ntest_param.py::test_param[4] PASSED                                      [ 25%]\r\ntest_param.py::test_param[3] PASSED                                      [ 50%]\r\ntest_param.py::test_param[2] PASSED                                      [ 75%]\r\ntest_param.py::test_param[1] PASSED                                      [100%]\r\n\r\n============================== 4 passed in 0.02s ==============================\r\n```\r\n\r\n\r\nOutput from 7.4.4, shows expected 1,2,3,4 order with both file and individual test invocation.\r\n```\r\n(foo) $ pytest test_param.py -v\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.11.7, pytest-7.4.4, pluggy-1.3.0 -- C:\\Users\\okken\\projects\\foo\\venv\\Scripts\\python.exe\r\ncachedir: .pytest_cache\r\nrootdir: C:\\Users\\okken\\projects\\foo\r\nconfigfile: pytest.ini\r\ncollecting ... collected 4 items\r\n\r\ntest_param.py::test_param[1] PASSED                                      [ 25%]\r\ntest_param.py::test_param[2] PASSED                                      [ 50%]\r\ntest_param.py::test_param[3] PASSED                                      [ 75%]\r\ntest_param.py::test_param[4] PASSED                                      [100%]\r\n\r\n============================== 4 passed in 0.02s ==============================\r\n(foo) $ pytest test_param.py::test_param -v\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.11.7, pytest-7.4.4, pluggy-1.3.0 -- C:\\Users\\okken\\projects\\foo\\venv\\Scripts\\python.exe\r\ncachedir: .pytest_cache\r\nrootdir: C:\\Users\\okken\\projects\\foo\r\nconfigfile: pytest.ini\r\ncollecting ... collected 4 items\r\n\r\ntest_param.py::test_param[1] PASSED                                      [ 25%]\r\ntest_param.py::test_param[2] PASSED                                      [ 50%]\r\ntest_param.py::test_param[3] PASSED                                      [ 75%]\r\ntest_param.py::test_param[4] PASSED                                      [100%]\r\n\r\n============================== 4 passed in 0.00s ==============================\r\n```\r\n","closed_by":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11937/timeline","performed_via_github_app":null,"state_reason":"completed"}