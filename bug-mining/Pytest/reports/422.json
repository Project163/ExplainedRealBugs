{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166/events","html_url":"https://github.com/pytest-dev/pytest/issues/7166","id":612721781,"node_id":"MDU6SXNzdWU2MTI3MjE3ODE=","number":7166,"title":"Percentages don't align correctly","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":224853076,"node_id":"MDU6TGFiZWwyMjQ4NTMwNzY=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20reporting","name":"topic: reporting","color":"fef2c0","default":false,"description":"related to terminal output and user-facing messages and errors"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-05-05T16:10:52Z","updated_at":"2024-04-28T13:52:41Z","closed_at":"2024-04-28T13:52:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a really petty issue, so please excuse it. I know it isn't overly important compared to most issues here.\r\n\r\nThe percentages for execution logging do not align when there is a large number of tests being run. This leads to the lines of `.` overflowing to the next line, which makes the graph become difficult to read.\r\n\r\nI have had a poke around in the code, but I do not feel comfortable trying to fix this without more time to understand what the code is doing, unfortunately.\r\n\r\nThanks for taking the time to look into this, greatly appreciated, we rely on Pytest heavily in our project! :+1: \r\n\r\n![image](https://user-images.githubusercontent.com/52883826/81088704-3d029d00-8ef3-11ea-9fd8-7b45cd04e639.png)\r\n\r\nThis was for the following raw output:\r\n\r\n```\r\n............................................................................................ [  3%]\r\n............................................................................................ [  6%]\r\n............................................................................................ [  9%]\r\n............................................................................................ [ 13%]\r\n............................................................................................ [ 16%]\r\n............................................................................................ [ 19%]\r\n............................................................................................ [ 23%]\r\n............................................................................................ [ 26%]\r\n............................................................................................ [ 29%]\r\n............................................................................................ [ 33%]\r\n............................................................................................ [ 36%]\r\n............................................................................................ [ 39%]\r\n............................................................................................ [ 43%]\r\n............................................................................................. [ 46%]\r\n............................................................................................. [ 49%]\r\n............................................................................................ [ 53%]\r\n............................................................................................ [ 56%]\r\n............................................................................................ [ 59%]\r\n............................................................................................ [ 63%]\r\n............................................................................................. [ 66%]\r\n............................................................................................. [ 69%]\r\n............................................................................................ [ 73%]\r\n............................................................................................. [ 76%]\r\n............................................................................................ [ 79%]\r\n............................................................................................ [ 83%]\r\n............................................................................................ [ 86%]\r\n............................................................................................ [ 89%]\r\n............................................................................................ [ 93%]\r\n............................................................................................ [ 96%]\r\n............................................................................................ [ 99%]\r\n....                                                                                         [100%]\r\nCoverage.py warning: No data was collected. (no-data-collected)\r\n```\r\n...for a total of 2,769 test cases, which leads me to think this is possibly a simple rounding issue somewhere.\r\n\r\nTypeface: Jetbrains mono, but can repro on Droid Sans Mono and Fira Code Retina as well. The raw output suggests it isn't an issue with fonts but an issue with the number of `.` being printed -- I haven't bothered counting every single one yet. Can reproduce this on multiple terminals, such as the ones embedded in VSCode and IntelliJ IDEA.","closed_by":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7166/timeline","performed_via_github_app":null,"state_reason":"completed"}