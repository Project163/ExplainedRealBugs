{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678/events","html_url":"https://github.com/pytest-dev/pytest/issues/7678","id":684193892,"node_id":"MDU6SXNzdWU2ODQxOTM4OTI=","number":7678,"title":"ImportPathMismatchError when on UNC path","user":{"login":"htgoebel","id":784161,"node_id":"MDQ6VXNlcjc4NDE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/784161?v=4","gravatar_id":"","url":"https://api.github.com/users/htgoebel","html_url":"https://github.com/htgoebel","followers_url":"https://api.github.com/users/htgoebel/followers","following_url":"https://api.github.com/users/htgoebel/following{/other_user}","gists_url":"https://api.github.com/users/htgoebel/gists{/gist_id}","starred_url":"https://api.github.com/users/htgoebel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htgoebel/subscriptions","organizations_url":"https://api.github.com/users/htgoebel/orgs","repos_url":"https://api.github.com/users/htgoebel/repos","events_url":"https://api.github.com/users/htgoebel/events{/privacy}","received_events_url":"https://api.github.com/users/htgoebel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":240541592,"node_id":"MDU6TGFiZWwyNDA1NDE1OTI=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/platform:%20windows","name":"platform: windows","color":"fbca04","default":false,"description":"windows platform-specific problem"},{"id":705853693,"node_id":"MDU6TGFiZWw3MDU4NTM2OTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20config","name":"topic: config","color":"006b75","default":false,"description":"related to config handling, argument parsing and config file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":29,"created_at":"2020-08-23T14:31:13Z","updated_at":"2020-12-18T00:14:27Z","closed_at":"2020-12-13T13:35:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Windows: When running pytest on a directory mounted as UNC path, this fail with ImportPathMismatchError:\r\n```\r\nc:\\vagrant>pytest tests\\\\functional\\\\test_path_encodings.py\r\npytest tests\\\\functional\\\\test_path_encodings.py\r\nAdding c:\\python38\\lib\\site-packages\\pywin32_system32 to sys.path\r\nImportError while loading conftest 'c:\\vagrant\\tests\\functional\\conftest.py'.\r\n_pytest.pathlib.ImportPathMismatchError: ('conftest', 'c:\\\\vagrant\\\\tests\\\\functional\\\\conftest.py', WindowsPath('c:/vagrant/tests/functional/conftest.py'))\r\n```\r\n\r\n# How to reproduce\r\n* Fire up a virtual maschine usine Vagrat and sharing the current directory (which contains the package)\r\n* Intall Python, pytest and requiremnets\r\n* Try running pytest\r\n\r\nYou can actually use the setup provided by PyInstaller:\r\n```\r\ngit clone https://github.com/pyinstaller/pyinstaller.git\r\ncd bootloader\r\n# in Vagrantfile, line 434 (provision step \"install packages\") remove \"vcbuildtools\"\r\n# â€¦ to save avoid installing this huge package\r\nvagrant up --no-provision windows10\r\nvagrant ssh windows10  # password is \"Passw0rd!\"\r\npip install -U pip\r\npython -m pip install --upgrade pip setuptools wheel\r\npip install -U -r tests/requirements-tools.txt\r\npip install -e .\r\npytest tests/functional/test_path_encodings.py\r\n```\r\n\r\nC:\\Users\\IEUser>pip list \r\nPackage                   Version   Location\r\n------------------------- --------- ------------------\r\naltgraph                  0.17\r\napipkg                    1.5\r\natomicwrites              1.4.0\r\nattrs                     20.1.0\r\ncolorama                  0.4.3\r\nexecnet                   1.7.1\r\nflake8                    3.8.3\r\nfuture                    0.18.2\r\niniconfig                 1.0.1\r\nlxml                      4.5.2\r\nmccabe                    0.6.1\r\nmore-itertools            8.4.0\r\npackaging                 20.4\r\npefile                    2019.4.18\r\npip                       20.2.2\r\npluggy                    0.13.1\r\npsutil                    5.7.2\r\npy                        1.9.0\r\npycodestyle               2.6.0\r\npyflakes                  2.2.0\r\npyinstaller               4.1.dev0  \\\\vboxsvr\\vagrant\\\r\npyinstaller-hooks-contrib 2020.7\r\npyparsing                 2.4.7\r\npytest                    6.0.1\r\npytest-drop-dup-tests     0.3.0\r\npytest-forked             1.3.0\r\npytest-timeout            1.4.2\r\npytest-xdist              2.0.0\r\npywin32                   228\r\npywin32-ctypes            0.2.0\r\nsetuptools                47.1.0\r\nsix                       1.15.0\r\ntinyaes                   1.0.1\r\ntoml                      0.10.1\r\n\r\nSystem: Windows10, Python 3.8.5","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/7678/timeline","performed_via_github_app":null,"state_reason":"completed"}