[{"id":12084543703,"node_id":"LE_lADOAjwLdc6BagFSzwAAAALQS4DX","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12084543703","actor":{"login":"Zac-HD","id":12229877,"node_id":"MDQ6VXNlcjEyMjI5ODc3","avatar_url":"https://avatars.githubusercontent.com/u/12229877?v=4","gravatar_id":"","url":"https://api.github.com/users/Zac-HD","html_url":"https://github.com/Zac-HD","followers_url":"https://api.github.com/users/Zac-HD/followers","following_url":"https://api.github.com/users/Zac-HD/following{/other_user}","gists_url":"https://api.github.com/users/Zac-HD/gists{/gist_id}","starred_url":"https://api.github.com/users/Zac-HD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zac-HD/subscriptions","organizations_url":"https://api.github.com/users/Zac-HD/orgs","repos_url":"https://api.github.com/users/Zac-HD/repos","events_url":"https://api.github.com/users/Zac-HD/events{/privacy}","received_events_url":"https://api.github.com/users/Zac-HD/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-12T07:43:57Z","label":{"name":"topic: collection","color":"006b75"},"performed_via_github_app":null},{"id":12084543712,"node_id":"LE_lADOAjwLdc6BagFSzwAAAALQS4Dg","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12084543712","actor":{"login":"Zac-HD","id":12229877,"node_id":"MDQ6VXNlcjEyMjI5ODc3","avatar_url":"https://avatars.githubusercontent.com/u/12229877?v=4","gravatar_id":"","url":"https://api.github.com/users/Zac-HD","html_url":"https://github.com/Zac-HD","followers_url":"https://api.github.com/users/Zac-HD/followers","following_url":"https://api.github.com/users/Zac-HD/following{/other_user}","gists_url":"https://api.github.com/users/Zac-HD/gists{/gist_id}","starred_url":"https://api.github.com/users/Zac-HD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zac-HD/subscriptions","organizations_url":"https://api.github.com/users/Zac-HD/orgs","repos_url":"https://api.github.com/users/Zac-HD/repos","events_url":"https://api.github.com/users/Zac-HD/events{/privacy}","received_events_url":"https://api.github.com/users/Zac-HD/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-12T07:43:57Z","label":{"name":"type: regression","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1994454288","html_url":"https://github.com/pytest-dev/pytest/issues/12083#issuecomment-1994454288","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12083","id":1994454288,"node_id":"IC_kwDOAjwLdc524PUQ","user":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-13T13:50:09Z","updated_at":"2024-03-13T13:50:09Z","body":"Thanks for the bug report @nonatomiclabs, I agree the new behavior is buggy. I will take a look.\r\n\r\nThe duplicate handling is a bit of a headache and as you said it was quite broken also before #11646.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/1994454288/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12103873499,"node_id":"MEE_lADOAjwLdc6BagFSzwAAAALRcnPb","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12103873499","actor":{"login":"nonatomiclabs","id":6297260,"node_id":"MDQ6VXNlcjYyOTcyNjA=","avatar_url":"https://avatars.githubusercontent.com/u/6297260?v=4","gravatar_id":"","url":"https://api.github.com/users/nonatomiclabs","html_url":"https://github.com/nonatomiclabs","followers_url":"https://api.github.com/users/nonatomiclabs/followers","following_url":"https://api.github.com/users/nonatomiclabs/following{/other_user}","gists_url":"https://api.github.com/users/nonatomiclabs/gists{/gist_id}","starred_url":"https://api.github.com/users/nonatomiclabs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nonatomiclabs/subscriptions","organizations_url":"https://api.github.com/users/nonatomiclabs/orgs","repos_url":"https://api.github.com/users/nonatomiclabs/repos","events_url":"https://api.github.com/users/nonatomiclabs/events{/privacy}","received_events_url":"https://api.github.com/users/nonatomiclabs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-03-13T13:50:10Z","performed_via_github_app":null},{"id":12103873516,"node_id":"SE_lADOAjwLdc6BagFSzwAAAALRcnPs","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12103873516","actor":{"login":"nonatomiclabs","id":6297260,"node_id":"MDQ6VXNlcjYyOTcyNjA=","avatar_url":"https://avatars.githubusercontent.com/u/6297260?v=4","gravatar_id":"","url":"https://api.github.com/users/nonatomiclabs","html_url":"https://github.com/nonatomiclabs","followers_url":"https://api.github.com/users/nonatomiclabs/followers","following_url":"https://api.github.com/users/nonatomiclabs/following{/other_user}","gists_url":"https://api.github.com/users/nonatomiclabs/gists{/gist_id}","starred_url":"https://api.github.com/users/nonatomiclabs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nonatomiclabs/subscriptions","organizations_url":"https://api.github.com/users/nonatomiclabs/orgs","repos_url":"https://api.github.com/users/nonatomiclabs/repos","events_url":"https://api.github.com/users/nonatomiclabs/events{/privacy}","received_events_url":"https://api.github.com/users/nonatomiclabs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-03-13T13:50:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2028449272","html_url":"https://github.com/pytest-dev/pytest/issues/12083#issuecomment-2028449272","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12083","id":2028449272,"node_id":"IC_kwDOAjwLdc545634","user":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-30T19:28:17Z","updated_at":"2024-03-30T19:28:17Z","body":"I started looking at this, but it's surprisingly tricky to come up with a self-consistent, intuitive and reasonably backward-compatible logic for the duplicate handling, if you think about it. Though I'll keep trying :)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2028449272/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12528209716,"node_id":"MEE_lADOAjwLdc6BagFSzwAAAALqvU80","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12528209716","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-18T19:45:50Z","performed_via_github_app":null},{"id":12528209725,"node_id":"SE_lADOAjwLdc6BagFSzwAAAALqvU89","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/12528209725","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-18T19:45:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2081640783","html_url":"https://github.com/pytest-dev/pytest/issues/12083#issuecomment-2081640783","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12083","id":2081640783,"node_id":"IC_kwDOAjwLdc58E1FP","user":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-28T20:20:36Z","updated_at":"2025-07-15T11:17:33Z","body":"First, some explanations of the details that are relevant to duplicate handling, then some thoughts on how it should work.\n\n## Collection arguments\n\nThe collection arguments are the inputs that pytest starts collecting from. These are usually the positional command line arguments but can also be `testpaths` and others - doesn't matter.\n\nA collection arg has two parts - the path and (optionally) parts within the file.\n\nAll of the collection args are given to `Session.collect()` which collects them and yields the initial set of nodes.\n\n## `Session.collect()`\n\nSuppose the collection arguments are `a/aa/aaa.py`, `/ab/`. Then `Session.collect()` will produce two nodes (the order is important):\n\n```\n0: <Module a/aa/aaa.py>\n1: <Dir a/ab>\n```\n\nBut remember that nodes form a tree, so to get the full picture we need to look at the parents of the nodes:\n\n```\n<Dir a>\n  <Dir a/aa>\n    <Module a/aa/aaa.py> (0)\n  <Dir a/ab> (1)\n```\n\nNote that the `<Dir a>` parent is the same for both collection args.\n\n## `genitems`\n\nAfter `Session.collect()` takes the collection arguments and returns the initial nodes, the function `genitems` takes each node and recursively expands by calling `collect()` on each collector node and yielding item nodes (the leaves, i.e. the tests).\n\nSo it can look something like this:\n\n```\ngenitems(<Module a/aa/aaa.py>)\n   <Module a/aa/aaa.py>.collect() -> <Function test_it>, <Class TestCls>\n   genitems(<Function test_it>)\n     yield <Function test_it>\n   genitems(<Class TestCls>)\n      <Class TestCls>.collect() -> <Function test_meth1>, <Function test_meth2>\n      genitems(<Function test_meth1>)\n        yield <Function test_meth1>\n      genitems(<Function test_meth2>)\n        yield <Function test_meth2>\n```\n\n## `keep-duplicates` flag\n\nPytest has a `--keep-duplicates` flag (off by default) documented [here](https://docs.pytest.org/en/8.0.x/example/pythoncollection.html#keeping-duplicate-paths-specified-from-command-line) but is mostly unspecified.\n\nI think we can ignore whatever it does currently and make it mean what we want.\n\n## How should duplicates work?\n\nI think first we need to decide on the semantics. I quickly wrote a test case with some scenarios, it is incomplete but can be a basis for discussion. It includes roughly the behavior that I *think* it should have but it will definitely change with more consideration (and there are some more interesting cases I should add).\n\n<details><summary>Test cases</summary>\n<p>\n\n```py\ndef test_duplicate_handling(pytester: Pytester) -> None:\n    pytester.makepyfile(\n        **{\n            \"top1/__init__.py\": \"\",\n            \"top1/test_1.py\": (\n                \"\"\"\n                def test_1(): pass\n\n                class TestIt:\n                    def test_2(): pass\n\n                def test_3(): pass\n                \"\"\"\n            ),\n            \"top1/test_2.py\": (\n                \"\"\"\n                def test_1(): pass\n                \"\"\"\n            ),\n            \"top2/__init__.py\": \"\",\n            \"top2/test_1.py\": (\n                \"\"\"\n                def test_1(): pass\n                \"\"\"\n            ),\n        },\n    )\n\n    result = pytester.runpytest_inprocess(\"--collect-only\", \".\")\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\"--collect-only\", \"top2\", \"top1\")\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\"--collect-only\", \"top1\", \"top1/test_2.py\")\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\"--collect-only\", \"top1/test_2.py\", \"top1\")\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\", \"--keep-duplicates\", \"top1/test_2.py\", \"top1\"\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\", \"top1/test_2.py\", \"top1/test_2.py\"\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"    <Module test_2.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\"--collect-only\", \"top2/\", \"top2/\")\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\", \"top2/\", \"top2/\", \"top2/test_1.py\"\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"  <Package top2>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\", \"top1/test_1.py\", \"top1/test_1.py::test_3\"\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"      <Function test_3>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\", \"top1/test_1.py::test_3\", \"top1/test_1.py\"\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_3>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n\n    result = pytester.runpytest_inprocess(\n        \"--collect-only\",\n        \"--keep-duplicates\",\n        \"top1/test_1.py::test_3\",\n        \"top1/test_1.py\",\n    )\n    result.stdout.fnmatch_lines(\n        [\n            \"<Dir *>\",\n            \"  <Package top1>\",\n            \"    <Module test_1.py>\",\n            \"      <Function test_3>\",\n            \"      <Function test_1>\",\n            \"      <Class TestIt>\",\n            \"        <Function test_2>\",\n            \"      <Function test_3>\",\n            \"\",\n        ],\n        consecutive=True,\n    )\n```\n\n</p>\n</details>\n\nHere are some guidelines I based my expected outcomes on (these are debatable):\n\n1. The order of the collection args matters and should be respected as much as possible\n2. A collection arg specified explicitly (i.e. not a descendant of another arg) should always be duplicated\n3. Otherwise whether or not to duplicate should depend on `--keep-duplicates`\n4. Emitting multiple items with the same nodeid is fine, but emitting the same *Item* object itself multiple times should never happen\n5. Collectors should be shared as much as possible, unless explicitly specified requires duplication","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2081640783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-09T17:57:52Z","updated_at":"2024-07-09T17:57:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550/events","html_url":"https://github.com/pytest-dev/pytest/issues/12550","id":2383874870,"node_id":"I_kwDOAjwLdc6OFws2","number":12550,"title":"Test collection in directories when files from them also specified","user":{"login":"Alexander-Shukaev","id":911281,"node_id":"MDQ6VXNlcjkxMTI4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/911281?v=4","gravatar_id":"","url":"https://api.github.com/users/Alexander-Shukaev","html_url":"https://github.com/Alexander-Shukaev","followers_url":"https://api.github.com/users/Alexander-Shukaev/followers","following_url":"https://api.github.com/users/Alexander-Shukaev/following{/other_user}","gists_url":"https://api.github.com/users/Alexander-Shukaev/gists{/gist_id}","starred_url":"https://api.github.com/users/Alexander-Shukaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alexander-Shukaev/subscriptions","organizations_url":"https://api.github.com/users/Alexander-Shukaev/orgs","repos_url":"https://api.github.com/users/Alexander-Shukaev/repos","events_url":"https://api.github.com/users/Alexander-Shukaev/events{/privacy}","received_events_url":"https://api.github.com/users/Alexander-Shukaev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":240511492,"node_id":"MDU6TGFiZWwyNDA1MTE0OTI=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20collection","name":"topic: collection","color":"006b75","default":false,"description":"related to the collection phase"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-01T13:32:51Z","updated_at":"2024-07-09T17:57:51Z","closed_at":"2024-07-09T17:57:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"If on the command line Pytest is given directories from where to collect tests and also some individual files from some of these directories, then it appears that such directories are skipped and only those individual files are collected.  I would expect a file specification to be just a duplicate in this case that should be filtered out and instead all files from its directory to be collected instead since the directory was specified in the first place.","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12550/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2382849198","html_url":"https://github.com/pytest-dev/pytest/issues/12083#issuecomment-2382849198","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12083","id":2382849198,"node_id":"IC_kwDOAjwLdc6OB2Su","user":{"login":"Alexander-Shukaev","id":911281,"node_id":"MDQ6VXNlcjkxMTI4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/911281?v=4","gravatar_id":"","url":"https://api.github.com/users/Alexander-Shukaev","html_url":"https://github.com/Alexander-Shukaev","followers_url":"https://api.github.com/users/Alexander-Shukaev/followers","following_url":"https://api.github.com/users/Alexander-Shukaev/following{/other_user}","gists_url":"https://api.github.com/users/Alexander-Shukaev/gists{/gist_id}","starred_url":"https://api.github.com/users/Alexander-Shukaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alexander-Shukaev/subscriptions","organizations_url":"https://api.github.com/users/Alexander-Shukaev/orgs","repos_url":"https://api.github.com/users/Alexander-Shukaev/repos","events_url":"https://api.github.com/users/Alexander-Shukaev/events{/privacy}","received_events_url":"https://api.github.com/users/Alexander-Shukaev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T10:52:15Z","updated_at":"2024-09-30T10:52:15Z","body":"Hi, any plan to work on this, someone?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2382849198/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Alexander-Shukaev","id":911281,"node_id":"MDQ6VXNlcjkxMTI4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/911281?v=4","gravatar_id":"","url":"https://api.github.com/users/Alexander-Shukaev","html_url":"https://github.com/Alexander-Shukaev","followers_url":"https://api.github.com/users/Alexander-Shukaev/followers","following_url":"https://api.github.com/users/Alexander-Shukaev/following{/other_user}","gists_url":"https://api.github.com/users/Alexander-Shukaev/gists{/gist_id}","starred_url":"https://api.github.com/users/Alexander-Shukaev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alexander-Shukaev/subscriptions","organizations_url":"https://api.github.com/users/Alexander-Shukaev/orgs","repos_url":"https://api.github.com/users/Alexander-Shukaev/repos","events_url":"https://api.github.com/users/Alexander-Shukaev/events{/privacy}","received_events_url":"https://api.github.com/users/Alexander-Shukaev/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-22T20:24:56Z","updated_at":"2025-02-22T20:24:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240/events","html_url":"https://github.com/pytest-dev/pytest/issues/13240","id":2865577514,"node_id":"I_kwDOAjwLdc6qzT4q","number":13240,"title":"pytest ignores test file if a single test method is called from the same test file","user":{"login":"wohauser","id":888790,"node_id":"MDQ6VXNlcjg4ODc5MA==","avatar_url":"https://avatars.githubusercontent.com/u/888790?v=4","gravatar_id":"","url":"https://api.github.com/users/wohauser","html_url":"https://github.com/wohauser","followers_url":"https://api.github.com/users/wohauser/followers","following_url":"https://api.github.com/users/wohauser/following{/other_user}","gists_url":"https://api.github.com/users/wohauser/gists{/gist_id}","starred_url":"https://api.github.com/users/wohauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohauser/subscriptions","organizations_url":"https://api.github.com/users/wohauser/orgs","repos_url":"https://api.github.com/users/wohauser/repos","events_url":"https://api.github.com/users/wohauser/events{/privacy}","received_events_url":"https://api.github.com/users/wohauser/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-02-20T09:28:08Z","updated_at":"2025-03-09T19:46:14Z","closed_at":"2025-03-09T19:46:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"We want to  execute all tests from a test file and need to execute one test from this file afterwards. \nIn version  7.3.1 this worked well.\nSince 8.3.4 we imagine following:\n\nReproduction:\ncontent of test_test.py \n\n```\nclass  TestClass(object):\n\tdef test_test_1(self):\n\t\tprint(\"Test1\")\n\tdef test_test_2(self):\n\t\tprint(\"Test2\")\n\tdef test_test_3(self):\n\t\tprint(\"Test3\")\n```\n\npytest -s test_test.py test_test.py::TestClass::test_test_3\n\nResult:\n============================= test session starts ==============================\nplatform linux -- Python 3.9.18, pytest-8.3.4, pluggy-1.5.0\nrootdir: /tmp\nplugins: dependency-0.6.0, csv-3.0.0\ncollected 1 item                                                               \n\ntest_test.py Test3\n.\n\n============================== 1 passed in 0.02s ===============================\n\nWhat we expect is like in version 7.3.1:\npytest -s test_test.py test_test.py::TestClass::test_test_3\n============================= test session starts ==============================\nplatform linux -- Python 3.9.18, pytest-7.3.1, pluggy-1.0.0\nrootdir: /mnt/hgfs/shared\nplugins: dependency-0.5.1, csv-3.0.0\ncollected 4 items                                                              \n\ntest_test.py Test1\n.Test2\n.Test3\n.Test3\n.\n\n============================== 4 passed in 0.05s ===============================\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13240/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"id":16645807469,"node_id":"MADE_lADOAjwLdc6BagFSzwAAAAPgKt1t","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/16645807469","actor":{"login":"Zac-HD","id":12229877,"node_id":"MDQ6VXNlcjEyMjI5ODc3","avatar_url":"https://avatars.githubusercontent.com/u/12229877?v=4","gravatar_id":"","url":"https://api.github.com/users/Zac-HD","html_url":"https://github.com/Zac-HD","followers_url":"https://api.github.com/users/Zac-HD/followers","following_url":"https://api.github.com/users/Zac-HD/following{/other_user}","gists_url":"https://api.github.com/users/Zac-HD/gists{/gist_id}","starred_url":"https://api.github.com/users/Zac-HD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zac-HD/subscriptions","organizations_url":"https://api.github.com/users/Zac-HD/orgs","repos_url":"https://api.github.com/users/Zac-HD/repos","events_url":"https://api.github.com/users/Zac-HD/events{/privacy}","received_events_url":"https://api.github.com/users/Zac-HD/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"marked_as_duplicate","commit_id":null,"commit_url":null,"created_at":"2025-03-09T19:46:14Z","performed_via_github_app":null},{"id":18350120389,"node_id":"MADE_lADOAjwLdc6BagFSzwAAAARFwJ3F","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18350120389","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"marked_as_duplicate","commit_id":null,"commit_url":null,"created_at":"2025-06-27T06:24:04Z","performed_via_github_app":null},{"actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-27T06:24:05Z","updated_at":"2025-06-27T06:24:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494/events","html_url":"https://github.com/pytest-dev/pytest/issues/13494","id":3125698801,"node_id":"I_kwDOAjwLdc66TmDx","number":13494,"title":"When both a directory and a file are passed on the CLI, only the file is run","user":{"login":"JelleZijlstra","id":906600,"node_id":"MDQ6VXNlcjkwNjYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/906600?v=4","gravatar_id":"","url":"https://api.github.com/users/JelleZijlstra","html_url":"https://github.com/JelleZijlstra","followers_url":"https://api.github.com/users/JelleZijlstra/followers","following_url":"https://api.github.com/users/JelleZijlstra/following{/other_user}","gists_url":"https://api.github.com/users/JelleZijlstra/gists{/gist_id}","starred_url":"https://api.github.com/users/JelleZijlstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JelleZijlstra/subscriptions","organizations_url":"https://api.github.com/users/JelleZijlstra/orgs","repos_url":"https://api.github.com/users/JelleZijlstra/repos","events_url":"https://api.github.com/users/JelleZijlstra/events{/privacy}","received_events_url":"https://api.github.com/users/JelleZijlstra/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-06T19:37:07Z","updated_at":"2025-06-27T06:24:04Z","closed_at":"2025-06-27T06:24:04Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When the command-line args include both a directory with test files and a specific test file in that directory, pytest runs only the file and not the other files in that directory.\n\nAs an example:\n\n```\n$ pytest --collect-only pycroscope/ pycroscope/test_analysis_lib.py \n================================================================================================= test session starts =================================================================================================\nplatform darwin -- Python 3.12.2, pytest-8.4.0, pluggy-1.5.0\nrootdir: /Users/jelle/py/pycroscope\nconfigfile: pyproject.toml\ncollected 3 items                                                                                                                                                                                                     \n\n<Dir pycroscope>\n  <Package pycroscope>\n    <Module test_analysis_lib.py>\n      <Function test_get_indentation>\n      <Function test_get_line_range_for_node>\n      <Function test_object_from_string>\n\n============================================================================================= 3 tests collected in 0.10s ==============================================================================================\n$ pytest --collect-only pycroscope/\n================================================================================================= test session starts =================================================================================================\nplatform darwin -- Python 3.12.2, pytest-8.4.0, pluggy-1.5.0\nrootdir: /Users/jelle/py/pycroscope\nconfigfile: pyproject.toml\ncollected 1026 items / 3 skipped                                                                                                                                                                                      \n```\n\nThis is dangerous because it can lead us to silently skip running some tests.","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13494/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"id":18350542732,"node_id":"SE_lADOAjwLdc6BagFSzwAAAARFxw-M","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18350542732","actor":{"login":"hauntsaninja","id":12621235,"node_id":"MDQ6VXNlcjEyNjIxMjM1","avatar_url":"https://avatars.githubusercontent.com/u/12621235?v=4","gravatar_id":"","url":"https://api.github.com/users/hauntsaninja","html_url":"https://github.com/hauntsaninja","followers_url":"https://api.github.com/users/hauntsaninja/followers","following_url":"https://api.github.com/users/hauntsaninja/following{/other_user}","gists_url":"https://api.github.com/users/hauntsaninja/gists{/gist_id}","starred_url":"https://api.github.com/users/hauntsaninja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hauntsaninja/subscriptions","organizations_url":"https://api.github.com/users/hauntsaninja/orgs","repos_url":"https://api.github.com/users/hauntsaninja/repos","events_url":"https://api.github.com/users/hauntsaninja/events{/privacy}","received_events_url":"https://api.github.com/users/hauntsaninja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-27T06:53:58Z","performed_via_github_app":null},{"id":19547658487,"node_id":"REFE_lADOAjwLdc6BagFSzwAAAASNIZj3","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/19547658487","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5265eea44222ec48dbd3d064c624ea65cfa3a24d","commit_url":"https://api.github.com/repos/bluetech/pytest/commits/5265eea44222ec48dbd3d064c624ea65cfa3a24d","created_at":"2025-09-06T22:11:49Z","performed_via_github_app":null},{"id":19551545175,"node_id":"REFE_lADOAjwLdc6BagFSzwAAAASNXOdX","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/19551545175","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9554f1d7f7bb055e35452c0386bad8918add27bf","commit_url":"https://api.github.com/repos/bluetech/pytest/commits/9554f1d7f7bb055e35452c0386bad8918add27bf","created_at":"2025-09-07T16:50:03Z","performed_via_github_app":null},{"actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-07T16:53:44Z","updated_at":"2025-09-07T16:53:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704/events","html_url":"https://github.com/pytest-dev/pytest/pull/13704","id":3391798501,"node_id":"PR_kwDOAjwLdc6nQw7v","number":13704,"title":"main: add explicit handling of overlapping collection arguments","user":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":240511492,"node_id":"MDU6TGFiZWwyNDA1MTE0OTI=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20collection","name":"topic: collection","color":"006b75","default":false,"description":"related to the collection phase"},{"id":240739369,"node_id":"MDU6TGFiZWwyNDA3MzkzNjk=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20backward%20compatibility","name":"type: backward compatibility","color":"f7c6c7","default":false,"description":"might present some backward compatibility issues which should be carefully noted in the changelog"},{"id":7102695956,"node_id":"LA_kwDOAjwLdc8AAAABp1qKFA","url":"https://api.github.com/repos/pytest-dev/pytest/labels/bot:chronographer:provided","name":"bot:chronographer:provided","color":"ededed","default":false,"description":"(automation) changelog entry is part of PR"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-09-07T16:53:43Z","updated_at":"2025-10-05T12:36:33Z","closed_at":"2025-10-05T10:08:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pytest-dev/pytest/pulls/13704","html_url":"https://github.com/pytest-dev/pytest/pull/13704","diff_url":"https://github.com/pytest-dev/pytest/pull/13704.diff","patch_url":"https://github.com/pytest-dev/pytest/pull/13704.patch","merged_at":"2025-10-05T10:08:27Z"},"body":"Consider a pytest invocation like `pytest tests/ tests/test_it.py`. What should happen?\r\n\r\nCurrently what happens is that only `tests/test_it.py` is run, which is obviously wrong. This regressed in the big package collection rework (PR #11646).\r\n\r\nThe reason it regressed is the way pytest collection works. See #12083 for (some) details.\r\n\r\nI have made an attempt to fix the problem directly in the collection loop, but failed. The main challenge is the node caching, i.e. when should a collector node be reused when it is needed for several collection arguments. I believe it is possible to make it work, but it's hard.\r\n\r\nIn order to not leave this embarrassing bug lingering for any longer, this instead takes an easier approach, which is to massage the collection argument list itself such that issues with overlapping nodes don't come up during collection at all. This *adds* complexity instead of simplifying things, but I hope it should be good enough in practice for now, and maybe we can revisit in the future.\r\n\r\nThis change introduces behavioral changes, mainly:\r\n\r\n- `pytest a/b a/` is equivalent to `pytest a`; if there is an `a/a` then `a/b` will *not* be ordered before `a/a`. So the ability to order a subset before a superset is lost.\r\n\r\n- `pytest x.py x.py` does *not* run the file twice; previously we took an explicit request like this to mean that it should.\r\n\r\nThe `--keep-duplicates` option remains as a sort of \"expert mode\" that retains its current behavior; though it is still subtly broken in that *collector nodes* are also duplicated (not just the items). A fix for that requires the harder change.\r\n\r\nFix #12083.","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13704/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":19574606654,"node_id":"REFE_lADOAjwLdc6BagFSzwAAAASOvMs-","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/19574606654","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3fef8d6650bd75cb981ebd357a61d843f35d20d8","commit_url":"https://api.github.com/repos/bluetech/pytest/commits/3fef8d6650bd75cb981ebd357a61d843f35d20d8","created_at":"2025-09-08T21:23:08Z","performed_via_github_app":null},{"id":19595867996,"node_id":"REFE_lADOAjwLdc6BagFSzwAAAASQATdc","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/19595867996","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"67fca280a462b7ba18634bdab60ee29efca65117","commit_url":"https://api.github.com/repos/bluetech/pytest/commits/67fca280a462b7ba18634bdab60ee29efca65117","created_at":"2025-09-09T18:09:57Z","performed_via_github_app":null},{"id":19645324450,"node_id":"REFE_lADOAjwLdc6BagFSzwAAAASS89yi","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/19645324450","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6764439f3fb53c64f897742865f99c7b803f20ad","commit_url":"https://api.github.com/repos/bluetech/pytest/commits/6764439f3fb53c64f897742865f99c7b803f20ad","created_at":"2025-09-11T19:46:45Z","performed_via_github_app":null},{"id":20100802526,"node_id":"CE_lADOAjwLdc6BagFSzwAAAASuGefe","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/20100802526","actor":{"login":"bluetech","id":1223550,"node_id":"MDQ6VXNlcjEyMjM1NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1223550?v=4","gravatar_id":"","url":"https://api.github.com/users/bluetech","html_url":"https://github.com/bluetech","followers_url":"https://api.github.com/users/bluetech/followers","following_url":"https://api.github.com/users/bluetech/following{/other_user}","gists_url":"https://api.github.com/users/bluetech/gists{/gist_id}","starred_url":"https://api.github.com/users/bluetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluetech/subscriptions","organizations_url":"https://api.github.com/users/bluetech/orgs","repos_url":"https://api.github.com/users/bluetech/repos","events_url":"https://api.github.com/users/bluetech/events{/privacy}","received_events_url":"https://api.github.com/users/bluetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-10-05T10:08:28Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"claude[bot]","id":209825114,"node_id":"BOT_kgDODIGtWg","avatar_url":"https://avatars.githubusercontent.com/in/1236702?v=4","gravatar_id":"","url":"https://api.github.com/users/claude%5Bbot%5D","html_url":"https://github.com/apps/claude","followers_url":"https://api.github.com/users/claude%5Bbot%5D/followers","following_url":"https://api.github.com/users/claude%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/claude%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/claude%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claude%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/claude%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/claude%5Bbot%5D/repos","events_url":"https://api.github.com/users/claude%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/claude%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2025-11-09T03:00:53Z","updated_at":"2025-11-09T03:00:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60","repository_url":"https://api.github.com/repos/mgh3326/auto_trader","labels_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60/labels{/name}","comments_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60/comments","events_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60/events","html_url":"https://github.com/mgh3326/auto_trader/pull/60","id":3604386942,"node_id":"PR_kwDOPEVhIs6yWJ2A","number":60,"title":"Update dependency pytest to v9","user":{"login":"renovate[bot]","id":29139614,"node_id":"MDM6Qm90MjkxMzk2MTQ=","avatar_url":"https://avatars.githubusercontent.com/in/2740?v=4","gravatar_id":"","url":"https://api.github.com/users/renovate%5Bbot%5D","html_url":"https://github.com/apps/renovate","followers_url":"https://api.github.com/users/renovate%5Bbot%5D/followers","following_url":"https://api.github.com/users/renovate%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/renovate%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/renovate%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renovate%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/renovate%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/renovate%5Bbot%5D/repos","events_url":"https://api.github.com/users/renovate%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/renovate%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":8870806507,"node_id":"LA_kwDOPEVhIs8AAAACEL3D6w","url":"https://api.github.com/repos/mgh3326/auto_trader/labels/size/XS","name":"size/XS","color":"3CBF00","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-11-09T02:59:16Z","updated_at":"2025-11-09T03:00:51Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":1011179810,"node_id":"R_kgDOPEVhIg","name":"auto_trader","full_name":"mgh3326/auto_trader","private":false,"owner":{"login":"mgh3326","id":28249893,"node_id":"MDQ6VXNlcjI4MjQ5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/28249893?v=4","gravatar_id":"","url":"https://api.github.com/users/mgh3326","html_url":"https://github.com/mgh3326","followers_url":"https://api.github.com/users/mgh3326/followers","following_url":"https://api.github.com/users/mgh3326/following{/other_user}","gists_url":"https://api.github.com/users/mgh3326/gists{/gist_id}","starred_url":"https://api.github.com/users/mgh3326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgh3326/subscriptions","organizations_url":"https://api.github.com/users/mgh3326/orgs","repos_url":"https://api.github.com/users/mgh3326/repos","events_url":"https://api.github.com/users/mgh3326/events{/privacy}","received_events_url":"https://api.github.com/users/mgh3326/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mgh3326/auto_trader","description":null,"fork":false,"url":"https://api.github.com/repos/mgh3326/auto_trader","forks_url":"https://api.github.com/repos/mgh3326/auto_trader/forks","keys_url":"https://api.github.com/repos/mgh3326/auto_trader/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mgh3326/auto_trader/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mgh3326/auto_trader/teams","hooks_url":"https://api.github.com/repos/mgh3326/auto_trader/hooks","issue_events_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/events{/number}","events_url":"https://api.github.com/repos/mgh3326/auto_trader/events","assignees_url":"https://api.github.com/repos/mgh3326/auto_trader/assignees{/user}","branches_url":"https://api.github.com/repos/mgh3326/auto_trader/branches{/branch}","tags_url":"https://api.github.com/repos/mgh3326/auto_trader/tags","blobs_url":"https://api.github.com/repos/mgh3326/auto_trader/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mgh3326/auto_trader/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mgh3326/auto_trader/git/refs{/sha}","trees_url":"https://api.github.com/repos/mgh3326/auto_trader/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mgh3326/auto_trader/statuses/{sha}","languages_url":"https://api.github.com/repos/mgh3326/auto_trader/languages","stargazers_url":"https://api.github.com/repos/mgh3326/auto_trader/stargazers","contributors_url":"https://api.github.com/repos/mgh3326/auto_trader/contributors","subscribers_url":"https://api.github.com/repos/mgh3326/auto_trader/subscribers","subscription_url":"https://api.github.com/repos/mgh3326/auto_trader/subscription","commits_url":"https://api.github.com/repos/mgh3326/auto_trader/commits{/sha}","git_commits_url":"https://api.github.com/repos/mgh3326/auto_trader/git/commits{/sha}","comments_url":"https://api.github.com/repos/mgh3326/auto_trader/comments{/number}","issue_comment_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/comments{/number}","contents_url":"https://api.github.com/repos/mgh3326/auto_trader/contents/{+path}","compare_url":"https://api.github.com/repos/mgh3326/auto_trader/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mgh3326/auto_trader/merges","archive_url":"https://api.github.com/repos/mgh3326/auto_trader/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mgh3326/auto_trader/downloads","issues_url":"https://api.github.com/repos/mgh3326/auto_trader/issues{/number}","pulls_url":"https://api.github.com/repos/mgh3326/auto_trader/pulls{/number}","milestones_url":"https://api.github.com/repos/mgh3326/auto_trader/milestones{/number}","notifications_url":"https://api.github.com/repos/mgh3326/auto_trader/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mgh3326/auto_trader/labels{/name}","releases_url":"https://api.github.com/repos/mgh3326/auto_trader/releases{/id}","deployments_url":"https://api.github.com/repos/mgh3326/auto_trader/deployments","created_at":"2025-06-30T12:26:51Z","updated_at":"2025-11-09T07:20:44Z","pushed_at":"2025-11-09T12:06:50Z","git_url":"git://github.com/mgh3326/auto_trader.git","ssh_url":"git@github.com:mgh3326/auto_trader.git","clone_url":"https://github.com/mgh3326/auto_trader.git","svn_url":"https://github.com/mgh3326/auto_trader","homepage":null,"size":7945,"stargazers_count":1,"watchers_count":1,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":12,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":12,"watchers":1,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mgh3326/auto_trader/pulls/60","html_url":"https://github.com/mgh3326/auto_trader/pull/60","diff_url":"https://github.com/mgh3326/auto_trader/pull/60.diff","patch_url":"https://github.com/mgh3326/auto_trader/pull/60.patch","merged_at":null},"body":"This PR contains the following updates:\n\n| Package | Change | Age | Confidence |\n|---|---|---|---|\n| [pytest](https://redirect.github.com/pytest-dev/pytest) ([changelog](https://docs.pytest.org/en/stable/changelog.html)) | `>=8.4.2,<8.5.0` -> `>=9.0.0,<9.1.0` | [![age](https://developer.mend.io/api/mc/badges/age/pypi/pytest/9.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/pypi/pytest/8.4.2/9.0.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>pytest-dev/pytest (pytest)</summary>\n\n### [`v9.0.0`](https://redirect.github.com/pytest-dev/pytest/releases/tag/9.0.0)\n\n[Compare Source](https://redirect.github.com/pytest-dev/pytest/compare/8.4.2...9.0.0)\n\n### pytest 9.0.0 (2025-11-05)\n\n#### New features\n\n- [#&#8203;1367](https://redirect.github.com/pytest-dev/pytest/issues/1367): **Support for subtests** has been added.\n\n  `subtests <subtests>` are an alternative to parametrization, useful in situations where the parametrization values are not all known at collection time.\n\n  Example:\n\n  ```python\n  def contains_docstring(p: Path) -> bool:\n      \"\"\"Return True if the given Python file contains a top-level docstring.\"\"\"\n      ...\n\n  def test_py_files_contain_docstring(subtests: pytest.Subtests) -> None:\n      for path in Path.cwd().glob(\"*.py\"):\n          with subtests.test(path=str(path)):\n              assert contains_docstring(path)\n  ```\n\n  Each assert failure or error is caught by the context manager and reported individually, giving a clear picture of all files that are missing a docstring.\n\n  In addition, `unittest.TestCase.subTest` is now also supported.\n\n  This feature was originally implemented as a separate plugin in [pytest-subtests](https://redirect.github.com/pytest-dev/pytest-subtests), but since then has been merged into the core.\n\n  > \\[!NOTE]\n  > This feature is experimental and will likely evolve in future releases. By that we mean that we might change how subtests are reported on failure, but the functionality and how to use it are stable.\n\n- [#&#8203;13743](https://redirect.github.com/pytest-dev/pytest/issues/13743): Added support for **native TOML configuration files**.\n\n  While pytest, since version 6, supports configuration in `pyproject.toml` files under `[tool.pytest.ini_options]`,\n  it does so in an \"INI compatibility mode\", where all configuration values are treated as strings or list of strings.\n  Now, pytest supports the native TOML data model.\n\n  In `pyproject.toml`, the native TOML configuration is under the `[tool.pytest]` table.\n\n  ```toml\n  # pyproject.toml\n  [tool.pytest]\n  minversion = \"9.0\"\n  addopts = [\"-ra\", \"-q\"]\n  testpaths = [\n      \"tests\",\n      \"integration\",\n  ]\n  ```\n\n  The `[tool.pytest.ini_options]` table remains supported, but both tables cannot be used at the same time.\n\n  If you prefer to use a separate configuration file, or don't use `pyproject.toml`, you can use `pytest.toml` or `.pytest.toml`:\n\n  ```toml\n  # pytest.toml or .pytest.toml\n  [pytest]\n  minversion = \"9.0\"\n  addopts = [\"-ra\", \"-q\"]\n  testpaths = [\n      \"tests\",\n      \"integration\",\n  ]\n  ```\n\n  The documentation now (sometimes) shows configuration snippets in both TOML and INI formats, in a tabbed interface.\n\n  See `config file formats` for full details.\n\n- [#&#8203;13823](https://redirect.github.com/pytest-dev/pytest/issues/13823): Added a **\"strict mode\"** enabled by the `strict` configuration option.\n\n  When set to `true`, the `strict` option currently enables\n\n  - `strict_config`\n  - `strict_markers`\n  - `strict_parametrization_ids`\n  - `strict_xfail`\n\n  The individual strictness options can be explicitly set to override the global `strict` setting.\n\n  The previously-deprecated `--strict` command-line flag now enables strict mode.\n\n  If pytest adds new strictness options in the future, they will also be enabled in strict mode.\n  Therefore, you should only enable strict mode if you use a pinned/locked version of pytest,\n  or if you want to proactively adopt new strictness options as they are added.\n\n  See `strict mode` for more details.\n\n- [#&#8203;13737](https://redirect.github.com/pytest-dev/pytest/issues/13737): Added the `strict_parametrization_ids` configuration option.\n\n  When set, pytest emits an error if it detects non-unique parameter set IDs,\n  rather than automatically making the IDs unique by adding <span class=\"title-ref\">0</span>, <span class=\"title-ref\">1</span>, ... to them.\n  This can be particularly useful for catching unintended duplicates.\n\n- [#&#8203;13072](https://redirect.github.com/pytest-dev/pytest/issues/13072): Added support for displaying test session **progress in the terminal tab** using the [OSC 9;4;](https://conemu.github.io/en/AnsiEscapeCodes.html#ConEmu_specific_OSC) ANSI sequence.\n  When pytest runs in a supported terminal emulator like ConEmu, Gnome Terminal, Ptyxis, Windows Terminal, Kitty or Ghostty,\n  you'll see the progress in the terminal tab or window,\n  allowing you to monitor pytest's progress at a glance.\n\n  This feature is automatically enabled when running in a TTY. It is implemented as an internal plugin. If needed, it can be disabled as follows:\n\n  - On a user level, using `-p no:terminalprogress` on the command line or via an environment variable `PYTEST_ADDOPTS='-p no:terminalprogress'`.\n  - On a project configuration level, using `addopts = \"-p no:terminalprogress\"`.\n\n- [#&#8203;478](https://redirect.github.com/pytest-dev/pytest/issues/478): Support PEP420 (implicit namespace packages) as <span class=\"title-ref\">--pyargs</span> target when `consider_namespace_packages` is <span class=\"title-ref\">true</span> in the config.\n\n  Previously, this option only impacted package imports, now it also impacts tests discovery.\n\n- [#&#8203;13678](https://redirect.github.com/pytest-dev/pytest/issues/13678): Added a new `faulthandler_exit_on_timeout` configuration option set to \"false\" by default to let <span class=\"title-ref\">faulthandler</span> interrupt the <span class=\"title-ref\">pytest</span> process after a timeout in case of deadlock.\n\n  Previously, a <span class=\"title-ref\">faulthandler</span> timeout would only dump the traceback of all threads to stderr, but would not interrupt the <span class=\"title-ref\">pytest</span> process.\n\n  \\-- by `ogrisel`.\n\n- [#&#8203;13829](https://redirect.github.com/pytest-dev/pytest/issues/13829): Added support for configuration option aliases via the `aliases` parameter in `Parser.addini() <pytest.Parser.addini>`.\n\n  Plugins can now register alternative names for configuration options,\n  allowing for more flexibility in configuration naming and supporting backward compatibility when renaming options.\n  The canonical name always takes precedence if both the canonical name and an alias are specified in the configuration file.\n\n#### Improvements in existing functionality\n\n- [#&#8203;13330](https://redirect.github.com/pytest-dev/pytest/issues/13330): Having pytest configuration spread over more than one file (for example having both a `pytest.ini` file and `pyproject.toml` with a `[tool.pytest.ini_options]` table) will now print a warning to make it clearer to the user that only one of them is actually used.\n\n  \\-- by `sgaist`\n\n- [#&#8203;13574](https://redirect.github.com/pytest-dev/pytest/issues/13574): The single argument `--version` no longer loads the entire plugin infrastructure, making it faster and more reliable when displaying only the pytest version.\n\n  Passing `--version` twice (e.g., `pytest --version --version`) retains the original behavior, showing both the pytest version and plugin information.\n\n  > \\[!NOTE]\n  > Since `--version` is now processed early, it only takes effect when passed directly via the command line. It will not work if set through other mechanisms, such as `PYTEST_ADDOPTS` or `addopts`.\n\n- [#&#8203;13823](https://redirect.github.com/pytest-dev/pytest/issues/13823): Added `strict_xfail` as an alias to the `xfail_strict` option,\n  `strict_config` as an alias to the `--strict-config` flag,\n  and `strict_markers` as an alias to the `--strict-markers` flag.\n  This makes all strictness options consistently have configuration options with the prefix `strict_`.\n\n- [#&#8203;13700](https://redirect.github.com/pytest-dev/pytest/issues/13700): <span class=\"title-ref\">--junitxml</span> no longer prints the <span class=\"title-ref\">generated xml file</span> summary at the end of the pytest session when <span class=\"title-ref\">--quiet</span> is given.\n\n- [#&#8203;13732](https://redirect.github.com/pytest-dev/pytest/issues/13732): Previously, when filtering warnings, pytest would fail if the filter referenced a class that could not be imported. Now, this only outputs a message indicating the problem.\n\n- [#&#8203;13859](https://redirect.github.com/pytest-dev/pytest/issues/13859): Clarify the error message for <span class=\"title-ref\">pytest.raises()</span> when a regex <span class=\"title-ref\">match</span> fails.\n\n- [#&#8203;13861](https://redirect.github.com/pytest-dev/pytest/issues/13861): Better sentence structure in a test's expected error message. Previously, the error message would be \"expected exception must be \\<expected>, but got \\<actual>\". Now, it is \"Expected \\<expected>, but got \\<actual>\".\n\n#### Removals and backward incompatible breaking changes\n\n- [#&#8203;12083](https://redirect.github.com/pytest-dev/pytest/issues/12083): Fixed a bug where an invocation such as <span class=\"title-ref\">pytest a/ a/b</span> would cause only tests from <span class=\"title-ref\">a/b</span> to run, and not other tests under <span class=\"title-ref\">a/</span>.\n\n  The fix entails a few breaking changes to how such overlapping arguments and duplicates are handled:\n\n  1. <span class=\"title-ref\">pytest a/b a/</span> or <span class=\"title-ref\">pytest a/ a/b</span> are equivalent to <span class=\"title-ref\">pytest a</span>; if an argument overlaps another arguments, only the prefix remains.\n  2. <span class=\"title-ref\">pytest x.py x.py</span> is equivalent to <span class=\"title-ref\">pytest x.py</span>; previously such an invocation was taken as an explicit request to run the tests from the file twice.\n\n  If you rely on these behaviors, consider using `--keep-duplicates <duplicate-paths>`, which retains its existing behavior (including the bug).\n\n- [#&#8203;13719](https://redirect.github.com/pytest-dev/pytest/issues/13719): Support for Python 3.9 is dropped following its end of life.\n\n- [#&#8203;13766](https://redirect.github.com/pytest-dev/pytest/issues/13766): Previously, pytest would assume it was running in a CI/CD environment if either of the environment variables <span class=\"title-ref\">$CI</span> or <span class=\"title-ref\">$BUILD\\_NUMBER</span> was defined;\n  now, CI mode is only activated if at least one of those variables is defined and set to a *non-empty* value.\n\n- [#&#8203;13779](https://redirect.github.com/pytest-dev/pytest/issues/13779): **PytestRemovedIn9Warning deprecation warnings are now errors by default.**\n\n  Following our plan to remove deprecated features with as little disruption as\n  possible, all warnings of type `PytestRemovedIn9Warning` now generate errors\n  instead of warning messages by default.\n\n  **The affected features will be effectively removed in pytest 9.1**, so please consult the\n  `deprecations` section in the docs for directions on how to update existing code.\n\n  In the pytest `9.0.X` series, it is possible to change the errors back into warnings as a\n  stopgap measure by adding this to your `pytest.ini` file:\n\n  ```ini\n  [pytest]\n  filterwarnings =\n      ignore::pytest.PytestRemovedIn9Warning\n  ```\n\n  But this will stop working when pytest `9.1` is released.\n\n  **If you have concerns** about the removal of a specific feature, please add a\n  comment to `13779`.\n\n#### Deprecations (removal in next major release)\n\n- [#&#8203;13807](https://redirect.github.com/pytest-dev/pytest/issues/13807): `monkeypatch.syspath_prepend() <pytest.MonkeyPatch.syspath_prepend>` now issues a deprecation warning when the prepended path contains legacy namespace packages (those using `pkg_resources.declare_namespace()`).\n  Users should migrate to native namespace packages (`420`).\n  See `monkeypatch-fixup-namespace-packages` for details.\n\n#### Bug fixes\n\n- [#&#8203;13445](https://redirect.github.com/pytest-dev/pytest/issues/13445): Made the type annotations of `pytest.skip` and friends more spec-complaint to have them work across more type checkers.\n\n- [#&#8203;13537](https://redirect.github.com/pytest-dev/pytest/issues/13537): Fixed a bug in which `ExceptionGroup` with only `Skipped` exceptions in teardown was not handled correctly and showed as error.\n\n- [#&#8203;13598](https://redirect.github.com/pytest-dev/pytest/issues/13598): Fixed possible collection confusion on Windows when short paths and symlinks are involved.\n\n- [#&#8203;13716](https://redirect.github.com/pytest-dev/pytest/issues/13716): Fixed a bug where a nonsensical invocation like `pytest x.py[a]` (a file cannot be parametrized) was silently treated as `pytest x.py`. This is now a usage error.\n\n- [#&#8203;13722](https://redirect.github.com/pytest-dev/pytest/issues/13722): Fixed a misleading assertion failure message when using `pytest.approx` on mappings with differing lengths.\n\n- [#&#8203;13773](https://redirect.github.com/pytest-dev/pytest/issues/13773): Fixed the static fixture closure calculation to properly consider transitive dependencies requested by overridden fixtures.\n\n- [#&#8203;13816](https://redirect.github.com/pytest-dev/pytest/issues/13816): Fixed `pytest.approx` which now returns a clearer error message when comparing mappings with different keys.\n\n- [#&#8203;13849](https://redirect.github.com/pytest-dev/pytest/issues/13849): Hidden `.pytest.ini` files are now picked up as the config file even if empty.\n  This was an inconsistency with non-hidden `pytest.ini`.\n\n- [#&#8203;13865](https://redirect.github.com/pytest-dev/pytest/issues/13865): Fixed <span class=\"title-ref\">--show-capture</span> with <span class=\"title-ref\">--tb=line</span>.\n\n- [#&#8203;13522](https://redirect.github.com/pytest-dev/pytest/issues/13522): Fixed `pytester` in subprocess mode ignored all :attr\\`pytester.plugins \\<pytest.Pytester.plugins>\\` except the first.\n\n  Fixed `pytester` in subprocess mode silently ignored non-str `pytester.plugins <pytest.Pytester.plugins>`.\n  Now it errors instead.\n  If you are affected by this, specify the plugin by name, or switch the affected tests to use `pytester.runpytest_inprocess <pytest.Pytester.runpytest_inprocess>` explicitly instead.\n\n#### Packaging updates and notes for downstreams\n\n- [#&#8203;13791](https://redirect.github.com/pytest-dev/pytest/issues/13791): Minimum requirements on `iniconfig` and `packaging` were bumped to `1.0.1` and `22.0.0`, respectively.\n\n#### Contributor-facing changes\n\n- [#&#8203;12244](https://redirect.github.com/pytest-dev/pytest/issues/12244): Fixed self-test failures when <span class=\"title-ref\">TERM=dumb</span>.\n- [#&#8203;12474](https://redirect.github.com/pytest-dev/pytest/issues/12474): Added scheduled GitHub Action Workflow to run Sphinx linkchecks in repo documentation.\n- [#&#8203;13621](https://redirect.github.com/pytest-dev/pytest/issues/13621): pytest's own testsuite now handles the `lsof` command hanging (e.g. due to unreachable network filesystems), with the affected selftests being skipped after 10 seconds.\n- [#&#8203;13638](https://redirect.github.com/pytest-dev/pytest/issues/13638): Fixed deprecated `gh pr new` command in `scripts/prepare-release-pr.py`.\n  The script now uses `gh pr create` which is compatible with GitHub CLI v2.0+.\n- [#&#8203;13695](https://redirect.github.com/pytest-dev/pytest/issues/13695): Flush <span class=\"title-ref\">stdout</span> and <span class=\"title-ref\">stderr</span> in <span class=\"title-ref\">Pytester.run</span> to avoid truncated outputs in <span class=\"title-ref\">test\\_faulthandler.py::test\\_timeout</span> on CI -- by `ogrisel`.\n- [#&#8203;13771](https://redirect.github.com/pytest-dev/pytest/issues/13771): Skip <span class=\"title-ref\">test\\_do\\_not\\_collect\\_symlink\\_siblings</span> on Windows environments without symlink support to avoid false negatives.\n- [#&#8203;13841](https://redirect.github.com/pytest-dev/pytest/issues/13841): `tox>=4` is now required when contributing to pytest.\n- [#&#8203;13625](https://redirect.github.com/pytest-dev/pytest/issues/13625): Added missing docstrings to `pytest_addoption()`, `pytest_configure()`, and `cacheshow()` functions in `cacheprovider.py`.\n\n#### Miscellaneous internal changes\n\n- [#&#8203;13830](https://redirect.github.com/pytest-dev/pytest/issues/13830): Configuration overrides (`-o`/`--override-ini`) are now processed during startup rather than during `config.getini() <pytest.Config.getini>`.\n\n</details>\n\n---\n\n### Configuration\n\n **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR was generated by [Mend Renovate](https://mend.io/renovate/). View the [repository job log](https://developer.mend.io/github/mgh3326/auto_trader).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiI0MS4xNTkuNCIsInVwZGF0ZWRJblZlciI6IjQxLjE1OS40IiwidGFyZ2V0QnJhbmNoIjoibWFpbiIsImxhYmVscyI6W119-->\n","reactions":{"url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mgh3326/auto_trader/issues/60/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]