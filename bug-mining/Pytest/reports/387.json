{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387/events","html_url":"https://github.com/pytest-dev/pytest/issues/11387","id":1880138043,"node_id":"I_kwDOAjwLdc5wEKE7","number":11387,"title":"Fine grain output verbosity","user":{"login":"plannigan","id":18636401,"node_id":"MDQ6VXNlcjE4NjM2NDAx","avatar_url":"https://avatars.githubusercontent.com/u/18636401?v=4","gravatar_id":"","url":"https://api.github.com/users/plannigan","html_url":"https://github.com/plannigan","followers_url":"https://api.github.com/users/plannigan/followers","following_url":"https://api.github.com/users/plannigan/following{/other_user}","gists_url":"https://api.github.com/users/plannigan/gists{/gist_id}","starred_url":"https://api.github.com/users/plannigan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plannigan/subscriptions","organizations_url":"https://api.github.com/users/plannigan/orgs","repos_url":"https://api.github.com/users/plannigan/repos","events_url":"https://api.github.com/users/plannigan/events{/privacy}","received_events_url":"https://api.github.com/users/plannigan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849844,"node_id":"MDU6TGFiZWwyMjQ4NDk4NDQ=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20proposal","name":"type: proposal","color":"006b75","default":false,"description":"proposal for a new feature, often to gather opinions or design the API around the new feature"},{"id":224853076,"node_id":"MDU6TGFiZWwyMjQ4NTMwNzY=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20reporting","name":"topic: reporting","color":"fef2c0","default":false,"description":"related to terminal output and user-facing messages and errors"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-09-04T12:05:57Z","updated_at":"2025-02-25T07:23:05Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### What's the problem this feature will solve?\r\nThere are multiple open issues that are requesting more control over the output displayed by `pytest`. `--verbose` turns everything up, but it would be nice to be able to just increase or decrease the verbosity for specific aspects of the output.\r\n\r\nOpen issues that I've found that fit into this problem space (there may be others):\r\n* #6723\r\n* #3962\r\n* #5285\r\n* #6292\r\n\r\n\r\n#### Describe the solution you'd like\r\nI think a way that could resolve all of these is to add an abstraction layer on top `config.option.verbose`. Rough pseudo-code example:\r\n\r\n```python\r\nclass OutputVerbosity:\r\n  def __init__(self, config_options):\r\n     self._options = config_options\r\n     self.verbose = self._options.verbose\r\n\r\n  def verbosity_for(self, output_type):\r\n     return getattr(self._options, output_type, self.verbose)\r\n```\r\n\r\nFor general cases, the `verbose` attribute could be used. For special cases, an output type name could be passed in retrieve the more fine grained setting. If the specific config is not set, it will default to the normal verbose level. Once this is in place, it would be easier to add more cases in the future if they come up.\r\n\r\n### Implementation\r\n* I should be able to work on an actual implementation. I'd likely start with only implementing diff verbosity since the PR might get large if I attempted to address all of the identified cases at once.\r\n* That being said, I think it makes sense to decide on a naming convention for these configuration fields. `verbosity_{OUTPUT_TYPE}` seems reasonable to me.\r\n* I'm leaning towards not providing CLI access to these configuration fields. They feel like they wouldn't be used regularly and it should be easy to add them after the fact if needed. \r\n","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/11387/timeline","performed_via_github_app":null,"state_reason":"reopened"}