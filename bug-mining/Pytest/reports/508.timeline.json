[{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2981222113","html_url":"https://github.com/pytest-dev/pytest/issues/13530#issuecomment-2981222113","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13530","id":2981222113,"node_id":"IC_kwDOAjwLdc6xsdbh","user":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-17T17:34:48Z","updated_at":"2025-06-17T17:34:48Z","body":"Thanks for the details \n\nWe where completely unaware \n\nThis needs a unittests that triggers it locally \n\nI suspect it was missed before in the general error case and the referred change made it manifest \n\nWould you like to try your hand in contributing a gix as you seem to work with the details in more depth than we ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2981222113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-18T15:06:12Z","updated_at":"2025-06-18T15:06:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542/events","html_url":"https://github.com/pytest-dev/pytest/pull/13542","id":3157245308,"node_id":"PR_kwDOAjwLdc6bGJYy","number":13542,"title":"Fix decimal.FloatOperation error in pytest.approx Decimal __repr__","user":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-06-18T15:05:31Z","updated_at":"2025-06-22T16:42:08Z","closed_at":"2025-06-22T16:42:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pytest-dev/pytest/pulls/13542","html_url":"https://github.com/pytest-dev/pytest/pull/13542","diff_url":"https://github.com/pytest-dev/pytest/pull/13542.diff","patch_url":"https://github.com/pytest-dev/pytest/pull/13542.patch","merged_at":null},"body":"<!--\r\nThanks for submitting a PR, your contribution is really appreciated!\r\n\r\nFix #13530\r\n\r\nHere is a quick checklist that should be present in PRs.\r\n\r\n- [ ] Include documentation when adding new features.\r\n- [✅ ] Include new tests or update existing tests when applicable.\r\n- [✅] Allow maintainers to push and squash when merging my commits. Please uncheck this if you prefer to squash the commits yourself.\r\n\r\nIf this change fixes an issue, please:\r\n\r\n- [ ] Add text like ``closes #XYZW`` to the PR description and/or commits (where ``XYZW`` is the issue number). See the [github docs](https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword) for more information.\r\n\r\nUnless your change is trivial or a small documentation fix (e.g., a typo or reword of a small section) please:\r\n\r\n- [ ] Create a new changelog file in the `changelog` folder, with a name like `<ISSUE NUMBER>.<TYPE>.rst`. See [changelog/README.rst](https://github.com/pytest-dev/pytest/blob/main/changelog/README.rst) for details.\r\n\r\n  Write sentences in the **past or present tense**, examples:\r\n\r\n  * *Improved verbose diff output with sequences.*\r\n  * *Terminal summary statistics now use multiple colors.*\r\n\r\n  Also make sure to end the sentence with a `.`.\r\n\r\n- [ ] Add yourself to `AUTHORS` in alphabetical order.\r\n-->\r\n\r\nFix #13530\r\n\r\n## Summary  \r\n\r\nThis PR addresses a decimal.FloatOperation error that happens when calling repr() on a pytest.approx object created with a decimal.Decimal value. The error arises from comparing and formatting Decimal and float values without proper conversion, which activates the FloatOperation trap.  \r\n\r\n## Changes  \r\n\r\nI modified the __repr__ method to carefully handle Decimal and float attributes. This is done by explicitly converting float values to Decimal before comparisons and formatting.  \r\nI added checks for None to prevent invalid comparisons.  \r\nI avoided direct comparisons between float and Decimal that can lead to FloatOperation exceptions.  \r\n\r\n## Testing  \r\n\r\nI created a minimal test to reproduce the FloatOperation error from pytest.approx(Decimal)'s repr().  \r\nThe test passes after applying this fix, confirming that the issue is resolved.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13542/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2984616672","html_url":"https://github.com/pytest-dev/pytest/issues/13530#issuecomment-2984616672","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13530","id":2984616672,"node_id":"IC_kwDOAjwLdc6x5aLg","user":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-18T15:07:34Z","updated_at":"2025-06-18T15:07:34Z","body":"Hello @RonnyPfannschmidt , understanding the issue, I committed a fix, please review it and let me know your thoughts or any changes required.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2984616672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18212806095,"node_id":"MEE_lADOAjwLdc67-mbSzwAAAAQ9kV3P","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18212806095","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-18T15:07:36Z","performed_via_github_app":null},{"id":18212806124,"node_id":"SE_lADOAjwLdc67-mbSzwAAAAQ9kV3s","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18212806124","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-18T15:07:36Z","performed_via_github_app":null},{"actor":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-18T16:22:39Z","updated_at":"2025-06-18T16:22:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543/events","html_url":"https://github.com/pytest-dev/pytest/pull/13543","id":3157498510,"node_id":"PR_kwDOAjwLdc6bHBAY","number":13543,"title":"Fix decimal.FloatOperation error in pytest.approx Decimal __repr__ ","user":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7102695956,"node_id":"LA_kwDOAjwLdc8AAAABp1qKFA","url":"https://api.github.com/repos/pytest-dev/pytest/labels/bot:chronographer:provided","name":"bot:chronographer:provided","color":"ededed","default":false,"description":"(automation) changelog entry is part of PR"},{"id":8716736983,"node_id":"LA_kwDOAjwLdc8AAAACB47Z1w","url":"https://api.github.com/repos/pytest-dev/pytest/labels/backport%208.4.x","name":"backport 8.4.x","color":"fbca04","default":false,"description":"apply to PRs at any point; backports the changes to the 8.4.x branch"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-18T16:22:38Z","updated_at":"2025-06-22T16:41:29Z","closed_at":"2025-06-22T16:41:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pytest-dev/pytest/pulls/13543","html_url":"https://github.com/pytest-dev/pytest/pull/13543","diff_url":"https://github.com/pytest-dev/pytest/pull/13543.diff","patch_url":"https://github.com/pytest-dev/pytest/pull/13543.patch","merged_at":"2025-06-22T16:41:16Z"},"body":"<!--\r\nThanks for submitting a PR, your contribution is really appreciated!\r\n\r\nFix #13530\r\n\r\nHere is a quick checklist that should be present in PRs.\r\n\r\n- [ ] Include documentation when adding new features.\r\n- [✅ ] Include new tests or update existing tests when applicable.\r\n- [✅] Allow maintainers to push and squash when merging my commits. Please uncheck this if you prefer to squash the commits yourself.\r\n\r\nIf this change fixes an issue, please:\r\n\r\n- [ ] Add text like ``closes #XYZW`` to the PR description and/or commits (where ``XYZW`` is the issue number). See the [github docs](https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword) for more information.\r\n\r\nUnless your change is trivial or a small documentation fix (e.g., a typo or reword of a small section) please:\r\n\r\n- [ ] Create a new changelog file in the `changelog` folder, with a name like `<ISSUE NUMBER>.<TYPE>.rst`. See [changelog/README.rst](https://github.com/pytest-dev/pytest/blob/main/changelog/README.rst) for details.\r\n\r\n  Write sentences in the **past or present tense**, examples:\r\n\r\n  * *Improved verbose diff output with sequences.*\r\n  * *Terminal summary statistics now use multiple colors.*\r\n\r\n  Also make sure to end the sentence with a `.`.\r\n\r\n- [ ] Add yourself to `AUTHORS` in alphabetical order.\r\n-->\r\n\r\nFix #13530\r\n\r\n## Summary  \r\n\r\nThis PR addresses a decimal.FloatOperation error that happens when calling repr() on a pytest.approx object created with a decimal.Decimal value. The error arises from comparing and formatting Decimal and float values without proper conversion, which activates the FloatOperation trap.  \r\n\r\n## Changes  \r\n\r\nI modified the __repr__ method to carefully handle Decimal and float attributes. This is done by explicitly converting float values to Decimal before comparisons and formatting.  \r\nI added checks for None to prevent invalid comparisons.  \r\nI avoided direct comparisons between float and Decimal that can lead to FloatOperation exceptions.  \r\n\r\n## Testing  \r\n\r\nI created a minimal test to reproduce the FloatOperation error from pytest.approx(Decimal)'s repr().  \r\nThe test passes after applying this fix, confirming that the issue is resolved.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13543/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2984915965","html_url":"https://github.com/pytest-dev/pytest/issues/13530#issuecomment-2984915965","issue_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13530","id":2984915965,"node_id":"IC_kwDOAjwLdc6x6jP9","user":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-18T16:24:51Z","updated_at":"2025-06-18T16:24:51Z","body":"Hello @RonnyPfannschmidt , @nicoddemus , I made the necessary changes you guys suggested and committed in a new branch (was facing some branch conflicts, please have a look\n\nPR -> https://github.com/pytest-dev/pytest/pull/13543","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments/2984915965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"coder-aditi","id":92822822,"node_id":"U_kgDOBYhdJg","avatar_url":"https://avatars.githubusercontent.com/u/92822822?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-aditi","html_url":"https://github.com/coder-aditi","followers_url":"https://api.github.com/users/coder-aditi/followers","following_url":"https://api.github.com/users/coder-aditi/following{/other_user}","gists_url":"https://api.github.com/users/coder-aditi/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-aditi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-aditi/subscriptions","organizations_url":"https://api.github.com/users/coder-aditi/orgs","repos_url":"https://api.github.com/users/coder-aditi/repos","events_url":"https://api.github.com/users/coder-aditi/events{/privacy}","received_events_url":"https://api.github.com/users/coder-aditi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18214212936,"node_id":"MEE_lADOAjwLdc67-mbSzwAAAAQ9ptVI","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18214212936","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-18T16:24:52Z","performed_via_github_app":null},{"id":18214212951,"node_id":"SE_lADOAjwLdc67-mbSzwAAAAQ9ptVX","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18214212951","actor":{"login":"RonnyPfannschmidt","id":156838,"node_id":"MDQ6VXNlcjE1NjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/156838?v=4","gravatar_id":"","url":"https://api.github.com/users/RonnyPfannschmidt","html_url":"https://github.com/RonnyPfannschmidt","followers_url":"https://api.github.com/users/RonnyPfannschmidt/followers","following_url":"https://api.github.com/users/RonnyPfannschmidt/following{/other_user}","gists_url":"https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}","starred_url":"https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RonnyPfannschmidt/subscriptions","organizations_url":"https://api.github.com/users/RonnyPfannschmidt/orgs","repos_url":"https://api.github.com/users/RonnyPfannschmidt/repos","events_url":"https://api.github.com/users/RonnyPfannschmidt/events{/privacy}","received_events_url":"https://api.github.com/users/RonnyPfannschmidt/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-18T16:24:52Z","performed_via_github_app":null},{"id":18214212989,"node_id":"MEE_lADOAjwLdc67-mbSzwAAAAQ9ptV9","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18214212989","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-18T16:24:52Z","performed_via_github_app":null},{"id":18214213002,"node_id":"SE_lADOAjwLdc67-mbSzwAAAAQ9ptWK","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18214213002","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-18T16:24:52Z","performed_via_github_app":null},{"id":18261915426,"node_id":"CE_lADOAjwLdc67-mbSzwAAAARAfrci","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18261915426","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-06-22T16:41:17Z","state_reason":null,"performed_via_github_app":null},{"id":18261915443,"node_id":"REFE_lADOAjwLdc67-mbSzwAAAARAfrcz","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18261915443","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"111685cc506fbaf87c105e67d68fbd881a47a84b","commit_url":"https://api.github.com/repos/pytest-dev/pytest/commits/111685cc506fbaf87c105e67d68fbd881a47a84b","created_at":"2025-06-22T16:41:18Z","performed_via_github_app":null},{"id":18261915893,"node_id":"REFE_lADOAjwLdc67-mbSzwAAAARAfrj1","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18261915893","actor":{"login":"patchback[bot]","id":45432694,"node_id":"MDM6Qm90NDU0MzI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/in/21488?v=4","gravatar_id":"","url":"https://api.github.com/users/patchback%5Bbot%5D","html_url":"https://github.com/apps/patchback","followers_url":"https://api.github.com/users/patchback%5Bbot%5D/followers","following_url":"https://api.github.com/users/patchback%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/patchback%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/patchback%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patchback%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/patchback%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/patchback%5Bbot%5D/repos","events_url":"https://api.github.com/users/patchback%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/patchback%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f74629ee9328539d45fd631cce2708e441d69971","commit_url":"https://api.github.com/repos/pytest-dev/pytest/commits/f74629ee9328539d45fd631cce2708e441d69971","created_at":"2025-06-22T16:41:28Z","performed_via_github_app":null},{"actor":{"login":"patchback[bot]","id":45432694,"node_id":"MDM6Qm90NDU0MzI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/in/21488?v=4","gravatar_id":"","url":"https://api.github.com/users/patchback%5Bbot%5D","html_url":"https://github.com/apps/patchback","followers_url":"https://api.github.com/users/patchback%5Bbot%5D/followers","following_url":"https://api.github.com/users/patchback%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/patchback%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/patchback%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patchback%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/patchback%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/patchback%5Bbot%5D/repos","events_url":"https://api.github.com/users/patchback%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/patchback%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2025-06-22T16:41:30Z","updated_at":"2025-06-22T16:41:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555/events","html_url":"https://github.com/pytest-dev/pytest/pull/13555","id":3166096388,"node_id":"PR_kwDOAjwLdc6bjvKt","number":13555,"title":"[PR #13543/111685cc backport][8.4.x] Fix decimal.FloatOperation error in pytest.approx Decimal __repr__ ","user":{"login":"patchback[bot]","id":45432694,"node_id":"MDM6Qm90NDU0MzI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/in/21488?v=4","gravatar_id":"","url":"https://api.github.com/users/patchback%5Bbot%5D","html_url":"https://github.com/apps/patchback","followers_url":"https://api.github.com/users/patchback%5Bbot%5D/followers","following_url":"https://api.github.com/users/patchback%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/patchback%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/patchback%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patchback%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/patchback%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/patchback%5Bbot%5D/repos","events_url":"https://api.github.com/users/patchback%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/patchback%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-22T16:41:28Z","updated_at":"2025-06-22T17:07:03Z","closed_at":"2025-06-22T17:07:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":37489525,"node_id":"MDEwOlJlcG9zaXRvcnkzNzQ4OTUyNQ==","name":"pytest","full_name":"pytest-dev/pytest","private":false,"owner":{"login":"pytest-dev","id":8897583,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4OTc1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8897583?v=4","gravatar_id":"","url":"https://api.github.com/users/pytest-dev","html_url":"https://github.com/pytest-dev","followers_url":"https://api.github.com/users/pytest-dev/followers","following_url":"https://api.github.com/users/pytest-dev/following{/other_user}","gists_url":"https://api.github.com/users/pytest-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pytest-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pytest-dev/subscriptions","organizations_url":"https://api.github.com/users/pytest-dev/orgs","repos_url":"https://api.github.com/users/pytest-dev/repos","events_url":"https://api.github.com/users/pytest-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pytest-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pytest-dev/pytest","description":"The pytest framework makes it easy to write small tests, yet scales to support complex functional testing","fork":false,"url":"https://api.github.com/repos/pytest-dev/pytest","forks_url":"https://api.github.com/repos/pytest-dev/pytest/forks","keys_url":"https://api.github.com/repos/pytest-dev/pytest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pytest-dev/pytest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pytest-dev/pytest/teams","hooks_url":"https://api.github.com/repos/pytest-dev/pytest/hooks","issue_events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/events{/number}","events_url":"https://api.github.com/repos/pytest-dev/pytest/events","assignees_url":"https://api.github.com/repos/pytest-dev/pytest/assignees{/user}","branches_url":"https://api.github.com/repos/pytest-dev/pytest/branches{/branch}","tags_url":"https://api.github.com/repos/pytest-dev/pytest/tags","blobs_url":"https://api.github.com/repos/pytest-dev/pytest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pytest-dev/pytest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pytest-dev/pytest/git/refs{/sha}","trees_url":"https://api.github.com/repos/pytest-dev/pytest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pytest-dev/pytest/statuses/{sha}","languages_url":"https://api.github.com/repos/pytest-dev/pytest/languages","stargazers_url":"https://api.github.com/repos/pytest-dev/pytest/stargazers","contributors_url":"https://api.github.com/repos/pytest-dev/pytest/contributors","subscribers_url":"https://api.github.com/repos/pytest-dev/pytest/subscribers","subscription_url":"https://api.github.com/repos/pytest-dev/pytest/subscription","commits_url":"https://api.github.com/repos/pytest-dev/pytest/commits{/sha}","git_commits_url":"https://api.github.com/repos/pytest-dev/pytest/git/commits{/sha}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/comments{/number}","issue_comment_url":"https://api.github.com/repos/pytest-dev/pytest/issues/comments{/number}","contents_url":"https://api.github.com/repos/pytest-dev/pytest/contents/{+path}","compare_url":"https://api.github.com/repos/pytest-dev/pytest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pytest-dev/pytest/merges","archive_url":"https://api.github.com/repos/pytest-dev/pytest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pytest-dev/pytest/downloads","issues_url":"https://api.github.com/repos/pytest-dev/pytest/issues{/number}","pulls_url":"https://api.github.com/repos/pytest-dev/pytest/pulls{/number}","milestones_url":"https://api.github.com/repos/pytest-dev/pytest/milestones{/number}","notifications_url":"https://api.github.com/repos/pytest-dev/pytest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pytest-dev/pytest/labels{/name}","releases_url":"https://api.github.com/repos/pytest-dev/pytest/releases{/id}","deployments_url":"https://api.github.com/repos/pytest-dev/pytest/deployments","created_at":"2015-06-15T20:28:27Z","updated_at":"2025-11-09T16:32:44Z","pushed_at":"2025-11-09T09:33:29Z","git_url":"git://github.com/pytest-dev/pytest.git","ssh_url":"git@github.com:pytest-dev/pytest.git","clone_url":"https://github.com/pytest-dev/pytest.git","svn_url":"https://github.com/pytest-dev/pytest","homepage":"https://pytest.org","size":37842,"stargazers_count":13254,"watchers_count":13254,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2933,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":953,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","python","test","testing","unit-testing"],"visibility":"public","forks":2933,"open_issues":953,"watchers":13254,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pytest-dev/pytest/pulls/13555","html_url":"https://github.com/pytest-dev/pytest/pull/13555","diff_url":"https://github.com/pytest-dev/pytest/pull/13555.diff","patch_url":"https://github.com/pytest-dev/pytest/pull/13555.patch","merged_at":"2025-06-22T17:07:01Z"},"body":"**This is a backport of PR #13543 as merged into main (111685cc506fbaf87c105e67d68fbd881a47a84b).**\n\n<!--\r\nThanks for submitting a PR, your contribution is really appreciated!\r\n\r\nFix #13530\r\n\r\nHere is a quick checklist that should be present in PRs.\r\n\r\n- [ ] Include documentation when adding new features.\r\n- [✅ ] Include new tests or update existing tests when applicable.\r\n- [✅] Allow maintainers to push and squash when merging my commits. Please uncheck this if you prefer to squash the commits yourself.\r\n\r\nIf this change fixes an issue, please:\r\n\r\n- [ ] Add text like ``closes #XYZW`` to the PR description and/or commits (where ``XYZW`` is the issue number). See the [github docs](https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword) for more information.\r\n\r\nUnless your change is trivial or a small documentation fix (e.g., a typo or reword of a small section) please:\r\n\r\n- [ ] Create a new changelog file in the `changelog` folder, with a name like `<ISSUE NUMBER>.<TYPE>.rst`. See [changelog/README.rst](https://github.com/pytest-dev/pytest/blob/main/changelog/README.rst) for details.\r\n\r\n  Write sentences in the **past or present tense**, examples:\r\n\r\n  * *Improved verbose diff output with sequences.*\r\n  * *Terminal summary statistics now use multiple colors.*\r\n\r\n  Also make sure to end the sentence with a `.`.\r\n\r\n- [ ] Add yourself to `AUTHORS` in alphabetical order.\r\n-->\r\n\r\nFix #13530\r\n\r\n## Summary  \r\n\r\nThis PR addresses a decimal.FloatOperation error that happens when calling repr() on a pytest.approx object created with a decimal.Decimal value. The error arises from comparing and formatting Decimal and float values without proper conversion, which activates the FloatOperation trap.  \r\n\r\n## Changes  \r\n\r\nI modified the __repr__ method to carefully handle Decimal and float attributes. This is done by explicitly converting float values to Decimal before comparisons and formatting.  \r\nI added checks for None to prevent invalid comparisons.  \r\nI avoided direct comparisons between float and Decimal that can lead to FloatOperation exceptions.  \r\n\r\n## Testing  \r\n\r\nI created a minimal test to reproduce the FloatOperation error from pytest.approx(Decimal)'s repr().  \r\nThe test passes after applying this fix, confirming that the issue is resolved.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/13555/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":18261987450,"node_id":"REFE_lADOAjwLdc67-mbSzwAAAARAf9B6","url":"https://api.github.com/repos/pytest-dev/pytest/issues/events/18261987450","actor":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7b21af10940143b74bb996c928b77bcb2d354c46","commit_url":"https://api.github.com/repos/pytest-dev/pytest/commits/7b21af10940143b74bb996c928b77bcb2d354c46","created_at":"2025-06-22T17:07:02Z","performed_via_github_app":null}]