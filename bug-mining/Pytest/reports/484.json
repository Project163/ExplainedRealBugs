{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888/events","html_url":"https://github.com/pytest-dev/pytest/issues/12888","id":2584124137,"node_id":"I_kwDOAjwLdc6aBprp","number":12888,"title":"pdb prompt is nonresponsive in Python 3.13.0 from python-build-standalone","user":{"login":"bluthej","id":29771403,"node_id":"MDQ6VXNlcjI5NzcxNDAz","avatar_url":"https://avatars.githubusercontent.com/u/29771403?v=4","gravatar_id":"","url":"https://api.github.com/users/bluthej","html_url":"https://github.com/bluthej","followers_url":"https://api.github.com/users/bluthej/followers","following_url":"https://api.github.com/users/bluthej/following{/other_user}","gists_url":"https://api.github.com/users/bluthej/gists{/gist_id}","starred_url":"https://api.github.com/users/bluthej/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluthej/subscriptions","organizations_url":"https://api.github.com/users/bluthej/orgs","repos_url":"https://api.github.com/users/bluthej/repos","events_url":"https://api.github.com/users/bluthej/events{/privacy}","received_events_url":"https://api.github.com/users/bluthej/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":389844119,"node_id":"MDU6TGFiZWwzODk4NDQxMTk=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/plugin:%20capture","name":"plugin: capture","color":"1d76db","default":false,"description":"related to the capture builtin plugin"},{"id":818379050,"node_id":"MDU6TGFiZWw4MTgzNzkwNTA=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/plugin:%20debugging","name":"plugin: debugging","color":"dd52a8","default":false,"description":"related to the debugging builtin plugin"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2024-10-13T17:19:01Z","updated_at":"2025-03-30T21:35:47Z","closed_at":"2025-02-03T13:46:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With Python 3.13.0 installed with `uv` (i.e. from [python-build-standalone](https://github.com/indygreg/python-build-standalone)), the pdb prompt is completely nonresponsive when triggered either by the `--pdb` flag or by a breakpoint. \r\n\r\nThis can be reproduced by the following test in `test_foo.py`:\r\n\r\n```python\r\ndef test_bar():\r\n    raise ValueError\r\n```\r\n\r\nand running:\r\n\r\n```shell\r\npytest test_foo.py --pdb\r\n```\r\n\r\nI tested the same code with the official source release from python.org for 3.13.0 on the same computer and the same code works just fine, so it seems it's somehow related to the build by python-build-standalone. Note that putting a breakpoint in a regular Python script and running it in the same interpreter does work, so this seems to be an issue with the combination with `pytest`.\r\n\r\nOS: Arch Linux.\r\n\r\n<details><summary>Pytest version</summary>\r\n<p>\r\n\r\n```shell\r\n❯ pytest --version\r\npytest 8.3.3\r\n```\r\n\r\n</p>\r\n</details> \r\n\r\n<details><summary>`pip list` output</summary>\r\n<p>\r\n\r\n```shell\r\n❯ pip list\r\nPackage   Version\r\n--------- -------\r\niniconfig 2.0.0\r\npackaging 24.1\r\npip       24.2\r\npluggy    1.5.0\r\npytest    8.3.3\r\n```\r\n\r\n</p>\r\n</details> \r\n","closed_by":{"login":"The-Compiler","id":625793,"node_id":"MDQ6VXNlcjYyNTc5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/625793?v=4","gravatar_id":"","url":"https://api.github.com/users/The-Compiler","html_url":"https://github.com/The-Compiler","followers_url":"https://api.github.com/users/The-Compiler/followers","following_url":"https://api.github.com/users/The-Compiler/following{/other_user}","gists_url":"https://api.github.com/users/The-Compiler/gists{/gist_id}","starred_url":"https://api.github.com/users/The-Compiler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/The-Compiler/subscriptions","organizations_url":"https://api.github.com/users/The-Compiler/orgs","repos_url":"https://api.github.com/users/The-Compiler/repos","events_url":"https://api.github.com/users/The-Compiler/events{/privacy}","received_events_url":"https://api.github.com/users/The-Compiler/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/12888/timeline","performed_via_github_app":null,"state_reason":"completed"}