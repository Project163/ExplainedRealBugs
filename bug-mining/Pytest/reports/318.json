{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457","repository_url":"https://api.github.com/repos/pytest-dev/pytest","labels_url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457/labels{/name}","comments_url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457/comments","events_url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457/events","html_url":"https://github.com/pytest-dev/pytest/issues/10457","id":1431896428,"node_id":"I_kwDOAjwLdc5VWQFs","number":10457,"title":"Short test summary doesn't show the test name when skipping from a fixture","user":{"login":"varunsh-xilinx","id":89109734,"node_id":"MDQ6VXNlcjg5MTA5NzM0","avatar_url":"https://avatars.githubusercontent.com/u/89109734?v=4","gravatar_id":"","url":"https://api.github.com/users/varunsh-xilinx","html_url":"https://github.com/varunsh-xilinx","followers_url":"https://api.github.com/users/varunsh-xilinx/followers","following_url":"https://api.github.com/users/varunsh-xilinx/following{/other_user}","gists_url":"https://api.github.com/users/varunsh-xilinx/gists{/gist_id}","starred_url":"https://api.github.com/users/varunsh-xilinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varunsh-xilinx/subscriptions","organizations_url":"https://api.github.com/users/varunsh-xilinx/orgs","repos_url":"https://api.github.com/users/varunsh-xilinx/repos","events_url":"https://api.github.com/users/varunsh-xilinx/events{/privacy}","received_events_url":"https://api.github.com/users/varunsh-xilinx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":224849193,"node_id":"MDU6TGFiZWwyMjQ4NDkxOTM=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/type:%20bug","name":"type: bug","color":"fc2929","default":false,"description":"problem that needs to be addressed"},{"id":224853076,"node_id":"MDU6TGFiZWwyMjQ4NTMwNzY=","url":"https://api.github.com/repos/pytest-dev/pytest/labels/topic:%20reporting","name":"topic: reporting","color":"fef2c0","default":false,"description":"related to terminal output and user-facing messages and errors"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-11-01T18:36:40Z","updated_at":"2022-11-18T12:20:40Z","closed_at":"2022-11-18T12:20:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using Pytest 7.0.1on Ubuntu 18.04 with Python 3.6.9.\r\n\r\nConsider a test:\r\n```python\r\ndef test_0(bar):\r\n    assert 0\r\n```\r\n\r\nand a fixture defined in `conftest.py` that will skip a test based on some conditional check.\r\n```python\r\nimport pytest\r\n\r\n@pytest.fixture\r\ndef bar():\r\n    if some_condition:\r\n        pytest.skip(\"Skipping\")\r\n```\r\n\r\nThen running the test with pytest shows something like:\r\n```bash\r\n$ pytest . -rs\r\n================================== test session starts ==================================\r\nplatform linux -- Python 3.6.9, pytest-7.0.1, pluggy-1.0.0\r\nrootdir: /tmp/foo\r\nplugins: cpp-2.1.2\r\ncollected 1 item                                                                        \r\n\r\ntest_foo.py s                                                                     [100%]\r\n\r\n================================ short test summary info ================================\r\nSKIPPED [1] conftest.py:6: Skipping\r\n================================== 1 skipped in 0.01s ===================================\r\n```\r\n\r\nThe summary shows that some test was skipped but there's no indication which test was skipped. Instead, it should show the test name rather than the location in the fixture where the `pytest.skip` was called from. If there are multiple tests that are skipped from various locations, matching a test with its skip condition becomes impossible.\r\n\r\nThere are some similar issues in #114, #748, #760 which may be related.","closed_by":{"login":"nicoddemus","id":1085180,"node_id":"MDQ6VXNlcjEwODUxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1085180?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoddemus","html_url":"https://github.com/nicoddemus","followers_url":"https://api.github.com/users/nicoddemus/followers","following_url":"https://api.github.com/users/nicoddemus/following{/other_user}","gists_url":"https://api.github.com/users/nicoddemus/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoddemus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoddemus/subscriptions","organizations_url":"https://api.github.com/users/nicoddemus/orgs","repos_url":"https://api.github.com/users/nicoddemus/repos","events_url":"https://api.github.com/users/nicoddemus/events{/privacy}","received_events_url":"https://api.github.com/users/nicoddemus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pytest-dev/pytest/issues/10457/timeline","performed_via_github_app":null,"state_reason":"completed"}