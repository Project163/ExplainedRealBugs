<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:03:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SANDBOX-388] Generic Type inference doesn&apos;t work in Eclipse</title>
                <link>https://issues.apache.org/jira/browse/SANDBOX-388</link>
                <project id="12310491" key="SANDBOX">Commons Sandbox</project>
                    <description>&lt;p&gt;&lt;tt&gt;Flow&lt;/tt&gt; and &lt;tt&gt;MST&lt;/tt&gt; EDSL is affected by generic type inference issue, it simply doesn&apos;t work in Eclipse. It works in IDEA, but in the Eclipse forum they reported that doesn&apos;t work if the code is compiled with Oracle JDK7.&lt;/p&gt;

&lt;p&gt;One of the reported error in Eclipse is:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Type mismatch: cannot convert from SpanningTree&amp;lt;BaseLabeledVertex,BaseLabeledWeightedEdge&amp;lt;Double&amp;gt;,Object&amp;gt; to SpanningTree&amp;lt;BaseLabeledVertex,BaseLabeledWeightedEdge&amp;lt;Double&amp;gt;,Double&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looking for a solution&lt;/p&gt;</description>
                <environment>&lt;p&gt;Eclipse Java EE IDE for Web Developers.&lt;/p&gt;

&lt;p&gt;Version: Indigo Service Release 1&lt;br/&gt;
Build id: 20110916-0149&lt;/p&gt;</environment>
        <key id="12541417">SANDBOX-388</key>
            <summary>Generic Type inference doesn&apos;t work in Eclipse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Feb 2012 14:08:30 +0000</created>
                <updated>Tue, 7 Feb 2012 19:40:31 +0000</updated>
                            <resolved>Tue, 7 Feb 2012 15:44:55 +0000</resolved>
                                                                    <component>Graph</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13201299" author="garydgregory" created="Mon, 6 Feb 2012 14:12:28 +0000"  >&lt;p&gt;Did you try the latest Eclipse 3.x AND 4.x?&lt;/p&gt;</comment>
                            <comment id="13201300" author="garydgregory" created="Mon, 6 Feb 2012 14:15:11 +0000"  >&lt;p&gt;Data point: I see this in 3.7.1.&lt;/p&gt;</comment>
                            <comment id="13201304" author="simone.tripodi" created="Mon, 6 Feb 2012 14:20:26 +0000"  >&lt;p&gt;what is driving me crazy is that running from CLI&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ mvn --version&lt;br/&gt;
Apache Maven 3.0.4 (r1232337; 2012-01-17 09:44:56+0100)&lt;br/&gt;
Maven home: /Applications/apache-maven-3.0.4&lt;br/&gt;
Java version: 1.6.0_29, vendor: Apple Inc.&lt;br/&gt;
Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home&lt;br/&gt;
Default locale: en_US, platform encoding: MacRoman&lt;br/&gt;
OS name: &quot;mac os x&quot;, version: &quot;10.7.2&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;doesn&apos;t report the same error &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13201314" author="garydgregory" created="Mon, 6 Feb 2012 14:39:10 +0000"  >&lt;p&gt;Don&apos;t go bonkers Simo, Eclipse has its own Java compiler.&lt;/p&gt;</comment>
                            <comment id="13201320" author="simone.tripodi" created="Mon, 6 Feb 2012 14:50:07 +0000"  >&lt;p&gt;what worries me is that Eclipse users would be reluctant on using our APIs because of that issue... ;(&lt;/p&gt;</comment>
                            <comment id="13201327" author="joehni" created="Mon, 6 Feb 2012 14:57:08 +0000"  >&lt;p&gt;@simo: If it&apos;s reported to fail with OraJDK 7, you should use that one with Maven to proof something ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13201346" author="simone.tripodi" created="Mon, 6 Feb 2012 15:27:01 +0000"  >&lt;p&gt;Hi J&#246;rg, sorry for the ignorance, but... I don&apos;t know how to install Oracle JDK7 on Mac Os X &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13201384" author="tn" created="Mon, 6 Feb 2012 16:41:26 +0000"  >&lt;p&gt;A rather ugly but working solution would be to cast the input graph to an unchecked DirectedGraph to circumvent type inference at all, like the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FordFulkersonTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test(expected=NullPointerException.class)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testNullGraphAndVertices()
{
  findMaxFlow( (DirectedGraph) &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ).from( &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ).to( &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ).applyingFordFulkerson( &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IntegerWeight() );
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="13201478" author="simone.tripodi" created="Mon, 6 Feb 2012 19:13:36 +0000"  >&lt;p&gt;the problem is that for &lt;tt&gt;findMaxFlow()&lt;/tt&gt; method it never infers the &lt;tt&gt;W&lt;/tt&gt; type, even with valid graph &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13201572" author="steven.dolg" created="Mon, 6 Feb 2012 20:50:27 +0000"  >&lt;p&gt;A quick workaround might be overloading the methods in question, using a type of graph that allows to connect the disobedient generic to Graph in the type parameters of the method header.&lt;/p&gt;

&lt;p&gt;Like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    public static &amp;lt;V extends Vertex, WE extends WeightedEdge&amp;lt;W&amp;gt;, W, G extends DirectedMutableWeightedGraph&amp;lt;V, WE, W&amp;gt;&amp;gt; FromHeadBuilder&amp;lt;V, WE, W, G&amp;gt; findMaxFlow( G graph )

    public static &amp;lt;V extends Vertex, WE extends WeightedEdge&amp;lt;W&amp;gt;, W, G extends DirectedGraph&amp;lt;V, WE&amp;gt;&amp;gt; FromHeadBuilder&amp;lt;V, WE, W, G&amp;gt; findMaxFlow( G graph )
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and this&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    public static &amp;lt;V extends Vertex, WE extends WeightedEdge&amp;lt;W&amp;gt;, W, G extends UndirectedMutableWeightedGraph&amp;lt;V, WE, W&amp;gt;&amp;gt; SpanningTreeSourceSelector&amp;lt;V, W, WE, G&amp;gt; minimumSpanningTree( G graph )

    public static &amp;lt;V extends Vertex, WE extends WeightedEdge&amp;lt;W&amp;gt;, W, G extends Graph&amp;lt;V, WE&amp;gt;&amp;gt; SpanningTreeSourceSelector&amp;lt;V, W, WE, G&amp;gt; minimumSpanningTree( G graph )
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This fixes all the compile error in my Eclipse (exact same version as mentioned in the issue description).&lt;br/&gt;
Not sure if this works everywhere or if it is desirable at all, but I wanted to mention it anyway.&lt;/p&gt;</comment>
                            <comment id="13201616" author="simone.tripodi" created="Mon, 6 Feb 2012 21:28:03 +0000"  >&lt;p&gt;Hi Steven!!&lt;/p&gt;

&lt;p&gt;simply amazing!!! Since you are an ASF committer, would you be pleased to be granted to commit to Sandbox? Commons Sandbox is open to all ASF committers, I would be more than glad if you could participate!&lt;/p&gt;

&lt;p&gt;Many thanks in advance!&lt;/p&gt;</comment>
                            <comment id="13202051" author="mbenson" created="Tue, 7 Feb 2012 03:42:33 +0000"  >&lt;p&gt;Yes; all I can say is &quot;holy shit.&quot;  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  I thought certainly type erasure would have made these two methods identical and thus illegal, but yes, it does seem to work here.  Great catch, Steven!&lt;/p&gt;</comment>
                            <comment id="13202223" author="steven.dolg" created="Tue, 7 Feb 2012 10:45:17 +0000"  >&lt;p&gt;Sure, you can hook me up and I will commit myself. Just don&apos;t expect a lot of commits from me. I&apos;m just here for the puzzles... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;In the meantime here&apos;s a patch containing all the changes.&lt;/p&gt;

&lt;p&gt;Overloading is working because the upper bound of G is changed. This leads to a different erasure, which is created by replacing the generic parameter with its upper bound. So those really are two different method signatures.&lt;/p&gt;</comment>
                            <comment id="13202340" author="mbenson" created="Tue, 7 Feb 2012 13:04:00 +0000"  >&lt;p&gt;Yes, I figured that must be the case.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13202445" author="claudio.squarcella" created="Tue, 7 Feb 2012 14:56:19 +0000"  >&lt;p&gt;Hello Steven (and all),&lt;/p&gt;

&lt;p&gt;thank you for sharing your intuition! &lt;br/&gt;
I am attaching a patch that draws on the same idea (re)introducing &lt;tt&gt;WeightedGraph&lt;/tt&gt; as an interface, to fix the problem at the interface level. &lt;/p&gt;

&lt;p&gt;And yes, &lt;a href=&quot;https://issues.apache.org/jira/browse/SANDBOX-344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;blame me for getting rid of that before&lt;/a&gt;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Hoping this helps,&lt;br/&gt;
Claudio&lt;/p&gt;</comment>
                            <comment id="13202480" author="simone.tripodi" created="Tue, 7 Feb 2012 15:44:55 +0000"  >&lt;p&gt;You guys made me the happiest man in the world today, Thanks Steven &amp;amp; Claudio!!!&lt;/p&gt;

&lt;p&gt;I applied Claudio&apos;s patch that provides a more abstracted APIs, but &lt;b&gt;thank you&lt;/b&gt; Steven for the intuition!!!&lt;/p&gt;

&lt;p&gt;Fixed on &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1241491&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1241491&lt;/a&gt;, all the best!&lt;/p&gt;</comment>
                            <comment id="13202652" author="steven.dolg" created="Tue, 7 Feb 2012 19:21:15 +0000"  >&lt;p&gt;That looks very nice; a method asking for WeightedEdges on a WeightedGraph.&lt;br/&gt;
I couldn&apos;t quite put my finger on it, but now it seems obvious that it was simply this type of balance that was missing.&lt;/p&gt;

&lt;p&gt;Well done!&lt;/p&gt;</comment>
                            <comment id="13202680" author="garydgregory" created="Tue, 7 Feb 2012 19:40:31 +0000"  >&lt;p&gt;No more errors in Eclipse! Thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12513619" name="SANDBOX-388_FixForGenericTypesInEclipse.patch" size="7639" author="claudio.squarcella" created="Tue, 7 Feb 2012 14:56:19 +0000"/>
                            <attachment id="12513594" name="sandbox-388.txt" size="2705" author="steven.dolg" created="Tue, 7 Feb 2012 10:45:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0krnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>