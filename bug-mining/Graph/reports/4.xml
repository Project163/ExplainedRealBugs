<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:03:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SANDBOX-336] [Graph] Duplicate Edge  </title>
                <link>https://issues.apache.org/jira/browse/SANDBOX-336</link>
                <project id="12310491" key="SANDBOX">Commons Sandbox</project>
                    <description>&lt;p&gt;The method  BaseMutableGraph#addEdge does not check if the edge already exists.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512504">SANDBOX-336</key>
            <summary>[Graph] Duplicate Edge  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="marco.speranza">Marco Speranza</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Jul 2011 21:15:28 +0000</created>
                <updated>Tue, 5 Jul 2011 10:20:07 +0000</updated>
                            <resolved>Tue, 5 Jul 2011 10:20:07 +0000</resolved>
                                                                    <component>Graph</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13058806" author="marco.speranza" created="Fri, 1 Jul 2011 21:15:58 +0000"  >&lt;p&gt;here is my patch.&lt;/p&gt;</comment>
                            <comment id="13058819" author="simone.tripodi" created="Fri, 1 Jul 2011 21:30:04 +0000"  >&lt;p&gt;Hi Marco,&lt;br/&gt;
according to the Vertices checks the method already does, if an Edge between head/tail already exists, it should throw an exception, I mean:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( getEdge( head, tail ) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) 
{
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GraphException( &lt;span class=&quot;code-quote&quot;&gt;&quot;Vertices &lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt; and &lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt; already present in the Graph&quot;&lt;/span&gt;, head, tail );
}
getAllEdges().add( e );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or not?&lt;/p&gt;</comment>
                            <comment id="13058832" author="marco.speranza" created="Fri, 1 Jul 2011 22:09:09 +0000"  >&lt;p&gt;Hi Simo, I understand your point of view and I agree with you. I&apos;ve only a remark:  the user should catch and manage the exception. Let me do an example:&lt;/p&gt;

&lt;p&gt;To create a complete graph is usefull do this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ( BaseLabeledVertex v1 : g.getVertices() )
        {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ( BaseLabeledVertex v2 : g.getVertices() )
            {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( !v1.equals( v2 ) )
                {
                      g.addEdge( v1, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BaseLabeledEdge( v1 + &lt;span class=&quot;code-quote&quot;&gt;&quot; -&amp;gt; &quot;&lt;/span&gt; + v2 ), v2 );
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in this case the user should catch the exception, isn&apos;t it? &lt;br/&gt;
IMHO this is a little bit heavy. WDYT?&lt;/p&gt;</comment>
                            <comment id="13058992" author="simone.tripodi" created="Sat, 2 Jul 2011 07:29:39 +0000"  >&lt;p&gt;Yes, clients that wants to automate Graphs generation have to manage/swallow the exceptions in that case.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ( BaseLabeledVertex v1 : g.getVertices() )
{
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ( BaseLabeledVertex v2 : g.getVertices() )
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( !v1.equals( v2 ) )
        {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                g.addEdge( v1, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BaseLabeledEdge( v1 + &lt;span class=&quot;code-quote&quot;&gt;&quot; -&amp;gt; &quot;&lt;/span&gt; + v2 ), v2 );
            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( GraphException ge )
            {
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; nothing
&lt;/span&gt;            }
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13059021" author="marco.speranza" created="Sat, 2 Jul 2011 12:46:35 +0000"  >&lt;p&gt;OK Simo.. I&apos;ve a proposal a little bit &quot;vintage&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;br/&gt;
If addEdge() returned a boolean, true if the insert has been done, false otherwise, the users wouldn&apos;t force to manage/shallow the exception. &lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;

&lt;p&gt;Ciao ciao have a nice week-end &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13059030" author="simone.tripodi" created="Sat, 2 Jul 2011 14:40:05 +0000"  >&lt;p&gt;Interesting, but that would make more sense if the commons-graph would have been focused only on our in-memory based implementation. Looks like this is more a Graph generation turnaround that an APIs improvement.&lt;br/&gt;
I expect that in production environments people provide their &lt;tt&gt;Grap&amp;lt;V, E&amp;gt;&lt;/tt&gt; implementation, adapting 3rd parties storages (GraphDB, KV-Storages, RDBMS...) so just providing a boolean flag of success/failure wouldn&apos;t be enough.&lt;br/&gt;
If an error happens in the data layers below Graph APIs, just returning &lt;tt&gt;false&lt;/tt&gt; is a practice I have been discouraging, induces &lt;tt&gt;Grap&amp;lt;V, E&amp;gt;&lt;/tt&gt; implementors kind of lazy pattern:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void MyMutableGraph
{

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MyGraphDBStorageInstance storage;

    ...

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; addEdge( V head, E e, V tail )
    {
         &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
         {
             storage.doSomething( head, e, tail );
             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
         }
         &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; ( Throwable t )
         {
             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
         }
    }

    ...

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OTOH, people could commit other mistakes - but I wouldn&apos;t offer them more chances to provide wrong implementations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13059093" author="marco.speranza" created="Sat, 2 Jul 2011 18:23:50 +0000"  >&lt;p&gt;ok Simo you&apos;re right, tomorrow I&apos;ll modify the patch in this way. thanks you for your comments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ciaooo&lt;/p&gt;</comment>
                            <comment id="13059238" author="marco.speranza" created="Sun, 3 Jul 2011 17:26:23 +0000"  >&lt;p&gt;Here is the patch that contains the duplicated edge control.&lt;/p&gt;</comment>
                            <comment id="13059253" author="simone.tripodi" created="Sun, 3 Jul 2011 18:36:53 +0000"  >&lt;p&gt;Thanks for the patch!!! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;unfortunately source provided here is out-of-sync with /trunk, I got a compile error&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commons-graph/src/test/java/org/apache/commons/graph/coloring/GraphColoringTestCase.java:[150,50] buildSudokuGraph(org.apache.commons.graph.model.UndirectedMutableGraph&amp;lt;org.apache.commons.graph.model.BaseLabeledVertex,org.apache.commons.graph.model.BaseLabeledEdge&amp;gt;) in org.apache.commons.graph.utils.GraphUtils cannot be applied to ()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;did you prepared this patch in order &lt;a href=&quot;https://issues.apache.org/jira/browse/SANDBOX-335&quot; title=&quot;[Graph] Graph Coloring: Backtracking algorithm&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SANDBOX-335&quot;&gt;&lt;del&gt;SANDBOX-335&lt;/del&gt;&lt;/a&gt; has to be applied first?&lt;br/&gt;
Thanks in advance!!!&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13059281" author="marco.speranza" created="Sun, 3 Jul 2011 21:15:50 +0000"  >&lt;p&gt;Ok simo, I fixed both patch &lt;a href=&quot;https://issues.apache.org/jira/browse/SANDBOX-335&quot; title=&quot;[Graph] Graph Coloring: Backtracking algorithm&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SANDBOX-335&quot;&gt;&lt;del&gt;SANDBOX-335&lt;/del&gt;&lt;/a&gt; and this. sorry for that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ciao&lt;/p&gt;</comment>
                            <comment id="13059819" author="simone.tripodi" created="Tue, 5 Jul 2011 10:20:07 +0000"  >&lt;p&gt;Patch applied on &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1142965&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1142965&lt;/a&gt;, thanks once again for providing a patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485108" name="addDuplicatedEdgeCheck.patch" size="2173" author="marco.speranza" created="Sun, 3 Jul 2011 21:14:53 +0000"/>
                            <attachment id="12484928" name="missingControllAlreadyExistEdge.patch" size="1005" author="marco.speranza" created="Fri, 1 Jul 2011 21:15:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0krp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>