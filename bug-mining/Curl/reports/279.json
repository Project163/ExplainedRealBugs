{"url":"https://api.github.com/repos/curl/curl/issues/11244","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/11244/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/11244/comments","events_url":"https://api.github.com/repos/curl/curl/issues/11244/events","html_url":"https://github.com/curl/curl/issues/11244","id":1739992575,"node_id":"I_kwDOAAiu0c5nti3_","number":11244,"title":"Cygwin build make check log message \"WARNING: UNPROTECTED PRIVATE KEY FILE!\"","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":352090567,"node_id":"MDU6TGFiZWwzNTIwOTA1Njc=","url":"https://api.github.com/repos/curl/curl/labels/KNOWN_BUGS%20material","name":"KNOWN_BUGS material","color":"d93f0b","default":false,"description":null},{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2023-06-03T23:38:28Z","updated_at":"2023-07-27T21:43:51Z","closed_at":"2023-07-27T21:43:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Between tests 0581 and 0584 got multiple occurrences of:\r\n```\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\nPermissions 0755 for '$HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/' are too open.\r\nIt is required that your private key files are NOT accessible by others.\r\nThis private key will be ignored.\r\nUnable to load host key \"$HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\": bad permissions\r\nUnable to load host key: $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\nsshd: no hostkeys available -- exiting.\r\n=== End of file $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/log/ssh_server.log\r\n```\r\nSee in:\r\n[Cygwin-curl-8.1.2-1-check.log](https://github.com/curl/curl/files/11644456/Cygwin-curl-8.1.2-1-check.log)\r\nScript `sshd-curl-config` was generated under out of tree build dir ...`/build/tests/log/server/`, as were the key files `{curl_client_key,curl_host_rsa_key}{,.pub}`... so it seems that directory, or another created for the keys, should have their permissions limited to 0700, as expected for `~/.ssh/` directories, and if the higher level directory specified in the message is spurious, that should also be corrected.\r\n\r\n\r\n### I did this\r\n`make check`\r\n\r\n### I expected the following\r\nTests build and run, possibly not all successfully.\r\n\r\n### curl/libcurl version\r\n```\r\n$ curl-8.1.2-1.x86_64/inst/usr/bin/curl -V\r\ncurl 8.1.2 (x86_64-pc-cygwin) libcurl/8.1.2 OpenSSL/1.1.1t zlib/1.2.13 brotli/1.0.9 zstd/1.5.5 libidn2/2.3.4 libpsl/0.21.2 (+libidn2/2.3.4) libssh2/1.10.0 nghttp2/1.53.0 libgsasl/2.2.0\r\nRelease-Date: 2023-05-30\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS brotli gsasl GSS-API HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM NTLM_WB PSL SPNEGO SSL threadsafe TLS-SRP UnixSockets zstd\r\n```\r\n\r\n### operating system\r\nCygwin 3.4.6 under Windows 10 [20]21H2 19044\r\n","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/11244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/11244/timeline","performed_via_github_app":null,"state_reason":"completed"}