[{"id":8178249206,"node_id":"LE_lADOAAiu0c5a4zX_zwAAAAHndi32","url":"https://api.github.com/repos/curl/curl/issues/events/8178249206","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-09T05:06:46Z","label":{"name":"cmdline tool","color":"006b75"},"performed_via_github_app":null},{"id":8178249209,"node_id":"LE_lADOAAiu0c5a4zX_zwAAAAHndi35","url":"https://api.github.com/repos/curl/curl/issues/events/8178249209","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-09T05:06:46Z","label":{"name":"Windows","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375112821","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1375112821","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1375112821,"node_id":"IC_kwDOAAiu0c5R9o51","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T05:07:29Z","updated_at":"2023-01-09T05:07:29Z","body":"Please give us the version information `curl -V` from both versions.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375112821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375127877","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1375127877","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1375127877,"node_id":"IC_kwDOAAiu0c5R9slF","user":{"login":"UnicornZhang","id":47808367,"node_id":"MDQ6VXNlcjQ3ODA4MzY3","avatar_url":"https://avatars.githubusercontent.com/u/47808367?v=4","gravatar_id":"","url":"https://api.github.com/users/UnicornZhang","html_url":"https://github.com/UnicornZhang","followers_url":"https://api.github.com/users/UnicornZhang/followers","following_url":"https://api.github.com/users/UnicornZhang/following{/other_user}","gists_url":"https://api.github.com/users/UnicornZhang/gists{/gist_id}","starred_url":"https://api.github.com/users/UnicornZhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UnicornZhang/subscriptions","organizations_url":"https://api.github.com/users/UnicornZhang/orgs","repos_url":"https://api.github.com/users/UnicornZhang/repos","events_url":"https://api.github.com/users/UnicornZhang/events{/privacy}","received_events_url":"https://api.github.com/users/UnicornZhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T05:36:53Z","updated_at":"2023-01-09T05:36:53Z","body":"@jay   error version：curl 7.87.0 (x86_64-w64-mingw32) libcurl/7.87.0 OpenSSL/1.1.1s (Schannel) zlib/1.2.13 brotli/1.0.9 zstd/1.5.2 libidn2/2.3.3 libpsl/0.21.1 (+libidn2/2.3.1) libssh2/1.10.0 nghttp2/1.51.0\r\nRelease-Date: 2022-12-21\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS brotli HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz MultiSSL NTLM PSL SPNEGO SSL SSPI threadsafe TLS-SRP UnixSockets zstd\r\n\r\nanother version: curl 7.83.1 (Windows) libcurl/7.83.1 Schannel\r\nRelease-Date: 2022-05-13\r\nProtocols: dict file ftp ftps http https imap imaps pop3 pop3s smtp smtps telnet tftp\r\nFeatures: AsynchDNS HSTS IPv6 Kerberos Largefile NTLM SPNEGO SSL SSPI UnixSockets","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375127877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"UnicornZhang","id":47808367,"node_id":"MDQ6VXNlcjQ3ODA4MzY3","avatar_url":"https://avatars.githubusercontent.com/u/47808367?v=4","gravatar_id":"","url":"https://api.github.com/users/UnicornZhang","html_url":"https://github.com/UnicornZhang","followers_url":"https://api.github.com/users/UnicornZhang/followers","following_url":"https://api.github.com/users/UnicornZhang/following{/other_user}","gists_url":"https://api.github.com/users/UnicornZhang/gists{/gist_id}","starred_url":"https://api.github.com/users/UnicornZhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UnicornZhang/subscriptions","organizations_url":"https://api.github.com/users/UnicornZhang/orgs","repos_url":"https://api.github.com/users/UnicornZhang/repos","events_url":"https://api.github.com/users/UnicornZhang/events{/privacy}","received_events_url":"https://api.github.com/users/UnicornZhang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8178356799,"node_id":"MEE_lADOAAiu0c5a4zX_zwAAAAHnd9I_","url":"https://api.github.com/repos/curl/curl/issues/events/8178356799","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-09T05:36:54Z","performed_via_github_app":null},{"id":8178356807,"node_id":"SE_lADOAAiu0c5a4zX_zwAAAAHnd9JH","url":"https://api.github.com/repos/curl/curl/issues/events/8178356807","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-09T05:36:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375289199","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1375289199","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1375289199,"node_id":"IC_kwDOAAiu0c5R-T9v","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T09:00:24Z","updated_at":"2023-01-09T09:01:33Z","body":"I can reproduce this in a Windows 7 VM when I change the region and locale (including non-Unicode locale) to traditional Chinese and use the mingw-w64 official curl builds after [7.83.1_2](https://curl.se/windows/dl-7.83.1_2/). With the same locale settings I have Visual Studio builds of 7.87.0, both no character set and multibyte character set, that will not reproduce in that VM with 7.87.0. I notice the Chinese characters are multibyte in the ansi codepage so maybe that has something to do with it, even though I can't reproduce with VS builds.\r\n\r\nThis is the last good version:\r\n~~~\r\ncurl 7.83.1 (x86_64-pc-win32) libcurl/7.83.1 OpenSSL/3.0.2 (Schannel) zlib/1.2.12 brotli/1.0.9 libidn2/2.3.2 libssh2/1.10.0 nghttp2/1.47.0 libgsasl/1.10.0\r\nRelease-Date: 2022-05-11\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS brotli gsasl HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz MultiSSL NTLM SPNEGO SSL SSPI TLS-SRP UnixSockets\r\n\r\n\r\nPOST / HTTP/1.1\r\nHost: 192.168.1.80:8000\r\nUser-Agent: curl/7.83.1\r\nAccept: */*\r\nContent-Length: 338\r\nContent-Type: multipart/form-data; boundary=------------------------dc8b9491458271bb\r\n\r\n--------------------------dc8b9491458271bb\r\nContent-Disposition: form-data; name=\"projectName\"\r\n\r\nelectron-test\r\n--------------------------dc8b9491458271bb\r\nContent-Disposition: form-data; name=\"packageFile\"; filename=\"¦¦¦¦¦¦¦¦-0.1.3-win.exe\"\r\nContent-Type: application/octet-stream\r\n\r\ntest\r\n--------------------------dc8b9491458271bb--\r\n\r\n~~~\r\n\r\nThis is the first bad version:\r\n~~~\r\ncurl 7.84.0 (x86_64-pc-win32) libcurl/7.84.0 OpenSSL/3.0.4 (Schannel) zlib/1.2.12 brotli/1.0.9 libidn2/2.3.2 libssh2/1.10.0 nghttp2/1.48.0 ngtcp2/0.6.0 nghttp3/0.5.0 libgsasl/1.10.0\r\nRelease-Date: 2022-06-27\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS brotli gsasl HSTS HTTP2 HTTP3 HTTPS-proxy IDN IPv6 Kerberos Largefile libz MultiSSL NTLM SPNEGO SSL SSPI threadsafe TLS-SRP UnixSockets\r\n\r\n\r\nPOST / HTTP/1.1\r\nHost: 192.168.1.80:8000\r\nUser-Agent: curl/7.84.0\r\nAccept: */*\r\nContent-Length: 334\r\nContent-Type: multipart/form-data; boundary=------------------------c33fdc604f32fdb5\r\n\r\n--------------------------c33fdc604f32fdb5\r\nContent-Disposition: form-data; name=\"projectName\"\r\n\r\nelectron-test\r\n--------------------------c33fdc604f32fdb5\r\nContent-Disposition: form-data; name=\"packageFile\"; filename=\"¦¦¦¦¦¦¦¦-0.1.3-win\"\r\nContent-Type: application/octet-stream\r\n\r\ntest\r\n--------------------------c33fdc604f32fdb5--\r\n~~~\r\n\r\nThe `¦` are multibyte Chinese characters that socat can't print because the server is running in English. The same number of bytes in the chinese characters both times.\r\n\r\n@vszakats any idea?\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375289199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8179507409,"node_id":"MEE_lADOAAiu0c5a4zX_zwAAAAHniWDR","url":"https://api.github.com/repos/curl/curl/issues/events/8179507409","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-09T09:00:24Z","performed_via_github_app":null},{"id":8179507419,"node_id":"SE_lADOAAiu0c5a4zX_zwAAAAHniWDb","url":"https://api.github.com/repos/curl/curl/issues/events/8179507419","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-09T09:00:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375435096","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1375435096","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1375435096,"node_id":"IC_kwDOAAiu0c5R-3lY","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T11:01:06Z","updated_at":"2023-01-17T00:25:08Z","body":"I cannot spot anything between 7.83.1_1 and 7.83.1_2 that might affect character handling (skimming through the 100 commits, which are mainly HTTP/3 / LibreSSL prep work, switching libssh2 builds to autotools, \"unified\" packaging, and some other unrelated things):\r\nhttps://github.com/curl/curl-for-win/compare/ce495c3e24992b811d06b4ee517aea7c5fde3e97...70eb533603453572d405335b965c202ceaaca94b\r\n\r\n7.83.1_2 changed packaging to the single-zip style (https://github.com/curl/curl-for-win/commit/3182733482ccabc2cfd62412468b989ad03630f1).\r\n\r\nIt also [enabled](https://github.com/curl/curl-for-win/commit/82301c80bb2fe4110754dc7bb2126763e567bed8) `-O3` with curl, though this later turned out to be a no-op and had to be redone because the upstream `Makefile.m32` overrode it to `-O2` anyway.\r\n\r\nSo I cannot see anything in this revision that might affect Chinese text.\r\n\r\n7.83.1_3 replaced OpenSSL with openssl-quic, adding HTTP/3 support. That seems even less related:\r\nhttps://github.com/curl/curl-for-win/compare/70eb533603453572d405335b965c202ceaaca94b...1a0412dd88a425c6b8861a523e5501de35c3ef15\r\n\r\nThough rereading the thread makes it unclear if this became an issue between _7.84.0_ and 7.83.1, or between two distinct curl-for-win builds of 7.83.1. If the former, we need to turn to the curl source code. It's also not very likely that this is curl-for-win-specific, though if we have the regression between two revisions, I can look it up again.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375435096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375643395","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1375643395","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1375643395,"node_id":"IC_kwDOAAiu0c5R_qcD","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-09T13:41:48Z","updated_at":"2023-01-17T00:23:24Z","body":"My generic guess would be this:\r\n\r\ncurl on Windows doesn't have Unicode support by default. In these builds all strings are considered raw-bytes and passed around as-is (*). This makes things appear to work in certain practical cases. For some this may be perceived as curl having special support for certain codepages/encodings. The reality though that it is just a happy coincidence.\r\n\r\n(*) But, curl has certain places (and/or dependencies) which may steer off the track of the optimistic \"as-is\" string handling, and doing string converstion/manipulation, which instantly breaks the happy coincidences by assuming certain input formats and spitting out certain output formats. It's enough to call any Win32 API function with a `W` ending (e.g. `WriteConsoleW()` in `src/tool_cb_wrt.c`).\r\n\r\nThis is made even more complex in curl due to using both CRT functions and the Win32 API directly, each with potentially different encoding requirement or Unicode support. (And even more complexity comes when interfacing with the dependencies curl supports.)\r\n\r\nSpeaking of curl _with_ Unicode support enabled: This is the correct path, but as of today, the level of support is just not enough to cover all cases. (And before we could cover all cases, we'd need to [clear codepage requirements](https://github.com/curl/curl/wiki/libcurl-and-expected-string-encodings) for each string curl is accepting or returning). The downside is that this mode breaks _all_ the use-cases which work \"correctly\" by happy coincidence in non-Unicode mode, because of the added conversions and heavier use of Unicode-enabled functions needing them.\r\n\r\nTill these fundamental issues are solved, iterations of these non-ASCII issues will keep popping up.\r\n\r\nThe solution is complex. Even if fully solved, with Unicode mode finished and enabled by default, it will inherently result in fallouts, because the old \"happy coincidence\" cases will start to break and will require correction to work as expected in a Unicode-enabled environment. (even more so for libcurl API users)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1375643395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426679328","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426679328","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426679328,"node_id":"IC_kwDOAAiu0c5VCWYg","user":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T09:54:10Z","updated_at":"2023-02-11T09:54:10Z","body":"@vszakats I believe it is caused by commit 68fa9bf3f5d7b4fcbb57619f70cb4aabb79a51f6 in which `HAVE_BASENAME` is set to 1. Before that, it used the curl's version (`Curl_basename()`) which treated strings as raw-bytes and passed around as-is. The function is called by `strippath()` inside `curl_mime_filedata()` to set filename:\r\n\r\nhttps://github.com/curl/curl/blob/38262c944d9c86594e3915ab3a7a5e17db6107f0/lib/mime.c#L1437-L1445\r\n\r\nWith mingw-w64's `basename()`, you'll get the truncated name `测试中文-0.1.3-win` from:\r\n\r\n```c\r\n#include <libgen.h>\r\n#include <stdio.h>\r\nint main(){\r\n    char s[] = \"测试中文-0.1.3-win.exe\";\r\n    return puts(basename(s));\r\n}\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426679328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8496115047,"node_id":"MEE_lADOAAiu0c5a4zX_zwAAAAH6aG1n","url":"https://api.github.com/repos/curl/curl/issues/events/8496115047","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-11T09:54:10Z","performed_via_github_app":null},{"id":8496115049,"node_id":"SE_lADOAAiu0c5a4zX_zwAAAAH6aG1p","url":"https://api.github.com/repos/curl/curl/issues/events/8496115049","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-11T09:54:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426702224","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426702224","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426702224,"node_id":"IC_kwDOAAiu0c5VCb-Q","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T11:16:30Z","updated_at":"2023-02-11T21:14:20Z","body":"@Cherish98: Nice catch! That commit syncs the `HAVE_BASENAME` build setting for GNU Make/.m32/.mk (MinGW-w64)  builds with CMake/autotools logic, which autodetected and enabled this setting prior to that patch. In practice, it means all CMake/autotools builds were broken before, official curl Windows builds got broken with https://github.com/curl/curl-for-win/commit/1dc206c7dd7b2f6879a72b4cd828adc9c7bec2f8 (went live with https://github.com/curl/curl-for-win/commit/cb966af725d997b8a350db3839432ac67d2bbff8 as binary release [7.83.1_4](https://curl.se/windows/dl-7.83.1_4/)) and all `Makefile.mk/Makefile.m32` builds broke with that patch.\r\n\r\nIf we can confirm this as the root cause, the fix would be to ignore `HAVE_BASENAME` for all build methods for `WIN32` and always stick to the local implementation (or force-disable this setting for all build methods).\r\n\r\nCan you make a curl build without `HAVE_BASENAME` and confirm that it fixes the problem?\r\n\r\nCorrection: Native MSVC builds were never affected by that patch.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426702224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8496251558,"node_id":"MEE_lADOAAiu0c5a4zX_zwAAAAH6aoKm","url":"https://api.github.com/repos/curl/curl/issues/events/8496251558","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-11T11:16:30Z","performed_via_github_app":null},{"id":8496251561,"node_id":"SE_lADOAAiu0c5a4zX_zwAAAAH6aoKp","url":"https://api.github.com/repos/curl/curl/issues/events/8496251561","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-11T11:16:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426706958","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426706958","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426706958,"node_id":"IC_kwDOAAiu0c5VCdIO","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T11:43:11Z","updated_at":"2023-02-11T11:43:11Z","body":"Untested patch:\r\n```diff\r\ndiff --git a/lib/curl_setup.h b/lib/curl_setup.h\r\nindex 2eb9697fd..fcdfe3ca2 100644\r\n--- a/lib/curl_setup.h\r\n+++ b/lib/curl_setup.h\r\n@@ -838,6 +838,10 @@ int getpwuid_r(uid_t uid, struct passwd *pwd, char *buf,\r\n #define USE_HTTP3\r\n #endif\r\n \r\n+#if defined(HAVE_BASENAME) && defined(WIN32)\r\n+#undef HAVE_BASENAME\r\n+#endif\r\n+\r\n #if defined(USE_UNIX_SOCKETS) && defined(WIN32)\r\n #  if defined(__MINGW32__) && !defined(LUP_SECURE)\r\n      typedef u_short ADDRESS_FAMILY; /* Classic mingw, 11y+ old mingw-w64 */\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426706958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8496296061,"node_id":"REFE_lADOAAiu0c5a4zX_zwAAAAH6azB9","url":"https://api.github.com/repos/curl/curl/issues/events/8496296061","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c7fe5d509fd7eada0b1ce206fa9822b393efe0e5","commit_url":"https://api.github.com/repos/curl/curl-for-win/commits/c7fe5d509fd7eada0b1ce206fa9822b393efe0e5","created_at":"2023-02-11T11:46:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426714759","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426714759","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426714759,"node_id":"IC_kwDOAAiu0c5VCfCH","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T11:57:54Z","updated_at":"2023-02-11T11:57:54Z","body":"`HAVE_BASENAME` is [enabled](https://github.com/curl/curl-for-win/commit/cb966af725d997b8a350db3839432ac67d2bbff8) is official builds since [7.83.1_4](https://curl.se/windows/dl-7.83.1_4/), but Jay [reproduced](https://github.com/curl/curl/issues/10261#issuecomment-1375289199) the issue with 7.83.1_2. This suggests a different cause or something in addition to this one.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426714759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426756410","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426756410","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426756410,"node_id":"IC_kwDOAAiu0c5VCpM6","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T12:32:05Z","updated_at":"2023-02-11T15:55:31Z","body":"Test binaries with disabled `HAVE_BASENAME` here:\r\nhttps://ci.appveyor.com/project/curlorg/curl-for-win/build/artifacts\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426756410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426768310","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426768310","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426768310,"node_id":"IC_kwDOAAiu0c5VCsG2","user":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T13:22:14Z","updated_at":"2023-02-11T13:22:14Z","body":"I tested the binaries with HAVE_BASENAME disabled, and it indeed has fixed the issue.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426768310/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426771192","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426771192","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426771192,"node_id":"IC_kwDOAAiu0c5VCsz4","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T13:34:55Z","updated_at":"2023-02-11T13:34:55Z","body":"Thanks for your test @Cherish98! I'll make a PR of that patch soon.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426771192/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8496531510,"node_id":"MEE_lADOAAiu0c5a4zX_zwAAAAH6bsg2","url":"https://api.github.com/repos/curl/curl/issues/events/8496531510","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-11T13:34:56Z","performed_via_github_app":null},{"id":8496531512,"node_id":"SE_lADOAAiu0c5a4zX_zwAAAAH6bsg4","url":"https://api.github.com/repos/curl/curl/issues/events/8496531512","actor":{"login":"Cherish98","id":66007047,"node_id":"MDQ6VXNlcjY2MDA3MDQ3","avatar_url":"https://avatars.githubusercontent.com/u/66007047?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherish98","html_url":"https://github.com/Cherish98","followers_url":"https://api.github.com/users/Cherish98/followers","following_url":"https://api.github.com/users/Cherish98/following{/other_user}","gists_url":"https://api.github.com/users/Cherish98/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherish98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherish98/subscriptions","organizations_url":"https://api.github.com/users/Cherish98/orgs","repos_url":"https://api.github.com/users/Cherish98/repos","events_url":"https://api.github.com/users/Cherish98/events{/privacy}","received_events_url":"https://api.github.com/users/Cherish98/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-11T13:34:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426802996","html_url":"https://github.com/curl/curl/issues/10261#issuecomment-1426802996","issue_url":"https://api.github.com/repos/curl/curl/issues/10261","id":1426802996,"node_id":"IC_kwDOAAiu0c5VC0k0","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T15:40:15Z","updated_at":"2023-02-11T21:12:02Z","body":"The mingw-w64 `basename()` implementation, for reference: https://sourceforge.net/p/mingw-w64/mingw-w64/ci/master/tree/mingw-w64-crt/misc/basename.c\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1426802996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8496815968,"node_id":"REFE_lADOAAiu0c5a4zX_zwAAAAH6cx9g","url":"https://api.github.com/repos/curl/curl/issues/events/8496815968","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"58c6b084117c378109edd39d94df4d454e717915","commit_url":"https://api.github.com/repos/vszakats/curl/commits/58c6b084117c378109edd39d94df4d454e717915","created_at":"2023-02-11T15:49:15Z","performed_via_github_app":null},{"actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-11T15:50:47Z","updated_at":"2023-02-11T15:50:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/10475","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/10475/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/10475/comments","events_url":"https://api.github.com/repos/curl/curl/issues/10475/events","html_url":"https://github.com/curl/curl/pull/10475","id":1580897702,"node_id":"PR_kwDOAAiu0c5JxrTG","number":10475,"title":"windows: always use curl's basename() implementation","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":940032249,"node_id":"MDU6TGFiZWw5NDAwMzIyNDk=","url":"https://api.github.com/repos/curl/curl/labels/Windows","name":"Windows","color":"0e8a16","default":false,"description":"Windows-specific"},{"id":5162519560,"node_id":"LA_kwDOAAiu0c8AAAABM7XMCA","url":"https://api.github.com/repos/curl/curl/labels/Unicode","name":"Unicode","color":"E4F03B","default":false,"description":"Unicode, code page, character encoding"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-02-11T15:50:47Z","updated_at":"2023-02-28T07:49:22Z","closed_at":"2023-02-12T12:53:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/10475","html_url":"https://github.com/curl/curl/pull/10475","diff_url":"https://github.com/curl/curl/pull/10475.diff","patch_url":"https://github.com/curl/curl/pull/10475.patch","merged_at":null},"body":"The `basename()` \\[1\\]\\[2\\] implementation provided by mingw-w64 \\[3\\] makes assumptions about input encoding and may break with non-ASCII strings.\r\n\r\n`basename()` was auto-detected with CMake, autotools and since 68fa9bf3f5d7b4fcbb57619f70cb4aabb79a51f6 (2022-10-13), also in `Makefile.mk` after syncing its behaviour with the mainline build methods. A similar patch for curl-for-win broke official Windows builds earlier, in release 7.83.1_4 (2022-06-15).\r\n\r\nThis patch forces all Windows builds to use curl's internal `basename()` implementation to avoid such problems.\r\n\r\n\\[1\\]: https://pubs.opengroup.org/onlinepubs/9699919799/utilities/basename.html\r\n\\[2\\]: https://www.man7.org/linux/man-pages/man3/basename.3.html\r\n\\[3\\]: https://sourceforge.net/p/mingw-w64/mingw-w64/ci/master/tree/mingw-w64-crt/misc/basename.c\r\n\r\nReported-by: UnicornZhang on Github\r\nAssisted-by: Cherish98 on Github\r\n\r\nFixes #10261\r\nCloses #10475","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/10475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/10475/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8498051745,"node_id":"REFE_lADOAAiu0c5a4zX_zwAAAAH6hfqh","url":"https://api.github.com/repos/curl/curl/issues/events/8498051745","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2580f93d9c937d95206c626aa0ae093b4c9b3257","commit_url":"https://api.github.com/repos/vszakats/curl/commits/2580f93d9c937d95206c626aa0ae093b4c9b3257","created_at":"2023-02-12T09:54:36Z","performed_via_github_app":null},{"id":8498203841,"node_id":"REFE_lADOAAiu0c5a4zX_zwAAAAH6iEzB","url":"https://api.github.com/repos/curl/curl/issues/events/8498203841","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"14118ee77e404287e00dd82f8ee5da87ed05c62f","commit_url":"https://api.github.com/repos/vszakats/curl/commits/14118ee77e404287e00dd82f8ee5da87ed05c62f","created_at":"2023-02-12T11:53:58Z","performed_via_github_app":null}]