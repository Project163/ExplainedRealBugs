{"url":"https://api.github.com/repos/curl/curl/issues/9931","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/9931/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/9931/comments","events_url":"https://api.github.com/repos/curl/curl/issues/9931/events","html_url":"https://github.com/curl/curl/issues/9931","id":1452804677,"node_id":"I_kwDOAAiu0c5WmApF","number":9931,"title":"curl: (35) error:0A00010B:SSL routines::wrong version number","user":{"login":"devkdas","id":92445174,"node_id":"U_kgDOBYKZ9g","avatar_url":"https://avatars.githubusercontent.com/u/92445174?v=4","gravatar_id":"","url":"https://api.github.com/users/devkdas","html_url":"https://github.com/devkdas","followers_url":"https://api.github.com/users/devkdas/followers","following_url":"https://api.github.com/users/devkdas/following{/other_user}","gists_url":"https://api.github.com/users/devkdas/gists{/gist_id}","starred_url":"https://api.github.com/users/devkdas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devkdas/subscriptions","organizations_url":"https://api.github.com/users/devkdas/orgs","repos_url":"https://api.github.com/users/devkdas/repos","events_url":"https://api.github.com/users/devkdas/events{/privacy}","received_events_url":"https://api.github.com/users/devkdas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1141438010,"node_id":"MDU6TGFiZWwxMTQxNDM4MDEw","url":"https://api.github.com/repos/curl/curl/labels/HTTP/3","name":"HTTP/3","color":"97fceb","default":false,"description":"h3 or quic related"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":28,"created_at":"2022-11-17T06:42:52Z","updated_at":"2025-03-26T12:26:52Z","closed_at":"2022-11-18T23:00:42Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"~~~\r\n*   Trying 127.0.0.1:8443...\r\n* Connect socket 5 over QUIC to 127.0.0.1:8443\r\n* Skipped certificate verification\r\n* Connected to 127.0.0.1 (127.0.0.1) port 8443 (#0)\r\n* Connected to 127.0.0.1 (127.0.0.1) port 8443 (#0)\r\n* ALPN: offers http/1.1\r\n* TLSv1.0 (OUT), TLS header, Certificate Status (22):\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* error:0A00010B:SSL routines::wrong version number\r\n* Connection #0 to host 127.0.0.1 left intact\r\ncurl: (35) error:0A00010B:SSL routines::wrong version number\r\n~~~\r\n### I did this\r\n\r\ncurl -k -v --http3 https://127.0.0.1:8443/\r\n\r\n### I expected the following\r\n\r\n~~~\r\n*   Trying 127.0.0.1:8443...\r\n* Connect socket 5 over QUIC to 127.0.0.1:8443\r\n* Skipped certificate verification\r\n* Connected to 127.0.0.1 (127.0.0.1) port 8443 (#0)\r\n* h2h3 [:method: GET]\r\n* h2h3 [:path: /]\r\n* h2h3 [:scheme: https]\r\n* h2h3 [:authority: 127.0.0.1:8443]\r\n* h2h3 [user-agent: curl/7.86.1-DEV]\r\n* h2h3 [accept: */*]\r\n* Using HTTP/3 Stream ID: 0 (easy handle 0x55e3ba63bf40)\r\n> GET / HTTP/3\r\n> Host: 127.0.0.1:8443\r\n> user-agent: curl/7.86.1-DEV\r\n> accept: */*\r\n>\r\n* ngh3_stream_recv returns 0 bytes and EAGAIN\r\n< HTTP/3 200\r\n< server: nginx/1.23.2\r\n< date: Thu, 17 Nov 2022 06:40:56 GMT\r\n< content-type: text/html\r\n< content-length: 612\r\n< last-modified: Tue, 21 Apr 2020 14:09:01 GMT\r\n< etag: \"5e9efe7d-264\"\r\n< alt-svc: h3=\":8443\"; ma=86400\r\n< accept-ranges: bytes\r\n<\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Welcome to nginx!</title>\r\n<style>\r\n    body {\r\n        width: 35em;\r\n        margin: 0 auto;\r\n        font-family: Tahoma, Verdana, Arial, sans-serif;\r\n    }\r\n</style>\r\n</head>\r\n<body>\r\n<h1>Welcome to nginx!</h1>\r\n<p>If you see this page, the nginx web server is successfully installed and\r\nworking. Further configuration is required.</p>\r\n\r\n<p>For online documentation and support please refer to\r\n<a href=\"http://nginx.org/\">nginx.org</a>.<br/>\r\nCommercial support is available at\r\n<a href=\"http://nginx.com/\">nginx.com</a>.</p>\r\n\r\n<p><em>Thank you for using nginx.</em></p>\r\n</body>\r\n</html>\r\n* Connection #0 to host 127.0.0.1 left intact\r\n~~~\r\n### curl/libcurl version\r\ncurl 7.87.0-DEV (x86_64-pc-linux-gnu) libcurl/7.87.0-DEV OpenSSL/3.0.0 zlib/1.2.11 ngtcp2/0.12.0-DEV nghttp3/0.8.0-DEV\r\nRelease-Date: [unreleased]\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps mqtt pop3 pop3s rtsp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS HSTS HTTP3 HTTPS-proxy IPv6 Largefile libz NTLM NTLM_WB SSL threadsafe TLS-SRP UnixSockets\r\n\r\n[curl -V output]\r\n\r\n~~~\r\n*   Trying 127.0.0.1:8443...\r\n* Connect socket 5 over QUIC to 127.0.0.1:8443\r\n* Skipped certificate verification\r\n* Connected to 127.0.0.1 (127.0.0.1) port 8443 (#0)\r\n* Connected to 127.0.0.1 (127.0.0.1) port 8443 (#0)\r\n* ALPN: offers http/1.1\r\n* TLSv1.0 (OUT), TLS header, Certificate Status (22):\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* error:0A00010B:SSL routines::wrong version number\r\n* Connection #0 to host 127.0.0.1 left intact\r\ncurl: (35) error:0A00010B:SSL routines::wrong version number\r\n~~~\r\n\r\n### operating system\r\nUbuntu 20.04.5 LTS (GNU/Linux 5.4.0-131-generic x86_64)\r\n<!-- On Unix please post the output of \"uname -a\" -->\r\n","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/9931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/9931/timeline","performed_via_github_app":null,"state_reason":"completed"}