[{"url":"https://api.github.com/repos/curl/curl/issues/comments/1510360270","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1510360270","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1510360270,"node_id":"IC_kwDOAAiu0c5aBkTO","user":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T12:30:16Z","updated_at":"2023-04-16T12:30:16Z","body":"here is the log:\r\ntest319:\r\nstartnew: /usr/bin/gnutls-serv --port 24687 --http --priority NORMAL:+SRP --srppasswd ../../tests/certs/srp-verifier-db --srppasswdconf ../../tests/certs/srp-verifier-conf > log/httptls_server.log 2>&1\r\nstartnew: .httptls_server.pid faked with pid=1671741\r\nRUN: HTTPTLS server PID 1671741 port **24687**\r\n* pid httptls => 1671741 1671741\r\n......\r\n\r\ntest1097:\r\nstartnew: perl -I../../tests ../../tests/httpserver.pl --pidfile \".http_server.pid\" --logfile \"log/http_server.log\" --portfile .http_server.port --ipv4 --port 0 --srcdir \"../../tests/data/..\"\r\nRUN: ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:33787/verifiedserver\" 2>log/http_verify.log\r\nCMD (0): ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:33787/verifiedserver\" 2>log/http_verify.log\r\nRUN: HTTP server is on PID 1682919 port 33787\r\n* pid http => 1682919 1682919\r\nstartnew: perl -I../../tests ../../tests/secureserver.pl --pidfile \".https_server.pid\" --logfile \"log/https_stunnel.log\" --ipv4 --proto https --stunnel \"/usr/bin/stunnel\" --srcdir \"../../tests\" --connect 33787 **--accept 24687**\r\nstartnew: child process has died, server might start up\r\nRUN: Process with pid 1682919 signalled to die\r\nRUN: Process with pid 1682919 forced to die with SIGKILL\r\n=== Start of file https_stunnel.log\r\n [ ] Clients allowed=500\r\n [.] stunnel 5.48 on aarch64-openEuler-linux-gnu platform\r\n [.] Compiled/running with OpenSSL 1.1.1m  14 Dec 2021\r\n [.] Threading:PTHREAD Sockets:POLL,IPv6 TLS:ENGINE,FIPS,OCSP,PSK,SNI\r\n [ ] errno: (*__errno_location ())\r\n [.] Reading configuration from file /root/rpmbuild/BUILD/curl-7.79.1/build-full/tests/https_stunnel.conf\r\n [.] UTF-8 byte order mark not detected\r\n [.] FIPS mode disabled\r\n [ ] Compression disabled\r\n [ ] No PRNG seeding was required\r\n [ ] Initializing service [curltest]\r\n [ ] Ciphers: HIGH:!aNULL:!SSLv2:!DH:!kDHEPSK\r\n [ ] TLS options: 0x02104004 (+0x00004000, -0x00000000)\r\n [ ] Loading certificate from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Certificate loaded from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Loading private key from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Private key loaded from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Private key check succeeded\r\n [ ] ECDH initialization\r\n [ ] ECDH initialized with curve prime256v1\r\n [.] Configuration successful\r\n [ ] Binding service [curltest]\r\n [ ] Listening file descriptor created (FD=7)\r\n [ ] Setting accept socket options (FD=7)\r\n [ ] Option SO_REUSEADDR set on accept socket\r\n [.] Binding service [curltest] to 0.0.0.0:24687: Address already in use (98)\r\n [ ] Listening file descriptor created (FD=7)\r\n [ ] Setting accept socket options (FD=7)\r\n [ ] Option SO_REUSEADDR set on accept socket\r\n **[.] Binding service [curltest] to :::24687: Address already in use (98)**\r\n [!] Binding service [curltest] failed\r\n [ ] Deallocating section defaults\r\n [ ] Unbinding service [curltest]\r\n [ ] Service [curltest] closed\r\n [ ] Deallocating section [curltest]\r\n=== End of file https_stunnel.log","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1510360270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9017318025,"node_id":"REFE_lADOAAiu0c5jiTkJzwAAAAIZeVqJ","url":"https://api.github.com/repos/curl/curl/issues/events/9017318025","actor":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"648c3ffb1aae6883247914778da3b17faa1ec04c","commit_url":"https://api.github.com/repos/eaglegai/curl/commits/648c3ffb1aae6883247914778da3b17faa1ec04c","created_at":"2023-04-16T12:32:35Z","performed_via_github_app":null},{"actor":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T12:33:27Z","updated_at":"2023-04-16T12:33:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/10977","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/10977/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/10977/comments","events_url":"https://api.github.com/repos/curl/curl/issues/10977/events","html_url":"https://github.com/curl/curl/pull/10977","id":1669939932,"node_id":"PR_kwDOAAiu0c5OadAc","number":10977,"title":"tests: fix test1097 failed","user":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-04-16T12:33:27Z","updated_at":"2023-04-19T03:54:32Z","closed_at":"2023-04-19T03:54:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/10977","html_url":"https://github.com/curl/curl/pull/10977","diff_url":"https://github.com/curl/curl/pull/10977.diff","patch_url":"https://github.com/curl/curl/pull/10977.patch","merged_at":null},"body":"fix https://github.com/curl/curl/issues/10976\r\n\r\nSigned-off-by: eaglegai <eaglegai@163.com>","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/10977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/10977/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1510409085","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1510409085","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1510409085,"node_id":"IC_kwDOAAiu0c5aBwN9","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T15:09:24Z","updated_at":"2023-04-16T15:09:24Z","body":"But it tries 10 times and changes to the next attempted port number with a random value. Why does that not suffice?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1510409085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9017694270,"node_id":"LE_lADOAAiu0c5jiTkJzwAAAAIZfxg-","url":"https://api.github.com/repos/curl/curl/issues/events/9017694270","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-04-16T15:10:02Z","label":{"name":"tests","color":"a7a8e8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1511241419","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1511241419","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1511241419,"node_id":"IC_kwDOAAiu0c5aE7bL","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T12:24:07Z","updated_at":"2023-04-17T12:24:07Z","body":"> the port range is (24512,25112)\r\n\r\nIt tries 10 times and it adds a random number to the attempted port number every loop. For one of them 0 .. 599 and the other 0 .. 699.  It make one range **24367 - 32367** and the other **24512 - 30512**. I don't think the port ranges is the problem.\r\n\r\nThe odds of them getting the same number should be low, but also the logic for the test servers *verifies* that it could create a server on the given port before it is satisfied. So if is satisfied but the server is not running on the port (because another server is already there) - it is a bug in the verification.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1511241419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1511510456","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1511510456","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1511510456,"node_id":"IC_kwDOAAiu0c5aF9G4","user":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T14:45:56Z","updated_at":"2023-04-17T14:48:48Z","body":"it seems try again and use 25070 as port, but this still says \"Address already in use\", and then curl failed, here are the full log about       \r\n test1097.\r\n[full.log](https://github.com/curl/curl/files/11251507/full.log)\r\n\r\nand when i change starting port from 24512 to 28000, tests passed.\r\n\r\n```\r\ntest 1096...[Two FTP downloads, with failed RETR but re-used control connection]\r\n../src/curl --output log/curl1096.out  --include --trace-ascii log/trace1096 --trace-time ftp://127.0.0.1:44317/dir/1096 ftp://127.0.0.1:44317/dir/1096 >log/stdout1096 2>log/stderr1096\r\nCMD (19968): ../src/curl --output log/curl1096.out  --include --trace-ascii log/trace1096 --trace-time ftp://127.0.0.1:44317/dir/1096 ftp://127.0.0.1:44317/dir/1096 >log/stdout1096 2>log/stderr1096\r\n--p----e--- OK (861 out of 1420, remaining: 06:28, took 0.165s, duration: 09:57)\r\nRUN: Process with pid 1758255 signalled to die\r\nRUN: Process with pid 1758283 signalled to die\r\nRUN: Process with pid 1758286 signalled to die\r\nRUN: Process with pid 1758286 gracefully died\r\nRUN: Process with pid 1758255 forced to die with SIGKILL\r\nRUN: Process with pid 1758283 forced to die with SIGKILL\r\nstartnew: perl -I../../tests ../../tests/httpserver.pl --pidfile \".http_server.pid\" --logfile \"log/http_server.log\" --portfile .http_server.port --ipv4 --port 0 --srcdir \"../../tests/data/..\"\r\nRUN: ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:46429/verifiedserver\" 2>log/http_verify.log\r\nCMD (0): ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:46429/verifiedserver\" 2>log/http_verify.log\r\nRUN: HTTP server is on PID 1763291 port 46429\r\n* pid http => 1763291 1763291\r\nstartnew: perl -I../../tests ../../tests/secureserver.pl --pidfile \".https_server.pid\" --logfile \"log/https_stunnel.log\" --ipv4 --proto https --stunnel \"/usr/bin/stunnel\" --srcdir \"../../tests\" --connect 46429 --accept 28175\r\nRUN: HTTPS server is PID 1763307 port 28175\r\n* pid https => 1763307 1763310\r\ntest 1097...[HTTP POST using CONNECT with --proxy-ntlm but no auth is required]\r\n../src/curl --output log/curl1097.out  --include --trace-ascii log/trace1097 --trace-time http://test.a.galaxy.far.far.away.1097:46429/1097 --proxy http://127.0.0.1:46429 --proxy-user foo:bar --proxy-ntlm -d \"dummy=value\" -p >log/stdout1097 2>log/stderr1097\r\nCMD (0): ../src/curl --output log/curl1097.out  --include --trace-ascii log/trace1097 --trace-time http://test.a.galaxy.far.far.away.1097:46429/1097 --proxy http://127.0.0.1:46429 --proxy-user foo:bar --proxy-ntlm -d \"dummy=value\" -p >log/stdout1097 2>log/stderr1097\r\n--pd---e--- OK (862 out of 1420, remaining: 06:31, took 7.521s, duration: 10:05)\r\ntest 1098...[FTP RETR twice over proxy confirming persistent connection]\r\n../src/curl --include --trace-ascii log/trace1098 --trace-time ftp://ftp-site/moo/1098 ftp://ftp-site/moo/1098 --proxy http://127.0.0.1:46429 >log/stdout1098 2>log/stderr1098\r\nCMD (0): ../src/curl --include --trace-ascii log/trace1098 --trace-time ftp://ftp-site/moo/1098 ftp://ftp-site/moo/1098 --proxy http://127.0.0.1:46429 >log/stdout1098 2>log/stderr1098\r\ns-p----e--- OK (863 out of 1420, remaining: 06:30, took 0.107s, duration: 10:05)\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1511510456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9029530392,"node_id":"AE_lADOAAiu0c5jiTkJzwAAAAIaM7MY","url":"https://api.github.com/repos/curl/curl/issues/events/9029530392","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-04-17T22:03:16Z","assignee":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512202990","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1512202990","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1512202990,"node_id":"IC_kwDOAAiu0c5aImLu","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T23:03:38Z","updated_at":"2023-04-17T23:03:38Z","body":"There is a problem in the test server around this, but not specifically with server retrying. When this situation for test 1097 (port is in use) occurs on my system (near git HEAD) a new port is chosen and stunnel starts again on the new port and succeeds the second time. In reading the code, the only way I can see a situation happening where a new port is not selected and stunnel tried again is if stunnel fails to start correctly but doesn't actually exit, either. I could see this if the system is really slow or loaded, but I wouldn't expect it to happen consistently.\r\n\r\nThe actual problem that I alluded to above is that when the stunnel is restarted on a new port, the HTTP server is killed first. That leave no server to talk to once stunnel starts. I'll look into fixing that.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512202990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512227484","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1512227484","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1512227484,"node_id":"IC_kwDOAAiu0c5aIsKc","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T23:18:22Z","updated_at":"2023-04-17T23:18:22Z","body":"The other thing to keep in mind is that I'm looking at the current code whereas the report is on a version that's 1Â½ years old. It's possible something else changed in that time.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512227484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9031666784,"node_id":"REFE_lADOAAiu0c5jiTkJzwAAAAIaVExg","url":"https://api.github.com/repos/curl/curl/issues/events/9031666784","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8dcce7b308b4e49d538d6f5ca571b07730360f90","commit_url":"https://api.github.com/repos/curl/curl/commits/8dcce7b308b4e49d538d6f5ca571b07730360f90","created_at":"2023-04-18T05:59:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512484457","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1512484457","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1512484457,"node_id":"IC_kwDOAAiu0c5aJq5p","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T06:01:43Z","updated_at":"2023-04-18T06:01:43Z","body":"I've included a change in PR #10995 as part of a larger refactoring that should fix this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1512484457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1513081296","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1513081296","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1513081296,"node_id":"IC_kwDOAAiu0c5aL8nQ","user":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T12:58:40Z","updated_at":"2023-04-18T13:00:58Z","body":"I've tested commit 8dcce7b3 on 7.79.1\r\nbefore patch: 1097 always failed\r\nafter patch:  tests passed\r\n\r\nlog is here:\r\n```\r\ntest 1096...[Two FTP downloads, with failed RETR but re-used control connection]\r\n../src/curl --output log/curl1096.out  --include --trace-ascii log/trace1096 --trace-time ftp://127.0.0.1:43153/dir/1096 ftp://127.0.0.1:43153/dir/1096 >log/stdout1096 2>log/stderr1096\r\nCMD (19968): ../src/curl --output log/curl1096.out  --include --trace-ascii log/trace1096 --trace-time ftp://127.0.0.1:43153/dir/1096 ftp://127.0.0.1:43153/dir/1096 >log/stdout1096 2>log/stderr1096\r\n--p----e--- OK (861 out of 1420, remaining: 05:25, took 0.087s, duration: 08:21)\r\nRUN: Process with pid 350967 signalled to die\r\nRUN: Process with pid 350983 signalled to die\r\nRUN: Process with pid 350986 signalled to die\r\nRUN: Process with pid 350986 gracefully died\r\nRUN: Process with pid 350967 forced to die with SIGKILL\r\nRUN: Process with pid 350983 forced to die with SIGKILL\r\nstartnew: perl -I../../tests ../../tests/httpserver.pl --pidfile \".http_server.pid\" --logfile \"log/http_server.log\" --portfile .http_server.port --ipv4 --port 0 --srcdir \"../../tests/data/..\"\r\nRUN: ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:40645/verifiedserver\" 2>log/http_verify.log\r\nCMD (0): ../src/curl --max-time 13 --output log/http_verify.out --silent --verbose --globoff \"http://127.0.0.1:40645/verifiedserver\" 2>log/http_verify.log\r\nRUN: HTTP server is on PID 355784 port 40645\r\n* pid http => 355784 355784\r\nstartnew: perl -I../../tests ../../tests/secureserver.pl --pidfile \".https_server.pid\" --logfile \"log/https_stunnel.log\" --ipv4 --proto https --stunnel \"/usr/bin/stunnel\" --srcdir \"../../tests\" --connect 40645 --accept 24687\r\nstartnew: child process has died, server might start up\r\n== Contents of files in the log/ dir after test 1097\r\n=== Start of file http_server.log\r\n 14:51:52.910213 exit_signal_handler: 15\r\n 14:51:52.910509 signalled to die\r\n 14:51:52.910690 ========> IPv4 sws (port 37359 pid: 350967) exits with signal (15)\r\n 14:51:57.972920 Running HTTP IPv4 version on port 40645\r\n 14:51:57.973272 Wrote pid 355784 to .http_server.pid\r\n 14:51:57.973354 Wrote port 40645 to .http_server.port\r\n 14:51:58.976655 ====> Client connect\r\n 14:51:58.976738 accept_connection 3 returned 4\r\n 14:51:58.976774 accept_connection 3 returned 0\r\n 14:51:58.976813 Read 93 bytes\r\n 14:51:58.976839 Process 93 bytes request\r\n 14:51:58.976871 Got request: GET /verifiedserver HTTP/1.1\r\n 14:51:58.976896 Are-we-friendly question received\r\n 14:51:58.976956 Wrote request (93 bytes) input to log/server.input\r\n 14:51:58.977021 Identifying ourselves as friends\r\n 14:51:58.977213 Response sent (57 bytes) and written to log/server.response\r\n 14:51:58.977244 special request received, no persistency\r\n 14:51:58.977268 ====> Client disconnect 0\r\n=== End of file http_server.log\r\n=== Start of file http_verify.log\r\n *   Trying 127.0.0.1:40645...\r\n * Connected to 127.0.0.1 (127.0.0.1) port 40645 (#0)\r\n > GET /verifiedserver HTTP/1.1\r\n > Host: 127.0.0.1:40645\r\n > User-Agent: curl/7.79.1\r\n > Accept: */*\r\n >\r\n * Mark bundle as not supporting multiuse\r\n < HTTP/1.1 200 OK\r\n < Content-Length: 18\r\n <\r\n { [1 bytes data]\r\n * Connection #0 to host 127.0.0.1 left intact\r\n=== End of file http_verify.log\r\n=== Start of file http_verify.out\r\n WE ROOLZ: 355784\r\n=== End of file http_verify.out\r\n=== Start of file https_stunnel.log\r\n [ ] Clients allowed=500\r\n [.] stunnel 5.48 on aarch64-openEuler-linux-gnu platform\r\n [.] Compiled/running with OpenSSL 1.1.1m  14 Dec 2021\r\n [.] Threading:PTHREAD Sockets:POLL,IPv6 TLS:ENGINE,FIPS,OCSP,PSK,SNI\r\n [ ] errno: (*__errno_location ())\r\n [.] Reading configuration from file /root/rpmbuild/BUILD/curl-7.79.1/build-full/tests/https_stunnel.conf\r\n [.] UTF-8 byte order mark not detected\r\n [.] FIPS mode disabled\r\n [ ] Compression disabled\r\n [ ] No PRNG seeding was required\r\n [ ] Initializing service [curltest]\r\n [ ] Ciphers: HIGH:!aNULL:!SSLv2:!DH:!kDHEPSK\r\n [ ] TLS options: 0x02104004 (+0x00004000, -0x00000000)\r\n [ ] Loading certificate from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Certificate loaded from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Loading private key from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Private key loaded from file: /root/rpmbuild/BUILD/curl-7.79.1/tests/stunnel.pem\r\n [ ] Private key check succeeded\r\n [ ] ECDH initialization\r\n [ ] ECDH initialized with curve prime256v1\r\n [.] Configuration successful\r\n [ ] Binding service [curltest]\r\n [ ] Listening file descriptor created (FD=7)\r\n [ ] Setting accept socket options (FD=7)\r\n [ ] Option SO_REUSEADDR set on accept socket\r\n [.] Binding service [curltest] to 0.0.0.0:24687: Address already in use (98)\r\n [ ] Listening file descriptor created (FD=7)\r\n [ ] Setting accept socket options (FD=7)\r\n [ ] Option SO_REUSEADDR set on accept socket\r\n [.] Binding service [curltest] to :::24687: Address already in use (98)\r\n [!] Binding service [curltest] failed\r\n [ ] Deallocating section defaults\r\n [ ] Unbinding service [curltest]\r\n [ ] Service [curltest] closed\r\n [ ] Deallocating section [curltest]\r\n=== End of file https_stunnel.log\r\n=== Start of file server.input\r\n GET /verifiedserver HTTP/1.1\r\n Host: 127.0.0.1:40645\r\n User-Agent: curl/7.79.1\r\n Accept: */*\r\n=== End of file server.input\r\n=== Start of file server.response\r\n HTTP/1.1 200 OK\r\n Content-Length: 18\r\n WE ROOLZ: 355784\r\n=== End of file server.response\r\nstartnew: perl -I../../tests ../../tests/secureserver.pl --pidfile \".https_server.pid\" --logfile \"log/https_stunnel.log\" --ipv4 --proto https --stunnel \"/usr/bin/stunnel\" --srcdir \"../../tests\" --connect 40645 --accept 25070\r\nRUN: HTTPS server is PID 355868 port 25070\r\n* pid https => 355868 355871\r\ntest 1097...[HTTP POST using CONNECT with --proxy-ntlm but no auth is required]\r\n../src/curl --output log/curl1097.out  --include --trace-ascii log/trace1097 --trace-time http://test.a.galaxy.far.far.away.1097:40645/1097 --proxy http://127.0.0.1:40645 --proxy-user foo:bar --proxy-ntlm -d \"dummy=value\" -p >log/stdout1097 2>log/stderr1097\r\nCMD (0): ../src/curl --output log/curl1097.out  --include --trace-ascii log/trace1097 --trace-time http://test.a.galaxy.far.far.away.1097:40645/1097 --proxy http://127.0.0.1:40645 --proxy-user foo:bar --proxy-ntlm -d \"dummy=value\" -p >log/stdout1097 2>log/stderr1097\r\n--pd---e--- OK (862 out of 1420, remaining: 05:32, took 12.135s, duration: 08:33)\r\ntest 1098...[FTP RETR twice over proxy confirming persistent connection]\r\n../src/curl --include --trace-ascii log/trace1098 --trace-time ftp://ftp-site/moo/1098 ftp://ftp-site/moo/1098 --proxy http://127.0.0.1:40645 >log/stdout1098 2>log/stderr1098\r\nCMD (0): ../src/curl --include --trace-ascii log/trace1098 --trace-time ftp://ftp-site/moo/1098 ftp://ftp-site/moo/1098 --proxy http://127.0.0.1:40645 >log/stdout1098 2>log/stderr1098\r\ns-p----e--- OK (863 out of 1420, remaining: 05:31, took 0.053s, duration: 08:33)\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1513081296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eaglegai","id":31752768,"node_id":"MDQ6VXNlcjMxNzUyNzY4","avatar_url":"https://avatars.githubusercontent.com/u/31752768?v=4","gravatar_id":"","url":"https://api.github.com/users/eaglegai","html_url":"https://github.com/eaglegai","followers_url":"https://api.github.com/users/eaglegai/followers","following_url":"https://api.github.com/users/eaglegai/following{/other_user}","gists_url":"https://api.github.com/users/eaglegai/gists{/gist_id}","starred_url":"https://api.github.com/users/eaglegai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eaglegai/subscriptions","organizations_url":"https://api.github.com/users/eaglegai/orgs","repos_url":"https://api.github.com/users/eaglegai/repos","events_url":"https://api.github.com/users/eaglegai/events{/privacy}","received_events_url":"https://api.github.com/users/eaglegai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1513312051","html_url":"https://github.com/curl/curl/issues/10976#issuecomment-1513312051","issue_url":"https://api.github.com/repos/curl/curl/issues/10976","id":1513312051,"node_id":"IC_kwDOAAiu0c5aM08z","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T15:00:57Z","updated_at":"2023-04-18T15:00:57Z","body":"Excellent! Thanks for verifying.\n\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1513312051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9039851447,"node_id":"CE_lADOAAiu0c5jiTkJzwAAAAIa0S-3","url":"https://api.github.com/repos/curl/curl/issues/events/9039851447","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"f9e8c5f5781c85a16f1da1c55af02e0bdd688af6","commit_url":"https://api.github.com/repos/curl/curl/commits/f9e8c5f5781c85a16f1da1c55af02e0bdd688af6","created_at":"2023-04-18T20:18:30Z","state_reason":null,"performed_via_github_app":null},{"id":9866876821,"node_id":"REFE_lADOAAiu0c5jiTkJzwAAAAJMHJeV","url":"https://api.github.com/repos/curl/curl/issues/events/9866876821","actor":{"login":"bch","id":122211,"node_id":"MDQ6VXNlcjEyMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/122211?v=4","gravatar_id":"","url":"https://api.github.com/users/bch","html_url":"https://github.com/bch","followers_url":"https://api.github.com/users/bch/followers","following_url":"https://api.github.com/users/bch/following{/other_user}","gists_url":"https://api.github.com/users/bch/gists{/gist_id}","starred_url":"https://api.github.com/users/bch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bch/subscriptions","organizations_url":"https://api.github.com/users/bch/orgs","repos_url":"https://api.github.com/users/bch/repos","events_url":"https://api.github.com/users/bch/events{/privacy}","received_events_url":"https://api.github.com/users/bch/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"438b57f443c2cfe774b1cb1677640bd1d3f5ac6e","commit_url":"https://api.github.com/repos/bch/curl/commits/438b57f443c2cfe774b1cb1677640bd1d3f5ac6e","created_at":"2023-07-19T20:01:48Z","performed_via_github_app":null},{"id":13874244762,"node_id":"REFE_lADOAAiu0c5jiTkJzwAAAAM6-Cya","url":"https://api.github.com/repos/curl/curl/issues/events/13874244762","actor":{"login":"Neusoft-Technology-Solutions","id":24813938,"node_id":"MDQ6VXNlcjI0ODEzOTM4","avatar_url":"https://avatars.githubusercontent.com/u/24813938?v=4","gravatar_id":"","url":"https://api.github.com/users/Neusoft-Technology-Solutions","html_url":"https://github.com/Neusoft-Technology-Solutions","followers_url":"https://api.github.com/users/Neusoft-Technology-Solutions/followers","following_url":"https://api.github.com/users/Neusoft-Technology-Solutions/following{/other_user}","gists_url":"https://api.github.com/users/Neusoft-Technology-Solutions/gists{/gist_id}","starred_url":"https://api.github.com/users/Neusoft-Technology-Solutions/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Neusoft-Technology-Solutions/subscriptions","organizations_url":"https://api.github.com/users/Neusoft-Technology-Solutions/orgs","repos_url":"https://api.github.com/users/Neusoft-Technology-Solutions/repos","events_url":"https://api.github.com/users/Neusoft-Technology-Solutions/events{/privacy}","received_events_url":"https://api.github.com/users/Neusoft-Technology-Solutions/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f9e8c5f5781c85a16f1da1c55af02e0bdd688af6","commit_url":"https://api.github.com/repos/Neusoft-Technology-Solutions/curl/commits/f9e8c5f5781c85a16f1da1c55af02e0bdd688af6","created_at":"2024-08-14T04:51:27Z","performed_via_github_app":null}]