{"url":"https://api.github.com/repos/curl/curl/issues/14893","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/14893/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/14893/comments","events_url":"https://api.github.com/repos/curl/curl/issues/14893/events","html_url":"https://github.com/curl/curl/issues/14893","id":2524052983,"node_id":"I_kwDOAAiu0c6Wcf33","number":14893,"title":"LDFLAGS passed too late making libs linked incorrectly, e.g. OpenSSL","user":{"login":"michael-o","id":573017,"node_id":"MDQ6VXNlcjU3MzAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/573017?v=4","gravatar_id":"","url":"https://api.github.com/users/michael-o","html_url":"https://github.com/michael-o","followers_url":"https://api.github.com/users/michael-o/followers","following_url":"https://api.github.com/users/michael-o/following{/other_user}","gists_url":"https://api.github.com/users/michael-o/gists{/gist_id}","starred_url":"https://api.github.com/users/michael-o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michael-o/subscriptions","organizations_url":"https://api.github.com/users/michael-o/orgs","repos_url":"https://api.github.com/users/michael-o/repos","events_url":"https://api.github.com/users/michael-o/events{/privacy}","received_events_url":"https://api.github.com/users/michael-o/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":352090567,"node_id":"MDU6TGFiZWwzNTIwOTA1Njc=","url":"https://api.github.com/repos/curl/curl/labels/KNOWN_BUGS%20material","name":"KNOWN_BUGS material","color":"d93f0b","default":false,"description":null},{"id":657824945,"node_id":"MDU6TGFiZWw2NTc4MjQ5NDU=","url":"https://api.github.com/repos/curl/curl/labels/help%20wanted","name":"help wanted","color":"fbca04","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-09-13T07:14:40Z","updated_at":"2024-10-18T09:52:48Z","closed_at":"2024-10-18T09:52:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### I did this\r\n\r\nCompiling latest curl on HP-UX and linking against not the system provided OpenSSL (which is on the default loader/linker path), but against a self-compiled newer version:\r\n```\r\nexport PREFIX=/opt/ports\r\nexport LIBDIR=$PREFIX/lib/hpux32\r\nexport SYSCONFDIR=/etc/opt/ports\r\nexport CC=/opt/aCC/bin/aCC\r\nexport CXX=/opt/aCC/bin/aCC\r\nexport CONFIGURE=\"./configure --prefix=$PREFIX --libdir=$LIBDIR --sysconfdir=$SYSCONFDIR --localstatedir=/var\"\r\nexport CPPFLAGS=\"-I$PREFIX/include\"\r\nexport CFLAGS=\"+We901\"\r\nexport CXXFLAGS=\"+We901\"\r\nexport LDFLAGS=\"-L$LIBDIR\"\r\nexport HELP=\"./configure --help\"\r\nexport OPENSSLDIR=$SYSCONFDIR/ssl\r\n```\r\ncall:\r\n```\r\n$CONFIGURE --with-gssapi=$PREFIX --with-zlib --with-openssl=$PREFIX \\\r\n --disable-ftp --disable-ldap --disable-rtsp --disable-dict --disable-pop3 --disable-gopher \\\r\n --disable-imap --disable-tftp --disable-telnet --disable-smb --without-libssh2 \\\r\n --with-ca-fallback --disable-threaded-resolver --disable-dependency-tracking --disable-mqtt \\\r\n --disable-alt-svc --disable-ntlm --disable-tls-srp --without-libpsl\r\n```\r\nSummary:\r\n```\r\n  Host setup:       ia64-hp-hpux11.31\r\n  Install prefix:   /opt/ports\r\n  Compiler:         /opt/aCC/bin/aCC -AC99\r\n   CFLAGS:          +We901 -z +W 4227,4255 +O2\r\n   CFLAGS extras:\r\n   CPPFLAGS:        -I/opt/ports/include -I/opt/ports/include -I/opt/ports/include\r\n   LDFLAGS:         -L/opt/ports/lib/hpux32 -L/opt/ports/lib\r\n   LIBS:            -lssl -lcrypto -L/opt/ports/lib/hpux32 -Wl,+b,/opt/ports/lib/hpux32 -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err -lz\r\n\r\n  curl version:     8.10.0\r\n  SSL:              enabled (OpenSSL v3+)\r\n  SSH:              no      (--with-{libssh,libssh2})\r\n  zlib:             enabled\r\n  brotli:           no      (--with-brotli)\r\n  zstd:             no      (--with-zstd)\r\n  GSS-API:          enabled (MIT Kerberos/Heimdal)\r\n  GSASL:            no      (libgsasl not found)\r\n  TLS-SRP:          no      (--enable-tls-srp)\r\n  resolver:         default (--enable-ares / --enable-threaded-resolver)\r\n  IPv6:             enabled\r\n  Unix sockets:     enabled\r\n  IDN:              no      (--with-{libidn2,winidn})\r\n  Build docs:       enabled (--disable-docs)\r\n  Build libcurl:    Shared=yes, Static=yes\r\n  Built-in manual:  enabled\r\n  --libcurl option: enabled (--disable-libcurl-option)\r\n  Verbose errors:   enabled (--disable-verbose)\r\n  Code coverage:    disabled\r\n  SSPI:             no      (--enable-sspi)\r\n  ca cert bundle:   no\r\n  ca cert path:     no\r\n  ca fallback:      yes\r\n  LDAP:             no      (--enable-ldap / --with-ldap-lib / --with-lber-lib)\r\n  LDAPS:            no      (--enable-ldaps)\r\n  RTSP:             no      (--enable-rtsp)\r\n  RTMP:             no      (--with-librtmp)\r\n  PSL:              no      (--with-libpsl)\r\n  Alt-svc:          no\r\n  Headers API:      enabled (--disable-headers-api)\r\n  HSTS:             enabled (--disable-hsts)\r\n  HTTP1:            enabled (internal)\r\n  HTTP2:            no      (--with-nghttp2)\r\n  HTTP3:            no      (--with-ngtcp2 --with-nghttp3, --with-quiche, --with-openssl-quic, --with-msh3)\r\n  ECH:              no      (--enable-ech)\r\n  WebSockets:       no      (--enable-websockets)\r\n  Protocols:        file http https ipfs ipns smtp smtps\r\n  Features:         GSS-API HSTS HTTPS-proxy IPv6 Kerberos Largefile libz SPNEGO SSL UnixSockets\r\n```\r\nResult:\r\n```\r\n# ldd /opt/ports/bin/curl\r\n\r\n/opt/ports/bin/curl:\r\n        libcurl.so.12 =>        /opt/ports/lib/hpux32/libcurl.so.12\r\n        libssl.so.3 =>  /opt/ports/lib/hpux32/libssl.so.3\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libgssapi_krb5.2 =>     /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n        libkrb5.3 =>    /opt/ports/lib/hpux32/libkrb5.3\r\n        libk5crypto.3 =>        /opt/ports/lib/hpux32/libk5crypto.3\r\n        libcom_err.3 => /opt/ports/lib/hpux32/libcom_err.3\r\n        libz.so =>      /opt/ports/lib/hpux32/libz.so\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libssl.so.1.1 =>        /usr/lib/hpux32/libssl.so.1.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n        libkrb5support.0 =>     /opt/ports/lib/hpux32/libkrb5support.0\r\n        libintl.so.12 =>        /opt/ports/lib/hpux32/libintl.so.12\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n        libiconv.so.8 =>        /opt/ports/lib/hpux32/libiconv.so.8\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n# ldd /opt/ports/lib/hpux32/libcurl.so\r\n\r\n/opt/ports/lib/hpux32/libcurl.so:\r\n        libssl.so.1.1 =>        /usr/lib/hpux32/libssl.so.1.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n        libgssapi_krb5.2 =>     /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n        libkrb5.3 =>    /opt/ports/lib/hpux32/libkrb5.3\r\n        libk5crypto.3 =>        /opt/ports/lib/hpux32/libk5crypto.3\r\n        libcom_err.3 => /opt/ports/lib/hpux32/libcom_err.3\r\n        libz.so =>      /opt/ports/lib/hpux32/libz.so\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n        libkrb5support.0 =>     /opt/ports/lib/hpux32/libkrb5support.0\r\n        libintl.so.12 =>        /opt/ports/lib/hpux32/libintl.so.12\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libiconv.so.8 =>        /opt/ports/lib/hpux32/libiconv.so.8\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n```\r\n\r\nI have now both OpenSSL version in the runtime path because in `lib/Makefile.in libcurl_la_LINK` and `src/Makefile.in libcurltool_la_LINK` have `LDFLAGS` *after* `LIBS` (`LIBCURL_PC_LIBS_PRIVATE`) the linker finds the default path first for `libssl.so`.\r\nverbose:\r\n```\r\n# ldd -s -v /opt/ports/bin/curl\r\n\r\n/opt/ports/bin/curl:\r\n\r\n  find library=libcurl.so.12; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libcurl.so.12\r\n        libcurl.so.12 =>        /opt/ports/lib/hpux32/libcurl.so.12\r\n\r\n  find library=libssl.so.3; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libssl.so.3\r\n        libssl.so.3 =>  /opt/ports/lib/hpux32/libssl.so.3\r\n\r\n  find library=libcrypto.so.3; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libcrypto.so.3\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n\r\n  find library=libgssapi_krb5.2; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libgssapi_krb5.2\r\n        libgssapi_krb5.2 =>     /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n\r\n  find library=libkrb5.3; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libkrb5.3\r\n        libkrb5.3 =>    /opt/ports/lib/hpux32/libkrb5.3\r\n\r\n  find library=libk5crypto.3; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libk5crypto.3\r\n        libk5crypto.3 =>        /opt/ports/lib/hpux32/libk5crypto.3\r\n\r\n  find library=libcom_err.3; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libcom_err.3\r\n        libcom_err.3 => /opt/ports/lib/hpux32/libcom_err.3\r\n\r\n  find library=libz.so; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libz.so\r\n        libz.so =>      /opt/ports/lib/hpux32/libz.so\r\n\r\n  find library=libc.so.1; required by /opt/ports/bin/curl\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libc.so.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n\r\n  find library=libssl.so.1.1; required by /opt/ports/lib/hpux32/libcurl.so.12\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libssl.so.1.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libssl.so.1.1\r\n        libssl.so.1.1 =>        /usr/lib/hpux32/libssl.so.1.1\r\n\r\n  find library=libcrypto.so.1.1; required by /opt/ports/lib/hpux32/libcurl.so.12\r\n    search path=/opt/ports/lib/hpux32  (RPATH)\r\n    trying path=/opt/ports/lib/hpux32/libcrypto.so.1.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libcrypto.so.1.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n\r\n  find library=libcrypto.so.3; required by /opt/ports/lib/hpux32/libssl.so.3\r\n    search path=.:/opt/ports/lib/hpux32:/usr/lib/hpux32:/opt/langtools/lib/hpux32  (RPATH)\r\n    trying path=./libcrypto.so.3\r\n    trying path=/opt/ports/lib/hpux32/libcrypto.so.3\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n\r\n  find library=libdl.so.1; required by /opt/ports/lib/hpux32/libssl.so.3\r\n    search path=.:/opt/ports/lib/hpux32:/usr/lib/hpux32:/opt/langtools/lib/hpux32  (RPATH)\r\n    trying path=./libdl.so.1\r\n    trying path=/opt/ports/lib/hpux32/libdl.so.1\r\n    trying path=/usr/lib/hpux32/libdl.so.1\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n\r\n  find library=libpthread.so.1; required by /opt/ports/lib/hpux32/libssl.so.3\r\n    search path=.:/opt/ports/lib/hpux32:/usr/lib/hpux32:/opt/langtools/lib/hpux32  (RUNPATH)\r\n    trying path=./libpthread.so.1\r\n    trying path=/opt/ports/lib/hpux32/libpthread.so.1\r\n    trying path=/usr/lib/hpux32/libpthread.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n\r\n  find library=libkrb5support.0; required by /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n    search path=/opt/ports/lib/hpux32  (RPATH)\r\n    trying path=/opt/ports/lib/hpux32/libkrb5support.0\r\n        libkrb5support.0 =>     /opt/ports/lib/hpux32/libkrb5support.0\r\n\r\n  find library=libintl.so.12; required by /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libintl.so.12\r\n        libintl.so.12 =>        /opt/ports/lib/hpux32/libintl.so.12\r\n\r\n  find library=libc.so.1; required by /opt/ports/lib/hpux32/libz.so\r\n    search path=/opt/ports/lib/hpux32:/usr/lib/hpux32:/opt/langtools/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libc.so.1\r\n    trying path=/usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n\r\n  find library=libcrypto.so.1.1; required by /usr/lib/hpux32/libssl.so.1.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libcrypto.so.1.1\r\n        libcrypto.so.1.1 =>     /usr/lib/hpux32/libcrypto.so.1.1\r\n\r\n  find library=libdl.so.1; required by /usr/lib/hpux32/libssl.so.1.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libdl.so.1\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n\r\n  find library=libpthread.so.1; required by /usr/lib/hpux32/libssl.so.1.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libpthread.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n\r\n  find library=libiconv.so.8; required by /opt/ports/lib/hpux32/libintl.so.12\r\n    search path=/opt/ports/lib/hpux32  (RUNPATH)\r\n    trying path=/opt/ports/lib/hpux32/libiconv.so.8\r\n        libiconv.so.8 =>        /opt/ports/lib/hpux32/libiconv.so.8\r\n\r\n  find library=libc.so.1; required by /opt/ports/lib/hpux32/libintl.so.12\r\n    search path=/opt/ports/lib/hpux32  (RPATH)\r\n    trying path=/opt/ports/lib/hpux32/libc.so.1\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n\r\n  find library=libc.so.1; required by /opt/ports/lib/hpux32/libiconv.so.8\r\n    search path=/usr/lib/hpux32  (default)\r\n    trying path=/usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n```\r\n\r\nI cannot tell whether any of the recent changes should be reverted or not, but that comes a surprise because I explicitly pass `CPPFLAGS` and `LDFLAGS` to have autoconf to find the headers and libraries in the right place and *not* in default locations.\r\n#12312 looks like a workaround to make it work again:\r\n```\r\nroot@deblndw002x:/var/tmp/ports/work/curl-8.10.0\r\n# gmake -j4 CURL_LDFLAGS_LIB=$LDFLAGS CURL_LDFLAGS_BIN=$LDFLAGS \r\n...\r\n# gmake install\r\n...\r\n# ldd /opt/ports/lib/hpux32/libcurl.so\r\n\r\n/opt/ports/lib/hpux32/libcurl.so:\r\n        libssl.so.3 =>  /opt/ports/lib/hpux32/libssl.so.3\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libgssapi_krb5.2 =>     /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n        libkrb5.3 =>    /opt/ports/lib/hpux32/libkrb5.3\r\n        libk5crypto.3 =>        /opt/ports/lib/hpux32/libk5crypto.3\r\n        libcom_err.3 => /opt/ports/lib/hpux32/libcom_err.3\r\n        libz.so =>      /opt/ports/lib/hpux32/libz.so\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n        libkrb5support.0 =>     /opt/ports/lib/hpux32/libkrb5support.0\r\n        libintl.so.12 =>        /opt/ports/lib/hpux32/libintl.so.12\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libiconv.so.8 =>        /opt/ports/lib/hpux32/libiconv.so.8\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n# ldd  /opt/ports/bin/curl\r\n\r\n/opt/ports/bin/curl:\r\n        libcurl.so.12 =>        /opt/ports/lib/hpux32/libcurl.so.12\r\n        libssl.so.3 =>  /opt/ports/lib/hpux32/libssl.so.3\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libgssapi_krb5.2 =>     /opt/ports/lib/hpux32/libgssapi_krb5.2\r\n        libkrb5.3 =>    /opt/ports/lib/hpux32/libkrb5.3\r\n        libk5crypto.3 =>        /opt/ports/lib/hpux32/libk5crypto.3\r\n        libcom_err.3 => /opt/ports/lib/hpux32/libcom_err.3\r\n        libz.so =>      /opt/ports/lib/hpux32/libz.so\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libcrypto.so.3 =>       /opt/ports/lib/hpux32/libcrypto.so.3\r\n        libdl.so.1 =>   /usr/lib/hpux32/libdl.so.1\r\n        libpthread.so.1 =>      /usr/lib/hpux32/libpthread.so.1\r\n        libkrb5support.0 =>     /opt/ports/lib/hpux32/libkrb5support.0\r\n        libintl.so.12 =>        /opt/ports/lib/hpux32/libintl.so.12\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libiconv.so.8 =>        /opt/ports/lib/hpux32/libiconv.so.8\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n        libc.so.1 =>    /usr/lib/hpux32/libc.so.1\r\n```\r\nWell, using `CURL_LDFLAGS_{LIB,BIN}` is not straight forward at all because it is not documented, nor does one know that it has to be passed to `make` instead of to `./configure`\r\n\r\n### I expected the following\r\n\r\n`LDFAGS` passed *before*  `LIBS` so the linker can pick up the right library to build up `RPATH`.\r\nThere has been some changes in terms of linking in the past few months looking at the closed issues and PRs.\r\n\r\n### curl/libcurl version\r\n\r\ncurl --version\r\ncurl 8.10.0 (ia64-hp-hpux11.31) libcurl/8.10.0 OpenSSL/3.0.15 zlib/1.3.1\r\nRelease-Date: 2024-09-11\r\nProtocols: file http https ipfs ipns smtp smtps\r\nFeatures: GSS-API HSTS HTTPS-proxy IPv6 Kerberos Largefile libz SPNEGO SSL UnixSockets\r\n\r\n\r\n### operating system\r\n\r\nHP-UX deblndw0 B.11.31 U ia64 HP-UX\r\naCC: HP C/aC++ B3910B A.06.29 [Oct 18 2016]\r\n/opt/ports/bin/openssl version\r\nOpenSSL 3.0.15 3 Sep 2024 (Library: OpenSSL 3.0.15 3 Sep 2024)\r\n/usr/bin/openssl version\r\nOpenSSL 1.1.1w  11 Sep 2023","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/14893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/14893/timeline","performed_via_github_app":null,"state_reason":"completed"}