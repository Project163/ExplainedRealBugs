[{"id":10274940785,"node_id":"LE_lADOAAiu0c5wEoPazwAAAAJkbydx","url":"https://api.github.com/repos/curl/curl/issues/events/10274940785","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-09-04T14:44:36Z","label":{"name":"HTTP","color":"207de5"},"performed_via_github_app":null},{"id":10274940797,"node_id":"LE_lADOAAiu0c5wEoPazwAAAAJkbyd9","url":"https://api.github.com/repos/curl/curl/issues/events/10274940797","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-09-04T14:44:36Z","label":{"name":"authentication","color":"e99695"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1705400528","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1705400528","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1705400528,"node_id":"IC_kwDOAAiu0c5lpljQ","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-04T14:52:14Z","updated_at":"2023-09-04T14:52:32Z","body":"Combined with #7559, it appears as if the list of \"bad\" characters is now `*`, `:` and `/`. I figure it might need some closer reading of the \"specs\" to figure out the complete list and how they should be treated correctly.\r\n\r\nThe 7559 problem is a [documented known bug](https://curl.se/docs/knownbugs.html#aws_sigv4_does_not_sign_requests)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1705400528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706766068","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1706766068","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1706766068,"node_id":"IC_kwDOAAiu0c5luy70","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-05T14:47:41Z","updated_at":"2023-09-05T14:47:53Z","body":"I suspect this is because the %HH-encoding curl does is using lowercase letters, and not uppercase as the [\"spec\"](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html) seems to suggest it should use.\r\n\r\n/cc @outscale-mgo ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706766068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10284723331,"node_id":"MEE_lADOAAiu0c5wEoPazwAAAAJlBGyD","url":"https://api.github.com/repos/curl/curl/issues/events/10284723331","actor":{"login":"outscale-mgo","id":10047309,"node_id":"MDQ6VXNlcjEwMDQ3MzA5","avatar_url":"https://avatars.githubusercontent.com/u/10047309?v=4","gravatar_id":"","url":"https://api.github.com/users/outscale-mgo","html_url":"https://github.com/outscale-mgo","followers_url":"https://api.github.com/users/outscale-mgo/followers","following_url":"https://api.github.com/users/outscale-mgo/following{/other_user}","gists_url":"https://api.github.com/users/outscale-mgo/gists{/gist_id}","starred_url":"https://api.github.com/users/outscale-mgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/outscale-mgo/subscriptions","organizations_url":"https://api.github.com/users/outscale-mgo/orgs","repos_url":"https://api.github.com/users/outscale-mgo/repos","events_url":"https://api.github.com/users/outscale-mgo/events{/privacy}","received_events_url":"https://api.github.com/users/outscale-mgo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-09-05T14:47:41Z","performed_via_github_app":null},{"id":10284723347,"node_id":"SE_lADOAAiu0c5wEoPazwAAAAJlBGyT","url":"https://api.github.com/repos/curl/curl/issues/events/10284723347","actor":{"login":"outscale-mgo","id":10047309,"node_id":"MDQ6VXNlcjEwMDQ3MzA5","avatar_url":"https://avatars.githubusercontent.com/u/10047309?v=4","gravatar_id":"","url":"https://api.github.com/users/outscale-mgo","html_url":"https://github.com/outscale-mgo","followers_url":"https://api.github.com/users/outscale-mgo/followers","following_url":"https://api.github.com/users/outscale-mgo/following{/other_user}","gists_url":"https://api.github.com/users/outscale-mgo/gists{/gist_id}","starred_url":"https://api.github.com/users/outscale-mgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/outscale-mgo/subscriptions","organizations_url":"https://api.github.com/users/outscale-mgo/orgs","repos_url":"https://api.github.com/users/outscale-mgo/repos","events_url":"https://api.github.com/users/outscale-mgo/events{/privacy}","received_events_url":"https://api.github.com/users/outscale-mgo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-09-05T14:47:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706780550","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1706780550","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1706780550,"node_id":"IC_kwDOAAiu0c5lu2eG","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-05T14:55:56Z","updated_at":"2023-09-05T14:55:56Z","body":"I'm pretty sure we need to \"canonicalize\" the URL query to make aws-sigv4 work proper. Because right now a URL like: `https://example.com/?foo=-*/` is not even going to get those three last characters URL encoded.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706780550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706855696","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1706855696","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1706855696,"node_id":"IC_kwDOAAiu0c5lvI0Q","user":{"login":"outscale-mgo","id":10047309,"node_id":"MDQ6VXNlcjEwMDQ3MzA5","avatar_url":"https://avatars.githubusercontent.com/u/10047309?v=4","gravatar_id":"","url":"https://api.github.com/users/outscale-mgo","html_url":"https://github.com/outscale-mgo","followers_url":"https://api.github.com/users/outscale-mgo/followers","following_url":"https://api.github.com/users/outscale-mgo/following{/other_user}","gists_url":"https://api.github.com/users/outscale-mgo/gists{/gist_id}","starred_url":"https://api.github.com/users/outscale-mgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/outscale-mgo/subscriptions","organizations_url":"https://api.github.com/users/outscale-mgo/orgs","repos_url":"https://api.github.com/users/outscale-mgo/repos","events_url":"https://api.github.com/users/outscale-mgo/events{/privacy}","received_events_url":"https://api.github.com/users/outscale-mgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-05T15:37:42Z","updated_at":"2023-09-05T15:37:42Z","body":"It's exactly that, the URL need to be encoded manually. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1706855696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"outscale-mgo","id":10047309,"node_id":"MDQ6VXNlcjEwMDQ3MzA5","avatar_url":"https://avatars.githubusercontent.com/u/10047309?v=4","gravatar_id":"","url":"https://api.github.com/users/outscale-mgo","html_url":"https://github.com/outscale-mgo","followers_url":"https://api.github.com/users/outscale-mgo/followers","following_url":"https://api.github.com/users/outscale-mgo/following{/other_user}","gists_url":"https://api.github.com/users/outscale-mgo/gists{/gist_id}","starred_url":"https://api.github.com/users/outscale-mgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/outscale-mgo/subscriptions","organizations_url":"https://api.github.com/users/outscale-mgo/orgs","repos_url":"https://api.github.com/users/outscale-mgo/repos","events_url":"https://api.github.com/users/outscale-mgo/events{/privacy}","received_events_url":"https://api.github.com/users/outscale-mgo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1707139742","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1707139742","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1707139742,"node_id":"IC_kwDOAAiu0c5lwOKe","user":{"login":"jaw111","id":2478333,"node_id":"MDQ6VXNlcjI0NzgzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2478333?v=4","gravatar_id":"","url":"https://api.github.com/users/jaw111","html_url":"https://github.com/jaw111","followers_url":"https://api.github.com/users/jaw111/followers","following_url":"https://api.github.com/users/jaw111/following{/other_user}","gists_url":"https://api.github.com/users/jaw111/gists{/gist_id}","starred_url":"https://api.github.com/users/jaw111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaw111/subscriptions","organizations_url":"https://api.github.com/users/jaw111/orgs","repos_url":"https://api.github.com/users/jaw111/repos","events_url":"https://api.github.com/users/jaw111/events{/privacy}","received_events_url":"https://api.github.com/users/jaw111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-05T18:40:53Z","updated_at":"2023-09-05T18:40:53Z","body":"OK, I tried manually encoding the parameter value and that works:\r\n\r\n```\r\ncurl \"https://${NEPTUNE_HOSTNAME}:8182/sparql/gsp?graph=urn%3Auuid%3A6e8bc430-9c3a-11d9-9669-0800200c9a66\" \\\r\n  --aws-sigv4 \"aws:amz:${AWS_REGION}:neptune-db\" \\\r\n  --user \"${AWS_ACCESS_KEY_ID}:${AWS_SECRET_ACCESS_KEY}\" \\\r\n  --header \"x-amz-security-token: ${AWS_SESSION_TOKEN}\"\r\n```\r\n\r\nThough ideally using `--url-query` option should take care of the canonicalization/normalization.\r\n\r\n[RFC 3986](https://datatracker.ietf.org/doc/html/rfc3986) section 2.1, where this encoding is defined, states:\r\n\r\n> For consistency, URI producers and normalizers should use uppercase hexadecimal digits for all percent-encodings.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1707139742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jaw111","id":2478333,"node_id":"MDQ6VXNlcjI0NzgzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2478333?v=4","gravatar_id":"","url":"https://api.github.com/users/jaw111","html_url":"https://github.com/jaw111","followers_url":"https://api.github.com/users/jaw111/followers","following_url":"https://api.github.com/users/jaw111/following{/other_user}","gists_url":"https://api.github.com/users/jaw111/gists{/gist_id}","starred_url":"https://api.github.com/users/jaw111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaw111/subscriptions","organizations_url":"https://api.github.com/users/jaw111/orgs","repos_url":"https://api.github.com/users/jaw111/repos","events_url":"https://api.github.com/users/jaw111/events{/privacy}","received_events_url":"https://api.github.com/users/jaw111/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10292852573,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAJlgHdd","url":"https://api.github.com/repos/curl/curl/issues/events/10292852573","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f2c943a3a6d5761e479e8205fe33ecde1e401fd5","commit_url":"https://api.github.com/repos/curl/curl/commits/f2c943a3a6d5761e479e8205fe33ecde1e401fd5","created_at":"2023-09-06T08:30:33Z","performed_via_github_app":null},{"actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-06T08:30:47Z","updated_at":"2023-09-06T08:30:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/11806","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/11806/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/11806/comments","events_url":"https://api.github.com/repos/curl/curl/issues/11806/events","html_url":"https://github.com/curl/curl/pull/11806","id":1883516866,"node_id":"PR_kwDOAAiu0c5ZqBkw","number":11806,"title":"http_aws_sigv4: canonicalize the query","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118243,"node_id":"MDU6TGFiZWwxODQxMTgyNDM=","url":"https://api.github.com/repos/curl/curl/labels/HTTP","name":"HTTP","color":"207de5","default":false,"description":null},{"id":192912238,"node_id":"MDU6TGFiZWwxOTI5MTIyMzg=","url":"https://api.github.com/repos/curl/curl/labels/cmdline%20tool","name":"cmdline tool","color":"006b75","default":false,"description":null},{"id":538402904,"node_id":"MDU6TGFiZWw1Mzg0MDI5MDQ=","url":"https://api.github.com/repos/curl/curl/labels/authentication","name":"authentication","color":"e99695","default":false,"description":""},{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2023-09-06T08:30:46Z","updated_at":"2023-09-07T15:51:16Z","closed_at":"2023-09-07T15:51:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/11806","html_url":"https://github.com/curl/curl/pull/11806","diff_url":"https://github.com/curl/curl/pull/11806.diff","patch_url":"https://github.com/curl/curl/pull/11806.patch","merged_at":null},"body":"Percent encoding needs to be done using uppercase, and most non-alphanumerical must be percent-encoded.\r\n\r\nFixes #11794\r\nReported-by: John Walker","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/11806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/11806/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1707903897","html_url":"https://github.com/curl/curl/issues/11794#issuecomment-1707903897","issue_url":"https://api.github.com/repos/curl/curl/issues/11794","id":1707903897,"node_id":"IC_kwDOAAiu0c5lzIuZ","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-06T08:31:03Z","updated_at":"2023-09-06T08:31:03Z","body":"#11806 is my attempt at a fix","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1707903897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10303815412,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAJmJ770","url":"https://api.github.com/repos/curl/curl/issues/events/10303815412","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ed395e099396a1d087c4298b2e8d8795f6509ff2","commit_url":"https://api.github.com/repos/curl/curl/commits/ed395e099396a1d087c4298b2e8d8795f6509ff2","created_at":"2023-09-07T07:31:44Z","performed_via_github_app":null},{"id":10306680795,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAJmU3fb","url":"https://api.github.com/repos/curl/curl/issues/events/10306680795","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"99293f789a6d4092eb99f4a7f6357b3f724f5454","commit_url":"https://api.github.com/repos/curl/curl/commits/99293f789a6d4092eb99f4a7f6357b3f724f5454","created_at":"2023-09-07T12:15:29Z","performed_via_github_app":null},{"id":10307998212,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAJmZ5IE","url":"https://api.github.com/repos/curl/curl/issues/events/10307998212","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"85239e674e4c6e16abf2bf370dec22fc2b6a2122","commit_url":"https://api.github.com/repos/curl/curl/commits/85239e674e4c6e16abf2bf370dec22fc2b6a2122","created_at":"2023-09-07T14:11:26Z","performed_via_github_app":null},{"id":10309143779,"node_id":"CE_lADOAAiu0c5wEoPazwAAAAJmeQzj","url":"https://api.github.com/repos/curl/curl/issues/events/10309143779","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"fc76a24c53b08cdf6eec8ba787d8eac64651d56e","commit_url":"https://api.github.com/repos/curl/curl/commits/fc76a24c53b08cdf6eec8ba787d8eac64651d56e","created_at":"2023-09-07T15:51:11Z","state_reason":null,"performed_via_github_app":null},{"id":10459079928,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAJvaOT4","url":"https://api.github.com/repos/curl/curl/issues/events/10459079928","actor":{"login":"ptitSeb","id":3250792,"node_id":"MDQ6VXNlcjMyNTA3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/3250792?v=4","gravatar_id":"","url":"https://api.github.com/users/ptitSeb","html_url":"https://github.com/ptitSeb","followers_url":"https://api.github.com/users/ptitSeb/followers","following_url":"https://api.github.com/users/ptitSeb/following{/other_user}","gists_url":"https://api.github.com/users/ptitSeb/gists{/gist_id}","starred_url":"https://api.github.com/users/ptitSeb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptitSeb/subscriptions","organizations_url":"https://api.github.com/users/ptitSeb/orgs","repos_url":"https://api.github.com/users/ptitSeb/repos","events_url":"https://api.github.com/users/ptitSeb/events{/privacy}","received_events_url":"https://api.github.com/users/ptitSeb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"49fbf6da3eddc31b5ab917161b2c94f119691f46","commit_url":"https://api.github.com/repos/wasix-org/curl/commits/49fbf6da3eddc31b5ab917161b2c94f119691f46","created_at":"2023-09-25T08:05:20Z","performed_via_github_app":null},{"id":11664613094,"node_id":"REFE_lADOAAiu0c5wEoPazwAAAAK3Q97m","url":"https://api.github.com/repos/curl/curl/issues/events/11664613094","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fc76a24c53b08cdf6eec8ba787d8eac64651d56e","commit_url":"https://api.github.com/repos/webfutureiorepo/curl/commits/fc76a24c53b08cdf6eec8ba787d8eac64651d56e","created_at":"2024-02-01T05:10:08Z","performed_via_github_app":null},{"actor":{"login":"jaw111","id":2478333,"node_id":"MDQ6VXNlcjI0NzgzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2478333?v=4","gravatar_id":"","url":"https://api.github.com/users/jaw111","html_url":"https://github.com/jaw111","followers_url":"https://api.github.com/users/jaw111/followers","following_url":"https://api.github.com/users/jaw111/following{/other_user}","gists_url":"https://api.github.com/users/jaw111/gists{/gist_id}","starred_url":"https://api.github.com/users/jaw111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaw111/subscriptions","organizations_url":"https://api.github.com/users/jaw111/orgs","repos_url":"https://api.github.com/users/jaw111/repos","events_url":"https://api.github.com/users/jaw111/events{/privacy}","received_events_url":"https://api.github.com/users/jaw111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-06T11:01:09Z","updated_at":"2024-03-06T11:01:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/13058","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/13058/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/13058/comments","events_url":"https://api.github.com/repos/curl/curl/issues/13058/events","html_url":"https://github.com/curl/curl/issues/13058","id":2171223860,"node_id":"I_kwDOAAiu0c6Baj80","number":13058,"title":"aws-sigv4 has problems with particular URLs","user":{"login":"jaw111","id":2478333,"node_id":"MDQ6VXNlcjI0NzgzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2478333?v=4","gravatar_id":"","url":"https://api.github.com/users/jaw111","html_url":"https://github.com/jaw111","followers_url":"https://api.github.com/users/jaw111/followers","following_url":"https://api.github.com/users/jaw111/following{/other_user}","gists_url":"https://api.github.com/users/jaw111/gists{/gist_id}","starred_url":"https://api.github.com/users/jaw111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaw111/subscriptions","organizations_url":"https://api.github.com/users/jaw111/orgs","repos_url":"https://api.github.com/users/jaw111/repos","events_url":"https://api.github.com/users/jaw111/events{/privacy}","received_events_url":"https://api.github.com/users/jaw111/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118243,"node_id":"MDU6TGFiZWwxODQxMTgyNDM=","url":"https://api.github.com/repos/curl/curl/labels/HTTP","name":"HTTP","color":"207de5","default":false,"description":null},{"id":352090567,"node_id":"MDU6TGFiZWwzNTIwOTA1Njc=","url":"https://api.github.com/repos/curl/curl/labels/KNOWN_BUGS%20material","name":"KNOWN_BUGS material","color":"d93f0b","default":false,"description":null},{"id":538402904,"node_id":"MDU6TGFiZWw1Mzg0MDI5MDQ=","url":"https://api.github.com/repos/curl/curl/labels/authentication","name":"authentication","color":"e99695","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2024-03-06T11:01:09Z","updated_at":"2025-05-20T23:02:04Z","closed_at":"2024-06-03T08:45:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### I did this\n\nUsing latest curl version 8.6.0 I am running into problems with the signatures when trying to run SPARQL queries using `--url-query` as described [here](https://semaku.com/post/curl-url-query-sparql-11-protocol/#examples-using-curl-to-append-data-to-the-url-query-with-sparql-1-1-protocol).\r\n\r\nAn example request:\r\n\r\n```\r\ncurl https://${NEPTUNE_HOSTNAME}:8182/sparql \\\r\n  --aws-sigv4 \"aws:amz:eu-west-1:neptune-db\" \\\r\n  --user \"${AWS_ACCESS_KEY_ID}:${AWS_SECRET_ACCESS_KEY}\" \\\r\n  --header \"x-amz-security-token: ${AWS_SESSION_TOKEN}\" \\\r\n  --header \"Accept: application/sparql-results+json\" \\\r\n  --url-query \"query=select * where { ?s ?p ?o } limit 1\" \\\r\n  --no-progress-meter -i\r\n```\r\n\r\nResponse headers\r\n```\r\nHTTP/1.1 403 Forbidden\r\nContent-Length: 473\r\nContent-Type: application/json\r\nx-amzn-errortype: AccessDeniedException\r\nx-amzn-requestid: 3cc709b0-16e5-78ef-f335-81431d8d2027\r\n```\r\n\r\nResponse body:\r\n```json\r\n{\r\n  \"code\": \"AccessDeniedException\",\r\n  \"requestId\": \"10c709b0-16e5-56ed-2c66-63071e997e70\",\r\n  \"detailedMessage\": \"The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\",\r\n  \"message\": \"The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\"\r\n}\r\n```\r\n\r\nSome problems were already resolved by #11794 but it seems some characters used in SPARQL queries are still not handled correctly. I *think* the spaces are the cause as it works OK with `--url-query \"query=select*where{?s?p?o}limit1\"`.\n\n### I expected the following\n\nThe calculated signature should be correct.\n\n### curl/libcurl version\n\ncurl 8.6.0 (x86_64-w64-mingw32) libcurl/8.6.0 LibreSSL/3.8.2 zlib/1.3.1 brotli/1.1.0 zstd/1.5.5 WinIDN libpsl/0.21.5 libssh2/1.11.0 nghttp2/1.59.0 ngtcp2/1.2.0 nghttp3/1.1.0\r\nRelease-Date: 2024-01-31\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp ws wss\r\nFeatures: alt-svc AsynchDNS brotli HSTS HTTP2 HTTP3 HTTPS-proxy IDN IPv6 Largefile libz NTLM PSL SSL threadsafe UnixSockets zstd\n\n### operating system\n\nMINGW32_NT-10.0-22621-WOW64 SMW008711 3.3.6-341.i686 2022-09-05 20:09 UTC i686 Msys","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/13058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/13058/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"JGalego","id":7282984,"node_id":"MDQ6VXNlcjcyODI5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7282984?v=4","gravatar_id":"","url":"https://api.github.com/users/JGalego","html_url":"https://github.com/JGalego","followers_url":"https://api.github.com/users/JGalego/followers","following_url":"https://api.github.com/users/JGalego/following{/other_user}","gists_url":"https://api.github.com/users/JGalego/gists{/gist_id}","starred_url":"https://api.github.com/users/JGalego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JGalego/subscriptions","organizations_url":"https://api.github.com/users/JGalego/orgs","repos_url":"https://api.github.com/users/JGalego/repos","events_url":"https://api.github.com/users/JGalego/events{/privacy}","received_events_url":"https://api.github.com/users/JGalego/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-07T20:54:45Z","updated_at":"2024-08-07T20:54:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9","repository_url":"https://api.github.com/repos/asg017/sqlite-rembed","labels_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9/comments","events_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9/events","html_url":"https://github.com/asg017/sqlite-rembed/pull/9","id":2449832900,"node_id":"PR_kwDOMDpjcM53g9-U","number":9,"title":"feat: Amazon Bedrock Support ","user":{"login":"JGalego","id":7282984,"node_id":"MDQ6VXNlcjcyODI5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7282984?v=4","gravatar_id":"","url":"https://api.github.com/users/JGalego","html_url":"https://github.com/JGalego","followers_url":"https://api.github.com/users/JGalego/followers","following_url":"https://api.github.com/users/JGalego/following{/other_user}","gists_url":"https://api.github.com/users/JGalego/gists{/gist_id}","starred_url":"https://api.github.com/users/JGalego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JGalego/subscriptions","organizations_url":"https://api.github.com/users/JGalego/orgs","repos_url":"https://api.github.com/users/JGalego/repos","events_url":"https://api.github.com/users/JGalego/events{/privacy}","received_events_url":"https://api.github.com/users/JGalego/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-08-06T02:57:08Z","updated_at":"2024-11-02T12:08:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":809132912,"node_id":"R_kgDOMDpjcA","name":"sqlite-rembed","full_name":"asg017/sqlite-rembed","private":false,"owner":{"login":"asg017","id":15178711,"node_id":"MDQ6VXNlcjE1MTc4NzEx","avatar_url":"https://avatars.githubusercontent.com/u/15178711?v=4","gravatar_id":"","url":"https://api.github.com/users/asg017","html_url":"https://github.com/asg017","followers_url":"https://api.github.com/users/asg017/followers","following_url":"https://api.github.com/users/asg017/following{/other_user}","gists_url":"https://api.github.com/users/asg017/gists{/gist_id}","starred_url":"https://api.github.com/users/asg017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asg017/subscriptions","organizations_url":"https://api.github.com/users/asg017/orgs","repos_url":"https://api.github.com/users/asg017/repos","events_url":"https://api.github.com/users/asg017/events{/privacy}","received_events_url":"https://api.github.com/users/asg017/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/asg017/sqlite-rembed","description":"A SQLite extension for generating text embeddings from remote APIs (OpenAI, Nomic, Ollama, llamafile...)","fork":false,"url":"https://api.github.com/repos/asg017/sqlite-rembed","forks_url":"https://api.github.com/repos/asg017/sqlite-rembed/forks","keys_url":"https://api.github.com/repos/asg017/sqlite-rembed/keys{/key_id}","collaborators_url":"https://api.github.com/repos/asg017/sqlite-rembed/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/asg017/sqlite-rembed/teams","hooks_url":"https://api.github.com/repos/asg017/sqlite-rembed/hooks","issue_events_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/events{/number}","events_url":"https://api.github.com/repos/asg017/sqlite-rembed/events","assignees_url":"https://api.github.com/repos/asg017/sqlite-rembed/assignees{/user}","branches_url":"https://api.github.com/repos/asg017/sqlite-rembed/branches{/branch}","tags_url":"https://api.github.com/repos/asg017/sqlite-rembed/tags","blobs_url":"https://api.github.com/repos/asg017/sqlite-rembed/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/asg017/sqlite-rembed/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/asg017/sqlite-rembed/git/refs{/sha}","trees_url":"https://api.github.com/repos/asg017/sqlite-rembed/git/trees{/sha}","statuses_url":"https://api.github.com/repos/asg017/sqlite-rembed/statuses/{sha}","languages_url":"https://api.github.com/repos/asg017/sqlite-rembed/languages","stargazers_url":"https://api.github.com/repos/asg017/sqlite-rembed/stargazers","contributors_url":"https://api.github.com/repos/asg017/sqlite-rembed/contributors","subscribers_url":"https://api.github.com/repos/asg017/sqlite-rembed/subscribers","subscription_url":"https://api.github.com/repos/asg017/sqlite-rembed/subscription","commits_url":"https://api.github.com/repos/asg017/sqlite-rembed/commits{/sha}","git_commits_url":"https://api.github.com/repos/asg017/sqlite-rembed/git/commits{/sha}","comments_url":"https://api.github.com/repos/asg017/sqlite-rembed/comments{/number}","issue_comment_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/comments{/number}","contents_url":"https://api.github.com/repos/asg017/sqlite-rembed/contents/{+path}","compare_url":"https://api.github.com/repos/asg017/sqlite-rembed/compare/{base}...{head}","merges_url":"https://api.github.com/repos/asg017/sqlite-rembed/merges","archive_url":"https://api.github.com/repos/asg017/sqlite-rembed/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/asg017/sqlite-rembed/downloads","issues_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues{/number}","pulls_url":"https://api.github.com/repos/asg017/sqlite-rembed/pulls{/number}","milestones_url":"https://api.github.com/repos/asg017/sqlite-rembed/milestones{/number}","notifications_url":"https://api.github.com/repos/asg017/sqlite-rembed/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/asg017/sqlite-rembed/labels{/name}","releases_url":"https://api.github.com/repos/asg017/sqlite-rembed/releases{/id}","deployments_url":"https://api.github.com/repos/asg017/sqlite-rembed/deployments","created_at":"2024-06-01T19:31:12Z","updated_at":"2025-11-09T04:13:45Z","pushed_at":"2024-11-04T06:50:46Z","git_url":"git://github.com/asg017/sqlite-rembed.git","ssh_url":"git@github.com:asg017/sqlite-rembed.git","clone_url":"https://github.com/asg017/sqlite-rembed.git","svn_url":"https://github.com/asg017/sqlite-rembed","homepage":"","size":106,"stargazers_count":139,"watchers_count":139,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":9,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":14,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["sqlite-extension"],"visibility":"public","forks":9,"open_issues":14,"watchers":139,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/asg017/sqlite-rembed/pulls/9","html_url":"https://github.com/asg017/sqlite-rembed/pull/9","diff_url":"https://github.com/asg017/sqlite-rembed/pull/9.diff","patch_url":"https://github.com/asg017/sqlite-rembed/pull/9.patch","merged_at":null},"body":"This PR adds support for `EMBEDDING` models provided by [Amazon Bedrock](https://aws.amazon.com/bedrock/).\r\n\r\nTested with [Amazon Titan Embeddings Text](https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters-titan-embed-text.html) and [Cohere Embed](https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters-embed.html).\r\n\r\nImplementation includes *ad-hoc* functions to add [AWS SigV4](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-signing.html) signatures.\r\n\r\n**Example:**\r\n\r\n```sql\r\n.bail on\r\n.mode table\r\n.header on\r\n\r\n.timer on\r\n\r\n-- Load extensions\r\n.load ./dist/debug/rembed0\r\n.load ../sqlite-vec/dist/vec0\r\n\r\n-- Initialize rembed clients\r\ninsert into\r\n  temp.rembed_clients(name, options)\r\nvalues \r\n  ('amazon.titan-embed-text-v1', 'bedrock'),\r\n  ('amazon.titan-embed-text-v2:0', 'bedrock'),\r\n  ('cohere.embed-multilingual-v3', 'bedrock');\r\n  \r\n-- Debug (extensions)\r\nselect\r\n  *\r\nfrom\r\n  pragma_function_list\r\nwhere\r\n  builtin != 1\r\nand (\r\n  name like 'rembed%'\r\nor\r\n  name like 'vec%'\r\n);\r\n\r\n-- Debug (models)\r\nwith models as (\r\n  select\r\n\tname as model_id\r\n  from\r\n    temp.rembed_clients\r\n)\r\nselect\r\n  model_id,\r\n  length(rembed(model_id, 'where is the love?'))/4 as embedding_dimension\r\nfrom\r\n  models;\r\n\r\n-- Debug (model + inference options)\r\nselect substr(\r\n  hex(\r\n    rembed(\r\n      'cohere.embed-multilingual-v3',\r\n\t  'Where is the love?',\r\n\t  json('{\"input_type\": \"search_query\", \"truncate\": \"END\"}')\r\n    )\r\n  ),\r\n  1, 100\r\n);\r\n\r\n-- Create articles table\r\ncreate table articles(\r\n  headline text\r\n);\r\n\r\n-- Populate table with random headlines\r\ninsert into articles VALUES\r\n  ('Shohei Ohtani''s ex-interpreter pleads guilty to charges related to gambling and theft'),\r\n  ('The jury has been selected in Hunter Biden''s gun trial'),\r\n  ('Larry Allen, a Super Bowl champion and famed Dallas Cowboy, has died at age 52'),\r\n  ('After saying Charlotte, a lone stingray, was pregnant, aquarium now says she''s sick'),\r\n  ('An Epoch Times executive is facing money laundering charge');\r\n\r\n\r\n-- Build a vector table for the embeddings\r\ncreate virtual table vec_articles using vec0(\r\n  headline_embeddings float[1536]\r\n);\r\n\r\n-- Embed headlines\r\ninsert into vec_articles(rowid, headline_embeddings)\r\n  select rowid, rembed('amazon.titan-embed-text-v1', headline)\r\n  from articles;\r\n\r\n-- Debug\r\nselect substr(hex(headline_embeddings), 1, 100) from vec_articles;\r\n\r\n-- Run a query\r\n.parameter set :query 'firearm courtroom'\r\n\r\nwith matches as (\r\n  select\r\n    rowid,\r\n    distance\r\n  from vec_articles\r\n  where headline_embeddings match rembed('amazon.titan-embed-text-v1', :query)\r\n  order by distance\r\n  limit 3\r\n)\r\nselect\r\n  headline,\r\n  distance\r\nfrom matches\r\nleft join articles on articles.rowid = matches.rowid;\r\n```\r\n\r\n**Output:**\r\n\r\n```\r\n+--------------------------------------------------------------+------------------+\r\n|                           headline                           |     distance     |\r\n+--------------------------------------------------------------+------------------+\r\n| The jury has been selected in Hunter Biden's gun trial       | 22.7055225372314 |\r\n+--------------------------------------------------------------+------------------+\r\n| Shohei Ohtani's ex-interpreter pleads guilty to charges rela | 27.4765567779541 |\r\n| ted to gambling and theft                                    |                  |\r\n+--------------------------------------------------------------+------------------+\r\n| Larry Allen, a Super Bowl champion and famed Dallas Cowboy,  | 29.5273017883301 |\r\n| has died at age 52                                           |                  |\r\n+--------------------------------------------------------------+------------------+\r\n```","reactions":{"url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asg017/sqlite-rembed/issues/9/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]