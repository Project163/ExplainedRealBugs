[{"url":"https://api.github.com/repos/curl/curl/issues/comments/2893351838","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2893351838","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2893351838,"node_id":"IC_kwDOAAiu0c6sdQue","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-20T08:01:41Z","updated_at":"2025-05-20T08:01:41Z","body":"This looks like the right way to fix it. Although, I am not the expert on the FTP state machine either.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2893351838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17728827980,"node_id":"LE_lADOAAiu0c63V7t6zwAAAAQguHJM","url":"https://api.github.com/repos/curl/curl/issues/events/17728827980","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-20T08:05:25Z","label":{"name":"FTP","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2893797788","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2893797788","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2893797788,"node_id":"IC_kwDOAAiu0c6se9mc","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-20T10:14:50Z","updated_at":"2025-05-20T10:14:50Z","body":"Any chance you can provide a detailed log showing what happens when it does *not* work, i.e without this patch?\n\nIt looks to me that the FTP state machine gets \"stuck\" somewhere before this point that looks like it could be the real problem that this suggested fix mostly \"paints over\". But I would like more info first before I can tell for sure.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2893797788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17767529263,"node_id":"LE_lADOAAiu0c63V7t6zwAAAAQjBvsv","url":"https://api.github.com/repos/curl/curl/issues/events/17767529263","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-22T08:27:10Z","label":{"name":"needs-info","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900893792","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2900893792","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2900893792,"node_id":"IC_kwDOAAiu0c6s6CBg","user":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-22T11:35:48Z","updated_at":"2025-05-22T11:38:47Z","body":"> == LOG :info     app.proto.transfer</FTP/C/FTP Client.global.tx.30891> initializing message upload -- filename: 30891 bytes: 561 \n> == INFO:[93-0] [MULTI] [COMPLETED] -> [INIT] (line 384)\n> == INFO:[94-0] [MULTI] [INIT] added, transfers=1\n> == INFO:[94-0] [MULTI] [INIT] -> [SETUP] (line 2252)\n> == INFO:[94-0] [MULTI] [SETUP] -> [CONNECT] (line 2268)\n> == INFO:[94-0] [READ] client_reset, clear readers\n> == INFO:[94-0] [FTP] [STOP] setup connection -> 0\n> == INFO:[94-0] [TCP] is_alive: poll timeout, assume alive\n> == INFO:[94-0] Re-using existing ftp: connection with host JOEL-W72\n> == INFO:[94-0] [MULTI] [CONNECT] -> [CONNECTING] (line 2183)\n> == INFO:[94-0] [MULTI] [CONNECTING] -> [PROTOCONNECT] (line 2306)\n> == INFO:[94-0] [MULTI] [PROTOCONNECT] -> [DO] (line 2323)\n> == INFO:[94-0] Request has same path as previous transfer\n> == INFO:[94-0] [FTP] [STOP] DO phase starts\n> == INFO:[94-0] Hostname 192.168.56.1 was found in DNS cache\n> == INFO:[94-0] [FTP] [STOP] ftp_state_use_port(), opened socket\n> == INFO:[94-0] [FTP] [STOP] ftp_state_use_port(), socket bound to port 0\n> == INFO:[94-0] [FTP] [STOP] ftp_state_use_port(), listening on 0\n> == INFO:[94-0] [TCP] send(len=58) -> 58, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_out_write(len=58) -> 58, err=0\n> => SEND:[94-0] EPRT |1|192.168.56.1|49139|\n> == INFO:[94-0] [FTP] [STOP] -> [PORT] (line 1207)\n> == INFO:[94-0] [TCP-ACCEPT-1] added\n> == INFO:[94-0] [TCP-ACCEPT-1] set filter for listen socket fd=1948 ip=192.168.56.1:49139\n> == INFO:[94-0] [SSL-1] added\n> == INFO:[94-0] pp_statematch, timeout=90000\n> == INFO:[94-0] [FTP] [PORT] perform, awaiting DATA connect\n> == INFO:[94-0] [MULTI] [DO] -> [DOING] (line 1933)\n> == INFO:[94-0] pp_statematch, timeout=90000\n> == INFO:[94-0] [TCP] recv(len=5) -> 5, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[94-0] [TCP] recv(len=54) -> 54, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_in_read(len=54) -> 54, err=0\n> == INFO:[94-0] [SSL] cf_recv(len=900) -> 30, 0\n> <= RECV:[94-0] 200 PORT command successful.\n> == INFO:[94-0] [WRITE] [OUT] wrote 30 header bytes -> 30\n> == INFO:[94-0] [WRITE] [PAUSE] writing 30/30 bytes of type 2 -> 0\n> == INFO:[94-0] [WRITE] download_write header(type=2, blen=30) -> 0\n> == INFO:[94-0] [WRITE] client_write(type=2, len=30) -> 0\n> == INFO:[94-0] Connect data stream actively\n> == INFO:[94-0] [FTP] [PORT] -> [STOP] (line 1996)\n> == INFO:[94-0] [FTP] [STOP] DO phase is complete2\n> == INFO:[94-0] [MULTI] [DOING] -> [DOING_MORE] (line 2375)\n> == INFO:[94-0] [TCP-ACCEPT-1] Checking for incoming on fd=1948 ip=192.168.56.1:49139\n> == INFO:[94-0] [TCP-ACCEPT-1] socket_check -> 0\n> == INFO:[94-0] [TCP-ACCEPT-1] nothing heard from the server yet\n> == INFO:[94-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[94-0] [FTP] [STOP] -> [STOR_TYPE] (line 3516)\n> == INFO:[94-0] [TCP] send(len=41) -> 41, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_out_write(len=41) -> 41, err=0\n> => SEND:[94-0] STOR 30891\n> == INFO:[94-0] [FTP] [STOR_TYPE] -> [STOR] (line 1600)\n> == INFO:[94-0] pp_statematch, timeout=90000\n> == INFO:[94-0] [TCP] recv(len=5) -> 5, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[94-0] [TCP] recv(len=75) -> 75, err=0\n> == INFO:[94-0] [SSL] ossl_bio_cf_in_read(len=75) -> 75, err=0\n> == INFO:[94-0] [SSL] cf_recv(len=900) -> 51, 0\n> <= RECV:[94-0] 150 Opening ASCII mode data connection for 30891.\n> == INFO:[94-0] [WRITE] [OUT] wrote 51 header bytes -> 51\n> == INFO:[94-0] [WRITE] [PAUSE] writing 51/51 bytes of type 2 -> 0\n> == INFO:[94-0] [WRITE] download_write header(type=2, blen=51) -> 0\n> == INFO:[94-0] [WRITE] client_write(type=2, len=51) -> 0\n> == INFO:[94-0] [FTP] [STOR] -> [STOP] (line 2404)\n> == INFO:[94-0] [TCP-ACCEPT-1] Checking for incoming on fd=1948 ip=192.168.56.1:49139\n> == INFO:[94-0] [TCP-ACCEPT-1] socket_check -> 0\n> == INFO:[94-0] [TCP-ACCEPT-1] nothing heard from the server yet\n> == INFO:[94-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[94-0] Data conn was not available immediately\n> == INFO:[94-0] [MULTI] [DOING_MORE] -> [DID] (line 2399)\n> == INFO:[94-0] [MULTI] [DID] -> [PERFORMING] (line 2423)\n> == INFO:[94-0] [MULTI] [PERFORMING] -> [DONE] (line 1856)\n> == INFO:[94-0] [MULTI] [DONE] multi_done: status: 0 prem: 0 done: 0\n> == INFO:[94-0] Remembering we are in dir \"\"\n> == INFO:[94-0] [FTP] [STOP] closing DATA connection\n> == INFO:[94-0] [TCP-ACCEPT-1] cf_socket_close, fd=1948\n> == INFO:[94-0] [MULTI] [DONE] Curl_multi_will_close fd=1948\n> == INFO:[94-0] [TCP-ACCEPT-1] destroy\n> == INFO:Uploaded unaligned file size (0 out of 561 bytes)\n> == INFO:[94-0] [FTP] [STOP] done, result=18\n> == INFO:[94-0] [WRITE] [OUT] done\n> == INFO:[94-0] Connection #0 to host JOEL-W72 left intact\n> == INFO:[94-0] [MULTI] [DONE] -> [COMPLETED] (line 2471)\n> == INFO:[94-0] [MULTI] [COMPLETED] Expire cleared\n> == INFO:[94-0] [MULTI] [COMPLETED] -> [MSGSENT] (line 2566)\n> == INFO:[94-0] [MULTI] [COMPLETED] removed, transfers=0\n> == LOG :error    app.proto.transfer</FTP/C/FTP Client.global.tx.30891> unable to transfer file 30891: Uploaded unaligned file size (0 out of 561 bytes) (curl: Transferred a partial file)\n> ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900893792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900895637","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2900895637","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2900895637,"node_id":"IC_kwDOAAiu0c6s6CeV","user":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-22T11:36:32Z","updated_at":"2025-05-22T11:36:32Z","body":"This transfer failed; we fell out of DOING_MORE to DID. It seems its dependent on how we fall out of \"DO\" whether or not it works or not.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900895637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900902359","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2900902359","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2900902359,"node_id":"IC_kwDOAAiu0c6s6EHX","user":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-22T11:39:15Z","updated_at":"2025-05-22T11:40:54Z","body":"> == LOG :info     app.proto.transfer</FTP/C/FTP Client.global.tx.30881> initializing message upload -- filename: 30881 bytes: 561 \n> == INFO:[92-0] [MULTI] [COMPLETED] -> [INIT] (line 384)\n> == INFO:[93-0] [MULTI] [INIT] added, transfers=1\n> == INFO:[93-0] [MULTI] [INIT] -> [SETUP] (line 2252)\n> == INFO:[93-0] [MULTI] [SETUP] -> [CONNECT] (line 2268)\n> == INFO:[93-0] [READ] client_reset, clear readers\n> == INFO:[93-0] [FTP] [STOP] setup connection -> 0\n> == INFO:[93-0] [TCP] is_alive: poll timeout, assume alive\n> == INFO:[93-0] Re-using existing ftp: connection with host JOEL-W72\n> == INFO:[93-0] [MULTI] [CONNECT] -> [CONNECTING] (line 2183)\n> == INFO:[93-0] [MULTI] [CONNECTING] -> [PROTOCONNECT] (line 2306)\n> == INFO:[93-0] [MULTI] [PROTOCONNECT] -> [DO] (line 2323)\n> == INFO:[93-0] Request has same path as previous transfer\n> == INFO:[93-0] [FTP] [STOP] DO phase starts\n> == INFO:[93-0] Hostname 192.168.56.1 was found in DNS cache\n> == INFO:[93-0] [FTP] [STOP] ftp_state_use_port(), opened socket\n> == INFO:[93-0] [FTP] [STOP] ftp_state_use_port(), socket bound to port 0\n> == INFO:[93-0] [FTP] [STOP] ftp_state_use_port(), listening on 0\n> == INFO:[93-0] [TCP] send(len=58) -> 58, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_out_write(len=58) -> 58, err=0\n> => SEND:[93-0] EPRT |1|192.168.56.1|49138|\n> == INFO:[93-0] [FTP] [STOP] -> [PORT] (line 1207)\n> == INFO:[93-0] [TCP-ACCEPT-1] added\n> == INFO:[93-0] [TCP-ACCEPT-1] set filter for listen socket fd=1900 ip=192.168.56.1:49138\n> == INFO:[93-0] [SSL-1] added\n> == INFO:[93-0] pp_statematch, timeout=90000\n> == INFO:[93-0] [FTP] [PORT] perform, awaiting DATA connect\n> == INFO:[93-0] [MULTI] [DO] -> [DOING] (line 1933)\n> == INFO:[93-0] pp_statematch, timeout=90000\n> == INFO:[93-0] [TCP-ACCEPT-1] adjust_pollset, listening, POLLIN fd=1900\n> == INFO:[93-0] [MULTI] [DOING] ev assess pollset[fd=1604 IN, fd=1900 IN], timeouts=2\n> == INFO:[93-0] [MULTI] [DOING] ev new entry fd=1604\n> == INFO:[93-0] [MULTI] [DOING] ev entry fd=1604, added transfer #101, total=1/0 (xfer/conn)\n> == INFO:[93-0] [MULTI] [DOING] ev update fd=1604, action '' -> 'IN' (1/0 r/w)\n> == INFO:[93-0] [MULTI] [DOING] ev update call(fd=1604, ev=IN)\n> == INFO:[93-0] [MULTI] [DOING] ev new entry fd=1900\n> == INFO:[93-0] [MULTI] [DOING] ev entry fd=1900, added transfer #101, total=1/0 (xfer/conn)\n> == INFO:[93-0] [MULTI] [DOING] ev update fd=1900, action '' -> 'IN' (1/0 r/w)\n> == INFO:[93-0] [MULTI] [DOING] ev update call(fd=1900, ev=IN)\n> == INFO:[93-0] pp_statematch, timeout=89996\n> == INFO:[93-0] [TCP] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP] recv(len=54) -> 54, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=54) -> 54, err=0\n> == INFO:[93-0] [SSL] cf_recv(len=900) -> 30, 0\n> <= RECV:[93-0] 200 PORT command successful.\n> == INFO:[93-0] [WRITE] [OUT] wrote 30 header bytes -> 30\n> == INFO:[93-0] [WRITE] [PAUSE] writing 30/30 bytes of type 2 -> 0\n> == INFO:[93-0] [WRITE] download_write header(type=2, blen=30) -> 0\n> == INFO:[93-0] [WRITE] client_write(type=2, len=30) -> 0\n> == INFO:[93-0] Connect data stream actively\n> == INFO:[93-0] [FTP] [PORT] -> [STOP] (line 1996)\n> == INFO:[93-0] [FTP] [STOP] DO phase is complete2\n> == INFO:[93-0] [MULTI] [DOING] -> [DOING_MORE] (line 2375)\n> == INFO:[93-0] [TCP-ACCEPT-1] Checking for incoming on fd=1900 ip=192.168.56.1:49138\n> == INFO:[93-0] [TCP-ACCEPT-1] socket_check -> 0\n> == INFO:[93-0] [TCP-ACCEPT-1] nothing heard from the server yet\n> == INFO:[93-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[93-0] [FTP] [STOP] -> [STOR_TYPE] (line 3516)\n> == INFO:[93-0] [TCP] send(len=41) -> 41, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_out_write(len=41) -> 41, err=0\n> => SEND:[93-0] STOR 30881\n> == INFO:[93-0] [FTP] [STOR_TYPE] -> [STOR] (line 1600)\n> == INFO:[93-0] pp_statematch, timeout=90000\n> == INFO:[93-0] [FTP] [STOR] ftp_domore_getsock()\n> == INFO:[93-0] [TCP-ACCEPT-1] adjust_pollset, listening, POLLIN fd=1900\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev assess pollset[fd=1604 IN, fd=1900 IN], timeouts=2\n> == INFO:[93-0] [TCP-ACCEPT-1] Checking for incoming on fd=1900 ip=192.168.56.1:49138\n> == INFO:[93-0] [TCP-ACCEPT-1] socket_check -> 1\n> == INFO:[93-0] Ready to accept data connection from server\n> == INFO:[93-0] Connection accepted from server\n> == INFO:[93-0] [MULTI] [DOING_MORE] Curl_multi_will_close fd=1900\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev socket done, call(fd=1900, ev=REMOVE)\n> == INFO:[93-0] [TCP-ACCEPT-1] accepted_set(sock=1804, remote=192.168.56.1 port=20)\n> == INFO:[93-0] [SSL-1] cf_connect()\n> == INFO:[93-0] [SSL-1] ossl_connect, step1\n> == INFO:[93-0] [SSLS] find peer slot for JOEL-W72:21:NO-VRFY-PEER:NO-VRFY-HOST:CCERT:IMPL-OpenSSL/3.0.9:G among 25 slots\n> == INFO:[93-0] [SSLS] took session for JOEL-W72:21:NO-VRFY-PEER:NO-VRFY-HOST:CCERT:IMPL-OpenSSL/3.0.9:G [proto=0x303, alpn=(nil), earlydata=0, quic_tp=no], 0 sessions remain\n> == INFO:[93-0] SSL reusing session with ALPN '-'\n> == INFO:[93-0] [SSLS] find peer slot for JOEL-W72:21:NO-VRFY-PEER:NO-VRFY-HOST:CCERT:IMPL-OpenSSL/3.0.9:G among 25 slots\n> == INFO:[93-0] [SSLS] added session for JOEL-W72:21:NO-VRFY-PEER:NO-VRFY-HOST:CCERT:IMPL-OpenSSL/3.0.9:G [proto=0x303, valid_secs=7178, alpn=(nil), earlydata=0, quic_tp=no], peer has 1 sessions now\n> == INFO:[93-0] [SSL-1] ossl_connect, step2\n> == LOG :notify   app.network.secure</FTP/C/FTP Client.global.tx.30881> handshake: handshake start := before SSL initialization\n> == INFO:[93-0] [TCP-ACCEPT-1] send(len=1721) -> 1721, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_out_write(len=1721) -> 1721, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_populate_x509_store, path=none, blob=0\n> == INFO:[93-0] [SSL-1] SSL_connect() -> err=-1, detail=2\n> == INFO:[93-0] [SSL-1] SSL_connect() -> want recv\n> == INFO:[93-0] [SSL-1] cf_connect() -> 0, done=0\n> == INFO:[93-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[93-0] pp_statematch, timeout=89997\n> == INFO:[93-0] [TCP] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP] recv(len=75) -> 75, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=75) -> 75, err=0\n> == INFO:[93-0] [SSL] cf_recv(len=900) -> 51, 0\n> <= RECV:[93-0] 150 Opening ASCII mode data connection for 30881.\n> == INFO:[93-0] [WRITE] [OUT] wrote 51 header bytes -> 51\n> == INFO:[93-0] [WRITE] [PAUSE] writing 51/51 bytes of type 2 -> 0\n> == INFO:[93-0] [WRITE] download_write header(type=2, blen=51) -> 0\n> == INFO:[93-0] [WRITE] client_write(type=2, len=51) -> 0\n> == INFO:[93-0] [FTP] [STOR] -> [STOP] (line 2404)\n> == INFO:[93-0] [SSL-1] cf_connect()\n> == INFO:[93-0] [SSL-1] ossl_connect, step2\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] SSL_connect() -> err=-1, detail=2\n> == INFO:[93-0] [SSL-1] SSL_connect() -> want recv\n> == INFO:[93-0] [SSL-1] cf_connect() -> 0, done=0\n> == INFO:[93-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[93-0] Data conn was not available immediately\n> == INFO:[93-0] [SSL-1] cf_connect()\n> == INFO:[93-0] [SSL-1] ossl_connect, step2\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] SSL_connect() -> err=-1, detail=2\n> == INFO:[93-0] [SSL-1] SSL_connect() -> want recv\n> == INFO:[93-0] [SSL-1] cf_connect() -> 0, done=0\n> == INFO:[93-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=0\n> == INFO:[93-0] [FTP] [STOP] ftp_domore_getsock()\n> == INFO:[93-0] [SSL-1] adjust_pollset, POLLIN fd=1804\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev assess pollset[fd=1604 IN, fd=1804 IN], timeouts=2\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev new entry fd=1804\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev entry fd=1804, added transfer #101, total=1/0 (xfer/conn)\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev update fd=1804, action '' -> 'IN' (1/0 r/w)\n> == INFO:[93-0] [MULTI] [DOING_MORE] ev update call(fd=1804, ev=IN)\n> == INFO:[93-0] [SSL-1] cf_connect()\n> == INFO:[93-0] [SSL-1] ossl_connect, step2\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=85) -> 85, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=85) -> 85, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=1) -> 1, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=1) -> 1, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=40) -> 40, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=40) -> 40, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] send(len=51) -> 51, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_out_write(len=51) -> 51, err=0\n> == LOG :notify   app.network.secure</FTP/C/FTP Client.global.tx.30881> handshake: handshake done := SSL negotiation finished successfully\n> == INFO:[93-0] SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384 / X25519 / UNDEF\n> == INFO:[93-0] [SSL-1] ossl_connect, step3\n> == INFO:[93-0] [SSL-1] ossl_connect, done\n> == INFO:[93-0] [SSL-1] cf_connect() -> 0, done=1\n> == INFO:[93-0] [SSL-1] Curl_conn_connect(block=0) -> 0, done=1\n> == INFO:[93-0] Connected 2nd connection to 192.168.56.1 port 20\n> == INFO:[93-0] [FTP] InitiateTransfer()\n> == INFO:[93-0] [MULTI] [DOING_MORE] -> [DID] (line 2399)\n> == INFO:[93-0] [MULTI] [DID] -> [PERFORMING] (line 2423)\n> == INFO:[93-0] [READ] add fread reader, len=561 -> 0\n> == INFO:[93-0] [READ] cr_in_read(len=561, total=561, read=561) -> 0, nread=561, eos=1\n> == INFO:[93-0] [READ] client_read(len=65536) -> 0, nread=561, eos=1\n> == INFO:[93-0] sending last upload chunk of 561 bytes\n> == INFO:[93-0] [TCP-ACCEPT-1] send(len=590) -> 590, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_out_write(len=590) -> 590, err=0\n> == INFO:[93-0] Curl_xfer_send(len=561, eos=1) -> 0, 561\n> == INFO:[93-0] [MULTI] [PERFORMING] shutdown start on secondary connection\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] SSL shutdown not sent, read -> -1\n> == INFO:[93-0] [SSL-1] send SSL close notify\n> == INFO:[93-0] [TCP-ACCEPT-1] send(len=31) -> 31, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_out_write(len=31) -> 31, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL-1] SSL shutdown read -> -1\n> == INFO:[93-0] [SSL-1] SSL shutdown sent, want receive\n> == INFO:[93-0] [SSL-1] cf_shutdown -> 0, done=0\n> == INFO:[93-0] [SSL-1] shut down not done yet\n> == INFO:[93-0] [SSL-1] adjust_pollset, POLLIN fd=1804\n> == INFO:[93-0] [MULTI] [PERFORMING] ev assess pollset[fd=1804 IN], timeouts=2\n> == INFO:[93-0] [MULTI] [PERFORMING] ev last user gone, call(fd=1604, ev=REMOVE)\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP-ACCEPT-1] recv(len=26) -> 26, err=0\n> == INFO:[93-0] [SSL-1] ossl_bio_cf_in_read(len=26) -> 26, err=0\n> == INFO:[93-0] [SSL-1] SSL shutdown read -> 0\n> == INFO:[93-0] [SSL-1] SSL shutdown finished\n> == INFO:[93-0] [SSL-1] cf_shutdown -> 0, done=1\n> == INFO:[93-0] [SSL-1] shut down successfully\n> == INFO:[93-0] [TCP-ACCEPT-1] cf_socket_shutdown, fd=1804\n> == INFO:[93-0] [TCP-ACCEPT-1] shut down successfully\n> == INFO:[93-0] upload completely sent off: 561 bytes\n> == INFO:[93-0] [MULTI] [PERFORMING] -> [DONE] (line 1856)\n> == INFO:[93-0] [MULTI] [DONE] multi_done: status: 0 prem: 0 done: 0\n> == INFO:[93-0] Remembering we are in dir \"\"\n> == INFO:[93-0] [FTP] [STOP] closing DATA connection\n> == INFO:[93-0] [TCP-ACCEPT-1] cf_socket_close, fd=1804\n> == INFO:[93-0] [MULTI] [DONE] Curl_multi_will_close fd=1804\n> == INFO:[93-0] [MULTI] [DONE] ev socket done, call(fd=1804, ev=REMOVE)\n> == INFO:[93-0] [TCP-ACCEPT-1] destroy\n> == INFO:[93-0] [FTP] getFTPResponse start\n> == INFO:[93-0] [TCP] recv(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=5) -> -1, err=81\n> == INFO:[93-0] [SSL] cf_recv(len=900) -> -1, 81\n> == INFO:[93-0] [TCP] recv(len=5) -> 5, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=5) -> 5, err=0\n> == INFO:[93-0] [TCP] recv(len=100) -> 100, err=0\n> == INFO:[93-0] [SSL] ossl_bio_cf_in_read(len=100) -> 100, err=0\n> == INFO:[93-0] [SSL] cf_recv(len=900) -> 76, 0\n> <= RECV:[93-0] 226-File accepted by server.\n> == INFO:[93-0] [WRITE] [OUT] wrote 30 header bytes -> 30\n> == INFO:[93-0] [WRITE] [PAUSE] writing 30/30 bytes of type 2 -> 0\n> == INFO:[93-0] [WRITE] download_write header(type=2, blen=30) -> 0\n> == INFO:[93-0] [WRITE] client_write(type=2, len=30) -> 0\n> <= RECV:[93-0]     Message id 31881\n> == INFO:[93-0] [WRITE] [OUT] wrote 22 header bytes -> 22\n> == INFO:[93-0] [WRITE] [PAUSE] writing 22/22 bytes of type 2 -> 0\n> == INFO:[93-0] [WRITE] download_write header(type=2, blen=22) -> 0\n> == INFO:[93-0] [WRITE] client_write(type=2, len=22) -> 0\n> <= RECV:[93-0] 226 Transfer complete.\n> == INFO:[93-0] [WRITE] [OUT] wrote 24 header bytes -> 24\n> == INFO:[93-0] [WRITE] [PAUSE] writing 24/24 bytes of type 2 -> 0\n> == INFO:[93-0] [WRITE] download_write header(type=2, blen=24) -> 0\n> == INFO:[93-0] [WRITE] client_write(type=2, len=24) -> 0\n> == INFO:[93-0] [FTP] getFTPResponse -> result=0, nread=76, ftpcode=226\n> == INFO:[93-0] [FTP] [STOP] done, result=0\n> == INFO:[93-0] [WRITE] [OUT] done\n> == INFO:[93-0] [READ] client_reset, clear readers\n> == INFO:[93-0] Connection #0 to host JOEL-W72 left intact\n> == INFO:[93-0] [MULTI] [DONE] -> [COMPLETED] (line 2471)\n> == INFO:[93-0] [MULTI] [COMPLETED] Expire cleared\n> == INFO:[93-0] [MULTI] [COMPLETED] -> [MSGSENT] (line 2566)\n> == INFO:[93-0] [MULTI] [COMPLETED] removed, transfers=0\n> == LOG :info     app.proto.transfer</FTP/C/FTP Client.global.tx.30881> message successfully completed","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900902359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900905032","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2900905032","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2900905032,"node_id":"IC_kwDOAAiu0c6s6ExI","user":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-22T11:40:20Z","updated_at":"2025-05-22T11:40:20Z","body":"This transfer worked as intended. The error is intermittent; depends on timing. If I start writing my logs to disk instead of capturing them in memory it is less likely to occur. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900905032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900909102","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2900909102","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2900909102,"node_id":"IC_kwDOAAiu0c6s6Fwu","user":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-22T11:41:54Z","updated_at":"2025-05-22T11:41:54Z","body":"Let me know if you need anything more.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2900909102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17790746899,"node_id":"AE_lADOAAiu0c63V7t6zwAAAAQkaUET","url":"https://api.github.com/repos/curl/curl/issues/events/17790746899","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2025-05-23T14:02:20Z","assignee":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":17790850043,"node_id":"REFE_lADOAAiu0c63V7t6zwAAAAQkatP7","url":"https://api.github.com/repos/curl/curl/issues/events/17790850043","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"93665e4d00b69f3ddf96ddcc664c096bbad05f79","commit_url":"https://api.github.com/repos/icing/curl/commits/93665e4d00b69f3ddf96ddcc664c096bbad05f79","created_at":"2025-05-23T14:08:44Z","performed_via_github_app":null},{"actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-23T14:09:05Z","updated_at":"2025-05-23T14:09:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/17428","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/17428/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/17428/comments","events_url":"https://api.github.com/repos/curl/curl/issues/17428/events","html_url":"https://github.com/curl/curl/pull/17428","id":3086514455,"node_id":"PR_kwDOAAiu0c6XZSUo","number":17428,"title":"ftp: fix race in upload handling","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-05-23T14:09:04Z","updated_at":"2025-05-25T09:56:33Z","closed_at":"2025-05-25T09:56:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T12:40:38Z","pushed_at":"2025-11-10T12:40:38Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":40,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/17428","html_url":"https://github.com/curl/curl/pull/17428","diff_url":"https://github.com/curl/curl/pull/17428.diff","patch_url":"https://github.com/curl/curl/pull/17428.patch","merged_at":null},"body":"When TYPE was skipped for an immediate STORE command and the server replied fast and the EPRT data connection was not ready, the transfer was not initated, leading to no upload.\r\n\r\nrefs #17394","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/17428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/17428/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2904603604","html_url":"https://github.com/curl/curl/issues/17394#issuecomment-2904603604","issue_url":"https://api.github.com/repos/curl/curl/issues/17394","id":2904603604,"node_id":"IC_kwDOAAiu0c6tILvU","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-23T14:25:17Z","updated_at":"2025-05-23T14:25:17Z","body":"@JoelAtWisetech your original suggestion was correct. I analysed what was going wrong and made #17428 as a fix.\n\nIt would be great if you could verify that in your system.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2904603604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17791130798,"node_id":"MEE_lADOAAiu0c63V7t6zwAAAAQkbxyu","url":"https://api.github.com/repos/curl/curl/issues/events/17791130798","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-23T14:25:18Z","performed_via_github_app":null},{"id":17791130826,"node_id":"SE_lADOAAiu0c63V7t6zwAAAAQkbxzK","url":"https://api.github.com/repos/curl/curl/issues/events/17791130826","actor":{"login":"JoelAtWisetech","id":147050561,"node_id":"U_kgDOCMPQQQ","avatar_url":"https://avatars.githubusercontent.com/u/147050561?v=4","gravatar_id":"","url":"https://api.github.com/users/JoelAtWisetech","html_url":"https://github.com/JoelAtWisetech","followers_url":"https://api.github.com/users/JoelAtWisetech/followers","following_url":"https://api.github.com/users/JoelAtWisetech/following{/other_user}","gists_url":"https://api.github.com/users/JoelAtWisetech/gists{/gist_id}","starred_url":"https://api.github.com/users/JoelAtWisetech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoelAtWisetech/subscriptions","organizations_url":"https://api.github.com/users/JoelAtWisetech/orgs","repos_url":"https://api.github.com/users/JoelAtWisetech/repos","events_url":"https://api.github.com/users/JoelAtWisetech/events{/privacy}","received_events_url":"https://api.github.com/users/JoelAtWisetech/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-23T14:25:18Z","performed_via_github_app":null},{"id":17803832832,"node_id":"CE_lADOAAiu0c63V7t6zwAAAAQlMO4A","url":"https://api.github.com/repos/curl/curl/issues/events/17803832832","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"745c3519a5942853cb96817d6545ba8aaf1cb3f0","commit_url":"https://api.github.com/repos/curl/curl/commits/745c3519a5942853cb96817d6545ba8aaf1cb3f0","created_at":"2025-05-25T09:56:33Z","state_reason":null,"performed_via_github_app":null},{"id":17803925278,"node_id":"REFE_lADOAAiu0c63V7t6zwAAAAQlMlce","url":"https://api.github.com/repos/curl/curl/issues/events/17803925278","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"745c3519a5942853cb96817d6545ba8aaf1cb3f0","commit_url":"https://api.github.com/repos/Zezo-Ai/curl/commits/745c3519a5942853cb96817d6545ba8aaf1cb3f0","created_at":"2025-05-25T10:35:04Z","performed_via_github_app":null}]