{"url":"https://api.github.com/repos/curl/curl/issues/11179","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/11179/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/11179/comments","events_url":"https://api.github.com/repos/curl/curl/issues/11179/events","html_url":"https://github.com/curl/curl/issues/11179","id":1721408738,"node_id":"I_kwDOAAiu0c5mmpzi","number":11179,"title":"curl 8.1.1 configure hangs for multilib build","user":{"login":"eworm-de","id":970853,"node_id":"MDQ6VXNlcjk3MDg1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/970853?v=4","gravatar_id":"","url":"https://api.github.com/users/eworm-de","html_url":"https://github.com/eworm-de","followers_url":"https://api.github.com/users/eworm-de/followers","following_url":"https://api.github.com/users/eworm-de/following{/other_user}","gists_url":"https://api.github.com/users/eworm-de/gists{/gist_id}","starred_url":"https://api.github.com/users/eworm-de/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eworm-de/subscriptions","organizations_url":"https://api.github.com/users/eworm-de/orgs","repos_url":"https://api.github.com/users/eworm-de/repos","events_url":"https://api.github.com/users/eworm-de/events{/privacy}","received_events_url":"https://api.github.com/users/eworm-de/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2023-05-23T07:27:51Z","updated_at":"2023-05-23T08:47:29Z","closed_at":"2023-05-23T08:47:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- Only file bugs here! Ask questions on the mailing lists https://curl.se/mail/\r\n\r\n     SECURITY RELATED? Post it here: https://hackerone.com/curl\r\n\r\n     There are collections of known issues to be aware of:\r\n     https://curl.se/docs/knownbugs.html\r\n     https://curl.se/docs/todo.html       -->\r\n\r\n### I did this\r\n\r\nI was packaging `curl 8.1.1` for Arch Linux. Building the regular `curl` package ( `x86-64`) succeeds, building `lib32-curl` package (multilib) fails, it hangs in configure:\r\n\r\n```\r\n[...]\r\nchecking if compiler is clang... no\r\nchecking if compiler is GNU C... yes\r\nchecking if compiler is LCC... no\r\nchecking if compiler is SGI MIPSpro C... no\r\nchecking if compiler is SGI MIPS C... no\r\nchecking if compiler is SunPro C... no\r\nchecking if compiler is Tiny C... no\r\nchecking if compiler accepts some basic options... ^C\r\n```\r\n\r\nThe command that is running:\r\n\r\n```\r\nsh ./run-compiler -o conftest -march=x86-64 -mtune=generic -O2 -pipe -fno-plt -fexceptions -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security -fstack-clash-protection -fcf-protection -g -ffile-prefix-map=/build/lib32-curl/src=/usr/src/debug/lib32-curl -flto=auto -Werror-implicit-function-declaration -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -flto=auto conftest.c\r\n```\r\n\r\nLooks like the offending commit is b78ca50cb3dda361f9c1e7a83af7e2e0fa0edbf2... Reverting that makes the build succeed.\r\n\r\n### I expected the following\r\n\r\nThe package should succeed to build.\r\n\r\n### curl/libcurl version\r\n\r\nFails to build... So no output. üòù\r\n\r\n### operating system\r\n\r\n```\r\nLinux leda.eworm.net 6.3.3-arch1-1 #1 SMP PREEMPT_DYNAMIC Sun, 21 May 2023 16:15:22 +0000 x86_64 GNU/Linux\r\n```\r\n","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/11179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/11179/timeline","performed_via_github_app":null,"state_reason":"completed"}