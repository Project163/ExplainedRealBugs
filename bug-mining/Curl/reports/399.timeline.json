[{"id":10736075540,"node_id":"LE_lADOAAiu0c50mmExzwAAAAJ_64MU","url":"https://api.github.com/repos/curl/curl/issues/events/10736075540","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-23T06:05:42Z","label":{"name":"FTP","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1774659357","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1774659357","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1774659357,"node_id":"IC_kwDOAAiu0c5pxycd","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-23T08:15:56Z","updated_at":"2023-10-23T08:15:56Z","body":"> I think it would make more sense for curl to just re-create the folder and continue the upload normally.\r\n\r\nI think that is hard. There is no clear error code for curl that tells it exactly what the problem is. The 550 error is very generic, and I'm not sure curl has the mandate to try to make the directory on 550 errors in general.\r\n\r\nThis error is of course a side-effect of curl assuming things are the same as before when it comes back to the server, which is a rather naive and simplified world-view, but one that works surprisingly well in the general case.\r\n\r\nAt least retrying the same transfer again here would likely succeed as then curl more specifically will detect that the directory does not exist and create it if asked to.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1774659357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1774854200","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1774854200","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1774854200,"node_id":"IC_kwDOAAiu0c5pyiA4","user":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-23T10:07:37Z","updated_at":"2023-10-23T10:07:37Z","body":"Thanks for your reply\r\n\r\n> At least retrying the same transfer again here would likely succeed as then curl more specifically will detect that the directory does not exist and create it if asked to.\r\n\r\nDo you mean this is something that could be changed on the curl side or is this something that my application should do? Because currently it seems like simply retrying does not really help. If I remove the break from my above test code, every upload after the deletion still fails. \r\n\r\n> This error is of course a side-effect of curl assuming things are the same as before when it comes back to the server, which is a rather naive and simplified world-view, but one that works surprisingly well in the general case.\r\n\r\nIs there any way to stop curl from making this assumption? I actually searched for this because it would have been an easy solution, but I did not find any such setting.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1774854200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776086384","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1776086384","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1776086384,"node_id":"IC_kwDOAAiu0c5p3O1w","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-23T21:57:35Z","updated_at":"2023-10-23T21:57:35Z","body":">  If I remove the break from my above test code, every upload after the deletion still fails.\r\n\r\nAaah, yes. Because it thinks its just a failed upload so it keeps the connection alive and the (bad) state, so repeated attempts will just get the same problem again. Hm. Complicated.\r\n\r\nI think we might need to introduce a command or something when reusing a connection that verifies that the path is still legit and working.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776086384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776100497","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1776100497","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1776100497,"node_id":"IC_kwDOAAiu0c5p3SSR","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-23T22:09:48Z","updated_at":"2023-10-23T22:09:48Z","body":"Or just close the connection on error. Adding another round trip on every\ntransfer will have a negative performance impact when transferring lots of\nfiles.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776100497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776591864","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1776591864","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1776591864,"node_id":"IC_kwDOAAiu0c5p5KP4","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-24T06:12:34Z","updated_at":"2023-10-24T06:12:34Z","body":"> Or just close the connection on error\r\n\r\nWould work for this case indeed. The question is for which errors should we close it. All of them?\r\n\r\nA milder middle-ground take might be to \"forget\" the entry path on error so that a subsequent reused connection won't make such an assumption but have to CWD again.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1776591864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1779087255","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1779087255","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1779087255,"node_id":"IC_kwDOAAiu0c5qCreX","user":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-25T11:45:34Z","updated_at":"2023-10-25T11:45:34Z","body":"Forgetting the path on error would solve the problem for the next upload, but the current one, i.e. the one that triggered the error, would still be lost. That being said, I understand that this is a complicated problem and I would feel bad for demanding something that just can't be done.\r\n\r\nMy best idea would be to have some setting that would keep curl from remembering directories, basically a less brutal version of CURLOPT_FORBID_REUSE. Then everyone can decide for their own application whether they need this, since - let's be real - having folders deleted from the FTP server is probably not exactly an everyday use case. I, too, was only alerted to this by some user.\r\n\r\nAlso in the meantime I found the option CURLOPT_FRESH_CONNECT which might be helpful to just retry the upload on the application side when it receives CURLE_UPLOAD_FAILED (haven't tested this yet, though), so even if nothing can be done about the issue whatsoever, there might be hope to keep my user happy.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1779087255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1780858987","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1780858987","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1780858987,"node_id":"IC_kwDOAAiu0c5qJcBr","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T10:36:48Z","updated_at":"2023-10-26T10:36:48Z","body":"> Forgetting the path on error would solve the problem for the next upload, but the current one, i.e. the one that triggered the error, would still be lost\r\n\r\nThe only semi-reliable way to avoid that completely is to always CURLOPT_FORBID_REUSE. It's only \"semi\" because the directory could also in fact get removed while the transfer is in progress, assuming it can happen at any random moment in time.\r\n\r\nI think we need to accept the fact that if parts of the dir hierarchy can get removed while the connection is used, an individual transfer can fail. But that is also returned as a failure and an application could, by its own decision, decide to retry.\r\n\r\n> My best idea would be to have some setting that would keep curl from remembering directories, basically a less brutal version of CURLOPT_FORBID_REUSE\r\n\r\nWhen would a user know to set this option? Surely very few user actually *expect* the directory to vanish during transfer or between transfers? And even if it happens only once in a million, surely apps want to survive this then as well?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1780858987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1780960320","html_url":"https://github.com/curl/curl/issues/12181#issuecomment-1780960320","issue_url":"https://api.github.com/repos/curl/curl/issues/12181","id":1780960320,"node_id":"IC_kwDOAAiu0c5qJ0xA","user":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T11:50:46Z","updated_at":"2023-10-26T11:50:46Z","body":"> I think we need to accept the fact that if parts of the dir hierarchy can get removed while the connection is used, an individual transfer can fail\r\n\r\nfair enough\r\n\r\n> When would a user know to set this option? \r\n\r\nActually, in the specific case that started this, this is not something that happens randomly, but the user does this on purpose: They have a script running that checks periodically whether a certain folder on their FTP server exists and if it does, the folder gets downloaded and deleted. What makes this worse is that they keep shoving into my face that some different software handles this case correctly. (I don't know what the other software does) So in that case it would be obvious enough to use the new option. \r\n\r\nI do agree, however, that the case of stuff vanishing unexpectedly should also be considered and probably it is even more important. So if this concludes with just forgetting the dir on error such that at least subsequent uploads can recover, while I have to find another solution for the above special use case, I would not complain. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1780960320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JayDommaschk","id":68367976,"node_id":"MDQ6VXNlcjY4MzY3OTc2","avatar_url":"https://avatars.githubusercontent.com/u/68367976?v=4","gravatar_id":"","url":"https://api.github.com/users/JayDommaschk","html_url":"https://github.com/JayDommaschk","followers_url":"https://api.github.com/users/JayDommaschk/followers","following_url":"https://api.github.com/users/JayDommaschk/following{/other_user}","gists_url":"https://api.github.com/users/JayDommaschk/gists{/gist_id}","starred_url":"https://api.github.com/users/JayDommaschk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JayDommaschk/subscriptions","organizations_url":"https://api.github.com/users/JayDommaschk/orgs","repos_url":"https://api.github.com/users/JayDommaschk/repos","events_url":"https://api.github.com/users/JayDommaschk/events{/privacy}","received_events_url":"https://api.github.com/users/JayDommaschk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11720661638,"node_id":"LE_lADOAAiu0c50mmExzwAAAAK6mxqG","url":"https://api.github.com/repos/curl/curl/issues/events/11720661638","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-06T16:11:38Z","label":{"name":"KNOWN_BUGS material","color":"d93f0b"},"performed_via_github_app":null},{"id":11765287181,"node_id":"REFE_lADOAAiu0c50mmExzwAAAAK9RAkN","url":"https://api.github.com/repos/curl/curl/issues/events/11765287181","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"405d9c646acf3c42dda903a0123bb97136603891","commit_url":"https://api.github.com/repos/curl/curl/commits/405d9c646acf3c42dda903a0123bb97136603891","created_at":"2024-02-10T17:32:10Z","performed_via_github_app":null},{"actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-10T17:32:25Z","updated_at":"2024-02-10T17:32:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/12923","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/12923/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/12923/comments","events_url":"https://api.github.com/repos/curl/curl/issues/12923/events","html_url":"https://github.com/curl/curl/pull/12923","id":2128621480,"node_id":"PR_kwDOAAiu0c5mj0ba","number":12923,"title":"KNOWN_BUGS: FTP upload fails if remebered dir is deleted","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118265,"node_id":"MDU6TGFiZWwxODQxMTgyNjU=","url":"https://api.github.com/repos/curl/curl/labels/FTP","name":"FTP","color":"bfd4f2","default":false,"description":null},{"id":200869765,"node_id":"MDU6TGFiZWwyMDA4Njk3NjU=","url":"https://api.github.com/repos/curl/curl/labels/documentation","name":"documentation","color":"f7c6c7","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-10T17:32:25Z","updated_at":"2024-02-10T17:49:05Z","closed_at":"2024-02-10T17:49:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/12923","html_url":"https://github.com/curl/curl/pull/12923","diff_url":"https://github.com/curl/curl/pull/12923.diff","patch_url":"https://github.com/curl/curl/pull/12923.patch","merged_at":null},"body":"Closes #12181","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/12923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/12923/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11765325537,"node_id":"CE_lADOAAiu0c50mmExzwAAAAK9RJ7h","url":"https://api.github.com/repos/curl/curl/issues/events/11765325537","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ed596eb40909d8df89f5849551cc4fcd468e08ca","commit_url":"https://api.github.com/repos/curl/curl/commits/ed596eb40909d8df89f5849551cc4fcd468e08ca","created_at":"2024-02-10T17:49:02Z","state_reason":null,"performed_via_github_app":null},{"id":11765421998,"node_id":"REFE_lADOAAiu0c50mmExzwAAAAK9Rheu","url":"https://api.github.com/repos/curl/curl/issues/events/11765421998","actor":{"login":"Karlson2k","id":1898693,"node_id":"MDQ6VXNlcjE4OTg2OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1898693?v=4","gravatar_id":"","url":"https://api.github.com/users/Karlson2k","html_url":"https://github.com/Karlson2k","followers_url":"https://api.github.com/users/Karlson2k/followers","following_url":"https://api.github.com/users/Karlson2k/following{/other_user}","gists_url":"https://api.github.com/users/Karlson2k/gists{/gist_id}","starred_url":"https://api.github.com/users/Karlson2k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Karlson2k/subscriptions","organizations_url":"https://api.github.com/users/Karlson2k/orgs","repos_url":"https://api.github.com/users/Karlson2k/repos","events_url":"https://api.github.com/users/Karlson2k/events{/privacy}","received_events_url":"https://api.github.com/users/Karlson2k/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ed596eb40909d8df89f5849551cc4fcd468e08ca","commit_url":"https://api.github.com/repos/Karlson2k/curl/commits/ed596eb40909d8df89f5849551cc4fcd468e08ca","created_at":"2024-02-10T18:33:29Z","performed_via_github_app":null}]