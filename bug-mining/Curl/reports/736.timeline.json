[{"id":17923987296,"node_id":"LE_lADOAAiu0c65SWa_zwAAAAQsWldg","url":"https://api.github.com/repos/curl/curl/issues/events/17923987296","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-02T05:43:29Z","label":{"name":"cmdline tool","color":"006b75"},"performed_via_github_app":null},{"id":17929002687,"node_id":"AE_lADOAAiu0c65SWa_zwAAAAQspt6_","url":"https://api.github.com/repos/curl/curl/issues/events/17929002687","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T09:57:18Z","assignee":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":17929385696,"node_id":"REFE_lADOAAiu0c65SWa_zwAAAAQsrLbg","url":"https://api.github.com/repos/curl/curl/issues/events/17929385696","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8b9758b4e302d53841b1a4249b9df5cb5d10a4ec","commit_url":"https://api.github.com/repos/icing/curl/commits/8b9758b4e302d53841b1a4249b9df5cb5d10a4ec","created_at":"2025-06-02T10:14:20Z","performed_via_github_app":null},{"actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T10:14:34Z","updated_at":"2025-06-02T10:14:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/17517","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/17517/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/17517/comments","events_url":"https://api.github.com/repos/curl/curl/issues/17517/events","html_url":"https://github.com/curl/curl/pull/17517","id":3109512964,"node_id":"PR_kwDOAAiu0c6Yl4yD","number":17517,"title":"curl: upload from '.' fix","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118197,"node_id":"MDU6TGFiZWwxODQxMTgxOTc=","url":"https://api.github.com/repos/curl/curl/labels/regression","name":"regression","color":"33aa3f","default":false,"description":null},{"id":192912238,"node_id":"MDU6TGFiZWwxOTI5MTIyMzg=","url":"https://api.github.com/repos/curl/curl/labels/cmdline%20tool","name":"cmdline tool","color":"006b75","default":false,"description":null},{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-02T10:14:33Z","updated_at":"2025-06-02T10:49:49Z","closed_at":"2025-06-02T10:49:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T12:40:38Z","pushed_at":"2025-11-10T12:40:38Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":40,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/17517","html_url":"https://github.com/curl/curl/pull/17517","diff_url":"https://github.com/curl/curl/pull/17517.diff","patch_url":"https://github.com/curl/curl/pull/17517.patch","merged_at":null},"body":"CURLOPT_NOPROGRESS is being set twice, if a file is uploaded from '.'.\r\n\r\nFix order of options so that '.' can override the global setting. Without this, the `tool_readbusy_cb()` is never inoked and cannot unpause a transfer waiting for more input.\r\n\r\nrefs #17513","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/17517/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/17517/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":17929768424,"node_id":"LE_lADOAAiu0c65SWa_zwAAAAQsso3o","url":"https://api.github.com/repos/curl/curl/issues/events/17929768424","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-02T10:30:43Z","label":{"name":"regression","color":"33aa3f"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929937172","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2929937172","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2929937172,"node_id":"IC_kwDOAAiu0c6uo0sU","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T10:31:59Z","updated_at":"2025-06-02T10:31:59Z","body":"@denandz I propose #17517 as a fix. Care to verify on your end?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929937172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17929797242,"node_id":"MEE_lADOAAiu0c65SWa_zwAAAAQssv56","url":"https://api.github.com/repos/curl/curl/issues/events/17929797242","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T10:32:00Z","performed_via_github_app":null},{"id":17929797260,"node_id":"SE_lADOAAiu0c65SWa_zwAAAAQssv6M","url":"https://api.github.com/repos/curl/curl/issues/events/17929797260","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T10:32:00Z","performed_via_github_app":null},{"id":17930237586,"node_id":"CE_lADOAAiu0c65SWa_zwAAAAQsubaS","url":"https://api.github.com/repos/curl/curl/issues/events/17930237586","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"78dd08378804de519f8a5e0d79bbc1b06bcedad4","commit_url":"https://api.github.com/repos/curl/curl/commits/78dd08378804de519f8a5e0d79bbc1b06bcedad4","created_at":"2025-06-02T10:49:49Z","state_reason":null,"performed_via_github_app":null},{"id":17930334485,"node_id":"REFE_lADOAAiu0c65SWa_zwAAAAQsuzEV","url":"https://api.github.com/repos/curl/curl/issues/events/17930334485","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"78dd08378804de519f8a5e0d79bbc1b06bcedad4","commit_url":"https://api.github.com/repos/specialized806/curl/commits/78dd08378804de519f8a5e0d79bbc1b06bcedad4","created_at":"2025-06-02T10:54:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930252201","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2930252201","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2930252201,"node_id":"IC_kwDOAAiu0c6uqBmp","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T11:44:30Z","updated_at":"2025-06-02T11:44:30Z","body":"I'm not sure if this is correctly closed. Using Curl with https://github.com/denandz/httpstream2tcp and current master fails. Performance issues also remain - 8.13.1 works, but is slow. Unfortunately I don't have a cleaner POC for this issue right now. \n\n@bagder did you want to re-open this issue or shall I open a new one for the performace issues and further investigation? I don't have permissions to reopen.\n\nCurrent master (ccdcf40c38f6769a7fac9b640b063103512b7811) \n\n```\n$ ssh -v -o ProxyCommand=\"./curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" 127.0.0.1\nOpenSSH_9.6p1, OpenSSL 3.2.4 11 Feb 2025\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/50-redhat.conf\ndebug1: Reading configuration data /etc/crypto-policies/back-ends/openssh.config\ndebug1: configuration requests final Match pass\ndebug1: re-parsing configuration\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/50-redhat.conf\ndebug1: Reading configuration data /etc/crypto-policies/back-ends/openssh.config\ndebug1: Executing proxy command: exec ./curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\n...yoink...\ndebug1: Local version string SSH-2.0-OpenSSH_9.6\n...stalls...\n```\n\n8.13.1\n\n```\n$ ssh -v -o ProxyCommand=\"~/tmp/curls/curl-8.13.0/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" 127.0.0.1\nOpenSSH_9.6p1, OpenSSL 3.2.4 11 Feb 2025\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/50-redhat.conf\ndebug1: Reading configuration data /etc/crypto-policies/back-ends/openssh.config\ndebug1: configuration requests final Match pass\ndebug1: re-parsing configuration\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Reading configuration data /etc/ssh/ssh_config.d/50-redhat.conf\ndebug1: Reading configuration data /etc/crypto-policies/back-ends/openssh.config\ndebug1: Executing proxy command: exec ~/tmp/curls/curl-8.13.0/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\n...yoink...\ndebug1: Local version string SSH-2.0-OpenSSH_9.6\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_9.6\ndebug1: compat_banner: match: OpenSSH_9.6 pat OpenSSH* compat 0x04000000\ndebug1: Authenticating to 127.0.0.1:22 as 'doi'\ndebug1: load_hostkeys: fopen /home/doi/.ssh/known_hosts2: No such file or directory\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts: No such file or directory\ndebug1: load_hostkeys: fopen /etc/ssh/ssh_known_hosts2: No such file or directory\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: algorithm: curve25519-sha256\ndebug1: kex: host key algorithm: ssh-ed25519\ndebug1: kex: server->client cipher: aes256-gcm@openssh.com MAC: <implicit> compression: none\ndebug1: kex: client->server cipher: aes256-gcm@openssh.com MAC: <implicit> compression: none\ndebug1: kex: curve25519-sha256 need=32 dh_need=32\ndebug1: kex: curve25519-sha256 need=32 dh_need=32\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug1: SSH2_MSG_KEX_ECDH_REPLY received\n...ssh continues as expected...\ndebug1: pledge: fork\nLast login: Mon Jun  2 23:34:54 2025 from 127.0.0.1\ndoi@koplje:~$ \n```\n\nSimilarly, 8.7.1 performance versus 8.13.1 performance below:\n\n```\ndoi@koplje:~/tmp/curls/curl/src$ scp -o ProxyCommand=\"~/tmp/curls/curl-8.13.0/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" ~/tmp/test.dat 127.0.0.1:weh\ntest.dat                                                                                                                     2%  173MB  10.1MB/s   13:11 ETA^C\ndoi@koplje:~/tmp/curls/curl/src$ scp -o ProxyCommand=\"~/tmp/curls/curl-8.7.1/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" ~/tmp/test.dat 127.0.0.1:weh\ntest.dat                                                                                                                    38% 3142MB 486.4MB/s   00:10 ETA^C\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930252201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17931399638,"node_id":"MEE_lADOAAiu0c65SWa_zwAAAAQsy3HW","url":"https://api.github.com/repos/curl/curl/issues/events/17931399638","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T11:44:32Z","performed_via_github_app":null},{"id":17931399661,"node_id":"SE_lADOAAiu0c65SWa_zwAAAAQsy3Ht","url":"https://api.github.com/repos/curl/curl/issues/events/17931399661","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T11:44:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930345304","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2930345304","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2930345304,"node_id":"IC_kwDOAAiu0c6uqYVY","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T12:01:19Z","updated_at":"2025-06-02T12:01:19Z","body":"I tested with\n\n```sh\n>  ((echo -n 123; sleep 2; echo -n 456) |./src/curl -vvvv  -T . -N https://pipeto.me/asdf 2>inpoint.log)\n```\n\nto reproduce and verify the fix. Does this work for you as well?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930345304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17931837151,"node_id":"REE_lADOAAiu0c65SWa_zwAAAAQs0h7f","url":"https://api.github.com/repos/curl/curl/issues/events/17931837151","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:01:19Z","state_reason":"reopened","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930388755","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2930388755","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2930388755,"node_id":"IC_kwDOAAiu0c6uqi8T","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T12:13:56Z","updated_at":"2025-06-02T12:13:56Z","body":"Yup, that works for me, along with `while true; do echo ABCD1234; sleep 1; done | ./curl --trace - -T . -N https://pipeto.me/asdf` on current master; however, the SSH POC above doesn't work on current master. There's something still going on with STDIN/STDOUT processing.\n\nI tried `((echo -n 123; sleep 2; echo -n 456) |./src/curl --trace -T . -N http://127.0.0.1:3000/stream)` with current master, running https://github.com/denandz/httpstream2tcp pointed to a netcat listener running on localhost (`cargo run -- -c 127.0.0.1:1234` and `nc -v -k -l -p 1234`) to rule out issues with httpstream2tcp, and that worked as expected too\n\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930388755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930408235","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2930408235","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2930408235,"node_id":"IC_kwDOAAiu0c6uqnsr","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T12:18:43Z","updated_at":"2025-06-02T12:19:07Z","body":"Here is the log from httpstream2tcp with the current curl master, only one packet is received from curl. Lines starting with `->` come from curl, `<-` come from the TCP socket:\n\n```\ndoi@koplje:~/src/httpstream2tcp$ cargo run -- -v\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running `target/debug/httpstream2tcp -v`\n[.] Listening on 0.0.0.0:3000\n[.] Will connect to 127.0.0.1:22\n[+] PUT to /stream from 127.0.0.1:43034\n-> Ok(b\"SSH-2.0-OpenSSH_9.6\\r\\n\")\n<- b\"SSH-2.0-OpenSSH_9.6\\r\\n\"\n<- b\"\\0\\0\\x03\\xcc\\x08...yoink...0\\0\\0\\0\\0\\0\\0\\0\\0\"\n^C\n```\n\nVersus 8.13.1 below, which is very slow but does work:\n\n```\n~/src/httpstream2tcp$ cargo run -- -v\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running `target/debug/httpstream2tcp -v`\n[.] Listening on 0.0.0.0:3000\n[.] Will connect to 127.0.0.1:22\n[+] PUT to /stream from 127.0.0.1:52666\n-> Ok(b\"SSH-2.0-OpenSSH_9.6\\r\\n\")\n<- b\"SSH-2.0-OpenSSH_9.6\\r\\n\"\n<- b\"\\0\\0\\x03\\xcc\\x08...yoink...\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"\n-> Ok(b\"\\0\\0\\x05l\\x0...yoink...\\0\\0\")\n<- b\"\\0\\0\\...yoink...a3+\\xf8=G\\xa9\"\n-> Ok(b\"\\0\\0...yoink...d3c\\xa4\")\n<- b\"\\0\\0\\0...yoink...\\x8f\"\n-> Ok(b\"\\0\\0\\00...yoink...\\x96\")\n...etcetera...\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930408235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930680450","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2930680450","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2930680450,"node_id":"IC_kwDOAAiu0c6urqKC","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T13:17:54Z","updated_at":"2025-06-02T13:17:54Z","body":"Not to say \"have you tried switching it off and on again\", but are you sure that cargo command picks up the correct curl?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930680450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932342902","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2932342902","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2932342902,"node_id":"IC_kwDOAAiu0c6uyAB2","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T20:16:58Z","updated_at":"2025-06-02T20:18:19Z","body":"Always a fair thing to check! In this case cargo doesn't run curl, it's running an HTTP server. The curl command is specified manually in the SSH invocation as in https://github.com/curl/curl/issues/17513#issuecomment-2930252201\n\nEG: `ssh -v -o ProxyCommand=\"./curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" 127.0.0.1`\n\nWhen the current master branch curl is used in the above it only reads the first STDIN message from SSH. 8.13.1 works, but is very slow, 8.7.1 works perfectly.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932342902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T04:24:17Z","updated_at":"2025-06-03T04:24:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1","repository_url":"https://api.github.com/repos/denandz/httpstream2tcp","labels_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1/comments","events_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1/events","html_url":"https://github.com/denandz/httpstream2tcp/issues/1","id":3112333110,"node_id":"I_kwDOOyYILs65gm82","number":1,"title":"Performance issues with Curl >= 8.8.0","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-03T04:24:16Z","updated_at":"2025-06-28T03:55:08Z","closed_at":"2025-06-28T03:54:28Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":992348206,"node_id":"R_kgDOOyYILg","name":"httpstream2tcp","full_name":"denandz/httpstream2tcp","private":false,"owner":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/denandz/httpstream2tcp","description":"HTTP chunked encoded streams to TCP sockets with Rust and Hyper","fork":false,"url":"https://api.github.com/repos/denandz/httpstream2tcp","forks_url":"https://api.github.com/repos/denandz/httpstream2tcp/forks","keys_url":"https://api.github.com/repos/denandz/httpstream2tcp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/denandz/httpstream2tcp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/denandz/httpstream2tcp/teams","hooks_url":"https://api.github.com/repos/denandz/httpstream2tcp/hooks","issue_events_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/events{/number}","events_url":"https://api.github.com/repos/denandz/httpstream2tcp/events","assignees_url":"https://api.github.com/repos/denandz/httpstream2tcp/assignees{/user}","branches_url":"https://api.github.com/repos/denandz/httpstream2tcp/branches{/branch}","tags_url":"https://api.github.com/repos/denandz/httpstream2tcp/tags","blobs_url":"https://api.github.com/repos/denandz/httpstream2tcp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/denandz/httpstream2tcp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/denandz/httpstream2tcp/git/refs{/sha}","trees_url":"https://api.github.com/repos/denandz/httpstream2tcp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/denandz/httpstream2tcp/statuses/{sha}","languages_url":"https://api.github.com/repos/denandz/httpstream2tcp/languages","stargazers_url":"https://api.github.com/repos/denandz/httpstream2tcp/stargazers","contributors_url":"https://api.github.com/repos/denandz/httpstream2tcp/contributors","subscribers_url":"https://api.github.com/repos/denandz/httpstream2tcp/subscribers","subscription_url":"https://api.github.com/repos/denandz/httpstream2tcp/subscription","commits_url":"https://api.github.com/repos/denandz/httpstream2tcp/commits{/sha}","git_commits_url":"https://api.github.com/repos/denandz/httpstream2tcp/git/commits{/sha}","comments_url":"https://api.github.com/repos/denandz/httpstream2tcp/comments{/number}","issue_comment_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/comments{/number}","contents_url":"https://api.github.com/repos/denandz/httpstream2tcp/contents/{+path}","compare_url":"https://api.github.com/repos/denandz/httpstream2tcp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/denandz/httpstream2tcp/merges","archive_url":"https://api.github.com/repos/denandz/httpstream2tcp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/denandz/httpstream2tcp/downloads","issues_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues{/number}","pulls_url":"https://api.github.com/repos/denandz/httpstream2tcp/pulls{/number}","milestones_url":"https://api.github.com/repos/denandz/httpstream2tcp/milestones{/number}","notifications_url":"https://api.github.com/repos/denandz/httpstream2tcp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/denandz/httpstream2tcp/labels{/name}","releases_url":"https://api.github.com/repos/denandz/httpstream2tcp/releases{/id}","deployments_url":"https://api.github.com/repos/denandz/httpstream2tcp/deployments","created_at":"2025-05-29T02:32:33Z","updated_at":"2025-10-30T11:02:46Z","pushed_at":"2025-06-02T12:42:14Z","git_url":"git://github.com/denandz/httpstream2tcp.git","ssh_url":"git@github.com:denandz/httpstream2tcp.git","clone_url":"https://github.com/denandz/httpstream2tcp.git","svn_url":"https://github.com/denandz/httpstream2tcp","homepage":null,"size":44004,"stargazers_count":3,"watchers_count":3,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":3,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"HTTPStream2TCP used with `curl` versions greater than 8.7.1 have very poor performance. This appears to be due to STDIN handling logic changes in Curl that first appeared in curl 8.8.0. When using `HTTPStream2TCP` with SCP and curl >= 8.8.0, we see very poor performance eventually ramping up to about 10MB/s. Curl 8.7.1 sees 480+MB/s.\n\nCommands below:\n\n```\ndoi@koplje:~/tmp/curls/curl/src$ scp -o ProxyCommand=\"~/tmp/curls/curl-8.13.0/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" ~/tmp/test.dat 127.0.0.1:weh\ntest.dat         2%  173MB  10.1MB/s   13:11 ETA^C\ndoi@koplje:~/tmp/curls/curl/src$ scp -o ProxyCommand=\"~/tmp/curls/curl-8.7.1/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" ~/tmp/test.dat 127.0.0.1:weh\ntest.dat         38% 3142MB 486.4MB/s   00:10 ETA^C\n```\n\nThis seems to be a Curl issue, rather than an HTTPStream2TCP issue. Tracked here: https://github.com/curl/curl/issues/17513","reactions":{"url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/denandz/httpstream2tcp/issues/1/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934270102","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934270102","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934270102,"node_id":"IC_kwDOAAiu0c6u5WiW","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T09:09:09Z","updated_at":"2025-06-03T09:09:09Z","body":"> When the current master branch curl is used in the above it only reads the first STDIN message from SSH. 8.13.1 works, but is very slow, 8.7.1 works perfectly.\n\nThe slowness we can remedy. We currently pick up on 64KB max from stdin in an attempt and should be able to loop that for higher throughput.\n\nHowever, why the fix is not working in your server remains a mystery. Can you produce a trace file from inside your server using `--trace wtf.log --trace-config all`?\n\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934270102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934410873","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934410873","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934410873,"node_id":"IC_kwDOAAiu0c6u5455","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T09:46:57Z","updated_at":"2025-06-03T09:53:44Z","body":"Absolutely, `wtf.log` attached. Ran with `ssh -v -o ProxyCommand=\"./curl --trace wtf.log --trace-config all -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" 127.0.0.1`\n\n[wtf.log](https://github.com/user-attachments/files/20566325/wtf.log)\n\nThis is on the current master branch, I left it stalled for a bit and then CTRL-C-ed","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934410873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934481755","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934481755","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934481755,"node_id":"IC_kwDOAAiu0c6u6KNb","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T10:05:35Z","updated_at":"2025-06-03T10:05:35Z","body":"Here is a log from 8.13 incase that's helpful for diffing against. This version works, I didn't go all the way through to an interactive shell just to keep the log size manageable. Ran with `ssh -v -o ProxyCommand=\"~/tmp/curls/curl-8.13.0/src/curl -s -N 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01 --trace wtf-8.13.0.log --trace-config all\" -l user 127.0.0.1`\n\n[wtf-8.13.0.log](https://github.com/user-attachments/files/20566723/wtf-8.13.0.log)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934481755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934675922","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934675922","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934675922,"node_id":"IC_kwDOAAiu0c6u65nS","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T10:55:04Z","updated_at":"2025-06-03T10:57:09Z","body":"Hmm, the initial PUT request and a 200 response work the same. Thereafter, the SSH traffic really starts. The initial byte chunks exchanged are of same length.\n\n```\n8.13 payload exchange (read/write from/to client):\n22:02:50.345701 [0-0] == Info: [0-0] [READ] cr_in_read(len=65524, total=-1, read=21) -> 0, nread=21, eos=0\n22:02:50.395826 [0-0] == Info: [0-0] [WRITE] [OUT] wrote 21 body bytes -> 21\n22:02:50.395833 [0-0] == Info: [0-0] [WRITE] [OUT] wrote 976 body bytes -> 976\n22:02:51.496251 [0-0] == Info: [0-0] [READ] cr_in_read(len=65524, total=-1, read=1461) -> 0, nread=1440, eos=0\n22:02:51.546705 [0-0] == Info: [0-0] [WRITE] [OUT] wrote 500 body bytes -> 500\n22:02:52.647201 [0-0] == Info: [0-0] [READ] cr_in_read(len=65524, total=-1, read=1597) -> 0, nread=136, eos=0\n```\n\n```\n8.14 payload exchange (read/write from/to client):\n21:44:36.456145 [0-0] == Info: [0-0] [READ] cr_in_read(len=65524, total=-1, read=21) -> 0, nread=21, eos=0\n21:44:36.506356 [0-0] == Info: [0-0] [WRITE] [OUT] wrote 21 body bytes -> 21\n21:44:36.556485 [0-0] == Info: [0-0] [WRITE] [OUT] wrote 976 body bytes -> 976\n...nothing more from stdin or server...\n```\n\nTimeline:\n* Initially, both versions send 21 bytes to the server\n* Server replies with 21 bytes and then 976 bytes\n* then it diverges\n  * 8.13 reads 1440 bytes from `stdin`\n  * 8.14 reads continuously from `stdin` but gets no data\n\nThe curl code that reads from `stdin` is unchanged between 8.13 and 8.14 as far as I can tell (`src/tool_cb_rea.c`).\n\nSo, why the 1461 bytes are not sent by SSH to the 8.14 curl `proxyCommand` I do not know. I do not see any mistake in curl trying to read the input.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934675922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934763657","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934763657","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934763657,"node_id":"IC_kwDOAAiu0c6u7PCJ","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T11:19:42Z","updated_at":"2025-06-03T11:28:34Z","body":"@denandz there seems to be a curious bug in curl 8.14 command option handling. Can you replace `-N`  with `--no-buffer` and check if that fixes things?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934763657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17955645165,"node_id":"MEE_lADOAAiu0c65SWa_zwAAAAQuPWbt","url":"https://api.github.com/repos/curl/curl/issues/events/17955645165","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-03T11:19:44Z","performed_via_github_app":null},{"id":17955645191,"node_id":"SE_lADOAAiu0c65SWa_zwAAAAQuPWcH","url":"https://api.github.com/repos/curl/curl/issues/events/17955645191","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-03T11:19:44Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934936937","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934936937","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934936937,"node_id":"IC_kwDOAAiu0c6u75Vp","user":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T12:07:29Z","updated_at":"2025-06-03T12:07:29Z","body":"That did it!\n\n`ssh -v -o ProxyCommand=\"./curl -s --no-buffer 127.0.0.1:3000/stream -T . --no-progress-meter --expect100-timeout 0.01\" 127.0.0.1` works the same as 8.13","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934936937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"denandz","id":5291556,"node_id":"MDQ6VXNlcjUyOTE1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5291556?v=4","gravatar_id":"","url":"https://api.github.com/users/denandz","html_url":"https://github.com/denandz","followers_url":"https://api.github.com/users/denandz/followers","following_url":"https://api.github.com/users/denandz/following{/other_user}","gists_url":"https://api.github.com/users/denandz/gists{/gist_id}","starred_url":"https://api.github.com/users/denandz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denandz/subscriptions","organizations_url":"https://api.github.com/users/denandz/orgs","repos_url":"https://api.github.com/users/denandz/repos","events_url":"https://api.github.com/users/denandz/events{/privacy}","received_events_url":"https://api.github.com/users/denandz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934948604","html_url":"https://github.com/curl/curl/issues/17513#issuecomment-2934948604","issue_url":"https://api.github.com/repos/curl/curl/issues/17513","id":2934948604,"node_id":"IC_kwDOAAiu0c6u78L8","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-03T12:11:19Z","updated_at":"2025-06-03T12:11:19Z","body":"Thanks! Excellent, we can merge the fix in time for tomorrow's 8.14.1 release. Let's open a new issue for the performance issues after that. I dare not make changes related to that now. \n\ncc @bagder \n\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2934948604/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17956651213,"node_id":"MEE_lADOAAiu0c65SWa_zwAAAAQuTMDN","url":"https://api.github.com/repos/curl/curl/issues/events/17956651213","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-03T12:11:20Z","performed_via_github_app":null}]