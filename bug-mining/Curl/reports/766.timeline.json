[{"id":17453379193,"node_id":"LE_lADOAAiu0c60er0PzwAAAAQQTW55","url":"https://api.github.com/repos/curl/curl/issues/events/17453379193","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-04-29T11:44:05Z","label":{"name":"connecting & proxies","color":"c2e0c6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2838743529","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2838743529","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2838743529,"node_id":"IC_kwDOAAiu0c6pM8np","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-29T12:55:41Z","updated_at":"2025-04-29T12:55:56Z","body":"If there is an existing *alive* connection to a host, libcurl will try to reuse that connection unless you tell it otherwise.\n\nIn this scenario it sounds as if that first connection is still deemed fine so libcurl tries to add more transfers to it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2838743529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2840460111","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2840460111","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2840460111,"node_id":"IC_kwDOAAiu0c6pTftP","user":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-29T23:34:52Z","updated_at":"2025-04-29T23:34:52Z","body":"Mobile clients often change network interfaces, so better/smarter connection reuse would be very welcome in libcurl.\n\nAs a point of comparison, Envoy Mobile will[^1] drain the current connections and will send new requests on a new connection if there's a network change (and of course, it will reuse this new connection until there is another network change). The performance improvements are quite measurable, especially on mobile clients.\n\nIt's probably out of scope for libcurl to implement platform-specific network monitoring (e.g., `nw_path_monitor_t` for Apple platforms) but it would be really great if libcurl had some kind of option that users could use to inform it that it shouldn't reuse existing connections and future requests should use a fresh connection pool. For example, some kind of curlopt that says \"don't reuse any connections that were created before Unix timestamp T\" (this is just a dumb example and is not actually a specific API suggestion).\n\nThe existing `CURLOPT_FRESH_CONNECT` and `CURLOPT_FORBID_REUSE` aren't sufficient to achieve this, unfortunately. They control connection reuse, but they don't allow users to establish a whole new connection pool that can be reused going forward for new requests.\n\n[^1]: I don't know if this is the default behavior or if it's controlled by a user setting.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2840460111/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17478684116,"node_id":"SE_lADOAAiu0c60er0PzwAAAAQRz43U","url":"https://api.github.com/repos/curl/curl/issues/events/17478684116","actor":{"login":"MichalPetryka","id":35800402,"node_id":"MDQ6VXNlcjM1ODAwNDAy","avatar_url":"https://avatars.githubusercontent.com/u/35800402?v=4","gravatar_id":"","url":"https://api.github.com/users/MichalPetryka","html_url":"https://github.com/MichalPetryka","followers_url":"https://api.github.com/users/MichalPetryka/followers","following_url":"https://api.github.com/users/MichalPetryka/following{/other_user}","gists_url":"https://api.github.com/users/MichalPetryka/gists{/gist_id}","starred_url":"https://api.github.com/users/MichalPetryka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MichalPetryka/subscriptions","organizations_url":"https://api.github.com/users/MichalPetryka/orgs","repos_url":"https://api.github.com/users/MichalPetryka/repos","events_url":"https://api.github.com/users/MichalPetryka/events{/privacy}","received_events_url":"https://api.github.com/users/MichalPetryka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-04-30T19:02:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2844545468","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2844545468","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2844545468,"node_id":"IC_kwDOAAiu0c6pjFG8","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-01T09:37:31Z","updated_at":"2025-05-01T09:37:31Z","body":"> it would be really great if libcurl had some kind of option that users could use to inform it that it shouldn't reuse existing connections and future requests should use a fresh connection pool\n\nI agree. If there has been a network change confirmed, it would be good to be able to just mark all existing alive connections as *not suitable for reuse anymore*, or perhaps even forcibly just close them all since they can't be used. There are also a few other areas in curl (like alt-svc) that would benefit from knowing when a *network change* has happened.\n\nWe would gladly welcome a PR with this feature.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2844545468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17485764861,"node_id":"LE_lADOAAiu0c60er0PzwAAAAQSO5j9","url":"https://api.github.com/repos/curl/curl/issues/events/17485764861","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-01T09:37:58Z","label":{"name":"known-issue","color":"eb6420"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2845440837","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2845440837","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2845440837,"node_id":"IC_kwDOAAiu0c6pmftF","user":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-01T18:31:33Z","updated_at":"2025-05-01T18:32:53Z","body":"I started poking around the code. One observation (which is obvious in hindsight rereading the docs) is that users can create a new multi handle (`CURLM`) to create a new connection pool, which presumably mitigates some of this problem. But then you also get a new DNS cache, cert cache, etc. which isn't great. But still, if this is causing significant issues for users this might be something to try until dedicated support exists.\n\nMy primary interest is the multi API, so that's where I'm focusing for now. I've never looked at libcurl's code so I want to run my thoughts by the experts:\n\n- Add a `BIT(stale)` to `connectdata` to indicate whether a connection has become stale (\"stale\" might not be the best name; suggestions welcome). Marking a connection as stale prevents it from being reused, but it doesn't proactively close the connection.\n- A stale connection will close as soon as there aren't any requests using it. `Curl_conn_upkeep` won't try to keep the connection alive.\n- Stale connections shouldn't count towards a `cpool`'s limits. This will probably require some extra bookkeeping in `cpool`.\n- Add a new public API function (e.g., `curl_multi_network_changed()`) that users can call whenever there's a network change. All the connections in the multi's cpool get marked as stale.\n    - I'm not sure if it's helpful but the function could potentially take a bitmask of network types (e.g., wired, Wi-Fi, 4G LTE, 5G SA, 5G NSA, etc.) which could also signal that no network is available if it's 0. That's probably overkill though.\n\nDoes this sound like a reasonable avenue to explore? I'm sure I'm overlooking many things but if this particular direction is doomed I'd prefer to alter course sooner rather than later.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2845440837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Cering","id":9027486,"node_id":"MDQ6VXNlcjkwMjc0ODY=","avatar_url":"https://avatars.githubusercontent.com/u/9027486?v=4","gravatar_id":"","url":"https://api.github.com/users/Cering","html_url":"https://github.com/Cering","followers_url":"https://api.github.com/users/Cering/followers","following_url":"https://api.github.com/users/Cering/following{/other_user}","gists_url":"https://api.github.com/users/Cering/gists{/gist_id}","starred_url":"https://api.github.com/users/Cering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cering/subscriptions","organizations_url":"https://api.github.com/users/Cering/orgs","repos_url":"https://api.github.com/users/Cering/repos","events_url":"https://api.github.com/users/Cering/events{/privacy}","received_events_url":"https://api.github.com/users/Cering/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-03T16:11:11Z","updated_at":"2025-05-03T16:11:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/17246","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/17246/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/17246/comments","events_url":"https://api.github.com/repos/curl/curl/issues/17246/events","html_url":"https://github.com/curl/curl/pull/17246","id":3037487759,"node_id":"PR_kwDOAAiu0c6U0_vg","number":17246,"title":"multi: support mark conncache as stale when network change","user":{"login":"Cering","id":9027486,"node_id":"MDQ6VXNlcjkwMjc0ODY=","avatar_url":"https://avatars.githubusercontent.com/u/9027486?v=4","gravatar_id":"","url":"https://api.github.com/users/Cering","html_url":"https://github.com/Cering","followers_url":"https://api.github.com/users/Cering/followers","following_url":"https://api.github.com/users/Cering/following{/other_user}","gists_url":"https://api.github.com/users/Cering/gists{/gist_id}","starred_url":"https://api.github.com/users/Cering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cering/subscriptions","organizations_url":"https://api.github.com/users/Cering/orgs","repos_url":"https://api.github.com/users/Cering/repos","events_url":"https://api.github.com/users/Cering/events{/privacy}","received_events_url":"https://api.github.com/users/Cering/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":198911993,"node_id":"MDU6TGFiZWwxOTg5MTE5OTM=","url":"https://api.github.com/repos/curl/curl/labels/feature-window","name":"feature-window","color":"f9ecb3","default":false,"description":"A merge of this requires an open feature window"},{"id":887227423,"node_id":"MDU6TGFiZWw4ODcyMjc0MjM=","url":"https://api.github.com/repos/curl/curl/labels/tests","name":"tests","color":"a7a8e8","default":false,"description":""},{"id":1117926199,"node_id":"MDU6TGFiZWwxMTE3OTI2MTk5","url":"https://api.github.com/repos/curl/curl/labels/libcurl%20API","name":"libcurl API","color":"fef2c0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2025-05-03T16:11:10Z","updated_at":"2025-06-23T10:51:41Z","closed_at":"2025-06-23T10:51:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T12:40:38Z","pushed_at":"2025-11-10T12:40:38Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":40,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/17246","html_url":"https://github.com/curl/curl/pull/17246","diff_url":"https://github.com/curl/curl/pull/17246.diff","patch_url":"https://github.com/curl/curl/pull/17246.patch","merged_at":null},"body":"this PR is for fix https://github.com/curl/curl/issues/17225\r\n\r\ncurl_multi_setopt add a `CURLMOPT_CONNCACHE_STALE` option for network changing. \r\n\r\nIf set `CURLMOPT_CONNCACHE_STALE` to 1, libcurl ignore all connections in pool that were created earlier than Curl_now() when MSTATE_CONNECT state, in order to prevent their reuse(because these old connections were invalid).","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/17246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/17246/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2848699890","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2848699890","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2848699890,"node_id":"IC_kwDOAAiu0c6py7Xy","user":{"login":"Cering","id":9027486,"node_id":"MDQ6VXNlcjkwMjc0ODY=","avatar_url":"https://avatars.githubusercontent.com/u/9027486?v=4","gravatar_id":"","url":"https://api.github.com/users/Cering","html_url":"https://github.com/Cering","followers_url":"https://api.github.com/users/Cering/followers","following_url":"https://api.github.com/users/Cering/following{/other_user}","gists_url":"https://api.github.com/users/Cering/gists{/gist_id}","starred_url":"https://api.github.com/users/Cering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cering/subscriptions","organizations_url":"https://api.github.com/users/Cering/orgs","repos_url":"https://api.github.com/users/Cering/repos","events_url":"https://api.github.com/users/Cering/events{/privacy}","received_events_url":"https://api.github.com/users/Cering/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-03T16:31:10Z","updated_at":"2025-05-03T16:31:10Z","body":"Thanks for @mjbshaw 's suggestion!\n\nhttps://github.com/curl/curl/pull/17246 is my temporary solution: when a network change is detected from up layer(android or ios system api), set a `curl_multi_setopt(multi_handle, CURLMOPT_CONNCACHE_STALE, 1L);` for libcurl, and it will not reuse the old connections in cache from now anymore.\n\nMaybe some rough and hope for more suggestions","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2848699890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Cering","id":9027486,"node_id":"MDQ6VXNlcjkwMjc0ODY=","avatar_url":"https://avatars.githubusercontent.com/u/9027486?v=4","gravatar_id":"","url":"https://api.github.com/users/Cering","html_url":"https://github.com/Cering","followers_url":"https://api.github.com/users/Cering/followers","following_url":"https://api.github.com/users/Cering/following{/other_user}","gists_url":"https://api.github.com/users/Cering/gists{/gist_id}","starred_url":"https://api.github.com/users/Cering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cering/subscriptions","organizations_url":"https://api.github.com/users/Cering/orgs","repos_url":"https://api.github.com/users/Cering/repos","events_url":"https://api.github.com/users/Cering/events{/privacy}","received_events_url":"https://api.github.com/users/Cering/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17508207009,"node_id":"MEE_lADOAAiu0c60er0PzwAAAAQTkgmh","url":"https://api.github.com/repos/curl/curl/issues/events/17508207009","actor":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-03T16:31:11Z","performed_via_github_app":null},{"id":17508207013,"node_id":"SE_lADOAAiu0c60er0PzwAAAAQTkgml","url":"https://api.github.com/repos/curl/curl/issues/events/17508207013","actor":{"login":"mjbshaw","id":1204698,"node_id":"MDQ6VXNlcjEyMDQ2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204698?v=4","gravatar_id":"","url":"https://api.github.com/users/mjbshaw","html_url":"https://github.com/mjbshaw","followers_url":"https://api.github.com/users/mjbshaw/followers","following_url":"https://api.github.com/users/mjbshaw/following{/other_user}","gists_url":"https://api.github.com/users/mjbshaw/gists{/gist_id}","starred_url":"https://api.github.com/users/mjbshaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjbshaw/subscriptions","organizations_url":"https://api.github.com/users/mjbshaw/orgs","repos_url":"https://api.github.com/users/mjbshaw/repos","events_url":"https://api.github.com/users/mjbshaw/events{/privacy}","received_events_url":"https://api.github.com/users/mjbshaw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-03T16:31:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2969592741","html_url":"https://github.com/curl/curl/issues/17225#issuecomment-2969592741","issue_url":"https://api.github.com/repos/curl/curl/issues/17225","id":2969592741,"node_id":"IC_kwDOAAiu0c6xAGOl","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-13T08:51:32Z","updated_at":"2025-06-13T11:34:06Z","body":"See my [comment](https://github.com/curl/curl/pull/17246#issuecomment-2969589658) about the PR on how we could tackle this.\n\nPropose #17613 to handle this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2969592741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18158332407,"node_id":"SE_lADOAAiu0c60er0PzwAAAAQ6Uin3","url":"https://api.github.com/repos/curl/curl/issues/events/18158332407","actor":{"login":"denizsokmen","id":3472444,"node_id":"MDQ6VXNlcjM0NzI0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3472444?v=4","gravatar_id":"","url":"https://api.github.com/users/denizsokmen","html_url":"https://github.com/denizsokmen","followers_url":"https://api.github.com/users/denizsokmen/followers","following_url":"https://api.github.com/users/denizsokmen/following{/other_user}","gists_url":"https://api.github.com/users/denizsokmen/gists{/gist_id}","starred_url":"https://api.github.com/users/denizsokmen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denizsokmen/subscriptions","organizations_url":"https://api.github.com/users/denizsokmen/orgs","repos_url":"https://api.github.com/users/denizsokmen/repos","events_url":"https://api.github.com/users/denizsokmen/events{/privacy}","received_events_url":"https://api.github.com/users/denizsokmen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-15T17:53:43Z","performed_via_github_app":null},{"id":18874168952,"node_id":"CE_lADOAAiu0c60er0PzwAAAARk_PZ4","url":"https://api.github.com/repos/curl/curl/issues/events/18874168952","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"55c045c86338bfcc1de676c496f1db084b7410d4","commit_url":"https://api.github.com/repos/curl/curl/commits/55c045c86338bfcc1de676c496f1db084b7410d4","created_at":"2025-07-29T09:18:57Z","state_reason":null,"performed_via_github_app":null},{"id":18874196282,"node_id":"REFE_lADOAAiu0c60er0PzwAAAARk_WE6","url":"https://api.github.com/repos/curl/curl/issues/events/18874196282","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"55c045c86338bfcc1de676c496f1db084b7410d4","commit_url":"https://api.github.com/repos/Reality2byte/curl/commits/55c045c86338bfcc1de676c496f1db084b7410d4","created_at":"2025-07-29T09:20:06Z","performed_via_github_app":null}]