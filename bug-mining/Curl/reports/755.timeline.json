[{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724191496","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724191496","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724191496,"node_id":"IC_kwDOAAiu0c6iX90I","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T09:51:04Z","updated_at":"2025-03-14T09:51:04Z","body":"BTW: policy selection does fundamentally work in FreeBSD. If I use FreeBSD's own `fetch` tool:\n\n```\nroot@freebsd:~ # fetch -q -o - https://my.ip.fi\n87.138.*.*\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724191496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724210782","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724210782","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724210782,"node_id":"IC_kwDOAAiu0c6iYChe","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:00:27Z","updated_at":"2025-03-14T10:00:27Z","body":"curl uses `getaddrinfo` to resolve hostnames and walks through the list in the order the addresses are returned. I believe that is the correct method. If this is the wrong order, I believe your getaddrinfo implementation might be doing it wrong.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724210782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16769536224,"node_id":"LE_lADOAAiu0c6uB1vBzwAAAAPnitDg","url":"https://api.github.com/repos/curl/curl/issues/events/16769536224","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-03-14T10:00:35Z","label":{"name":"name lookup","color":"0052cc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724213529","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724213529","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724213529,"node_id":"IC_kwDOAAiu0c6iYDMZ","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:01:50Z","updated_at":"2025-03-14T10:01:50Z","body":"Oh, plus happy eyeballs of course, which might alter the order depending on what works or not. Maybe fetch doesn't do happy eyeballs?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724213529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724215808","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724215808","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724215808,"node_id":"IC_kwDOAAiu0c6iYDwA","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:02:55Z","updated_at":"2025-03-14T10:02:55Z","body":"@bagder I think we look for the first ipv6 if present and eyeballing.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724215808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16769569611,"node_id":"MEE_lADOAAiu0c6uB1vBzwAAAAPni1NL","url":"https://api.github.com/repos/curl/curl/issues/events/16769569611","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-03-14T10:02:57Z","performed_via_github_app":null},{"id":16769569630,"node_id":"SE_lADOAAiu0c6uB1vBzwAAAAPni1Ne","url":"https://api.github.com/repos/curl/curl/issues/events/16769569630","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-03-14T10:02:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724219785","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724219785","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724219785,"node_id":"IC_kwDOAAiu0c6iYEuJ","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:04:53Z","updated_at":"2025-03-14T10:04:53Z","body":"Yeah, it makes IPv6 preferred at a higher prio than the gai.conf specifies. On purpose.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724219785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724233051","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724233051","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724233051,"node_id":"IC_kwDOAAiu0c6iYH9b","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:11:12Z","updated_at":"2025-03-14T10:11:12Z","body":"This is not a bug though. We can't really do HE and respect gai.conf at the same time.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724233051/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16769682208,"node_id":"LE_lADOAAiu0c6uB1vBzwAAAAPnjQsg","url":"https://api.github.com/repos/curl/curl/issues/events/16769682208","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-03-14T10:11:18Z","label":{"name":"not-a-curl-bug","color":"d4c5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724234940","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724234940","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724234940,"node_id":"IC_kwDOAAiu0c6iYIa8","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:12:05Z","updated_at":"2025-03-14T10:13:19Z","body":"I do not quite understand - on Linux CURL does follow `/etc/gai.conf`. If I switch the priority from 100 to 10, it will return an IPv6 address. Back to 100 - IPv4 again.\n\nThat's why I included the output I get on a Debian VM.\n\nWas HE introduced at some point between CURL 7.88.1 and 8.11.1?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724234940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724243639","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724243639","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724243639,"node_id":"IC_kwDOAAiu0c6iYKi3","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:16:08Z","updated_at":"2025-03-14T10:16:08Z","body":"> Was HE introduced at some point between CURL 7.88.1 and 8.11.1?\n\nNo HE has been there for much longer, but the code has been tweaked and polished so subtle changes in behavior is to be expected.\n\nIf you add verbose output (with a sufficient number of `-v`) to your command lines you can see how curl iterates over the (two) lists of addresses.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724243639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724244230","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724244230","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724244230,"node_id":"IC_kwDOAAiu0c6iYKsG","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:16:26Z","updated_at":"2025-03-14T10:16:26Z","body":"Also on FreeBSD there's getaddrinfo(1):\n\nWith policy set to prefer IPv4:\n\n```\nroot@freebsd:~ # getaddrinfo my.ip.fi\ndgram inet udp 91.198.120.42 0\nstream inet tcp 91.198.120.42 0\nseqpacket inet sctp 91.198.120.42 0\ndgram inet6 udp 2001:67c:17a0::2:101 0\nstream inet6 tcp 2001:67c:17a0::2:101 0\nseqpacket inet6 sctp 2001:67c:17a0::2:101 0\n```\n\nWith policy set to prefer IPv6:\n\n```\nroot@freebsd:~ # getaddrinfo my.ip.fi\ndgram inet6 udp 2001:67c:17a0::2:101 0\nstream inet6 tcp 2001:67c:17a0::2:101 0\nseqpacket inet6 sctp 2001:67c:17a0::2:101 0\ndgram inet udp 91.198.120.42 0\nstream inet tcp 91.198.120.42 0\nseqpacket inet sctp 91.198.120.42 0\n```\n\nSo yes, getaddrinfo(3) does seem to return the addresses in order set by the policy as confirmed by the command line tool.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724244230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724250330","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724250330","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724250330,"node_id":"IC_kwDOAAiu0c6iYMLa","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:19:30Z","updated_at":"2025-03-14T10:19:30Z","body":"> So yes, getaddrinfo(3) does seem to return the addresses in order set by the policy as confirmed by the command line tool.\n\nYes, but getaddrinfo() does not reveal this hint in its API so curl is unaware. It has its own priority, which sets IPv6 before IPv4 according to RFC 6555.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724250330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724254893","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724254893","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724254893,"node_id":"IC_kwDOAAiu0c6iYNSt","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:21:53Z","updated_at":"2025-03-14T10:21:53Z","body":"I suspect maybe the older curl might have started the HE with the family first in the line, and not necessarily with IPv6 which could explain the difference in behavior.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724254893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724262121","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724262121","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724262121,"node_id":"IC_kwDOAAiu0c6iYPDp","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:25:46Z","updated_at":"2025-03-14T10:25:46Z","body":"Interesting ...\n\nDebian, CURL 7.88.1:\n\n```\nroot@debian:~# curl -vvv my.ip.fi\n*   Trying 91.198.120.42:80...\n* Connected to my.ip.fi (91.198.120.42) port 80 (#0)\n```\n\nFreeBSD, CURL 8.11.1:\n\n```\nroot@freebsd:~ # curl -vvv my.ip.fi\n11:21:47.628309 [0-x] == Info: [READ] client_reset, clear readers\n11:21:47.631145 [0-0] == Info: Host my.ip.fi:80 was resolved.\n11:21:47.631217 [0-0] == Info: IPv6: 2001:67c:17a0::2:101\n11:21:47.631262 [0-0] == Info: IPv4: 91.198.120.42\n11:21:47.631307 [0-0] == Info: [SETUP] added\n11:21:47.631357 [0-0] == Info:   Trying [2001:67c:17a0::2:101]:80...\n11:21:47.665239 [0-0] == Info: Connected to my.ip.fi (2001:67c:17a0::2:101) port 80\n```\n\nSo at least a bit inconsistent. Possibly the Debian folks introduced their own patches so it follows `/etc/gai.conf`? \n\nDo you have a different Linux distro and/or a more current CURL on a dual stack Linux host within reach for a quick check?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724262121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724268358","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724268358","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724268358,"node_id":"IC_kwDOAAiu0c6iYQlG","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:29:07Z","updated_at":"2025-03-14T10:29:07Z","body":"> So at least a bit inconsistent. Possibly the Debian folks introduced their own patches so it follows /etc/gai.conf?\n\nNope they don't. It is probably the difference I mentioned.\n\nI'm not sure looking for differences in older versions is too important. The question is rather if curl should do something differently than what it currently does.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724268358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724288707","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2724288707","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2724288707,"node_id":"IC_kwDOAAiu0c6iYVjD","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-14T10:39:47Z","updated_at":"2025-03-14T10:39:47Z","body":"Section 6 of RFC 6555 reads:\n\n```\n6. Example Algorithm\n\n   What follows is the algorithm implemented in Google Chrome and\n   Mozilla Firefox.\n\n   1.  Call getaddinfo(), which returns a list of IP addresses sorted by\n       the host's address preference policy.\n\n   2.  Initiate a connection attempt with the first address in that list\n       (e.g., IPv6).\n\n   3.  If that connection does not complete within a short period of\n       time (Firefox and Chrome use 300 ms), initiate a connection\n       attempt with the first address belonging to the other address\n       family (e.g., IPv4).\n\n   4.  The first connection that is established is used.  The other\n       connection is discarded.\n```\n\nI read from that section that the host's preference of addresses should be followed initially.\nWith the default being IPv6, of course, but if the host defines a different order, that takes priority.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2724288707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2739639057","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2739639057","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2739639057,"node_id":"IC_kwDOAAiu0c6jS5MR","user":{"login":"mkauf","id":12849992,"node_id":"MDQ6VXNlcjEyODQ5OTky","avatar_url":"https://avatars.githubusercontent.com/u/12849992?v=4","gravatar_id":"","url":"https://api.github.com/users/mkauf","html_url":"https://github.com/mkauf","followers_url":"https://api.github.com/users/mkauf/followers","following_url":"https://api.github.com/users/mkauf/following{/other_user}","gists_url":"https://api.github.com/users/mkauf/gists{/gist_id}","starred_url":"https://api.github.com/users/mkauf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkauf/subscriptions","organizations_url":"https://api.github.com/users/mkauf/orgs","repos_url":"https://api.github.com/users/mkauf/repos","events_url":"https://api.github.com/users/mkauf/events{/privacy}","received_events_url":"https://api.github.com/users/mkauf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-20T08:57:22Z","updated_at":"2025-03-20T08:57:22Z","body":"I also stumbled upon this lately. IPv6 is always preferred since #14768 (marked as \"fixes #14761\"). This can lead to a small delay when establishing connections if the system is unable to establish IPv6 connections.\n\nI think that the previous behavior is more correct. curl should act according to the system's preference in `/etc/gai.conf`.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2739639057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mkauf","id":12849992,"node_id":"MDQ6VXNlcjEyODQ5OTky","avatar_url":"https://avatars.githubusercontent.com/u/12849992?v=4","gravatar_id":"","url":"https://api.github.com/users/mkauf","html_url":"https://github.com/mkauf","followers_url":"https://api.github.com/users/mkauf/followers","following_url":"https://api.github.com/users/mkauf/following{/other_user}","gists_url":"https://api.github.com/users/mkauf/gists{/gist_id}","starred_url":"https://api.github.com/users/mkauf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkauf/subscriptions","organizations_url":"https://api.github.com/users/mkauf/orgs","repos_url":"https://api.github.com/users/mkauf/repos","events_url":"https://api.github.com/users/mkauf/events{/privacy}","received_events_url":"https://api.github.com/users/mkauf/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2739940173","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2739940173","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2739940173,"node_id":"IC_kwDOAAiu0c6jUCtN","user":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-20T10:51:36Z","updated_at":"2025-03-20T10:51:36Z","body":"The particular case that called for this issue is a system that does have both IPv6 and IPv4 connectivity but the customer needs IPv4 to be preferred because \"enterprise firewall admins\" :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2739940173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pmhausen","id":27051716,"node_id":"MDQ6VXNlcjI3MDUxNzE2","avatar_url":"https://avatars.githubusercontent.com/u/27051716?v=4","gravatar_id":"","url":"https://api.github.com/users/pmhausen","html_url":"https://github.com/pmhausen","followers_url":"https://api.github.com/users/pmhausen/followers","following_url":"https://api.github.com/users/pmhausen/following{/other_user}","gists_url":"https://api.github.com/users/pmhausen/gists{/gist_id}","starred_url":"https://api.github.com/users/pmhausen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmhausen/subscriptions","organizations_url":"https://api.github.com/users/pmhausen/orgs","repos_url":"https://api.github.com/users/pmhausen/repos","events_url":"https://api.github.com/users/pmhausen/events{/privacy}","received_events_url":"https://api.github.com/users/pmhausen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2740136370","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2740136370","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2740136370,"node_id":"IC_kwDOAAiu0c6jUymy","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-20T11:40:13Z","updated_at":"2025-03-20T11:40:13Z","body":"If we go for this, we need it to treat it with the resolve source in mind. Following the order returned should then only apply to sources like `getaddrinfo()`, but not to DoH where the order in which the A/AAAA queries are answered is not relevant.\n\nDon't know about cares, but I am sure @bagder has a better idea.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2740136370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16906825647,"node_id":"MEE_lADOAAiu0c6uB1vBzwAAAAPvua-v","url":"https://api.github.com/repos/curl/curl/issues/events/16906825647","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-03-20T11:40:14Z","performed_via_github_app":null},{"id":16906825674,"node_id":"SE_lADOAAiu0c6uB1vBzwAAAAPvua_K","url":"https://api.github.com/repos/curl/curl/issues/events/16906825674","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-03-20T11:40:14Z","performed_via_github_app":null},{"id":16960240530,"node_id":"CDE_lADOAAiu0c6uB1vBzwAAAAPy6LuS","url":"https://api.github.com/repos/curl/curl/issues/events/16960240530","actor":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"comment_deleted","commit_id":null,"commit_url":null,"created_at":"2025-03-24T17:30:50Z","performed_via_github_app":null},{"id":16960241892,"node_id":"CDE_lADOAAiu0c6uB1vBzwAAAAPy6MDk","url":"https://api.github.com/repos/curl/curl/issues/events/16960241892","actor":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"comment_deleted","commit_id":null,"commit_url":null,"created_at":"2025-03-24T17:30:56Z","performed_via_github_app":null},{"id":16960243125,"node_id":"CDE_lADOAAiu0c6uB1vBzwAAAAPy6MW1","url":"https://api.github.com/repos/curl/curl/issues/events/16960243125","actor":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"comment_deleted","commit_id":null,"commit_url":null,"created_at":"2025-03-24T17:31:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2749385802","html_url":"https://github.com/curl/curl/issues/16718#issuecomment-2749385802","issue_url":"https://api.github.com/repos/curl/curl/issues/16718","id":2749385802,"node_id":"IC_kwDOAAiu0c6j4ExK","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-24T21:01:06Z","updated_at":"2025-03-24T21:01:06Z","body":"> Don't know about cares, but I am sure @bagder has a better idea.\n\nc-ares has its own getaddrinfo function that sorts the addresses as per RFC 3484 but it does not respect `/etc/gai.conf` from what I can tell.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2749385802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16963094966,"node_id":"MEE_lADOAAiu0c6uB1vBzwAAAAPzFEm2","url":"https://api.github.com/repos/curl/curl/issues/events/16963094966","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-03-24T21:01:07Z","performed_via_github_app":null},{"id":16963094983,"node_id":"SE_lADOAAiu0c6uB1vBzwAAAAPzFEnH","url":"https://api.github.com/repos/curl/curl/issues/events/16963094983","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-03-24T21:01:07Z","performed_via_github_app":null},{"id":17008181357,"node_id":"UNLE_lADOAAiu0c6uB1vBzwAAAAP1xEBt","url":"https://api.github.com/repos/curl/curl/issues/events/17008181357","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-03-27T08:45:16Z","label":{"name":"not-a-curl-bug","color":"d4c5f9"},"performed_via_github_app":null}]