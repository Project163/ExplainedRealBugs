{"url":"https://api.github.com/repos/curl/curl/issues/10190","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/10190/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/10190/comments","events_url":"https://api.github.com/repos/curl/curl/issues/10190/events","html_url":"https://github.com/curl/curl/issues/10190","id":1515548832,"node_id":"I_kwDOAAiu0c5aVXCg","number":10190,"title":"Regression: Build fails on CentOS 7","user":{"login":"stephan57160","id":37693621,"node_id":"MDQ6VXNlcjM3NjkzNjIx","avatar_url":"https://avatars.githubusercontent.com/u/37693621?v=4","gravatar_id":"","url":"https://api.github.com/users/stephan57160","html_url":"https://github.com/stephan57160","followers_url":"https://api.github.com/users/stephan57160/followers","following_url":"https://api.github.com/users/stephan57160/following{/other_user}","gists_url":"https://api.github.com/users/stephan57160/gists{/gist_id}","starred_url":"https://api.github.com/users/stephan57160/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephan57160/subscriptions","organizations_url":"https://api.github.com/users/stephan57160/orgs","repos_url":"https://api.github.com/users/stephan57160/repos","events_url":"https://api.github.com/users/stephan57160/events{/privacy}","received_events_url":"https://api.github.com/users/stephan57160/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":184118197,"node_id":"MDU6TGFiZWwxODQxMTgxOTc=","url":"https://api.github.com/repos/curl/curl/labels/regression","name":"regression","color":"33aa3f","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-01-01T13:00:43Z","updated_at":"2023-01-02T09:40:00Z","closed_at":"2023-01-02T09:34:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### I did this\r\n\r\nCompilation started on CentOS 7, like below: \r\n```\r\n$>git clone git@github.com:curl/curl\r\n$>cd curl\r\n$>autorecont -fi\r\n$>./configure --without-ssl\r\n$>make\r\n...\r\n```\r\n\r\nCompilaion fails with:\r\n```\r\n...\r\nMaking all in lib\r\nmake[1]: Entering directory `/home/stephan/git/libcurl/lib'\r\nmake  all-am\r\nmake[2]: Entering directory `/home/stephan/git/libcurl/lib'\r\n  CC       libcurl_la-altsvc.lo\r\n  CC       libcurl_la-amigaos.lo\r\n  CC       libcurl_la-asyn-ares.lo\r\n  CC       libcurl_la-asyn-thread.lo\r\n  CC       libcurl_la-base64.lo\r\n  CC       libcurl_la-bufref.lo\r\n  CC       libcurl_la-c-hyper.lo\r\n  CC       libcurl_la-cf-socket.lo\r\ncf-socket.c: In function 'do_connect':\r\ncf-socket.c:945:8: error: 'conn' undeclared (first use in this function)\r\n     if(conn->given->flags & PROTOPT_SSL)\r\n        ^\r\ncf-socket.c:945:8: note: each undeclared identifier is reported only once for each function it appears in\r\nmake[2]: *** [libcurl_la-cf-socket.lo] Error 1\r\nmake[2]: Leaving directory `/home/stephan/git/libcurl/lib'\r\nmake[1]: *** [all] Error 2\r\nmake[1]: Leaving directory `/home/stephan/git/libcurl/lib'\r\nmake: *** [all-recursive] Error 1\r\n```\r\n\r\n### I expected the following\r\n\r\nCompilation success.\r\n\r\n### curl/libcurl version\r\n\r\nLast commit. \r\nRegression as it was working a few weeks back.\r\nWill try to find out the exact commit.\r\n\r\n### operating system\r\n\r\nCentOS 7: \r\n```\r\n$> uname -a \r\nLinux gitlab-runner-179-x86.localdomain 3.10.0-1160.81.1.el7.x86_64 #1 SMP Fri Dec 16 17:29:43 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\nGCC:\r\n```\r\n$> gcc --version\r\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44)\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n$>\r\n```\r\n","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/10190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/10190/timeline","performed_via_github_app":null,"state_reason":"completed"}