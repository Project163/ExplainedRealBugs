{"url":"https://api.github.com/repos/curl/curl/issues/17124","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/17124/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/17124/comments","events_url":"https://api.github.com/repos/curl/curl/issues/17124/events","html_url":"https://github.com/curl/curl/issues/17124","id":3010059887,"node_id":"I_kwDOAAiu0c6zad5v","number":17124,"title":"--disable-threaded-resolver --disable-doh build error","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":184118197,"node_id":"MDU6TGFiZWwxODQxMTgxOTc=","url":"https://api.github.com/repos/curl/curl/labels/regression","name":"regression","color":"33aa3f","default":false,"description":null},{"id":975635480,"node_id":"MDU6TGFiZWw5NzU2MzU0ODA=","url":"https://api.github.com/repos/curl/curl/labels/name%20lookup","name":"name lookup","color":"0052cc","default":false,"description":"DNS and related tech"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-04-22T06:51:06Z","updated_at":"2025-04-22T07:19:04Z","closed_at":"2025-04-22T07:19:04Z","author_association":"MEMBER","type":{"id":2251221,"node_id":"IT_kwDOAQJNVc4AIlnV","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T17:28:47Z","updated_at":"2024-07-26T10:38:21Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### I did this\n\n~~~\n./configure  --disable-threaded-resolver --disable-doh --with-openssl \nmake -sj\n...\n  CC       libcurlu_la-http_aws_sigv4.lo\nhostip.c: In function ‘Curl_resolv_check’:\nhostip.c:1483:18: error: ‘struct UrlState’ has no member named ‘async’\n 1483 |   if(!data->state.async.hostname)\n      |                  ^\nhostip.c:1487:45: error: ‘struct UrlState’ has no member named ‘async’\n 1487 |   *dns = Curl_dnscache_get(data, data->state.async.hostname,\n      |                                             ^\nhostip.c:1488:39: error: ‘struct UrlState’ has no member named ‘async’\n 1488 |                            data->state.async.port,\n      |                                       ^\nhostip.c:1489:39: error: ‘struct UrlState’ has no member named ‘async’\n 1489 |                            data->state.async.ip_version);\n      |                                       ^\nIn file included from sendf.h:29,\n                 from hostip.c:50:\nhostip.c:1493:22: error: ‘struct UrlState’ has no member named ‘async’\n 1493 |           data->state.async.hostname);\n      |                      ^\ncurl_trc.h:119:27: note: in definition of macro ‘infof’\n  119 |          Curl_infof(data, __VA_ARGS__); } while(0)\n      |                           ^~~~~~~~~~~\nhostip.c:1495:16: error: ‘struct UrlState’ has no member named ‘async’\n 1495 |     data->state.async.dns = *dns;\n      |                ^\nhostip.c:1496:16: error: ‘struct UrlState’ has no member named ‘async’\n 1496 |     data->state.async.done = TRUE;\n      |                ^\nmake[2]: *** [Makefile:4016: libcurlu_la-hostip.lo] Error 1\n\n~~~\n\n### I expected the following\n\nA clean build\n\n### curl/libcurl version\n\ngit master 1db267eada454f906c97c0cabce5da241a435686\n\n### operating system\n\nlinux, but not relevant","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/17124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/17124/timeline","performed_via_github_app":null,"state_reason":"completed"}