[{"id":8482353937,"node_id":"LE_lADOAAiu0c5eEXrxzwAAAAH5lnMR","url":"https://api.github.com/repos/curl/curl/issues/events/8482353937","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-09T18:08:02Z","label":{"name":"TLS","color":"bfdadc"},"performed_via_github_app":null},{"id":8482353949,"node_id":"LE_lADOAAiu0c5eEXrxzwAAAAH5lnMd","url":"https://api.github.com/repos/curl/curl/issues/events/8482353949","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-09T18:08:02Z","label":{"name":"IMAP","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424613424","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1424613424","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1424613424,"node_id":"IC_kwDOAAiu0c5U6eAw","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:08:36Z","updated_at":"2023-02-09T18:08:36Z","body":"Does it work against the same server if you use another TLS backend?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424613424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424615106","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1424615106","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1424615106,"node_id":"IC_kwDOAAiu0c5U6ebC","user":{"login":"fchandur","id":4590191,"node_id":"MDQ6VXNlcjQ1OTAxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4590191?v=4","gravatar_id":"","url":"https://api.github.com/users/fchandur","html_url":"https://github.com/fchandur","followers_url":"https://api.github.com/users/fchandur/followers","following_url":"https://api.github.com/users/fchandur/following{/other_user}","gists_url":"https://api.github.com/users/fchandur/gists{/gist_id}","starred_url":"https://api.github.com/users/fchandur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fchandur/subscriptions","organizations_url":"https://api.github.com/users/fchandur/orgs","repos_url":"https://api.github.com/users/fchandur/repos","events_url":"https://api.github.com/users/fchandur/events{/privacy}","received_events_url":"https://api.github.com/users/fchandur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:10:01Z","updated_at":"2023-02-13T13:09:36Z","body":"AFAICT, yes.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424615106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fchandur","id":4590191,"node_id":"MDQ6VXNlcjQ1OTAxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4590191?v=4","gravatar_id":"","url":"https://api.github.com/users/fchandur","html_url":"https://github.com/fchandur","followers_url":"https://api.github.com/users/fchandur/followers","following_url":"https://api.github.com/users/fchandur/following{/other_user}","gists_url":"https://api.github.com/users/fchandur/gists{/gist_id}","starred_url":"https://api.github.com/users/fchandur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fchandur/subscriptions","organizations_url":"https://api.github.com/users/fchandur/orgs","repos_url":"https://api.github.com/users/fchandur/repos","events_url":"https://api.github.com/users/fchandur/events{/privacy}","received_events_url":"https://api.github.com/users/fchandur/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424620595","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1424620595","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1424620595,"node_id":"IC_kwDOAAiu0c5U6fwz","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:14:39Z","updated_at":"2023-02-09T18:14:39Z","body":"/cc @jsha","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1424620595/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8482408635,"node_id":"MEE_lADOAAiu0c5eEXrxzwAAAAH5l0i7","url":"https://api.github.com/repos/curl/curl/issues/events/8482408635","actor":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-09T18:14:40Z","performed_via_github_app":null},{"id":8482408657,"node_id":"SE_lADOAAiu0c5eEXrxzwAAAAH5l0jR","url":"https://api.github.com/repos/curl/curl/issues/events/8482408657","actor":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-09T18:14:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1425023428","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1425023428","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1425023428,"node_id":"IC_kwDOAAiu0c5U8CHE","user":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:43:11Z","updated_at":"2023-02-10T00:43:11Z","body":"Thanks for trying curl with rustls, and thanks for the report! Error 7010 from rustls-ffi is \"UnexpectedEof\" (TODO: get better output for this error message).\r\n\r\nRustls will emit UnexpectedEof if the TCP connection is closed without first receiving, in the TLS session, a \"close_notify\" alert. This is technically what you're supposed to do in TLS, since it avoids a type of bug where an attacker causes the TCP connection to close, causing the application (in this case curl) to think it's got a whole response when it's only get N bytes. For instance, in an HTTP/1.1 response with no Content-Length header, and no Transfer-Encoding, the application assumes the response is \"close-delimited\" and might be tricked into accepting a partial response if the TLS library isn't strict about this.\r\n\r\nHowever, it's sometimes acceptable to allow the TCP connection to close without doing a proper shutdown of the TLS session, depending on how the application protocol works. For instance, maybe in IMAP there are no close-delimited messages?\r\n\r\nIn any case, I suspect what is happening here is that `imap.gmail.com` is closing a connection without sending a TLS \"close_notify\", though I still need to check that.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1425023428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1425047253","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1425047253","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1425047253,"node_id":"IC_kwDOAAiu0c5U8H7V","user":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T01:20:01Z","updated_at":"2023-02-10T01:20:01Z","body":"I've opened https://github.com/curl/curl/pull/10463 to improve the error messages somewhat, and confirmed that Google's HTTPS servers exhibit the same behavior we see here for IMAPS: the TCP connection is reliably closed without sending `close_notify`.\r\n\r\nYou can see an example by forcing HTTP/1.0:\r\n\r\n```\r\n$ ./src/curl https://www.google.com/ -0 >/dev/null\r\n...\r\ncurl: (26) rustls: peer closed TCP connection without first closing TLS connection\r\n```\r\n\r\n(this uses the better error from my PR)\r\n\r\nI think for HTTP/1.0, the current behavior is okay. It's slightly stricter than the OpenSSL backend, but in a good way. It's unlikely to cause significant compatibility issues because most HTTP servers use one of Content-Length, Transfer-Encoding: chunked, or HTTP/2.\r\n\r\nFor other protocols it is probably suitable to provide a way for the application layer (IMAP in this case) to learn about the unclean TCP close and decide to ignore it if the protocol is not transferring a response, or if all messages are length-delimited. This probably requires introducing a new curl error code to pass the information, for instance `CURLE_SSL_UNCLEAN_SHUTDOWN` or `CURLE_SSL_UNEXPECTED_EOF`. Right now rustls just returns `CURLE_READ_ERROR` in this case. @bagder what do you think of this approach?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1425047253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8485213723,"node_id":"MEE_lADOAAiu0c5eEXrxzwAAAAH5whYb","url":"https://api.github.com/repos/curl/curl/issues/events/8485213723","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-10T01:20:02Z","performed_via_github_app":null},{"id":8485213733,"node_id":"SE_lADOAAiu0c5eEXrxzwAAAAH5whYl","url":"https://api.github.com/repos/curl/curl/issues/events/8485213733","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-10T01:20:02Z","performed_via_github_app":null},{"id":8490513604,"node_id":"SE_lADOAAiu0c5eEXrxzwAAAAH6EvTE","url":"https://api.github.com/repos/curl/curl/issues/events/8490513604","actor":{"login":"djc","id":158471,"node_id":"MDQ6VXNlcjE1ODQ3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/158471?v=4","gravatar_id":"","url":"https://api.github.com/users/djc","html_url":"https://github.com/djc","followers_url":"https://api.github.com/users/djc/followers","following_url":"https://api.github.com/users/djc/following{/other_user}","gists_url":"https://api.github.com/users/djc/gists{/gist_id}","starred_url":"https://api.github.com/users/djc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djc/subscriptions","organizations_url":"https://api.github.com/users/djc/orgs","repos_url":"https://api.github.com/users/djc/repos","events_url":"https://api.github.com/users/djc/events{/privacy}","received_events_url":"https://api.github.com/users/djc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-10T14:29:34Z","performed_via_github_app":null},{"id":9255359522,"node_id":"LE_lADOAAiu0c5eEXrxzwAAAAInqZQi","url":"https://api.github.com/repos/curl/curl/issues/events/9255359522","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-05-16T08:55:33Z","label":{"name":"KNOWN_BUGS material","color":"d93f0b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1557402553","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1557402553","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1557402553,"node_id":"IC_kwDOAAiu0c5c1BO5","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-22T15:12:50Z","updated_at":"2023-05-22T15:12:50Z","body":"> what do you think of this approach?\r\n\r\nI don't think introducing a new error code solves anything for this. Users are either expecting curl to not return an error or returning \"read error\" is probably fine. The judgement call and trick is rather when and how to act on the missing close_notify from TLS - and to do it in a consistent way in curl for different TLS backends.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1557402553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1557569116","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-1557569116","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":1557569116,"node_id":"IC_kwDOAAiu0c5c1p5c","user":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-22T16:53:13Z","updated_at":"2023-05-22T16:53:13Z","body":"I agree a user-facing error doesn't solve anything. I was thinking an internal error that would be emitted by TLS backends and handled by the higher protocol layer - either turning it into a \"read error\" for the user, or turning into a clean close if that is appropriate based on the protocol.\r\n\r\nThe problem is that the TLS backends send errors to the higher protocol layers using the same error codes as the user-facing ones. But we could allocate an error code just for internal use, and not expose it to the user.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1557569116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jsha","id":220205,"node_id":"MDQ6VXNlcjIyMDIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/220205?v=4","gravatar_id":"","url":"https://api.github.com/users/jsha","html_url":"https://github.com/jsha","followers_url":"https://api.github.com/users/jsha/followers","following_url":"https://api.github.com/users/jsha/following{/other_user}","gists_url":"https://api.github.com/users/jsha/gists{/gist_id}","starred_url":"https://api.github.com/users/jsha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsha/subscriptions","organizations_url":"https://api.github.com/users/jsha/orgs","repos_url":"https://api.github.com/users/jsha/repos","events_url":"https://api.github.com/users/jsha/events{/privacy}","received_events_url":"https://api.github.com/users/jsha/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"djc","id":158471,"node_id":"MDQ6VXNlcjE1ODQ3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/158471?v=4","gravatar_id":"","url":"https://api.github.com/users/djc","html_url":"https://github.com/djc","followers_url":"https://api.github.com/users/djc/followers","following_url":"https://api.github.com/users/djc/following{/other_user}","gists_url":"https://api.github.com/users/djc/gists{/gist_id}","starred_url":"https://api.github.com/users/djc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djc/subscriptions","organizations_url":"https://api.github.com/users/djc/orgs","repos_url":"https://api.github.com/users/djc/repos","events_url":"https://api.github.com/users/djc/events{/privacy}","received_events_url":"https://api.github.com/users/djc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-28T14:49:50Z","updated_at":"2023-06-28T14:49:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rustls/rustls/issues/1327","repository_url":"https://api.github.com/repos/rustls/rustls","labels_url":"https://api.github.com/repos/rustls/rustls/issues/1327/labels{/name}","comments_url":"https://api.github.com/repos/rustls/rustls/issues/1327/comments","events_url":"https://api.github.com/repos/rustls/rustls/issues/1327/events","html_url":"https://github.com/rustls/rustls/issues/1327","id":1777524035,"node_id":"I_kwDOA3PM4M5p8t1D","number":1327,"title":"Example `simpleclient` is broken","user":{"login":"xuganyu96","id":25167432,"node_id":"MDQ6VXNlcjI1MTY3NDMy","avatar_url":"https://avatars.githubusercontent.com/u/25167432?v=4","gravatar_id":"","url":"https://api.github.com/users/xuganyu96","html_url":"https://github.com/xuganyu96","followers_url":"https://api.github.com/users/xuganyu96/followers","following_url":"https://api.github.com/users/xuganyu96/following{/other_user}","gists_url":"https://api.github.com/users/xuganyu96/gists{/gist_id}","starred_url":"https://api.github.com/users/xuganyu96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuganyu96/subscriptions","organizations_url":"https://api.github.com/users/xuganyu96/orgs","repos_url":"https://api.github.com/users/xuganyu96/repos","events_url":"https://api.github.com/users/xuganyu96/events{/privacy}","received_events_url":"https://api.github.com/users/xuganyu96/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2023-06-27T18:31:08Z","updated_at":"2023-07-01T00:06:08Z","closed_at":"2023-07-01T00:06:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":57920736,"node_id":"MDEwOlJlcG9zaXRvcnk1NzkyMDczNg==","name":"rustls","full_name":"rustls/rustls","private":false,"owner":{"login":"rustls","id":65125397,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1MTI1Mzk3","avatar_url":"https://avatars.githubusercontent.com/u/65125397?v=4","gravatar_id":"","url":"https://api.github.com/users/rustls","html_url":"https://github.com/rustls","followers_url":"https://api.github.com/users/rustls/followers","following_url":"https://api.github.com/users/rustls/following{/other_user}","gists_url":"https://api.github.com/users/rustls/gists{/gist_id}","starred_url":"https://api.github.com/users/rustls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rustls/subscriptions","organizations_url":"https://api.github.com/users/rustls/orgs","repos_url":"https://api.github.com/users/rustls/repos","events_url":"https://api.github.com/users/rustls/events{/privacy}","received_events_url":"https://api.github.com/users/rustls/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rustls/rustls","description":"A modern TLS library in Rust","fork":false,"url":"https://api.github.com/repos/rustls/rustls","forks_url":"https://api.github.com/repos/rustls/rustls/forks","keys_url":"https://api.github.com/repos/rustls/rustls/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rustls/rustls/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rustls/rustls/teams","hooks_url":"https://api.github.com/repos/rustls/rustls/hooks","issue_events_url":"https://api.github.com/repos/rustls/rustls/issues/events{/number}","events_url":"https://api.github.com/repos/rustls/rustls/events","assignees_url":"https://api.github.com/repos/rustls/rustls/assignees{/user}","branches_url":"https://api.github.com/repos/rustls/rustls/branches{/branch}","tags_url":"https://api.github.com/repos/rustls/rustls/tags","blobs_url":"https://api.github.com/repos/rustls/rustls/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rustls/rustls/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rustls/rustls/git/refs{/sha}","trees_url":"https://api.github.com/repos/rustls/rustls/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rustls/rustls/statuses/{sha}","languages_url":"https://api.github.com/repos/rustls/rustls/languages","stargazers_url":"https://api.github.com/repos/rustls/rustls/stargazers","contributors_url":"https://api.github.com/repos/rustls/rustls/contributors","subscribers_url":"https://api.github.com/repos/rustls/rustls/subscribers","subscription_url":"https://api.github.com/repos/rustls/rustls/subscription","commits_url":"https://api.github.com/repos/rustls/rustls/commits{/sha}","git_commits_url":"https://api.github.com/repos/rustls/rustls/git/commits{/sha}","comments_url":"https://api.github.com/repos/rustls/rustls/comments{/number}","issue_comment_url":"https://api.github.com/repos/rustls/rustls/issues/comments{/number}","contents_url":"https://api.github.com/repos/rustls/rustls/contents/{+path}","compare_url":"https://api.github.com/repos/rustls/rustls/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rustls/rustls/merges","archive_url":"https://api.github.com/repos/rustls/rustls/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rustls/rustls/downloads","issues_url":"https://api.github.com/repos/rustls/rustls/issues{/number}","pulls_url":"https://api.github.com/repos/rustls/rustls/pulls{/number}","milestones_url":"https://api.github.com/repos/rustls/rustls/milestones{/number}","notifications_url":"https://api.github.com/repos/rustls/rustls/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rustls/rustls/labels{/name}","releases_url":"https://api.github.com/repos/rustls/rustls/releases{/id}","deployments_url":"https://api.github.com/repos/rustls/rustls/deployments","created_at":"2016-05-02T20:50:44Z","updated_at":"2025-11-09T16:09:16Z","pushed_at":"2025-11-10T12:14:34Z","git_url":"git://github.com/rustls/rustls.git","ssh_url":"git@github.com:rustls/rustls.git","clone_url":"https://github.com/rustls/rustls.git","svn_url":"https://github.com/rustls/rustls","homepage":"","size":16144,"stargazers_count":7059,"watchers_count":7059,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":758,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":99,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","rust","ssl","tls"],"visibility":"public","forks":758,"open_issues":99,"watchers":7059,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The example simple client is broken. When running `cargo run --bin simpleclient` the program output is as follows:\r\n\r\n```\r\nCurrent ciphersuite: TLS13_AES_256_GCM_SHA384\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Kind(UnexpectedEof)', examples/src/bin/simpleclient.rs:62:37\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n```\r\n\r\n`git bisect` identified `ab685b5e89f15725436effadd31ae4411b95738d` to be the first bad commit.\r\n\r\nFurther investigation is needed on what changes are needed to restore simple client back to a working state. I am willing to submit PR if appropriate and needed.\r\n","reactions":{"url":"https://api.github.com/repos/rustls/rustls/issues/1327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rustls/rustls/issues/1327/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11939960710,"node_id":"REFE_lADOAAiu0c5eEXrxzwAAAALHrVeG","url":"https://api.github.com/repos/curl/curl/issues/events/11939960710","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b8ad95bf391ca3f9fb5ae4b620592df1eea1a23b","commit_url":"https://api.github.com/repos/curl/curl/commits/b8ad95bf391ca3f9fb5ae4b620592df1eea1a23b","created_at":"2024-02-27T16:50:55Z","performed_via_github_app":null},{"id":11944256821,"node_id":"CE_lADOAAiu0c5eEXrxzwAAAALH7uU1","url":"https://api.github.com/repos/curl/curl/issues/events/11944256821","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b8ad95bf391ca3f9fb5ae4b620592df1eea1a23b","commit_url":"https://api.github.com/repos/curl/curl/commits/b8ad95bf391ca3f9fb5ae4b620592df1eea1a23b","created_at":"2024-02-27T23:21:36Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817228499","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-2817228499","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":2817228499,"node_id":"IC_kwDOAAiu0c6n637T","user":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-20T15:44:43Z","updated_at":"2025-04-20T15:44:43Z","body":"Is it okay if I put some work into fixing this issue?\n\nI saw it listed in the \"KNOWN_BUGS\" file and I'm fairly passionate about making Rust work well. so Iâ€™d really like to help get this working.\n\nThis would be my first pull request so it will likely take a while.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817228499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817337997","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-2817337997","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":2817337997,"node_id":"IC_kwDOAAiu0c6n7SqN","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-20T21:01:13Z","updated_at":"2025-04-20T21:01:13Z","body":"> Is it okay if I put some work into fixing this issue?\n\nOf course! We love getting help to improve curl. Just ask if there's anything we can help you with along the way.\n\nI would recommend you do it roughly like this:\n\n1. fork the curl repo on GitHub, clone that and get a curl build (with rustls) running.\n2. try to reproduce the bug you want to work on using your build\n3. edit code, rebuild, iterate until it seems to work\n4. make a local branch with the fix\n5. submit a PR against the curl/curl repository\n6. for the red CI builds, fix them and push more commits to your branch until all CI jobs are green\n7. ask for a review when you feel content","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817337997/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817342108","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-2817342108","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":2817342108,"node_id":"IC_kwDOAAiu0c6n7Tqc","user":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-20T21:11:54Z","updated_at":"2025-04-20T21:11:54Z","body":"so bug no longer reproduces the same I ran it on both the rustls and the regular version and in both cases i got \ncurl: (21) Quote command returned error\n\nthe fork was made a few hours ago so the code there is the current version and my system level curl is curl 8.5.0 \n\nI am on ubuntu 2024 tls \n\nnow it could be the original issue is windows specific in which case I can try and reproduce it on windows 10 or windows 11 (i have a laptop with each one) but it could be that I am missing a detail about reproduction which is crucial here. \n\ndoes this require gmail have my SSH key? like is there anything here which would be enviorment specific? \nalso are the logs safe to share? like idk if they might have info relating to my SSH keys and i would really prefer not to leak those\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817342108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817349415","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-2817349415","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":2817349415,"node_id":"IC_kwDOAAiu0c6n7Vcn","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-20T21:36:17Z","updated_at":"2025-04-20T21:36:43Z","body":"> in both cases i got curl: (21) Quote command returned error\n\nThat sounds like a completely different problem, and a surprising one since you didn't use any quote commands.\n\nBut maybe the TLS handshake succeeded then?\n\n> my system level curl is curl 8.5.0\n\nIf you build from master (and run that) your system curl does not matter anymore.\n\n> does this require gmail have my SSH key?\n\nIf you intend to successfully download email from gmail as the original command line tried, then I presume you need a gmail account etc with everything that may entail (I don't think we particularly know more about that than anyone else). But the curl command itself doesn't use SSH and thus of course does not require an SSH key anywhere.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817349415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817364359","html_url":"https://github.com/curl/curl/issues/10457#issuecomment-2817364359","issue_url":"https://api.github.com/repos/curl/curl/issues/10457","id":2817364359,"node_id":"IC_kwDOAAiu0c6n7ZGH","user":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-20T22:17:30Z","updated_at":"2025-04-20T22:17:30Z","body":"welll so I have a gmail acount but not really sure how to link it to my OS so that it can be used by curl...\nseems that  curl managed to connect to gmail. which was the original bug this request was talking about\n\n```\n== Info: Host imap.gmail.com:993 was resolved.\n== Info: IPv6: 2a00:1450:400c:c0d::6c, 2a00:1450:400c:c0d::6d\n== Info: IPv4: 64.233.167.108, 64.233.167.109\n== Info:   Trying [2a00:1450:400c:c0d::6c]:993...\n== Info: ALPN: server did not agree on a protocol. Uses default.\n== Info: rustls: handshake complete, TLSv1.3, cipher: TLS_AES_256_GCM_SHA384\n== Info: Connected to imap.gmail.com (2a00:1450:400c:c0d::6c) port 993\n== Info: IMAP 0x58090d62c630 state change from STOP to SERVERGREET\n== Info: pp_statematch, timeout=120000\n== Info: pp_statematch, timeout=120000\n== Info: pp_statematch, timeout=119899\n<= Recv header, 94 bytes (0x5e)\n0000: 2a 20 4f 4b 20 47 69 6d 61 70 20 72 65 61 64 79 * OK Gimap ready\n0010: 20 66 6f 72 20 72 65 71 75 65 73 74 73 20 66 72  for requests fr\n0020: 6f 6d 20 32 61 30 36 3a 63 37 30 31 3a 39 64 36 om 2a06:c701:9d6\n0030: 38 3a 32 65 30 30 3a 31 66 61 64 3a 36 63 65 31 8:2e00:1fad:6ce1\n0040: 3a 31 62 66 31 3a 33 32 38 30 20 71 31 31 6d 62 :1bf1:3280 q11mb\n0050: 31 30 37 34 31 37 33 34 38 77 72 6d 0d 0a       107417348wrm..\n```\n\nI took the liberty to double check with the openssl build as well. the error is the same in both but the logs differ a lot. \n\nthey both have the  BAD Unknown\n\n\nrustls:\n```\n0000: 41 30 30 32 20 42 41 44 20 55 6e 6b 6e 6f 77 6e A002 BAD Unknown\n0010: 20 63 6f 6d 6d 61 6e 64 20 66 31 6d 62 31 30 37  command f1mb107\n0020: 34 36 31 34 30 31 77 72 6d 0d 0a                461401wrm..\n== Info: DO phase failed\n== Info: shutting down connection #0\n```\n\nopenssl:\n```\n0000: 41 30 30 32 20 42 41 44 20 55 6e 6b 6e 6f 77 6e A002 BAD Unknown\n0010: 20 63 6f 6d 6d 61 6e 64 20 68 36 6d 62 31 31 33  command h6mb113\n0020: 31 34 38 30 35 32 77 6d 71 0d 0a                148052wmq..\n== Info: shutting down connection #0\n```\n\n\nI think this means that the original instructions to reproduce the bug with the rustls version are no longer relvant.\nthere is a separate issue here that's relvant to both AND the tls issue is no longer present.\nso we might wana mark the known-bug as resolved and open a separate issue for this new weird behavior.\n\nor alternatively we can try and find a different website where that issue arises (perhaps making a small locals server?) and then compare against that.\n\n[fchandur](https://github.com/fchandur) can you elaborate on how to reproduce this bug?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2817364359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nevakrien","id":101988414,"node_id":"U_kgDOBhQ4Pg","avatar_url":"https://avatars.githubusercontent.com/u/101988414?v=4","gravatar_id":"","url":"https://api.github.com/users/nevakrien","html_url":"https://github.com/nevakrien","followers_url":"https://api.github.com/users/nevakrien/followers","following_url":"https://api.github.com/users/nevakrien/following{/other_user}","gists_url":"https://api.github.com/users/nevakrien/gists{/gist_id}","starred_url":"https://api.github.com/users/nevakrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nevakrien/subscriptions","organizations_url":"https://api.github.com/users/nevakrien/orgs","repos_url":"https://api.github.com/users/nevakrien/repos","events_url":"https://api.github.com/users/nevakrien/events{/privacy}","received_events_url":"https://api.github.com/users/nevakrien/received_events","type":"User","user_view_type":"public","site_admin":false}}]