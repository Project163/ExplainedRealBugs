[{"id":7396974394,"node_id":"MEE_lADOAAiu0c5R8pAZzwAAAAG45N86","url":"https://api.github.com/repos/curl/curl/issues/events/7396974394","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-15T17:21:06Z","performed_via_github_app":null},{"id":7396974398,"node_id":"SE_lADOAAiu0c5R8pAZzwAAAAG45N8-","url":"https://api.github.com/repos/curl/curl/issues/events/7396974398","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-15T17:21:06Z","performed_via_github_app":null},{"id":7398433058,"node_id":"LE_lADOAAiu0c5R8pAZzwAAAAG4-yEi","url":"https://api.github.com/repos/curl/curl/issues/events/7398433058","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-15T21:22:37Z","label":{"name":"HTTP","color":"207de5"},"performed_via_github_app":null},{"id":7398433062,"node_id":"LE_lADOAAiu0c5R8pAZzwAAAAG4-yEm","url":"https://api.github.com/repos/curl/curl/issues/events/7398433062","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-15T21:22:37Z","label":{"name":"connecting & proxies","color":"c2e0c6"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1248647314","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1248647314","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1248647314,"node_id":"IC_kwDOAAiu0c5KbNiS","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T21:24:43Z","updated_at":"2022-09-15T21:33:00Z","body":"curl does transfers to/from a given URL. The proxy is a middle man here that is used to get the transfer going. The  content a proxy may include in a body is at best an error message in curl's point of view.\r\n\r\nHow do you propose curl delivers that to make sure that users don't mistake it for actual content?\r\n\r\n> in the same message that says \"error code 56\"\r\n\r\n... but that could be excessively large. What if there are hundreds of kilo or megabytes of data?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1248647314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1248650224","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1248650224","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1248650224,"node_id":"IC_kwDOAAiu0c5KbOPw","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T21:28:08Z","updated_at":"2022-09-15T21:28:08Z","body":"BTW, curl's error 56 is clearly documented in curl's man page:\r\n\r\nFailure in receiving network data.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1248650224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249825167","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1249825167","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1249825167,"node_id":"IC_kwDOAAiu0c5KftGP","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T21:18:05Z","updated_at":"2022-09-16T21:18:05Z","body":"I don't feel strongly about this either way but the way I interpret RFC 7231 section [4.3.6](https://www.rfc-editor.org/rfc/rfc7231#section-4.3.6) is it only forbids CONNECT replies from having a body if the connect was successful (2xx).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249825167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249829614","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1249829614","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1249829614,"node_id":"IC_kwDOAAiu0c5KfuLu","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T21:24:54Z","updated_at":"2022-09-16T21:24:54Z","body":"Yeah, I don't see how the RFC is relevant at all here. This is a question of how/if/where curl would provide that proxy response body for the user. Currently, libcurl makes no effort to provide that.\r\n\r\nI'm not sure it can without us adding a new callback or some other mechanism that would allow libcurl to deliver what is potentially a large amount of data that isn't the response body and isn't really \"headers\" either.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249829614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249834677","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1249834677","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1249834677,"node_id":"IC_kwDOAAiu0c5Kfva1","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T21:30:12Z","updated_at":"2022-09-16T21:30:12Z","body":"> Yeah, I don't see how the RFC is relevant at all here.\r\n\r\nI'm putting that on a t-shirt.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249834677/reactions","total_count":5,"+1":0,"-1":0,"laugh":5,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7406244932,"node_id":"LE_lADOAAiu0c5R8pAZzwAAAAG5clRE","url":"https://api.github.com/repos/curl/curl/issues/events/7406244932","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-16T21:31:02Z","label":{"name":"enhancement","color":"FCFD96"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249946631","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1249946631","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1249946631,"node_id":"IC_kwDOAAiu0c5KgKwH","user":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-17T00:04:38Z","updated_at":"2022-09-17T00:40:24Z","body":"* The RFC states that proxies may return error content (just as non-proxy error responses may contain content)\r\n* curl returns non-proxy error content presumably without differentiating it from non-error content\r\n* curl returns proxy error headers (via -I)\r\n* proxy error headers refer to the proxy error content and are in the same transport channel as that content\r\n* curl squelches the proxy error content, even while processing the proxy error headers\r\n* curl is frequently used BOTH by end-users fetching resource AND developers testing HTTP infrastructure\r\n\r\n> I don't see how the RFC is relevant\r\n\r\nI ... uh, disagree. :)\r\n\r\n> curl does transfers to/from a given URL. The proxy is a middle man\r\n\r\nThere's a lot to unpack there. I know you're speaking loosely but: URLs identify resources and the means by which to access those. The transfers are not to/from a given URL but rather to/from the myriad of services involved in providing the resource in accordance with the specified protocol.\r\n\r\nSpecifically for HTTP(S) there are some inherent ambiguities in the protocol because there is exactly one response channel (the tcp connection on which the request is made), but the returned data may or may not be returned by the referenced resource due to transports (and errors) reaching it. The content returned may or may not be the URL's content per the spec ([@jay's comment](https://github.com/curl/curl/issues/9513#issuecomment-1249825167).)\r\n\r\nDue to this, no one SHOULD assume the content returned by HTTP during proxying MUST be the destination's content.\r\n\r\n> How do you propose curl delivers that *to make sure that users don't mistake it for actual content*?\r\n\r\nI added the emphasis because clearly this is about \"usability\" concerns governing curl's behavior/implementation relative to the protocols. A related question would be \"how does curl make sure that users don't mistake a non-proxy error response for actual content? Per [@dfandrich's comment](https://github.com/curl/curl/discussions/9508#discussioncomment-3650459) it sounds like it makes no such effort.\r\n\r\nTherefore, I would argue that proxy error content should not be demoted; particularly since curl must be configured to proxy, via command lines and/or env variables. Presumably then, the user is keenly aware that there is an additional error actor in the pipeline.\r\n\r\nGiven the fact that non-proxy error content is returned by curl in its current implementation, perhaps the better question is: How do you propose curl delivers all errors (not just those generated by the proxy) to ensure that users know the response is an error vs the \"actual content\"?\r\n\r\nIf there is a mechanism to do that, we can then ask the secondary question: \"How do we differentiate an error response that is returned by the proxy vs one returned by the destination?\" \r\n\r\n\r\n\r\nSo let me instead focus on the first part of the original question:\r\n\r\n> How do you propose curl delivers [the proxy error content]\r\n\r\nDue to the foregoing, IMHO it would be neither unreasonable nor incorrect for curl to pass that content back exactly as the spec allows, inline in the channel, as \"the response\" *which is an error response.* This is also consistent with curl returning the body of error responses when the destination returns an error not via a proxy.\r\n\r\nIt seems that part of the concern here may be related to the difference between *transparent proxies* and *non-transparent proxies*. A goal of transparent proxying is to ensure the proxy is an unknown/unseen actor. I don't think that's the goal when configuring a proxy for curl. The proxy is explicitly known, and its operation is part of the pipeline. This observation may point to implementation choices/compromises to deal with all this. E.g., a \"transparent proxy\" option would cause curl to do the kinds of things being discussed here, that hide the existence of a proxy (such as eating proxy errors).\r\n\r\nI'll again note that curl's current behavior is to report proxy errors via the `-I` option consistent with the error response being \"the response\" (vs differentiating those headers as \"proxy headers\"). Despite this \"-I\" behavior  curl is then inconsistent in that it squelches the content to which those headers refer e.g. in the Content-Length etc.\r\n\r\nGiven the RFC, I would argue that curl (and libcurl) should probably deliver the content the same way it delivers non-proxy error content, because that's what the RFC says is allowed by the protocol. If possible, I would have curl mark error content (whether proxy or non-proxy) in some manner consistent with its current practices, possibly with the addition of some kind of signaling to differentiate destination vs proxy errors. If it's a libcurl issue, perhaps additional return values, bits in those values, struct pointers to be filled in with flags, etc can be used for that purpose (I'm not conversant with the library APIs).\r\n\r\n> data that isn't the response body and isn't really \"headers\" either\r\n\r\nThat this data \"isn't the [response from the ultimate destination] body and isn't really 'headers' either\"  does not seem terribly relevant here. It is in fact the HTTP response content, and curl should return the HTTP response content, just as it returns the HTTP error response content when not proxied.\r\n\r\nBy the way, what does curl currently do about proxy errors for non-CONNECT proxies? My guess is those (and the associated content body) are returned \"normally.\"\r\n\r\nArguably, it's the responsibility of the user of curl to differentiate between errors and actual content. Arguably, the user is in an excellent position to do so, given that they configured the proxy (e.g., by supplying -x). If curl can provide additional signaling (an inserted header? stderr output? highlighting? dunno) to indicate the error originated while attempting the CONNECT or pursuing the PROXY, that's great!\r\n\r\nFinally, if curl disagrees with my opinions or feels that it needs to protect users from \"proxy generated content\", then I'd ask you to consider not completely squelching that content always. An additional command-line option could be provided to let it through or to write it to a specified file (similar to -w).\r\n\r\nIf the core issue is some aspect of libcurl's API I can't speak to that, but on general principles, it would seem very possible to provide access to that content via the same mechanism that returns the destination content; and could acceptably do so only when signaling the special content type via API parameters, bitfields in the return values, etc etec or when the facility is requested via API parameters.\r\n\r\nThanks for listening. I'll leave the conclusion in your capable hands.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249946631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249962064","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1249962064","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1249962064,"node_id":"IC_kwDOAAiu0c5KgOhQ","user":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-17T00:44:04Z","updated_at":"2022-09-17T00:44:04Z","body":"PS: I do consider this a bug, not an enhancement. The fact is that (potentially crucial) data returned to curl is being squelched, and the behavior is contra to the RFC.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1249962064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250094814","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1250094814","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1250094814,"node_id":"IC_kwDOAAiu0c5Kgu7e","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-17T15:54:00Z","updated_at":"2022-09-17T15:55:03Z","body":"The RFC describes how to communicate, and curl follows the RFC.\r\n\r\nThe RFC does not dictate nor decide how our command line tool or library interact with the user or the application using them. I claim this issue is about how curl/libcurl provides protocol data/details. The RFC does not say how curl should deliver data. How could it?\r\n\r\ncurl has supported HTTP proxies for over 24 years and you might say that the current behavior is somewhat established. Changing this behavior now in such a drastic way so that it would show proxy content when a `OONNECT` request returns a non-200 responses would most certainly be wrongly managed by *countless* users, scripts and applications. It simply cannot be done like that, unless requested by the user somehow. Hence the **enhancement**. You ask for an improved behavior. The existing/previous behavior is done on purpose, by design. It was not an accident. It is not a bug.\r\n\r\nI am sympathetic to what you want curl to show/provide in this described scenario, and I am willing to cooperate and work on improving the situation, but it has to be done with consideration to old users and old behaviors.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250094814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250097610","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1250097610","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1250097610,"node_id":"IC_kwDOAAiu0c5KgvnK","user":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-17T16:10:35Z","updated_at":"2022-09-17T16:15:32Z","body":"I appreciate/recognize the regression issues, and like I said, I don't want to get into a philosophical argument, if there is even an argument at all. I'm just pointing out certain facts that may be inconsistent with statements made here and/or with each other. We should probably also observe that this scenario is a bit of an edge case, and that the number of affected users is therefore probably small in practice (vs affecting, by the implication of \"countless,\" a large % of users).\r\n\r\nAn important such fact which seems quite relevant but hasn't been directly addressed in your responses is the consistency of curl's behaviors. Non-proxy errors are currently returned by curl in-line, and I suspect non CONNECT errors arising at the proxy are returned inline too. Only CONNECT proxy errors are squelched, and that's the line where I would argue there is an arbitrary (and incorrect) choice made in the implementation thus far.\r\n\r\nWhile I understand that the RFC does not explicitly state how the user agent (curl) should deal with the transaction contents, there are things we can infer from it. I completely agree with you that this choice is ultimately a \"usability\" one, made by curl based on its opinions about what's appropriate. I've given my arguments as to why, given the contents of the RFC, which specifically allow for proxy-error content to be returned *as the response body together with the error response headers*, I feel it is inappropriate for curl to return those error response headers while simultaneously squelching the error response body, merely because it was generated by the proxy vs the destination. This seems exactly counter to the intent of the RFC.\r\n\r\nAs I mentioned, if curl's opinion ultimately differs from mine, given that curl is frequently used as a utility within CI pipelines / dev workflows (not merely as an end user \"fetch\" tool by non-technical users), it would seem desirable that it never \"eats\" data in this way. If you feel changing the behavior to return the error response body inline is too big a regression, then, as we've exhaustively discussed, I think there are means to provide access to that data while preserving the current (IMHO erroneous) behavior.\r\n\r\nAgain, thanks for listening, and for a great tool!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250097610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7407850407,"node_id":"RTE_lADOAAiu0c5R8pAZzwAAAAG5itOn","url":"https://api.github.com/repos/curl/curl/issues/events/7407850407","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-09-17T16:18:22Z","rename":{"from":"no access to proxy error response body content","to":"no access to HTTP CONNECT proxy error response body content"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250657747","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1250657747","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1250657747,"node_id":"IC_kwDOAAiu0c5Ki4XT","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T07:21:41Z","updated_at":"2022-09-19T07:21:41Z","body":"I'm more curious in ideas on how to actually solve this and provide the response in a way that does not trick or trip existing apps and users.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250657747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250677543","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1250677543","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1250677543,"node_id":"IC_kwDOAAiu0c5Ki9Mn","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T07:43:15Z","updated_at":"2022-09-19T07:43:15Z","body":"The best solution I can think of is to provide a new callback to libcurl for delivering *proxy content* and then make the tool set and use that with a new dedicated option for this purpose.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1250677543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1251483249","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1251483249","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1251483249,"node_id":"IC_kwDOAAiu0c5KmB5x","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T19:59:10Z","updated_at":"2022-09-19T19:59:10Z","body":"> Changing this behavior now in such a drastic way so that it would show proxy content when a `OONNECT` request returns a non-200 responses would most certainly be wrongly managed by _countless_ users, scripts and applications.\r\n\r\nYes\r\n\r\n> The best solution I can think of is to provide a new callback to libcurl for delivering proxy content and then make the tool set and use that with a new dedicated option for this purpose.\r\n\r\nIMO proxy content does not seem to me to be special content, if it's not 2xx it's treated as regular HTTP with content (or at least that's how I read it).\r\n\r\nI agree this is not a bug though, it's an enhancement or feature request, for example --proxytunnel-no-error or something that could maybe pass it to the http handler when it's not 2xx.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1251483249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1251633581","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1251633581","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1251633581,"node_id":"IC_kwDOAAiu0c5Kmmmt","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-19T22:26:11Z","updated_at":"2022-09-19T22:26:11Z","body":"That might work, as long as the user can spot that the content comes from the proxy and not from the server.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1251633581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1252937724","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1252937724","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1252937724,"node_id":"IC_kwDOAAiu0c5Krk_8","user":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-20T21:32:42Z","updated_at":"2022-09-20T21:33:38Z","body":"The more I read this thread the stronger my opinion that this issue is suffering from a cognitive black hole.\r\n\r\nWould you mind directly addressing the apparent non-symmetry of treating CONNECT proxy error content differently than PROXY proxy error content?\r\n\r\nI believe the potential negative effects of normalizing the behavior across all proxy error content are being vastly overblown, and that the negative effects of treating this as some special case are not creating enough concern. When the CONNECT proxy has been reached, and it has returned an HTTP error and associated error content then, that sequence of events *is clearly not an error 56 relative to the HTTP protocol*, and the proxy's error and error content should not be squelched, reformatted, re-interpreted, or otherwise mangled.\r\n\r\nI would propose that the project label the existing behavior as \"old\" and adopt a more standards compliant approach, and that instead of having a flag that causes this proposed new behavior, you can instead include a flag that causes the erroneous OLD behavior for those people or projects that end up affected.\r\n\r\nI think those will be very few and far between, since either way, curl will be returning an error ... just, the correct one, instead of this dubious \"56\"\r\n\r\nwell. maybe now I have nothing more to say. lol. thanks for listening.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1252937724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1252945533","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1252945533","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1252945533,"node_id":"IC_kwDOAAiu0c5Krm59","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-20T21:42:20Z","updated_at":"2022-09-20T21:42:20Z","body":"> this issue is suffering from a cognitive black hole.\r\n\r\nI would never presume anything else. I think we all see things skewed and differently based on our own biases and previous experiences. Including this issue.\r\n\r\n> Would you mind directly addressing the apparent non-symmetry of treating CONNECT proxy error content differently than PROXY proxy error content?\r\n\r\nThe difference without CONNECT is that curl doesn't see any difference. Whatever it gets, is what the proxy gives curl on the behalf of the remote server. In the CONNECT case however, there's an explicit communication with the proxy and thus curl knows very well where the stuff comes from.\r\n\r\nBut primarily, this is behavior established by curl a long time ago so even if there might be logical flaws in the reasoning, that's the way curl works and users can safely assume that curl doesn't break behavior. Thus the need for an option or something to ask for it.\r\n\r\n> that sequence of events is clearly not an error 56 relative to the HTTP protocol\r\n\r\nI don't even understand what this means. curl does not say it is \"error 56 relative to the HTTP protocol\". That seems like a gross misunderstanding.\r\n\r\n> adopt a more standards compliant approach\r\n\r\nI will continue to insist that this is not a standards compliant question.\r\n\r\nIf you want change, I propose you actually work on the that instead of just repeating your complaints in this issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1252945533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1253075405","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1253075405","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1253075405,"node_id":"IC_kwDOAAiu0c5KsGnN","user":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-21T01:08:54Z","updated_at":"2022-09-21T01:14:51Z","body":"I always aim to contribute code when I can. If I were to dive into that, I'd want the change to be well motivated and the PR likely to be accepted. Thus, this discussion.\r\n\r\n> Whatever [curl] gets, is what the proxy gives curl on the behalf of the remote server\r\n\r\nI think you misunderstood my question. There are cases when the proxy to which curl connects *itself* generates errors. Here I'm not speaking of a transparent proxy. In that case (*when that proxy itself generates an error*) then how does curl see and/or report that error? I think it reports such errors without differentiating those errors from an error generated at the ultimate destination. In other words, the protocol anticipates that users \"should\" understand that the origin of HTTP errors, in the presence of a proxy, may not be the ultimate destination.\r\n\r\nThat's the sense in which I claim this issue is a conformance issue.\r\n\r\n> curl doesn't see any difference\r\n\r\nI think what you are saying here amounts to this:  CONNECT proxying is a two phase process, whereas a pure PROXY is single phase. In a CONNECT proxy there is an initial HTTP request/response and then there is a secondary HTTP request/response containing the \"actual\" request. Intrinsic to this two phased connection then, curl is in a position to detect that an error has occurred during the first phase and therefore \"must\" be a proxy generated error.\r\n\r\nHowever, curl proceeds by re-casting the HTTP error as error 56 EBADRQC. It \"envelopes\" the HTTP error in that report, and eliminates any access (except via -I) to the more expressive nature of the HTTP error reporting protocol (which allows for complex rich data to be returned via HTTP headers *and* body).\r\n\r\nThat this hasn't been raised before speaks to the corner-case nature of this issue, and is probably indicative of low (not high) impact from changing the behavior. I am challenging the assumption that this is a high risk change. Do we have empirical evidence that \"countless\" users would be negatively impacted? Is there a way to A/B test such changes in the wild, perhaps through curl's release process? Whether that's worth the effort, that's another question :)\r\n\r\n> that's the way curl works and users can safely assume that curl doesn't break behavior\r\n\r\nI'm sure there have been well motivated breaking changes to curl in the past. At the limit we can call resistance to such changes a kind of orthodoxy. I'm not saying the issue we're discussing reaches that level, but I'm sure you understand what I mean. Thank god we don't have to still support Windows 95.\r\n\r\n> [don't merely complain, be the change you want]\r\n\r\nMaintainers are in a unique position to make changes to a project without wasting activation energy, and can hopefully accept challenges and bug reports without labeling them as complaints. The issue of whether this change corrects a bug or implements a new feature is ultimately merely a choice about how to best serve the community of users, and best conform to the protocols, and should have no ego involved. \r\n\r\nI appreciate your time and attention, and I will try to contribute code...as time allows, I'll pull the repo, learn the internals, and submit a PR for this, as I've done across many open source projects since 1990.\r\n\r\nA.\r\n\r\nPS: I accept that CONNECT proxying is by it's very nature a different beast that pure PROXY proxying; and that therefore, passing through some signaling as to the phase in which an error originated, is consistent with that fact. If curl would at least not swallow the information, that would be a big step forward.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1253075405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aathan","id":24279435,"node_id":"MDQ6VXNlcjI0Mjc5NDM1","avatar_url":"https://avatars.githubusercontent.com/u/24279435?v=4","gravatar_id":"","url":"https://api.github.com/users/aathan","html_url":"https://github.com/aathan","followers_url":"https://api.github.com/users/aathan/followers","following_url":"https://api.github.com/users/aathan/following{/other_user}","gists_url":"https://api.github.com/users/aathan/gists{/gist_id}","starred_url":"https://api.github.com/users/aathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aathan/subscriptions","organizations_url":"https://api.github.com/users/aathan/orgs","repos_url":"https://api.github.com/users/aathan/repos","events_url":"https://api.github.com/users/aathan/events{/privacy}","received_events_url":"https://api.github.com/users/aathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1253298098","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1253298098","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1253298098,"node_id":"IC_kwDOAAiu0c5Ks8-y","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-21T07:11:18Z","updated_at":"2022-09-21T07:11:18Z","body":"Also remember that curl can speak numerous non-HTTP protocols over a proxy-CONNECT setup.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1253298098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7446838531,"node_id":"REFE_lADOAAiu0c5R8pAZzwAAAAG73b0D","url":"https://api.github.com/repos/curl/curl/issues/events/7446838531","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2a60ee9c9c00062d37c22618f21c98fb9545e5aa","commit_url":"https://api.github.com/repos/curl/curl/commits/2a60ee9c9c00062d37c22618f21c98fb9545e5aa","created_at":"2022-09-23T12:11:21Z","performed_via_github_app":null},{"actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-23T12:11:29Z","updated_at":"2022-09-23T12:11:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/9581","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/9581/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/9581/comments","events_url":"https://api.github.com/repos/curl/curl/issues/9581/events","html_url":"https://github.com/curl/curl/pull/9581","id":1383710924,"node_id":"PR_kwDOAAiu0c4_fl-3","number":9581,"title":"TODO: Provide the error body from a CONNECT response","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-23T12:11:29Z","updated_at":"2022-09-23T21:31:43Z","closed_at":"2022-09-23T21:31:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/9581","html_url":"https://github.com/curl/curl/pull/9581","diff_url":"https://github.com/curl/curl/pull/9581.diff","patch_url":"https://github.com/curl/curl/pull/9581.patch","merged_at":null},"body":"Closes #9513","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/9581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/9581/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7450425993,"node_id":"CE_lADOAAiu0c5R8pAZzwAAAAG8FHqJ","url":"https://api.github.com/repos/curl/curl/issues/events/7450425993","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"a6fc1f544dd8e266461f365283c2d7c35c70b13c","commit_url":"https://api.github.com/repos/curl/curl/commits/a6fc1f544dd8e266461f365283c2d7c35c70b13c","created_at":"2022-09-23T21:31:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1274357846","html_url":"https://github.com/curl/curl/issues/9513#issuecomment-1274357846","issue_url":"https://api.github.com/repos/curl/curl/issues/9513","id":1274357846,"node_id":"IC_kwDOAAiu0c5L9ShW","user":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T09:04:32Z","updated_at":"2022-10-11T09:04:32Z","body":"The current behaviour can't really be changed because it breaks backward\ncompatibility, but perhaps an option like CURLOPT_PROXY_BODY could be added\nthat would pass through proxy error bodies on request. It appears that the\nheaders are already passed through, and the 503 error code can already be\nretrieved with CURLINFO_RESPONSE_CODE, so maybe this is all that's needed.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1274357846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfandrich","id":228259,"node_id":"MDQ6VXNlcjIyODI1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/228259?v=4","gravatar_id":"","url":"https://api.github.com/users/dfandrich","html_url":"https://github.com/dfandrich","followers_url":"https://api.github.com/users/dfandrich/followers","following_url":"https://api.github.com/users/dfandrich/following{/other_user}","gists_url":"https://api.github.com/users/dfandrich/gists{/gist_id}","starred_url":"https://api.github.com/users/dfandrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfandrich/subscriptions","organizations_url":"https://api.github.com/users/dfandrich/orgs","repos_url":"https://api.github.com/users/dfandrich/repos","events_url":"https://api.github.com/users/dfandrich/events{/privacy}","received_events_url":"https://api.github.com/users/dfandrich/received_events","type":"User","user_view_type":"public","site_admin":false}}]