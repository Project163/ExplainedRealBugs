{"url":"https://api.github.com/repos/curl/curl/issues/18375","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/18375/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/18375/comments","events_url":"https://api.github.com/repos/curl/curl/issues/18375/events","html_url":"https://github.com/curl/curl/issues/18375","id":3347107767,"node_id":"I_kwDOAAiu0c7HgM-3","number":18375,"title":"NULL pointer dereference in  glob_parse (tool_urlglob.c:364)","user":{"login":"BobodevMm","id":32557933,"node_id":"MDQ6VXNlcjMyNTU3OTMz","avatar_url":"https://avatars.githubusercontent.com/u/32557933?v=4","gravatar_id":"","url":"https://api.github.com/users/BobodevMm","html_url":"https://github.com/BobodevMm","followers_url":"https://api.github.com/users/BobodevMm/followers","following_url":"https://api.github.com/users/BobodevMm/following{/other_user}","gists_url":"https://api.github.com/users/BobodevMm/gists{/gist_id}","starred_url":"https://api.github.com/users/BobodevMm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BobodevMm/subscriptions","organizations_url":"https://api.github.com/users/BobodevMm/orgs","repos_url":"https://api.github.com/users/BobodevMm/repos","events_url":"https://api.github.com/users/BobodevMm/events{/privacy}","received_events_url":"https://api.github.com/users/BobodevMm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118197,"node_id":"MDU6TGFiZWwxODQxMTgxOTc=","url":"https://api.github.com/repos/curl/curl/labels/regression","name":"regression","color":"33aa3f","default":false,"description":null},{"id":184118205,"node_id":"MDU6TGFiZWwxODQxMTgyMDU=","url":"https://api.github.com/repos/curl/curl/labels/crash","name":"crash","color":"bfe5bf","default":false,"description":null},{"id":192912238,"node_id":"MDU6TGFiZWwxOTI5MTIyMzg=","url":"https://api.github.com/repos/curl/curl/labels/cmdline%20tool","name":"cmdline tool","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2025-08-22T23:59:27Z","updated_at":"2025-08-23T11:43:56Z","closed_at":"2025-08-23T11:43:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### I did this\n\ntriggered a NULL pointer dereference when executing this \n`curl --config nonsense.txt  `\nto get the same crash as me run \ngdb -ex \"r\" -ex \"where\" -ex \"list\" -ex \"p pattern\" -ex \"quit\"  --args curl --config nonsense.txt\n\n[nonsense.txt](https://github.com/user-attachments/files/21946164/nonsense.txt) \n\n### I expected the following\n\n... during testing ... \nI got this crash : \n```\n└─$ gdb -ex \"r\" -ex \"where\" -ex \"list\" -ex \"p pattern\" -ex \"quit\"  --args curl --config nonsense.txt\n\nWarning: Got more output options than URLs\n\nProgram received signal SIGILL, Illegal instruction.\n0x000055555587af16 in glob_parse (glob=0x555556bfbc58 <globalconf+88>, pattern=0x0, pos=1, amount=0x7ffff5400420)\n    at tool_urlglob.c:364\n364       while(*pattern && !res) {\n#0  0x000055555587af16 in glob_parse (glob=0x555556bfbc58 <globalconf+88>, pattern=0x0, pos=1, \n    amount=0x7ffff5400420) at tool_urlglob.c:364\n#1  0x000055555587a482 in glob_url (glob=0x555556bfbc58 <globalconf+88>, url=0x0, \n    urlnum=0x555556bfbcc8 <globalconf+200>, error=0x7ffff76144e0 <_IO_2_1_stderr_>) at tool_urlglob.c:459\n#2  0x0000555555846d2c in single_transfer (config=0x51a000001280, share=0x511000000f40, added=0x7ffff5101420, \n    skipped=0x7ffff5101430) at tool_operate.c:1156\n#3  0x0000555555842777 in transfer_per_config (config=0x51a000001280, share=0x511000000f40, added=0x7ffff5101420, \n    skipped=0x7ffff5101430) at tool_operate.c:2067\n#4  0x0000555555840173 in create_transfer (share=0x511000000f40, added=0x7ffff5101420, skipped=0x7ffff5101430)\n    at tool_operate.c:2086\n#5  0x0000555555835734 in serial_transfers (share=0x511000000f40) at tool_operate.c:1902\n#6  0x0000555555831e75 in run_all_transfers (share=0x511000000f40, result=CURLE_OK) at tool_operate.c:2110\n#7  0x0000555555830e95 in operate (argc=3, argv=0x7fffffffdde8) at tool_operate.c:2249\n#8  0x000055555582d2d0 in main (argc=3, argv=0x7fffffffdde8) at tool_main.c:199\n359       CURLcode res = CURLE_OK;\n360       int globindex = 0; /* count \"actual\" globs */\n361\n362       *amount = 1;\n363\n364       while(*pattern && !res) {\n365         while(*pattern && *pattern != '{') {\n366           if(*pattern == '[') {\n367             /* skip over IPv6 literals and [] */\n368             size_t skip = 0;\n$1 = 0x0\n\n```\n### curl/libcurl version\n\ncurl 8.16.0-DEV (x86_64-pc-linux-gnu) libcurl/8.16.0-DEV OpenSSL/3.5.0 zlib/1.3.1 brotli/1.1.0 zstd/1.5.5 libpsl/0.21.2\nRelease-Date: [unreleased]\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns mqtt pop3 pop3s rtsp smb smbs smtp smtps telnet tftp ws wss\nFeatures: alt-svc AsynchDNS brotli HSTS HTTPS-proxy IPv6 Largefile libz NTLM PSL SSL threadsafe TLS-SRP UnixSockets zstd\n                                                                                                              \n\n### operating system\n\nDebian  6.3.7","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/18375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/18375/timeline","performed_via_github_app":null,"state_reason":"completed"}