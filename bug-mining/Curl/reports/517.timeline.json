[{"url":"https://api.github.com/repos/curl/curl/issues/comments/2270138865","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2270138865","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2270138865,"node_id":"IC_kwDOAAiu0c6HT5Hx","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-06T00:21:06Z","updated_at":"2024-08-06T00:21:06Z","body":"It may be a case of OpenSSL header vs lib confusion.\r\n\r\nCan you test if either of these settings would fix your build?:\r\n1. `set PKG_CONFIG_LIBDIR=` before calling cmake\r\n2. add `-DUSE_LIBIDN2=OFF` to the cmake command\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2270138865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13771037971,"node_id":"LE_lADOAAiu0c6SAY2FzwAAAAM00V0T","url":"https://api.github.com/repos/curl/curl/issues/events/13771037971","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-06T00:21:20Z","label":{"name":"build","color":"bfdadc"},"performed_via_github_app":null},{"id":13771037978,"node_id":"LE_lADOAAiu0c6SAY2FzwAAAAM00V0a","url":"https://api.github.com/repos/curl/curl/issues/events/13771037978","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-06T00:21:20Z","label":{"name":"cmake","color":"d4c5f9"},"performed_via_github_app":null},{"id":13771267055,"node_id":"LE_lADOAAiu0c6SAY2FzwAAAAM01Nvv","url":"https://api.github.com/repos/curl/curl/issues/events/13771267055","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-06T01:01:28Z","label":{"name":"Windows","color":"0e8a16"},"performed_via_github_app":null},{"id":13771352987,"node_id":"LE_lADOAAiu0c6SAY2FzwAAAAM01iub","url":"https://api.github.com/repos/curl/curl/issues/events/13771352987","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-06T01:14:49Z","label":{"name":"needs-info","color":"fbca04"},"performed_via_github_app":null},{"actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-06T11:16:56Z","updated_at":"2024-08-06T11:16:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/14408","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/14408/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/14408/comments","events_url":"https://api.github.com/repos/curl/curl/issues/14408/events","html_url":"https://github.com/curl/curl/pull/14408","id":2449736249,"node_id":"PR_kwDOAAiu0c53gpau","number":14408,"title":"cmake: limit libidn2 `pkg-config` detection to `UNIX`","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":184123162,"node_id":"MDU6TGFiZWwxODQxMjMxNjI=","url":"https://api.github.com/repos/curl/curl/labels/cmake","name":"cmake","color":"d4c5f9","default":false,"description":null},{"id":940032249,"node_id":"MDU6TGFiZWw5NDAwMzIyNDk=","url":"https://api.github.com/repos/curl/curl/labels/Windows","name":"Windows","color":"0e8a16","default":false,"description":"Windows-specific"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2024-08-06T01:17:47Z","updated_at":"2024-08-11T23:46:54Z","closed_at":"2024-08-10T08:03:23Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/14408","html_url":"https://github.com/curl/curl/pull/14408","diff_url":"https://github.com/curl/curl/pull/14408.diff","patch_url":"https://github.com/curl/curl/pull/14408.patch","merged_at":null},"body":"libidn2 is detected by default, which triggers a `pkg-config` detectio\r\nattempt by default. This in turn may pick up libidn2 inadvertently from\r\nthe disk, and append the libidn2 header directory to the include path.\r\nThis header directory might contain incompatible system and/or component\r\nheaders, causing confusion and failed builds.\r\n\r\nSome of these side-effects may be the result of an unknowningly\r\nconfigured (or misconfigured) `pkg-config`. In another reported case,\r\nit was hit by the `pkg-config` from Strawberry Perl. Until we\r\ninvestigate the reasons and come up with a technique to avoid these\r\nissues, limit `pkg-config` detection to UNIX platforms, like we already\r\ndo in `Find*` modules.\r\n\r\nNotice that `-DCURL_USE_LIBSSH=ON`, `-DCURL_USE_GSASL=ON`, and\r\n`-DCURL_USE_LIBUV=ON` options continue to have the above side-effects,\r\nthough these options are disabled by default.\r\n\r\nFollow-up to f43adc2c4978f7f82a359e89186e58a31d17b0ad #14137\r\nReported-by: Micah Snyder\r\nFixes #14405\r\nCloses #14408\r\n","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/14408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/14408/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T12:26:11Z","updated_at":"2024-08-08T12:26:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/14456","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/14456/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/14456/comments","events_url":"https://api.github.com/repos/curl/curl/issues/14456/events","html_url":"https://github.com/curl/curl/pull/14456","id":2455648612,"node_id":"PR_kwDOAAiu0c531FQT","number":14456,"title":"cmake: show pkg-config basic env if any","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":184123162,"node_id":"MDU6TGFiZWwxODQxMjMxNjI=","url":"https://api.github.com/repos/curl/curl/labels/cmake","name":"cmake","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-08-08T12:16:07Z","updated_at":"2024-08-12T15:41:01Z","closed_at":"2024-08-12T15:40:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/14456","html_url":"https://github.com/curl/curl/pull/14456","diff_url":"https://github.com/curl/curl/pull/14456.diff","patch_url":"https://github.com/curl/curl/pull/14456.patch","merged_at":null},"body":"Ref: #14405\r\nCloses #14456\r\n","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/14456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/14456/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278547962","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278547962","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278547962,"node_id":"IC_kwDOAAiu0c6Hz-H6","user":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T18:50:44Z","updated_at":"2024-08-09T18:50:44Z","body":"@vszakats Apologies for the delay. \r\n\r\nI tested with both settings and the build works.  I haven't tried just one or the other. Would you like me to test that?  Or test your PR?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278547962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13824532223,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4AZ7_","url":"https://api.github.com/repos/curl/curl/issues/events/13824532223","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T18:50:45Z","performed_via_github_app":null},{"id":13824532231,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4AZ8H","url":"https://api.github.com/repos/curl/curl/issues/events/13824532231","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T18:50:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278584415","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278584415","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278584415,"node_id":"IC_kwDOAAiu0c6H0HBf","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T19:13:22Z","updated_at":"2024-08-09T19:13:22Z","body":"@micahsnyder: Thanks! Yes, it would help if you could do a test with only the first setting (`PKG_CONFIG_LIBDIR=`).\r\n\r\nIt'd also be useful to see your build output, after you add this code to curl's main `CMakeList.txt`, right below the line: `project(CURL C)`:\r\n```cmake\r\nforeach(_env IN ITEMS PKG_CONFIG_PATH PKG_CONFIG_LIBDIR PKG_CONFIG_SYSROOT_DIR)\r\n  if(DEFINED ENV{${_env}})\r\n    message(STATUS \"pkg-config ${_env}: '$ENV{${_env}}'\")\r\n  endif()\r\nendforeach()\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278584415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13824735653,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4BLml","url":"https://api.github.com/repos/curl/curl/issues/events/13824735653","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:13:22Z","performed_via_github_app":null},{"id":13824735661,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4BLmt","url":"https://api.github.com/repos/curl/curl/issues/events/13824735661","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:13:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278644478","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278644478","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278644478,"node_id":"IC_kwDOAAiu0c6H0Vr-","user":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T19:53:00Z","updated_at":"2024-08-09T19:53:00Z","body":"@vszakats For powershell it seems the correct way to set the environment variable is `$env:PKG_CONFIG_LIBDIR = \"...\"`.  Using `set` didn't work for me.\r\n\r\nAfter switching to use `$env:` then this worked:\r\n```\r\n\r\nx64/curl-8.9.1/build via △ v3.29.0 took 7s\r\n❯ rm -r -force ..\\build\\*\r\n\r\nx64/curl-8.9.1/build\r\n❯ $env:PKG_CONFIG_LIBDIR = \"C:\\Users\\micasnyd\\dev\\clamav-deps\\x64\\lib\"\r\n\r\nx64/curl-8.9.1/build\r\n❯ cmake.exe .. -G \"Visual Studio 17 2022\" -A x64  -D CMAKE_INSTALL_PREFIX=\"C:/Users/micasnyd/dev/clamav-deps/x64\"  -D BUILD_LIBCURL_DOCS=OFF  -D BUILD_SHARED_LIBS=ON  -D CURL_USE_OPENSSL=ON  -D OPENSSL_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIB_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib\"  -D SSL_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssl.lib\"  -D ZLIB_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D ZLIB_LIBRARY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib\"  -D LIBSSH2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIBSSH2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib\"  -D USE_NGHTTP2=ON  -D NGHTTP2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D NGHTTP2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\"  -D BUILD_CURL_EXE=OFF\r\n-- Using CMake version 3.29.0\r\n-- Selecting Windows SDK version 10.0.22621.0 to target Windows 10.0.22631.\r\n-- The C compiler identification is MSVC 19.39.33523.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- curl version=[8.9.1]\r\n-- Found Perl: C:/Strawberry/perl/bin/perl.exe (found version \"5.38.2\")\r\n-- Found OpenSSL: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib (found version \"3.3.1\")\r\n-- Looking for OPENSSL_IS_BORINGSSL\r\n-- Looking for OPENSSL_IS_BORINGSSL - not found\r\n-- Looking for OPENSSL_IS_AWSLC\r\n-- Looking for OPENSSL_IS_AWSLC - not found\r\n-- Found ZLIB: C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib (found version \"1.3.1\")\r\n-- Looking for SSL_set0_wbio\r\n-- Looking for SSL_set0_wbio - found\r\n-- Looking for SSL_CTX_set_srp_username\r\n-- Looking for SSL_CTX_set_srp_username - found\r\n-- Found NGHTTP2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\r\n-- Looking for idn2_lookup_ul in idn2\r\n-- Looking for idn2_lookup_ul in idn2 - not found\r\n-- Checking for module 'libidn2'\r\n--   Can't find libidn2.pc in any of C:/Users/micasnyd/dev/clamav-deps/x64/lib\r\nuse the PKG_CONFIG_PATH environment variable, or\r\nspecify extra search paths via 'search_paths'\r\n-- Could NOT find LibPSL (missing: LIBPSL_LIBRARY LIBPSL_INCLUDE_DIR)\r\n-- Found LibSSH2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib (found version \"1.11.0\")\r\n-- Performing Test HAVE_WIN32_WINNT\r\n-- Performing Test HAVE_WIN32_WINNT - Success\r\n-- Found _WIN32_WINNT=0x0a00\r\n-- Looking for stdint.h\r\n-- Looking for stdint.h - found\r\n-- Check size of size_t\r\n-- Check size of size_t - done\r\n-- Check size of ssize_t\r\n-- Check size of ssize_t - failed\r\n-- Check size of long long\r\n-- Check size of long long - done\r\n-- Check size of long\r\n-- Check size of long - done\r\n-- Check size of int\r\n-- Check size of int - done\r\n-- Check size of __int64\r\n-- Check size of __int64 - done\r\n-- Check size of time_t\r\n-- Check size of time_t - done\r\n-- Check size of ADDRESS_FAMILY\r\n-- Check size of ADDRESS_FAMILY - done\r\n-- Check size of off_t\r\n-- Check size of off_t - done\r\n-- Check size of curl_off_t\r\n-- Check size of curl_off_t - done\r\n-- Check size of curl_socket_t\r\n-- Check size of curl_socket_t - done\r\n-- Protocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\n-- Features: alt-svc AsynchDNS HSTS HTTP2 HTTPS-proxy IPv6 Largefile libz NTLM SSL threadsafe TLS-SRP UnixSockets\r\n-- Enabled SSL backends: OpenSSL\r\n-- Configuring done (43.5s)\r\n-- Generating done (4.9s)\r\n-- Build files have been written to: C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build\r\n\r\nx64/curl-8.9.1/build via △ took 49s\r\n❯ cmake --build . --config Release\r\nMSBuild version 17.9.8+b34f75857 for .NET Framework\r\n\r\n  1>Checking Build System\r\n  Generating curl-config.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Generating mk-ca-bundle.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  altsvc.c\r\n  amigaos.c\r\n  asyn-ares.c\r\n  asyn-thread.c\r\n  base64.c\r\n  bufq.c\r\n  bufref.c\r\n  c-hyper.c\r\n  cf-h1-proxy.c\r\n  cf-h2-proxy.c\r\n  cf-haproxy.c\r\n  cf-https-connect.c\r\n  cf-socket.c\r\n  cfilters.c\r\n  conncache.c\r\n  connect.c\r\n  content_encoding.c\r\n  cookie.c\r\n  curl_addrinfo.c\r\n  curl_des.c\r\n  curl_endian.c\r\n  curl_fnmatch.c\r\n  curl_get_line.c\r\n  curl_gethostname.c\r\n  curl_gssapi.c\r\n  curl_memrchr.c\r\n  curl_multibyte.c\r\n  curl_ntlm_core.c\r\n  curl_path.c\r\n  curl_range.c\r\n  curl_rtmp.c\r\n  curl_sasl.c\r\n  curl_sha512_256.c\r\n  curl_sspi.c\r\n  curl_threads.c\r\n  curl_trc.c\r\n  cw-out.c\r\n  dict.c\r\n  doh.c\r\n  dynbuf.c\r\n  dynhds.c\r\n  easy.c\r\n  easygetopt.c\r\n  easyoptions.c\r\n  escape.c\r\n  file.c\r\n  fileinfo.c\r\n  fopen.c\r\n  formdata.c\r\n  ftp.c\r\n  ftplistparser.c\r\n  getenv.c\r\n  getinfo.c\r\n  gopher.c\r\n  hash.c\r\n  headers.c\r\n  hmac.c\r\n  hostasyn.c\r\n  hostip.c\r\n  hostip4.c\r\n  hostip6.c\r\n  hostsyn.c\r\n  hsts.c\r\n  http.c\r\n  http1.c\r\n  http2.c\r\n  http_aws_sigv4.c\r\n  http_chunks.c\r\n  http_digest.c\r\n  http_negotiate.c\r\n  http_ntlm.c\r\n  http_proxy.c\r\n  idn.c\r\n  if2ip.c\r\n  imap.c\r\n  inet_ntop.c\r\n  inet_pton.c\r\n  krb5.c\r\n  ldap.c\r\n  llist.c\r\n  macos.c\r\n  md4.c\r\n  md5.c\r\n  memdebug.c\r\n  mime.c\r\n  mprintf.c\r\n  mqtt.c\r\n  multi.c\r\n  netrc.c\r\n  nonblock.c\r\n  noproxy.c\r\n  openldap.c\r\n  parsedate.c\r\n  pingpong.c\r\n  pop3.c\r\n  progress.c\r\n  psl.c\r\n  rand.c\r\n  rename.c\r\n  request.c\r\n  rtsp.c\r\n  select.c\r\n  sendf.c\r\n  setopt.c\r\n  sha256.c\r\n  share.c\r\n  slist.c\r\n  smb.c\r\n  smtp.c\r\n  socketpair.c\r\n  socks.c\r\n  socks_gssapi.c\r\n  socks_sspi.c\r\n  speedcheck.c\r\n  splay.c\r\n  strcase.c\r\n  strdup.c\r\n  strerror.c\r\n  strtok.c\r\n  strtoofft.c\r\n  system_win32.c\r\n  telnet.c\r\n  tftp.c\r\n  timediff.c\r\n  timeval.c\r\n  transfer.c\r\n  url.c\r\n  urlapi.c\r\n  version.c\r\n  version_win32.c\r\n  warnless.c\r\n  ws.c\r\n  cleartext.c\r\n  cram.c\r\n  digest.c\r\n  digest_sspi.c\r\n  gsasl.c\r\n  krb5_gssapi.c\r\n  krb5_sspi.c\r\n  ntlm.c\r\n  ntlm_sspi.c\r\n  oauth2.c\r\n  spnego_gssapi.c\r\n  spnego_sspi.c\r\n  vauth.c\r\n  bearssl.c\r\n  cipher_suite.c\r\n  gtls.c\r\n  hostcheck.c\r\n  keylog.c\r\n  mbedtls.c\r\n  mbedtls_threadlock.c\r\n  openssl.c\r\n  rustls.c\r\n  schannel.c\r\n  schannel_verify.c\r\n  sectransp.c\r\n  vtls.c\r\n  wolfssl.c\r\n  x509asn1.c\r\n  curl_msh3.c\r\n  curl_ngtcp2.c\r\n  curl_osslq.c\r\n  curl_quiche.c\r\n  vquic.c\r\n  vquic-tls.c\r\n  libssh.c\r\n  libssh2.c\r\n  wolfssh.c\r\n  libcurl_object.vcxproj -> C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\libcurl_object.dir\\Release\\libcurl_object.lib\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  dllmain.c\r\n     Creating library C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/lib/Release/libcurl_imp.lib and object C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/li\r\n  b/Release/libcurl_imp.exp\r\n  libcurl_shared.vcxproj -> C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\Release\\libcurl.dll\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/CMakeLists.txt\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278644478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13825053843,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4CZST","url":"https://api.github.com/repos/curl/curl/issues/events/13825053843","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:53:02Z","performed_via_github_app":null},{"id":13825053857,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4CZSh","url":"https://api.github.com/repos/curl/curl/issues/events/13825053857","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:53:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278650521","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278650521","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278650521,"node_id":"IC_kwDOAAiu0c6H0XKZ","user":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T19:57:38Z","updated_at":"2024-08-09T19:57:38Z","body":"@vszakats  I tried your suggested change:\r\n![image](https://github.com/user-attachments/assets/7d339252-08c5-4cdf-a5fc-af7938ee8156)\r\n\r\nI also made sure to unset that environment variable. This didn't work:\r\n```\r\nx64/curl-8.9.1/build via △ took 9s\r\n❯ rm -r -force ..\\build\\*\r\n\r\nx64/curl-8.9.1/build took 2s\r\n❯ $env:PKG_CONFIG_LIBDIR = $null\r\n\r\nx64/curl-8.9.1/build\r\n❯ echo $env:PKG_CONFIG_LIBDIR\r\n\r\nx64/curl-8.9.1/build\r\n❯ cmake.exe .. -G \"Visual Studio 17 2022\" -A x64  -D CMAKE_INSTALL_PREFIX=\"C:/Users/micasnyd/dev/clamav-deps/x64\"  -D BUILD_LIBCURL_DOCS=OFF  -D BUILD_SHARED_LIBS=ON  -D CURL_USE_OPENSSL=ON  -D OPENSSL_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIB_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib\"  -D SSL_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssl.lib\"  -D ZLIB_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D ZLIB_LIBRARY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib\"  -D LIBSSH2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIBSSH2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib\"  -D USE_NGHTTP2=ON  -D NGHTTP2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D NGHTTP2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\"  -D BUILD_CURL_EXE=OFF\r\n-- Using CMake version 3.29.0\r\n-- Selecting Windows SDK version 10.0.22621.0 to target Windows 10.0.22631.\r\n-- The C compiler identification is MSVC 19.39.33523.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- curl version=[8.9.1]\r\n-- Found Perl: C:/Strawberry/perl/bin/perl.exe (found version \"5.38.2\")\r\n-- Found OpenSSL: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib (found version \"3.3.1\")\r\n-- Looking for OPENSSL_IS_BORINGSSL\r\n-- Looking for OPENSSL_IS_BORINGSSL - not found\r\n-- Looking for OPENSSL_IS_AWSLC\r\n-- Looking for OPENSSL_IS_AWSLC - not found\r\n-- Found ZLIB: C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib (found version \"1.3.1\")\r\n-- Looking for SSL_set0_wbio\r\n-- Looking for SSL_set0_wbio - found\r\n-- Looking for SSL_CTX_set_srp_username\r\n-- Looking for SSL_CTX_set_srp_username - found\r\n-- Found NGHTTP2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\r\n-- Looking for idn2_lookup_ul in idn2\r\n-- Looking for idn2_lookup_ul in idn2 - not found\r\n-- Checking for module 'libidn2'\r\n--   Found libidn2, version 2.1.1\r\n-- Could NOT find LibPSL (missing: LIBPSL_LIBRARY LIBPSL_INCLUDE_DIR)\r\n-- Found LibSSH2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib (found version \"1.11.0\")\r\n-- Performing Test HAVE_WIN32_WINNT\r\n-- Performing Test HAVE_WIN32_WINNT - Success\r\n-- Found _WIN32_WINNT=0x0a00\r\n-- Looking for stdint.h\r\n-- Looking for stdint.h - found\r\n-- Check size of size_t\r\n-- Check size of size_t - done\r\n-- Check size of ssize_t\r\n-- Check size of ssize_t - failed\r\n-- Check size of long long\r\n-- Check size of long long - done\r\n-- Check size of long\r\n-- Check size of long - done\r\n-- Check size of int\r\n-- Check size of int - done\r\n-- Check size of __int64\r\n-- Check size of __int64 - done\r\n-- Check size of time_t\r\n-- Check size of time_t - done\r\n-- Check size of ADDRESS_FAMILY\r\n-- Check size of ADDRESS_FAMILY - done\r\n-- Check size of off_t\r\n-- Check size of off_t - done\r\n-- Check size of curl_off_t\r\n-- Check size of curl_off_t - done\r\n-- Check size of curl_socket_t\r\n-- Check size of curl_socket_t - done\r\n-- Protocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\n-- Features: alt-svc AsynchDNS HSTS HTTP2 HTTPS-proxy IDN IPv6 Largefile libz NTLM SSL threadsafe TLS-SRP UnixSockets\r\n-- Enabled SSL backends: OpenSSL\r\n-- Configuring done (39.8s)\r\n-- Generating done (4.8s)\r\n-- Build files have been written to: C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build\r\n\r\nx64/curl-8.9.1/build via △ v3.29.0 took 45s\r\n❯ cmake --build . --config Release\r\nMSBuild version 17.9.8+b34f75857 for .NET Framework\r\n\r\n  1>Checking Build System\r\n  Generating curl-config.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Generating mk-ca-bundle.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  altsvc.c\r\n  amigaos.c\r\n  asyn-ares.c\r\n  asyn-thread.c\r\n  base64.c\r\n  bufq.c\r\n  bufref.c\r\n  c-hyper.c\r\n  cf-h1-proxy.c\r\n  cf-h2-proxy.c\r\n  cf-haproxy.c\r\n  cf-https-connect.c\r\n  cf-socket.c\r\n  cfilters.c\r\n  conncache.c\r\n  connect.c\r\n  content_encoding.c\r\n  cookie.c\r\n  curl_addrinfo.c\r\n  curl_des.c\r\n  curl_endian.c\r\n  curl_fnmatch.c\r\n  curl_get_line.c\r\n  curl_gethostname.c\r\n  curl_gssapi.c\r\n  curl_memrchr.c\r\n  curl_multibyte.c\r\n  curl_ntlm_core.c\r\n  curl_path.c\r\n  curl_range.c\r\n  curl_rtmp.c\r\n  curl_sasl.c\r\n  curl_sha512_256.c\r\n  curl_sspi.c\r\n  curl_threads.c\r\n  curl_trc.c\r\n  cw-out.c\r\n  dict.c\r\n  doh.c\r\n  dynbuf.c\r\n  dynhds.c\r\n  easy.c\r\n  easygetopt.c\r\n  easyoptions.c\r\n  escape.c\r\n  file.c\r\n  fileinfo.c\r\n  fopen.c\r\n  formdata.c\r\n  ftp.c\r\n  ftplistparser.c\r\n  getenv.c\r\n  getinfo.c\r\n  gopher.c\r\n  hash.c\r\n  headers.c\r\n  hmac.c\r\n  hostasyn.c\r\n  hostip.c\r\n  hostip4.c\r\n  hostip6.c\r\n  hostsyn.c\r\n  hsts.c\r\n  http.c\r\n  http1.c\r\n  http2.c\r\n  http_aws_sigv4.c\r\n  http_chunks.c\r\n  http_digest.c\r\n  http_negotiate.c\r\n  http_ntlm.c\r\n  http_proxy.c\r\n  idn.c\r\n  if2ip.c\r\n  imap.c\r\n  inet_ntop.c\r\n  inet_pton.c\r\n  krb5.c\r\n  ldap.c\r\n  llist.c\r\n  macos.c\r\n  md4.c\r\n  md5.c\r\n  memdebug.c\r\n  mime.c\r\n  mprintf.c\r\n  mqtt.c\r\n  multi.c\r\n  netrc.c\r\n  nonblock.c\r\n  noproxy.c\r\n  openldap.c\r\n  parsedate.c\r\n  pingpong.c\r\n  pop3.c\r\n  progress.c\r\n  psl.c\r\n  rand.c\r\n  rename.c\r\n  request.c\r\n  rtsp.c\r\n  select.c\r\n  sendf.c\r\n  setopt.c\r\n  sha256.c\r\n  share.c\r\n  slist.c\r\n  smb.c\r\n  smtp.c\r\n  socketpair.c\r\n  socks.c\r\n  socks_gssapi.c\r\n  socks_sspi.c\r\n  speedcheck.c\r\n  splay.c\r\n  strcase.c\r\n  strdup.c\r\n  strerror.c\r\n  strtok.c\r\n  strtoofft.c\r\n  system_win32.c\r\n  telnet.c\r\n  tftp.c\r\n  timediff.c\r\n  timeval.c\r\n  transfer.c\r\n  url.c\r\n  urlapi.c\r\n  version.c\r\n  version_win32.c\r\n  warnless.c\r\n  ws.c\r\n  cleartext.c\r\n  cram.c\r\n  digest.c\r\n  digest_sspi.c\r\n  gsasl.c\r\n  krb5_gssapi.c\r\n  krb5_sspi.c\r\n  ntlm.c\r\n  ntlm_sspi.c\r\n  oauth2.c\r\n  spnego_gssapi.c\r\n  spnego_sspi.c\r\n  vauth.c\r\n  bearssl.c\r\n  cipher_suite.c\r\n  gtls.c\r\n  hostcheck.c\r\n  keylog.c\r\n  mbedtls.c\r\n  mbedtls_threadlock.c\r\n  openssl.c\r\n  rustls.c\r\n  schannel.c\r\n  schannel_verify.c\r\n  sectransp.c\r\n  vtls.c\r\n  wolfssl.c\r\n  x509asn1.c\r\n  curl_msh3.c\r\n  curl_ngtcp2.c\r\n  curl_osslq.c\r\n  curl_quiche.c\r\n  vquic.c\r\n  vquic-tls.c\r\n  libssh.c\r\n  libssh2.c\r\n  wolfssh.c\r\n  libcurl_object.vcxproj -> C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\libcurl_object.dir\\Release\\libcurl_object.lib\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  dllmain.c\r\n     Creating library C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/lib/Release/libcurl_imp.lib and object C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/li\r\n  b/Release/libcurl_imp.exp\r\nopenssl.obj : error LNK2019: unresolved external symbol EVP_PKEY_id referenced in function Curl_ossl_certchain [C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\r\n\\lib\\libcurl_shared.vcxproj]\r\nopenssl.obj : error LNK2019: unresolved external symbol EVP_PKEY_bits referenced in function Curl_oss_check_peer_cert [C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.\r\n1\\build\\lib\\libcurl_shared.vcxproj]\r\nopenssl.obj : error LNK2019: unresolved external symbol EVP_PKEY_security_bits referenced in function Curl_oss_check_peer_cert [C:\\Users\\micasnyd\\dev\\work\\x64\\\r\ncurl-8.9.1\\build\\lib\\libcurl_shared.vcxproj]\r\nopenssl.obj : error LNK2019: unresolved external symbol SSL_get_peer_certificate referenced in function Curl_oss_check_peer_cert [C:\\Users\\micasnyd\\dev\\work\\x6\r\n4\\curl-8.9.1\\build\\lib\\libcurl_shared.vcxproj]\r\nC:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\Release\\libcurl.dll : fatal error LNK1120: 4 unresolved externals [C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.\r\n1\\build\\lib\\libcurl_shared.vcxproj]\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278650521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13825088582,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4ChxG","url":"https://api.github.com/repos/curl/curl/issues/events/13825088582","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:57:39Z","performed_via_github_app":null},{"id":13825088593,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4ChxR","url":"https://api.github.com/repos/curl/curl/issues/events/13825088593","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T19:57:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278678640","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278678640","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278678640,"node_id":"IC_kwDOAAiu0c6H0eBw","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T20:16:01Z","updated_at":"2024-08-09T20:16:01Z","body":"Thanks for your tests @micahsnyder!\r\n\r\nMay I ask for one more: _without_ changing/clearing `PKG_CONFIG_LIBDIR` and _with_ the suggested CMake change?\r\n\r\nI'm interested in the top of the cmake output that may show us if any of these `PKG_CONFIG_*` variables are set in your env by default, and if so to what value(s).\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278678640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13825234022,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4DFRm","url":"https://api.github.com/repos/curl/curl/issues/events/13825234022","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:16:02Z","performed_via_github_app":null},{"id":13825234031,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4DFRv","url":"https://api.github.com/repos/curl/curl/issues/events/13825234031","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:16:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278695293","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278695293","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278695293,"node_id":"IC_kwDOAAiu0c6H0iF9","user":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T20:26:00Z","updated_at":"2024-08-09T20:26:00Z","body":"@vszakats here ya go\r\n```\r\n\r\nx64/curl-8.9.1/build via △ v3.29.0 took 8s\r\n❯ $env:PKG_CONFIG_LIBDIR = \"C:\\Users\\micasnyd\\dev\\clamav-deps\\x64\\lib\"\r\n\r\nx64/curl-8.9.1/build via △\r\n❯ rm -r -force ..\\build\\*\r\n\r\nx64/curl-8.9.1/build\r\n❯ cmake.exe .. -G \"Visual Studio 17 2022\" -A x64  -D CMAKE_INSTALL_PREFIX=\"C:/Users/micasnyd/dev/clamav-deps/x64\"  -D BUILD_LIBCURL_DOCS=OFF  -D BUILD_SHARED_LIBS=ON  -D CURL_USE_OPENSSL=ON  -D OPENSSL_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIB_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib\"  -D SSL_EAY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssl.lib\"  -D ZLIB_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D ZLIB_LIBRARY_RELEASE=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib\"  -D LIBSSH2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D LIBSSH2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib\"  -D USE_NGHTTP2=ON  -D NGHTTP2_INCLUDE_DIR=\"C:/Users/micasnyd/dev/clamav-deps/x64/include\"  -D NGHTTP2_LIBRARY=\"C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\"  -D BUILD_CURL_EXE=OFF\r\n-- Using CMake version 3.29.0\r\n-- Selecting Windows SDK version 10.0.22621.0 to target Windows 10.0.22631.\r\n-- The C compiler identification is MSVC 19.39.33523.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- pkg-config PKG_CONFIG_LIBDIR: 'C:\\Users\\micasnyd\\dev\\clamav-deps\\x64\\lib'\r\n-- curl version=[8.9.1]\r\n-- Found Perl: C:/Strawberry/perl/bin/perl.exe (found version \"5.38.2\")\r\n-- Found OpenSSL: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libcrypto.lib (found version \"3.3.1\")\r\n-- Looking for OPENSSL_IS_BORINGSSL\r\n-- Looking for OPENSSL_IS_BORINGSSL - not found\r\n-- Looking for OPENSSL_IS_AWSLC\r\n-- Looking for OPENSSL_IS_AWSLC - not found\r\n-- Found ZLIB: C:/Users/micasnyd/dev/clamav-deps/x64/lib/zlibstatic.lib (found version \"1.3.1\")\r\n-- Looking for SSL_set0_wbio\r\n-- Looking for SSL_set0_wbio - found\r\n-- Looking for SSL_CTX_set_srp_username\r\n-- Looking for SSL_CTX_set_srp_username - found\r\n-- Found NGHTTP2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/nghttp2.lib\r\n-- Looking for idn2_lookup_ul in idn2\r\n-- Looking for idn2_lookup_ul in idn2 - not found\r\n-- Checking for module 'libidn2'\r\n--   Can't find libidn2.pc in any of C:/Users/micasnyd/dev/clamav-deps/x64/lib\r\nuse the PKG_CONFIG_PATH environment variable, or\r\nspecify extra search paths via 'search_paths'\r\n-- Could NOT find LibPSL (missing: LIBPSL_LIBRARY LIBPSL_INCLUDE_DIR)\r\n-- Found LibSSH2: C:/Users/micasnyd/dev/clamav-deps/x64/lib/libssh2.lib (found version \"1.11.0\")\r\n-- Performing Test HAVE_WIN32_WINNT\r\n-- Performing Test HAVE_WIN32_WINNT - Success\r\n-- Found _WIN32_WINNT=0x0a00\r\n-- Looking for stdint.h\r\n-- Looking for stdint.h - found\r\n-- Check size of size_t\r\n-- Check size of size_t - done\r\n-- Check size of ssize_t\r\n-- Check size of ssize_t - failed\r\n-- Check size of long long\r\n-- Check size of long long - done\r\n-- Check size of long\r\n-- Check size of long - done\r\n-- Check size of int\r\n-- Check size of int - done\r\n-- Check size of __int64\r\n-- Check size of __int64 - done\r\n-- Check size of time_t\r\n-- Check size of time_t - done\r\n-- Check size of ADDRESS_FAMILY\r\n-- Check size of ADDRESS_FAMILY - done\r\n-- Check size of off_t\r\n-- Check size of off_t - done\r\n-- Check size of curl_off_t\r\n-- Check size of curl_off_t - done\r\n-- Check size of curl_socket_t\r\n-- Check size of curl_socket_t - done\r\n-- Protocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp\r\n-- Features: alt-svc AsynchDNS HSTS HTTP2 HTTPS-proxy IPv6 Largefile libz NTLM SSL threadsafe TLS-SRP UnixSockets\r\n-- Enabled SSL backends: OpenSSL\r\n-- Configuring done (35.5s)\r\n-- Generating done (4.2s)\r\n-- Build files have been written to: C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build\r\n\r\nx64/curl-8.9.1/build via △ v3.29.0 took 40s\r\n❯ cmake --build . --config Release\r\nMSBuild version 17.9.8+b34f75857 for .NET Framework\r\n\r\n  1>Checking Build System\r\n  Generating curl-config.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Generating mk-ca-bundle.1\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/docs/CMakeLists.txt\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  altsvc.c\r\n  amigaos.c\r\n  asyn-ares.c\r\n  asyn-thread.c\r\n  base64.c\r\n  bufq.c\r\n  bufref.c\r\n  c-hyper.c\r\n  cf-h1-proxy.c\r\n  cf-h2-proxy.c\r\n  cf-haproxy.c\r\n  cf-https-connect.c\r\n  cf-socket.c\r\n  cfilters.c\r\n  conncache.c\r\n  connect.c\r\n  content_encoding.c\r\n  cookie.c\r\n  curl_addrinfo.c\r\n  curl_des.c\r\n  curl_endian.c\r\n  curl_fnmatch.c\r\n  curl_get_line.c\r\n  curl_gethostname.c\r\n  curl_gssapi.c\r\n  curl_memrchr.c\r\n  curl_multibyte.c\r\n  curl_ntlm_core.c\r\n  curl_path.c\r\n  curl_range.c\r\n  curl_rtmp.c\r\n  curl_sasl.c\r\n  curl_sha512_256.c\r\n  curl_sspi.c\r\n  curl_threads.c\r\n  curl_trc.c\r\n  cw-out.c\r\n  dict.c\r\n  doh.c\r\n  dynbuf.c\r\n  dynhds.c\r\n  easy.c\r\n  easygetopt.c\r\n  easyoptions.c\r\n  escape.c\r\n  file.c\r\n  fileinfo.c\r\n  fopen.c\r\n  formdata.c\r\n  ftp.c\r\n  ftplistparser.c\r\n  getenv.c\r\n  getinfo.c\r\n  gopher.c\r\n  hash.c\r\n  headers.c\r\n  hmac.c\r\n  hostasyn.c\r\n  hostip.c\r\n  hostip4.c\r\n  hostip6.c\r\n  hostsyn.c\r\n  hsts.c\r\n  http.c\r\n  http1.c\r\n  http2.c\r\n  http_aws_sigv4.c\r\n  http_chunks.c\r\n  http_digest.c\r\n  http_negotiate.c\r\n  http_ntlm.c\r\n  http_proxy.c\r\n  idn.c\r\n  if2ip.c\r\n  imap.c\r\n  inet_ntop.c\r\n  inet_pton.c\r\n  krb5.c\r\n  ldap.c\r\n  llist.c\r\n  macos.c\r\n  md4.c\r\n  md5.c\r\n  memdebug.c\r\n  mime.c\r\n  mprintf.c\r\n  mqtt.c\r\n  multi.c\r\n  netrc.c\r\n  nonblock.c\r\n  noproxy.c\r\n  openldap.c\r\n  parsedate.c\r\n  pingpong.c\r\n  pop3.c\r\n  progress.c\r\n  psl.c\r\n  rand.c\r\n  rename.c\r\n  request.c\r\n  rtsp.c\r\n  select.c\r\n  sendf.c\r\n  setopt.c\r\n  sha256.c\r\n  share.c\r\n  slist.c\r\n  smb.c\r\n  smtp.c\r\n  socketpair.c\r\n  socks.c\r\n  socks_gssapi.c\r\n  socks_sspi.c\r\n  speedcheck.c\r\n  splay.c\r\n  strcase.c\r\n  strdup.c\r\n  strerror.c\r\n  strtok.c\r\n  strtoofft.c\r\n  system_win32.c\r\n  telnet.c\r\n  tftp.c\r\n  timediff.c\r\n  timeval.c\r\n  transfer.c\r\n  url.c\r\n  urlapi.c\r\n  version.c\r\n  version_win32.c\r\n  warnless.c\r\n  ws.c\r\n  cleartext.c\r\n  cram.c\r\n  digest.c\r\n  digest_sspi.c\r\n  gsasl.c\r\n  krb5_gssapi.c\r\n  krb5_sspi.c\r\n  ntlm.c\r\n  ntlm_sspi.c\r\n  oauth2.c\r\n  spnego_gssapi.c\r\n  spnego_sspi.c\r\n  vauth.c\r\n  bearssl.c\r\n  cipher_suite.c\r\n  gtls.c\r\n  hostcheck.c\r\n  keylog.c\r\n  mbedtls.c\r\n  mbedtls_threadlock.c\r\n  openssl.c\r\n  rustls.c\r\n  schannel.c\r\n  schannel_verify.c\r\n  sectransp.c\r\n  vtls.c\r\n  wolfssl.c\r\n  x509asn1.c\r\n  curl_msh3.c\r\n  curl_ngtcp2.c\r\n  curl_osslq.c\r\n  curl_quiche.c\r\n  vquic.c\r\n  vquic-tls.c\r\n  libssh.c\r\n  libssh2.c\r\n  wolfssh.c\r\n  libcurl_object.vcxproj -> C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\libcurl_object.dir\\Release\\libcurl_object.lib\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/lib/CMakeLists.txt\r\n  dllmain.c\r\n     Creating library C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/lib/Release/libcurl_imp.lib and object C:/Users/micasnyd/dev/work/x64/curl-8.9.1/build/lib/Re\r\n  lease/libcurl_imp.exp\r\n  libcurl_shared.vcxproj -> C:\\Users\\micasnyd\\dev\\work\\x64\\curl-8.9.1\\build\\lib\\Release\\libcurl.dll\r\n  Building Custom Rule C:/Users/micasnyd/dev/work/x64/curl-8.9.1/CMakeLists.txt\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278695293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13825319975,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4DaQn","url":"https://api.github.com/repos/curl/curl/issues/events/13825319975","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:26:01Z","performed_via_github_app":null},{"id":13825319988,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4DaQ0","url":"https://api.github.com/repos/curl/curl/issues/events/13825319988","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:26:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278748201","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278748201","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278748201,"node_id":"IC_kwDOAAiu0c6H0vAp","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T20:58:32Z","updated_at":"2024-08-09T20:58:43Z","body":"Thank you @micahsnyder!\r\n\r\nWhat seems to be happening is that your env has the `PKG_CONFIG_LIBDIR=C:\\<USERPROFILE>\\dev\\clamav-deps\\x64\\lib` setting, which tells `pkg-config` to look for dependencies there. It makes CMake find libidn2 which changes header path / libpath in a way that adds an alternate OpenSSL header / lib to the build, which then leads to a mismatched header / lib situation (building against one version of the headers and linking to a different version.)\r\n\r\nMore details could be seen via a verbose build log.\r\n\r\nUnless there is a good reason to keep the `PKG_CONFIG_LIBDIR` env, the solution is to delete it. If it's needed, the conflict needs to be fixed differently, e.g. by deleting one OpenSSL copy. `USE_LIBIDN2=OFF` may also work as a temporary workaround.\r\n\r\nAs for curl's side, we're not yet sure what's the best way to allowlist and handle toggling pkg-config lookups.\r\nReports like yours help figuring it out. Thanks again!\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278748201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13825581693,"node_id":"MEE_lADOAAiu0c6SAY2FzwAAAAM4EaJ9","url":"https://api.github.com/repos/curl/curl/issues/events/13825581693","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:58:33Z","performed_via_github_app":null},{"id":13825581700,"node_id":"SE_lADOAAiu0c6SAY2FzwAAAAM4EaKE","url":"https://api.github.com/repos/curl/curl/issues/events/13825581700","actor":{"login":"val-ms","id":30635813,"node_id":"MDQ6VXNlcjMwNjM1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/30635813?v=4","gravatar_id":"","url":"https://api.github.com/users/val-ms","html_url":"https://github.com/val-ms","followers_url":"https://api.github.com/users/val-ms/followers","following_url":"https://api.github.com/users/val-ms/following{/other_user}","gists_url":"https://api.github.com/users/val-ms/gists{/gist_id}","starred_url":"https://api.github.com/users/val-ms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val-ms/subscriptions","organizations_url":"https://api.github.com/users/val-ms/orgs","repos_url":"https://api.github.com/users/val-ms/repos","events_url":"https://api.github.com/users/val-ms/events{/privacy}","received_events_url":"https://api.github.com/users/val-ms/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:58:33Z","performed_via_github_app":null},{"id":13825585621,"node_id":"LE_lADOAAiu0c6SAY2FzwAAAAM4EbHV","url":"https://api.github.com/repos/curl/curl/issues/events/13825585621","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-09T20:59:07Z","label":{"name":"not-a-curl-bug","color":"d4c5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278751793","html_url":"https://github.com/curl/curl/issues/14405#issuecomment-2278751793","issue_url":"https://api.github.com/repos/curl/curl/issues/14405","id":2278751793,"node_id":"IC_kwDOAAiu0c6H0v4x","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-09T21:01:47Z","updated_at":"2024-08-09T21:01:47Z","body":"One more: Just a shot in the dark for configuring OpenSSL: It might work better via `-DOPENSSL_ROOT_DIR=` (vs `OPENSSL_INCLUDE_DIR`). This tells where to look for the libs _and_ headers, while the other only points to the headers.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2278751793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}}]