[{"id":17918297086,"node_id":"LE_lADOAAiu0c65ObmdzwAAAAQsA4P-","url":"https://api.github.com/repos/curl/curl/issues/events/17918297086","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-01T21:27:50Z","label":{"name":"build","color":"bfdadc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2927922400","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2927922400","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2927922400,"node_id":"IC_kwDOAAiu0c6uhIzg","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-01T21:28:11Z","updated_at":"2025-06-01T21:28:11Z","body":"So how do you build curl and using which options?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2927922400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2928065566","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2928065566","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2928065566,"node_id":"IC_kwDOAAiu0c6uhrwe","user":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-01T23:02:36Z","updated_at":"2025-06-01T23:31:01Z","body":"This error was seen with buildroot test-pkg\n$  ./utils/test-pkg -k -c curl.config -p libcurl\n                    bootlin-armv5-uclibc [1/6]: OK\n                     bootlin-armv7-glibc [2/6]: OK\n                   bootlin-armv7m-uclibc [3/6]: FAILED\n                     bootlin-x86-64-musl [4/6]: OK\n                      br-arm-full-static [5/6]: OK\n                             arm-aarch64 [6/6]: OK\n6 builds, 0 skipped, 1 build failed, 0 legal-info failed, 0 show-info failed\n\n\n\n**libcurl configure options**\nAR=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc-ar\" AS=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-as\" LD=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-ld\" NM=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc-nm\" CC=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc\" GCC=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc\" CPP=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-cpp\" CXX=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-g++\" FC=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gfortran\" F77=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gfortran\" RANLIB=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc-ranlib\" READELF=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-readelf\" STRIP=\"/bin/true\" OBJCOPY=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-objcopy\" OBJDUMP=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-objdump\" AR_FOR_BUILD=\"/usr/bin/ar\" AS_FOR_BUILD=\"/usr/bin/as\" CC_FOR_BUILD=\"/usr/bin/gcc\" GCC_FOR_BUILD=\"/usr/bin/gcc\" CXX_FOR_BUILD=\"/usr/bin/g++\" LD_FOR_BUILD=\"/usr/bin/ld\" CPPFLAGS_FOR_BUILD=\"-I/br-test-pkg/bootlin-armv7m-uclibc/host/include\" CFLAGS_FOR_BUILD=\"-O2 -I/br-test-pkg/bootlin-armv7m-uclibc/host/include\" CXXFLAGS_FOR_BUILD=\"-O2 -I/br-test-pkg/bootlin-armv7m-uclibc/host/include\" LDFLAGS_FOR_BUILD=\"-L/br-test-pkg/bootlin-armv7m-uclibc/host/lib -Wl,-rpath,/br-test-pkg/bootlin-armv7m-uclibc/host/lib\" FCFLAGS_FOR_BUILD=\"\" DEFAULT_ASSEMBLER=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-as\" DEFAULT_LINKER=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-ld\" CPPFLAGS=\"-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64\" CFLAGS=\"-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64  -O2 -g0   -Wl,-elf2flt=-r -static\" CXXFLAGS=\"-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64  -O2 -g0   -Wl,-elf2flt=-r -static  -Wl,-elf2flt=-r -static\" LDFLAGS=\"  -Wl,-elf2flt=-r -static\" FCFLAGS=\" -O2 -g0  -Wl,-elf2flt=-r -static\" FFLAGS=\" -O2 -g0  -Wl,-elf2flt=-r -static\" PKG_CONFIG=\"/br-test-pkg/bootlin-armv7m-uclibc/host/bin/pkg-config\" STAGING_DIR=\"/br-test-pkg/bootlin-armv7m-uclibc/host/arm-buildroot-uclinux-uclibcgnueabi/sysroot\" INTLTOOL_PERL=/usr/bin/perl ac_cv_lbl_unaligned_fail=yes ac_cv_func_mmap_fixed_mapped=yes ac_cv_func_memcmp_working=yes ac_cv_have_decl_malloc=yes gl_cv_func_malloc_0_nonnull=yes ac_cv_func_malloc_0_nonnull=yes ac_cv_func_calloc_0_nonnull=yes ac_cv_func_realloc_0_nonnull=yes lt_cv_sys_lib_search_path_spec=\"\" ac_cv_c_bigendian=no   CONFIG_SITE=/dev/null ./configure --target=arm-buildroot-uclinux-uclibcgnueabi --host=arm-buildroot-uclinux-uclibcgnueabi --build=x86_64-pc-linux-gnu --prefix=/usr --exec-prefix=/usr --sysconfdir=/etc --localstatedir=/var --program-prefix=\"\" --disable-gtk-doc --disable-gtk-doc-html --disable-doc --disable-docs --disable-documentation --with-xmlto=no --with-fop=no --disable-dependency-tracking --enable-ipv6 --disable-nls --enable-static --disable-shared  --disable-manual --disable-ntlm --disable-ntlm-wb --with-random=/dev/urandom --disable-curldebug --disable-libcurl-option --disable-ldap --disable-ldaps --enable-threaded-resolver LIBS=-latomic --enable-verbose --without-ssl --without-openssl --without-bearssl --without-gnutls --without-mbedtls --without-wolfssl --disable-ares --without-libidn2 --without-libpsl --without-libssh2 --without-brotli --without-nghttp2 --without-libgsasl --enable-cookies --enable-proxy --enable-websockets --enable-dict --enable-gopher --enable-imap --enable-pop3 --enable-rtsp --enable-smb --enable-smtp --enable-telnet --enable-tftp `\n\n**Configuration Report**\n`configure: Configured to build curl/libcurl:\n\n  Host setup:       arm-buildroot-uclinux-uclibcgnueabi\n  Install prefix:   /usr\n  Compiler:         /br-test-pkg/bootlin-armv7m-uclibc/host/bin/arm-linux-gcc\n   CFLAGS:          -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g0 -Wl,-elf2flt=-r -static -Werror-implicit-function-declaration -Wno-system-headers\n   CFLAGS extras:   \n   CPPFLAGS:        -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64\n   LDFLAGS:         -Wl,-elf2flt=-r -static -L/br-test-pkg/bootlin-armv7m-uclibc/host/bin/../arm-buildroot-uclinux-uclibcgnueabi/sysroot/usr/lib\n     curl-config:   \n   LIBS:            -lz -latomic\n\n  curl version:     8.14.0\n  SSL:              no      (--with-{openssl,gnutls,mbedtls,wolfssl,schannel,secure-transport,amissl,bearssl,rustls} )\n  SSH:              no      (--with-{libssh,libssh2})\n  zlib:             enabled\n  brotli:           no      (--with-brotli)\n  zstd:             no      (--with-zstd)\n  GSS-API:          no      (--with-gssapi)\n  GSASL:            no      (--with-gsasl)\n  TLS-SRP:          no      (--enable-tls-srp)\n  resolver:         POSIX threaded\n  IPv6:             enabled\n  Unix sockets:     enabled\n  IDN:              no      (--with-{libidn2,winidn})\n  Build docs:       no\n  Build libcurl:    Shared=no, Static=yes\n  Built-in manual:  no      (--enable-manual)\n  --libcurl option: no\n  Verbose errors:   enabled (--disable-verbose)\n  Code coverage:    disabled\n  SSPI:             no      (--enable-sspi)\n  ca cert bundle:   no\n  ca cert path:     \n  ca cert embed:    no\n  ca fallback:      \n  LDAP:             no      (--enable-ldap / --with-ldap-lib / --with-lber-lib)\n  LDAPS:            no      (--enable-ldaps)\n  IPFS/IPNS:        enabled\n  RTSP:             enabled\n  RTMP:             no      (--with-librtmp)\n  PSL:              no      (--with-libpsl)\n  Alt-svc:          enabled (--disable-alt-svc)\n  Headers API:      enabled (--disable-headers-api)\n  HSTS:             no      (--enable-hsts)\n  HTTP1:            enabled (internal)\n  HTTP2:            no      (--with-nghttp2)\n  HTTP3:            no      (--with-ngtcp2 --with-nghttp3, --with-quiche, --with-openssl-quic, --with-msh3)\n  ECH:              no      (--enable-ech)\n  HTTPS RR:         no      (--enable-httpsrr)\n  SSLS-EXPORT:      no      (--enable-ssls-export)\n  Protocols:        dict file ftp gopher http imap ipfs ipns mqtt pop3 rtsp smtp telnet tftp ws\n  Features:         alt-svc AsynchDNS IPv6 Largefile libz threadsafe UnixSockets\n`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2928065566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2928979764","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2928979764","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2928979764,"node_id":"IC_kwDOAAiu0c6ulK80","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T06:16:02Z","updated_at":"2025-06-02T06:16:02Z","body":"configure checks for `accept4` and curl uses it only if detected and a quick google seems to indicate that uClibc-ng supports it.\n\nDoes it work if you just do this?\n~~~diff\ndiff --git a/lib/curl_setup_once.h b/lib/curl_setup_once.h\nindex c1051e0fae..379d41f09c 100644\n--- a/lib/curl_setup_once.h\n+++ b/lib/curl_setup_once.h\n@@ -95,10 +95,11 @@\n #    endif\n #  endif\n #endif\n \n #ifdef HAVE_SYS_SOCKET_H\n+#define _GNU_SOURCE\n #include <sys/socket.h>\n #endif\n \n #include \"functypes.h\"\n \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2928979764/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929035402","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2929035402","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2929035402,"node_id":"IC_kwDOAAiu0c6ulYiK","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T06:36:07Z","updated_at":"2025-06-02T06:38:45Z","body":"@kadambininema Can you post your full `./configure` output, and the output of `make V=1`? Seeing `lib/curl_config.h` and `config.log` would also give useful clues.\n\nIt's curious that other uclibc jobs pass, e.g. `bootlin-m68k-68040-uclibc`:\nhttps://gitlab.com/jolivain/buildroot/-/jobs/10212653614\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929035402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17924866744,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQsZ8K4","url":"https://api.github.com/repos/curl/curl/issues/events/17924866744","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T06:36:09Z","performed_via_github_app":null},{"id":17924866759,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQsZ8LH","url":"https://api.github.com/repos/curl/curl/issues/events/17924866759","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T06:36:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929336647","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2929336647","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2929336647,"node_id":"IC_kwDOAAiu0c6umiFH","user":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T08:08:37Z","updated_at":"2025-06-02T08:15:17Z","body":"> configure checks for `accept4` and curl uses it only if detected and a quick google seems to indicate that uClibc-ng supports it.\n> \n> Does it work if you just do this?\n> \n> diff --git a/lib/curl_setup_once.h b/lib/curl_setup_once.h\n> index c1051e0fae..379d41f09c 100644\n> --- a/lib/curl_setup_once.h\n> +++ b/lib/curl_setup_once.h\n> @@ -95,10 +95,11 @@\n>  #    endif\n>  #  endif\n>  #endif\n>  \n>  #ifdef HAVE_SYS_SOCKET_H\n> +#define _GNU_SOURCE\n>  #include <sys/socket.h>\n>  #endif\n>  \n>  #include \"functypes.h\"\n\nThe build failure on bootlin-armv7m-uclibc persists even after applying this patch.\nPlease see the attached log file.\n[logfile.txt](https://github.com/user-attachments/files/20547389/logfile.txt)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929336647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929371293","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2929371293","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2929371293,"node_id":"IC_kwDOAAiu0c6umqid","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T08:16:19Z","updated_at":"2025-06-02T08:16:19Z","body":"@kadambininema so what do you need to do on your platform to use accept4() ? configure detects it fine and documentation seems to say it exists in your libc.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929371293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17926820997,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQshZSF","url":"https://api.github.com/repos/curl/curl/issues/events/17926820997","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T08:16:21Z","performed_via_github_app":null},{"id":17926821055,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQshZS_","url":"https://api.github.com/repos/curl/curl/issues/events/17926821055","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T08:16:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929379422","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2929379422","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2929379422,"node_id":"IC_kwDOAAiu0c6umshe","user":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T08:19:04Z","updated_at":"2025-06-02T08:19:04Z","body":"> curl_config.h\n\n[config.log](https://github.com/user-attachments/files/20547537/config.log)\n\n[curl_config.h.txt](https://github.com/user-attachments/files/20547595/curl_config.h.txt)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929379422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929399698","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2929399698","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2929399698,"node_id":"IC_kwDOAAiu0c6umxeS","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T08:25:21Z","updated_at":"2025-06-02T08:25:21Z","body":"Yes, those files show how curl detects accep4 and deems it should use it.\n\nThe remaining question is why it doesn't work.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2929399698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930349280","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2930349280","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2930349280,"node_id":"IC_kwDOAAiu0c6uqZTg","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T12:02:40Z","updated_at":"2025-06-02T18:38:24Z","body":"@kadambininema According to the configure output, `CPPFLAGS` is missing `-D_GNU_SOURCE`,\nwhich would be required by uglibc's `sys/socket.h` to declare `accept4()`. `make V=1` output could\nconfirm it by showing the compiler command-line.\n\n`accept4` detection doesn't rely on the header and this macro, which may cause a build error like this.\n\nBut, this should have been fixed by @bagder's patch above.\n\nOne more thing to try is passing `-D_GNU_SOURCE` explicitly via `CPPFLAGS`, or possibly tweaking\nthis condition to detect this host platform as Linux:\nhttps://github.com/curl/curl/blob/700b5445b2023d4da348b56a982079d8d23231a0/configure.ac#L595-L596\n\n(Another option is to swap `AC_CHECK_FUNCS()`-based detection to something more comprehensive\nand replace `check_function_exists()` with `check_symbol_exists()` for CMake. Though this one\ncan make detection fragile.)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2930349280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17931864706,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQs0oqC","url":"https://api.github.com/repos/curl/curl/issues/events/17931864706","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:02:41Z","performed_via_github_app":null},{"id":17931864744,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQs0oqo","url":"https://api.github.com/repos/curl/curl/issues/events/17931864744","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:02:41Z","performed_via_github_app":null},{"id":17931864792,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQs0orY","url":"https://api.github.com/repos/curl/curl/issues/events/17931864792","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:02:42Z","performed_via_github_app":null},{"id":17931864812,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQs0ors","url":"https://api.github.com/repos/curl/curl/issues/events/17931864812","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:02:42Z","performed_via_github_app":null},{"id":17941230662,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQtYXRG","url":"https://api.github.com/repos/curl/curl/issues/events/17941230662","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:09:37Z","performed_via_github_app":null},{"id":17941230679,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQtYXRX","url":"https://api.github.com/repos/curl/curl/issues/events/17941230679","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:09:37Z","performed_via_github_app":null},{"id":17941230699,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQtYXRr","url":"https://api.github.com/repos/curl/curl/issues/events/17941230699","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:09:37Z","performed_via_github_app":null},{"id":17941230713,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQtYXR5","url":"https://api.github.com/repos/curl/curl/issues/events/17941230713","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:09:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932103760","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2932103760","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2932103760,"node_id":"IC_kwDOAAiu0c6uxFpQ","user":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T19:14:27Z","updated_at":"2025-06-02T19:14:27Z","body":"> [@kadambininema](https://github.com/kadambininema) According to the configure output, `CPPFLAGS` is missing `-D_GNU_SOURCE`, which would be required by uglibc's `sys/socket.h` to declare `accept4()`. `make V=1` output could confirm it by showing the compiler command-line.\n> \n> `accept4` detection doesn't rely on the header and this macro, which may cause a build error like this.\n> \n> But, this should have been fixed by [@bagder](https://github.com/bagder)'s patch above.\n> \n> One more thing to try is passing `-D_GNU_SOURCE` explicitly via `CPPFLAGS`, or possibly tweaking this condition to detect this host platform as Linux:\n> \n> [curl/configure.ac](https://github.com/curl/curl/blob/700b5445b2023d4da348b56a982079d8d23231a0/configure.ac#L595-L596)\n> \n> Lines 595 to 596 in [700b544](/curl/curl/commit/700b5445b2023d4da348b56a982079d8d23231a0)\n>  linux*|cygwin*|msys*) \n>    CPPFLAGS=\"$CPPFLAGS -D_GNU_SOURCE\" \n> \n> (Another option is to swap `AC_CHECK_FUNCS()`-based detection to something more comprehensive and replace `check_function_exists()` with `check_symbol_exists()` for CMake. Though this one can make detection fragile.)\n\nThank you @vszakats and @bagder . The build is successful after adding  `-D_GNU_SOURCE`  in  the `CFLAGS` during configure step.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932103760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17941310417,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQtYqvR","url":"https://api.github.com/repos/curl/curl/issues/events/17941310417","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:14:28Z","performed_via_github_app":null},{"id":17941310443,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQtYqvr","url":"https://api.github.com/repos/curl/curl/issues/events/17941310443","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:14:28Z","performed_via_github_app":null},{"id":17941310468,"node_id":"MEE_lADOAAiu0c65ObmdzwAAAAQtYqwE","url":"https://api.github.com/repos/curl/curl/issues/events/17941310468","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:14:28Z","performed_via_github_app":null},{"id":17941310480,"node_id":"SE_lADOAAiu0c65ObmdzwAAAAQtYqwQ","url":"https://api.github.com/repos/curl/curl/issues/events/17941310480","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:14:28Z","performed_via_github_app":null},{"id":17941316439,"node_id":"CE_lADOAAiu0c65ObmdzwAAAAQtYsNX","url":"https://api.github.com/repos/curl/curl/issues/events/17941316439","actor":{"login":"kadambininema","id":158061525,"node_id":"U_kgDOCWvT1Q","avatar_url":"https://avatars.githubusercontent.com/u/158061525?v=4","gravatar_id":"","url":"https://api.github.com/users/kadambininema","html_url":"https://github.com/kadambininema","followers_url":"https://api.github.com/users/kadambininema/followers","following_url":"https://api.github.com/users/kadambininema/following{/other_user}","gists_url":"https://api.github.com/users/kadambininema/gists{/gist_id}","starred_url":"https://api.github.com/users/kadambininema/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kadambininema/subscriptions","organizations_url":"https://api.github.com/users/kadambininema/orgs","repos_url":"https://api.github.com/users/kadambininema/repos","events_url":"https://api.github.com/users/kadambininema/events{/privacy}","received_events_url":"https://api.github.com/users/kadambininema/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T19:14:53Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932652739","html_url":"https://github.com/curl/curl/issues/17512#issuecomment-2932652739","issue_url":"https://api.github.com/repos/curl/curl/issues/17512","id":2932652739,"node_id":"IC_kwDOAAiu0c6uzLrD","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-02T21:57:08Z","updated_at":"2025-06-02T21:57:08Z","body":"If we could figure out where the condition fails, we may merge a fix to make the manual workaround unnecessary.\n\nDoes this patch work for you, after dropping the `CFLAGS` workaround?:\n```diff\n--- a/configure.ac\n+++ b/configure.ac\n@@ -592,7 +592,7 @@ AM_CONDITIONAL(BUILD_UNITTESTS, test x$supports_unittests = xyes)\n # In order to detect support of sendmmsg() and accept4(), we need to escape the POSIX\n # jail by defining _GNU_SOURCE or <sys/socket.h> will not expose it.\n case $host_os in\n-  linux*|cygwin*|msys*)\n+  *linux*|cygwin*|msys*)\n     CPPFLAGS=\"$CPPFLAGS -D_GNU_SOURCE\"\n     ;;\n esac\n```\n\n`host_os` should be `uclinux-uclibcgnueabi` in this case.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2932652739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17944565379,"node_id":"REFE_lADOAAiu0c65ObmdzwAAAAQtlFaD","url":"https://api.github.com/repos/curl/curl/issues/events/17944565379","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f1d97288aae905510c2b7c0974b7f3ab00d45c9b","commit_url":"https://api.github.com/repos/vszakats/curl/commits/f1d97288aae905510c2b7c0974b7f3ab00d45c9b","created_at":"2025-06-02T22:41:46Z","performed_via_github_app":null}]