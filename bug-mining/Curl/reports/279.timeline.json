[{"id":9425824120,"node_id":"LE_lADOAAiu0c5nti3_zwAAAAIx0ql4","url":"https://api.github.com/repos/curl/curl/issues/events/9425824120","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-04T21:02:31Z","label":{"name":"tests","color":"a7a8e8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1575748193","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1575748193","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1575748193,"node_id":"IC_kwDOAAiu0c5d7AJh","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-04T21:57:26Z","updated_at":"2023-06-04T21:57:26Z","body":"What is curious is why this happens on cygwin and not elsewhere, as I figure openssh is as picky everywhere.\r\n\r\nThe `sshserver.pl`  script does use `chmod 600`:\r\n\r\nhttps://github.com/curl/curl/blob/6854b6c58e6288c848a60f7732103726a6211c51/tests/sshserver.pl#L411-L413\r\n\r\nWhat also puzzles me is why the warning messages use the directory name and not the specific file names:\r\n\r\n> Unable to load host key \"$HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\": bad permissions","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1575748193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576136280","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1576136280","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1576136280,"node_id":"IC_kwDOAAiu0c5d8e5Y","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T06:42:23Z","updated_at":"2023-06-05T06:42:23Z","body":"Those private key files `curl_client_key` `curl_host_rsa_key` are `0600`, but all other files in that directory and above are `0644`, and that directory `$HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/log/server/`, and its containers, up to the directory named, and used in the `curl_sshd_config` file (below), are all `0755`.\r\n*[lightly sanitized for my protection]*\r\n```ssh\r\n# This is a generated file.  Do not edit.\r\n# OpenSSH 9.3.0 sshd configuration file for curl testing\r\n#\r\nDenyUsers !$USER\r\nAllowUsers $USER\r\nAuthorizedKeysFile $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\nAuthorizedKeysFile2 $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\nHostKey $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\nPidFile $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\n...\r\n```\r\n*Cygwin* is up to date on *OpenSSH* `9.3p1` although we are lagging a bit on *OpenSSL* `1.1.1t`.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576136280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576145065","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1576145065","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1576145065,"node_id":"IC_kwDOAAiu0c5d8hCp","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T06:51:01Z","updated_at":"2023-06-05T06:53:20Z","body":"> AuthorizedKeysFile $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/\r\n\r\nThis is probably the best hint: it (wrongly) specifies the directory and not the correct file.\r\n\r\nIs this the patch that is missing?\r\n~~~diff\r\ndiff --git a/tests/sshserver.pl b/tests/sshserver.pl\r\nindex 2a6956189..8924e9f1f 100755\r\n--- a/tests/sshserver.pl\r\n+++ b/tests/sshserver.pl\r\n@@ -450,13 +450,13 @@ if ($sshdid =~ /OpenSSH-Windows/) {\r\n     $pidfile_config = pathhelp::sys_native_abs_path($pidfile);\r\n     $sftpsrv_config = pathhelp::sys_native_abs_path($sftpsrv);\r\n }\r\n elsif (pathhelp::os_is_win()) {\r\n     # Ensure to use MinGW/Cygwin paths\r\n-    $clipubkeyf_config = pathhelp::build_sys_abs_path($clipubkeyf_config);\r\n-    $hstprvkeyf_config = pathhelp::build_sys_abs_path($hstprvkeyf_config);\r\n-    $pidfile_config = pathhelp::build_sys_abs_path($pidfile_config);\r\n+    $clipubkeyf_config = pathhelp::build_sys_abs_path($clipubkeyf);\r\n+    $hstprvkeyf_config = pathhelp::build_sys_abs_path($hstprvkeyf);\r\n+    $pidfile_config = pathhelp::build_sys_abs_path($pidfile);\r\n     $sftpsrv_config = \"internal-sftp\";\r\n }\r\n else {\r\n     $clipubkeyf_config = abs_path(pp($clipubkeyf));\r\n     $hstprvkeyf_config = abs_path(pp($hstprvkeyf));\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576145065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576288844","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1576288844","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1576288844,"node_id":"IC_kwDOAAiu0c5d9EJM","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T08:03:39Z","updated_at":"2023-06-05T08:03:39Z","body":"That patch is missing, but should be irrelevant on *Cygwin*, as it should always be treated just like any *newlib* based *Unix* (**never** like *Windows*!) and always take the `else`  option, but on *Cygwin* we do cross-build (and test) *Mingw* `mingw64-x86_64-curl` devel packages, as we do on *Fedora* (on which we also cross-build for *Cygwin*!), and *Mingw* is **native** *Windows*. \r\n\r\nI also noticed use of `cygpath`, which is only used for *Windows* path interop, never in \"native\" *Cygwin*, nor native *Windows*, although I think it is used with *Msys*, which uses *Cygwin* internally for native *Windows* development using *GNU* toolchain. \r\n\r\n*Cygwin* packages treat paths like *BSD*/*Linux*, and some utilities may be so transparent that *Windows* paths pass thru the emulation layer and may be used verbatim; but a lot of *Unix* utilities mess with paths, and we do not care if *Windows* paths cause problems: users are advised to use *Cygwin*/*Unix* paths, and use `cygpath` to convert *Windows* paths (if they really feel the need to use them) to valid form. \r\n\r\n[Personally, I have mostly used `/` in native *DOS/Windows* paths (except some annoying *MS* utilities that *require* `\\`) since *DOS* supported `switchar` to allow `/` paths instead of `\\` paths and `-options` instead of `/options`!\r\nI automatically typed `\\\\` there, and found the escape was not needed in this markup, so deleted them ;^> ]","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576288844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576315025","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1576315025","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1576315025,"node_id":"IC_kwDOAAiu0c5d9KiR","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T08:14:24Z","updated_at":"2023-06-05T08:14:24Z","body":"> That patch is missing\r\n\r\nDoes it make the test run fine when applied?\r\n\r\n> but should be irrelevant on Cygwin\r\n\r\nFeel free to propose a change that removes the use of it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576315025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576697155","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1576697155","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1576697155,"node_id":"IC_kwDOAAiu0c5d-n1D","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-05T12:31:10Z","updated_at":"2023-06-05T12:38:31Z","body":"Can't speak for Cygwin specifically, but since it runs on Windows, it _may_ [*] be affected by Windows ACLs. To fix that in libssh2, I had to do this:\r\nhttps://github.com/libssh2/libssh2/blob/187d89bb0740400e8fa0b5f1441d089392797f53/tests/test_sshd.test#L93-L98\r\n```bash\r\n  chmod go-rwx \"${PRIVKEY}\"\r\n  if [[ \"$(uname)\" = *'_NT'* ]]; then\r\n    export MSYS2_ARG_CONV_EXCL='/reset'\r\n    icacls \"${PRIVKEY}\" /reset\r\n    icacls \"${PRIVKEY}\" /grant:r \"${USERNAME}:(R)\"\r\n    icacls \"${PRIVKEY}\" /inheritance:r\r\n  fi\r\n```\r\n\r\n[*] depending on how Cygwin emulates Unix permissions and/or how this particular sshd build checks permissions.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1576697155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579551098","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1579551098","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1579551098,"node_id":"IC_kwDOAAiu0c5eJgl6","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T22:35:32Z","updated_at":"2023-06-07T00:24:32Z","body":"@vszakats\r\n*Cygwin* emulates *Windows* ACLs as *Linux*/*NFSv4* ACLs and provides `getfacl`/`setfacl`, so the equivalent to your commands above is probably `setfacl -b $PRIVKEY`, to remove all non-default POSIX permissions, although the *Cygwin* package build scripts avoid issues by setting build tree dirs like that and also make them case sensitive (if supported, as on recent Windows), avoiding issues with some Linux sources, like e.g. Linux man pages. \r\nFor example, `lsp` is a *Cygwin* `bash` function below which makes checking perms easier by showing output from `ls`, `getfacl`, and `icacls` on file args:\r\n```\r\n$ which lsp\r\nlsp ()\r\n{\r\n    local p o='-n';\r\n    for p in \"$@\";\r\n    do\r\n        echo $o;\r\n        /bin/ls --color=auto -adlL \"$p\" && echo && getfacl \"$p\" && icacls \"$(cygpath -m \"$p\")\";\r\n        o='';\r\n    done\r\n}\r\n```\r\nwith lightly sanitized output from config/keys dir and some files:\r\n```\r\n$ lsp curl-8.1.2-1.x86_64/build/tests/log/server{,/curl_client_key*}\r\ndrwxr-xr-x 1 $USER None 0 Jun  6 16:08 curl-8.1.2-1.x86_64/build/tests/log/server\r\n\r\n# file: curl-8.1.2-1.x86_64/build/tests/log/server\r\n# owner: $USER\r\n# group: None\r\nuser::rwx\r\ngroup::r-x\r\nother::r-x\r\ndefault:user::rwx\r\ndefault:group::r-x\r\ndefault:other::r-x\r\n\r\ncurl-8.1.2-1.x86_64/build/tests/log/server $HOSTNAME/$USER:(F)\r\n                                           $HOSTNAME/None:(RX)\r\n                                           Everyone:(RX)\r\n                                           CREATOR OWNER:(OI)(CI)(IO)(F)\r\n                                           CREATOR GROUP:(OI)(CI)(IO)(RX)\r\n                                           Everyone:(OI)(CI)(IO)(RX)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n\r\n-rw------- 1 $USER None 2602 Jun  3 16:37 curl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key\r\n\r\n# file: curl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key\r\n# owner: $USER\r\n# group: None\r\nuser::rw-\r\ngroup::---\r\nother::---\r\n\r\ncurl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key $HOSTNAME/$USER:(R,W,D,WDAC,WO)\r\n                                                           $HOSTNAME/None:(Rc,S,RA)\r\n                                                           Everyone:(Rc,S,RA)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n\r\n-rw-r--r-- 1 $USER None 570 Jun  3 16:37 curl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key.pub\r\n\r\n# file: curl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key.pub\r\n# owner: $USER\r\n# group: None\r\nuser::rw-\r\ngroup::r--\r\nother::r--\r\n\r\ncurl-8.1.2-1.x86_64/build/tests/log/server/curl_client_key.pub $HOSTNAME/$USER:(R,W,D,WDAC,WO)\r\n                                                               $HOSTNAME/None:(R)\r\n                                                               Everyone:(R)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579551098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579578503","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1579578503","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1579578503,"node_id":"IC_kwDOAAiu0c5eJnSH","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T23:09:10Z","updated_at":"2023-06-07T00:24:50Z","body":"@bagder \r\n>> That patch is missing\r\n> Does it make the test run fine when applied?\r\nIt eliminates that `@@@...` complaint, and makes the output more explicit, such that it appears obvious that the tests are getting confused between *Cygwin* and *Windows*, looks like they are trying to run *Windows* sshd with *Cygwin* sshd config:\r\n[curl-8.1.2-1-check.log](https://github.com/curl/curl/files/11670877/curl-8.1.2-1-check.log)\r\nwhere `curl_sshd_config` matches `/usr/sbin/sshd -V` (below):\r\n```\r\n# This is a generated file.  Do not edit.\r\n# OpenSSH 9.3.0 sshd configuration file for curl testing\r\n...\r\n```\r\nbut messages show a *Windows* path to `curl_sshd_config`, with unrecognized options, ending with '\\r' EoLs\r\n`C:/.../src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/log/server/curl_sshd_config line 7: Deprecated option AuthorizedKeysFile2^M`\r\n and the path to the keys is wrong for the *Cygwin* build \r\n`Unable to load host key: $HOME/src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/curl_host_rsa_key`\r\nwhereas the config and keys are in `.../src/cygwin/curl/curl-8.1.2-1.x86_64/build/tests/log/server/`\r\nFYI\r\n```\r\n$ /usr/sbin/sshd -V\r\nOpenSSH_9.3, OpenSSL 1.1.1t  7 Feb 2023\r\n$ `cygpath -S`/OpenSSH/sshd -V\r\nunknown option -- V\r\nOpenSSH_for_Windows_8.1p1, LibreSSL 3.0.2\r\nusage: sshd [-46DdeiqTt] [-C connection_spec] [-c host_cert_file]\r\n            [-E log_file] [-f config_file] [-g login_grace_time]\r\n            [-h host_key_file] [-o option] [-p port] [-u len]\r\n```\r\n\r\n\r\n> > but should be irrelevant on Cygwin\r\n> Feel free to propose a change that removes the use of it.\r\n```\r\nelsif (pathhelp::os_is_win()) {\r\n    # Ensure to use MinGW/Cygwin^W paths\r\n```\r\nFix perl `pathhelp::os_is_win()` so it always returns *false* for *Cygwin* like everything else, perhaps only use *Windows* paths if the *host* and *target* are *Windows* or *Mingw*, as *Cygwin* and *Fedora* cross-compile for *Mingw*, so should use *host* `sshd` with *Unix* paths.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579578503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579610597","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1579610597","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1579610597,"node_id":"IC_kwDOAAiu0c5eJvHl","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-06T23:49:48Z","updated_at":"2023-06-06T23:49:48Z","body":"Can confirm that LF line-endings in keys and configs are necessary to make sshd happy on all platforms.\r\n\r\nDid the snippet with `icacls` commands work when run from a Cygwin shell? Did they solve the permission problem?\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579610597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9452075171,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAIzYzij","url":"https://api.github.com/repos/curl/curl/issues/events/9452075171","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:24:33Z","performed_via_github_app":null},{"id":9452075180,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAIzYzis","url":"https://api.github.com/repos/curl/curl/issues/events/9452075180","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:24:33Z","performed_via_github_app":null},{"id":9452076588,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAIzYz4s","url":"https://api.github.com/repos/curl/curl/issues/events/9452076588","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:24:50Z","performed_via_github_app":null},{"id":9452076598,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAIzYz42","url":"https://api.github.com/repos/curl/curl/issues/events/9452076598","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:24:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579655215","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1579655215","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1579655215,"node_id":"IC_kwDOAAiu0c5eJ6Av","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T00:36:02Z","updated_at":"2023-06-07T00:36:02Z","body":"@vszakats [see above](https://github.com/curl/curl/issues/11244#issuecomment-1579551098)\r\nNever need to use `icacls` under *Cygwin* as it emulates ACLs with `setfacl`/`getfacl` and package build processes always reset perms, attributes, and other *Windows* stuff, so the users and maintainers can ignore most of *Windows*. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579655215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9452133567,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAIzZBy_","url":"https://api.github.com/repos/curl/curl/issues/events/9452133567","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:36:03Z","performed_via_github_app":null},{"id":9452133572,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAIzZBzE","url":"https://api.github.com/repos/curl/curl/issues/events/9452133572","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T00:36:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579830716","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1579830716","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1579830716,"node_id":"IC_kwDOAAiu0c5eKk28","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T03:41:28Z","updated_at":"2023-06-07T14:56:03Z","body":"@bagder \r\nHacking `pathhelp.pm` to force *Cygwin* not to be treated like *Windows* and `cygpath` not to be used:\r\n[curl-8.1.2-test-pathhelp-pm-Cygwin-not-Win.patch](https://github.com/curl/curl/files/11672190/curl-8.1.2-test-pathhelp-pm-Cygwin-not-Win.patch)\r\n```diff\r\n--- origsrc/tests/pathhelp.pm\t2023-05-15 04:55:59.000000000 -0600\r\n+++ src/tests/pathhelp.pm\t2023-06-06 20:58:26.638964400 -0600\r\n@@ -77,8 +77,8 @@ BEGIN {\r\n {\r\n     # Cached static variable, Perl 5.0-compatible.\r\n     my $is_win = $^O eq 'MSWin32'\r\n-              || $^O eq 'cygwin'\r\n               || $^O eq 'msys';\r\n+#             || $^O eq 'cygwin'\r\n \r\n     # Returns boolean true if OS is any form of Windows.\r\n     sub os_is_win {\r\n@@ -96,7 +96,7 @@ BEGIN {\r\n     }\r\n }\r\n \r\n-my $use_cygpath;     # Only for Win32:\r\n+my $use_cygpath = 0; # Only for Win32:\r\n                      #  undef - autodetect\r\n                      #      0 - do not use cygpath\r\n                      #      1 - use cygpath\r\n```\r\nyields the following more detailed, lightly trimmed, and sanitized log:\r\n[curl-8.1.2-check.log](https://github.com/curl/curl/files/11672200/curl-8.1.2-check.log)\r\nwhich showed *NO* *Windows* paths, although all the detailed test log output lines between `test 0581 OK...` and `test 0584 OK...` had annoying `\\r`/`^M` EoLs which have been stripped! ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1579830716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1580088620","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1580088620","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1580088620,"node_id":"IC_kwDOAAiu0c5eLj0s","user":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T07:24:25Z","updated_at":"2023-06-07T07:24:25Z","body":"`icacls` is the more universal solution (covering both Cygwin and non-Cygwin on Windows on top of a Windows FS), _if_ it works as expected when called from Cygwin. That's why it'd be useful to test that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1580088620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1580991886","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1580991886","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1580991886,"node_id":"IC_kwDOAAiu0c5ePAWO","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T14:53:37Z","updated_at":"2023-06-07T15:34:34Z","body":"@vszakats \r\nThe issue is that `icacls` and other *Windows* ACL interfaces do not easily support the *POSIX* ACL and permissions semantics that *Cygwin* enforces, and some *Windows* ACL interfaces (like *Explorer*) do not like the (\"non-standard\") ACL order *Cygwin* uses to achieve that, and as usual when trying to *fix* something it does not support, reorders the ACEs in the ACLs with devastating effects. \r\nIt is quite easy under *Cygwin* to create files and directory trees that are inaccessible from *Windows* programs, even when those are using *elevated admin* privileges, as that is kind of the point of ACLs, blocking *System* and *Admin* users from even seeing what they should not know exists, requiring use of `setfacl` to restore \"normal\" *Windows* ACLs and DACLs for user and program access. \r\nSome of the *Cygwin* purists prefer all *Windows* programs be unable to see or touch *Cygwin* files.  \r\nMost of us want to retain the *Cygwin* interoperability benefits of being able to use some *Windows* utilities if we want to, and *Cygwin* has retained its *Cygnus* heritage of supporting *newlib* as *Cygwin* *libc*, and for embedded board development, including by ARM, Atollic, CodeSourcery, Code Red, KPIT, Red Hat, Renesas, used in most commercial and non-commercial GCC ports for non-Linux embedded systems, including devKitARM, devKitPPC, either standalone, using more limited editions like *newlib-nano*/*nanolibc* or *picolibc*, or heavier embedded RTOSes, including Google *NaCL*, *RTEMS* and its supported architectures and boards, also as a *libc* option for *AmigaOS*. \r\n*Windows* backup programs do not do what is required, so *Cygwin* `rsync` is often required when tree clones are more complex than `cp` can handle, like retaining *stIcky* bit user permissions under `/run/`, `/tmp/`, and `/var/` directory trees:\r\n```sh\r\n$ lsp /run/ /tmp/ /var/\t# output sanitized\r\ndrwxrwxrwt 1 $USER None 0 Jun  6 23:22 /run/\r\n\r\n# file: /run/\r\n# owner: $USER\r\n# group: None\r\n# flags: --t\r\nuser::rwx\r\ngroup::rwx\r\nother::rwx\r\ndefault:user::rwx\r\ndefault:group::rwx\r\ndefault:other::rwx\r\n\r\nC:/.../cygwin64/run/ NULL SID:(DENY)(Rc,S,RD)\r\n                           $HOSTNAME/$USER:(F)\r\n                           $HOSTNAME/None:(RX,W)\r\n                           Everyone:(RX,W)\r\n                           CREATOR OWNER:(OI)(CI)(IO)(F)\r\n                           CREATOR GROUP:(OI)(CI)(IO)(RX,W)\r\n                           Everyone:(OI)(CI)(IO)(RX,W)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n\r\ndrwxrwxrwt 1 $USER None 0 Jun  7 08:22 /tmp/\r\n\r\n# file: /tmp/\r\n# owner: $USER\r\n# group: None\r\n# flags: --t\r\nuser::rwx\r\ngroup::rwx\r\nother::rwx\r\ndefault:user::rwx\r\ndefault:group::rwx\r\ndefault:other::rwx\r\n\r\nC:/.../cygwin64/tmp/ NULL SID:(DENY)(Rc,S,RD)\r\n                           $HOSTNAME/$USER:(F)\r\n                           $HOSTNAME/None:(RX,W)\r\n                           Everyone:(RX,W)\r\n                           CREATOR OWNER:(OI)(CI)(IO)(F)\r\n                           CREATOR GROUP:(OI)(CI)(IO)(RX,W)\r\n                           Everyone:(OI)(CI)(IO)(RX,W)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n\r\ndrwxr-xr-t 1 $USER Administrators 0 Jun  6 23:25 /var/\r\n\r\n# file: /var/\r\n# owner: $USER\r\n# group: Administrators\r\n# flags: --t\r\nuser::rwx\r\ngroup::r-x\r\nother::r-x\r\ndefault:user::rwx\r\ndefault:group::rwx\r\ndefault:other::rwx\r\n\r\nC:/.../cygwin64/var/ NULL SID:(DENY)(Rc,S,RD)\r\n                           $HOSTNAME/$USER:(F)\r\n                           BUILTIN/Administrators:(RX)\r\n                           Everyone:(RX)\r\n                           CREATOR OWNER:(OI)(CI)(IO)(F)\r\n                           CREATOR GROUP:(OI)(CI)(IO)(RX,W)\r\n                           Everyone:(OI)(CI)(IO)(RX,W)\r\n\r\nSuccessfully processed 1 files; Failed processing 0 files\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1580991886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9460448715,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAIz4v3L","url":"https://api.github.com/repos/curl/curl/issues/events/9460448715","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T14:56:03Z","performed_via_github_app":null},{"id":9460448727,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAIz4v3X","url":"https://api.github.com/repos/curl/curl/issues/events/9460448727","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T14:56:04Z","performed_via_github_app":null},{"id":9460455708,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAIz4xkc","url":"https://api.github.com/repos/curl/curl/issues/events/9460455708","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T14:56:31Z","performed_via_github_app":null},{"id":9460455740,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAIz4xk8","url":"https://api.github.com/repos/curl/curl/issues/events/9460455740","actor":{"login":"vszakats","id":1446897,"node_id":"MDQ6VXNlcjE0NDY4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1446897?v=4","gravatar_id":"","url":"https://api.github.com/users/vszakats","html_url":"https://github.com/vszakats","followers_url":"https://api.github.com/users/vszakats/followers","following_url":"https://api.github.com/users/vszakats/following{/other_user}","gists_url":"https://api.github.com/users/vszakats/gists{/gist_id}","starred_url":"https://api.github.com/users/vszakats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vszakats/subscriptions","organizations_url":"https://api.github.com/users/vszakats/orgs","repos_url":"https://api.github.com/users/vszakats/repos","events_url":"https://api.github.com/users/vszakats/events{/privacy}","received_events_url":"https://api.github.com/users/vszakats/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T14:56:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1581524726","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1581524726","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1581524726,"node_id":"IC_kwDOAAiu0c5eRCb2","user":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T21:16:34Z","updated_at":"2023-06-07T21:16:34Z","body":"@BrianInglis can you submit a PR with your proposed changes to fix this issue, then we'll see all the CI results","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1581524726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9464401687,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAI0H08X","url":"https://api.github.com/repos/curl/curl/issues/events/9464401687","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T21:16:35Z","performed_via_github_app":null},{"id":9464401701,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAI0H08l","url":"https://api.github.com/repos/curl/curl/issues/events/9464401701","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T21:16:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1581595622","html_url":"https://github.com/curl/curl/issues/11244#issuecomment-1581595622","issue_url":"https://api.github.com/repos/curl/curl/issues/11244","id":1581595622,"node_id":"IC_kwDOAAiu0c5eRTvm","user":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T22:28:00Z","updated_at":"2023-06-07T22:28:00Z","body":"@jay \r\nI would propose something similar to `pathhelp.pm` suggestions in that [comment](https://github.com/curl/curl/issues/11244#issuecomment-1579830716) above, but make `cygpath` disabling conditional on *Cygwin* etc. perhaps in a later condition. \r\n\r\nBut while that appears necessary, it does not appear to be sufficient, so I would appreciate some feedback from analysis of the `make check` log \"[attached](https://github.com/curl/curl/files/11672200/curl-8.1.2-check.log)\" in that [comment](https://github.com/curl/curl/issues/11244#issuecomment-1579830716) above, as the output is confusing, implying `sftp` does not work `RUN: SFTP server failed verification`, but not seeing any symptoms in the following log messages. \r\nAlso the `\\r`/`^M` EoLs stripped from those log messages imply whatever prints those thinks it runs under *Windows* rather than *Cygwin*, and that may explain some issues, requiring some remediation. \r\nPlus anything else that occurs to a reviewer to point out from that log. \r\n\r\nI am also unsure how any changes might interact with *Mingw* cross-builds under *Cygwin*, or *Msys* builds which may appear to be *Cygwin*, especially from *Perl*, which I can hack but do not write. \r\n\r\nIf someone could provide review comments on that `make check` log output, with pointers to relevant test scripts, I could test changes and submit an RFC, then possibly PR, once I have also checked cross-building the *Mingw* `curl` devel library, which I also release under *Cygwin*. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1581595622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BrianInglis","id":23089181,"node_id":"MDQ6VXNlcjIzMDg5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23089181?v=4","gravatar_id":"","url":"https://api.github.com/users/BrianInglis","html_url":"https://github.com/BrianInglis","followers_url":"https://api.github.com/users/BrianInglis/followers","following_url":"https://api.github.com/users/BrianInglis/following{/other_user}","gists_url":"https://api.github.com/users/BrianInglis/gists{/gist_id}","starred_url":"https://api.github.com/users/BrianInglis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrianInglis/subscriptions","organizations_url":"https://api.github.com/users/BrianInglis/orgs","repos_url":"https://api.github.com/users/BrianInglis/repos","events_url":"https://api.github.com/users/BrianInglis/events{/privacy}","received_events_url":"https://api.github.com/users/BrianInglis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9464906126,"node_id":"MEE_lADOAAiu0c5nti3_zwAAAAI0JwGO","url":"https://api.github.com/repos/curl/curl/issues/events/9464906126","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T22:28:01Z","performed_via_github_app":null},{"id":9464906148,"node_id":"SE_lADOAAiu0c5nti3_zwAAAAI0JwGk","url":"https://api.github.com/repos/curl/curl/issues/events/9464906148","actor":{"login":"jay","id":965580,"node_id":"MDQ6VXNlcjk2NTU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/965580?v=4","gravatar_id":"","url":"https://api.github.com/users/jay","html_url":"https://github.com/jay","followers_url":"https://api.github.com/users/jay/followers","following_url":"https://api.github.com/users/jay/following{/other_user}","gists_url":"https://api.github.com/users/jay/gists{/gist_id}","starred_url":"https://api.github.com/users/jay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jay/subscriptions","organizations_url":"https://api.github.com/users/jay/orgs","repos_url":"https://api.github.com/users/jay/repos","events_url":"https://api.github.com/users/jay/events{/privacy}","received_events_url":"https://api.github.com/users/jay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T22:28:01Z","performed_via_github_app":null}]