{"url":"https://api.github.com/repos/curl/curl/issues/17330","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/17330/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/17330/comments","events_url":"https://api.github.com/repos/curl/curl/issues/17330/events","html_url":"https://github.com/curl/curl/issues/17330","id":3058004187,"node_id":"I_kwDOAAiu0c62RXDb","number":17330,"title":"curl: (43) A libcurl function was given a bad argument","user":{"login":"Int64x86","id":48251931,"node_id":"MDQ6VXNlcjQ4MjUxOTMx","avatar_url":"https://avatars.githubusercontent.com/u/48251931?v=4","gravatar_id":"","url":"https://api.github.com/users/Int64x86","html_url":"https://github.com/Int64x86","followers_url":"https://api.github.com/users/Int64x86/followers","following_url":"https://api.github.com/users/Int64x86/following{/other_user}","gists_url":"https://api.github.com/users/Int64x86/gists{/gist_id}","starred_url":"https://api.github.com/users/Int64x86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Int64x86/subscriptions","organizations_url":"https://api.github.com/users/Int64x86/orgs","repos_url":"https://api.github.com/users/Int64x86/repos","events_url":"https://api.github.com/users/Int64x86/events{/privacy}","received_events_url":"https://api.github.com/users/Int64x86/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":370011580,"node_id":"MDU6TGFiZWwzNzAwMTE1ODA=","url":"https://api.github.com/repos/curl/curl/labels/connecting%20&%20proxies","name":"connecting & proxies","color":"c2e0c6","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-12T20:07:53Z","updated_at":"2025-05-13T12:15:29Z","closed_at":"2025-05-13T12:15:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\nhi. Thereâ€™s some kind of unclear error.\n\nhttps url: \n```\nE:\\Downloads\\curl-8.13.0_3-win64-mingw\\curl-8.13.0_3-win64-mingw\\bin>curl -x \"http://103.118.44.199:8080\" -k https://get.ja3.zone -vvvv\nNote: Using embedded CA bundle (233263 bytes)\nNote: Using embedded CA bundle, for proxies (233263 bytes)\n23:00:49.860000 [0-x] == Info: [MULTI] [INIT] added, transfers=1\n23:00:49.867000 [0-x] == Info: [MULTI] [INIT] multi_perform(running=1)\n23:00:49.872000 [0-x] == Info: [MULTI] [INIT] -> [SETUP]\n23:00:49.875000 [0-x] == Info: [MULTI] [SETUP] -> [CONNECT]\n23:00:49.878000 [0-x] == Info: [READ] client_reset, clear readers\n23:00:49.883000 [0-0] == Info: [MULTI] [CONNECT] [CPOOL] added connection 0. The cache now contains 1 members\n23:00:49.889000 [0-0] == Info: [HTTPS-CONNECT] adding wanted h2\n23:00:49.891000 [0-0] == Info: [HTTPS-CONNECT] added\n23:00:49.893000 [0-0] == Info: [MULTI] [CONNECT] -> [CONNECTING]\n23:00:49.896000 [0-0] == Info: [HTTPS-CONNECT] connect, init\n23:00:49.898000 [0-0] == Info: [HAPPY-EYEBALLS] created ipv4 (timeout 299978ms)\n23:00:49.901000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 starting (timeout=299975ms)\n23:00:49.904000 [0-0] == Info:   Trying 103.118.44.199:8080...\n23:00:49.906000 [0-0] == Info: [TCP] cf_socket_open() -> 0, fd=308\n23:00:49.909000 [0-0] == Info: [TCP] local address 0.0.0.0 port 58566...\n23:00:49.912000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 connect -> 0, connected=0\n23:00:49.914000 [0-0] == Info: [HTTPS-CONNECT] connect -> 0, done=0\n23:00:49.917000 [0-0] == Info: [HTTPS-CONNECT] Curl_conn_connect(block=0) -> 0, done=0\n23:00:49.920000 [0-0] == Info: [TCP] adjust_pollset, !connected, POLLOUT fd=308\n23:00:49.922000 [0-0] == Info: [HAPPY-EYEBALLS] adjust_pollset -> 1 socks\n23:00:49.925000 [0-0] == Info: [HTTPS-CONNECT] adjust_pollset -> 1 socks\n23:00:49.929000 [0-0] == Info: [MULTI] [CONNECTING] multi_wait pollset[fd=308 OUT], timeouts=0\n23:00:49.951000 [0-0] == Info: [MULTI] [CONNECTING] multi_perform(running=1)\n23:00:49.954000 [0-0] == Info: [TCP] connected\n23:00:49.955000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 connect -> 0, connected=1\n23:00:49.959000 [0-0] == Info: [HAPPY-EYEBALLS] Connected to get.ja3.zone (103.118.44.199) port 8080\n23:00:49.963000 [0-0] == Info: CONNECT tunnel: HTTP/1.1 negotiated\n23:00:49.966000 [0-0] == Info: allocate connect buffer\n23:00:49.969000 [0-0] == Info: Establish HTTP proxy tunnel to get.ja3.zone:443\n23:00:49.972000 [0-0] == Info: [TCP] send(len=116) -> 116, err=0\n23:00:49.975000 [0-0] => Send header, 116 bytes (0x74)\n0000: CONNECT get.ja3.zone:443 HTTP/1.1\n0023: Host: get.ja3.zone:443\n003b: User-Agent: curl/8.13.0\n0054: Proxy-Connection: Keep-Alive\n0072:\n23:00:49.985000 [0-0] == Info: [HTTPS-CONNECT] connect -> 0, done=0\n23:00:49.988000 [0-0] == Info: [HTTPS-CONNECT] Curl_conn_connect(block=0) -> 0, done=0\n23:00:49.993000 [0-0] == Info: [TCP] adjust_pollset, !active, POLLIN fd=308\n23:00:49.996000 [0-0] == Info: [HTTPS-CONNECT] adjust_pollset -> 1 socks\n23:00:49.999000 [0-0] == Info: [MULTI] [CONNECTING] multi_wait pollset[fd=308 IN], timeouts=0\n23:00:50.401000 [0-0] == Info: [MULTI] [CONNECTING] multi_perform(running=1)\n23:00:50.408000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.415000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.419000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.423000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.428000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.431000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.433000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.435000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.438000 [0-0] <= Recv header, 8 bytes (0x8)\n0000: <html>\n23:00:50.441000 [0-0] == Info: [WRITE] [OUT] wrote 8 header bytes -> 8\n23:00:50.444000 [0-0] == Info: [WRITE] [PAUSE] writing 8/8 bytes of type 1c -> 0\n23:00:50.447000 [0-0] == Info: [WRITE] download_write header(type=1c, blen=8) -> 0\n23:00:50.450000 [0-0] == Info: [WRITE] client_write(type=1c, len=8) -> 0\n23:00:50.453000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.455000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.460000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.462000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.467000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.469000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.472000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.475000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.478000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.480000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.483000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.485000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.487000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.492000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.495000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.497000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.500000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.502000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.506000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.509000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.511000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.514000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.516000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.519000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.523000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.525000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.528000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.530000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.533000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.535000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.539000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.542000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.544000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.547000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.549000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.552000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.555000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.558000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.560000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.563000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.565000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.568000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.572000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.574000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.577000 [0-0] == Info: [TCP] recv(len=1) -> 1, err=0\n23:00:50.579000 [0-0] <= Recv header, 45 bytes (0x2d)\n0000: <head><title>400 Bad Request</title></head>\n23:00:50.583000 [0-0] == Info: [WRITE] header_collect pushed(type=4, len=45) -> 43\n23:00:50.588000 [0-0] == Info: [WRITE] client_write(type=14, len=45) -> 43\n23:00:50.591000 [0-0] == Info: [HTTPS-CONNECT] connect, all attempts failed\n23:00:50.594000 [0-0] == Info: [HTTPS-CONNECT] connect -> 43, done=0\n23:00:50.597000 [0-0] == Info: [HTTPS-CONNECT] Curl_conn_connect(block=0) -> 43, done=0\n23:00:50.601000 [0-0] == Info: [HTTPS-CONNECT] Curl_conn_connect(), filter returned 43\n23:00:50.606000 [0-0] == Info: [MULTI] [CONNECTING] multi_done: status: 43 prem: 1 done: 0\n23:00:50.609000 [0-0] == Info: [WRITE] [OUT] done\n23:00:50.611000 [0-0] == Info: [MULTI] [CONNECTING] multi_done, not reusing connection=0, forbid=0, close=0, premature=1, conn_multiplex=0\n23:00:50.618000 [0-0] == Info: closing connection #0\n23:00:50.621000 [0-0] == Info: [MULTI] [CONNECTING] -> [COMPLETED]\n23:00:50.624000 [0-0] == Info: [MULTI] [COMPLETED] -> [MSGSENT]\n23:00:50.626000 [0-0] == Info: [MULTI] [COMPLETED] removed, transfers=0\ncurl: (43) A libcurl function was given a bad argument\n\nE:\\Downloads\\curl-8.13.0_3-win64-mingw\\curl-8.13.0_3-win64-mingw\\bin>curl -V\ncurl 8.13.0 (x86_64-w64-mingw32) libcurl/8.13.0 LibreSSL/4.1.0 zlib/1.3.1 brotli/1.1.0 zstd/1.5.7 WinIDN libpsl/0.21.5 libssh2/1.11.1 nghttp2/1.65.0 ngtcp2/1.12.0 nghttp3/1.9.0\nRelease-Date: 2025-04-02\nProtocols: dict file ftp ftps gopher gophers http https imap imaps ipfs ipns ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp ws wss\nFeatures: alt-svc AsynchDNS brotli CAcert HSTS HTTP2 HTTP3 HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM PSL SPNEGO SSL SSLS-EXPORT SSPI threadsafe UnixSockets zstd\n\nE:\\Downloads\\curl-8.13.0_3-win64-mingw\\curl-8.13.0_3-win64-mingw\\bin>\n```\n\n\n\nhttp url :\n\n```\nE:\\Downloads\\curl-8.13.0_3-win64-mingw\\curl-8.13.0_3-win64-mingw\\bin>curl -x \"http://103.118.44.199:8080\" -k http://get.ja3.zone -vvvv\nNote: Using embedded CA bundle (233263 bytes)\nNote: Using embedded CA bundle, for proxies (233263 bytes)\n23:06:59.062000 [0-x] == Info: [MULTI] [INIT] added, transfers=1\n23:06:59.072000 [0-x] == Info: [MULTI] [INIT] multi_perform(running=1)\n23:06:59.075000 [0-x] == Info: [MULTI] [INIT] -> [SETUP]\n23:06:59.077000 [0-x] == Info: [MULTI] [SETUP] -> [CONNECT]\n23:06:59.079000 [0-x] == Info: [READ] client_reset, clear readers\n23:06:59.082000 [0-0] == Info: [MULTI] [CONNECT] [CPOOL] added connection 0. The cache now contains 1 members\n23:06:59.087000 [0-0] == Info: [SETUP] added\n23:06:59.088000 [0-0] == Info: [MULTI] [CONNECT] -> [CONNECTING]\n23:06:59.091000 [0-0] == Info: [HAPPY-EYEBALLS] created ipv4 (timeout 299987ms)\n23:06:59.094000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 starting (timeout=299984ms)\n23:06:59.097000 [0-0] == Info:   Trying 103.118.44.199:8080...\n23:06:59.100000 [0-0] == Info: [TCP] cf_socket_open() -> 0, fd=308\n23:06:59.102000 [0-0] == Info: [TCP] local address 0.0.0.0 port 58820...\n23:06:59.105000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 connect -> 0, connected=0\n23:06:59.107000 [0-0] == Info: [SETUP] Curl_conn_connect(block=0) -> 0, done=0\n23:06:59.110000 [0-0] == Info: [TCP] adjust_pollset, !connected, POLLOUT fd=308\n23:06:59.113000 [0-0] == Info: [HAPPY-EYEBALLS] adjust_pollset -> 1 socks\n23:06:59.116000 [0-0] == Info: [MULTI] [CONNECTING] multi_wait pollset[fd=308 OUT], timeouts=0\n23:06:59.143000 [0-0] == Info: [MULTI] [CONNECTING] multi_perform(running=1)\n23:06:59.147000 [0-0] == Info: [TCP] connected\n23:06:59.148000 [0-0] == Info: [HAPPY-EYEBALLS] ipv4 connect -> 0, connected=1\n23:06:59.152000 [0-0] == Info: [HAPPY-EYEBALLS] Connected to get.ja3.zone (103.118.44.199) port 8080\n23:06:59.156000 [0-0] == Info: [SETUP] Curl_conn_connect(block=0) -> 0, done=1\n23:06:59.158000 [0-0] == Info: Connected to 103.118.44.199 (103.118.44.199) port 8080\n23:06:59.160000 [0-0] == Info: using HTTP/1.x\n23:06:59.163000 [0-0] == Info: [MULTI] [CONNECTING] -> [PROTOCONNECT]\n23:06:59.165000 [0-0] == Info: [MULTI] [PROTOCONNECT] -> [DO]\n23:06:59.168000 [0-0] == Info: [TCP] send(len=125) -> 125, err=0\n23:06:59.170000 [0-0] => Send header, 125 bytes (0x7d)\n0000: GET http://get.ja3.zone/ HTTP/1.1\n0023: Host: get.ja3.zone\n0037: User-Agent: curl/8.13.0\n0050: Accept: */*\n005d: Proxy-Connection: Keep-Alive\n007b:\n23:06:59.180000 [0-0] == Info: [MULTI] [DO] -> [DID]\n23:06:59.181000 [0-0] == Info: [MULTI] [DID] -> [PERFORMING]\n23:06:59.184000 [0-0] == Info: [TCP] recv(len=102400) -> -1, err=81\n23:06:59.186000 [0-0] == Info: Request completely sent off\n23:06:59.188000 [0-0] == Info: [MULTI] [PERFORMING] multi_wait pollset[fd=308 IN], timeouts=0\n23:06:59.989000 [0-0] == Info: [MULTI] [PERFORMING] multi_perform(running=1)\n23:06:59.996000 [0-0] == Info: [TCP] recv(len=102400) -> 690, err=0\n23:07:00.003000 [0-0] <= Recv header, 32 bytes (0x20)\n0000: HTTP/1.1 301 Moved Permanently\n23:07:00.011000 [0-0] == Info: [WRITE] [OUT] wrote 32 header bytes -> 32\n23:07:00.016000 [0-0] == Info: [WRITE] [PAUSE] writing 32/32 bytes of type c -> 0\n23:07:00.022000 [0-0] == Info: [WRITE] download_write header(type=c, blen=32) -> 0\n23:07:00.027000 [0-0] == Info: [WRITE] client_write(type=c, len=32) -> 0\n23:07:00.030000 [0-0] <= Recv header, 15 bytes (0xf)\n0000: Server: nginx\n23:07:00.039000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=15) -> 0\n23:07:00.042000 [0-0] == Info: [WRITE] [OUT] wrote 15 header bytes -> 15\n23:07:00.045000 [0-0] == Info: [WRITE] [PAUSE] writing 15/15 bytes of type 4 -> 0\n23:07:00.054000 [0-0] == Info: [WRITE] download_write header(type=4, blen=15) -> 0\n23:07:00.057000 [0-0] == Info: [WRITE] client_write(type=4, len=15) -> 0\n23:07:00.061000 [0-0] <= Recv header, 37 bytes (0x25)\n0000: Date: Mon, 12 May 2025 20:06:59 GMT\n23:07:00.071000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=37) -> 0\n23:07:00.074000 [0-0] == Info: [WRITE] [OUT] wrote 37 header bytes -> 37\n23:07:00.077000 [0-0] == Info: [WRITE] [PAUSE] writing 37/37 bytes of type 4 -> 0\n23:07:00.082000 [0-0] == Info: [WRITE] download_write header(type=4, blen=37) -> 0\n23:07:00.087000 [0-0] == Info: [WRITE] client_write(type=4, len=37) -> 0\n23:07:00.090000 [0-0] <= Recv header, 25 bytes (0x19)\n0000: Content-Type: text/html\n23:07:00.094000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=25) -> 0\n23:07:00.099000 [0-0] == Info: [WRITE] [OUT] wrote 25 header bytes -> 25\n23:07:00.104000 [0-0] == Info: [WRITE] [PAUSE] writing 25/25 bytes of type 4 -> 0\n23:07:00.108000 [0-0] == Info: [WRITE] download_write header(type=4, blen=25) -> 0\n23:07:00.113000 [0-0] == Info: [WRITE] client_write(type=4, len=25) -> 0\n23:07:00.117000 [0-0] <= Recv header, 21 bytes (0x15)\n0000: Content-Length: 162\n23:07:00.122000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=21) -> 0\n23:07:00.128000 [0-0] == Info: [WRITE] [OUT] wrote 21 header bytes -> 21\n23:07:00.133000 [0-0] == Info: [WRITE] [PAUSE] writing 21/21 bytes of type 4 -> 0\n23:07:00.141000 [0-0] == Info: [WRITE] download_write header(type=4, blen=21) -> 0\n23:07:00.146000 [0-0] == Info: [WRITE] client_write(type=4, len=21) -> 0\n23:07:00.151000 [0-0] <= Recv header, 19 bytes (0x13)\n0000: Connection: close\n23:07:00.155000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=19) -> 0\n23:07:00.158000 [0-0] == Info: [WRITE] [OUT] wrote 19 header bytes -> 19\n23:07:00.162000 [0-0] == Info: [WRITE] [PAUSE] writing 19/19 bytes of type 4 -> 0\n23:07:00.167000 [0-0] == Info: [WRITE] download_write header(type=4, blen=19) -> 0\n23:07:00.170000 [0-0] == Info: [WRITE] client_write(type=4, len=19) -> 0\n23:07:00.173000 [0-0] <= Recv header, 34 bytes (0x22)\n0000: Location: https://get.ja3.zone//\n23:07:00.182000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=34) -> 0\n23:07:00.185000 [0-0] == Info: [WRITE] [OUT] wrote 34 header bytes -> 34\n23:07:00.188000 [0-0] == Info: [WRITE] [PAUSE] writing 34/34 bytes of type 4 -> 0\n23:07:00.197000 [0-0] == Info: [WRITE] download_write header(type=4, blen=34) -> 0\n23:07:00.200000 [0-0] == Info: [WRITE] client_write(type=4, len=34) -> 0\n23:07:00.203000 [0-0] <= Recv header, 40 bytes (0x28)\n0000: Expires: Thu, 01 Jan 1970 00:00:01 GMT\n23:07:00.213000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=40) -> 0\n23:07:00.216000 [0-0] == Info: [WRITE] [OUT] wrote 40 header bytes -> 40\n23:07:00.220000 [0-0] == Info: [WRITE] [PAUSE] writing 40/40 bytes of type 4 -> 0\n23:07:00.223000 [0-0] == Info: [WRITE] download_write header(type=4, blen=40) -> 0\n23:07:00.230000 [0-0] == Info: [WRITE] client_write(type=4, len=40) -> 0\n23:07:00.233000 [0-0] <= Recv header, 25 bytes (0x19)\n0000: Cache-Control: no-cache\n23:07:00.237000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=25) -> 0\n23:07:00.246000 [0-0] == Info: [WRITE] [OUT] wrote 25 header bytes -> 25\n23:07:00.249000 [0-0] == Info: [WRITE] [PAUSE] writing 25/25 bytes of type 4 -> 0\n23:07:00.252000 [0-0] == Info: [WRITE] download_write header(type=4, blen=25) -> 0\n23:07:00.257000 [0-0] == Info: [WRITE] client_write(type=4, len=25) -> 0\n23:07:00.262000 [0-0] <= Recv header, 19 bytes (0x13)\n0000: MiCGI-Switch: 1 0\n23:07:00.265000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=19) -> 0\n23:07:00.269000 [0-0] == Info: [WRITE] [OUT] wrote 19 header bytes -> 19\n23:07:00.273000 [0-0] == Info: [WRITE] [PAUSE] writing 19/19 bytes of type 4 -> 0\n23:07:00.278000 [0-0] == Info: [WRITE] download_write header(type=4, blen=19) -> 0\n23:07:00.281000 [0-0] == Info: [WRITE] client_write(type=4, len=19) -> 0\n23:07:00.285000 [0-0] <= Recv header, 39 bytes (0x27)\n0000: MiCGI-TproxyInfo: 103.118.44.199:8080\n23:07:00.294000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=39) -> 0\n23:07:00.297000 [0-0] == Info: [WRITE] [OUT] wrote 39 header bytes -> 39\n23:07:00.301000 [0-0] == Info: [WRITE] [PAUSE] writing 39/39 bytes of type 4 -> 0\n23:07:00.305000 [0-0] == Info: [WRITE] download_write header(type=4, blen=39) -> 0\n23:07:00.311000 [0-0] == Info: [WRITE] client_write(type=4, len=39) -> 0\n23:07:00.313000 [0-0] <= Recv header, 30 bytes (0x1e)\n0000: MiCGI-Upstream: get.ja3.zone\n23:07:00.319000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=30) -> 0\n23:07:00.324000 [0-0] == Info: [WRITE] [OUT] wrote 30 header bytes -> 30\n23:07:00.327000 [0-0] == Info: [WRITE] [PAUSE] writing 30/30 bytes of type 4 -> 0\n23:07:00.330000 [0-0] == Info: [WRITE] download_write header(type=4, blen=30) -> 0\n23:07:00.339000 [0-0] == Info: [WRITE] client_write(type=4, len=30) -> 0\n23:07:00.341000 [0-0] <= Recv header, 33 bytes (0x21)\n0000: MiCGI-Client-Ip: 104.28.230.245\n23:07:00.346000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=33) -> 0\n23:07:00.349000 [0-0] == Info: [WRITE] [OUT] wrote 33 header bytes -> 33\n23:07:00.355000 [0-0] == Info: [WRITE] [PAUSE] writing 33/33 bytes of type 4 -> 0\n23:07:00.359000 [0-0] == Info: [WRITE] download_write header(type=4, blen=33) -> 0\n23:07:00.362000 [0-0] == Info: [WRITE] client_write(type=4, len=33) -> 0\n23:07:00.371000 [0-0] <= Recv header, 26 bytes (0x1a)\n0000: MiCGI-Host: get.ja3.zone\n23:07:00.375000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=26) -> 0\n23:07:00.379000 [0-0] == Info: [WRITE] [OUT] wrote 26 header bytes -> 26\n23:07:00.388000 [0-0] == Info: [WRITE] [PAUSE] writing 26/26 bytes of type 4 -> 0\n23:07:00.392000 [0-0] == Info: [WRITE] download_write header(type=4, blen=26) -> 0\n23:07:00.395000 [0-0] == Info: [WRITE] client_write(type=4, len=26) -> 0\n23:07:00.404000 [0-0] <= Recv header, 31 bytes (0x1f)\n0000: MiCGI-Http-Host: get.ja3.zone\n23:07:00.409000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=31) -> 0\n23:07:00.412000 [0-0] == Info: [WRITE] [OUT] wrote 31 header bytes -> 31\n23:07:00.421000 [0-0] == Info: [WRITE] [PAUSE] writing 31/31 bytes of type 4 -> 0\n23:07:00.427000 [0-0] == Info: [WRITE] download_write header(type=4, blen=31) -> 0\n23:07:00.433000 [0-0] == Info: [WRITE] client_write(type=4, len=31) -> 0\n23:07:00.438000 [0-0] <= Recv header, 33 bytes (0x21)\n0000: MiCGI-Server-Ip: 103.118.44.199\n23:07:00.442000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=33) -> 0\n23:07:00.447000 [0-0] == Info: [WRITE] [OUT] wrote 33 header bytes -> 33\n23:07:00.453000 [0-0] == Info: [WRITE] [PAUSE] writing 33/33 bytes of type 4 -> 0\n23:07:00.456000 [0-0] == Info: [WRITE] download_write header(type=4, blen=33) -> 0\n23:07:00.460000 [0-0] == Info: [WRITE] client_write(type=4, len=33) -> 0\n23:07:00.465000 [0-0] <= Recv header, 23 bytes (0x17)\n0000: MiCGI-Server-Port: 80\n23:07:00.472000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=23) -> 0\n23:07:00.475000 [0-0] == Info: [WRITE] [OUT] wrote 23 header bytes -> 23\n23:07:00.480000 [0-0] == Info: [WRITE] [PAUSE] writing 23/23 bytes of type 4 -> 0\n23:07:00.486000 [0-0] == Info: [WRITE] download_write header(type=4, blen=23) -> 0\n23:07:00.489000 [0-0] == Info: [WRITE] client_write(type=4, len=23) -> 0\n23:07:00.492000 [0-0] <= Recv header, 25 bytes (0x19)\n0000: MiCGI-Status: AUTOPROXY\n23:07:00.501000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=25) -> 0\n23:07:00.504000 [0-0] == Info: [WRITE] [OUT] wrote 25 header bytes -> 25\n23:07:00.507000 [0-0] == Info: [WRITE] [PAUSE] writing 25/25 bytes of type 4 -> 0\n23:07:00.512000 [0-0] == Info: [WRITE] download_write header(type=4, blen=25) -> 0\n23:07:00.517000 [0-0] == Info: [WRITE] client_write(type=4, len=25) -> 0\n23:07:00.520000 [0-0] <= Recv header, 19 bytes (0x13)\n0000: MiCGI-Preload: no\n23:07:00.523000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=19) -> 0\n23:07:00.530000 [0-0] == Info: [WRITE] [OUT] wrote 19 header bytes -> 19\n23:07:00.532000 [0-0] == Info: [WRITE] [PAUSE] writing 19/19 bytes of type 4 -> 0\n23:07:00.536000 [0-0] == Info: [WRITE] download_write header(type=4, blen=19) -> 0\n23:07:00.539000 [0-0] == Info: [WRITE] client_write(type=4, len=19) -> 0\n23:07:00.546000 [0-0] <= Recv header, 2 bytes (0x2)\n0000:\n23:07:00.549000 [0-0] == Info: [WRITE] header_collect pushed(type=1, len=2) -> 0\n23:07:00.553000 [0-0] == Info: [WRITE] [OUT] wrote 2 header bytes -> 2\n23:07:00.558000 [0-0] == Info: [WRITE] [PAUSE] writing 2/2 bytes of type 4 -> 0\n23:07:00.563000 [0-0] == Info: [WRITE] download_write header(type=4, blen=2) -> 0\n23:07:00.567000 [0-0] == Info: [WRITE] client_write(type=4, len=2) -> 0\n23:07:00.570000 [0-0] <= Recv data, 162 bytes (0xa2)\n0000: <html>\n0008: <head><title>301 Moved Permanently</title></head>\n003b: <body>\n0043: <center><h1>301 Moved Permanently</h1></center>\n0074: <hr><center>nginx</center>\n0090: </body>\n0099: </html>\n<html>\n<head><title>301 Moved Permanently</title></head>\n<body>\n<center><h1>301 Moved Permanently</h1></center>\n<hr><center>nginx</center>\n</body>\n</html>\n23:07:00.594000 [0-0] == Info: [WRITE] [OUT] wrote 162 body bytes -> 162\n23:07:00.598000 [0-0] == Info: [WRITE] [PAUSE] writing 162/162 bytes of type 1 -> 0\n23:07:00.602000 [0-0] == Info: [WRITE] download_write body(type=1, blen=162) -> 0\n23:07:00.607000 [0-0] == Info: [WRITE] client_write(type=1, len=162) -> 0\n23:07:00.612000 [0-0] == Info: [WRITE] xfer_write_resp(len=690, eos=0) -> 0\n23:07:00.614000 [0-0] == Info: [MULTI] [PERFORMING] -> [DONE]\n23:07:00.617000 [0-0] == Info: [MULTI] [DONE] multi_done: status: 0 prem: 0 done: 0\n23:07:00.622000 [0-0] == Info: [WRITE] [OUT] done\n23:07:00.628000 [0-0] == Info: [READ] client_reset, clear readers\n23:07:00.630000 [0-0] == Info: [MULTI] [DONE] multi_done, not reusing connection=0, forbid=0, close=1, premature=0, conn_multiplex=0\n23:07:00.638000 [0-0] == Info: shutting down connection #0\n23:07:00.642000 [0-0] == Info: [MULTI] [DONE] -> [COMPLETED]\n23:07:00.645000 [0-0] == Info: [MULTI] [COMPLETED] -> [MSGSENT]\n23:07:00.647000 [0-0] == Info: [MULTI] [COMPLETED] removed, transfers=0\n\nE:\\Downloads\\curl-8.13.0_3-win64-mingw\\curl-8.13.0_3-win64-mingw\\bin>\n```\n\n\n\n### I expected the following\n\nCONNECT tunnel failed, response 400 \nor \nFailure when receiving data from the peer\n\n### curl/libcurl version\n\ncurl 8.13.0\n\n### operating system\n\nwindows 10","closed_by":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/curl/curl/issues/17330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/17330/timeline","performed_via_github_app":null,"state_reason":"completed"}