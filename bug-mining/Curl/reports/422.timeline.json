[{"id":8218104535,"node_id":"RTE_lADOAAiu0c5bThbHzwAAAAHp1lLX","url":"https://api.github.com/repos/curl/curl/issues/events/8218104535","actor":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-01-13T07:33:55Z","rename":{"from":"Race condition upon ssl session closure that causes RST","to":"SSL session closes with RST"},"performed_via_github_app":null},{"id":8218125785,"node_id":"LE_lADOAAiu0c5bThbHzwAAAAHp1qXZ","url":"https://api.github.com/repos/curl/curl/issues/events/8218125785","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-13T07:37:22Z","label":{"name":"TLS","color":"bfdadc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1381428185","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1381428185","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1381428185,"node_id":"IC_kwDOAAiu0c5SVuvZ","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T07:40:13Z","updated_at":"2023-01-13T07:40:13Z","body":"So you don't see any actual negative effects other than that this is not correct when looking at the network capture?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1381428185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1381927057","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1381927057","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1381927057,"node_id":"IC_kwDOAAiu0c5SXoiR","user":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T14:22:11Z","updated_at":"2023-01-13T14:22:11Z","body":"Well under load, which is our case. Session closing via RST causes more packets and longer time. It also generates errors as session is reset. There is no data loss if this is the question. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1381927057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382479823","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1382479823","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1382479823,"node_id":"IC_kwDOAAiu0c5SZvfP","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T22:33:35Z","updated_at":"2023-01-13T22:33:35Z","body":"I was trying to assess the impact of the problem.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382479823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382692853","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1382692853","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1382692853,"node_id":"IC_kwDOAAiu0c5Sajf1","user":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-14T08:40:54Z","updated_at":"2023-01-14T08:40:54Z","body":"I see. Impact is small as this causes issue only if curl or libcurl used in heavy and intesive applications with high rps","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382692853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382820707","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1382820707","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1382820707,"node_id":"IC_kwDOAAiu0c5SbCtj","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-14T15:20:12Z","updated_at":"2023-01-14T15:20:12Z","body":"Right, but that's also a created example that isn't the normal path. Are you saying it *always* does this or at least in more standard use cases?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1382820707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1397225704","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1397225704","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1397225704,"node_id":"IC_kwDOAAiu0c5TR_jo","user":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T16:10:46Z","updated_at":"2023-01-20T06:08:52Z","body":"Ok so we've done investigation but still not 100% that something is wrong with curl, although RST signifies an issues:\r\n1) curl for some reason over ssl starts closing connection with FIN-ACK, while server does the same(this is the error I would like fixed). Not sure how well this part is implemented - https://www.rfc-editor.org/rfc/rfc2246#section-7.2.1 and not sure why such behaviour\r\n\r\n2) such behaviour causes server to be in TIME_WAIT as it started closing without seeing the client attempt first\r\n\r\n3) Server stays in the the TIME_WAIT according to the 2MSL rule .\r\n \r\n4) under high load (client outgoing port reuse every 50-60 seconds) this causes a port exaustion on server side and time outs in connecting to server. \r\n\r\nDesired behaviour:\r\nCurl should close ssl sessions itself (may be ask ssl server to wait for it, or may be close_notify from curl would allow server to wait or may be some other way). This avoids TIME_WAIT on server side. This would allow for port exaustion to happen later and higher server resource usage. It is also expected that normal FIN-ACK sequence would be followed in such case. \r\n\r\nThe test above does show the closure with RST on this specific ssl server, same is observed with a standard go https rest client (curl sends RST).\r\n\r\nsee \"Linux port exaustion\" in https://www.cyberpunk.rs/tuning-network-performance-linux-apache\r\nThis also somewhat resembles this one - https://github.com/openssl/openssl/issues/6262","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1397225704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1407373561","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1407373561","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1407373561,"node_id":"IC_kwDOAAiu0c5T4tD5","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-28T10:58:00Z","updated_at":"2023-01-28T10:58:00Z","body":"I don't understand your answer.\r\n\r\nAre you saying it always does this or at least does it in more standard use cases? IOW: how often does this occur?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1407373561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8379579553,"node_id":"LE_lADOAAiu0c5bThbHzwAAAAHzdjyh","url":"https://api.github.com/repos/curl/curl/issues/events/8379579553","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-28T10:58:11Z","label":{"name":"needs-info","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1481817808","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1481817808","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1481817808,"node_id":"IC_kwDOAAiu0c5YUr7Q","user":{"login":"frehberg","id":4435830,"node_id":"MDQ6VXNlcjQ0MzU4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/4435830?v=4","gravatar_id":"","url":"https://api.github.com/users/frehberg","html_url":"https://github.com/frehberg","followers_url":"https://api.github.com/users/frehberg/followers","following_url":"https://api.github.com/users/frehberg/following{/other_user}","gists_url":"https://api.github.com/users/frehberg/gists{/gist_id}","starred_url":"https://api.github.com/users/frehberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frehberg/subscriptions","organizations_url":"https://api.github.com/users/frehberg/orgs","repos_url":"https://api.github.com/users/frehberg/repos","events_url":"https://api.github.com/users/frehberg/events{/privacy}","received_events_url":"https://api.github.com/users/frehberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T20:02:11Z","updated_at":"2023-03-23T20:23:42Z","body":"Hi, taking a look at the trace 1 and trace 2, in both cases the client (192.x.x.x)  is sending the initial FIN/ACK and server takes ca 40ms to respond with FIN/ACK.  Please check the implementation of the server. it seems to respond to FIN/ACK with huge delay of ca 40ms.\r\n\r\nTrace 1: \r\nmessage 32: the client sends the initial FIN/ACK, \r\nmessage 33-35: the server is repeating ACKs 3 times (identical serial number) (maybe network congestion ??)\r\nmessage 37: after 40ms the server responds with FIN/ACK\r\nmessage 38: almost same instant the client-side is sending RST, maybe the client did terminate already and the socket-resource is not available anymore.\r\n \r\nTrace 2:\r\nmessage 36: the client  sends the initial FIN/ACK, \r\nmessage 40: the server does not respond with FIN/ACK in time, therefor the client gives up after ca 40ms and is resetting the connection (RST in message 40). *EDIT*  the client is terminating and all further messages will be responded by operating system using RST \r\nmessage 42 and 44: *EDIT* these RSTs are sent by the client-site OS, as the client did terminate and teh socket-resource is no longer available\r\n\r\nPS: I would expect . (clt: FIN-ACK), (srv: FIN-ACK), (clt: ACK)\r\nbut the responds of server is too late!\r\n\r\nPPS: IMHO, this is not an issue of curl and ticket can be closed","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1481817808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"frehberg","id":4435830,"node_id":"MDQ6VXNlcjQ0MzU4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/4435830?v=4","gravatar_id":"","url":"https://api.github.com/users/frehberg","html_url":"https://github.com/frehberg","followers_url":"https://api.github.com/users/frehberg/followers","following_url":"https://api.github.com/users/frehberg/following{/other_user}","gists_url":"https://api.github.com/users/frehberg/gists{/gist_id}","starred_url":"https://api.github.com/users/frehberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frehberg/subscriptions","organizations_url":"https://api.github.com/users/frehberg/orgs","repos_url":"https://api.github.com/users/frehberg/repos","events_url":"https://api.github.com/users/frehberg/events{/privacy}","received_events_url":"https://api.github.com/users/frehberg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502029591","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1502029591","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1502029591,"node_id":"IC_kwDOAAiu0c5ZhycX","user":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:29:52Z","updated_at":"2023-04-10T17:14:36Z","body":"I found this issue while investigating RST packets on my server. Several aspects are similar, perhaps I'm seeing the same issue (if it is an issue). \r\n\r\nI'm seeing the RST packets on relatively busy production servers, but can also reproduce the issue on idle client and server.\r\n\r\nClient: curl 7.68.0 on otherwise idle system, running in a loop like so:\r\n\r\n```sh\r\nfor  i in {1..1000}\r\ndo\r\n  echo $i\r\n  curl --tls-max 1.2 --ciphers AES128-GCM-SHA256 https://my-url-here\r\ndone\r\n```\r\n\r\n(I've specifed TLS version and cipher so I can decrypt packets in Wireshark, but the same issue is present with TLS1.3)\r\n\r\nServer: haproxy 2.6.12 on otherwise idle server.\r\n\r\nTrace, captured on server:\r\n\r\n![image](https://user-images.githubusercontent.com/661859/230944335-cde032be-bcfc-4525-a5f0-93d934d80aaf.png)\r\n\r\n* server sends FIN,ACK\r\n* client sends FIN,ACK\r\n* server sends ACK\r\n* client sends two RST packets (instead of the expected ACK)\r\n\r\nTrace from a different request, captured on client:\r\n\r\n![image](https://user-images.githubusercontent.com/661859/230946118-ebda9cc2-47a1-4ed4-956b-b7bfb60821a9.png)\r\n\r\nWhen using plain HTTP between the same client and server, the connection gets closed cleanly with FIN-ACK, FIN-ACK, ACK, ACK.\r\n\r\nPing between the client and the server is 25ms.\r\n\r\n---\r\n\r\nA trace from a different client running curl 7.81.0:\r\n\r\n![image](https://user-images.githubusercontent.com/661859/230948565-1e6b3660-73a2-457d-9b27-6aeda181bc43.png)\r\n\r\nHere, client sends FIN-ACK before the server has sent TLS Close Notify (\"Encrypted Alert\" in the screenshot). \r\n\r\n---\r\n\r\nAnd here's a trace, captured on client, using curl 8.0.1-DEV:\r\n\r\n![image](https://user-images.githubusercontent.com/661859/230951200-672280ae-a6b3-49b9-8a18-ca76b40a0964.png)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502029591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502111518","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1502111518","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1502111518,"node_id":"IC_kwDOAAiu0c5ZiGce","user":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T17:50:49Z","updated_at":"2023-04-11T05:19:11Z","body":"Here's a script that fetches Google's favicon in a loop:\r\n\r\n```sh\r\nfor  i in {1..1000}\r\ndo\r\n  echo $i\r\n  curl http://www.google.com/favicon.ico\r\ndone\r\n```\r\n\r\nTrace of one of the requests:\r\n\r\n![image](https://user-images.githubusercontent.com/661859/230960783-5bdf1ae9-f1de-49bf-af45-0d0c449dc1dc.png)\r\n\r\nSame script, but curl replaced with wget:\r\n\r\n```sh\r\nfor  i in {1..1000}\r\ndo\r\n  echo $i\r\n  wget https://www.google.com/favicon.ico\r\ndone\r\n```\r\n\r\nTrace: \r\n\r\n![image](https://user-images.githubusercontent.com/661859/230960962-e37bc8f7-c5c0-463c-832f-235d56efe1d4.png)\r\n\r\nEdit: in the first example, I forgot to use https:// (I was testing many variations), but the results are similar with http:// as Google redirects to https:// anyway, and curl follows the redirect.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502111518/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502650708","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1502650708","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1502650708,"node_id":"IC_kwDOAAiu0c5ZkKFU","user":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T03:54:31Z","updated_at":"2023-04-11T03:54:31Z","body":"> Here's a script that fetches Google's favicon in a loop:\r\n> \r\n> ```shell\r\n> for  i in {1..1000}\r\n> do\r\n>   echo $i\r\n>   curl http://www.google.com/favicon.ico\r\n> done\r\n> ```\r\n> \r\n> Trace of one of the requests:\r\n> \r\n> ![image](https://user-images.githubusercontent.com/661859/230960783-5bdf1ae9-f1de-49bf-af45-0d0c449dc1dc.png)\r\n> \r\n> Same script, but curl replaced with wget:\r\n> \r\n> ```shell\r\n> for  i in {1..1000}\r\n> do\r\n>   echo $i\r\n>   wget https://www.google.com/favicon.ico\r\n> done\r\n> ```\r\n> \r\n> Trace:\r\n> \r\n> ![image](https://user-images.githubusercontent.com/661859/230960962-e37bc8f7-c5c0-463c-832f-235d56efe1d4.png)\r\n\r\n@bagder this seems as a much simpler description and also reproduction steps of the same issue. @cuu508 thank you! ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1502650708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dfdity","id":122448166,"node_id":"U_kgDOB0xpJg","avatar_url":"https://avatars.githubusercontent.com/u/122448166?v=4","gravatar_id":"","url":"https://api.github.com/users/dfdity","html_url":"https://github.com/dfdity","followers_url":"https://api.github.com/users/dfdity/followers","following_url":"https://api.github.com/users/dfdity/following{/other_user}","gists_url":"https://api.github.com/users/dfdity/gists{/gist_id}","starred_url":"https://api.github.com/users/dfdity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfdity/subscriptions","organizations_url":"https://api.github.com/users/dfdity/orgs","repos_url":"https://api.github.com/users/dfdity/repos","events_url":"https://api.github.com/users/dfdity/events{/privacy}","received_events_url":"https://api.github.com/users/dfdity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8969024160,"node_id":"MEE_lADOAAiu0c5bThbHzwAAAAIWmHKg","url":"https://api.github.com/repos/curl/curl/issues/events/8969024160","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-11T03:54:32Z","performed_via_github_app":null},{"id":8969024172,"node_id":"SE_lADOAAiu0c5bThbHzwAAAAIWmHKs","url":"https://api.github.com/repos/curl/curl/issues/events/8969024172","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-11T03:54:32Z","performed_via_github_app":null},{"id":8969024189,"node_id":"MEE_lADOAAiu0c5bThbHzwAAAAIWmHK9","url":"https://api.github.com/repos/curl/curl/issues/events/8969024189","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-11T03:54:32Z","performed_via_github_app":null},{"id":8969024203,"node_id":"SE_lADOAAiu0c5bThbHzwAAAAIWmHLL","url":"https://api.github.com/repos/curl/curl/issues/events/8969024203","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-11T03:54:32Z","performed_via_github_app":null},{"id":9959980024,"node_id":"UNLE_lADOAAiu0c5bThbHzwAAAAJRqTv4","url":"https://api.github.com/repos/curl/curl/issues/events/9959980024","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-07-31T06:57:52Z","label":{"name":"needs-info","color":"fbca04"},"performed_via_github_app":null},{"id":9959980029,"node_id":"LE_lADOAAiu0c5bThbHzwAAAAJRqTv9","url":"https://api.github.com/repos/curl/curl/issues/events/9959980029","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-31T06:57:52Z","label":{"name":"help wanted","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1837555715","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1837555715","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1837555715,"node_id":"IC_kwDOAAiu0c5thuAD","user":{"login":"xquery","id":685000,"node_id":"MDQ6VXNlcjY4NTAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/685000?v=4","gravatar_id":"","url":"https://api.github.com/users/xquery","html_url":"https://github.com/xquery","followers_url":"https://api.github.com/users/xquery/followers","following_url":"https://api.github.com/users/xquery/following{/other_user}","gists_url":"https://api.github.com/users/xquery/gists{/gist_id}","starred_url":"https://api.github.com/users/xquery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xquery/subscriptions","organizations_url":"https://api.github.com/users/xquery/orgs","repos_url":"https://api.github.com/users/xquery/repos","events_url":"https://api.github.com/users/xquery/events{/privacy}","received_events_url":"https://api.github.com/users/xquery/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-03T18:08:53Z","updated_at":"2023-12-03T18:08:53Z","body":"A further test minimisation I attempted was replicating this behaviour against local http server instance ... without any inteceding proxies/cdn (which presumably apache.org and google have) ... I was not able to repro. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1837555715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"xquery","id":685000,"node_id":"MDQ6VXNlcjY4NTAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/685000?v=4","gravatar_id":"","url":"https://api.github.com/users/xquery","html_url":"https://github.com/xquery","followers_url":"https://api.github.com/users/xquery/followers","following_url":"https://api.github.com/users/xquery/following{/other_user}","gists_url":"https://api.github.com/users/xquery/gists{/gist_id}","starred_url":"https://api.github.com/users/xquery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xquery/subscriptions","organizations_url":"https://api.github.com/users/xquery/orgs","repos_url":"https://api.github.com/users/xquery/repos","events_url":"https://api.github.com/users/xquery/events{/privacy}","received_events_url":"https://api.github.com/users/xquery/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1975382052","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1975382052","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1975382052,"node_id":"IC_kwDOAAiu0c51vfAk","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-03T22:35:50Z","updated_at":"2024-03-03T22:35:50Z","body":"Is this still a problem?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1975382052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1977047244","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1977047244","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1977047244,"node_id":"IC_kwDOAAiu0c5111jM","user":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-04T16:57:53Z","updated_at":"2024-03-04T16:57:53Z","body":"Looks like yes, I just ran the same experiment as before, with fetching Google's favicon in a loop, using curl and wget.\r\n\r\nWireshark capture of one TCP stream when using wget:\r\n\r\n![image](https://github.com/curl/curl/assets/661859/8b475e6b-55c0-4d8e-87d7-80eef6a29d71)\r\n\r\nWireshark capture of one TCP stream when using curl (8.6.0, binary build from https://github.com/stunnel/static-curl/releases/tag/8.6.0-1):\r\n\r\n![Screenshot from 2024-03-04 18-53-41](https://github.com/curl/curl/assets/661859/63e0f4d3-c4f7-4054-8497-ac2cca358603)\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1977047244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1980536370","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1980536370","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1980536370,"node_id":"IC_kwDOAAiu0c52DJYy","user":{"login":"dorrogeray","id":4999006,"node_id":"MDQ6VXNlcjQ5OTkwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/4999006?v=4","gravatar_id":"","url":"https://api.github.com/users/dorrogeray","html_url":"https://github.com/dorrogeray","followers_url":"https://api.github.com/users/dorrogeray/followers","following_url":"https://api.github.com/users/dorrogeray/following{/other_user}","gists_url":"https://api.github.com/users/dorrogeray/gists{/gist_id}","starred_url":"https://api.github.com/users/dorrogeray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dorrogeray/subscriptions","organizations_url":"https://api.github.com/users/dorrogeray/orgs","repos_url":"https://api.github.com/users/dorrogeray/repos","events_url":"https://api.github.com/users/dorrogeray/events{/privacy}","received_events_url":"https://api.github.com/users/dorrogeray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-06T10:19:27Z","updated_at":"2024-03-06T10:19:27Z","body":"Hi, we are encountering issue which might be related, apologies if its not, I can create a separate issue.\r\n\r\nWe are using Curl 8.5 in our PHP 8.2 application. We are pushing data to a AWS kinesis stream. The AWS service behaves in a way that it kills the TCP connection after 5 seconds of inactivity, where the inactivity is measured as not pushing new data - it does not care about tcp keepalives.\r\n\r\nSo what happens is that after 5 seconds, we receive FIN, ACK from the AWS service, but instead of Curl sending FIN, ACK back and closing the connection, it sends back ACK and then tries to push additional application data.\r\n\r\n![application-does-not-fin-ack](https://github.com/curl/curl/assets/4999006/352be2bc-cc92-4292-8599-c95e8124faa4)\r\n\r\nIs this a bug? Or is there something misconfigured on our side? The TCP goes over SSL using CURL_SSLVERSION_TLSv1_3.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1980536370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dorrogeray","id":4999006,"node_id":"MDQ6VXNlcjQ5OTkwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/4999006?v=4","gravatar_id":"","url":"https://api.github.com/users/dorrogeray","html_url":"https://github.com/dorrogeray","followers_url":"https://api.github.com/users/dorrogeray/followers","following_url":"https://api.github.com/users/dorrogeray/following{/other_user}","gists_url":"https://api.github.com/users/dorrogeray/gists{/gist_id}","starred_url":"https://api.github.com/users/dorrogeray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dorrogeray/subscriptions","organizations_url":"https://api.github.com/users/dorrogeray/orgs","repos_url":"https://api.github.com/users/dorrogeray/repos","events_url":"https://api.github.com/users/dorrogeray/events{/privacy}","received_events_url":"https://api.github.com/users/dorrogeray/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1983926242","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1983926242","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1983926242,"node_id":"IC_kwDOAAiu0c52QE_i","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-07T16:26:44Z","updated_at":"2024-03-07T16:29:08Z","body":"This issue mixes HTTP: and HTTPS:// URLs a little intermittent. Which is the actual problem case?\r\n\r\nI can't reproduce any reset issues with the HTTP:// nor HTTPS:// google URLs on my Linux box.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1983926242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1985251659","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1985251659","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1985251659,"node_id":"IC_kwDOAAiu0c52VIlL","user":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-08T08:23:14Z","updated_at":"2024-03-08T08:33:39Z","body":"Sorry for the HTTP/HTTPS confusion. When fetching Google favicon, I can reproduce the RST packets with both http:// and https:// URLs. \r\n\r\nI guess reproduction could be tricky as we are likely hitting different data centers through different network paths, and timing differences might be important.\r\n\r\n~I tested a different URL on a server that I control [...] The server is running haproxy and returns a short `text/plain` response. On the client I used curl 8.6.0 again. Interestingly with this URL, I see RST packets only with HTTPS, HTTP is fine~\r\n\r\nedit: I tested my URL with wget  and saw RST packets too, so this is not a good example  the issue might be on the server.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1985251659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12052786537,"node_id":"REFE_lADOAAiu0c5bThbHzwAAAALOZu1p","url":"https://api.github.com/repos/curl/curl/issues/events/12052786537","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"db1fb54704099b87ba7bcb29bbeaeed82d95abfb","commit_url":"https://api.github.com/repos/icing/curl/commits/db1fb54704099b87ba7bcb29bbeaeed82d95abfb","created_at":"2024-03-08T08:39:31Z","performed_via_github_app":null},{"actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-08T08:40:23Z","updated_at":"2024-03-08T08:40:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/13087","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/13087/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/13087/comments","events_url":"https://api.github.com/repos/curl/curl/issues/13087/events","html_url":"https://github.com/curl/curl/pull/13087","id":2175554733,"node_id":"PR_kwDOAAiu0c5pDmp8","number":13087,"title":"TLS, start shutdown only when peer did not already close","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118221,"node_id":"MDU6TGFiZWwxODQxMTgyMjE=","url":"https://api.github.com/repos/curl/curl/labels/TLS","name":"TLS","color":"bfdadc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2024-03-08T08:40:23Z","updated_at":"2024-03-15T08:20:32Z","closed_at":"2024-03-15T08:20:31Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/13087","html_url":"https://github.com/curl/curl/pull/13087","diff_url":"https://github.com/curl/curl/pull/13087.diff","patch_url":"https://github.com/curl/curl/pull/13087.patch","merged_at":null},"body":"- refs #10290\r\n- When curl sees a TCP close from the peer, do not start a TLS shutdown. TLS shutdown is a handshake and if the peer already closed the connection, it is not interested in participating.","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/13087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/13087/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1985278791","html_url":"https://github.com/curl/curl/issues/10290#issuecomment-1985278791","issue_url":"https://api.github.com/repos/curl/curl/issues/10290","id":1985278791,"node_id":"IC_kwDOAAiu0c52VPNH","user":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-08T08:41:27Z","updated_at":"2024-03-08T08:41:27Z","body":"@cuu508 thanks for the clarification. I can reproduce the RST with getting google's favicon over HTTPS. The reason is that curl tries to send a TLS shutdown *after* having seen the TCP close from the server.\r\n\r\nCould you try #13087 if this solves the problems for you as well? cc: @dfdity @dorrogeray ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1985278791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"icing","id":15102,"node_id":"MDQ6VXNlcjE1MTAy","avatar_url":"https://avatars.githubusercontent.com/u/15102?v=4","gravatar_id":"","url":"https://api.github.com/users/icing","html_url":"https://github.com/icing","followers_url":"https://api.github.com/users/icing/followers","following_url":"https://api.github.com/users/icing/following{/other_user}","gists_url":"https://api.github.com/users/icing/gists{/gist_id}","starred_url":"https://api.github.com/users/icing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icing/subscriptions","organizations_url":"https://api.github.com/users/icing/orgs","repos_url":"https://api.github.com/users/icing/repos","events_url":"https://api.github.com/users/icing/events{/privacy}","received_events_url":"https://api.github.com/users/icing/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12052804922,"node_id":"MEE_lADOAAiu0c5bThbHzwAAAALOZzU6","url":"https://api.github.com/repos/curl/curl/issues/events/12052804922","actor":{"login":"cuu508","id":661859,"node_id":"MDQ6VXNlcjY2MTg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/661859?v=4","gravatar_id":"","url":"https://api.github.com/users/cuu508","html_url":"https://github.com/cuu508","followers_url":"https://api.github.com/users/cuu508/followers","following_url":"https://api.github.com/users/cuu508/following{/other_user}","gists_url":"https://api.github.com/users/cuu508/gists{/gist_id}","starred_url":"https://api.github.com/users/cuu508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuu508/subscriptions","organizations_url":"https://api.github.com/users/cuu508/orgs","repos_url":"https://api.github.com/users/cuu508/repos","events_url":"https://api.github.com/users/cuu508/events{/privacy}","received_events_url":"https://api.github.com/users/cuu508/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-03-08T08:41:29Z","performed_via_github_app":null}]