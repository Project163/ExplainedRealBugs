[{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646804254","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1646804254","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1646804254,"node_id":"IC_kwDOAAiu0c5iKD0e","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T10:29:52Z","updated_at":"2023-07-23T11:25:03Z","body":"~~#11417 was merged after the 8.2.0 release so I haven't tested it but~~ I'm still dubious of the use of `TARGET_OS_OSX` at all.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646804254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646809565","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1646809565","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1646809565,"node_id":"IC_kwDOAAiu0c5iKFHd","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T11:00:10Z","updated_at":"2023-07-23T11:00:10Z","body":"If the macOS distinction is important—if you need this code to happen on macOS but not iOS/tvOS/watchOS—a condition that was used in harfbuzz for that purpose was:\r\n\r\n```c\r\n#if TARGET_OS_MAC && !(defined(TARGET_OS_IPHONE) && TARGET_OS_IPHONE)\r\n```\r\n\r\nThe now-not-particularly-accurately-named `TARGET_OS_IPHONE` means \"any Darwin-derived OS that is not macOS\". (It was introduced back when iOS, which was then called iPhoneOS, was the only non-macOS Darwin OS.)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646809565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9892873243,"node_id":"LE_lADOAAiu0c5sTlczzwAAAAJNqUQb","url":"https://api.github.com/repos/curl/curl/issues/events/9892873243","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-23T14:31:35Z","label":{"name":"appleOS","color":"5319e7"},"performed_via_github_app":null},{"id":9892887368,"node_id":"LE_lADOAAiu0c5sTlczzwAAAAJNqXtI","url":"https://api.github.com/repos/curl/curl/issues/events/9892887368","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-23T14:32:31Z","label":{"name":"help wanted","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646858515","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1646858515","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1646858515,"node_id":"IC_kwDOAAiu0c5iKRET","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T14:39:31Z","updated_at":"2023-07-23T14:39:31Z","body":"> If the macOS distinction is important—if you need this code to happen on macOS but not iOS/tvOS/watchOS\r\n\r\nWe want it to work as widely as possible. But I don't know what that requires.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646858515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T18:29:41Z","updated_at":"2023-07-23T18:29:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/7121","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/7121/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/7121/comments","events_url":"https://api.github.com/repos/curl/curl/issues/7121/events","html_url":"https://github.com/curl/curl/pull/7121","id":899729701,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUxMzkwMTU5","number":7121,"title":"lib/hostip.c: make NAT64 address synthesis on macOS working","user":{"login":"zajdee","id":24385036,"node_id":"MDQ6VXNlcjI0Mzg1MDM2","avatar_url":"https://avatars.githubusercontent.com/u/24385036?v=4","gravatar_id":"","url":"https://api.github.com/users/zajdee","html_url":"https://github.com/zajdee","followers_url":"https://api.github.com/users/zajdee/followers","following_url":"https://api.github.com/users/zajdee/following{/other_user}","gists_url":"https://api.github.com/users/zajdee/gists{/gist_id}","starred_url":"https://api.github.com/users/zajdee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zajdee/subscriptions","organizations_url":"https://api.github.com/users/zajdee/orgs","repos_url":"https://api.github.com/users/zajdee/repos","events_url":"https://api.github.com/users/zajdee/events{/privacy}","received_events_url":"https://api.github.com/users/zajdee/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":975635480,"node_id":"MDU6TGFiZWw5NzU2MzU0ODA=","url":"https://api.github.com/repos/curl/curl/labels/name%20lookup","name":"name lookup","color":"0052cc","default":false,"description":"DNS and related tech"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2021-05-24T14:46:15Z","updated_at":"2023-07-23T18:29:41Z","closed_at":"2021-05-25T10:47:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/7121","html_url":"https://github.com/curl/curl/pull/7121","diff_url":"https://github.com/curl/curl/pull/7121.diff","patch_url":"https://github.com/curl/curl/pull/7121.patch","merged_at":null},"body":"On macOS running in an IPv6-only access network where DNS64 and NAT64 functions are also deployed, the operating system is able to synthesize the NAT64 IPv6 address when an IPv4-only literal is used. This is described in `man 3 getaddrinfo` as follows:\r\n```\r\n     The current implementation supports synthesis of NAT64 mapped IPv6 addresses.  If hostname\r\n     is a numeric string defining an IPv4 address (for example, ``192.0.2.1'' ) and ai_family is\r\n     set to PF_UNSPEC or PF_INET6, getaddrinfo() will synthesize the appropriate IPv6\r\n     address(es) (for example, ``64:ff9b::192.0.2.1'' ) if the current interface supports IPv6,\r\n     NAT64 and DNS64 and does not support IPv4. If the AI_ADDRCONFIG flag is set, the IPv4\r\n     address will be suppressed on those interfaces.  On non-qualifying interfaces,\r\n     getaddrinfo() is guaranteed to return immediately without attempting any resolution, and\r\n     will return the IPv4 address if ai_family is PF_UNSPEC or PF_INET. NAT64 address synthesis\r\n     can be disabled by setting the AI_NUMERICHOST flag. To best support NAT64 networks, it is\r\n     recommended to resolve all IP address literals with ai_family set to PF_UNSPEC and ai_flags\r\n     set to AI_DEFAULT.\r\n\r\n     Note that NAT64 address synthesis is always disabled for IPv4 addresses in the following\r\n     ranges: 0.0.0.0/8, 127.0.0.0/8, 169.254.0.0/16, 192.0.0.0/29, 192.88.99.0/24, 224.0.0.0/4,\r\n     and 255.255.255.255/32.  Additionally, NAT64 address synthesis is disabled when the network\r\n     uses the well-known prefix (64:ff9b::/96) for IPv4 addresses in the following ranges:\r\n     10.0.0.0/8, 100.64.0.0/10, 172.16.0.0/12, and 192.168.0.0/16.\r\n\r\n     Historically, passing a host's own hostname to getaddrinfo() has been a popular technique\r\n     for determining that host's IP address(es), but this is fragile, and doesn't work reliably\r\n     in all cases. The appropriate way for software to discover the IP address(es) of the host\r\n     it is running on is to use getifaddrs(3).\r\n```\r\nThe operating system however does not perform this synthesis unless the `SCDynamicStoreCopyProxies` function from the `SystemConfiguration` framework is called.\r\n\r\nThis commit therefore attempts to call the function in `lib/hostip.c` if `USE_RESOLVE_ON_IPS` is set (which is currently only set on macOS) before any hostname resolution is performed. As a result of this function call, `curl` is able to perform requests such as `curl http://1.1.1.1/` even on networks where there is no IPv4 connectivity in the access network.","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/7121/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/7121/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646929349","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1646929349","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1646929349,"node_id":"IC_kwDOAAiu0c5iKiXF","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T18:48:01Z","updated_at":"2023-07-23T18:48:01Z","body":"The question is what was the intent of #7121: to use it on any Darwin OS or only on macOS? It says:\r\n\r\n> if `USE_RESOLVE_ON_IPS` is set (which is currently only set on macOS)\r\n\r\nbut looking at the code it is actually defined on all Apple platforms:\r\n\r\nhttps://github.com/curl/curl/blob/57f56cc37459ade1dd86004a14c5493acc33ec60/lib/curl_setup.h#L258-L260\r\n\r\nIt also says:\r\n\r\n> I need to check if it exists on targets like iOS\r\n\r\nI `grep`'d through the SDKs and this function is mentioned in non-macOS SDKs:\r\n\r\n```\r\n% find /Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms -name 'SystemConfiguration.tbd' -or -name 'SCDynamicStoreCopySpecific.h' 2>/dev/null | xargs grep --color SCDynamicStoreCopyProxies            \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVOS.platform/Developer/SDKs/AppleTVOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxies, _SCDynamicStoreCopyProxiesWithOptions, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVOS.platform/Developer/SDKs/AppleTVOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:\t@function SCDynamicStoreCopyProxies\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVOS.platform/Developer/SDKs/AppleTVOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:SCDynamicStoreCopyProxies\t\t(\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxies, _SCDynamicStoreCopyProxiesWithOptions, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:\t@function SCDynamicStoreCopyProxies\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:SCDynamicStoreCopyProxies\t\t(\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyNotifiedKeys, _SCDynamicStoreCopyProxies, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxiesWithOptions, _SCDynamicStoreCopyValue, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration.tbd:                       _SCDynamicStoreCopyNotifiedKeys, _SCDynamicStoreCopyProxies, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxiesWithOptions, _SCDynamicStoreCopyValue, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/Headers/SCDynamicStoreCopySpecific.h:\t@function SCDynamicStoreCopyProxies\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/Headers/SCDynamicStoreCopySpecific.h:SCDynamicStoreCopyProxies\t\t(\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVSimulator.platform/Developer/SDKs/AppleTVSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxies, _SCDynamicStoreCopyProxiesWithOptions, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVSimulator.platform/Developer/SDKs/AppleTVSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:\t@function SCDynamicStoreCopyProxies\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/AppleTVSimulator.platform/Developer/SDKs/AppleTVSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:SCDynamicStoreCopyProxies\t\t(\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration.tbd:                       _SCDynamicStoreCopyProxies, _SCDynamicStoreCopyProxiesWithOptions, \r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:\t@function SCDynamicStoreCopyProxies\r\n/Volumes/BigSur/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/Frameworks/SystemConfiguration.framework/Headers/SCDynamicStoreCopySpecific.h:SCDynamicStoreCopyProxies\t\t(\r\n```\r\n\r\nBut [this Stack Overflow post](https://stackoverflow.com/questions/42998035/scdynamicstorecreate-is-unavailable-not-available-on-ios) shows someone encountering these errors:\r\n\r\n> ```\r\n> 'SCDynamicStoreCreate' is unavailable: not available on iOS\r\n> 'SCDynamicStoreCopyValue' is unavailable: not available on iOS\r\n> ```\r\n\r\nwith someone responding:\r\n\r\n> Those are only available for Mac OS","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646929349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646960027","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1646960027","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1646960027,"node_id":"IC_kwDOAAiu0c5iKp2b","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T21:09:58Z","updated_at":"2023-07-23T21:09:58Z","body":"> what was the intent\r\n\r\nI'm not sure that's terribly important. The *intent* of that PR was to fix the problem of the author, which I believe it did. That seems have been to make libcurl to behave better on macOS.\r\n\r\nDoes this logic also apply to other apple operating systems and versions or is it perhaps restricted to a subset? And if so, can the change be improved?\r\n\r\nIf so, I hope someone offers a PR that does it.  The intent of the PR from two years ago is no longer that interesting.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1646960027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647048860","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1647048860","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1647048860,"node_id":"IC_kwDOAAiu0c5iK_ic","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T01:09:38Z","updated_at":"2023-07-24T01:09:38Z","body":"I tried a build for iOS after changing the conditions from `TARGET_OS_OSX` to `TARGET_OS_MAC` (which includes iOS and other Darwin OS variants) and the build failed:\r\n\r\n```\r\nmacos.c:52:28: error: 'SCDynamicStoreCopyProxies' is unavailable: not available on iOS\r\n    CFDictionaryRef dict = SCDynamicStoreCopyProxies(NULL);\r\n                           ^\r\n```\r\n\r\nThat confirms for me that this should really only be used on macOS, not other Darwin OS derivatives, and I'll prepare a PR to fix it so it'll work on older SDKs.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647048860/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647214529","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1647214529","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1647214529,"node_id":"IC_kwDOAAiu0c5iLn_B","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T05:04:08Z","updated_at":"2023-07-24T05:04:08Z","body":"I haven't decided yet what conditional to use to identify macOS. Elsewhere in curl this conditional is used:\r\n\r\nhttps://github.com/curl/curl/blob/3c0a91077c2af4a34f5ac177dd5ec8149ce479d7/lib/vtls/sectransp.c#L70\r\n\r\nHowever Apple now says `TARGET_OS_EMBEDDED` is deprecated. I'm also keeping in mind the fact that newer clang compilers default to `-Werror,-Wundef-prefix=TARGET_OS_` and so you either have to be certain that the `TARGET_OS_` macros you use are defined on every OS or you have to check that they're `defined` first.\r\n\r\nThe conditional to identify macOS is currently repeated in four files. The breakage in 8.2.0 was caused by making a change to the conditional in only three out of the four files. Would it be better to define that conditional in fewer files so that it's less likely to go out of sync? I was thinking of defining it only here:\r\n\r\nhttps://github.com/curl/curl/blob/3c0a91077c2af4a34f5ac177dd5ec8149ce479d7/m4/curl-sysconfig.m4#L33\r\n\r\nhowever it would need to be duplicated in the CMake build system too. But then the configure script or CMake could define a macro in curl_config.h which the rest of the .c and .h files could use. If this is a good idea, what would be a good macro name? Are there other existing curl macros for identifying other operating systems?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647214529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647916787","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1647916787","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1647916787,"node_id":"IC_kwDOAAiu0c5iOTbz","user":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T13:31:04Z","updated_at":"2023-07-24T19:07:10Z","body":"Please consider including an easy escape hatch from getting this whole SCDynamicStoreCopyProxies call/code included if you're \"fixing\" the detection. I was depending on the happy accident of TARGET_OS_OSX not defined in older SDKs, and now due to the #11417 fix in curl 8.20 I had to start adding -DTARGET_OS_OSX=0 to CPPFLAGS avoid any of this code getting included, despite the build being for macOS.\r\n\r\nAs far as I'm concerned, this call is total poison, causing mysterious crashes making the culprit really hard to track down. For example, I had php-fpm immediately crashing on pdo_pgsql PostgreSQL database connection attempts, all due to PHP having an also loaded curl extension linked to libcurl with this SCDynamicStoreCopyProxies call included. And of course impossible to reproduce with a different PHP SAPI that does not use forking. For this reason, I do not want my macOS libcurl builds to actually include this call, ever.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1647916787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648294227","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1648294227","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1648294227,"node_id":"IC_kwDOAAiu0c5iPvlT","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T17:13:40Z","updated_at":"2023-07-24T19:07:18Z","body":"> I do not want my macOS libcurl builds to actually include this call, ever.\r\n\r\nThen your builds of libcurl will not have the same function on macOS as others' builds do, since this call is the only known way to enable that Ipv4 => IPv6 conversion thing.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648294227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648367412","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1648367412","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1648367412,"node_id":"IC_kwDOAAiu0c5iQBc0","user":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T18:06:04Z","updated_at":"2023-07-24T19:07:02Z","body":"> > I do not want my macOS libcurl builds to actually include this call, ever.\r\n> Then your builds of libcurl will not have the same function on macOS as others' builds do, since this call is the only known way to enable that Ipv4 => IPv6 conversion thing.\r\n\r\nThat's an extremely esoteric case I cannot even imagine happening outside of some laboratory setting. An IPv6-only network interface, yet expecting to use plain global IPv4 addresses on it? Whereas, while shrinking, PHP still shows at 19.6% as the most-used non-C language binding in the user survey, and PHP-FPM is the default way of running PHP with web servers on any *nix platform. The majority of PHP / Mac users would surely prefer not having random inexplicable crashes to supporting such an impossibly rare use case.\r\n\r\nArguably, this is entirely the wrong call to include in a library in any case. Calling a function that, even in the happy case where it doesn't cause random crashes, is specifically meant to alter the behavior of other system calls (getaddrinfo) in the same process, should be left to the application, not any library. Ideally, this call should only be in curl, the command-line utility, and outside of libcurl. Then if any other libcurl-using code would wish to opt in to the same behavior, they can likewise enable it themselves for their entire process.\r\n\r\nBut I'm perfectly happy if I can just continue to keep my own libcurl builds crash-free, as it accidentally automatically was the case in curl < 8.20.0, and thankfully remains quite easy to do in 8.20.0. I'm only afraid of needlessly strengthening the macOS detection with no way out but manually patching the code going forwards, is all. Hence my original comment. Please think of it when making changes.\r\nOthers are quite welcome to have all their crashing builds at their leisure if that's their preference. It is quite natural that no two curl/libcurl builds are the same, and each is widely different depending on the list of third-party libraries linked in, TLS backend(s) chosen, features enabled, and so on.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648367412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648377754","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1648377754","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1648377754,"node_id":"IC_kwDOAAiu0c5iQD-a","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T18:14:02Z","updated_at":"2023-07-24T19:06:52Z","body":"> random inexplicable crashes\r\n\r\nYou are the first to report this problem, and you did not even submit an issue for it. You're piggy-backing a link issue. I'm not sure what to think about it and I'm certainly not convinced about this claim just with this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648377754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648446024","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1648446024","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1648446024,"node_id":"IC_kwDOAAiu0c5iQUpI","user":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T18:53:59Z","updated_at":"2023-07-24T19:06:41Z","body":"> You are the first to report this problem, and you did not even submit an issue for it.\r\n\r\nI have no issue or problem at present, since it is trivial to continue to build curl without this call included, without altering a single character of curl source code. I'm happy if things stay as is, unchanged. Except this \"link issue\" here is possibly going to result in changes to make such a build more difficult in the future, which I hoped to preempt by the comment. Hopefully this part of the code will remain easily disabled even post modifications for this issue, and not forced on all macOS builds, in which case I'll continue to have no issue of my own. Thank you!\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1648446024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9909795237,"node_id":"REFE_lADOAAiu0c5sTlczzwAAAAJOq3ml","url":"https://api.github.com/repos/curl/curl/issues/events/9909795237","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"30e788bbf91ca19111a948db9cae05d6b813abc6","commit_url":"https://api.github.com/repos/ryandesign/curl/commits/30e788bbf91ca19111a948db9cae05d6b813abc6","created_at":"2023-07-25T10:18:12Z","performed_via_github_app":null},{"actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T10:19:45Z","updated_at":"2023-07-25T10:19:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/11516","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/11516/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/11516/comments","events_url":"https://api.github.com/repos/curl/curl/issues/11516/events","html_url":"https://github.com/curl/curl/pull/11516","id":1820012444,"node_id":"PR_kwDOAAiu0c5WUPtY","number":11516,"title":"macOS: Really fix target detection","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118182,"node_id":"MDU6TGFiZWwxODQxMTgxODI=","url":"https://api.github.com/repos/curl/curl/labels/build","name":"build","color":"bfdadc","default":false,"description":null},{"id":5766238564,"node_id":"LA_kwDOAAiu0c8AAAABV7HRZA","url":"https://api.github.com/repos/curl/curl/labels/appleOS","name":"appleOS","color":"5319e7","default":false,"description":"specific to an Apple operating system"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-07-25T10:19:45Z","updated_at":"2023-08-01T11:20:24Z","closed_at":"2023-07-29T21:43:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/11516","html_url":"https://github.com/curl/curl/pull/11516","diff_url":"https://github.com/curl/curl/pull/11516.diff","patch_url":"https://github.com/curl/curl/pull/11516.patch","merged_at":null},"body":"`TARGET_OS_OSX` is only defined in the macOS 10.12 SDK and later and is only defined when dynamic targets are enabled. `TARGET_OS_MAC` is always defined but means any Darwin OS, including macOS, iOS, tvOS, watchOS. `TARGET_OS_IPHONE` means any Darwin OS other than macOS.\r\n\r\nFollow-up to c73b2f82\r\n\r\nCloses #11502\r\n\r\n-----\r\n\r\nI tested on macOS 12 building for OS X 10.8 and then for iOS 11.\r\n\r\nAnd I tested on OS X 10.8 building for OS X 10.8 and then for iOS 7.","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/11516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/11516/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1649551488","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1649551488","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1649551488,"node_id":"IC_kwDOAAiu0c5iUiiA","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T10:23:53Z","updated_at":"2023-07-25T10:23:53Z","body":"I still think reducing the number of places the same conditional is repeated would be a good idea but for now I've submitted a PR that just fixes the conditionals.\r\n\r\nI'll attempt to reproduce the PHP FPM problem and will file a separate issue if I find anything.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1649551488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1649725863","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1649725863","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1649725863,"node_id":"IC_kwDOAAiu0c5iVNGn","user":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T12:15:07Z","updated_at":"2023-07-25T12:15:07Z","body":"As feared, this change will make it a tad hairier to avoid including this code. Still, compiling with `-D __TARGETCONDITIONALS__ -D TARGET_OS_MAC=0` should work, or faking a Mac Catalyst build through `--target=<arch>-apple-ios##-macabi`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1649725863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650095375","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1650095375","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1650095375,"node_id":"IC_kwDOAAiu0c5iWnUP","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:48:20Z","updated_at":"2023-07-25T15:48:20Z","body":"@fds242 if you can provide evidence of problems with this function call, preferably in a way to reproduce the issue, then we could work on fixing the root cause instead of you trying to disable parts of libcurl that is not written to be disabled easily. That would be great!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650095375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9913624430,"node_id":"MEE_lADOAAiu0c5sTlczzwAAAAJO5edu","url":"https://api.github.com/repos/curl/curl/issues/events/9913624430","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-07-25T15:48:20Z","performed_via_github_app":null},{"id":9913624545,"node_id":"SE_lADOAAiu0c5sTlczzwAAAAJO5efh","url":"https://api.github.com/repos/curl/curl/issues/events/9913624545","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-07-25T15:48:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650164127","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1650164127","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1650164127,"node_id":"IC_kwDOAAiu0c5iW4Gf","user":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T16:30:21Z","updated_at":"2023-07-25T16:30:21Z","body":"@badger It is inherent incompatibility that logically cannot be fixed, only disabled or removed. Assuming we accept as noted in #11254 that this function should not be called in a fork. (I have not personally found Apple documentation to this effect on this specific call.) PHP-FPM is a classic single-threaded Unix server that creates worker forks of itself, as configured, to carry out the work. By the time a worker fork loads the PHP curl shared extension, and hence any libcurl code has a chance to run, it is already inside a fork. Whether documented or not, this sure causes severe issues, unrelated PHP extensions suddenly now causing the worker fork to unceremoniously crash with no error message, just because a libcurl that included this call was also loaded.\r\n\r\nOnly workarounds I could imagine are outside of curl,\r\na) linking PHP directly to libcurl rather than keeping the curl extension as a shared module (this is not normally done since PHP internals don't and can't take advantage of curl)\r\nb) manually adding this call to SCDynamicStoreCopyProxies into php-fpm's code\r\nBoth different ways of achieving the same idea of making sure the call is first executed at server start, rather than inside a fork.\r\n\r\nBut, again, it continues to make no sense to me for libcurl to even attempt make this call. Even if you disregard the terrible crashes it causes, it's quite akin to how libcurl would never make a `setlocale()` call behind your back, but calls to `setlocale()` _are_ included in `tool/operate.c` for the `curl` tool, as they should be. It is the purview of the application, not the library, to make calls that affect further system calls for the entire process.\r\n\r\nIn the end I'm satisfied I could continue building libcurl without it, I was just hoping for the change to be more like … ah, I see changes are actively being made, and looking much closer to how I hoped it would be on making my first comments.\r\n\r\nIf the define to CURL_OSX_CALL_COPYPROXIES could be wrapped in an ifndef check, it would be perfection.\r\n```\r\n#ifndef CURL_OSX_CALL_COPYPROXIES\r\n#define CURL_OSX_CALL_COPYPROXIES 1\r\n#endif\r\n```\r\n\r\nThen you could very easily `-D CURL_OSX_CALL_COPYPROXIES 0`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650164127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fds242","id":274402,"node_id":"MDQ6VXNlcjI3NDQwMg==","avatar_url":"https://avatars.githubusercontent.com/u/274402?v=4","gravatar_id":"","url":"https://api.github.com/users/fds242","html_url":"https://github.com/fds242","followers_url":"https://api.github.com/users/fds242/followers","following_url":"https://api.github.com/users/fds242/following{/other_user}","gists_url":"https://api.github.com/users/fds242/gists{/gist_id}","starred_url":"https://api.github.com/users/fds242/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fds242/subscriptions","organizations_url":"https://api.github.com/users/fds242/orgs","repos_url":"https://api.github.com/users/fds242/repos","events_url":"https://api.github.com/users/fds242/events{/privacy}","received_events_url":"https://api.github.com/users/fds242/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9914067237,"node_id":"MEE_lADOAAiu0c5sTlczzwAAAAJO7Kkl","url":"https://api.github.com/repos/curl/curl/issues/events/9914067237","actor":{"login":"Badger-zz","id":105434565,"node_id":"U_kgDOBkjNxQ","avatar_url":"https://avatars.githubusercontent.com/u/105434565?v=4","gravatar_id":"","url":"https://api.github.com/users/Badger-zz","html_url":"https://github.com/Badger-zz","followers_url":"https://api.github.com/users/Badger-zz/followers","following_url":"https://api.github.com/users/Badger-zz/following{/other_user}","gists_url":"https://api.github.com/users/Badger-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Badger-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Badger-zz/subscriptions","organizations_url":"https://api.github.com/users/Badger-zz/orgs","repos_url":"https://api.github.com/users/Badger-zz/repos","events_url":"https://api.github.com/users/Badger-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Badger-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-07-25T16:30:22Z","performed_via_github_app":null},{"id":9914067258,"node_id":"SE_lADOAAiu0c5sTlczzwAAAAJO7Kk6","url":"https://api.github.com/repos/curl/curl/issues/events/9914067258","actor":{"login":"Badger-zz","id":105434565,"node_id":"U_kgDOBkjNxQ","avatar_url":"https://avatars.githubusercontent.com/u/105434565?v=4","gravatar_id":"","url":"https://api.github.com/users/Badger-zz","html_url":"https://github.com/Badger-zz","followers_url":"https://api.github.com/users/Badger-zz/followers","following_url":"https://api.github.com/users/Badger-zz/following{/other_user}","gists_url":"https://api.github.com/users/Badger-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/Badger-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Badger-zz/subscriptions","organizations_url":"https://api.github.com/users/Badger-zz/orgs","repos_url":"https://api.github.com/users/Badger-zz/repos","events_url":"https://api.github.com/users/Badger-zz/events{/privacy}","received_events_url":"https://api.github.com/users/Badger-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-07-25T16:30:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650184316","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1650184316","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1650184316,"node_id":"IC_kwDOAAiu0c5iW9B8","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T16:44:54Z","updated_at":"2023-07-25T16:44:54Z","body":"I'm not satisfied with that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650184316/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9916748401,"node_id":"REFE_lADOAAiu0c5sTlczzwAAAAJPFZJx","url":"https://api.github.com/repos/curl/curl/issues/events/9916748401","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a3b377343557207f3c37850e8b16080367aeb48c","commit_url":"https://api.github.com/repos/ryandesign/curl/commits/a3b377343557207f3c37850e8b16080367aeb48c","created_at":"2023-07-25T21:30:55Z","performed_via_github_app":null},{"id":9916765941,"node_id":"REFE_lADOAAiu0c5sTlczzwAAAAJPFdb1","url":"https://api.github.com/repos/curl/curl/issues/events/9916765941","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c81082f581076e1abf85c0b6673a6dc9de4207d9","commit_url":"https://api.github.com/repos/ryandesign/curl/commits/c81082f581076e1abf85c0b6673a6dc9de4207d9","created_at":"2023-07-25T21:32:38Z","performed_via_github_app":null},{"id":9917045352,"node_id":"REFE_lADOAAiu0c5sTlczzwAAAAJPGhpo","url":"https://api.github.com/repos/curl/curl/issues/events/9917045352","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"437c84479bb9bfda6543569751d706473e19949d","commit_url":"https://api.github.com/repos/ryandesign/curl/commits/437c84479bb9bfda6543569751d706473e19949d","created_at":"2023-07-25T22:11:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650679505","html_url":"https://github.com/curl/curl/issues/11502#issuecomment-1650679505","issue_url":"https://api.github.com/repos/curl/curl/issues/11502","id":1650679505,"node_id":"IC_kwDOAAiu0c5iY17R","user":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T23:01:16Z","updated_at":"2023-07-25T23:01:16Z","body":"@fds242 I've attempted to use PHP FPM with the curl and pdo_pgsql modules and I haven't been able to make it crash, so I may not be testing the same way you were. Could you file a separate issue please with more information on your setup (macOS version, PHP version, which web server and version, a minimal reproduction recipe)?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1650679505/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ryandesign","id":429209,"node_id":"MDQ6VXNlcjQyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/429209?v=4","gravatar_id":"","url":"https://api.github.com/users/ryandesign","html_url":"https://github.com/ryandesign","followers_url":"https://api.github.com/users/ryandesign/followers","following_url":"https://api.github.com/users/ryandesign/following{/other_user}","gists_url":"https://api.github.com/users/ryandesign/gists{/gist_id}","starred_url":"https://api.github.com/users/ryandesign/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryandesign/subscriptions","organizations_url":"https://api.github.com/users/ryandesign/orgs","repos_url":"https://api.github.com/users/ryandesign/repos","events_url":"https://api.github.com/users/ryandesign/events{/privacy}","received_events_url":"https://api.github.com/users/ryandesign/received_events","type":"User","user_view_type":"public","site_admin":false}}]