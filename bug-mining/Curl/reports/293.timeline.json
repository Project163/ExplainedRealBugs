[{"id":9073213290,"node_id":"LE_lADOAAiu0c5kCaEKzwAAAAIczj9q","url":"https://api.github.com/repos/curl/curl/issues/events/9073213290","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-04-22T15:04:45Z","label":{"name":"HTTP","color":"207de5"},"performed_via_github_app":null},{"id":9073213291,"node_id":"LE_lADOAAiu0c5kCaEKzwAAAAIczj9r","url":"https://api.github.com/repos/curl/curl/issues/events/9073213291","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-04-22T15:04:45Z","label":{"name":"authentication","color":"e99695"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1521569025","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1521569025","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1521569025,"node_id":"IC_kwDOAAiu0c5asU0B","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T10:41:56Z","updated_at":"2023-04-25T10:41:56Z","body":"@ajoga would you mind providing your proposed fix as a PR?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1521569025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9090839787,"node_id":"MEE_lADOAAiu0c5kCaEKzwAAAAId2zTr","url":"https://api.github.com/repos/curl/curl/issues/events/9090839787","actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-25T10:41:56Z","performed_via_github_app":null},{"id":9090839798,"node_id":"SE_lADOAAiu0c5kCaEKzwAAAAId2zT2","url":"https://api.github.com/repos/curl/curl/issues/events/9090839798","actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-25T10:41:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1524088100","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1524088100","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1524088100,"node_id":"IC_kwDOAAiu0c5a170k","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T21:50:46Z","updated_at":"2023-04-26T21:50:46Z","body":"This authentication thing is awful with checks for specific strings like `aws`and `s3` to decide how to act.\r\n\r\nCan't you just say it is `s3` instead of `vpc-lattice-svcs` to make it work?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1524088100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1525174871","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1525174871","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1525174871,"node_id":"IC_kwDOAAiu0c5a6FJX","user":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T08:55:12Z","updated_at":"2023-04-27T08:55:12Z","body":"Hi @bagder \r\n\r\nThank you for your swift feedback. My apologies for not getting to that PR -- last C I wrote was many years ago and the \"patch\" in this bug report is breaking the initial intended logic of curl just to get my use case to work. I didn't get a big enough chunk of time to try to submit to you something that could be a base of discussion to merge.\r\n\r\n> Can't you just say it is `s3` instead of `vpc-lattice-svcs` to make it work?\r\n\r\nI tried it for you, on curl-8.0.1:\r\n```\r\n$ ./src/curl --aws-sigv4 \"aws:amz:eu-west-1:s3\" --user \"${ACCESS_KEY_ID}:${SECRET_ACCESS_KEY}\" -H \"x-amz-security-token: $SESSION_TOKEN\" http://helloworld-XXXXXXX.XXXXXXX.vpc-lattice-svcs.eu-west-1.on.aws/hello                                                                                                                                                                                                                         \r\nInvalidSignatureException: Signed payloads are not supported\r\n```\r\n\r\nThis is why I had in my patch an `if(false)` to get in the code path for the `UNSIGNED-PAYLOAD` at https://github.com/curl/curl/blob/curl-8_0_1/lib/http_aws_sigv4.c#L350-L357 ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1525174871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9111829639,"node_id":"MEE_lADOAAiu0c5kCaEKzwAAAAIfG3yH","url":"https://api.github.com/repos/curl/curl/issues/events/9111829639","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-27T08:55:12Z","performed_via_github_app":null},{"id":9111829651,"node_id":"SE_lADOAAiu0c5kCaEKzwAAAAIfG3yT","url":"https://api.github.com/repos/curl/curl/issues/events/9111829651","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-27T08:55:12Z","performed_via_github_app":null},{"id":9113579666,"node_id":"REFE_lADOAAiu0c5kCaEKzwAAAAIfNjCS","url":"https://api.github.com/repos/curl/curl/issues/events/9113579666","actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"86d651605fbcc170cc77eee726affc5fd4ce576c","commit_url":"https://api.github.com/repos/ajoga/curl/commits/86d651605fbcc170cc77eee726affc5fd4ce576c","created_at":"2023-04-27T11:57:05Z","performed_via_github_app":null},{"actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T11:59:11Z","updated_at":"2023-04-27T11:59:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/curl/curl/issues/11042","repository_url":"https://api.github.com/repos/curl/curl","labels_url":"https://api.github.com/repos/curl/curl/issues/11042/labels{/name}","comments_url":"https://api.github.com/repos/curl/curl/issues/11042/comments","events_url":"https://api.github.com/repos/curl/curl/issues/11042/events","html_url":"https://github.com/curl/curl/pull/11042","id":1686700045,"node_id":"PR_kwDOAAiu0c5PSfOW","number":11042,"title":"aws_sigv4: add x-%s-content-sha256 header for vpc-lattice-svcs","user":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":184118243,"node_id":"MDU6TGFiZWwxODQxMTgyNDM=","url":"https://api.github.com/repos/curl/curl/labels/HTTP","name":"HTTP","color":"207de5","default":false,"description":null},{"id":538402904,"node_id":"MDU6TGFiZWw1Mzg0MDI5MDQ=","url":"https://api.github.com/repos/curl/curl/labels/authentication","name":"authentication","color":"e99695","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-04-27T11:59:10Z","updated_at":"2023-08-06T21:11:48Z","closed_at":"2023-08-06T21:11:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":569041,"node_id":"MDEwOlJlcG9zaXRvcnk1NjkwNDE=","name":"curl","full_name":"curl/curl","private":false,"owner":{"login":"curl","id":16928085,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2OTI4MDg1","avatar_url":"https://avatars.githubusercontent.com/u/16928085?v=4","gravatar_id":"","url":"https://api.github.com/users/curl","html_url":"https://github.com/curl","followers_url":"https://api.github.com/users/curl/followers","following_url":"https://api.github.com/users/curl/following{/other_user}","gists_url":"https://api.github.com/users/curl/gists{/gist_id}","starred_url":"https://api.github.com/users/curl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/curl/subscriptions","organizations_url":"https://api.github.com/users/curl/orgs","repos_url":"https://api.github.com/users/curl/repos","events_url":"https://api.github.com/users/curl/events{/privacy}","received_events_url":"https://api.github.com/users/curl/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/curl/curl","description":"A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS. libcurl offers a myriad of powerful features","fork":false,"url":"https://api.github.com/repos/curl/curl","forks_url":"https://api.github.com/repos/curl/curl/forks","keys_url":"https://api.github.com/repos/curl/curl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/curl/curl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/curl/curl/teams","hooks_url":"https://api.github.com/repos/curl/curl/hooks","issue_events_url":"https://api.github.com/repos/curl/curl/issues/events{/number}","events_url":"https://api.github.com/repos/curl/curl/events","assignees_url":"https://api.github.com/repos/curl/curl/assignees{/user}","branches_url":"https://api.github.com/repos/curl/curl/branches{/branch}","tags_url":"https://api.github.com/repos/curl/curl/tags","blobs_url":"https://api.github.com/repos/curl/curl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/curl/curl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/curl/curl/git/refs{/sha}","trees_url":"https://api.github.com/repos/curl/curl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/curl/curl/statuses/{sha}","languages_url":"https://api.github.com/repos/curl/curl/languages","stargazers_url":"https://api.github.com/repos/curl/curl/stargazers","contributors_url":"https://api.github.com/repos/curl/curl/contributors","subscribers_url":"https://api.github.com/repos/curl/curl/subscribers","subscription_url":"https://api.github.com/repos/curl/curl/subscription","commits_url":"https://api.github.com/repos/curl/curl/commits{/sha}","git_commits_url":"https://api.github.com/repos/curl/curl/git/commits{/sha}","comments_url":"https://api.github.com/repos/curl/curl/comments{/number}","issue_comment_url":"https://api.github.com/repos/curl/curl/issues/comments{/number}","contents_url":"https://api.github.com/repos/curl/curl/contents/{+path}","compare_url":"https://api.github.com/repos/curl/curl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/curl/curl/merges","archive_url":"https://api.github.com/repos/curl/curl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/curl/curl/downloads","issues_url":"https://api.github.com/repos/curl/curl/issues{/number}","pulls_url":"https://api.github.com/repos/curl/curl/pulls{/number}","milestones_url":"https://api.github.com/repos/curl/curl/milestones{/number}","notifications_url":"https://api.github.com/repos/curl/curl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/curl/curl/labels{/name}","releases_url":"https://api.github.com/repos/curl/curl/releases{/id}","deployments_url":"https://api.github.com/repos/curl/curl/deployments","created_at":"2010-03-18T22:32:22Z","updated_at":"2025-11-10T09:41:55Z","pushed_at":"2025-11-10T12:18:24Z","git_url":"git://github.com/curl/curl.git","ssh_url":"git@github.com:curl/curl.git","clone_url":"https://github.com/curl/curl.git","svn_url":"https://github.com/curl/curl","homepage":"https://curl.se/","size":118458,"stargazers_count":39830,"watchers_count":39830,"language":"C","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6941,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":43,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","client","curl","ftp","gopher","hacktoberfest","http","https","imaps","ldap","libcurl","library","mqtt","pop3","scp","sftp","transfer-data","transferring-data","user-agent","websocket"],"visibility":"public","forks":6941,"open_issues":43,"watchers":39830,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/curl/curl/pulls/11042","html_url":"https://github.com/curl/curl/pull/11042","diff_url":"https://github.com/curl/curl/pull/11042.diff","patch_url":"https://github.com/curl/curl/pull/11042.patch","merged_at":null},"body":"The x-%s-content-sha256 header is needed by other AWS services than S3 like VPC Lattice. This change removes explicit references to s3 and adds the logic to support vpc-lattice-svcs.\r\n\r\nFixes #11007","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/11042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/curl/curl/issues/11042/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":9114416414,"node_id":"REFE_lADOAAiu0c5kCaEKzwAAAAIfQvUe","url":"https://api.github.com/repos/curl/curl/issues/events/9114416414","actor":{"login":"ajoga","id":37543966,"node_id":"MDQ6VXNlcjM3NTQzOTY2","avatar_url":"https://avatars.githubusercontent.com/u/37543966?v=4","gravatar_id":"","url":"https://api.github.com/users/ajoga","html_url":"https://github.com/ajoga","followers_url":"https://api.github.com/users/ajoga/followers","following_url":"https://api.github.com/users/ajoga/following{/other_user}","gists_url":"https://api.github.com/users/ajoga/gists{/gist_id}","starred_url":"https://api.github.com/users/ajoga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajoga/subscriptions","organizations_url":"https://api.github.com/users/ajoga/orgs","repos_url":"https://api.github.com/users/ajoga/repos","events_url":"https://api.github.com/users/ajoga/events{/privacy}","received_events_url":"https://api.github.com/users/ajoga/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1640d04e0ca68e83c978e522183c6b76f1397b98","commit_url":"https://api.github.com/repos/ajoga/curl/commits/1640d04e0ca68e83c978e522183c6b76f1397b98","created_at":"2023-04-27T13:11:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1527810265","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1527810265","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1527810265,"node_id":"IC_kwDOAAiu0c5bEIjZ","user":{"login":"cbodley","id":1928002,"node_id":"MDQ6VXNlcjE5MjgwMDI=","avatar_url":"https://avatars.githubusercontent.com/u/1928002?v=4","gravatar_id":"","url":"https://api.github.com/users/cbodley","html_url":"https://github.com/cbodley","followers_url":"https://api.github.com/users/cbodley/followers","following_url":"https://api.github.com/users/cbodley/following{/other_user}","gists_url":"https://api.github.com/users/cbodley/gists{/gist_id}","starred_url":"https://api.github.com/users/cbodley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbodley/subscriptions","organizations_url":"https://api.github.com/users/cbodley/orgs","repos_url":"https://api.github.com/users/cbodley/repos","events_url":"https://api.github.com/users/cbodley/events{/privacy}","received_events_url":"https://api.github.com/users/cbodley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T16:34:06Z","updated_at":"2023-04-28T16:34:06Z","body":"> Note: VPC Lattice does not support payload signing, therefore you must send x-amz-content-sha256 header with value set to \"UNSIGNED-PAYLOAD\".\r\n\r\nthis is the first i've seen UNSIGNED-PAYLOAD mentioned outside of the s3 docs. i find it strange that vpc-lattice-svcs doesn't support any kind of signed payloads, but still requires this x-amz-content-sha256 header. as a workaround without code changes, you could add `-H \"x-amz-content-sha256: UNSIGNED-PAYLOAD\"` to the command line, and the rest of the signing logic should work correctly\r\n\r\ni could imagine adding a curl option to control which payload signing strategy to use. currently for s3, we make a best effort to calculate a real signature, then fall back to UNSIGNED-PAYLOAD. outside of s3, we do the same but the fallback is a sha256 checksum of an empty buffer\r\n\r\nfor vpc-lattive-svcs, it looks like the correct strategy would be to always use UNSIGNED-PAYLOAD. but adding `-H \"x-amz-content-sha256: UNSIGNED-PAYLOAD\"` accomplishes the same thing\r\n\r\n> This authentication thing is awful with checks for specific strings like awsand s3 to decide how to act.\r\n\r\nthis is currently the only way for curl to know whether or not the server will accept UNSIGNED-PAYLOAD. we might add a separate curl option to allow the caller to pass this information manually, but i still think there's value in doing the right thing automatically for services like s3","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1527810265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cbodley","id":1928002,"node_id":"MDQ6VXNlcjE5MjgwMDI=","avatar_url":"https://avatars.githubusercontent.com/u/1928002?v=4","gravatar_id":"","url":"https://api.github.com/users/cbodley","html_url":"https://github.com/cbodley","followers_url":"https://api.github.com/users/cbodley/followers","following_url":"https://api.github.com/users/cbodley/following{/other_user}","gists_url":"https://api.github.com/users/cbodley/gists{/gist_id}","starred_url":"https://api.github.com/users/cbodley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbodley/subscriptions","organizations_url":"https://api.github.com/users/cbodley/orgs","repos_url":"https://api.github.com/users/cbodley/repos","events_url":"https://api.github.com/users/cbodley/events{/privacy}","received_events_url":"https://api.github.com/users/cbodley/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1596781811","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1596781811","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1596781811,"node_id":"IC_kwDOAAiu0c5fLPTz","user":{"login":"mrpackethead","id":5163415,"node_id":"MDQ6VXNlcjUxNjM0MTU=","avatar_url":"https://avatars.githubusercontent.com/u/5163415?v=4","gravatar_id":"","url":"https://api.github.com/users/mrpackethead","html_url":"https://github.com/mrpackethead","followers_url":"https://api.github.com/users/mrpackethead/followers","following_url":"https://api.github.com/users/mrpackethead/following{/other_user}","gists_url":"https://api.github.com/users/mrpackethead/gists{/gist_id}","starred_url":"https://api.github.com/users/mrpackethead/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrpackethead/subscriptions","organizations_url":"https://api.github.com/users/mrpackethead/orgs","repos_url":"https://api.github.com/users/mrpackethead/repos","events_url":"https://api.github.com/users/mrpackethead/events{/privacy}","received_events_url":"https://api.github.com/users/mrpackethead/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-19T08:55:33Z","updated_at":"2023-06-19T08:55:33Z","body":"I tryed this, \r\n\r\n```\r\nTOKEN=`curl -X PUT \"http://169.254.169.254/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\"` \r\nINSTANCE_PROFILE=`curl -H \"X-aws-ec2-metadata-token: $TOKEN\" -v http://169.254.169.254/latest/meta-data/iam/security-credentials/`\r\nMETADATA=`curl -H \"X-aws-ec2-metadata-token: $TOKEN\" -v http://169.254.169.254/latest/meta-data/iam/security-credentials/$INSTANCE_PROFILE`\r\nACCESS_KEY_ID=$(echo \"$METADATA\" | jq .AccessKeyId)\r\nSECRET_ACCESS_KEY=$(echo \"$METADATA\" | jq .SecretAccessKey)\r\nSESSION_TOKEN=$(echo \"$METADATA\" | jq .Token)\r\n\r\n\r\ncurl --request GET \"https://vpclatticealp-mylatticeserv-nrrcexutsqpe-0b17e5b0e8a993adf.7d67968.vpc-lattice-svcs.us-west-2.on.aws/goodbye\" --aws-sigv4 \"aws:amz:us-west-2:vpc-lattice-svcs\" --user ${ACCESS_KEY_ID}:${SECRET_ACCESS_KEY} -H \"x-amz-content-sha256: UNSIGNED-PAYLOAD\" -H \"x-amz-security-token: ${SESSION_TOKEN}\" \r\n```\r\n\r\nIncompleteSignatureException: 'x-amz-security-token' is named as a SignedHeader, but it does not exist in the HTTP request.sh-5.2$\r\n   \r\n   \r\n   \r\nAny cluses?\r\n\r\n\r\n\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1596781811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mrpackethead","id":5163415,"node_id":"MDQ6VXNlcjUxNjM0MTU=","avatar_url":"https://avatars.githubusercontent.com/u/5163415?v=4","gravatar_id":"","url":"https://api.github.com/users/mrpackethead","html_url":"https://github.com/mrpackethead","followers_url":"https://api.github.com/users/mrpackethead/followers","following_url":"https://api.github.com/users/mrpackethead/following{/other_user}","gists_url":"https://api.github.com/users/mrpackethead/gists{/gist_id}","starred_url":"https://api.github.com/users/mrpackethead/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrpackethead/subscriptions","organizations_url":"https://api.github.com/users/mrpackethead/orgs","repos_url":"https://api.github.com/users/mrpackethead/repos","events_url":"https://api.github.com/users/mrpackethead/events{/privacy}","received_events_url":"https://api.github.com/users/mrpackethead/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10017969750,"node_id":"LE_lADOAAiu0c5kCaEKzwAAAAJVHhZW","url":"https://api.github.com/repos/curl/curl/issues/events/10017969750","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-08-06T21:37:17Z","label":{"name":"KNOWN_BUGS material","color":"d93f0b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1666973662","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1666973662","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1666973662,"node_id":"IC_kwDOAAiu0c5jW__e","user":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-06T21:39:05Z","updated_at":"2023-08-06T21:39:05Z","body":"Nobody works on this. Will add to known-bugs and close the issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1666973662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10017971713,"node_id":"CE_lADOAAiu0c5kCaEKzwAAAAJVHh4B","url":"https://api.github.com/repos/curl/curl/issues/events/10017971713","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-08-06T21:39:05Z","state_reason":null,"performed_via_github_app":null},{"id":10017971862,"node_id":"REFE_lADOAAiu0c5kCaEKzwAAAAJVHh6W","url":"https://api.github.com/repos/curl/curl/issues/events/10017971862","actor":{"login":"bagder","id":177011,"node_id":"MDQ6VXNlcjE3NzAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/177011?v=4","gravatar_id":"","url":"https://api.github.com/users/bagder","html_url":"https://github.com/bagder","followers_url":"https://api.github.com/users/bagder/followers","following_url":"https://api.github.com/users/bagder/following{/other_user}","gists_url":"https://api.github.com/users/bagder/gists{/gist_id}","starred_url":"https://api.github.com/users/bagder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagder/subscriptions","organizations_url":"https://api.github.com/users/bagder/orgs","repos_url":"https://api.github.com/users/bagder/repos","events_url":"https://api.github.com/users/bagder/events{/privacy}","received_events_url":"https://api.github.com/users/bagder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bfc9d56a91c93c113aa6f73202a2bcdf09a10095","commit_url":"https://api.github.com/repos/curl/curl/commits/bfc9d56a91c93c113aa6f73202a2bcdf09a10095","created_at":"2023-08-06T21:39:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/1724643381","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-1724643381","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":1724643381,"node_id":"IC_kwDOAAiu0c5my_g1","user":{"login":"klyubin","id":6598762,"node_id":"MDQ6VXNlcjY1OTg3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6598762?v=4","gravatar_id":"","url":"https://api.github.com/users/klyubin","html_url":"https://github.com/klyubin","followers_url":"https://api.github.com/users/klyubin/followers","following_url":"https://api.github.com/users/klyubin/following{/other_user}","gists_url":"https://api.github.com/users/klyubin/gists{/gist_id}","starred_url":"https://api.github.com/users/klyubin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klyubin/subscriptions","organizations_url":"https://api.github.com/users/klyubin/orgs","repos_url":"https://api.github.com/users/klyubin/repos","events_url":"https://api.github.com/users/klyubin/events{/privacy}","received_events_url":"https://api.github.com/users/klyubin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T00:05:40Z","updated_at":"2023-09-19T00:07:23Z","body":"FWIW, curl 8.2.1 works for me with AWS Lattice just fine (at least for GET requests). I wonder if `SESSION_TOKEN` was empty in https://github.com/curl/curl/issues/11007#issuecomment-1596781811. I get the same error when I provide an empty `x-amz-security-token`, but it works just fine with a correct non-empty one.\r\n\r\nLet's say you got these creds from AWS:\r\n```json\r\n{\"Version\":1,\"AccessKeyId\":\"ASIA...\",\"SecretAccessKey\":\"sDH1tW8...\",\"SessionToken\":\"IQo...\", \"Expiration\":\"2023-09-19T00:18:13Z\"}\r\n```\r\n\r\nYou can then do this:\r\n```bash\r\n$ export AWS_ACCESS_KEY_ID=ASIA...\r\n$ export AWS_SECRET_ACCESS_KEY=sDH1tW8...\r\n$ export AWS_SESSION_TOKEN=IQo...\r\n\r\n$ curl \\\r\n    --aws-sigv4 \"aws:amz:us-east-1:vpc-lattice-svcs\" \\\r\n    --user \"${AWS_ACCESS_KEY_ID}:${AWS_SECRET_ACCESS_KEY}\" \\\r\n    -H \"x-amz-security-token: ${AWS_SESSION_TOKEN}\" \\\r\n    -H 'x-amz-content-sha256: UNSIGNED-PAYLOAD' \\\r\n    https://myservice-whatever-0d4307e6be722e0d1.7d67968.vpc-lattice-svcs.us-east-1.on.aws\r\n```\r\n\r\n\r\nJust in case:\r\n```bash\r\n$ curl --version\r\ncurl 8.2.1 (x86_64-pc-linux-gnu) libcurl/8.2.1 OpenSSL/3.1.1 zlib/1.2.13 brotli/1.0.9 nghttp2/1.55.1\r\nRelease-Date: 2023-07-26\r\nProtocols: dict file ftp ftps gopher gophers http https imap imaps mqtt pop3 pop3s rtsp smb smbs smtp smtps telnet tftp\r\nFeatures: alt-svc AsynchDNS brotli HSTS HTTP2 HTTPS-proxy IPv6 Largefile libz NTLM NTLM_WB SSL threadsafe TLS-SRP UnixSockets\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/1724643381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"klyubin","id":6598762,"node_id":"MDQ6VXNlcjY1OTg3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6598762?v=4","gravatar_id":"","url":"https://api.github.com/users/klyubin","html_url":"https://github.com/klyubin","followers_url":"https://api.github.com/users/klyubin/followers","following_url":"https://api.github.com/users/klyubin/following{/other_user}","gists_url":"https://api.github.com/users/klyubin/gists{/gist_id}","starred_url":"https://api.github.com/users/klyubin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klyubin/subscriptions","organizations_url":"https://api.github.com/users/klyubin/orgs","repos_url":"https://api.github.com/users/klyubin/repos","events_url":"https://api.github.com/users/klyubin/events{/privacy}","received_events_url":"https://api.github.com/users/klyubin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10459073635,"node_id":"REFE_lADOAAiu0c5kCaEKzwAAAAJvaMxj","url":"https://api.github.com/repos/curl/curl/issues/events/10459073635","actor":{"login":"ptitSeb","id":3250792,"node_id":"MDQ6VXNlcjMyNTA3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/3250792?v=4","gravatar_id":"","url":"https://api.github.com/users/ptitSeb","html_url":"https://github.com/ptitSeb","followers_url":"https://api.github.com/users/ptitSeb/followers","following_url":"https://api.github.com/users/ptitSeb/following{/other_user}","gists_url":"https://api.github.com/users/ptitSeb/gists{/gist_id}","starred_url":"https://api.github.com/users/ptitSeb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptitSeb/subscriptions","organizations_url":"https://api.github.com/users/ptitSeb/orgs","repos_url":"https://api.github.com/users/ptitSeb/repos","events_url":"https://api.github.com/users/ptitSeb/events{/privacy}","received_events_url":"https://api.github.com/users/ptitSeb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"41087efc3e408d2e065174912c6f57eeeaf5876d","commit_url":"https://api.github.com/repos/wasix-org/curl/commits/41087efc3e408d2e065174912c6f57eeeaf5876d","created_at":"2023-09-25T08:04:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/curl/curl/issues/comments/2896024272","html_url":"https://github.com/curl/curl/issues/11007#issuecomment-2896024272","issue_url":"https://api.github.com/repos/curl/curl/issues/11007","id":2896024272,"node_id":"IC_kwDOAAiu0c6sndLQ","user":{"login":"nbaws","id":108375408,"node_id":"U_kgDOBnWtcA","avatar_url":"https://avatars.githubusercontent.com/u/108375408?v=4","gravatar_id":"","url":"https://api.github.com/users/nbaws","html_url":"https://github.com/nbaws","followers_url":"https://api.github.com/users/nbaws/followers","following_url":"https://api.github.com/users/nbaws/following{/other_user}","gists_url":"https://api.github.com/users/nbaws/gists{/gist_id}","starred_url":"https://api.github.com/users/nbaws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbaws/subscriptions","organizations_url":"https://api.github.com/users/nbaws/orgs","repos_url":"https://api.github.com/users/nbaws/repos","events_url":"https://api.github.com/users/nbaws/events{/privacy}","received_events_url":"https://api.github.com/users/nbaws/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-20T23:05:58Z","updated_at":"2025-05-20T23:05:58Z","body":"Tested in https://github.com/curl/curl/pull/17129 and working now.\n\n```\nTOKEN=$(curl -s -X PUT \"http://169.254.169.254/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\nCREDENTIALS=$(curl -s -H \"X-aws-ec2-metadata-token: $TOKEN\" http://169.254.169.254/latest/meta-data/iam/security-credentials/ssmrole)\nAWS_ACCESS_KEY_ID=$(echo $CREDENTIALS| jq -r .AccessKeyId)\nAWS_SECRET_ACCESS_KEY=$(echo $CREDENTIALS | jq -r .SecretAccessKey)\nAWS_SESSION_TOKEN=$(echo $CREDENTIALS | jq -r .Token)\nAWS_REGION=ap-southeast-2\n                                            \n\n./src/curl -v https://test-02a07eb841ef93555.7d67968.vpc-lattice-svcs.ap-southeast-2.on.aws/a=„ÅÇ --insecure \\\n  --aws-sigv4 aws:amz:${AWS_REGION}:vpc-lattice-svcs \\\n  --user \"${AWS_ACCESS_KEY_ID}:${AWS_SECRET_ACCESS_KEY}\" \\\n  --header \"x-amz-security-token: ${AWS_SESSION_TOKEN}\" \\\n  --header 'Accept: application/json' \\\n  --header \"x-amz-content-sha256: UNSIGNED-PAYLOAD\" \n\n\n...\n\n* Request completely sent off\n< HTTP/1.1 404 Not Found\n< date: Tue, 20 May 2025 23:04:29 GMT\n< server: Apache/2.4.62 (Amazon Linux) OpenSSL/3.2.2\n< content-length: 196\n< content-type: text/html; charset=iso-8859-1\n<\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>404 Not Found</title>\n</head><body>\n<h1>Not Found</h1>\n<p>The requested URL was not found on this server.</p>\n</body></html>\n* Connection #0 to host test-02a07eb841ef93555.7d67968.vpc-lattice-svcs.ap-southeast-2.on.aws left intact\n\n```\n\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/curl/curl/issues/comments/2896024272/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nbaws","id":108375408,"node_id":"U_kgDOBnWtcA","avatar_url":"https://avatars.githubusercontent.com/u/108375408?v=4","gravatar_id":"","url":"https://api.github.com/users/nbaws","html_url":"https://github.com/nbaws","followers_url":"https://api.github.com/users/nbaws/followers","following_url":"https://api.github.com/users/nbaws/following{/other_user}","gists_url":"https://api.github.com/users/nbaws/gists{/gist_id}","starred_url":"https://api.github.com/users/nbaws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbaws/subscriptions","organizations_url":"https://api.github.com/users/nbaws/orgs","repos_url":"https://api.github.com/users/nbaws/repos","events_url":"https://api.github.com/users/nbaws/events{/privacy}","received_events_url":"https://api.github.com/users/nbaws/received_events","type":"User","user_view_type":"public","site_admin":false}}]