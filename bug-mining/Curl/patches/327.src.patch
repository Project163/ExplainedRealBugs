diff --git a/src/tool_getparam.c b/src/tool_getparam.c
index cd9ce7b5a..d9772a309 100644
--- a/src/tool_getparam.c
+++ b/src/tool_getparam.c
@@ -826,8 +826,9 @@ ParameterError getparameter(const char *flag, /* f or -long-flag */
       struct curlx_dynbuf nbuf;
       bool replaced;
 
-      if(aliases[hit].desc != ARG_STRING) {
-        /* --expand on an option that isn't a string */
+      if((aliases[hit].desc != ARG_STRING) &&
+         (aliases[hit].desc != ARG_FILENAME)) {
+        /* --expand on an option that isn't a string or a filename */
         err = PARAM_EXPAND_ERROR;
         goto error;
       }
