diff --git a/lib/curl_memrchr.c b/lib/curl_memrchr.c
index af3edff02..5b6a39c02 100644
--- a/lib/curl_memrchr.c
+++ b/lib/curl_memrchr.c
@@ -33,10 +33,6 @@
 #include "memdebug.h"
 
 #ifndef HAVE_MEMRCHR
-#if (!defined(CURL_DISABLE_HTTP) && !defined(CURL_DISABLE_COOKIES)) || \
-  defined(USE_OPENSSL) || \
-  defined(USE_SCHANNEL)
-
 /*
  * Curl_memrchr()
  *
@@ -63,6 +59,4 @@ Curl_memrchr(const void *s, int c, size_t n)
   }
   return NULL;
 }
-
-#endif
 #endif /* HAVE_MEMRCHR */
