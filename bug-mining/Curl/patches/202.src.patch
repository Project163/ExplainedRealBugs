diff --git a/tests/libtest/first.c b/tests/libtest/first.c
index d4ebaaa2c..932d5bb65 100644
--- a/tests/libtest/first.c
+++ b/tests/libtest/first.c
@@ -85,9 +85,7 @@ char **test_argv;
 
 struct timeval tv_test_start; /* for test timing */
 
-#ifdef UNITTESTS
 int unitfail; /* for unittests */
-#endif
 
 #ifdef CURLDEBUG
 static void memory_tracking_init(void)
diff --git a/tests/libtest/test.h b/tests/libtest/test.h
index 65c44ff83..cb2d47ac7 100644
--- a/tests/libtest/test.h
+++ b/tests/libtest/test.h
@@ -73,9 +73,7 @@ extern int test(char *URL); /* the actual test function provided by each
 
 extern char *hexdump(const unsigned char *buffer, size_t len);
 
-#ifdef UNITTESTS
 extern int unitfail;
-#endif
 
 /*
 ** TEST_ERR_* values must be greater than CURL_LAST CURLcode in order
