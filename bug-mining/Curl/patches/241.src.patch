diff --git a/lib/http2.c b/lib/http2.c
index 4e3b182b8..0ebe630ab 100644
--- a/lib/http2.c
+++ b/lib/http2.c
@@ -68,7 +68,7 @@
  * use 16K as chunk size, as that fits H2 DATA frames well */
 #define H2_CHUNK_SIZE           (16 * 1024)
 /* this is how much we want "in flight" for a stream */
-#define H2_STREAM_WINDOW_SIZE   (512 * 1024)
+#define H2_STREAM_WINDOW_SIZE   (10 * 1024 * 1024)
 /* on receving from TLS, we prep for holding a full stream window */
 #define H2_NW_RECV_CHUNKS       (H2_STREAM_WINDOW_SIZE / H2_CHUNK_SIZE)
 /* on send into TLS, we just want to accumulate small frames */
diff --git a/tests/data/test1800 b/tests/data/test1800
index 6b14bfb37..1f4472d9a 100644
--- a/tests/data/test1800
+++ b/tests/data/test1800
@@ -49,7 +49,7 @@ User-Agent: curl/%VERSION
 Accept: */*
 Connection: Upgrade, HTTP2-Settings
 Upgrade: %H2CVER
-HTTP2-Settings: AAMAAABkAAQACAAAAAIAAAAA
+HTTP2-Settings: AAMAAABkAAQAoAAAAAIAAAAA
 
 </protocol>
 </verify>
