diff --git a/src/tool_getparam.c b/src/tool_getparam.c
index e0d754cf1..701b665d8 100644
--- a/src/tool_getparam.c
+++ b/src/tool_getparam.c
@@ -1685,9 +1685,12 @@ ParameterError getparameter(const char *flag, /* f or -long-flag */
       config->tcp_nodelay = toggle;
       break;
     case C_IP_TOS: { /* --ip-tos */
-      const struct TOSEntry *entry = bsearch(
-        &nextarg, tos_entries, sizeof(tos_entries)/sizeof(*tos_entries),
-        sizeof(*tos_entries), find_tos);
+      struct TOSEntry find;
+      const struct TOSEntry *entry;
+      find.name = nextarg;
+      entry = bsearch(&find, tos_entries,
+                      sizeof(tos_entries)/sizeof(*tos_entries),
+                      sizeof(*tos_entries), find_tos);
       if(entry)
         config->ip_tos = entry->value;
       else /* numeric tos value */
