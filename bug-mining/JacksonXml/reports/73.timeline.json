[{"id":11650592960,"node_id":"LE_lADOABJ3ss59uL6azwAAAAK2bfDA","url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/events/11650592960","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-31T04:29:47Z","label":{"name":"2.17","color":"0E8A16"},"performed_via_github_app":null},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-01T05:52:12Z","updated_at":"2024-02-01T05:52:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630","repository_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml","labels_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630/events","html_url":"https://github.com/FasterXML/jackson-dataformat-xml/issues/630","id":2104429998,"node_id":"I_kwDOABJ3ss59bw2u","number":630,"title":"java.lang.IllegalArgumentException: Cannot deserialize value of type `java.util.ArrayList<RetInfArryDTO> from Object value (token `JsonToken.START_OBJECT`)","user":{"login":"oooooooz","id":3099411,"node_id":"MDQ6VXNlcjMwOTk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3099411?v=4","gravatar_id":"","url":"https://api.github.com/users/oooooooz","html_url":"https://github.com/oooooooz","followers_url":"https://api.github.com/users/oooooooz/followers","following_url":"https://api.github.com/users/oooooooz/following{/other_user}","gists_url":"https://api.github.com/users/oooooooz/gists{/gist_id}","starred_url":"https://api.github.com/users/oooooooz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oooooooz/subscriptions","organizations_url":"https://api.github.com/users/oooooooz/orgs","repos_url":"https://api.github.com/users/oooooooz/repos","events_url":"https://api.github.com/users/oooooooz/events{/privacy}","received_events_url":"https://api.github.com/users/oooooooz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2334168861,"node_id":"MDU6TGFiZWwyMzM0MTY4ODYx","url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/labels/to-evaluate","name":"to-evaluate","color":"fbca04","default":false,"description":"Issue that has been received but not yet evaluated"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2024-01-28T16:00:17Z","updated_at":"2024-02-19T02:47:13Z","closed_at":"2024-02-19T02:47:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1210290,"node_id":"MDEwOlJlcG9zaXRvcnkxMjEwMjkw","name":"jackson-dataformat-xml","full_name":"FasterXML/jackson-dataformat-xml","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-dataformat-xml","description":"Extension for Jackson JSON processor that adds support for serializing POJOs as XML (and deserializing from XML) as an alternative to JSON","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml","forks_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/deployments","created_at":"2010-12-31T05:00:50Z","updated_at":"2025-11-07T22:36:20Z","pushed_at":"2025-11-07T22:36:16Z","git_url":"git://github.com/FasterXML/jackson-dataformat-xml.git","ssh_url":"git@github.com:FasterXML/jackson-dataformat-xml.git","clone_url":"https://github.com/FasterXML/jackson-dataformat-xml.git","svn_url":"https://github.com/FasterXML/jackson-dataformat-xml","homepage":"","size":5581,"stargazers_count":611,"watchers_count":611,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":233,"open_issues":105,"watchers":611,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Search before asking\r\n\r\n- [X] I searched in the [issues](https://github.com/FasterXML/jackson-databind/issues) and found nothing similar.\r\n\r\n### Describe the bug\r\n\r\nI use jackson-dataformat-xml to deserialize  XML , but it throws exception : \r\nException in thread \"main\" java.lang.IllegalArgumentException: Cannot deserialize value of type `java.util.ArrayList<RetInfArryDTO>` from Object value (token `JsonToken.START_OBJECT`) \r\nat [Source: UNKNOWN; line: -1, column: -1] (through reference chain: AnRspDTO[\"SysHead\"]->SysHeadRspDTO[\"RetInfArry\"])\r\n\r\nIt look like thak jackson unrecognize this type of XML format data , could not treat the array in  XML as real array to deserialize  , but I think it is a kind of common XML data which contain array type, isn't it ?\r\n\r\nI tried annotation like @JsonDeserialize(contentAs = AddrInfArryDTO.class), @JsonAlias({ \"IdInfArry\", \"IdInfArry.array\" }), but it did not work for me !\r\n\r\nQ1:  Is anyone know how to solve this problem?\r\nQ2:  If  I must use custom JsonDeserializer to solve ,  how can I get the `elementType ` below ?could not get it from both jsonParser and deserializationContext,   and i don't want to write  hard code , give exactly elementType here, because too must DTO to be deserialized , write a general custom JsonDeserializer is very necessary!\r\n```\r\n\r\n @Override\r\n    public List<T> deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)\r\n            throws IOException, JsonProcessingException {\r\n        List<T> list = new ArrayList<>();\r\n        ObjectMapper mapper = (ObjectMapper) jsonParser.getCodec();\r\n        JsonNode node = jsonParser.readValueAsTree();\r\n\r\n        Iterator<JsonNode> elements = node.elements();\r\n            while (elements.hasNext()) {\r\n                JsonNode element = elements.next();\r\n                T obj = deserializationContext.readValue(element.traverse(), elementType);\r\n                list.add(obj);\r\n        }\r\n\r\n        return list;\r\n    }\r\n```\r\n\r\nHere below is my XML data to be deserialized and its DTO object : \r\n\r\n（1）XML data like this :\r\n\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<service>\r\n  <SysHead>\r\n    <SvcCd>1234</SvcCd>\r\n    <ScnCd>1245</ScnCd>\r\n     <RetInfArry type=\"array\">\r\n        <array>\r\n                    <RetCd>0000</RetCd>\r\n                    <RetMsg>succ</RetMsg>\r\n         </array>\r\n      </RetInfArry>`\r\n  <BODY>\r\n    <CrpnScop></CrpnScop>\r\n    <IdInfArry type=\"array\">\r\n        <array>\r\n                        <IdentSeqNo>12345</IdentSeqNo>\r\n                        <IdentTp>22</IdentTp>\r\n        </array>\r\n        <array>\r\n                        <IdentSeqNo>1234</IdentSeqNo>\r\n                        <IdentTp>22</IdentTp>\r\n        </array>\r\n     </IdInfArry>\r\n    <AddrInfArry type=\"array\">\r\n      <array>\r\n                      <CustAddr>1234</CustAddr>\r\n                      <AddrTp>12</AddrTp>\r\n       </array>\r\n      <array>\r\n                      <CustAddr>1234</CustAddr>\r\n                      <AddrTp>12</AddrTp>\r\n       </array>\r\n    </AddrInfArry>\r\n    </BODY>\r\n</service>\r\n```\r\n\r\n（2）Here  is my DTO , XML deserialize object : \r\n```\r\n//@JsonProperty work fine, not need to use @JacksonXmlProperty \r\n\r\n@lombok.Data\r\npublic class AnRspDTO {\r\n  @JsonProperty(\"SysHead\")\r\n    private SysHeadRspDTO sysHead;\r\n\r\n   @JsonProperty(\"BODY\")\r\n    private RspBodyDTO body;\r\n\r\n@lombok.Data\r\npublic static class RspBodyDTO {\r\n\r\n    @JsonProperty(\"CrpnScop\")\r\n     private String crpnScop = \"\";\r\n\r\n    @JsonProperty(\"IdInfArry\")\r\n     private List<IdInfArryDTO> idInfArry = Collections.emptyList();\r\n\r\n     @JsonProperty(\"AddrInfArry\")\r\n     private List<AddrInfArryDTO> addrInfArry = Collections.emptyList();\r\n\r\n@lombok.Data\r\npublic static class IdInfArryDTO {\r\n\r\n    @JsonProperty(\"IdentSeqNo\")\r\n     private String identSeqNo = \"\";\r\n\r\n    @JsonProperty(\"IdentTp\")\r\n     private String identTp = \"\";\r\n\r\n}\r\n\r\n@lombok.Data\r\npublic static class AddrInfArryDTO {\r\n\r\n     @JsonProperty(\"CustAddr\")\r\n      private String custAddr = \"\";\r\n\r\n      @JsonProperty(\"AddrTp\")\r\n       private String addrTp = \"\";\r\n\r\n}\r\n\r\n}\r\n\r\n@lombok.Data\r\npublic class SysHeadRspDTO {\r\n  @JsonProperty(\"SvcCd\")\r\n  private String svcCd\r\n\r\n  @JsonProperty(\"ScnCd\")\r\n  private String scnCd\r\n\r\n  @JsonProperty(\"RetInfArry\")\r\n   private List<RetInfArryDTO> retInfArry = Collections.emptyList();\r\n\r\n@lombok.Data\r\npublic static class RetInfArryDTO{\r\n\r\n    @JsonProperty(\"RetCd\")\r\n    private String retCd;\r\n\r\n    @JsonProperty(\"RetMsg\")\r\n    private String retMsg;\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n### Version Information\r\n\r\npom dependency , current steady version 2.16.0 could not solve the problem too\r\n```\r\n<dependency>\r\n            <groupId>com.fasterxml.jackson.dataformat</groupId>\r\n            <artifactId>jackson-dataformat-xml</artifactId>\r\n<!--            <version>2.16.0</version>-->\r\n            <version>2.12.3</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.fasterxml.jackson.datatype</groupId>\r\n            <artifactId>jackson-datatype-jsr310</artifactId>\r\n<!--            <version>2.16.0</version>-->\r\n            <version>2.12.3</version>\r\n        </dependency>\r\n```\r\n\r\n### Reproduction\r\n\r\n<-- Any of the following\r\n1. Brief code sample/snippet: include here in preformatted/code section\r\n2. Longer example stored somewhere else (diff repo, snippet), add a link\r\n3. Textual explanation: include here\r\n -->\r\n```java\r\n\r\npublic static <T> T decode(String msg, Class<T> entityType) {\r\nObjectMapper objectMapper = getObjectMapper();\r\n        try {\r\n            return objectMapper.readValue(msg, entityType);\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n   public static <T> T convert(Object src, Class<T> dstType) {\r\n        ObjectMapper objectMapper = getObjectMapper();\r\n        return objectMapper.convertValue(src, dstType);\r\n    }\r\n\r\n  public static ObjectMapper getObjectMapper(){\r\n  \r\n    XmlMapper.Builder builder = XmlMapper.builder()\r\n                .disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n                .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n                .configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION,true)\r\n                .configure(MapperFeature.USE_ANNOTATIONS, enableAnno);\r\n\r\nreturn builder.build();\r\n  \r\n }\r\n\r\n public static void main(String[] args) {\r\n        String xmldata=getXml()//\r\n        Map map =decode(xmldata,Map.class);\r\n        AnRspDTO dtoObj = convert(map,RspBodyDTO.class);\r\n        Assert.notNull(dtoObj)\r\n    }\r\n\r\n``` \r\n\r\n\r\n### Expected behavior\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/630/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11673894658,"node_id":"CE_lADOABJ3ss59uL6azwAAAAK30X8C","url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/events/11673894658","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"ac00d648e9b424f4b6c4d7aaaa23abf50adc1b5a","commit_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/commits/ac00d648e9b424f4b6c4d7aaaa23abf50adc1b5a","created_at":"2024-02-01T18:11:04Z","state_reason":null,"performed_via_github_app":null},{"id":11673934969,"node_id":"REFE_lADOABJ3ss59uL6azwAAAAK30hx5","url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/events/11673934969","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ac00d648e9b424f4b6c4d7aaaa23abf50adc1b5a","commit_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/commits/ac00d648e9b424f4b6c4d7aaaa23abf50adc1b5a","created_at":"2024-02-01T18:15:03Z","performed_via_github_app":null},{"actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-03T20:26:02Z","updated_at":"2024-03-03T20:26:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613","repository_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml","labels_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613/events","html_url":"https://github.com/FasterXML/jackson-dataformat-xml/issues/613","id":1920798423,"node_id":"I_kwDOABJ3ss5yfQ7X","number":613,"title":"XML attributes are not correctly populated when converting from XML (ObjectNode) to String using writeValueAsString (XML structure)","user":{"login":"forceporquillo","id":51302519,"node_id":"MDQ6VXNlcjUxMzAyNTE5","avatar_url":"https://avatars.githubusercontent.com/u/51302519?v=4","gravatar_id":"","url":"https://api.github.com/users/forceporquillo","html_url":"https://github.com/forceporquillo","followers_url":"https://api.github.com/users/forceporquillo/followers","following_url":"https://api.github.com/users/forceporquillo/following{/other_user}","gists_url":"https://api.github.com/users/forceporquillo/gists{/gist_id}","starred_url":"https://api.github.com/users/forceporquillo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forceporquillo/subscriptions","organizations_url":"https://api.github.com/users/forceporquillo/orgs","repos_url":"https://api.github.com/users/forceporquillo/repos","events_url":"https://api.github.com/users/forceporquillo/events{/privacy}","received_events_url":"https://api.github.com/users/forceporquillo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-10-01T14:33:31Z","updated_at":"2024-03-03T20:26:02Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1210290,"node_id":"MDEwOlJlcG9zaXRvcnkxMjEwMjkw","name":"jackson-dataformat-xml","full_name":"FasterXML/jackson-dataformat-xml","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-dataformat-xml","description":"Extension for Jackson JSON processor that adds support for serializing POJOs as XML (and deserializing from XML) as an alternative to JSON","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml","forks_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/deployments","created_at":"2010-12-31T05:00:50Z","updated_at":"2025-11-07T22:36:20Z","pushed_at":"2025-11-07T22:36:16Z","git_url":"git://github.com/FasterXML/jackson-dataformat-xml.git","ssh_url":"git@github.com:FasterXML/jackson-dataformat-xml.git","clone_url":"https://github.com/FasterXML/jackson-dataformat-xml.git","svn_url":"https://github.com/FasterXML/jackson-dataformat-xml","homepage":"","size":5581,"stargazers_count":611,"watchers_count":611,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":233,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":233,"open_issues":105,"watchers":611,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi @cowtowncoder,\r\n\r\nWe are planning to migrate our old deserialization logic from using fragmented substrings between `<open>` and `</closing>` tags when deserializing an XML String to POJOs into Jackson’s sophisticated custom `StdDeserializers/JsonDeserializers` directly starting from version `2.15.2`.\r\n\r\nI have a few questions about whether this feature of mine already exists or not.\r\n\r\nMy team and I are trying to deserialize a very complex XML structure, to the point that we do not have to create multiple beans because some of the content of our XML subtree often changes dynamically with minimal format structure (we have `~10 XML formats` to support with or without attributes and namespaces) and is also a valid XML structure. WE mostly used custom deserializers like `StdDeserializer` and `JsonDeserializer` to map `ObjectNode` into plain `Map` (well internally, this is already a `Map`) (thanks for your suggestion in #574) and then later converted it back to String.\r\n\r\nWhile I still stumbled across our implementation to keep our XML subtree to be deserialized via substring. But then later we planned to stick to using `JsonNode` to retrieve segments of XML and convert it back to the original XML as String using `SegmentedStringWriter#writeValueAsString`, for a reason that we wanted to leverage the `java.xml.stream.*` without the need to retrieve full string token and to fully adapt `Jackson's Streaming API` interoperability. We do not want to convert it into a plain POJO, but instead, would rather use the `java.util.Map` class to keep it generic and to store every `JsonNode` token retrieved from `ObjectNode#getValue()`.\r\n\r\n## Sample Scenario\r\nSupposedly, I have an XML element that contains an attribute `name` and `age`.\r\n```XML\r\n<animal>\r\n  <dog name=\"tucker\" age=\"2\">woof woof!</dog>\r\n  <cat name=\"cody\" age=\"2\">meowwwwwww!</cat>\r\n  <chicken name=\"browny\" age=\"3\">cluck cluck!</chicken>\r\n  <pig name=\"porky\" age=\"4\">oink oink!</pig>\r\n</animal>\r\n```\r\n## XML Attribute\r\nThe output I would expect should be the same as the original XML, but in my case, it's not:\r\n```XML\r\n<animal>\r\n  <dog>\r\n    <name>tucker</name>\r\n    <age>2</age>\r\n    <>woof woof!</>\r\n  </dog>\r\n  <cat>\r\n    <name>cody</name>\r\n    <age>2</age>\r\n    <>meowwwwwww!</>\r\n  </cat>\r\n  <chicken>\r\n    <name>browny</name>\r\n    <age>3</age>\r\n    <>cluck cluck cluck cluck!</>\r\n  </chicken>\r\n  <pig>\r\n    <name>porky</name>\r\n    <age>4</age>\r\n    <>oink oink!</>\r\n  </pig>\r\n</animal>\r\n```\r\nThe attributes became sub-elements of the original element, while the element tag of the original element value becomes empty: `<>...</>`\r\n\r\n## XML Namespace\r\nThe same happens with namespaces:\r\nsuppose Animal namespace declaration: `<ns1:animal xmlns:ns1=\"urn:this:is:namespace:for:animal\">`\r\n\r\nOutput:\r\n```XML\r\n<animal>\r\n  <xmlns:ns1>urn:this:is:namespace:for:animal</xmlns:ns1>\r\n  <ns1:dog>\r\n    <name>tucker</name>\r\n    <age>2</age>\r\n    <>woof woof!</>\r\n  </ns1:dog>\r\n  <!-- ... -->\r\n</animal>\r\n```\r\nThe namespace becomes a new element.\r\n\r\n### \r\nMy assumption is that it will only work with a plain XML structure (excluding the attributes itself) or with bean-defined POJOs annotated XML attr properties.\r\n\r\n## Sampe Driver Code\r\nTried using custom XmlMapper config:\r\n```java\r\nprivate static XMLInputFactory xmlInputFactory() {\r\n  final XMLInputFactory factory = XMLInputFactory.newInstance();\r\n  factory.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, false);\r\n  return factory;\r\n}\r\n\r\nOBJECT_WRITER = new XmlMapper(xmlInputFactory(), customJacksonXmlModule())\r\n   .configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true)\r\n   .enable(SerializationFeature.INDENT_OUTPUT)\r\n   .writer();\r\n\r\n```\r\n\r\n```java\r\nJsonNode node = mapper.readTree(\r\n \"<animal>\\n\"\r\n + \"  <dog name=\\\"tucker\\\" age=\\\"2\\\">woof woof!</dog>\\n\"\r\n + \"  <cat name=\\\"cody\\\" age=\\\"2\\\">meowwwwwww!</cat>\\n\"\r\n + \"  <chicken name=\\\"browny\\\" age=\\\"3\\\">cluck cluck!</chicken>\\n\"\r\n + \"  <pig name=\\\"porky\\\" age=\\\"4\\\">oink oink!</pig>\\n\"\r\n + \" </animal>\");\r\n\r\nSystem.out.println(mapper.writer().withDefaultPrettyPrinter().withRootName(\"animal\").writeValueAsString(node));\r\n```\r\n\r\nand with a custom deserializer for the `Animal` bean.\r\n```java\r\n@JsonDeserialize(using = AnimalDeserializer.class)\r\nclass Animal {\r\n String xmlContent; // <-- JsonNode to String: <dog name=\"tucker\" age=\"2\">woof woof!</dog>...\r\n}\r\n```\r\n\r\n### AnimalDeserializer.java\r\n```java\r\n@Override\r\npublic T deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n  final ObjectCodec codec = parser.getCodec();\r\n  final ObjectNode objectNode = codec.readTree(parser);\r\n\r\n  final T object = codec.readValue(objectNode.traverse(), getValueType(context));\r\n  final Iterator<Entry<String, JsonNode>> nodeIterator = objectNode.fields();\r\n\r\n  while (nodeIterator.hasNext()) {\r\n    Entry<String, JsonNode> nodeEntry = nodeIterator.next();\r\n    // we manually set the value for non-annotated @JsonProperty() fields, let Jackson take care for us!!\r\n    if (!attributes().contains(nodeEntry.getKey())) {\r\n      if (nodeEntry.getValue() instanceof ObjectNode) {\r\n        object.setContent(readObjectNodeAsString(nodeEntry));\r\n      } \r\n      ...\r\n    }\r\n  }\r\n\r\n  return object;\r\n}\r\n\r\nprivate String readObjectNodeAsString(Entry<String, JsonNode> nodeEntry) {\r\n  try {\r\n    return OBJECT_WRITER\r\n        .withRootName(nodeEntry.getKey())\r\n        .writeValueAsString(nodeEntry.getValue());\r\n  }\r\n  ...\r\n}\r\n```\r\n\r\n## Update:\r\nWhen using `TypeReference<Map<String, String>(){}`, it prints the expected XML output. However, the attribute is still missing.\r\n\r\n```Java\r\nMap<String, String> node = XML_MAPPER.readValue(\"...\", new TypeReference<Map<String, String>>() {});\r\n```\r\n\r\nOutput:\r\n```XML\r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<animal>\r\n  <dog>woof woof!</dog>\r\n  <cat>meowwwwwww!</cat>\r\n  ...\r\n```\r\n\r\n\r\n\r\nWe really appreciate your feedback and suggestions for this @cowtowncoder \r\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-dataformat-xml/issues/613/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"afranken","id":763000,"node_id":"MDQ6VXNlcjc2MzAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/763000?v=4","gravatar_id":"","url":"https://api.github.com/users/afranken","html_url":"https://github.com/afranken","followers_url":"https://api.github.com/users/afranken/followers","following_url":"https://api.github.com/users/afranken/following{/other_user}","gists_url":"https://api.github.com/users/afranken/gists{/gist_id}","starred_url":"https://api.github.com/users/afranken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afranken/subscriptions","organizations_url":"https://api.github.com/users/afranken/orgs","repos_url":"https://api.github.com/users/afranken/repos","events_url":"https://api.github.com/users/afranken/events{/privacy}","received_events_url":"https://api.github.com/users/afranken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-11T17:01:26Z","updated_at":"2024-04-11T17:01:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/adobe/S3Mock/issues/1778","repository_url":"https://api.github.com/repos/adobe/S3Mock","labels_url":"https://api.github.com/repos/adobe/S3Mock/issues/1778/labels{/name}","comments_url":"https://api.github.com/repos/adobe/S3Mock/issues/1778/comments","events_url":"https://api.github.com/repos/adobe/S3Mock/issues/1778/events","html_url":"https://github.com/adobe/S3Mock/pull/1778","id":2235515019,"node_id":"PR_kwDOBdOYvc5sPehG","number":1778,"title":"Add missing xml prolog and namespaces","user":{"login":"afranken","id":763000,"node_id":"MDQ6VXNlcjc2MzAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/763000?v=4","gravatar_id":"","url":"https://api.github.com/users/afranken","html_url":"https://github.com/afranken","followers_url":"https://api.github.com/users/afranken/followers","following_url":"https://api.github.com/users/afranken/following{/other_user}","gists_url":"https://api.github.com/users/afranken/gists{/gist_id}","starred_url":"https://api.github.com/users/afranken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afranken/subscriptions","organizations_url":"https://api.github.com/users/afranken/orgs","repos_url":"https://api.github.com/users/afranken/repos","events_url":"https://api.github.com/users/afranken/events{/privacy}","received_events_url":"https://api.github.com/users/afranken/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":650704590,"node_id":"MDU6TGFiZWw2NTA3MDQ1OTA=","url":"https://api.github.com/repos/adobe/S3Mock/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"afranken","id":763000,"node_id":"MDQ6VXNlcjc2MzAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/763000?v=4","gravatar_id":"","url":"https://api.github.com/users/afranken","html_url":"https://github.com/afranken","followers_url":"https://api.github.com/users/afranken/followers","following_url":"https://api.github.com/users/afranken/following{/other_user}","gists_url":"https://api.github.com/users/afranken/gists{/gist_id}","starred_url":"https://api.github.com/users/afranken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afranken/subscriptions","organizations_url":"https://api.github.com/users/afranken/orgs","repos_url":"https://api.github.com/users/afranken/repos","events_url":"https://api.github.com/users/afranken/events{/privacy}","received_events_url":"https://api.github.com/users/afranken/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"afranken","id":763000,"node_id":"MDQ6VXNlcjc2MzAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/763000?v=4","gravatar_id":"","url":"https://api.github.com/users/afranken","html_url":"https://github.com/afranken","followers_url":"https://api.github.com/users/afranken/followers","following_url":"https://api.github.com/users/afranken/following{/other_user}","gists_url":"https://api.github.com/users/afranken/gists{/gist_id}","starred_url":"https://api.github.com/users/afranken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afranken/subscriptions","organizations_url":"https://api.github.com/users/afranken/orgs","repos_url":"https://api.github.com/users/afranken/repos","events_url":"https://api.github.com/users/afranken/events{/privacy}","received_events_url":"https://api.github.com/users/afranken/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2024-04-10T12:46:17Z","updated_at":"2024-04-11T17:36:42Z","closed_at":"2024-04-11T17:36:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":97753277,"node_id":"MDEwOlJlcG9zaXRvcnk5Nzc1MzI3Nw==","name":"S3Mock","full_name":"adobe/S3Mock","private":false,"owner":{"login":"adobe","id":476009,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3NjAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/476009?v=4","gravatar_id":"","url":"https://api.github.com/users/adobe","html_url":"https://github.com/adobe","followers_url":"https://api.github.com/users/adobe/followers","following_url":"https://api.github.com/users/adobe/following{/other_user}","gists_url":"https://api.github.com/users/adobe/gists{/gist_id}","starred_url":"https://api.github.com/users/adobe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adobe/subscriptions","organizations_url":"https://api.github.com/users/adobe/orgs","repos_url":"https://api.github.com/users/adobe/repos","events_url":"https://api.github.com/users/adobe/events{/privacy}","received_events_url":"https://api.github.com/users/adobe/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/adobe/S3Mock","description":"A mock implementation of the AWS S3 API startable as Docker image, TestContainer, JUnit 4 rule, JUnit Jupiter extension or TestNG listener","fork":false,"url":"https://api.github.com/repos/adobe/S3Mock","forks_url":"https://api.github.com/repos/adobe/S3Mock/forks","keys_url":"https://api.github.com/repos/adobe/S3Mock/keys{/key_id}","collaborators_url":"https://api.github.com/repos/adobe/S3Mock/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/adobe/S3Mock/teams","hooks_url":"https://api.github.com/repos/adobe/S3Mock/hooks","issue_events_url":"https://api.github.com/repos/adobe/S3Mock/issues/events{/number}","events_url":"https://api.github.com/repos/adobe/S3Mock/events","assignees_url":"https://api.github.com/repos/adobe/S3Mock/assignees{/user}","branches_url":"https://api.github.com/repos/adobe/S3Mock/branches{/branch}","tags_url":"https://api.github.com/repos/adobe/S3Mock/tags","blobs_url":"https://api.github.com/repos/adobe/S3Mock/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/adobe/S3Mock/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/adobe/S3Mock/git/refs{/sha}","trees_url":"https://api.github.com/repos/adobe/S3Mock/git/trees{/sha}","statuses_url":"https://api.github.com/repos/adobe/S3Mock/statuses/{sha}","languages_url":"https://api.github.com/repos/adobe/S3Mock/languages","stargazers_url":"https://api.github.com/repos/adobe/S3Mock/stargazers","contributors_url":"https://api.github.com/repos/adobe/S3Mock/contributors","subscribers_url":"https://api.github.com/repos/adobe/S3Mock/subscribers","subscription_url":"https://api.github.com/repos/adobe/S3Mock/subscription","commits_url":"https://api.github.com/repos/adobe/S3Mock/commits{/sha}","git_commits_url":"https://api.github.com/repos/adobe/S3Mock/git/commits{/sha}","comments_url":"https://api.github.com/repos/adobe/S3Mock/comments{/number}","issue_comment_url":"https://api.github.com/repos/adobe/S3Mock/issues/comments{/number}","contents_url":"https://api.github.com/repos/adobe/S3Mock/contents/{+path}","compare_url":"https://api.github.com/repos/adobe/S3Mock/compare/{base}...{head}","merges_url":"https://api.github.com/repos/adobe/S3Mock/merges","archive_url":"https://api.github.com/repos/adobe/S3Mock/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/adobe/S3Mock/downloads","issues_url":"https://api.github.com/repos/adobe/S3Mock/issues{/number}","pulls_url":"https://api.github.com/repos/adobe/S3Mock/pulls{/number}","milestones_url":"https://api.github.com/repos/adobe/S3Mock/milestones{/number}","notifications_url":"https://api.github.com/repos/adobe/S3Mock/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/adobe/S3Mock/labels{/name}","releases_url":"https://api.github.com/repos/adobe/S3Mock/releases{/id}","deployments_url":"https://api.github.com/repos/adobe/S3Mock/deployments","created_at":"2017-07-19T19:23:56Z","updated_at":"2025-11-07T23:23:43Z","pushed_at":"2025-11-07T23:23:41Z","git_url":"git://github.com/adobe/S3Mock.git","ssh_url":"git@github.com:adobe/S3Mock.git","clone_url":"https://github.com/adobe/S3Mock.git","svn_url":"https://github.com/adobe/S3Mock","homepage":"","size":7820,"stargazers_count":993,"watchers_count":993,"language":"Kotlin","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":190,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["amd64","arm64","aws","aws-s3","docker","java","junit","kotlin","mock","s3","testcontainers","testing"],"visibility":"public","forks":190,"open_issues":3,"watchers":993,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/adobe/S3Mock/pulls/1778","html_url":"https://github.com/adobe/S3Mock/pull/1778","diff_url":"https://github.com/adobe/S3Mock/pull/1778.diff","patch_url":"https://github.com/adobe/S3Mock/pull/1778.patch","merged_at":"2024-04-11T17:36:38Z"},"body":"## Description\r\n* S3Mock does not generate the XML prolog (`<?xml version=\"1.0\" encoding=\"UTF-8\"?>`)\r\n* S3Mock does not generate the XML namespace into the root XML elements of the responses\r\n\r\nWhile the AWS SDKs do not depend on this, it is the right thing to do.\r\nOther libraries like the [aiohttp-s3-client](https://github.com/aiokitchen/aiohttp-s3-client) depend on the declarations being present in the XML responses.\r\n\r\n## Related Issue\r\n#1754\r\n\r\n## Tasks\r\n<!--- These tasks need to be done in order to get the PR merged, please mark with `x` if done or if they are not applicable to you or the change -->\r\n\r\n- [x] I have signed the [CLA](http://adobe.github.io/cla.html).\r\n- [x] I have written tests and verified that they fail without my change.\r\n","reactions":{"url":"https://api.github.com/repos/adobe/S3Mock/issues/1778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/adobe/S3Mock/issues/1778/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]