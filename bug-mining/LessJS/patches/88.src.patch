diff --git a/lib/less/parser.js b/lib/less/parser.js
index fda55739..a6c192b6 100644
--- a/lib/less/parser.js
+++ b/lib/less/parser.js
@@ -414,9 +414,9 @@ less.Parser = function Parser(env) {
                             .run(evaldRoot);
 
                         var css = evaldRoot.toCSS({
-                                compress: options.compress || false,
+                                compress: Boolean(options.compress),
                                 dumpLineNumbers: env.dumpLineNumbers,
-                                strictUnits: options.strictUnits === false ? false : true});
+                                strictUnits: Boolean(options.strictUnits)});
                     } catch (e) {
                         throw new(LessError)(e, env);
                     }
diff --git a/lib/less/tree/dimension.js b/lib/less/tree/dimension.js
index 0b10f87f..9850e6ff 100644
--- a/lib/less/tree/dimension.js
+++ b/lib/less/tree/dimension.js
@@ -21,7 +21,7 @@ tree.Dimension.prototype = {
         return new(tree.Color)([this.value, this.value, this.value]);
     },
     toCSS: function (env) {
-        if ((!env || env.strictUnits !== false) && !this.unit.isSingular()) {
+        if ((env && env.strictUnits) && !this.unit.isSingular()) {
             throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());
         }
 
@@ -45,7 +45,7 @@ tree.Dimension.prototype = {
             }
         }
 
-        return this.unit.isEmpty() ? strValue : (strValue + this.unit.toCSS());
+        return strValue + this.unit.toCSS(env);
     },
 
     // In an operation between two Dimensions,
@@ -64,7 +64,7 @@ tree.Dimension.prototype = {
             } else {
                 other = other.convertTo(this.unit.usedUnits());
 
-                if(env.strictUnits !== false && other.unit.toString() !== unit.toString()) {
+                if(env.strictUnits && other.unit.toString() !== unit.toString()) {
                   throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '" + unit.toString() +
                     "' and '" + other.unit.toString() + "'.");
                 }
@@ -170,24 +170,28 @@ tree.UnitConversions = {
   }
 };
 
-tree.Unit = function (numerator, denominator) {
+tree.Unit = function (numerator, denominator, backupUnit) {
   this.numerator = numerator ? numerator.slice(0).sort() : [];
   this.denominator = denominator ? denominator.slice(0).sort() : [];
+  this.backupUnit = backupUnit;
 };
 
 tree.Unit.prototype = {
   type: "Unit",
   clone: function () {
-    return new tree.Unit(this.numerator.slice(0), this.denominator.slice(0));
+    return new tree.Unit(this.numerator.slice(0), this.denominator.slice(0), this.backupUnit);
   },
 
-  toCSS: function () {
+  toCSS: function (env) {
     if (this.numerator.length >= 1) {
         return this.numerator[0];
     }
     if (this.denominator.length >= 1) {
         return this.denominator[0];
     }
+    if ((!env || !env.strictUnits) && this.backupUnit) {
+        return this.backupUnit;
+    }
     return "";
   },
 
@@ -200,11 +204,11 @@ tree.Unit.prototype = {
   },
   
   compare: function (other) {
-    return this.is(other.toCSS()) ? 0 : -1;
+    return this.is(other.toString()) ? 0 : -1;
   },
 
   is: function (unitString) {
-    return this.toCSS() === unitString;
+    return this.toString() === unitString;
   },
 
   isAngle: function () {
@@ -252,16 +256,22 @@ tree.Unit.prototype = {
   },
 
   cancel: function () {
-    var counter = {}, atomicUnit, i;
+    var counter = {}, atomicUnit, i, backup;
 
     for (i = 0; i < this.numerator.length; i++) {
-      atomicUnit = this.numerator[i];
-      counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;
+        atomicUnit = this.numerator[i];
+        if (!backup) {
+            backup = atomicUnit;
+        }
+        counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;
     }
 
     for (i = 0; i < this.denominator.length; i++) {
-      atomicUnit = this.denominator[i];
-      counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;
+        atomicUnit = this.denominator[i];
+        if (!backup) {
+            backup = atomicUnit;
+        }
+        counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;
     }
 
     this.numerator = [];
@@ -283,6 +293,10 @@ tree.Unit.prototype = {
       }
     }
 
+    if (this.numerator.length === 0 && this.denominator.length === 0 && backup) {
+        this.backupUnit = backup;
+    }
+
     this.numerator.sort();
     this.denominator.sort();
   }
diff --git a/test/css/legacy/legacy.css b/test/css/legacy/legacy.css
index a4ed157e..6caeb1bd 100644
--- a/test/css/legacy/legacy.css
+++ b/test/css/legacy/legacy.css
@@ -1,8 +1,7 @@
 @media (-o-min-device-pixel-ratio: 2/1) {
   .test-maths-and-units {
     font: ignores 0/0 rules;
-    mix-units: 2px;
-    invalid-units: 1px;
     test-division: 7em;
+    simple: 2px;
   }
 }
diff --git a/test/css/variables.css b/test/css/variables.css
index 31e25894..f8d8518b 100644
--- a/test/css/variables.css
+++ b/test/css/variables.css
@@ -30,7 +30,7 @@
 }
 .units {
   width: 1px;
-  z-index: 1;
+  same-unit-as-previously: 1px;
   square-pixel-divided: 1px;
   odd-unit: 2;
   percentage: 500%;
@@ -39,5 +39,7 @@
   conversion-metric-b: 3cm;
   conversion-imperial: 3in;
   custom-unit: 420octocats;
-  custom-unit-cancelling: 2;
+  custom-unit-cancelling: 18dogs;
+  mix-units: 2px;
+  invalid-units: 1px;
 }
diff --git a/test/less-test.js b/test/less-test.js
index d89cf911..83b9ea01 100644
--- a/test/less-test.js
+++ b/test/less-test.js
@@ -25,7 +25,7 @@ sys.puts("\n" + stylize("LESS", 'underline') + "\n");
 
 runTestSet({relativeUrls: true, silent: true});
 
-runTestSet(null, "errors/", function(name, err, compiledLess, doReplacements) {
+runTestSet({strictUnits: true}, "errors/", function(name, err, compiledLess, doReplacements) {
     fs.readFile(path.join('test/less/', name) + '.txt', 'utf8', function (e, expectedErr) {
         sys.print("- " + name + ": ");
         expectedErr = doReplacements(expectedErr, 'test/less/errors/');
@@ -61,7 +61,7 @@ runTestSet({dumpLineNumbers: 'all'}, "debug/", null,
            function(name) { return name + '-all'; });
 runTestSet({relativeUrls: false, rootpath: "folder (1)/"}, "static-urls/");
 runTestSet({compress: true}, "compression/");
-runTestSet({strictUnits: false, strictMaths: false}, "legacy/");
+runTestSet({strictMaths: false}, "legacy/");
 
 function globalReplacements(input, directory) {
     var p = path.join(process.cwd(), directory),
diff --git a/test/less/legacy/legacy.less b/test/less/legacy/legacy.less
index ad82a6cd..a68ca21c 100644
--- a/test/less/legacy/legacy.less
+++ b/test/less/legacy/legacy.less
@@ -1,8 +1,7 @@
 @media (-o-min-device-pixel-ratio: 2/1) {
   .test-maths-and-units {
     font: ignores 0/0 rules;
-    mix-units: 1px + 1em;
-    invalid-units: 1px * 1px;
     test-division: 4 / 2 + 5em;
+    simple: 1px + 1px;
   }
 }
\ No newline at end of file
diff --git a/test/less/variables.less b/test/less/variables.less
index 0974864a..e896f404 100644
--- a/test/less/variables.less
+++ b/test/less/variables.less
@@ -68,7 +68,7 @@
 
 .units {
   width: @onePixel;
-  z-index: (@onePixel / @onePixel);
+  same-unit-as-previously: (@onePixel / @onePixel);
   square-pixel-divided: (@onePixel * @onePixel / @onePixel);
   odd-unit: unit((@onePixel * 4em / 2cm));
   percentage: (10 * 50%);
@@ -77,5 +77,7 @@
   conversion-metric-b: (1cm + 20mm);
   conversion-imperial: (1in + 72pt + 6pc);
   custom-unit: (42octocats * 10);
-  custom-unit-cancelling: (8cats / 4cats);
+  custom-unit-cancelling: (8cats * 9dogs / 4cats);
+  mix-units: (1px + 1em);
+  invalid-units: (1px * 1px);
 }
