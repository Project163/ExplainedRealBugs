diff --git a/bin/lessc b/bin/lessc
index 34407658..93d9d849 100755
--- a/bin/lessc
+++ b/bin/lessc
@@ -2,6 +2,7 @@
 
 var path = require('path'),
     fs = require('fs'),
+    mkdirp = require('mkdirp'),
     sys = require('util'),
     os = require('os');
 
@@ -128,9 +129,10 @@ if (! input) {
 
 var ensureDirectory = function (filepath) {
     var dir = path.dirname(filepath),
+        cmd = mkdirp && mkdirp.sync || fs.mkdirSync,
         existsSync = fs.existsSync || path.existsSync;
     if (!existsSync(dir)) {
-        fs.mkdirSync(dir);
+        cmd(dir);
     }
 };
 
diff --git a/package.json b/package.json
index 2eedae17..0cdcf43f 100644
--- a/package.json
+++ b/package.json
@@ -10,7 +10,12 @@
   "main"          : "./lib/less/index",
   "directories"   : { "test": "./test" },
   "engines"       : { "node": ">=0.4.2" },
-  "optionalDependencies" : { "ycssmin": ">=1.0.1", "mime": "1.2.x", "request":">=2.12.0" },
+  "optionalDependencies" : {
+    "mime": "1.2.x",
+    "request":">=2.12.0"
+    "mkdirp": "~0.3.4",
+    "ycssmin": ">=1.0.1"
+  },
   "devDependencies" : { "diff": "~1.0" },
   "scripts": {
    "test": "make test"
