diff --git a/lib/less/source-map-output.js b/lib/less/source-map-output.js
index 8988eb23..1a48b5a4 100644
--- a/lib/less/source-map-output.js
+++ b/lib/less/source-map-output.js
@@ -61,6 +61,10 @@
         this._css.push(chunk);
     };
 
+    tree.sourceMapOutput.prototype.isEmpty = function() {
+        return this._css.length === 0;
+    };
+
     tree.sourceMapOutput.prototype.toCSS = function(env) {
         this._sourceMapGenerator = new sourceMap.SourceMapGenerator({ file: this._outputFilename, sourceRoot: null });
 
@@ -72,10 +76,12 @@
 
         this._rootNode.genCSS(env, this);
 
-        this._writeSourceMap(JSON.stringify(this._sourceMapGenerator.toJSON()));
+        if (this._css.length > 0) {
+            this._writeSourceMap(JSON.stringify(this._sourceMapGenerator.toJSON()));
 
-        if (this._sourceMapFilename) {
-            this._css.push("/*# sourceMappingURL=" + this._sourceMapRootpath + this._sourceMapFilename + " */");
+            if (this._sourceMapFilename) {
+                this._css.push("/*# sourceMappingURL=" + this._sourceMapRootpath + this._sourceMapFilename + " */");
+            }
         }
 
         return this._css.join('');
diff --git a/lib/less/tree.js b/lib/less/tree.js
index d44d2339..ca9f1758 100644
--- a/lib/less/tree.js
+++ b/lib/less/tree.js
@@ -51,8 +51,11 @@ tree.jsify = function (obj) {
 tree.toCSS = function (env) {
     var strs = [];
     this.genCSS(env, {
-        add: function(chunk, node) {
+        add: function(chunk, fileInfo, index) {
             strs.push(chunk);
+        },
+        isEmpty: function () {
+            return strs.length === 0;
         }
     });
     return strs.join('');
diff --git a/lib/less/tree/ruleset.js b/lib/less/tree/ruleset.js
index 25a92e38..9930a1fc 100644
--- a/lib/less/tree/ruleset.js
+++ b/lib/less/tree/ruleset.js
@@ -272,7 +272,9 @@ tree.Ruleset.prototype = {
             output.add(rulesetNodes[i].genCSS(env, output));
         }
 
-        output.add(!env.compress && this.firstRoot ? '\n' : '');
+        if (!output.isEmpty() && !env.compress && this.firstRoot) {
+            output.add('\n');
+        }
     },
 
     toCSS: tree.toCSS,
diff --git a/test/css/no-output.css b/test/css/no-output.css
new file mode 100644
index 00000000..e69de29b
diff --git a/test/less/no-output.less b/test/less/no-output.less
new file mode 100644
index 00000000..b4e6a499
--- /dev/null
+++ b/test/less/no-output.less
@@ -0,0 +1,2 @@
+.mixin() {
+}
\ No newline at end of file
