diff --git a/lib/less/tree/ruleset.js b/lib/less/tree/ruleset.js
index 35653bbf..aa86214d 100644
--- a/lib/less/tree/ruleset.js
+++ b/lib/less/tree/ruleset.js
@@ -220,7 +220,8 @@ Ruleset.prototype.variables = function () {
             }
             // when evaluating variables in an import statement, imports have not been eval'd
             // so we need to go inside import statements.
-            if (r.type === "Import" && r.root) {
+	        // guard against root being a string (in the case of inlined less)
+            if (r.type === "Import" && r.root && r.root.variables) {
                 var vars = r.root.variables();
                 for(var name in vars) {
                     if (vars.hasOwnProperty(name)) {
diff --git a/test/css/import-interpolation.css b/test/css/import-interpolation.css
index 16b7a150..bb7b1a19 100644
--- a/test/css/import-interpolation.css
+++ b/test/css/import-interpolation.css
@@ -1,6 +1,12 @@
 body {
   width: 100%;
 }
+#logo {
+  width: 100px;
+  height: 100px;
+  background: url('../assets/logo.png');
+}
+
 .a {
   var: test;
 }
diff --git a/test/less/import/import-interpolation.less b/test/less/import/import-interpolation.less
index aa49a702..656f3cba 100644
--- a/test/less/import/import-interpolation.less
+++ b/test/less/import/import-interpolation.less
@@ -1 +1,2 @@
+@import (inline) "imports/logo.less";
 @import "import-@{in}@{terpolation}2.less";
\ No newline at end of file
