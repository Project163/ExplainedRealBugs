diff --git a/lib/less/extend-visitor.js b/lib/less/extend-visitor.js
index 9e66c089..2c3cc05f 100644
--- a/lib/less/extend-visitor.js
+++ b/lib/less/extend-visitor.js
@@ -31,6 +31,7 @@
             for(i = 0; i < rulesetNode.rules.length; i++) {
                 if (rulesetNode.rules[i] instanceof tree.Extend) {
                     allSelectorsExtendList.push(rulesetNode.rules[i]);
+                    rulesetNode.extendOnEveryPath = true;
                 }
             }
 
@@ -214,7 +215,7 @@
                     selectorPath = rulesetNode.paths[pathIndex];
 
                     // extending extends happens initially, before the main pass
-                    if (selectorPath[selectorPath.length-1].extendList.length) { continue; }
+                    if (rulesetNode.extendOnEveryPath || selectorPath[selectorPath.length-1].extendList.length) { continue; }
 
                     matches = this.findMatch(allExtends[extendIndex], selectorPath);
 
diff --git a/test/css/extend-chaining.css b/test/css/extend-chaining.css
index afde5cad..820e134f 100644
--- a/test/css/extend-chaining.css
+++ b/test/css/extend-chaining.css
@@ -51,6 +51,15 @@
 .y {
   color: z;
 }
+.va,
+.vb,
+.vc {
+  color: black;
+}
+.vb,
+.vc {
+  color: white;
+}
 @media tv {
   .ma,
   .mb,
diff --git a/test/less/extend-chaining.less b/test/less/extend-chaining.less
index 8ffc48a9..aad221ea 100644
--- a/test/less/extend-chaining.less
+++ b/test/less/extend-chaining.less
@@ -59,6 +59,18 @@
   color: z;
 }
 
+//very simple chaining, but with the extend inside the ruleset
+.va {
+  color: black;
+}
+.vb {
+  &:extend(.va);
+  color: white;
+}
+.vc {
+  &:extend(.vb);
+}
+
 // media queries - dont extend outside, do extend inside
 
 @media tv {
