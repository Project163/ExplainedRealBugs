diff --git a/lib/less/tree/mixin.js b/lib/less/tree/mixin.js
index cd7bd76d..3e9ff5c6 100644
--- a/lib/less/tree/mixin.js
+++ b/lib/less/tree/mixin.js
@@ -59,8 +59,8 @@ tree.mixin.Call.prototype = {
                             }
                             if (conditionResult[0] || conditionResult[1]) {
                                 if (conditionResult[0] != conditionResult[1]) {
-                                    candidate.group = conditionResult[1]
-                                        ? defTrue : defFalse;
+                                    candidate.group = conditionResult[1] ?
+                                        defTrue : defFalse;
                                 }
 
                                 candidates.push(candidate);
diff --git a/lib/less/tree/ruleset.js b/lib/less/tree/ruleset.js
index 142bec6b..bb666311 100644
--- a/lib/less/tree/ruleset.js
+++ b/lib/less/tree/ruleset.js
@@ -144,6 +144,9 @@ tree.Ruleset.prototype = {
     },
     matchCondition: function (args, env) {
         var lastSelector = this.selectors[this.selectors.length-1];
+        if (!lastSelector.evaldCondition) {
+            return false;
+        }
         if (lastSelector.condition &&
             !lastSelector.condition.eval(
                 new(tree.evalEnv)(env,
diff --git a/lib/less/tree/selector.js b/lib/less/tree/selector.js
index a13e623a..00141f48 100644
--- a/lib/less/tree/selector.js
+++ b/lib/less/tree/selector.js
@@ -25,7 +25,7 @@ tree.Selector.prototype = {
     },
     createDerived: function(elements, extendList, evaldCondition) {
         evaldCondition = (evaldCondition != null) ? evaldCondition : this.evaldCondition;
-        var newSelector = new(tree.Selector)(elements, extendList || this.extendList, this.condition, this.index, this.currentFileInfo, this.isReferenced);
+        var newSelector = new(tree.Selector)(elements, extendList || this.extendList, null, this.index, this.currentFileInfo, this.isReferenced);
         newSelector.evaldCondition = evaldCondition;
         return newSelector;
     },
diff --git a/test/css/css-guards.css b/test/css/css-guards.css
index dbb27dae..fa903f2c 100644
--- a/test/css/css-guards.css
+++ b/test/css/css-guards.css
@@ -2,7 +2,7 @@
   color: green;
 }
 .see-the {
-  color: orange;
+  color: green;
 }
 .hide-the {
   color: green;
@@ -16,3 +16,6 @@
 .inheritance:hover {
   color: pink;
 }
+.clsWithGuard {
+  dispaly: none;
+}
diff --git a/test/less/css-guards.less b/test/less/css-guards.less
index 41fbfbf5..8741483d 100644
--- a/test/less/css-guards.less
+++ b/test/less/css-guards.less
@@ -8,7 +8,7 @@
 @a: #ddd;
 
 .see-the {
-  @a: #444; // this mirrors what mixins do - they evaluate guards at the point of execution
+  @a: #444; // this mirrors what mixins do - they evaluate the guards at the point of definition
   .light();
   .dark();
 }
@@ -61,4 +61,13 @@
   .hideme {
     color: red;
   }
-}
\ No newline at end of file
+}
+
+.mixin-with-guard-inside(@colWidth) {
+  // selector with guard (applies also to & when() ...)
+  .clsWithGuard when (@colWidth <= 0) {
+    dispaly: none;
+  }
+}
+
+.mixin-with-guard-inside(0px);
\ No newline at end of file
