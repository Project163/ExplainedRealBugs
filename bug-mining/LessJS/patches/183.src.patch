diff --git a/lib/less/tree/directive.js b/lib/less/tree/directive.js
index 3645cb04..e189128d 100644
--- a/lib/less/tree/directive.js
+++ b/lib/less/tree/directive.js
@@ -38,7 +38,10 @@ Directive.prototype.genCSS = function (context, output) {
         value.genCSS(context, output);
     }
     if (rules) {
-        this.outputRuleset(context, output, [rules]);
+	    if (rules.type === "Ruleset") {
+		    rules = [rules];
+	    }
+        this.outputRuleset(context, output, rules);
     } else {
         output.add(';');
     }
diff --git a/test/css/css-3.css b/test/css/css-3.css
index 53ee68f0..2ea43083 100644
--- a/test/css/css-3.css
+++ b/test/css/css-3.css
@@ -147,3 +147,5 @@ body ^^ .shadow {
   symbols: ‣;
   suffix: " ";
 }
+@-ms-viewport {
+}
diff --git a/test/less/css-3.less b/test/less/css-3.less
index 8e86f393..6545c8c1 100644
--- a/test/less/css-3.less
+++ b/test/less/css-3.less
@@ -149,3 +149,6 @@ body ^^ .shadow {
   symbols: ‣;
   suffix: " ";
 }
+@-ms-viewport{
+//width: auto !important;
+}
\ No newline at end of file
