{"url":"https://api.github.com/repos/less/less.js/issues/1931","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/1931/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/1931/comments","events_url":"https://api.github.com/repos/less/less.js/issues/1931/events","html_url":"https://github.com/less/less.js/issues/1931","id":29792270,"node_id":"MDU6SXNzdWUyOTc5MjI3MA==","number":1931,"title":"Get `TypeError: Cannot read property 'rules' of undefined` while have `import` directive in my less file","user":{"login":"leftstick","id":1059956,"node_id":"MDQ6VXNlcjEwNTk5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1059956?v=4","gravatar_id":"","url":"https://api.github.com/users/leftstick","html_url":"https://github.com/leftstick","followers_url":"https://api.github.com/users/leftstick/followers","following_url":"https://api.github.com/users/leftstick/following{/other_user}","gists_url":"https://api.github.com/users/leftstick/gists{/gist_id}","starred_url":"https://api.github.com/users/leftstick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leftstick/subscriptions","organizations_url":"https://api.github.com/users/leftstick/orgs","repos_url":"https://api.github.com/users/leftstick/repos","events_url":"https://api.github.com/users/leftstick/events{/privacy}","received_events_url":"https://api.github.com/users/leftstick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2014-03-20T03:52:54Z","updated_at":"2014-08-05T15:33:50Z","closed_at":"2014-03-21T06:05:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Let's say i have two less files, `a.less` and `b.less`.\n\nAnd within `a.less`, i have such import code:\n\n``` less\n@import \"b.less\"\n```\n\nNormally, it works fine. But sometimes i get error from this, error log as following:\n\n<pre>\nvents.js:72\n       throw er; // Unhandled 'error' event\n             ^\nypeError: Cannot read property 'rules' of undefined\n   at Object.tree.Import.eval (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\import.js:115:56)\n   at Object.tree.Ruleset.evalImports (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\ruleset.js:165:40)\n   at Object.tree.Import.eval (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\import.js:117:21)\n   at Object.tree.Ruleset.evalImports (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\ruleset.js:165:40)\n   at Object.tree.Import.eval (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\import.js:117:21)\n   at Object.tree.Ruleset.evalImports (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\ruleset.js:165:40)\n   at Object.tree.Ruleset.eval (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\tree\\ruleset.js:73:21)\n   at Object.toCSS (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\parser.js:575:46)\n   at d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\index.js:26:54\n   at Object.finish [as _finish] (d:\\designEnv\\datayeswork\\cloud-ui\\node_modules\\gulp-less\\node_modules\\less\\lib\\less\\parser.js:669:28)\n</pre>\n\nHow could i prevent this error? It's a bit annoying. Thanks!\n","closed_by":{"login":"lukeapage","id":309321,"node_id":"MDQ6VXNlcjMwOTMyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/309321?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeapage","html_url":"https://github.com/lukeapage","followers_url":"https://api.github.com/users/lukeapage/followers","following_url":"https://api.github.com/users/lukeapage/following{/other_user}","gists_url":"https://api.github.com/users/lukeapage/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeapage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeapage/subscriptions","organizations_url":"https://api.github.com/users/lukeapage/orgs","repos_url":"https://api.github.com/users/lukeapage/repos","events_url":"https://api.github.com/users/lukeapage/events{/privacy}","received_events_url":"https://api.github.com/users/lukeapage/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/1931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/1931/timeline","performed_via_github_app":null,"state_reason":"completed"}