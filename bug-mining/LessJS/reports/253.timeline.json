[{"id":4590337360,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1OTAzMzczNjA=","url":"https://api.github.com/repos/less/less.js/issues/events/4590337360","actor":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T21:20:18Z","label":{"name":"bug","color":"e10c02"},"performed_via_github_app":null},{"id":4590337754,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1OTAzMzc3NTQ=","url":"https://api.github.com/repos/less/less.js/issues/events/4590337754","actor":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-13T21:20:25Z","label":{"name":"medium priority","color":"0000E0"},"performed_via_github_app":null},{"actor":{"login":"iChenLei","id":14012511,"node_id":"MDQ6VXNlcjE0MDEyNTEx","avatar_url":"https://avatars.githubusercontent.com/u/14012511?v=4","gravatar_id":"","url":"https://api.github.com/users/iChenLei","html_url":"https://github.com/iChenLei","followers_url":"https://api.github.com/users/iChenLei/followers","following_url":"https://api.github.com/users/iChenLei/following{/other_user}","gists_url":"https://api.github.com/users/iChenLei/gists{/gist_id}","starred_url":"https://api.github.com/users/iChenLei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iChenLei/subscriptions","organizations_url":"https://api.github.com/users/iChenLei/orgs","repos_url":"https://api.github.com/users/iChenLei/repos","events_url":"https://api.github.com/users/iChenLei/events{/privacy}","received_events_url":"https://api.github.com/users/iChenLei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-11T13:59:47Z","updated_at":"2021-06-11T13:59:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/less/less.js/issues/3626","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/3626/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/3626/comments","events_url":"https://api.github.com/repos/less/less.js/issues/3626/events","html_url":"https://github.com/less/less.js/pull/3626","id":918789879,"node_id":"MDExOlB1bGxSZXF1ZXN0NjY4MTgyMzQ3","number":3626,"title":"Fix #3616 IfStatement requires double parentheses when dividing ","user":{"login":"iChenLei","id":14012511,"node_id":"MDQ6VXNlcjE0MDEyNTEx","avatar_url":"https://avatars.githubusercontent.com/u/14012511?v=4","gravatar_id":"","url":"https://api.github.com/users/iChenLei","html_url":"https://github.com/iChenLei","followers_url":"https://api.github.com/users/iChenLei/followers","following_url":"https://api.github.com/users/iChenLei/following{/other_user}","gists_url":"https://api.github.com/users/iChenLei/gists{/gist_id}","starred_url":"https://api.github.com/users/iChenLei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iChenLei/subscriptions","organizations_url":"https://api.github.com/users/iChenLei/orgs","repos_url":"https://api.github.com/users/iChenLei/repos","events_url":"https://api.github.com/users/iChenLei/events{/privacy}","received_events_url":"https://api.github.com/users/iChenLei/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-11T13:59:47Z","updated_at":"2021-06-12T22:54:18Z","closed_at":"2021-06-12T17:19:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":527644,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjc2NDQ=","name":"less.js","full_name":"less/less.js","private":false,"owner":{"login":"less","id":3538330,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM1MzgzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/3538330?v=4","gravatar_id":"","url":"https://api.github.com/users/less","html_url":"https://github.com/less","followers_url":"https://api.github.com/users/less/followers","following_url":"https://api.github.com/users/less/following{/other_user}","gists_url":"https://api.github.com/users/less/gists{/gist_id}","starred_url":"https://api.github.com/users/less/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/less/subscriptions","organizations_url":"https://api.github.com/users/less/orgs","repos_url":"https://api.github.com/users/less/repos","events_url":"https://api.github.com/users/less/events{/privacy}","received_events_url":"https://api.github.com/users/less/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/less/less.js","description":"Less. The dynamic stylesheet language.","fork":false,"url":"https://api.github.com/repos/less/less.js","forks_url":"https://api.github.com/repos/less/less.js/forks","keys_url":"https://api.github.com/repos/less/less.js/keys{/key_id}","collaborators_url":"https://api.github.com/repos/less/less.js/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/less/less.js/teams","hooks_url":"https://api.github.com/repos/less/less.js/hooks","issue_events_url":"https://api.github.com/repos/less/less.js/issues/events{/number}","events_url":"https://api.github.com/repos/less/less.js/events","assignees_url":"https://api.github.com/repos/less/less.js/assignees{/user}","branches_url":"https://api.github.com/repos/less/less.js/branches{/branch}","tags_url":"https://api.github.com/repos/less/less.js/tags","blobs_url":"https://api.github.com/repos/less/less.js/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/less/less.js/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/less/less.js/git/refs{/sha}","trees_url":"https://api.github.com/repos/less/less.js/git/trees{/sha}","statuses_url":"https://api.github.com/repos/less/less.js/statuses/{sha}","languages_url":"https://api.github.com/repos/less/less.js/languages","stargazers_url":"https://api.github.com/repos/less/less.js/stargazers","contributors_url":"https://api.github.com/repos/less/less.js/contributors","subscribers_url":"https://api.github.com/repos/less/less.js/subscribers","subscription_url":"https://api.github.com/repos/less/less.js/subscription","commits_url":"https://api.github.com/repos/less/less.js/commits{/sha}","git_commits_url":"https://api.github.com/repos/less/less.js/git/commits{/sha}","comments_url":"https://api.github.com/repos/less/less.js/comments{/number}","issue_comment_url":"https://api.github.com/repos/less/less.js/issues/comments{/number}","contents_url":"https://api.github.com/repos/less/less.js/contents/{+path}","compare_url":"https://api.github.com/repos/less/less.js/compare/{base}...{head}","merges_url":"https://api.github.com/repos/less/less.js/merges","archive_url":"https://api.github.com/repos/less/less.js/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/less/less.js/downloads","issues_url":"https://api.github.com/repos/less/less.js/issues{/number}","pulls_url":"https://api.github.com/repos/less/less.js/pulls{/number}","milestones_url":"https://api.github.com/repos/less/less.js/milestones{/number}","notifications_url":"https://api.github.com/repos/less/less.js/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/less/less.js/labels{/name}","releases_url":"https://api.github.com/repos/less/less.js/releases{/id}","deployments_url":"https://api.github.com/repos/less/less.js/deployments","created_at":"2010-02-20T17:25:38Z","updated_at":"2025-11-07T21:52:54Z","pushed_at":"2025-10-06T22:26:29Z","git_url":"git://github.com/less/less.js.git","ssh_url":"git@github.com:less/less.js.git","clone_url":"https://github.com/less/less.js.git","svn_url":"https://github.com/less/less.js","homepage":"http://lesscss.org","size":17031,"stargazers_count":17047,"watchers_count":17047,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3397,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":244,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["css","language","stylesheet-language"],"visibility":"public","forks":3397,"open_issues":244,"watchers":17047,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/less/less.js/pulls/3626","html_url":"https://github.com/less/less.js/pull/3626","diff_url":"https://github.com/less/less.js/pull/3626.diff","patch_url":"https://github.com/less/less.js/pull/3626.patch","merged_at":"2021-06-12T17:19:49Z"},"body":"### PR Target\r\n\r\nTry to fix https://github.com/less/less.js/issues/3616\r\n\r\n### Debug analysis\r\n\r\nIf you write `less` (v4 parens-division default) code like follow:\r\n```less\r\n.parens-issues-3616 {\r\n  bar: if(false, 666, 888 / 444);\r\n  bar2: if(false, 666, (666 / 333));\r\n  bar3: if(false, 666, ((444 / 222)));\r\n}\r\n```\r\n\r\n### VSCode debug screen snapshot\r\n\r\n![2021-06-11 21 24 47](https://user-images.githubusercontent.com/14012511/121693182-772d6d80-cafb-11eb-94ec-083837f18fae.png)\r\n\r\n### Call Stack \r\n\r\n**`ParseTree -> ruleset eval -> declaration eval -> value eval -> expression eval -> call eval -> functionCaller.call -> If -> operation eval`**\r\n\r\n|  Input  | Expected  | Result |\r\n|  ----  | ----  | ---- |\r\n| `bar2: if(false, 666, (666 / 333)); ` | `bar2: 2;` | `bar2: 666 / 333;` | \r\n\r\nIn our expacted logic the `Operation`'s eval output should be a `Unit` which value is `2`.\r\n> `(666 / 333)` compile to a `Expression` which contains a `Operation` \r\n\r\n![2021-06-11 21 43 39](https://user-images.githubusercontent.com/14012511/121695899-19e6eb80-cafe-11eb-81bb-1df1de3812d2.png)\r\n\r\nThe `Operation`'s eval logic\r\n```js\r\n   //  packages/less/src/less/tree/operation.js\r\n    eval(context) {\r\n        let a = this.operands[0].eval(context), b = this.operands[1].eval(context), op;\r\n\r\n        if (context.isMathOn(this.op)) {   //  <- we get false in this case\r\n             /**** omit unimportant code  ****/\r\n            return a.operate(context, op, b);  // <-  so we can't get expected output from here\r\n        } else {\r\n            return new Operation(this.op, [a, b], this.isSpaced);\r\n        }\r\n    },\r\n```\r\nOur `context` lose `parens` !!!\r\n```js\r\n   //  packages/less/src/less/functions/function-caller.js:29 \r\n        args = args\r\n            .filter(commentFilter)\r\n            .map(item => {\r\n                if (item.type === 'Expression') {\r\n                    const subNodes = item.value.filter(commentFilter);\r\n                    if (subNodes.length === 1) {\r\n                        return subNodes[0];    //  <-  lose Expression and get a Opreation\r\n                    } else {\r\n                        return new Expression(subNodes);\r\n                    }\r\n                }\r\n                return item;\r\n            });\r\n``` \r\nSo the `context.isMathOn(this.op)` is failed.\r\nI know my analysis is not very clear, but I think maintainers know what i say. Hope this PR is useful, maintainers can modify my code directly cause i am not a `less` source code expert. Any help welcome.\r\n\r\n/cc @matthew-dean \r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/less/less.js/issues/3626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/3626/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4881488227,"node_id":"MDExOkNsb3NlZEV2ZW50NDg4MTQ4ODIyNw==","url":"https://api.github.com/repos/less/less.js/issues/events/4881488227","actor":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-06-12T17:19:49Z","state_reason":null,"performed_via_github_app":null},{"id":4881488305,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4ODE0ODgzMDU=","url":"https://api.github.com/repos/less/less.js/issues/events/4881488305","actor":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c5181800980f0a24dfaa5fe71fba813a6a80542a","commit_url":"https://api.github.com/repos/less/less.js/commits/c5181800980f0a24dfaa5fe71fba813a6a80542a","created_at":"2021-06-12T17:19:54Z","performed_via_github_app":null},{"id":20819237400,"node_id":"REFE_lADOAAgNHM4zE_hVzwAAAATY7FoY","url":"https://api.github.com/repos/less/less.js/issues/events/20819237400","actor":{"login":"toakleaf","id":4921516,"node_id":"MDQ6VXNlcjQ5MjE1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4921516?v=4","gravatar_id":"","url":"https://api.github.com/users/toakleaf","html_url":"https://github.com/toakleaf","followers_url":"https://api.github.com/users/toakleaf/followers","following_url":"https://api.github.com/users/toakleaf/following{/other_user}","gists_url":"https://api.github.com/users/toakleaf/gists{/gist_id}","starred_url":"https://api.github.com/users/toakleaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toakleaf/subscriptions","organizations_url":"https://api.github.com/users/toakleaf/orgs","repos_url":"https://api.github.com/users/toakleaf/repos","events_url":"https://api.github.com/users/toakleaf/events{/privacy}","received_events_url":"https://api.github.com/users/toakleaf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"aa8a5cf8eca5ebb9a1c692a841d5a54e9dac6ac8","commit_url":"https://api.github.com/repos/toakleaf/less.go/commits/aa8a5cf8eca5ebb9a1c692a841d5a54e9dac6ac8","created_at":"2025-11-09T13:43:24Z","performed_via_github_app":null},{"actor":{"login":"toakleaf","id":4921516,"node_id":"MDQ6VXNlcjQ5MjE1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4921516?v=4","gravatar_id":"","url":"https://api.github.com/users/toakleaf","html_url":"https://github.com/toakleaf","followers_url":"https://api.github.com/users/toakleaf/followers","following_url":"https://api.github.com/users/toakleaf/following{/other_user}","gists_url":"https://api.github.com/users/toakleaf/gists{/gist_id}","starred_url":"https://api.github.com/users/toakleaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toakleaf/subscriptions","organizations_url":"https://api.github.com/users/toakleaf/orgs","repos_url":"https://api.github.com/users/toakleaf/repos","events_url":"https://api.github.com/users/toakleaf/events{/privacy}","received_events_url":"https://api.github.com/users/toakleaf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-11-09T14:18:39Z","updated_at":"2025-11-09T14:18:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/toakleaf/less.go/issues/136","repository_url":"https://api.github.com/repos/toakleaf/less.go","labels_url":"https://api.github.com/repos/toakleaf/less.go/issues/136/labels{/name}","comments_url":"https://api.github.com/repos/toakleaf/less.go/issues/136/comments","events_url":"https://api.github.com/repos/toakleaf/less.go/issues/136/events","html_url":"https://github.com/toakleaf/less.go/pull/136","id":3605056817,"node_id":"PR_kwDOOQq2JM6yYWIY","number":136,"title":"Fix math-parens regression: Remove incorrect parensInOp check","user":{"login":"toakleaf","id":4921516,"node_id":"MDQ6VXNlcjQ5MjE1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4921516?v=4","gravatar_id":"","url":"https://api.github.com/users/toakleaf","html_url":"https://github.com/toakleaf","followers_url":"https://api.github.com/users/toakleaf/followers","following_url":"https://api.github.com/users/toakleaf/following{/other_user}","gists_url":"https://api.github.com/users/toakleaf/gists{/gist_id}","starred_url":"https://api.github.com/users/toakleaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toakleaf/subscriptions","organizations_url":"https://api.github.com/users/toakleaf/orgs","repos_url":"https://api.github.com/users/toakleaf/repos","events_url":"https://api.github.com/users/toakleaf/events{/privacy}","received_events_url":"https://api.github.com/users/toakleaf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-11-09T14:18:37Z","updated_at":"2025-11-09T14:18:53Z","closed_at":"2025-11-09T14:18:53Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":957003300,"node_id":"R_kgDOOQq2JA","name":"less.go","full_name":"toakleaf/less.go","private":false,"owner":{"login":"toakleaf","id":4921516,"node_id":"MDQ6VXNlcjQ5MjE1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4921516?v=4","gravatar_id":"","url":"https://api.github.com/users/toakleaf","html_url":"https://github.com/toakleaf","followers_url":"https://api.github.com/users/toakleaf/followers","following_url":"https://api.github.com/users/toakleaf/following{/other_user}","gists_url":"https://api.github.com/users/toakleaf/gists{/gist_id}","starred_url":"https://api.github.com/users/toakleaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toakleaf/subscriptions","organizations_url":"https://api.github.com/users/toakleaf/orgs","repos_url":"https://api.github.com/users/toakleaf/repos","events_url":"https://api.github.com/users/toakleaf/events{/privacy}","received_events_url":"https://api.github.com/users/toakleaf/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/toakleaf/less.go","description":"Less. The dynamic stylesheet language. Ported to go.","fork":true,"url":"https://api.github.com/repos/toakleaf/less.go","forks_url":"https://api.github.com/repos/toakleaf/less.go/forks","keys_url":"https://api.github.com/repos/toakleaf/less.go/keys{/key_id}","collaborators_url":"https://api.github.com/repos/toakleaf/less.go/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/toakleaf/less.go/teams","hooks_url":"https://api.github.com/repos/toakleaf/less.go/hooks","issue_events_url":"https://api.github.com/repos/toakleaf/less.go/issues/events{/number}","events_url":"https://api.github.com/repos/toakleaf/less.go/events","assignees_url":"https://api.github.com/repos/toakleaf/less.go/assignees{/user}","branches_url":"https://api.github.com/repos/toakleaf/less.go/branches{/branch}","tags_url":"https://api.github.com/repos/toakleaf/less.go/tags","blobs_url":"https://api.github.com/repos/toakleaf/less.go/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/toakleaf/less.go/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/toakleaf/less.go/git/refs{/sha}","trees_url":"https://api.github.com/repos/toakleaf/less.go/git/trees{/sha}","statuses_url":"https://api.github.com/repos/toakleaf/less.go/statuses/{sha}","languages_url":"https://api.github.com/repos/toakleaf/less.go/languages","stargazers_url":"https://api.github.com/repos/toakleaf/less.go/stargazers","contributors_url":"https://api.github.com/repos/toakleaf/less.go/contributors","subscribers_url":"https://api.github.com/repos/toakleaf/less.go/subscribers","subscription_url":"https://api.github.com/repos/toakleaf/less.go/subscription","commits_url":"https://api.github.com/repos/toakleaf/less.go/commits{/sha}","git_commits_url":"https://api.github.com/repos/toakleaf/less.go/git/commits{/sha}","comments_url":"https://api.github.com/repos/toakleaf/less.go/comments{/number}","issue_comment_url":"https://api.github.com/repos/toakleaf/less.go/issues/comments{/number}","contents_url":"https://api.github.com/repos/toakleaf/less.go/contents/{+path}","compare_url":"https://api.github.com/repos/toakleaf/less.go/compare/{base}...{head}","merges_url":"https://api.github.com/repos/toakleaf/less.go/merges","archive_url":"https://api.github.com/repos/toakleaf/less.go/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/toakleaf/less.go/downloads","issues_url":"https://api.github.com/repos/toakleaf/less.go/issues{/number}","pulls_url":"https://api.github.com/repos/toakleaf/less.go/pulls{/number}","milestones_url":"https://api.github.com/repos/toakleaf/less.go/milestones{/number}","notifications_url":"https://api.github.com/repos/toakleaf/less.go/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/toakleaf/less.go/labels{/name}","releases_url":"https://api.github.com/repos/toakleaf/less.go/releases{/id}","deployments_url":"https://api.github.com/repos/toakleaf/less.go/deployments","created_at":"2025-03-29T10:19:51Z","updated_at":"2025-11-10T10:32:16Z","pushed_at":"2025-11-10T10:43:36Z","git_url":"git://github.com/toakleaf/less.go.git","ssh_url":"git@github.com:toakleaf/less.go.git","clone_url":"https://github.com/toakleaf/less.go.git","svn_url":"https://github.com/toakleaf/less.go","homepage":"http://lesscss.org","size":26201,"stargazers_count":0,"watchers_count":0,"language":"Go","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/toakleaf/less.go/pulls/136","html_url":"https://github.com/toakleaf/less.go/pull/136","diff_url":"https://github.com/toakleaf/less.go/pull/136.diff","patch_url":"https://github.com/toakleaf/less.go/pull/136.patch","merged_at":"2025-11-09T14:18:53Z"},"body":"**Problem:**\r\nThe commit fee334e introduced a unit test regression in CallArgumentPreprocessing. The test was failing because the code added an extra condition `!op.Node.ParensInOp` that doesn't exist in the JavaScript implementation.\r\n\r\n**Root Cause:**\r\nThe JavaScript code in function-caller.js:36 is:\r\n```javascript\r\nif (item.parens && subNodes[0].op === '/') {\r\n    return item;\r\n}\r\n```\r\n\r\nBut the Go code was checking:\r\n```go\r\nif op, ok := subNodes[0].(*Operation); ok && op.Op == \"/\" && !op.Node.ParensInOp {\r\n```\r\n\r\nThe extra `!op.Node.ParensInOp` check is not in the JavaScript code and was causing the preprocessArgs logic to incorrectly unwrap expressions in some cases.\r\n\r\n**Fix:**\r\n1. Removed the `!op.Node.ParensInOp` check to match JavaScript behavior\r\n2. Updated the comment to reflect the correct JavaScript code with reference to issue #3616\r\n3. Updated the unit test to use real Operation type instead of MockOperation\r\n\r\n**Test Results:**\r\n- ✅ Unit tests: CallArgumentPreprocessing test now passes\r\n- ✅ Integration tests: All passing (no regressions)\r\n- ℹ️ Pre-existing failures: Combinator, Selector, ParentSelectorExpansion tests (these were already failing before this fix)\r\n\r\n**Files Modified:**\r\n- packages/less/src/less/less_go/call.go: Removed incorrect parensInOp check\r\n- packages/less/src/less/less_go/call_test.go: Updated test to use real Operation type\r\n\r\n<!--\r\nThanks for your interest in the project. I appreciate bugs filed and PRs submitted!\r\nPlease make sure that you are familiar with and follow the Code of Conduct for\r\nthis project (found in the CODE_OF_CONDUCT.md file).\r\nAlso, please make sure you're familiar with and follow the instructions in the\r\ncontributing guidelines (found in the CONTRIBUTING.md file).\r\nIf you're new to contributing to open source projects, you might find this free\r\nvideo course helpful: http://kcd.im/pull-request\r\nPlease fill out the information below to expedite the review and (hopefully)\r\nmerge of your pull request!\r\n-->\r\n\r\n<!-- What changes are being made? (What feature/bug is being fixed here?) -->\r\n\r\n**What**:\r\n\r\n<!-- Why are these changes necessary? -->\r\n\r\n**Why**:\r\n\r\n<!-- Have you done all of these things?  -->\r\n\r\n**Checklist**:\r\n\r\n<!-- add \"N/A\" to the end of each line that's irrelevant to your changes -->\r\n<!-- to check an item, place an \"x\" in the box like so: \"- [x] Documentation\" -->\r\n\r\n- [ ] Documentation\r\n- [ ] Added/updated unit tests\r\n- [ ] Code complete\r\n\r\n<!-- feel free to add additional comments -->\r\n","reactions":{"url":"https://api.github.com/repos/toakleaf/less.go/issues/136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/toakleaf/less.go/issues/136/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":20819483408,"node_id":"REFE_lADOAAgNHM4zE_hVzwAAAATY8BsQ","url":"https://api.github.com/repos/less/less.js/issues/events/20819483408","actor":{"login":"toakleaf","id":4921516,"node_id":"MDQ6VXNlcjQ5MjE1MTY=","avatar_url":"https://avatars.githubusercontent.com/u/4921516?v=4","gravatar_id":"","url":"https://api.github.com/users/toakleaf","html_url":"https://github.com/toakleaf","followers_url":"https://api.github.com/users/toakleaf/followers","following_url":"https://api.github.com/users/toakleaf/following{/other_user}","gists_url":"https://api.github.com/users/toakleaf/gists{/gist_id}","starred_url":"https://api.github.com/users/toakleaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toakleaf/subscriptions","organizations_url":"https://api.github.com/users/toakleaf/orgs","repos_url":"https://api.github.com/users/toakleaf/repos","events_url":"https://api.github.com/users/toakleaf/events{/privacy}","received_events_url":"https://api.github.com/users/toakleaf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a70be739a3308874b58bd4474703c7670bb8a92e","commit_url":"https://api.github.com/repos/toakleaf/less.go/commits/a70be739a3308874b58bd4474703c7670bb8a92e","created_at":"2025-11-09T14:18:54Z","performed_via_github_app":null}]