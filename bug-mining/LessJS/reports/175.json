{"url":"https://api.github.com/repos/less/less.js/issues/2336","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/2336/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/2336/comments","events_url":"https://api.github.com/repos/less/less.js/issues/2336/events","html_url":"https://github.com/less/less.js/issues/2336","id":51872605,"node_id":"MDU6SXNzdWU1MTg3MjYwNQ==","number":2336,"title":"Variable interpolation in an import not working if file includes an inline css statement","user":{"login":"dcneiner","id":106974,"node_id":"MDQ6VXNlcjEwNjk3NA==","avatar_url":"https://avatars.githubusercontent.com/u/106974?v=4","gravatar_id":"","url":"https://api.github.com/users/dcneiner","html_url":"https://github.com/dcneiner","followers_url":"https://api.github.com/users/dcneiner/followers","following_url":"https://api.github.com/users/dcneiner/following{/other_user}","gists_url":"https://api.github.com/users/dcneiner/gists{/gist_id}","starred_url":"https://api.github.com/users/dcneiner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcneiner/subscriptions","organizations_url":"https://api.github.com/users/dcneiner/orgs","repos_url":"https://api.github.com/users/dcneiner/repos","events_url":"https://api.github.com/users/dcneiner/events{/privacy}","received_events_url":"https://api.github.com/users/dcneiner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-12-13T01:58:33Z","updated_at":"2015-01-03T09:03:42Z","closed_at":"2015-01-03T09:03:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I ran into this tonight when trying to use lessc 2.1.1 to compile LESS for my application. \n\nI was inlining some CSS files (normalize.css, etc) using the `@import (inline) \"...\";` syntax and in the same LESS file, further down I was using variable interpolation to `@import` a theme file (a variable I would pass in via `globalVars`). I made a [reduced test case](https://gist.github.com/dcneiner/f80dadd099922c60be43) to reproduce the issue. The error that is thrown from my test case is this:\n\n```\nundefined_methodError: Object /* Normal CSS Stuff*/\n\nhtml, body { font-size: 16px; }\n has no method 'variables' in /Users/DougN/Development/lessbug/site.less on line 5, column 1:\n```\n\nThe following is the minimum code needed to see the error (plus the referenced files):\n\n``` less\n@import (inline) \"include.css\";\n\n@themeName: \"sample\";\n@import \"@{themeName}.theme.less\";\n```\n\n[Here is a gist](https://gist.github.com/dcneiner/f80dadd099922c60be43) with all three files from the test case. The easiest way to reproduce is to [download the files](https://gist.github.com/dcneiner/f80dadd099922c60be43/download) from the gist, then from the command line compile it with `lessc`:\n\n``` sh\nlessc site.less\n```\n\nSimply removing the `@import (inline) \"include.css\";` line keeps the bug from occurring.\n\nIn my live app code, I even tried `@importing` the inlined CSS files in a separate LESS file from the one where I was attempting variable interpolation, but the error still occurred.\n","closed_by":{"login":"lukeapage","id":309321,"node_id":"MDQ6VXNlcjMwOTMyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/309321?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeapage","html_url":"https://github.com/lukeapage","followers_url":"https://api.github.com/users/lukeapage/followers","following_url":"https://api.github.com/users/lukeapage/following{/other_user}","gists_url":"https://api.github.com/users/lukeapage/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeapage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeapage/subscriptions","organizations_url":"https://api.github.com/users/lukeapage/orgs","repos_url":"https://api.github.com/users/lukeapage/repos","events_url":"https://api.github.com/users/lukeapage/events{/privacy}","received_events_url":"https://api.github.com/users/lukeapage/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/2336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/2336/timeline","performed_via_github_app":null,"state_reason":"completed"}