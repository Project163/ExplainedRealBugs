{"url":"https://api.github.com/repos/less/less.js/issues/2986","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/2986/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/2986/comments","events_url":"https://api.github.com/repos/less/less.js/issues/2986/events","html_url":"https://github.com/less/less.js/issues/2986","id":188998501,"node_id":"MDU6SXNzdWUxODg5OTg1MDE=","number":2986,"title":"Custom properties inside builtin functions like `rgba()` throw error","user":{"login":"MikeKovarik","id":3995401,"node_id":"MDQ6VXNlcjM5OTU0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3995401?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeKovarik","html_url":"https://github.com/MikeKovarik","followers_url":"https://api.github.com/users/MikeKovarik/followers","following_url":"https://api.github.com/users/MikeKovarik/following{/other_user}","gists_url":"https://api.github.com/users/MikeKovarik/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeKovarik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeKovarik/subscriptions","organizations_url":"https://api.github.com/users/MikeKovarik/orgs","repos_url":"https://api.github.com/users/MikeKovarik/repos","events_url":"https://api.github.com/users/MikeKovarik/events{/privacy}","received_events_url":"https://api.github.com/users/MikeKovarik/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2103423,"node_id":"MDU6TGFiZWwyMTAzNDIz","url":"https://api.github.com/repos/less/less.js/labels/feature%20request","name":"feature request","color":"fe9400","default":false,"description":null},{"id":9603611,"node_id":"MDU6TGFiZWw5NjAzNjEx","url":"https://api.github.com/repos/less/less.js/labels/high%20priority","name":"high priority","color":"E00000","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2016-11-13T22:05:47Z","updated_at":"2023-01-17T14:33:23Z","closed_at":"2018-07-29T00:17:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Syntax of the content of CSS custom properties is very permissive but that causes problems when using such properties inside builtin functions like `rgba()`\r\n\r\nExample: \r\nMy project allows user to define accent color on which the whole app UI and various custom components is based. And I am using rgb format because of the need to fade in certain places and CSS does not provide anything like `fade(@color, 50%)` in less. That way i can do `rgba( var(--color), 0.5 )`. This works in Chrome and is supported by the standart. However less throws the following error `error evaluation function 'rgba': color functions take numbers as parameters`.\r\n\r\nExample code:\r\n``` css\r\n:root {\r\n\t--color-accent: 169,57,255;\r\n}\r\nbutton:hover {\r\n\tbackground-color: rgba(var(--color-accent), 0.2);\r\n\tcolor: rgb(var(--color-accent));\r\n}\r\n```\r\n\r\nNote: This is a drop-in library and i don't want to force users to add another build step into their workflow only to build my less library with their colors. That's why i'm using the new and shiny custom properties (and also because of its scoping capability).\r\n\r\nBTW: Is there some temporary workaround that'd skip such strict handling and build it anyway? It's not like I'm missing a bracket in a nested rules.","closed_by":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/2986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/2986/timeline","performed_via_github_app":null,"state_reason":"completed"}