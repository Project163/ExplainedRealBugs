{"url":"https://api.github.com/repos/less/less.js/issues/3434","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/3434/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/3434/comments","events_url":"https://api.github.com/repos/less/less.js/issues/3434/events","html_url":"https://github.com/less/less.js/issues/3434","id":492899979,"node_id":"MDU6SXNzdWU0OTI4OTk5Nzk=","number":3434,"title":"Version 3.10.x uses significantly more memory and is significantly slower than 3.9.0","user":{"login":"PatSmuk360","id":19171452,"node_id":"MDQ6VXNlcjE5MTcxNDUy","avatar_url":"https://avatars.githubusercontent.com/u/19171452?v=4","gravatar_id":"","url":"https://api.github.com/users/PatSmuk360","html_url":"https://github.com/PatSmuk360","followers_url":"https://api.github.com/users/PatSmuk360/followers","following_url":"https://api.github.com/users/PatSmuk360/following{/other_user}","gists_url":"https://api.github.com/users/PatSmuk360/gists{/gist_id}","starred_url":"https://api.github.com/users/PatSmuk360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PatSmuk360/subscriptions","organizations_url":"https://api.github.com/users/PatSmuk360/orgs","repos_url":"https://api.github.com/users/PatSmuk360/repos","events_url":"https://api.github.com/users/PatSmuk360/events{/privacy}","received_events_url":"https://api.github.com/users/PatSmuk360/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":95,"created_at":"2019-09-12T16:07:27Z","updated_at":"2021-01-21T17:43:34Z","closed_at":"2020-12-12T02:00:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Our builds recently started failing because we run about 80 Less builds in parallel during our project's build process and the new version of Less.js uses so much memory that Node crashes. We traced the crash to upgrading from Less.js from 3.9.0 to 3.10.3.\r\n\r\nI changed our Less script to compile the files sequentially (building 2 files at a time) and sampled Node's memory usage during the process and got the following results:\r\n\r\n![less graph](https://user-images.githubusercontent.com/19171452/64800922-726a0d00-d555-11e9-90e8-99d4d4ae8974.png)\r\n\r\nLess.js seems to use 130% more memory now and takes about 100% longer to compile for us.\r\n\r\nJust wondering if you've benchmarked Less.js and whether you see similar results","closed_by":{"login":"matthew-dean","id":414752,"node_id":"MDQ6VXNlcjQxNDc1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/414752?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-dean","html_url":"https://github.com/matthew-dean","followers_url":"https://api.github.com/users/matthew-dean/followers","following_url":"https://api.github.com/users/matthew-dean/following{/other_user}","gists_url":"https://api.github.com/users/matthew-dean/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-dean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-dean/subscriptions","organizations_url":"https://api.github.com/users/matthew-dean/orgs","repos_url":"https://api.github.com/users/matthew-dean/repos","events_url":"https://api.github.com/users/matthew-dean/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-dean/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/3434/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/3434/timeline","performed_via_github_app":null,"state_reason":"completed"}