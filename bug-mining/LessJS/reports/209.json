{"url":"https://api.github.com/repos/less/less.js/issues/2987","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/2987/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/2987/comments","events_url":"https://api.github.com/repos/less/less.js/issues/2987/events","html_url":"https://github.com/less/less.js/issues/2987","id":189670631,"node_id":"MDU6SXNzdWUxODk2NzA2MzE=","number":2987,"title":"Option source-map-map-inline produces an empty file","user":{"login":"nicoschoenmaker","id":1469323,"node_id":"MDQ6VXNlcjE0NjkzMjM=","avatar_url":"https://avatars.githubusercontent.com/u/1469323?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoschoenmaker","html_url":"https://github.com/nicoschoenmaker","followers_url":"https://api.github.com/users/nicoschoenmaker/followers","following_url":"https://api.github.com/users/nicoschoenmaker/following{/other_user}","gists_url":"https://api.github.com/users/nicoschoenmaker/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoschoenmaker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoschoenmaker/subscriptions","organizations_url":"https://api.github.com/users/nicoschoenmaker/orgs","repos_url":"https://api.github.com/users/nicoschoenmaker/repos","events_url":"https://api.github.com/users/nicoschoenmaker/events{/privacy}","received_events_url":"https://api.github.com/users/nicoschoenmaker/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":750380273,"node_id":"MDU6TGFiZWw3NTAzODAyNzM=","url":"https://api.github.com/repos/less/less.js/labels/stale","name":"stale","color":"993f0b","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-11-16T11:11:53Z","updated_at":"2017-11-15T08:10:21Z","closed_at":"2017-11-15T08:10:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Using the --source-map-map-inline option produces an empty file.\r\n\r\nSteps to reproduce:\r\n- Go to an empty directory\r\n- Make sure we have node + less\r\n```bash\r\nwget https://nodejs.org/dist/v7.1.0/node-v7.1.0-linux-x64.tar.xz\r\ntar -xf node-v7.1.0-linux-x64.tar.xz\r\n./node-v7.1.0-linux-x64/bin/node ./node-v7.1.0-linux-x64/bin/npm install less\r\necho \".red { color: blue; }\" > foo.less\r\n```\r\n- Process the just created `foo.less` file:\r\n```\r\n./node-v7.1.0-linux-x64/bin/node node_modules/.bin/lessc foo.less --source-map-map-inline\r\n```\r\n\r\nExpected\r\n```\r\n.red {\r\n  color: blue;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvby5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQU8sV0FBQSIsImZpbGUiOiJmb28uY3NzIn0= */\r\n```\r\nActual result: only a newline\r\n\r\nSidenotes:\r\n- Works fine without the --source-map-map-inline parameter\r\n- This was already reported in #2961, but closed since the author found a workaround. Which is to specify the destination:\r\n```\r\n./node-v7.1.0-linux-x64/bin/node node_modules/.bin/lessc foo.less --source-map-map-inline foo.css\r\n```\r\n\r\nWhy is it a bug? In the docs the destination (foo.css) is specified as an optional argument. For my use case it would be a lot faster if I did not have to create a temporary file.","closed_by":{"login":"nicoschoenmaker","id":1469323,"node_id":"MDQ6VXNlcjE0NjkzMjM=","avatar_url":"https://avatars.githubusercontent.com/u/1469323?v=4","gravatar_id":"","url":"https://api.github.com/users/nicoschoenmaker","html_url":"https://github.com/nicoschoenmaker","followers_url":"https://api.github.com/users/nicoschoenmaker/followers","following_url":"https://api.github.com/users/nicoschoenmaker/following{/other_user}","gists_url":"https://api.github.com/users/nicoschoenmaker/gists{/gist_id}","starred_url":"https://api.github.com/users/nicoschoenmaker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicoschoenmaker/subscriptions","organizations_url":"https://api.github.com/users/nicoschoenmaker/orgs","repos_url":"https://api.github.com/users/nicoschoenmaker/repos","events_url":"https://api.github.com/users/nicoschoenmaker/events{/privacy}","received_events_url":"https://api.github.com/users/nicoschoenmaker/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/2987/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/2987/timeline","performed_via_github_app":null,"state_reason":"completed"}