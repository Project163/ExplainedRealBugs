{"url":"https://api.github.com/repos/less/less.js/issues/1036","repository_url":"https://api.github.com/repos/less/less.js","labels_url":"https://api.github.com/repos/less/less.js/issues/1036/labels{/name}","comments_url":"https://api.github.com/repos/less/less.js/issues/1036/comments","events_url":"https://api.github.com/repos/less/less.js/issues/1036/events","html_url":"https://github.com/less/less.js/issues/1036","id":8294143,"node_id":"MDU6SXNzdWU4Mjk0MTQz","number":1036,"title":"Named arguments mixins matching is not consistent with mixin arguments resolver ","user":{"login":"SomMeri","id":618879,"node_id":"MDQ6VXNlcjYxODg3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/618879?v=4","gravatar_id":"","url":"https://api.github.com/users/SomMeri","html_url":"https://github.com/SomMeri","followers_url":"https://api.github.com/users/SomMeri/followers","following_url":"https://api.github.com/users/SomMeri/following{/other_user}","gists_url":"https://api.github.com/users/SomMeri/gists{/gist_id}","starred_url":"https://api.github.com/users/SomMeri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomMeri/subscriptions","organizations_url":"https://api.github.com/users/SomMeri/orgs","repos_url":"https://api.github.com/users/SomMeri/repos","events_url":"https://api.github.com/users/SomMeri/events{/privacy}","received_events_url":"https://api.github.com/users/SomMeri/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2103265,"node_id":"MDU6TGFiZWwyMTAzMjY1","url":"https://api.github.com/repos/less/less.js/labels/bug","name":"bug","color":"e10c02","default":true,"description":null},{"id":9603654,"node_id":"MDU6TGFiZWw5NjAzNjU0","url":"https://api.github.com/repos/less/less.js/labels/medium%20priority","name":"medium priority","color":"0000E0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/less/less.js/milestones/3","html_url":"https://github.com/less/less.js/milestone/3","labels_url":"https://api.github.com/repos/less/less.js/milestones/3/labels","id":225073,"node_id":"MDk6TWlsZXN0b25lMjI1MDcz","number":3,"title":"1.3.2","description":"","creator":{"login":"lukeapage","id":309321,"node_id":"MDQ6VXNlcjMwOTMyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/309321?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeapage","html_url":"https://github.com/lukeapage","followers_url":"https://api.github.com/users/lukeapage/followers","following_url":"https://api.github.com/users/lukeapage/following{/other_user}","gists_url":"https://api.github.com/users/lukeapage/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeapage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeapage/subscriptions","organizations_url":"https://api.github.com/users/lukeapage/orgs","repos_url":"https://api.github.com/users/lukeapage/repos","events_url":"https://api.github.com/users/lukeapage/events{/privacy}","received_events_url":"https://api.github.com/users/lukeapage/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"closed","created_at":"2012-12-06T13:14:14Z","updated_at":"2012-12-28T21:44:57Z","due_on":null,"closed_at":"2012-12-28T21:29:39Z"},"comments":7,"created_at":"2012-11-12T16:24:09Z","updated_at":"2012-12-28T21:40:46Z","closed_at":"2012-11-27T16:00:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was trying to learn how named arguments work and found it a bit odd. The issue is about a case when named argument conflicts with unnamed argument. This is a \"nice to have\" kind of issue, not the \"big important one\".\n\nConflict happens when the named parameter and unnamed parameter potentially reference the same mixin parameter. For example, the parameter `@a` in following call _may_ take either `11` or `a` value:\n\n```\n.mixin(@a:defA, @b:defB, @c:defC) {\n  three: @a, @b, @c;\n}\n\n.mixin(@a:defA, @b:defB, @c:defC, @d:defD) {\n  four: @a, @b, @c, @d;\n}\n\n#named-conflict {\n  .mixin(11, 12, 13, @a:a);\n  .mixin(@a:a, 21, 22, 23);\n}\n```\n\nIt seems like mixins matching and mixins arguments resolver are using two different algorithms:\n- Arguments resolver: unnamed argument supply value for the variable at its absolute position. If named parameter references the same argument as some unnamed one, the first one wins. \n- Mixins matching: looks for exact match between expected number of parameters and declared number of parameters. It acts as if it would be impossible to reference the same parameter by both named and unnamed arguments.\n\nFor example, both mixin call in the above snippet will match second mixin definition, the one with four arguments. However, the last and first parameters in both cases reference the same argument `@a` - first one will win. The argument `@d` will remain undefined:\n\n```\n#named-conflict {\n  four: 11, 12, 13, defD;\n  four: a, 12, 13, defD;\n}\n```\n\nI think that mixin matcher and argument resolver should use the same approach. Both approaches are fine and so would be \"this is incorrect mixin call anyway - throw error\" approach. \n\nIt seems to me that the language should either (whatever is easier to implement):\n- throw an error\n- match three parameters version with the result:\n  \n  ```\n  #named-conflict {\n    three: 11, 12, 13;\n    three: a, 12, 13;\n  }\n  ```\n- resolve arguments in a non-conflicting way:\n  \n  ```\n  #named-conflict {\n    four: a, 11, 12, 13;\n  }\n  ```\n\nAnyway, I would like to know whether this is a bug or whether this works as intended. If it is a bug, which behavior is the correct one? \n","closed_by":{"login":"lukeapage","id":309321,"node_id":"MDQ6VXNlcjMwOTMyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/309321?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeapage","html_url":"https://github.com/lukeapage","followers_url":"https://api.github.com/users/lukeapage/followers","following_url":"https://api.github.com/users/lukeapage/following{/other_user}","gists_url":"https://api.github.com/users/lukeapage/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeapage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeapage/subscriptions","organizations_url":"https://api.github.com/users/lukeapage/orgs","repos_url":"https://api.github.com/users/lukeapage/repos","events_url":"https://api.github.com/users/lukeapage/events{/privacy}","received_events_url":"https://api.github.com/users/lukeapage/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/less/less.js/issues/1036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/less/less.js/issues/1036/timeline","performed_via_github_app":null,"state_reason":"completed"}