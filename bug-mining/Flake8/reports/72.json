{"url":"https://api.github.com/repos/PyCQA/flake8/issues/259","repository_url":"https://api.github.com/repos/PyCQA/flake8","labels_url":"https://api.github.com/repos/PyCQA/flake8/issues/259/labels{/name}","comments_url":"https://api.github.com/repos/PyCQA/flake8/issues/259/comments","events_url":"https://api.github.com/repos/PyCQA/flake8/issues/259/events","html_url":"https://github.com/PyCQA/flake8/issues/259","id":849565263,"node_id":"MDU6SXNzdWU4NDk1NjUyNjM=","number":259,"title":"be more restrictive about where `# flake8: noqa` comments are respected","user":{"login":"asottile","id":1810591,"node_id":"MDQ6VXNlcjE4MTA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1810591?v=4","gravatar_id":"","url":"https://api.github.com/users/asottile","html_url":"https://github.com/asottile","followers_url":"https://api.github.com/users/asottile/followers","following_url":"https://api.github.com/users/asottile/following{/other_user}","gists_url":"https://api.github.com/users/asottile/gists{/gist_id}","starred_url":"https://api.github.com/users/asottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asottile/subscriptions","organizations_url":"https://api.github.com/users/asottile/orgs","repos_url":"https://api.github.com/users/asottile/repos","events_url":"https://api.github.com/users/asottile/events{/privacy}","received_events_url":"https://api.github.com/users/asottile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-03T03:12:19Z","updated_at":"2021-04-03T03:12:30Z","closed_at":"2021-04-03T03:12:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In GitLab by @carljm on Sep 20, 2018, 17:02\n\n*Please describe how you installed Flake8*\n\n`pip install flake8` in a virtualenv\n\n*Please provide the exact, unmodified output of `flake8 --bug-report`*\n\n```\n{\n  \"dependencies\": [\n    {\n      \"dependency\": \"setuptools\",\n      \"version\": \"40.4.1\"\n    }\n  ],\n  \"platform\": {\n    \"python_implementation\": \"CPython\",\n    \"python_version\": \"3.6.5\",\n    \"system\": \"Darwin\"\n  },\n  \"plugins\": [\n    {\n      \"is_local\": false,\n      \"plugin\": \"mccabe\",\n      \"version\": \"0.6.1\"\n    },\n    {\n      \"is_local\": false,\n      \"plugin\": \"pycodestyle\",\n      \"version\": \"2.3.1\"\n    },\n    {\n      \"is_local\": false,\n      \"plugin\": \"pyflakes\",\n      \"version\": \"1.6.0\"\n    }\n  ],\n  \"version\": \"3.5.0\"\n}\n```\n\n*Please describe the problem or feature*\n\nFlake8 will accept a `# flake8: noqa` comment _anywhere in the file_ and interpret it to mean \"silence all lints in this file.\" But we've observed in practice that sometimes developers get confused and write `# flake8: noqa` accidentally where they meant `# noqa` for just a single line, and accidentally silence lints for the whole file. (I just removed seven separate instances of this from our codebase).\n\nIs there really any reason to support `# flake8: noqa` on arbitrary lines? Since it impacts the entire file, shouldn't it be required to appear on a line by itself, maybe even before any other non-comment, non-empty line in the file? It's pretty confusing to have a 4000-line file where line 3176 contains `# flake8: noqa`, and no lint warnings appear anywhere in the file.\n\nToy code example where all lints in the file are silenced, even though any casual observer would assume only one line should be silenced:\n\n```\nx = 1\n\ny = 2 # flake8: noqa\n\nprint(z)\n```","closed_by":{"login":"asottile","id":1810591,"node_id":"MDQ6VXNlcjE4MTA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1810591?v=4","gravatar_id":"","url":"https://api.github.com/users/asottile","html_url":"https://github.com/asottile","followers_url":"https://api.github.com/users/asottile/followers","following_url":"https://api.github.com/users/asottile/following{/other_user}","gists_url":"https://api.github.com/users/asottile/gists{/gist_id}","starred_url":"https://api.github.com/users/asottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asottile/subscriptions","organizations_url":"https://api.github.com/users/asottile/orgs","repos_url":"https://api.github.com/users/asottile/repos","events_url":"https://api.github.com/users/asottile/events{/privacy}","received_events_url":"https://api.github.com/users/asottile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PyCQA/flake8/issues/259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PyCQA/flake8/issues/259/timeline","performed_via_github_app":null,"state_reason":"completed"}