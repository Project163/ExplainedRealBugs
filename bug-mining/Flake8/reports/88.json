{"url":"https://api.github.com/repos/PyCQA/flake8/issues/354","repository_url":"https://api.github.com/repos/PyCQA/flake8","labels_url":"https://api.github.com/repos/PyCQA/flake8/issues/354/labels{/name}","comments_url":"https://api.github.com/repos/PyCQA/flake8/issues/354/comments","events_url":"https://api.github.com/repos/PyCQA/flake8/issues/354/events","html_url":"https://github.com/PyCQA/flake8/issues/354","id":849570411,"node_id":"MDU6SXNzdWU4NDk1NzA0MTE=","number":354,"title":"Change in configuration detection behaviour (on master versus 3.7.9)","user":{"login":"asottile","id":1810591,"node_id":"MDQ6VXNlcjE4MTA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1810591?v=4","gravatar_id":"","url":"https://api.github.com/users/asottile","html_url":"https://github.com/asottile","followers_url":"https://api.github.com/users/asottile/followers","following_url":"https://api.github.com/users/asottile/following{/other_user}","gists_url":"https://api.github.com/users/asottile/gists{/gist_id}","starred_url":"https://api.github.com/users/asottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asottile/subscriptions","organizations_url":"https://api.github.com/users/asottile/orgs","repos_url":"https://api.github.com/users/asottile/repos","events_url":"https://api.github.com/users/asottile/events{/privacy}","received_events_url":"https://api.github.com/users/asottile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-04-03T03:53:20Z","updated_at":"2021-04-03T03:53:43Z","closed_at":"2021-04-03T03:53:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In GitLab by @PeterJCLaw on Apr 12, 2020, 05:42\n\nThe detection logic for configuration files (specifically I tested using `setup.cfg`) has changed between the `3.7.9` tag and `master` (1be8707dc71dbaed8e0b2cb72bfe83a604183a92 at the time of writing).\nI can see from the history that there has been some work on the configuration system this cycle, so apologies if this is expected, however I couldn't find any work towards release notes for the next release, so wanted to be sure that this was something that was known about (whether or not it turns out to be expected).\n\nThe change I'm observing is around the case where `flake8` is run from a directory which is not a parent of the source files. In such cases, `flake8` previously found a `setup.cfg` within an ancestor directory of the source files but no longer does.\n\nDemo source:\n```\n$ cd /tmp/flake-test/ && tree\n.\n├── setup.cfg\n└── src\n    └── __init__.py\n\n1 directory, 2 files\n\n$ cat setup.cfg \n[flake8]\nmax_line_length = 20\n\n$ cat src/__init__.py\ndef exceeds_the_short_line_length_but_not_the_default_length():\n    pass\n```\n\nSteps:\n```\n# In a virtualenv, in my clone of `flake8`\n\n$ git checkout 3.7.9 && pip install -e .\n<snip>\n$ flake8 /tmp/flake-test/\n/tmp/flake-test/src/__init__.py:1:21: E501 line too long (63 > 20 characters)\n\n$ cd .. && flake8 /tmp/flake-test/\n/tmp/flake-test/src/__init__.py:1:21: E501 line too long (63 > 20 characters)\n\n$ cd flake8 && git checkout master && pip install -e .\n<snip>\n$ flake8 /tmp/flake-test/\n\n$ cd .. && flake8 /tmp/flake-test/\n\n$ cd /tmp/flake-test/ && flake8\n./src/__init__.py:1:21: E501 line too long (63 > 20 characters)\n```","closed_by":{"login":"asottile","id":1810591,"node_id":"MDQ6VXNlcjE4MTA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1810591?v=4","gravatar_id":"","url":"https://api.github.com/users/asottile","html_url":"https://github.com/asottile","followers_url":"https://api.github.com/users/asottile/followers","following_url":"https://api.github.com/users/asottile/following{/other_user}","gists_url":"https://api.github.com/users/asottile/gists{/gist_id}","starred_url":"https://api.github.com/users/asottile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asottile/subscriptions","organizations_url":"https://api.github.com/users/asottile/orgs","repos_url":"https://api.github.com/users/asottile/repos","events_url":"https://api.github.com/users/asottile/events{/privacy}","received_events_url":"https://api.github.com/users/asottile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/PyCQA/flake8/issues/354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PyCQA/flake8/issues/354/timeline","performed_via_github_app":null,"state_reason":"completed"}