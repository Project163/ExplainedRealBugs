{"url":"https://api.github.com/repos/gulpjs/gulp/issues/746","repository_url":"https://api.github.com/repos/gulpjs/gulp","labels_url":"https://api.github.com/repos/gulpjs/gulp/issues/746/labels{/name}","comments_url":"https://api.github.com/repos/gulpjs/gulp/issues/746/comments","events_url":"https://api.github.com/repos/gulpjs/gulp/issues/746/events","html_url":"https://github.com/gulpjs/gulp/issues/746","id":46938204,"node_id":"MDU6SXNzdWU0NjkzODIwNA==","number":746,"title":"Watchify","user":{"login":"callumacrae","id":472830,"node_id":"MDQ6VXNlcjQ3MjgzMA==","avatar_url":"https://avatars.githubusercontent.com/u/472830?v=4","gravatar_id":"","url":"https://api.github.com/users/callumacrae","html_url":"https://github.com/callumacrae","followers_url":"https://api.github.com/users/callumacrae/followers","following_url":"https://api.github.com/users/callumacrae/following{/other_user}","gists_url":"https://api.github.com/users/callumacrae/gists{/gist_id}","starred_url":"https://api.github.com/users/callumacrae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/callumacrae/subscriptions","organizations_url":"https://api.github.com/users/callumacrae/orgs","repos_url":"https://api.github.com/users/callumacrae/repos","events_url":"https://api.github.com/users/callumacrae/events{/privacy}","received_events_url":"https://api.github.com/users/callumacrae/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-10-27T18:00:43Z","updated_at":"2014-11-04T08:48:39Z","closed_at":"2014-11-04T08:48:39Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using the [browserify guide in this repo](https://github.com/gulpjs/gulp/blob/master/docs/recipes/fast-browserify-builds-with-watchify.md).\n\nHere's watchify working fine by itself:\n\n```\n‚ùØ watchify assets/js/monkey.js -o test.js -v\n8439 bytes written to test.js (0.02 seconds)\n8417 bytes written to test.js (0.01 seconds)\n8420 bytes written to test.js (0.02 seconds)\n8417 bytes written to test.js (0.01 seconds)\n```\n\nAnd here's my attempted gulp task:\n\n```\ngulp.task('js', function () {\n  var bundler = watchify(browserify('assets/js/monkey.js', watchify.args));\n\n  bundler.on('update', rebundle);\n\n  function rebundle() {\n    return bundler.bundle()\n      .on('error', console.log.bind(console, 'Browserify Error'))\n      .pipe(source('bundle.js'))\n      .pipe(gulp.dest('./assets/build'));\n  }\n\n  return rebundle();\n});\n```\n\nHowever, when I run it (and it runs from the same directory as I ran the watchify command from before), I get an error:\n\n```\nBrowserify Error { [Error: Cannot find module 'assets/js/monkey.js' from '/Users/callumacrae/Sites/lostmyname/monkey']\n  stream:\n   { _readableState:\n      { highWaterMark: 16,\n        buffer: [],\n        length: 0,\n        pipes: [Object],\n        pipesCount: 1,\n        flowing: true,\n        ended: false,\n        endEmitted: false,\n        reading: true,\n        sync: false,\n        needReadable: true,\n        emittedReadable: false,\n        readableListening: false,\n        objectMode: true,\n        defaultEncoding: 'utf8',\n        ranOut: false,\n        awaitDrain: 0,\n        readingMore: false,\n        decoder: null,\n        encoding: null,\n        resumeScheduled: false },\n     readable: true,\n     domain: null,\n     _events:\n      { end: [Object],\n        error: [Object],\n        data: [Function: ondata],\n        _mutate: [Object] },\n     _maxListeners: 10,\n     _writableState:\n      { highWaterMark: 16,\n        objectMode: true,\n        needDrain: false,\n        ending: true,\n        ended: true,\n        finished: true,\n        decodeStrings: true,\n        defaultEncoding: 'utf8',\n        length: 0,\n        writing: false,\n        corked: 0,\n        sync: false,\n        bufferProcessing: false,\n        onwrite: [Function],\n        writecb: null,\n        writelen: 0,\n        buffer: [],\n        pendingcb: 0,\n        prefinished: true,\n        errorEmitted: false },\n     writable: true,\n     allowHalfOpen: true,\n     _options: { objectMode: true },\n     _wrapOptions: { objectMode: true },\n     _streams: [ [Object] ],\n     length: 1,\n     label: 'deps' } }\n```\n\nAny ideas what could be causing this?\n","closed_by":{"login":"sindresorhus","id":170270,"node_id":"MDQ6VXNlcjE3MDI3MA==","avatar_url":"https://avatars.githubusercontent.com/u/170270?v=4","gravatar_id":"","url":"https://api.github.com/users/sindresorhus","html_url":"https://github.com/sindresorhus","followers_url":"https://api.github.com/users/sindresorhus/followers","following_url":"https://api.github.com/users/sindresorhus/following{/other_user}","gists_url":"https://api.github.com/users/sindresorhus/gists{/gist_id}","starred_url":"https://api.github.com/users/sindresorhus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sindresorhus/subscriptions","organizations_url":"https://api.github.com/users/sindresorhus/orgs","repos_url":"https://api.github.com/users/sindresorhus/repos","events_url":"https://api.github.com/users/sindresorhus/events{/privacy}","received_events_url":"https://api.github.com/users/sindresorhus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gulpjs/gulp/issues/746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gulpjs/gulp/issues/746/timeline","performed_via_github_app":null,"state_reason":"completed"}