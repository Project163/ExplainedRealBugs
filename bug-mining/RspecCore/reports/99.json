{"url":"https://api.github.com/repos/rspec/rspec-core/issues/301","repository_url":"https://api.github.com/repos/rspec/rspec-core","labels_url":"https://api.github.com/repos/rspec/rspec-core/issues/301/labels{/name}","comments_url":"https://api.github.com/repos/rspec/rspec-core/issues/301/comments","events_url":"https://api.github.com/repos/rspec/rspec-core/issues/301/events","html_url":"https://github.com/rspec/rspec-core/issues/301","id":579568,"node_id":"MDU6SXNzdWU1Nzk1Njg=","number":301,"title":"Rspec returns an exit status of 0 when an error is raised in the 'before :all' block","user":{"login":"JarrodFolino","id":604043,"node_id":"MDQ6VXNlcjYwNDA0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/604043?v=4","gravatar_id":"","url":"https://api.github.com/users/JarrodFolino","html_url":"https://github.com/JarrodFolino","followers_url":"https://api.github.com/users/JarrodFolino/followers","following_url":"https://api.github.com/users/JarrodFolino/following{/other_user}","gists_url":"https://api.github.com/users/JarrodFolino/gists{/gist_id}","starred_url":"https://api.github.com/users/JarrodFolino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JarrodFolino/subscriptions","organizations_url":"https://api.github.com/users/JarrodFolino/orgs","repos_url":"https://api.github.com/users/JarrodFolino/repos","events_url":"https://api.github.com/users/JarrodFolino/events{/privacy}","received_events_url":"https://api.github.com/users/JarrodFolino/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-02-07T04:10:38Z","updated_at":"2011-02-14T05:02:06Z","closed_at":"2011-02-14T05:02:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following code raises an error in the 'before :all' block. When this is run it returns an exit status of zero. This causes continuous integration systems to ignore the test failures.\n\nGiven the example(s) fail, wouldn't it be more logical to return a non-zero exist-status? A similar issue has already been raised and fixed in Cucumber by 'Tim Cuthbertson'.\n\n<exit_status_spec.rb>\ndescribe 'Rpec exit status' do\n  describe 'when an error is raised in before :all block' do\n    before :all do\n      raise\n    end\n\n```\nit 'should return non-zero value' do\n  true\nend\n```\n\n  end\nend\n\n<exit_status_spec.rb output>\nF\n\nFailures:\n\n  1) Rpec exit status when an error is raised in before :all block should return non-zero value\n     Failure/Error: raise\n     RuntimeError:\n     # ./src/integration-test/ruby/scripts/exit_status_spec.rb:4\n\nFinished in 0.0002 seconds\n1 example, 1 failure\n\n<exit_status_spec.rb exit status>\n0\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rspec/rspec-core/issues/301/timeline","performed_via_github_app":null,"state_reason":"completed"}