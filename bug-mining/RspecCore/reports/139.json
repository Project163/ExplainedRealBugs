{"url":"https://api.github.com/repos/rspec/rspec-core/issues/475","repository_url":"https://api.github.com/repos/rspec/rspec-core","labels_url":"https://api.github.com/repos/rspec/rspec-core/issues/475/labels{/name}","comments_url":"https://api.github.com/repos/rspec/rspec-core/issues/475/comments","events_url":"https://api.github.com/repos/rspec/rspec-core/issues/475/events","html_url":"https://github.com/rspec/rspec-core/issues/475","id":1927913,"node_id":"MDU6SXNzdWUxOTI3OTEz","number":475,"title":"Spec run duration is wrong when using Spork","user":{"login":"rymai","id":1168,"node_id":"MDQ6VXNlcjExNjg=","avatar_url":"https://avatars.githubusercontent.com/u/1168?v=4","gravatar_id":"","url":"https://api.github.com/users/rymai","html_url":"https://github.com/rymai","followers_url":"https://api.github.com/users/rymai/followers","following_url":"https://api.github.com/users/rymai/following{/other_user}","gists_url":"https://api.github.com/users/rymai/gists{/gist_id}","starred_url":"https://api.github.com/users/rymai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymai/subscriptions","organizations_url":"https://api.github.com/users/rymai/orgs","repos_url":"https://api.github.com/users/rymai/repos","events_url":"https://api.github.com/users/rymai/events{/privacy}","received_events_url":"https://api.github.com/users/rymai/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2011-10-17T12:31:36Z","updated_at":"2011-10-30T14:43:45Z","closed_at":"2011-10-30T14:43:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi!\n\nThe improvement that \"provide more accurate run time by registering start time before code is loaded\" is great, but [this (commit)](https://github.com/rspec/rspec-core/commit/fd04952586c048beccd6f6a27dc14f9d82230814) cause a problem when Spork is used since the start time is set in the prefork block of Spork and duration will then be calculated from this time so it ends up in always increasing duration time.\n\nMaybe the solution should come from Spork, like setting `$rspec_start_time ||= Time.now` at the top of the `Spork.each_run` block (as the temporary fix you gave in [this guard-rspec issue](https://github.com/guard/guard-rspec/issues/61)?\n\nThanks in advance!\n","closed_by":{"login":"dchelimsky","id":1075,"node_id":"MDQ6VXNlcjEwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1075?v=4","gravatar_id":"","url":"https://api.github.com/users/dchelimsky","html_url":"https://github.com/dchelimsky","followers_url":"https://api.github.com/users/dchelimsky/followers","following_url":"https://api.github.com/users/dchelimsky/following{/other_user}","gists_url":"https://api.github.com/users/dchelimsky/gists{/gist_id}","starred_url":"https://api.github.com/users/dchelimsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchelimsky/subscriptions","organizations_url":"https://api.github.com/users/dchelimsky/orgs","repos_url":"https://api.github.com/users/dchelimsky/repos","events_url":"https://api.github.com/users/dchelimsky/events{/privacy}","received_events_url":"https://api.github.com/users/dchelimsky/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rspec/rspec-core/issues/475/timeline","performed_via_github_app":null,"state_reason":"completed"}