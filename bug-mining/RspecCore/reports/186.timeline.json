[{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/722350","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-722350","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":722350,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjM1MA==","user":{"login":"dnurzynski","id":209485,"node_id":"MDQ6VXNlcjIwOTQ4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/209485?v=4","gravatar_id":"","url":"https://api.github.com/users/dnurzynski","html_url":"https://github.com/dnurzynski","followers_url":"https://api.github.com/users/dnurzynski/followers","following_url":"https://api.github.com/users/dnurzynski/following{/other_user}","gists_url":"https://api.github.com/users/dnurzynski/gists{/gist_id}","starred_url":"https://api.github.com/users/dnurzynski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnurzynski/subscriptions","organizations_url":"https://api.github.com/users/dnurzynski/orgs","repos_url":"https://api.github.com/users/dnurzynski/repos","events_url":"https://api.github.com/users/dnurzynski/events{/privacy}","received_events_url":"https://api.github.com/users/dnurzynski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-01-30T11:54:34Z","updated_at":"2011-01-30T11:54:34Z","body":"I was thinking about the same feature but in subject method... and what do you think about extra argument for block, something like:\n\n<pre><code>\nlet(:post_attribute) {|parent|  parent.merge( author: \"Ernest Holbrecht\"  }  \n# or in subject \ndescribe Object do\n  subject { Factory :object }\n  ...\n  describe \"#attributes\" do\n    subject {|parent| parent.attributes }\n    ...\n</code></pre>\n\nYou could avoid method name problems this way ;)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/722350/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dnurzynski","id":209485,"node_id":"MDQ6VXNlcjIwOTQ4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/209485?v=4","gravatar_id":"","url":"https://api.github.com/users/dnurzynski","html_url":"https://github.com/dnurzynski","followers_url":"https://api.github.com/users/dnurzynski/followers","following_url":"https://api.github.com/users/dnurzynski/following{/other_user}","gists_url":"https://api.github.com/users/dnurzynski/gists{/gist_id}","starred_url":"https://api.github.com/users/dnurzynski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnurzynski/subscriptions","organizations_url":"https://api.github.com/users/dnurzynski/orgs","repos_url":"https://api.github.com/users/dnurzynski/repos","events_url":"https://api.github.com/users/dnurzynski/events{/privacy}","received_events_url":"https://api.github.com/users/dnurzynski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/722706","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-722706","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":722706,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjcwNg==","user":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-01-30T16:54:26Z","updated_at":"2011-01-30T16:54:26Z","body":"Yes, I think the subject wants the same thing.  The extra argument idea's clever.  It feels a little noisy, but it might be the safest thing to do.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/722706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/725324","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-725324","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":725324,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTMyNA==","user":{"login":"bmabey","id":1837,"node_id":"MDQ6VXNlcjE4Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1837?v=4","gravatar_id":"","url":"https://api.github.com/users/bmabey","html_url":"https://github.com/bmabey","followers_url":"https://api.github.com/users/bmabey/followers","following_url":"https://api.github.com/users/bmabey/following{/other_user}","gists_url":"https://api.github.com/users/bmabey/gists{/gist_id}","starred_url":"https://api.github.com/users/bmabey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmabey/subscriptions","organizations_url":"https://api.github.com/users/bmabey/orgs","repos_url":"https://api.github.com/users/bmabey/repos","events_url":"https://api.github.com/users/bmabey/events{/privacy}","received_events_url":"https://api.github.com/users/bmabey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-01-31T16:48:22Z","updated_at":"2011-01-31T16:48:22Z","body":"On one hand `super` makes sense because if you were defining these as methods you would expect to use `super` to call the parent example group's method. (Granted, this may not make sense to people new to RSpec.)  \n\nOn the other hand, I would prefer the block parameter as @dnurzynski suggests.  I like being able to name the argument as this could be used to remind the user what the parent actually is, or for the cases where it is obvious a simple one letter variable could be used.\n\nSo.. +1 on the _optional_ block argument.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/725324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bmabey","id":1837,"node_id":"MDQ6VXNlcjE4Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1837?v=4","gravatar_id":"","url":"https://api.github.com/users/bmabey","html_url":"https://github.com/bmabey","followers_url":"https://api.github.com/users/bmabey/followers","following_url":"https://api.github.com/users/bmabey/following{/other_user}","gists_url":"https://api.github.com/users/bmabey/gists{/gist_id}","starred_url":"https://api.github.com/users/bmabey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmabey/subscriptions","organizations_url":"https://api.github.com/users/bmabey/orgs","repos_url":"https://api.github.com/users/bmabey/repos","events_url":"https://api.github.com/users/bmabey/events{/privacy}","received_events_url":"https://api.github.com/users/bmabey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/727848","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-727848","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":727848,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzg0OA==","user":{"login":"txus","id":83234,"node_id":"MDQ6VXNlcjgzMjM0","avatar_url":"https://avatars.githubusercontent.com/u/83234?v=4","gravatar_id":"","url":"https://api.github.com/users/txus","html_url":"https://github.com/txus","followers_url":"https://api.github.com/users/txus/followers","following_url":"https://api.github.com/users/txus/following{/other_user}","gists_url":"https://api.github.com/users/txus/gists{/gist_id}","starred_url":"https://api.github.com/users/txus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txus/subscriptions","organizations_url":"https://api.github.com/users/txus/orgs","repos_url":"https://api.github.com/users/txus/repos","events_url":"https://api.github.com/users/txus/events{/privacy}","received_events_url":"https://api.github.com/users/txus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-01T08:43:36Z","updated_at":"2011-02-01T08:43:36Z","body":"I agree with the optional block parameter.\nIMO it's a pretty unobtrusive way to add functionality, and I also think it would be intuitive and coherent with the current RSpec mindset.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/727848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"txus","id":83234,"node_id":"MDQ6VXNlcjgzMjM0","avatar_url":"https://avatars.githubusercontent.com/u/83234?v=4","gravatar_id":"","url":"https://api.github.com/users/txus","html_url":"https://github.com/txus","followers_url":"https://api.github.com/users/txus/followers","following_url":"https://api.github.com/users/txus/following{/other_user}","gists_url":"https://api.github.com/users/txus/gists{/gist_id}","starred_url":"https://api.github.com/users/txus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txus/subscriptions","organizations_url":"https://api.github.com/users/txus/orgs","repos_url":"https://api.github.com/users/txus/repos","events_url":"https://api.github.com/users/txus/events{/privacy}","received_events_url":"https://api.github.com/users/txus/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730327","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-730327","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":730327,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDMyNw==","user":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-01T22:08:54Z","updated_at":"2011-02-01T22:26:07Z","body":"I'm writing this specifically in response to: http://groups.google.com/group/rspec/browse_thread/thread/3e8b630b61f3e90c?pli=1\n\nI am _not_ in favor of adding the optional block argument. -1.\n\nI find myself using the idiom Peeja described in my specs often. \n\nI've run into that problem of wanting to use \"super\" too, but I feel it breaks the elegance of let(). Here is how I would have written the original:\n\n```\ndescribe Post do\n  subject { Post.new(post_attributes) }\n  let(:post_attributes) { { } }\n\n  its(:description) { should be_empty }\n\n  context \"with a title\" do\n    let(:title) { \"10 things about yak shaving you're doing wrong\" }\n    let(:post_attributes) { { title: title } }\n\n    its(:description) { should == title }\n\n    context \"and an author\" do\n      let(:author) { \"Ernest Holbrecht\" }\n      let(:post_attributes) { { title: title, author: author } }\n\n      its(:description) { should == \"#{title} by #{author}\" }\n    end\n  end\nend\n```\n\nPlease consider: do you really need to extend rspec core, or maybe some better way of organizing your let() makes for cleaner specs?\n\nI've run into more complex needs that the above reorganization does not solve. I've solved those in these two ways:\n\n(1) Factory pattern. \n\n```\nlet(:something_factory) { lambda { |blah| foo.make } }\n```\n\n(2) Use adjectives\n\n```\ndescribe Comment do\n  subject { comment }\n  let(:resource) { comment }\n  let(:comment) { Comment.make }\n\n  context 'with moderated comment' do\n    let(:resource) { moderated_comment }\n    let(:moderated_comment) { comment.tap(&:moderate!) }\n\n    it 'should blah blah blah'\n  end\nend\n```\n\nI find myself using (2) more and more often. Attaching adjectives to names for let() also makes the tests clearer. I've found that, taking a page from inherited_resources gem, wrapping them in generic names like \"resource\" and \"collection\" lets me change up which resource I am using. It also makes it easier to factor out into mini DSL extensions I drop into spec/support, like so:\n\n```\ndescribe MyWebService::Application do\n  include SpecHelpers::Rack\n  include SpecHelpers::Application\n  let(:http_headers) { mobile_subdomain_http_headers }\n\n  context '/challenges' do\n    let(:resource) { challenge }\n\n    request :get, '/challenges/1.json' do\n      let(:request_url) { \"/challenges/#{resource.id}.json\" }\n      expects_status(200)\n      expects_content_type('application/json', 'utf-8')\n    end\n  end\nend\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730913","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-730913","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":730913,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDkxMw==","user":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-02T01:20:00Z","updated_at":"2011-02-02T01:20:00Z","body":"@hosh: I think you're right: those are all good strategies.  But I think there's still a use case for inheriting from earlier `let`s and `subject`s.  Consider the `post_params` in this controller spec:\n\n```\ndescribe PostsController do\n  describe \"#create\" do\n    subject { post :create, post: post_params; response }\n\n    context \"for valid params\" do\n      let(:post_params) do\n        {\n          title: \"RSpec community debates feature\",\n          author: \"Michael Arrington\"\n          # Potentially many more...\n        }\n      end\n\n      it { should assign(:post).as(an_instance_of(Post)) }\n\n      context \"with return_to set\" do\n        let(:return_to_url) { \"/kansas\" }\n        let(:post_params) { super.merge(return_to: return_to_url) }\n        it { should redirect_to(return_to_url) }\n      end\n    end\n  end\nend\n```\n\nOr consider the cascading subjects in this view spec:\n\n```\ndescribe \"posts/_post.html\" do\n  let(:post) { Factory.create(:post) }\n\n  subject do\n    render \"posts/post\", post: post\n    Nokogiri::HTML(rendered)\n  end\n\n  describe \"div.post\" do\n    subject { super.at_css(\"##{dom_id(post)}\") }\n\n    it { should be }\n\n    describe \"title\" do\n      subject { super.at_css(\"h2.title\") }\n\n      it { should be }\n      its(:text) { should include(post.title) }\n    end\n\n    describe \"author\" do\n      subject { super.at_css(\"span.author\") }\n\n      it { should be }\n      its(:text) { should include(post.author) }\n    end\n  end\nend\n```\n\nI think that's pretty readable and elegant.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730999","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-730999","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":730999,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDk5OQ==","user":{"login":"zdennis","id":967,"node_id":"MDQ6VXNlcjk2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/967?v=4","gravatar_id":"","url":"https://api.github.com/users/zdennis","html_url":"https://github.com/zdennis","followers_url":"https://api.github.com/users/zdennis/followers","following_url":"https://api.github.com/users/zdennis/following{/other_user}","gists_url":"https://api.github.com/users/zdennis/gists{/gist_id}","starred_url":"https://api.github.com/users/zdennis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zdennis/subscriptions","organizations_url":"https://api.github.com/users/zdennis/orgs","repos_url":"https://api.github.com/users/zdennis/repos","events_url":"https://api.github.com/users/zdennis/events{/privacy}","received_events_url":"https://api.github.com/users/zdennis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-02T01:57:08Z","updated_at":"2011-02-02T01:57:08Z","body":"I find _super_ is more intuitive than the optional block parameter. I think the block parameter should be reserved for another feature request (allowing let methods take arguments). For me, seeing a #let blocks take a parameter makes me think I can pass arguments along in my examples (which would be helpful in certain situations), whereas super kind of already infers that you're inheriting something else (a block parameter does no such thing in typical usage).\n\nWhen first reading this issue I cringed at the thought of even adding +super+, but I agree that this feature can improve examples in nested contexts/describes without degrading the ability for a developer to gracefully use rspec. \n\n+1 to @Peeja's suggestion of super. \n-1 to the block parameter.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/730999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zdennis","id":967,"node_id":"MDQ6VXNlcjk2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/967?v=4","gravatar_id":"","url":"https://api.github.com/users/zdennis","html_url":"https://github.com/zdennis","followers_url":"https://api.github.com/users/zdennis/followers","following_url":"https://api.github.com/users/zdennis/following{/other_user}","gists_url":"https://api.github.com/users/zdennis/gists{/gist_id}","starred_url":"https://api.github.com/users/zdennis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zdennis/subscriptions","organizations_url":"https://api.github.com/users/zdennis/orgs","repos_url":"https://api.github.com/users/zdennis/repos","events_url":"https://api.github.com/users/zdennis/events{/privacy}","received_events_url":"https://api.github.com/users/zdennis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/731046","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-731046","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":731046,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTA0Ng==","user":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-02T02:20:09Z","updated_at":"2011-02-02T02:20:09Z","body":"By the way, I'm being a bit misleading when I use `super` in the above examples.  As I laid out in the original post, it would have to be either `super()` or `something_else` that we decide.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/731046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/731146","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-731146","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":731146,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE0Ng==","user":{"login":"dchelimsky","id":1075,"node_id":"MDQ6VXNlcjEwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1075?v=4","gravatar_id":"","url":"https://api.github.com/users/dchelimsky","html_url":"https://github.com/dchelimsky","followers_url":"https://api.github.com/users/dchelimsky/followers","following_url":"https://api.github.com/users/dchelimsky/following{/other_user}","gists_url":"https://api.github.com/users/dchelimsky/gists{/gist_id}","starred_url":"https://api.github.com/users/dchelimsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchelimsky/subscriptions","organizations_url":"https://api.github.com/users/dchelimsky/orgs","repos_url":"https://api.github.com/users/dchelimsky/repos","events_url":"https://api.github.com/users/dchelimsky/events{/privacy}","received_events_url":"https://api.github.com/users/dchelimsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-02T03:23:44Z","updated_at":"2011-02-02T03:23:44Z","body":"I agree that the block param should be reserved for parameterization of methods defined using `let`. That makes much more sense to me than having it represent the `super` concept.\n\nNot sold on the feature at all yet, but I'm still listening :)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/731146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dchelimsky","id":1075,"node_id":"MDQ6VXNlcjEwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1075?v=4","gravatar_id":"","url":"https://api.github.com/users/dchelimsky","html_url":"https://github.com/dchelimsky","followers_url":"https://api.github.com/users/dchelimsky/followers","following_url":"https://api.github.com/users/dchelimsky/following{/other_user}","gists_url":"https://api.github.com/users/dchelimsky/gists{/gist_id}","starred_url":"https://api.github.com/users/dchelimsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchelimsky/subscriptions","organizations_url":"https://api.github.com/users/dchelimsky/orgs","repos_url":"https://api.github.com/users/dchelimsky/repos","events_url":"https://api.github.com/users/dchelimsky/events{/privacy}","received_events_url":"https://api.github.com/users/dchelimsky/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/749960","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-749960","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":749960,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk2MA==","user":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-08T15:27:50Z","updated_at":"2011-02-08T15:27:50Z","body":"@Peeja\n\nI don't use controller specs or html view specs. Instead of controller specs, I test Rack endpoints directly by making calls to MyApplication::Application.call\n\nYour examples require super because it is not structured correctly. For example, in the view test, you should be doing this:\n\n```\ndescribe \"posts/_post.html\" do\n  subject { view }\n  let(:post) { Factory.create(:post) }\n  let(:view) do\n    render \"posts/post\", post: post\n    Nokogiri::HTML(rendered)\n  end\n\n  describe \"div.post\" do\n    subject { div_post }\n    let(:div_post) { view.at_css(\"##{dom_id(post)}\") }\n\n    it { should be }\n\n    describe \"title\" do\n      subject { title }\n      let(:title) { div_post.at_css(\"h2.title') }\n\n      it { should be }\n      its(:text) { should include(post.title) }\n    end\n\n    describe \"author\" do\n      subject { author }\n      let(:author) { div_post.at_css('span.author') }\n\n      it { should be }\n      its(:text) { should include(post.author) }\n    end\n  end\nend\n```\n\nThe super looks shorter. I'm not sure it is clearer.\n\nIn any case, I've been rethinking the whole BDD/rspec thing anyways, based on a more powerful definition of \"agile\" than what you'd find in the Agile Manifesto. Looking at this, the super thing wouldn't really bother me since I don't have to use it. The use of block params to define inner and outer scopes would be much more intrusive -- I'd much rather use those to pass parameters directly (like for factories).\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/749960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/750135","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-750135","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":750135,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDEzNQ==","user":{"login":"zdennis","id":967,"node_id":"MDQ6VXNlcjk2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/967?v=4","gravatar_id":"","url":"https://api.github.com/users/zdennis","html_url":"https://github.com/zdennis","followers_url":"https://api.github.com/users/zdennis/followers","following_url":"https://api.github.com/users/zdennis/following{/other_user}","gists_url":"https://api.github.com/users/zdennis/gists{/gist_id}","starred_url":"https://api.github.com/users/zdennis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zdennis/subscriptions","organizations_url":"https://api.github.com/users/zdennis/orgs","repos_url":"https://api.github.com/users/zdennis/repos","events_url":"https://api.github.com/users/zdennis/events{/privacy}","received_events_url":"https://api.github.com/users/zdennis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-02-08T16:08:31Z","updated_at":"2011-02-08T16:08:31Z","body":"@hosh, I can agree with you on:\n\n<blockquote> The super looks shorter. I'm not sure it is clearer...\nThe use of block params to define inner and outer scopes would be much more intrusive \n</blockquote>\n\n\nBut the rest seems a little presumptuous. Perhaps peeja will be happy you told him the _right_ way to do things.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/750135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zdennis","id":967,"node_id":"MDQ6VXNlcjk2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/967?v=4","gravatar_id":"","url":"https://api.github.com/users/zdennis","html_url":"https://github.com/zdennis","followers_url":"https://api.github.com/users/zdennis/followers","following_url":"https://api.github.com/users/zdennis/following{/other_user}","gists_url":"https://api.github.com/users/zdennis/gists{/gist_id}","starred_url":"https://api.github.com/users/zdennis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zdennis/subscriptions","organizations_url":"https://api.github.com/users/zdennis/orgs","repos_url":"https://api.github.com/users/zdennis/repos","events_url":"https://api.github.com/users/zdennis/events{/privacy}","received_events_url":"https://api.github.com/users/zdennis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1525358,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUyNTM1OA==","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/1525358","actor":{"login":"dnurzynski","id":209485,"node_id":"MDQ6VXNlcjIwOTQ4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/209485?v=4","gravatar_id":"","url":"https://api.github.com/users/dnurzynski","html_url":"https://github.com/dnurzynski","followers_url":"https://api.github.com/users/dnurzynski/followers","following_url":"https://api.github.com/users/dnurzynski/following{/other_user}","gists_url":"https://api.github.com/users/dnurzynski/gists{/gist_id}","starred_url":"https://api.github.com/users/dnurzynski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnurzynski/subscriptions","organizations_url":"https://api.github.com/users/dnurzynski/orgs","repos_url":"https://api.github.com/users/dnurzynski/repos","events_url":"https://api.github.com/users/dnurzynski/events{/privacy}","received_events_url":"https://api.github.com/users/dnurzynski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2011-07-01T01:33:30Z","performed_via_github_app":null},{"id":1525359,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUyNTM1OQ==","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/1525359","actor":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2011-07-01T01:33:30Z","performed_via_github_app":null},{"id":1525360,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUyNTM2MA==","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/1525360","actor":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2011-07-01T01:33:30Z","performed_via_github_app":null},{"id":1525361,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUyNTM2MQ==","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/1525361","actor":{"login":"Peeja","id":2407,"node_id":"MDQ6VXNlcjI0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2407?v=4","gravatar_id":"","url":"https://api.github.com/users/Peeja","html_url":"https://github.com/Peeja","followers_url":"https://api.github.com/users/Peeja/followers","following_url":"https://api.github.com/users/Peeja/following{/other_user}","gists_url":"https://api.github.com/users/Peeja/gists{/gist_id}","starred_url":"https://api.github.com/users/Peeja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peeja/subscriptions","organizations_url":"https://api.github.com/users/Peeja/orgs","repos_url":"https://api.github.com/users/Peeja/repos","events_url":"https://api.github.com/users/Peeja/events{/privacy}","received_events_url":"https://api.github.com/users/Peeja/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2011-07-01T01:33:30Z","performed_via_github_app":null},{"id":1525362,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTUyNTM2Mg==","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/1525362","actor":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2011-07-01T01:33:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/2726512","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-2726512","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":2726512,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MjY1MTI=","user":{"login":"sj26","id":14028,"node_id":"MDQ6VXNlcjE0MDI4","avatar_url":"https://avatars.githubusercontent.com/u/14028?v=4","gravatar_id":"","url":"https://api.github.com/users/sj26","html_url":"https://github.com/sj26","followers_url":"https://api.github.com/users/sj26/followers","following_url":"https://api.github.com/users/sj26/following{/other_user}","gists_url":"https://api.github.com/users/sj26/gists{/gist_id}","starred_url":"https://api.github.com/users/sj26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj26/subscriptions","organizations_url":"https://api.github.com/users/sj26/orgs","repos_url":"https://api.github.com/users/sj26/repos","events_url":"https://api.github.com/users/sj26/events{/privacy}","received_events_url":"https://api.github.com/users/sj26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-11-14T04:08:51Z","updated_at":"2011-11-14T04:09:57Z","body":"I was considering this today also, good to see it's already under discussion.\n\nRecently, I'm doing a lot of:\n\n``` ruby\ndescribe BlahController do\n  describe '#new' do\n    subject { get :new }\n\n    it { should be_successful }\n\n    describe 'the decoded response' do\n      def subject; ActiveSupport::JSON.decode super.body; end\n\n      it { should be_present }\n      it { should include \"blah_thing\" => \"foo\" }\n    end\n  end\nend\n```\n\nThis feels super-crufty and would be greatly improved by `subject { ActiveSupport::JSON.decode super.body }` and would also make a lot more sense.\n\nThis also adheres to the principle of `ExampleGroup`s being classes which inherit from each other, subjects and let blocks could be `define_method`ed in the class and have easy access to `super`. It could also clean up [this business](https://github.com/rspec/rspec-core/blob/master/lib/rspec/core/subject.rb#L159). The tricky bit would be cross-runtime compatibility.\n\nI might try putting together an example branch if I get some spare time.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/2726512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sj26","id":14028,"node_id":"MDQ6VXNlcjE0MDI4","avatar_url":"https://avatars.githubusercontent.com/u/14028?v=4","gravatar_id":"","url":"https://api.github.com/users/sj26","html_url":"https://github.com/sj26","followers_url":"https://api.github.com/users/sj26/followers","following_url":"https://api.github.com/users/sj26/following{/other_user}","gists_url":"https://api.github.com/users/sj26/gists{/gist_id}","starred_url":"https://api.github.com/users/sj26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj26/subscriptions","organizations_url":"https://api.github.com/users/sj26/orgs","repos_url":"https://api.github.com/users/sj26/repos","events_url":"https://api.github.com/users/sj26/events{/privacy}","received_events_url":"https://api.github.com/users/sj26/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5362818,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUzNjI4MTg=","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/5362818","actor":{"login":"sj26","id":14028,"node_id":"MDQ6VXNlcjE0MDI4","avatar_url":"https://avatars.githubusercontent.com/u/14028?v=4","gravatar_id":"","url":"https://api.github.com/users/sj26","html_url":"https://github.com/sj26","followers_url":"https://api.github.com/users/sj26/followers","following_url":"https://api.github.com/users/sj26/following{/other_user}","gists_url":"https://api.github.com/users/sj26/gists{/gist_id}","starred_url":"https://api.github.com/users/sj26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sj26/subscriptions","organizations_url":"https://api.github.com/users/sj26/orgs","repos_url":"https://api.github.com/users/sj26/repos","events_url":"https://api.github.com/users/sj26/events{/privacy}","received_events_url":"https://api.github.com/users/sj26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-11-14T04:08:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/2746653","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-2746653","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":2746653,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDY2NTM=","user":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-11-15T15:57:09Z","updated_at":"2011-11-15T16:01:38Z","body":"@sj26 there are already rspec features to solve that problem:\n\n```\ndescribe BlahController do\n  describe '#new' do\n    subject { raw_body }\n    let(:raw_body) { get :new }\n    let(:response_body) { ActiveSupport::JSON.decode raw_body }\n\n    it { should be_successful }\n\n    describe 'the decoded response' do\n      subject { response_body }\n\n      it { should be_present }\n      it { should include \"blah_thing\" => \"foo\" }\n    end\n  end\nend\n```\n\nYou can also do:\n\n```\n# spec/support/request_helpers.rb\nmodule SpecHelpers\n  module Requests\n     include ActiveSupport::Concern\n\n     included do\n       let(:raw_body) { get :new }\n       let(:response_body) { ActiveSupport::JSON.decode raw_body }\n     end\n  end\nend\n\n# spec/requests/blah_controller_spec.rb\nrequire 'spec_helper'\n\ndescribe BlahController do\n  include SpecHelpers::Requests\n\n  describe '#new' do\n    subject { raw_body }\n\n    it { should be_successful }\n\n    describe 'the decoded response' do\n      subject { response_body }\n\n      it { should be_present }\n      it { should include \"blah_thing\" => \"foo\" }\n    end\n  end\nend\n```\n\nThis way, you can share all the let() definitions across all of your controller specs.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/2746653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hosh","id":966,"node_id":"MDQ6VXNlcjk2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/966?v=4","gravatar_id":"","url":"https://api.github.com/users/hosh","html_url":"https://github.com/hosh","followers_url":"https://api.github.com/users/hosh/followers","following_url":"https://api.github.com/users/hosh/following{/other_user}","gists_url":"https://api.github.com/users/hosh/gists{/gist_id}","starred_url":"https://api.github.com/users/hosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosh/subscriptions","organizations_url":"https://api.github.com/users/hosh/orgs","repos_url":"https://api.github.com/users/hosh/repos","events_url":"https://api.github.com/users/hosh/events{/privacy}","received_events_url":"https://api.github.com/users/hosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6081851","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6081851","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6081851,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODE4NTE=","user":{"login":"alindeman","id":395621,"node_id":"MDQ6VXNlcjM5NTYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/395621?v=4","gravatar_id":"","url":"https://api.github.com/users/alindeman","html_url":"https://github.com/alindeman","followers_url":"https://api.github.com/users/alindeman/followers","following_url":"https://api.github.com/users/alindeman/following{/other_user}","gists_url":"https://api.github.com/users/alindeman/gists{/gist_id}","starred_url":"https://api.github.com/users/alindeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alindeman/subscriptions","organizations_url":"https://api.github.com/users/alindeman/orgs","repos_url":"https://api.github.com/users/alindeman/repos","events_url":"https://api.github.com/users/alindeman/events{/privacy}","received_events_url":"https://api.github.com/users/alindeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-06-03T00:26:23Z","updated_at":"2012-06-03T00:26:23Z","body":"Anybody here still fired up about this feature? To me, it feels like there are cleaner, more readable and readily understandable methods to achieve a similar thing rather than nested/chained/inherited `let`s.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6081851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alindeman","id":395621,"node_id":"MDQ6VXNlcjM5NTYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/395621?v=4","gravatar_id":"","url":"https://api.github.com/users/alindeman","html_url":"https://github.com/alindeman","followers_url":"https://api.github.com/users/alindeman/followers","following_url":"https://api.github.com/users/alindeman/following{/other_user}","gists_url":"https://api.github.com/users/alindeman/gists{/gist_id}","starred_url":"https://api.github.com/users/alindeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alindeman/subscriptions","organizations_url":"https://api.github.com/users/alindeman/orgs","repos_url":"https://api.github.com/users/alindeman/repos","events_url":"https://api.github.com/users/alindeman/events{/privacy}","received_events_url":"https://api.github.com/users/alindeman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16822812,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2ODIyODEy","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/16822812","actor":{"login":"alindeman","id":395621,"node_id":"MDQ6VXNlcjM5NTYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/395621?v=4","gravatar_id":"","url":"https://api.github.com/users/alindeman","html_url":"https://github.com/alindeman","followers_url":"https://api.github.com/users/alindeman/followers","following_url":"https://api.github.com/users/alindeman/following{/other_user}","gists_url":"https://api.github.com/users/alindeman/gists{/gist_id}","starred_url":"https://api.github.com/users/alindeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alindeman/subscriptions","organizations_url":"https://api.github.com/users/alindeman/orgs","repos_url":"https://api.github.com/users/alindeman/repos","events_url":"https://api.github.com/users/alindeman/events{/privacy}","received_events_url":"https://api.github.com/users/alindeman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-06-03T00:26:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6082019","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6082019","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6082019,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODIwMTk=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-06-03T00:58:24Z","updated_at":"2012-06-03T00:58:24Z","body":"I am! I just wrote a spec and found it would be nice to have inheritance in lets.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6082019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16823356,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2ODIzMzU2","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/16823356","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-06-03T00:58:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6082047","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6082047","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6082047,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODIwNDc=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-06-03T01:04:19Z","updated_at":"2012-06-03T01:04:19Z","body":"I tried calling super() within a let, and got the following error:\n\n```\nNotImplementedError: super from singleton method that is defined to multiple classes is not supported; this will be fixed in 1.9.3 or later\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6082047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":19572197,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE5NTcyMTk3","url":"https://api.github.com/repos/rspec/rspec-core/issues/events/19572197","actor":{"login":"pivotal-milyoni","id":1609013,"node_id":"MDQ6VXNlcjE2MDkwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1609013?v=4","gravatar_id":"","url":"https://api.github.com/users/pivotal-milyoni","html_url":"https://github.com/pivotal-milyoni","followers_url":"https://api.github.com/users/pivotal-milyoni/followers","following_url":"https://api.github.com/users/pivotal-milyoni/following{/other_user}","gists_url":"https://api.github.com/users/pivotal-milyoni/gists{/gist_id}","starred_url":"https://api.github.com/users/pivotal-milyoni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pivotal-milyoni/subscriptions","organizations_url":"https://api.github.com/users/pivotal-milyoni/orgs","repos_url":"https://api.github.com/users/pivotal-milyoni/repos","events_url":"https://api.github.com/users/pivotal-milyoni/events{/privacy}","received_events_url":"https://api.github.com/users/pivotal-milyoni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-07-08T03:40:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828660","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6828660","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6828660,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjg2NjA=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T03:43:10Z","updated_at":"2012-07-08T03:44:43Z","body":"Using super has an issue where the code is invoked even after the first call. This means, you would need to have your own memoization.\n\nI created a let_override method for my project, which overrides the method and works with memoization.\n\n```\nmodule RSpec::LetOverride\n  def let_override(name, &block)\n    define_method(name) do\n      if defined?(super)\n        __memoized.fetch(name) { super().tap {|o| instance_exec(o, &block)} }\n      else\n        raise NoMethodError, \"let #{name.inspect} not defined in a parent ExampleGroup.\"\n      end\n    end\n  end\nend\n\nRSpec::Core::ExampleGroup.module_eval do\n  extend RSpec::LetOverride\nend\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828685","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6828685","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6828685,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjg2ODU=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T03:50:03Z","updated_at":"2012-07-08T03:50:40Z","body":"It works by having the block take an argument, which is the return value of the super implementation.\n\n```\ndescribe \"foo\" do\n  let(:foo) { \"origin foo\" }\n  context \"overridden\" do\n    let_override(:foo) { |v| v << \" overriden\" }\n    it \"allows overriding with a reference to super\" do\n      foo.should == \"origin foo overridden\"\n    end\n  end\nend\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828703","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6828703","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6828703,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjg3MDM=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T03:55:45Z","updated_at":"2012-07-08T03:56:10Z","body":"Actually it does not make sense for LetOverride to perform the super.tap. I think the least surprising, and more flexible solution is to to just perform super instead.\n\n```\nmodule RSpec::LetOverride\n  def let_override(name, &block)\n    define_method(name) do\n      if defined?(super)\n        __memoized.fetch(name) { instance_exec(super(), &block) }\n      else\n        raise NoMethodError, \"let #{name.inspect} not defined in a parent ExampleGroup.\"\n      end\n    end\n  end\nend\n\nRSpec::Core::ExampleGroup.module_eval do\n  extend RSpec::LetOverride\nend\n```\n\nWhich allows:\n\n```\ndescribe \"foo\" do\n  let(:foo) { \"origin foo\" }\n  context \"overridden\" do\n    let_override(:foo) { |v| \"#{v} overriden\" }\n    it \"allows overriding with a reference to super\" do\n      foo.should == \"origin foo overridden\"\n    end\n  end\nend\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828703/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828755","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6828755","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6828755,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjg3NTU=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T04:10:22Z","updated_at":"2012-07-08T04:53:44Z","body":"I applied this to my codebase, and found that in all cases, I ended up mutating and/or running assertions on the super value and returning the super value.\n\nSo I made let_override do the super.tap and added a let_override!, which is the \"dangerous\" version of let_override, which allows you to define your own return value.\n\n```\n# See https://github.com/rspec/rspec-core/issues/294\nmodule RSpec::LetOverride\n  def let_override(name, &block)\n    let_override!(name) do |value|\n      instance_exec(value, &block)\n      value\n    end\n  end\n\n  def let_override!(name, &block)\n    define_method(name) do\n      if defined?(super)\n        __memoized.fetch(name) { |k| __memoized[k] = instance_exec(super(), &block) }\n      else\n        raise NoMethodError, \"let #{name.inspect} not defined in a parent ExampleGroup.\"\n      end\n    end\n  end\nend\n\nRSpec::Core::ExampleGroup.module_eval do\n  extend RSpec::LetOverride\nend\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828826","html_url":"https://github.com/rspec/rspec-core/issues/294#issuecomment-6828826","issue_url":"https://api.github.com/repos/rspec/rspec-core/issues/294","id":6828826,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mjg4MjY=","user":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-07-08T04:27:24Z","updated_at":"2012-07-08T04:36:28Z","body":"I also want to add that I'm making heavy usage of let_override to dry up the nested describes. This leads to cleaner, easier to read, less crufty specs that handle complexity more gracefully.\n\nSome people will say that having less managable complexity is a \"good thing\" because it's feedback on your system, but sometimes the problem you are trying to solve is complex and has lots of edge cases.\n\nThis case also warrants a reference to the Blub Paradox http://c2.com/cgi/wiki?BlubParadox as a cautionary tale against limiting power in the rspec library :-)\n\nI hope a solution like LetOverride gets added to rspec, because it would be a stretch to have an additional dependent gem for such a small piece of code. I'd rather not be on the hook to maintain it either, but I will if I have to.\n\nlet_override is also a different method name from let, so it wont change the existing functionality of let. It's simply an additional function that solves a use case and allows more (IMO better) possibilities for using rspec.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/comments/6828826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"btakita","id":3664,"node_id":"MDQ6VXNlcjM2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3664?v=4","gravatar_id":"","url":"https://api.github.com/users/btakita","html_url":"https://github.com/btakita","followers_url":"https://api.github.com/users/btakita/followers","following_url":"https://api.github.com/users/btakita/following{/other_user}","gists_url":"https://api.github.com/users/btakita/gists{/gist_id}","starred_url":"https://api.github.com/users/btakita/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btakita/subscriptions","organizations_url":"https://api.github.com/users/btakita/orgs","repos_url":"https://api.github.com/users/btakita/repos","events_url":"https://api.github.com/users/btakita/events{/privacy}","received_events_url":"https://api.github.com/users/btakita/received_events","type":"User","user_view_type":"public","site_admin":false}}]