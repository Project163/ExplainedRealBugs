{"url":"https://api.github.com/repos/rspec/rspec-core/issues/754","repository_url":"https://api.github.com/repos/rspec/rspec-core","labels_url":"https://api.github.com/repos/rspec/rspec-core/issues/754/labels{/name}","comments_url":"https://api.github.com/repos/rspec/rspec-core/issues/754/comments","events_url":"https://api.github.com/repos/rspec/rspec-core/issues/754/events","html_url":"https://github.com/rspec/rspec-core/issues/754","id":9462779,"node_id":"MDU6SXNzdWU5NDYyNzc5","number":754,"title":"RSpec always showing backtrace","user":{"login":"jackfranklin","id":193238,"node_id":"MDQ6VXNlcjE5MzIzOA==","avatar_url":"https://avatars.githubusercontent.com/u/193238?v=4","gravatar_id":"","url":"https://api.github.com/users/jackfranklin","html_url":"https://github.com/jackfranklin","followers_url":"https://api.github.com/users/jackfranklin/followers","following_url":"https://api.github.com/users/jackfranklin/following{/other_user}","gists_url":"https://api.github.com/users/jackfranklin/gists{/gist_id}","starred_url":"https://api.github.com/users/jackfranklin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackfranklin/subscriptions","organizations_url":"https://api.github.com/users/jackfranklin/orgs","repos_url":"https://api.github.com/users/jackfranklin/repos","events_url":"https://api.github.com/users/jackfranklin/events{/privacy}","received_events_url":"https://api.github.com/users/jackfranklin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2012-12-21T11:54:35Z","updated_at":"2014-07-10T22:33:13Z","closed_at":"2012-12-22T04:02:05Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I posted a [Question on Stackoverflow](http://stackoverflow.com/questions/13982708/rspec-shorter-output-for-test-failures) last night about RSpec always showing me a backtrace. Both answers had good suggestion but none of them worked - leading me to think I might have stumbled upon a bug of some sort? \n\nEssentially, RSpec is always showing the full backtrace, even when I don't tell it to or explicitly configure it not to. Here's my `spec_helper.rb` file:\n\n``` ruby\n# See http://rubydoc.info/gems/rspec-core/RSpec/Core/Configuration\nRSpec.configure do |config|\n  config.treat_symbols_as_metadata_keys_with_true_values = true\n  config.run_all_when_everything_filtered = true\n  config.filter_run :focus\n  config.full_backtrace=false\n  config.order = 'random'\nend\n```\n\nAnd here's my `test_spec.rb` file:\n\n```\nrequire_relative \"../test\"\ndescribe Foo do\n  it \"adds numbers\" do\n    Foo.add(2, 2).should == 4\n  end\nend\n```\n\nThe `test.rb` file simply sets up `Foo.add` and makes it always return \"3\", so the above test fails.  When it does fail however, I get a massive backtrace. I run the tests just with `rspec`, no extra configuration passed in.\n\nBecause the output for this is massive, rather than put it in here I've created a [Gist showing the output when the test fails](https://gist.github.com/536aea196456455aaa86). As you can see, it's showing the entire backtrace.\n\nI do have `.rspec` file but it only contains:\n\n```\n--color\n--format progress\n```\n\nAnd there is not a global `~/.rspec` file either.\n\n`rspec -v` gives me Version 2.12.2 and I am running Ruby 1.9.3p327.\n\nI am at a loss at to what is happening here unfortunately - I have a horrible feeling I'm doing something silly but I can't spot it if I am.\n\nThanks,\n\nJack.\n","closed_by":{"login":"myronmarston","id":49391,"node_id":"MDQ6VXNlcjQ5Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/49391?v=4","gravatar_id":"","url":"https://api.github.com/users/myronmarston","html_url":"https://github.com/myronmarston","followers_url":"https://api.github.com/users/myronmarston/followers","following_url":"https://api.github.com/users/myronmarston/following{/other_user}","gists_url":"https://api.github.com/users/myronmarston/gists{/gist_id}","starred_url":"https://api.github.com/users/myronmarston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myronmarston/subscriptions","organizations_url":"https://api.github.com/users/myronmarston/orgs","repos_url":"https://api.github.com/users/myronmarston/repos","events_url":"https://api.github.com/users/myronmarston/events{/privacy}","received_events_url":"https://api.github.com/users/myronmarston/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rspec/rspec-core/issues/754/timeline","performed_via_github_app":null,"state_reason":"completed"}