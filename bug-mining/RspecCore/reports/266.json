{"url":"https://api.github.com/repos/rspec/rspec-core/issues/2136","repository_url":"https://api.github.com/repos/rspec/rspec-core","labels_url":"https://api.github.com/repos/rspec/rspec-core/issues/2136/labels{/name}","comments_url":"https://api.github.com/repos/rspec/rspec-core/issues/2136/comments","events_url":"https://api.github.com/repos/rspec/rspec-core/issues/2136/events","html_url":"https://github.com/rspec/rspec-core/issues/2136","id":122840070,"node_id":"MDU6SXNzdWUxMjI4NDAwNzA=","number":2136,"title":"`rspec file:line` syntax running the wrong spec","user":{"login":"benhoskings","id":901,"node_id":"MDQ6VXNlcjkwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/901?v=4","gravatar_id":"","url":"https://api.github.com/users/benhoskings","html_url":"https://github.com/benhoskings","followers_url":"https://api.github.com/users/benhoskings/followers","following_url":"https://api.github.com/users/benhoskings/following{/other_user}","gists_url":"https://api.github.com/users/benhoskings/gists{/gist_id}","starred_url":"https://api.github.com/users/benhoskings/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benhoskings/subscriptions","organizations_url":"https://api.github.com/users/benhoskings/orgs","repos_url":"https://api.github.com/users/benhoskings/repos","events_url":"https://api.github.com/users/benhoskings/events{/privacy}","received_events_url":"https://api.github.com/users/benhoskings/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-17T22:49:36Z","updated_at":"2016-02-09T08:27:47Z","closed_at":"2016-02-09T08:27:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi all,\n\nI've reduced what looks like an issue in rspec-core where the wrong spec is sometimes run when a particular shared example is in play.\n\nBriefly, when running `spec.rb:line`, if `spec.rb` also includes a reference to a shared example in `shared_spec.rb`, and the shared example defines one of its specs on `shared_spec.rb:line`, then that spec is run instead of the invoked spec.\n\nIt depends on the line numbers matching, and seems to also require the shared example to be referenced above the invoked spec, but for a given configuration it seems to be fully reproducible.\n\nI've made a little repo with a reproduction and a longer explanation:\n\nhttps://github.com/benhoskings/rspec-shared-example-bug\n","closed_by":{"login":"JonRowe","id":162976,"node_id":"MDQ6VXNlcjE2Mjk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/162976?v=4","gravatar_id":"","url":"https://api.github.com/users/JonRowe","html_url":"https://github.com/JonRowe","followers_url":"https://api.github.com/users/JonRowe/followers","following_url":"https://api.github.com/users/JonRowe/following{/other_user}","gists_url":"https://api.github.com/users/JonRowe/gists{/gist_id}","starred_url":"https://api.github.com/users/JonRowe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonRowe/subscriptions","organizations_url":"https://api.github.com/users/JonRowe/orgs","repos_url":"https://api.github.com/users/JonRowe/repos","events_url":"https://api.github.com/users/JonRowe/events{/privacy}","received_events_url":"https://api.github.com/users/JonRowe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/2136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rspec/rspec-core/issues/2136/timeline","performed_via_github_app":null,"state_reason":"completed"}