{"url":"https://api.github.com/repos/rspec/rspec-core/issues/134","repository_url":"https://api.github.com/repos/rspec/rspec-core","labels_url":"https://api.github.com/repos/rspec/rspec-core/issues/134/labels{/name}","comments_url":"https://api.github.com/repos/rspec/rspec-core/issues/134/comments","events_url":"https://api.github.com/repos/rspec/rspec-core/issues/134/events","html_url":"https://github.com/rspec/rspec-core/issues/134","id":305805,"node_id":"MDU6SXNzdWUzMDU4MDU=","number":134,"title":"Still cannot launch \"spec\" rake task: invalid option: -w (OptionParser::InvalidOption)","user":{"login":"iromeo","id":72933,"node_id":"MDQ6VXNlcjcyOTMz","avatar_url":"https://avatars.githubusercontent.com/u/72933?v=4","gravatar_id":"","url":"https://api.github.com/users/iromeo","html_url":"https://github.com/iromeo","followers_url":"https://api.github.com/users/iromeo/followers","following_url":"https://api.github.com/users/iromeo/following{/other_user}","gists_url":"https://api.github.com/users/iromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/iromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iromeo/subscriptions","organizations_url":"https://api.github.com/users/iromeo/orgs","repos_url":"https://api.github.com/users/iromeo/repos","events_url":"https://api.github.com/users/iromeo/events{/privacy}","received_events_url":"https://api.github.com/users/iromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2010-09-07T13:38:41Z","updated_at":"2010-09-08T14:32:03Z","closed_at":"2010-09-08T19:19:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Still cannot launch \"spec\" task. Now rspec rake task passes warning option \"-w\" to rspec script which doesn't support it. See spec/rspec/core/rake_task_spec.rb file.\n\nStacktrace:\n    [17:31:00]: [Execute vendor:build] /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/bin/ruby -S rspec -Ilib -Ispec -w \"./spec/cache/gems_spec.rb\" \"./spec/cache/git_spec.rb\" -fs --color\n    [17:31:00]: [Execute spec] /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1450:in `complete': invalid option: -w (OptionParser::InvalidOption)\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1448:in`catch'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1448:in `complete'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1287:in`parse_in_order'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1254:in `catch'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1254:in`parse_in_order'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1248:in `order!'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1339:in`permute!'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/optparse.rb:1360:in `parse!'\n    [17:31:00]: [Execute spec]  from /Users/romeo/.rvm/gems/ruby-1.8.7-p249@bundler3/gems/rspec-core-2.0.0.beta.20/lib/rspec/core/option_parser.rb:17:in`parse!'\n    ...\n\nBuggy code:\n      def spec_command\n        @spec_command ||= begin\n                            cmd_parts = %w[-Ilib -Ispec]\n                            cmd_parts << \"-w\" if warning\n                            cmd_parts.unshift runner_options\n                            cmd_parts.unshift runner\n                            cmd_parts.unshift bundler\n                            cmd_parts += files_to_run.map { |f| %[\"#{f}\"] }\n                            cmd_parts << spec_opts.join(\" \")\n                            cmd_parts.flatten.compact.reject{|p| p == \"\"}.join(\" \")\n                          end\n      end\n\n```\n  def runner\n    rcov ? rcov_path : 'rspec'\n  end\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/rspec/rspec-core/issues/134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rspec/rspec-core/issues/134/timeline","performed_via_github_app":null,"state_reason":"completed"}