diff --git a/lib/rspec/core/example_group.rb b/lib/rspec/core/example_group.rb
index e5cca443..176d736e 100644
--- a/lib/rspec/core/example_group.rb
+++ b/lib/rspec/core/example_group.rb
@@ -66,10 +66,12 @@ module RSpec
             shared_block = world.shared_example_groups[name]
             raise "Could not find shared example group named \#{name.inspect}" unless shared_block
 
-            describe("#{report_label || "it should behave like"} \#{name}") do
+            group = describe("#{report_label || "it should behave like"} \#{name}") do
               module_eval_with_args *args, &shared_block
               module_eval &customization_block if customization_block
             end
+            group.metadata[:shared_group_name] = name
+            group
           end
         END_RUBY
       end
diff --git a/lib/rspec/core/formatters/base_text_formatter.rb b/lib/rspec/core/formatters/base_text_formatter.rb
index 5141e3ce..c3e4ec63 100644
--- a/lib/rspec/core/formatters/base_text_formatter.rb
+++ b/lib/rspec/core/formatters/base_text_formatter.rb
@@ -22,10 +22,18 @@ module RSpec
               output.puts "#{padding}Expected pending '#{example.metadata[:execution_result][:pending_message]}' to fail. No Error was raised."
             else
               output.puts "#{short_padding}#{index.next}) #{example.full_description}"
-              output.puts "#{padding}Failure/Error: #{read_failed_line(exception, example).strip}"
+              output.puts "#{padding}#{red("Failure/Error:")} #{red(read_failed_line(exception, example).strip)}"
               exception.message.split("\n").each do |line|
                 output.puts "#{padding}#{red(line)}"
               end
+
+              example.example_group.ancestors.push(example.example_group).each do |group|
+                if group.metadata[:shared_group_name]
+                  output.puts "#{padding}Shared Example Group: \"#{group.metadata[:shared_group_name]}\" called from " +
+                              "#{backtrace_line(group.metadata[:example_group][:location])}"
+                  break
+                end
+              end
             end
 
             format_backtrace(exception.backtrace, example).each do |backtrace_info|
diff --git a/lib/rspec/core/shared_example_group.rb b/lib/rspec/core/shared_example_group.rb
index e4875e5b..a4d1c827 100644
--- a/lib/rspec/core/shared_example_group.rb
+++ b/lib/rspec/core/shared_example_group.rb
@@ -22,7 +22,8 @@ module RSpec
           end
 
           def self.included(kls)
-            kls.module_eval(&@shared_block)
+            kls.describe(&@shared_block)
+            kls.children.first.metadata[:shared_group_name] = name
           end
         end
 
diff --git a/spec/rspec/core/formatters/base_text_formatter_spec.rb b/spec/rspec/core/formatters/base_text_formatter_spec.rb
index ddb433f2..dfad0dbd 100644
--- a/spec/rspec/core/formatters/base_text_formatter_spec.rb
+++ b/spec/rspec/core/formatters/base_text_formatter_spec.rb
@@ -27,16 +27,104 @@ module RSpec::Core::Formatters
     end
 
     describe "#dump_failures" do
-      it "preserves formatting" do
-        group = RSpec::Core::ExampleGroup.describe("group name")
-        example = group.example("example name") { "this".should eq("that") }
-        group.run_all(formatter)
+      let(:group) { RSpec::Core::ExampleGroup.describe("group name") }
+
+      before { RSpec.configuration.stub(:color_enabled?) { false } }
 
-        RSpec.configuration.stub(:color_enabled?) { false }
+      def run_all_and_dump_failures
+        group.run_all(formatter)
         formatter.dump_failures
+      end
+
+      it "preserves formatting" do
+        group.example("example name") { "this".should eq("that") }
+
+        run_all_and_dump_failures
+
         output.string.should =~ /group name example name/m
         output.string.should =~ /(\s+)expected \"that\"\n\1     got \"this\"/m
       end
+
+      context 'for #share_examples_for' do
+        it 'outputs the name and location' do
+
+          share_examples_for 'foo bar' do
+            it("example name") { "this".should eq("that") }
+          end
+
+          line = __LINE__.next
+          group.it_should_behave_like('foo bar')
+
+          run_all_and_dump_failures
+
+          output.string.should include(
+            'Shared Example Group: "foo bar" called from ' +
+              "./spec/rspec/core/formatters/base_text_formatter_spec.rb:#{line}"
+          )
+        end
+
+        context 'that contains nested example groups' do
+          it 'outputs the name and location' do
+            share_examples_for 'foo bar' do
+              describe 'nested group' do
+                it("example name") { "this".should eq("that") }
+              end
+            end
+
+            line = __LINE__.next
+            group.it_should_behave_like('foo bar')
+
+            run_all_and_dump_failures
+
+            output.string.should include(
+              'Shared Example Group: "foo bar" called from ' +
+                "./spec/rspec/core/formatters/base_text_formatter_spec.rb:#{line}"
+            )
+          end
+        end
+      end
+
+      context 'for #share_as' do
+        it 'outputs the name and location' do
+
+          share_as :FooBar do
+            it("example name") { "this".should eq("that") }
+          end
+
+          line = __LINE__.next
+          group.send(:include, FooBar)
+
+          run_all_and_dump_failures
+
+          output.string.should include(
+            'Shared Example Group: "FooBar" called from ' +
+              "./spec/rspec/core/formatters/base_text_formatter_spec.rb:#{line}"
+          )
+        end
+
+        context 'that contains nested example groups' do
+          it 'outputs the name and location' do
+
+            share_as :NestedFoo do
+              describe 'nested group' do
+                describe 'hell' do
+                  it("example name") { "this".should eq("that") }
+                end
+              end
+            end
+
+            line = __LINE__.next
+            group.send(:include, NestedFoo)
+
+            run_all_and_dump_failures
+
+            output.string.should include(
+              'Shared Example Group: "NestedFoo" called from ' +
+                "./spec/rspec/core/formatters/base_text_formatter_spec.rb:#{line}"
+            )
+          end
+        end
+      end
     end
 
     describe "#dump_profile" do
@@ -64,7 +152,7 @@ module RSpec::Core::Formatters
         formatter.dump_profile
         filename = __FILE__.split(File::SEPARATOR).last
 
-        output.string.should =~ /#{filename}\:46/
+        output.string.should =~ /#{filename}\:134/
       end
     end
   end
diff --git a/spec/rspec/core/shared_example_group_spec.rb b/spec/rspec/core/shared_example_group_spec.rb
index fc959c17..b6c1a4dd 100644
--- a/spec/rspec/core/shared_example_group_spec.rb
+++ b/spec/rspec/core/shared_example_group_spec.rb
@@ -40,8 +40,11 @@ module RSpec::Core
           end
         end
         group = ExampleGroup.describe('group') { include Cornucopia }
-        group.examples.length.should == 1
-        group.examples.first.metadata[:description].should == "is plentiful"
+        phantom_group = group.children.first
+        phantom_group.description.should eql("")
+        phantom_group.metadata[:shared_group_name].should eql('Cornucopia')
+        phantom_group.examples.length.should == 1
+        phantom_group.examples.first.metadata[:description].should == "is plentiful"
       end
     end
 
