diff --git a/Changelog.md b/Changelog.md
index 08bfd5d3..ee7b1347 100644
--- a/Changelog.md
+++ b/Changelog.md
@@ -1,3 +1,11 @@
+### dev
+[full changelog](http://github.com/rspec/rspec-core/compare/v2.12.2...master)
+
+Bug fixes
+
+* Don't blow up when dumping error output for instances
+  of anonymous error classes (Myron Marston).
+
 ### 2.12.2 / 2012-12-13
 [full changelog](http://github.com/rspec/rspec-core/compare/v2.12.1...v2.12.2)
 
diff --git a/lib/rspec/core/formatters/base_text_formatter.rb b/lib/rspec/core/formatters/base_text_formatter.rb
index dcacad7b..6705d09a 100644
--- a/lib/rspec/core/formatters/base_text_formatter.rb
+++ b/lib/rspec/core/formatters/base_text_formatter.rb
@@ -199,14 +199,20 @@ module RSpec
 
         def dump_failure_info(example)
           exception = example.execution_result[:exception]
+          exception_class_name = exception_class_name_for(exception)
+
           output.puts "#{long_padding}#{red("Failure/Error:")} #{red(read_failed_line(exception, example).strip)}"
-          output.puts "#{long_padding}#{red(exception.class.name << ":")}" unless exception.class.name =~ /RSpec/
+          output.puts "#{long_padding}#{red(exception_class_name)}:" unless exception_class_name =~ /RSpec/
           exception.message.to_s.split("\n").each { |line| output.puts "#{long_padding}  #{red(line)}" } if exception.message
           if shared_group = find_shared_group(example)
             dump_shared_failure_info(shared_group)
           end
         end
 
+        def exception_class_name_for(exception)
+          exception.class.name || "(anonymous error class)"
+        end
+
         def dump_shared_failure_info(group)
           output.puts "#{long_padding}Shared Example Group: \"#{group.metadata[:shared_group_name]}\" called from " +
             "#{backtrace_line(group.metadata[:example_group][:location])}"
diff --git a/spec/rspec/core/formatters/base_text_formatter_spec.rb b/spec/rspec/core/formatters/base_text_formatter_spec.rb
index 2853e110..05ac8838 100644
--- a/spec/rspec/core/formatters/base_text_formatter_spec.rb
+++ b/spec/rspec/core/formatters/base_text_formatter_spec.rb
@@ -74,6 +74,15 @@ describe RSpec::Core::Formatters::BaseTextFormatter do
       end
     end
 
+    context "with an instance of an anonymous exception class" do
+      it "substitutes '(anonymous error class)' for the missing class name" do
+        exception = Class.new(StandardError).new
+        group.example("example name") { raise exception }
+        run_all_and_dump_failures
+        output.string.should include('(anonymous error class)')
+      end
+    end
+
     context "with an exception class other than RSpec" do
       it "does not show the error class" do
         group.example("example name") { raise NameError.new('foo') }
