diff --git a/lib/rspec/core/configuration.rb b/lib/rspec/core/configuration.rb
index 273366cc..df8216da 100644
--- a/lib/rspec/core/configuration.rb
+++ b/lib/rspec/core/configuration.rb
@@ -709,10 +709,20 @@ EOM
       def configure_group(group)
         include_or_extend_modules.each do |include_or_extend, mod, filters|
           next unless filters.empty? || group.any_apply?(filters)
-          group.send(include_or_extend, mod)
+          send("safe_#{include_or_extend}", mod, group)
         end
       end
 
+      # @private
+      def safe_include(mod, host)
+        host.send(:include,mod) unless host < mod
+      end
+
+      # @private
+      def safe_extend(mod, host)
+        host.extend(mod) unless (class << host; self; end) < mod
+      end
+
       # @private
       def configure_mock_framework
         RSpec::Core::ExampleGroup.send(:include, mock_framework)
diff --git a/spec/rspec/core/configuration_spec.rb b/spec/rspec/core/configuration_spec.rb
index cacac6d3..ac178cde 100644
--- a/spec/rspec/core/configuration_spec.rb
+++ b/spec/rspec/core/configuration_spec.rb
@@ -1001,6 +1001,38 @@ module RSpec::Core
         group.included_modules.should include(mod1)
         group.included_modules.should include(mod2)
       end
+
+      module IncludeOrExtendMeOnce
+        def self.included(host)
+          raise "included again" if host.instance_methods.include?(:foobar)
+          host.class_eval { def foobar; end }
+        end
+
+        def self.extended(host)
+          raise "extended again" if host.respond_to?(:foobar)
+          def host.foobar; end
+        end
+      end
+
+      it "doesn't include a module when already included in ancestor" do
+        config.include(IncludeOrExtendMeOnce, :foo => :bar)
+
+        group = ExampleGroup.describe("group", :foo => :bar)
+        child = group.describe("child")
+
+        config.configure_group(group)
+        config.configure_group(child)
+      end
+
+      it "doesn't extend when ancestor is already extended with same module" do
+        config.extend(IncludeOrExtendMeOnce, :foo => :bar)
+
+        group = ExampleGroup.describe("group", :foo => :bar)
+        child = group.describe("child")
+
+        config.configure_group(group)
+        config.configure_group(child)
+      end
     end
 
     describe "#alias_example_to" do
