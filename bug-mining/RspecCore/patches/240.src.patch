diff --git a/Changelog.md b/Changelog.md
index 5cc33ac8..d8529601 100644
--- a/Changelog.md
+++ b/Changelog.md
@@ -520,6 +520,9 @@ Bug Fixes:
   directory (was broken in beta1). (Jon Rowe)
 * Prevent RSpec mangling file names that have substrings containing `line_number`
   or `default_path`. (Matijs van Zuijlen)
+* Fix failure line detection so that it handles relative file paths
+  (which can happen when running specs through `ruby` using `rspec/autorun`).
+  (Myron Marston, #1829)
 
 ### 3.0.0.beta1 / 2013-11-07
 [Full Changelog](http://github.com/rspec/rspec-core/compare/v2.99.1...v3.0.0.beta1)
diff --git a/features/command_line/ruby.feature b/features/command_line/ruby.feature
index a9026918..d0e50ba0 100644
--- a/features/command_line/ruby.feature
+++ b/features/command_line/ruby.feature
@@ -16,8 +16,12 @@ Feature: run with `ruby` command
         it "is < 2" do
           expect(1).to be < 2
         end
+
+        it "has an intentional failure" do
+          expect(1).to be > 2
+        end
       end
       """
     When I run `ruby example_spec.rb`
-    Then the output should contain "1 example, 0 failures"
-
+    Then the output should contain "2 examples, 1 failure"
+     And the output should contain "expect(1).to be > 2"
diff --git a/lib/rspec/core/notifications.rb b/lib/rspec/core/notifications.rb
index 333cdbdc..9793c0b5 100644
--- a/lib/rspec/core/notifications.rb
+++ b/lib/rspec/core/notifications.rb
@@ -262,7 +262,7 @@ module RSpec::Core
         example_path = File.expand_path(example.file_path).downcase
         exception.backtrace.find do |line|
           next unless (line_path = line[/(.+?):(\d+)(|:\d+)/, 1])
-          line_path.downcase == example_path
+          File.expand_path(line_path).downcase == example_path
         end
       end
     end
diff --git a/spec/rspec/core/notifications_spec.rb b/spec/rspec/core/notifications_spec.rb
index 0430c5d4..665b69c4 100644
--- a/spec/rspec/core/notifications_spec.rb
+++ b/spec/rspec/core/notifications_spec.rb
@@ -1,4 +1,5 @@
 require 'rspec/core/notifications'
+require 'pathname'
 
 RSpec.describe "FailedExampleNotification" do
   include FormatterSupport
@@ -44,6 +45,16 @@ RSpec.describe "FailedExampleNotification" do
       end
     end
 
+    context "when the stacktrace includes relative paths (which can happen when using `rspec/autorun` and running files through `ruby`)" do
+      let(:relative_file) { Pathname(__FILE__).relative_path_from(Pathname(Dir.pwd)) }
+      line = __LINE__
+      let(:exception) { instance_double(Exception, :backtrace => ["#{relative_file}:#{line}"]) }
+
+      it 'still finds the backtrace line' do
+        expect(notification.send(:read_failed_line)).to include("line = __LINE__")
+      end
+    end
+
     context "when String alias to_int to_i" do
       before do
         String.class_exec do
