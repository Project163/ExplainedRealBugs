diff --git a/Changelog.md b/Changelog.md
index ca2b0696..d34a883e 100644
--- a/Changelog.md
+++ b/Changelog.md
@@ -21,6 +21,10 @@ Bug Fixes:
 * Fix regression in CLI option handling that prevented `--tag slow`
   passed at the command line from overriding `--tag ~slow` in `.rspec`.
   (Colin Jones, #1602)
+* Fix metadata `:example_group` deprecation warning so that it gets
+  issued at the call site of the configuration that specified it as
+  a filter rather than later when an example group is defined.
+  (Myron Marston, #1562)
 
 ### 3.0.1 / 2014-06-12
 [Full Changelog](http://github.com/rspec/rspec-core/compare/v3.0.0...v3.0.1)
diff --git a/lib/rspec/core/configuration.rb b/lib/rspec/core/configuration.rb
index 71e68870..4ee1087b 100644
--- a/lib/rspec/core/configuration.rb
+++ b/lib/rspec/core/configuration.rb
@@ -848,7 +848,8 @@ module RSpec
       #
       #     filter_run_including :foo # same as filter_run_including :foo => true
       def filter_run_including(*args)
-        filter_manager.include_with_low_priority Metadata.build_hash_from(args)
+        meta = Metadata.build_hash_from(args, :warn_about_example_group_filtering)
+        filter_manager.include_with_low_priority meta
       end
 
       alias_method :filter_run, :filter_run_including
@@ -861,7 +862,8 @@ module RSpec
       # This overrides any inclusion filters/tags set on the command line or in
       # configuration files.
       def inclusion_filter=(filter)
-        filter_manager.include_only Metadata.build_hash_from([filter])
+        meta = Metadata.build_hash_from([filter], :warn_about_example_group_filtering)
+        filter_manager.include_only meta
       end
 
       alias_method :filter=, :inclusion_filter=
@@ -904,7 +906,8 @@ module RSpec
       #
       #     filter_run_excluding :foo # same as filter_run_excluding :foo => true
       def filter_run_excluding(*args)
-        filter_manager.exclude_with_low_priority Metadata.build_hash_from(args)
+        meta = Metadata.build_hash_from(args, :warn_about_example_group_filtering)
+        filter_manager.exclude_with_low_priority meta
       end
 
       # Clears and reassigns the `exclusion_filter`. Set to `nil` if you don't
@@ -915,7 +918,8 @@ module RSpec
       # This overrides any exclusion filters/tags set on the command line or in
       # configuration files.
       def exclusion_filter=(filter)
-        filter_manager.exclude_only Metadata.build_hash_from([filter])
+        meta = Metadata.build_hash_from([filter], :warn_about_example_group_filtering)
+        filter_manager.exclude_only meta
       end
 
       # Returns the `exclusion_filter`. If none has been set, returns an empty
@@ -957,7 +961,8 @@ module RSpec
       #
       # @see #extend
       def include(mod, *filters)
-        include_or_extend_modules << [:include, mod, Metadata.build_hash_from(filters)]
+        meta = Metadata.build_hash_from(filters, :warn_about_example_group_filtering)
+        include_or_extend_modules << [:include, mod, meta]
       end
 
       # Tells RSpec to extend example groups with `mod`.  Methods defined in
@@ -990,7 +995,8 @@ module RSpec
       #
       # @see #include
       def extend(mod, *filters)
-        include_or_extend_modules << [:extend, mod, Metadata.build_hash_from(filters)]
+        meta = Metadata.build_hash_from(filters, :warn_about_example_group_filtering)
+        include_or_extend_modules << [:extend, mod, meta]
       end
 
       # @private
@@ -1253,7 +1259,8 @@ module RSpec
       #     end
       #   end
       def define_derived_metadata(*filters, &block)
-        @derived_metadata_blocks << [Metadata.build_hash_from(filters), block]
+        meta = Metadata.build_hash_from(filters, :warn_about_example_group_filtering)
+        @derived_metadata_blocks << [meta, block]
       end
 
       # @private
diff --git a/lib/rspec/core/hooks.rb b/lib/rspec/core/hooks.rb
index 347f8f9b..7f1b6c9f 100644
--- a/lib/rspec/core/hooks.rb
+++ b/lib/rspec/core/hooks.rb
@@ -508,7 +508,9 @@ EOS
         end
 
         def scope_and_options_from(*args)
-          return extract_scope_from(args), Metadata.build_hash_from(args)
+          scope = extract_scope_from(args)
+          meta  = Metadata.build_hash_from(args, :warn_about_example_group_filtering)
+          return scope, meta
         end
 
         def extract_scope_from(args)
diff --git a/lib/rspec/core/metadata.rb b/lib/rspec/core/metadata.rb
index f9d15d32..57aeb8b5 100644
--- a/lib/rspec/core/metadata.rb
+++ b/lib/rspec/core/metadata.rb
@@ -43,13 +43,18 @@ module RSpec
       # Symbols are converted into hash keys with a value of `true`.
       # This is done to support simple tagging using a symbol, rather
       # than needing to do `:symbol => true`.
-      def self.build_hash_from(args)
+      def self.build_hash_from(args, warn_about_example_group_filtering=false)
         hash = args.last.is_a?(Hash) ? args.pop : {}
 
         while args.last.is_a?(Symbol)
           hash[args.pop] = true
         end
 
+        if warn_about_example_group_filtering && hash.key?(:example_group)
+          RSpec.deprecate("Filtering by an `:example_group` subhash",
+                          :replacement => "the subhash to filter directly")
+        end
+
         hash
       end
 
@@ -200,10 +205,23 @@ module RSpec
           Proc.new do |hash, key|
             case key
             when :example_group
-              RSpec.deprecate("The `:example_group` key in an example group's metadata hash",
-                              :replacement => "the example group's hash directly for the " +
-                              "computed keys and `:parent_example_group` to access the parent " +
-                              "example group metadata")
+              # We commonly get here when rspec-core is applying a previously configured
+              # filter rule, such as when a gem configures:
+              #
+              #   RSpec.configure do |c|
+              #     c.include MyGemHelpers, :example_group => { :file_path => /spec\/my_gem_specs/ }
+              #   end
+              #
+              # It's confusing for a user to get a deprecation at this point in the code, so instead
+              # we issue a deprecation from the config APIs that take a metadata hash, and MetadataFilter
+              # sets this thread local to silence the warning here since it would be so confusing.
+              unless RSpec.thread_local_metadata[:silence_metadata_example_group_deprecations]
+                RSpec.deprecate("The `:example_group` key in an example group's metadata hash",
+                                :replacement => "the example group's hash directly for the " +
+                                "computed keys and `:parent_example_group` to access the parent " +
+                                "example group metadata")
+              end
+
               group_hash = example_group_selector.call(hash)
               LegacyExampleGroupHash.new(group_hash) if group_hash
             when :example_group_block
diff --git a/lib/rspec/core/metadata_filter.rb b/lib/rspec/core/metadata_filter.rb
index 4c4a96e2..cffc6838 100644
--- a/lib/rspec/core/metadata_filter.rb
+++ b/lib/rspec/core/metadata_filter.rb
@@ -20,23 +20,25 @@ module RSpec
 
       # @private
       def filter_applies?(key, value, metadata)
-        return filter_applies_to_any_value?(key, value, metadata) if Array === metadata[key] && !(Proc === value)
-        return location_filter_applies?(value, metadata)          if key == :locations
-        return filters_apply?(key, value, metadata)               if Hash === value
+        silence_metadata_example_group_deprecations do
+          return filter_applies_to_any_value?(key, value, metadata) if Array === metadata[key] && !(Proc === value)
+          return location_filter_applies?(value, metadata)          if key == :locations
+          return filters_apply?(key, value, metadata)               if Hash === value
 
-        return false unless metadata.has_key?(key)
+          return false unless metadata.has_key?(key)
 
-        case value
-        when Regexp
-          metadata[key] =~ value
-        when Proc
-          case value.arity
-          when 0 then value.call
-          when 2 then value.call(metadata[key], metadata)
-          else value.call(metadata[key])
+          case value
+          when Regexp
+            metadata[key] =~ value
+          when Proc
+            case value.arity
+            when 0 then value.call
+            when 2 then value.call(metadata[key], metadata)
+            else value.call(metadata[key])
+            end
+          else
+            metadata[key].to_s == value.to_s
           end
-        else
-          metadata[key].to_s == value.to_s
         end
       end
 
@@ -81,6 +83,13 @@ module RSpec
           metadata[:parent_example_group]
         end
       end
+
+      def silence_metadata_example_group_deprecations
+        RSpec.thread_local_metadata[:silence_metadata_example_group_deprecations] = true
+        yield
+      ensure
+        RSpec.thread_local_metadata.delete(:silence_metadata_example_group_deprecations)
+      end
     end
   end
 end
diff --git a/spec/rspec/core/configuration_spec.rb b/spec/rspec/core/configuration_spec.rb
index fce92b2b..d35c549f 100644
--- a/spec/rspec/core/configuration_spec.rb
+++ b/spec/rspec/core/configuration_spec.rb
@@ -11,6 +11,14 @@ module RSpec::Core
     let(:exclusion_filter) { config.exclusion_filter.rules }
     let(:inclusion_filter) { config.inclusion_filter.rules }
 
+    shared_examples_for "warning of deprecated `:example_group` during filtering configuration" do |method, *args|
+      it "issues a deprecation warning when filtering by `:example_group`" do
+        args << { :example_group => { :file_location => /spec\/unit/ } }
+        expect_deprecation_with_call_site(__FILE__, __LINE__ + 1, /:example_group/)
+        config.__send__(method, *args)
+      end
+    end
+
     describe '#deprecation_stream' do
       it 'defaults to standard error' do
         expect($rspec_core_without_stderr_monkey_patch.deprecation_stream).to eq STDERR
@@ -684,6 +692,7 @@ module RSpec::Core
     end
 
     describe "#include" do
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :include, Enumerable
 
       module InstanceLevelMethods
         def you_call_this_a_blt?
@@ -725,6 +734,7 @@ module RSpec::Core
     end
 
     describe "#extend" do
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :extend, Enumerable
 
       module ThatThingISentYou
         def that_thing
@@ -950,6 +960,8 @@ module RSpec::Core
         end
       end
 
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :filter_run_including
+
       it "sets the filter with a hash" do
         config.filter_run_including :foo => true
         expect(inclusion_filter).to eq( {:foo => true} )
@@ -975,6 +987,8 @@ module RSpec::Core
         end
       end
 
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :filter_run_excluding
+
       it "sets the filter" do
         config.filter_run_excluding :foo => true
         expect(exclusion_filter).to eq( {:foo => true} )
@@ -1011,6 +1025,8 @@ module RSpec::Core
           config.send("#{type}=", {:want => :this})
           expect(send(type)).to eq( {:want => :this} )
         end
+
+        include_examples "warning of deprecated `:example_group` during filtering configuration", :"#{type}="
       end
     end
     it_behaves_like "a spec filter", :inclusion_filter
@@ -1080,6 +1096,8 @@ module RSpec::Core
     end
 
     describe "#define_derived_metadata" do
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :define_derived_metadata
+
       it 'allows the provided block to mutate example group metadata' do
         RSpec.configuration.define_derived_metadata do |metadata|
           metadata[:reverse_description] = metadata[:description].reverse
@@ -1742,6 +1760,10 @@ module RSpec::Core
       end
     end
 
+    describe "hooks" do
+      include_examples "warning of deprecated `:example_group` during filtering configuration", :before, :each
+    end
+
     # assigns files_or_directories_to_run and triggers post-processing
     # via `files_to_run`.
     def assign_files_or_directories_to_run(*value)
diff --git a/spec/rspec/core/metadata_spec.rb b/spec/rspec/core/metadata_spec.rb
index 7d433257..03ab6039 100644
--- a/spec/rspec/core/metadata_spec.rb
+++ b/spec/rspec/core/metadata_spec.rb
@@ -451,6 +451,12 @@ module RSpec
             end
           end
 
+          it 'does not issue a deprecation warning when :example_group is accessed while applying configured filterings' do
+            RSpec.configuration.include Module.new, :example_group => { :file_path => /.*/ }
+            expect_no_deprecation
+            RSpec.describe(Object, "group")
+          end
+
           it 'can still access the example group attributes via [:example_group]' do
             meta = nil
             RSpec.describe(Object, "group") { meta = metadata }
