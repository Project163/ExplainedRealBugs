diff --git a/Changelog.md b/Changelog.md
index 8b6eb5f8..a83384cf 100644
--- a/Changelog.md
+++ b/Changelog.md
@@ -28,6 +28,9 @@ Bug fixes
   `before(:all) hook` (Bradley Schaefer).
 * Make the order spec files are loaded consistent, regardless of the
   order of the files returned by the OS (Jo Liss).
+* Ensure instance variables from `before(:all)` are always exposed
+  from `after(:all)`, even if an error occurs in `before(:all)`
+  (Sam Phippen).
 
 ### 2.11.1 / 2012-07-18
 [full changelog](http://github.com/rspec/rspec-core/compare/v2.11.0...v2.11.1)
diff --git a/lib/rspec/core/example_group.rb b/lib/rspec/core/example_group.rb
index 6b167d05..56afa774 100644
--- a/lib/rspec/core/example_group.rb
+++ b/lib/rspec/core/example_group.rb
@@ -309,9 +309,12 @@ module RSpec
       # @private
       def self.run_before_all_hooks(example_group_instance)
         return if descendant_filtered_examples.empty?
-        assign_before_all_ivars(superclass.before_all_ivars, example_group_instance)
-        run_hook(:before, :all, example_group_instance)
-        store_before_all_ivars(example_group_instance)
+        begin
+          assign_before_all_ivars(superclass.before_all_ivars, example_group_instance)
+          run_hook(:before, :all, example_group_instance)
+        ensure
+          store_before_all_ivars(example_group_instance)
+        end
       end
 
       # @private
diff --git a/spec/rspec/core/example_group_spec.rb b/spec/rspec/core/example_group_spec.rb
index e09376a0..8ecee3af 100644
--- a/spec/rspec/core/example_group_spec.rb
+++ b/spec/rspec/core/example_group_spec.rb
@@ -562,6 +562,24 @@ module RSpec::Core
         example.metadata[:execution_result][:exception].message.should eq("error in before all")
       end
 
+      it "exposes instance variables set in before(:all) from after(:all) even if a before(:all) error occurs" do
+        ivar_value_in_after_hook = nil
+
+        group = ExampleGroup.describe do
+          before(:all) do
+            @an_ivar = :set_in_before_all
+            raise "fail"
+          end
+
+          after(:all) { ivar_value_in_after_hook = @an_ivar }
+
+          it("has a spec") { }
+        end
+
+        group.run
+        ivar_value_in_after_hook.should eq(:set_in_before_all)
+      end
+
       it "treats an error in before(:all) as a failure for a spec in a nested group" do
         example = nil
         group = ExampleGroup.describe do
