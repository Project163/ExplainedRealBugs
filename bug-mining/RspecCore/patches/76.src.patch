diff --git a/lib/rspec/core.rb b/lib/rspec/core.rb
index ef755350..84e81a3a 100644
--- a/lib/rspec/core.rb
+++ b/lib/rspec/core.rb
@@ -58,7 +58,5 @@ module RSpec
   end
 end
 
-# TODO - make this configurable with default 'on'
-require 'rspec/expectations'
-
+require 'rspec/core/backward_compatibility'
 require 'rspec/monkey'
diff --git a/lib/rspec/core/command_line.rb b/lib/rspec/core/command_line.rb
index 8c4d38d1..34af8b1d 100644
--- a/lib/rspec/core/command_line.rb
+++ b/lib/rspec/core/command_line.rb
@@ -17,6 +17,7 @@ module RSpec
         @options.configure(@configuration)
         @configuration.load_spec_files
         @configuration.configure_mock_framework
+        @configuration.configure_expectation_framework
         @world.announce_inclusion_filter
         @world.announce_exclusion_filter
 
diff --git a/lib/rspec/core/configuration.rb b/lib/rspec/core/configuration.rb
index 6ec27256..2872e28f 100644
--- a/lib/rspec/core/configuration.rb
+++ b/lib/rspec/core/configuration.rb
@@ -27,6 +27,7 @@ module RSpec
       add_setting :fail_fast, :default => false
       add_setting :run_all_when_everything_filtered
       add_setting :mock_framework, :default => :rspec
+      add_setting :expectation_framework, :default => :rspec
       add_setting :filter
       add_setting :exclusion_filter
       add_setting :filename_pattern, :default => '**/*_spec.rb'
@@ -125,6 +126,19 @@ module RSpec
         end
       end
 
+      def expect_with(expectation_framework)
+        settings[:expectation_framework] = expectation_framework
+      end
+
+      def require_expectation_framework_adapter
+        require case expectation_framework.to_s
+        when /rspec/i
+          'rspec/core/expecting/with_rspec'
+        else
+          raise ArgumentError, "#{expectation_framework.inspect} is not supported"
+        end
+      end
+
       def full_backtrace=(bool)
         settings[:backtrace_clean_patterns] = []
       end
@@ -302,6 +316,11 @@ EOM
         RSpec::Core::ExampleGroup.send(:include, RSpec::Core::MockFrameworkAdapter)
       end
 
+      def configure_expectation_framework
+        require_expectation_framework_adapter
+        RSpec::Core::ExampleGroup.send(:include, RSpec::Core::ExpectationFrameworkAdapter)
+      end
+
       def load_spec_files
         files_to_run.map {|f| load File.expand_path(f) }
       end
diff --git a/lib/rspec/core/expecting/with_rspec.rb b/lib/rspec/core/expecting/with_rspec.rb
new file mode 100644
index 00000000..29888a54
--- /dev/null
+++ b/lib/rspec/core/expecting/with_rspec.rb
@@ -0,0 +1,11 @@
+require 'rspec/expectations'
+
+module RSpec
+  module Core
+    module ExpectationFrameworkAdapter
+
+      include RSpec::Matchers
+
+    end
+  end
+end
diff --git a/spec/rspec/core/command_line_spec.rb b/spec/rspec/core/command_line_spec.rb
index 14af5313..4e35973f 100644
--- a/spec/rspec/core/command_line_spec.rb
+++ b/spec/rspec/core/command_line_spec.rb
@@ -31,19 +31,30 @@ module RSpec::Core
         config_options
       end
 
-      let(:command_line) do
-        CommandLine.new(config_options, config)
-      end
-
       let(:config) do
         RSpec::Core::Configuration.new
       end
 
-      let(:err) { ::StringIO.new }
+      let(:world) do
+        RSpec::Core::World.new
+      end
+
+      let(:command_line) do
+        CommandLine.new(config_options, config, world)
+      end
+
       let(:out) { ::StringIO.new }
+      let(:err) { ::StringIO.new }
 
       before do
         config.stub(:run_hook)
+
+        config.should_receive(:load_spec_files)
+        config.should_receive(:configure_mock_framework)
+        config.should_receive(:configure_expectation_framework)
+
+        world.should_receive(:announce_inclusion_filter)
+        world.should_receive(:announce_exclusion_filter)
       end
 
       it "configures streams before command line options" do
diff --git a/spec/rspec/core/configuration_spec.rb b/spec/rspec/core/configuration_spec.rb
index d92c8a7d..d2a44fd2 100644
--- a/spec/rspec/core/configuration_spec.rb
+++ b/spec/rspec/core/configuration_spec.rb
@@ -14,7 +14,7 @@ module RSpec::Core
       end
     end
 
-    describe "#mock_framework_class" do
+    describe "mock_framework" do
       before(:each) do
         config.stub(:require)
       end
@@ -46,6 +46,34 @@ module RSpec::Core
 
     end
 
+    describe "expectation_framework" do
+
+      it "defaults to :rspec" do
+        config.should_receive(:require).with('rspec/core/expecting/with_rspec')
+        config.require_expectation_framework_adapter
+      end
+
+      [:rspec].each do |framework|
+        it "uses #{framework.inspect} framework when set explicitly" do
+          config.should_receive(:require).with("rspec/core/expecting/with_#{framework}")
+          config.mock_framework = framework
+          config.require_expectation_framework_adapter
+        end
+      end
+
+      it "supports expect_with for backward compatibility with rspec-1.x" do
+        config.should_receive(:require).with('rspec/core/expecting/with_rspec')
+        config.mock_with :rspec
+        config.require_expectation_framework_adapter
+      end
+
+      it "raises ArgumentError if framework is not supported" do
+        config.expectation_framework = :not_supported
+        expect { config.require_expectation_framework_adapter }.to raise_error(ArgumentError)
+      end
+
+    end
+
     context "setting the files to run" do
 
       it "loads files not following pattern if named explicitly" do
@@ -370,7 +398,7 @@ module RSpec::Core
         config.filter_run :focus => true
         config.filter.should eq({:focus => true})
       end
-      
+
       it "warns if :line_number is already a filter" do
         config.filter_run :line_number => 100
         config.should_receive(:warn).with(
@@ -379,7 +407,7 @@ module RSpec::Core
         )
         config.filter_run :focus => true
       end
-      
+
       it "warns if :full_description is already a filter" do
         config.filter_run :full_description => 'foo'
         config.should_receive(:warn).with(
@@ -399,7 +427,7 @@ module RSpec::Core
 
     describe "line_number=" do
       before { config.stub(:warn) }
-      
+
       it "sets the line number" do
         config.line_number = '37'
         config.filter.should == {:line_number => 37}
diff --git a/spec/spec_helper.rb b/spec/spec_helper.rb
index a994baad..482e9622 100644
--- a/spec/spec_helper.rb
+++ b/spec/spec_helper.rb
@@ -3,20 +3,6 @@ require 'autotest/rspec2'
 
 Dir['./spec/support/**/*.rb'].map {|f| require f}
 
-module RSpec
-  module Core
-    module Matchers
-      def fail
-        raise_error(::RSpec::Expectations::ExpectationNotMetError)
-      end
-
-      def fail_with(message)
-        raise_error(::RSpec::Expectations::ExpectationNotMetError, message)
-      end
-    end
-  end
-end
-
 class NullObject
   def method_missing(method, *args, &block)
     # ignore
diff --git a/spec/support/matchers.rb b/spec/support/matchers.rb
index 3791b11c..a4417c8b 100644
--- a/spec/support/matchers.rb
+++ b/spec/support/matchers.rb
@@ -1,3 +1,5 @@
+require 'rspec/matchers'
+
 RSpec::Matchers.define :map_specs do |specs|
   match do |autotest|
     @specs = specs
