diff --git a/lib/rspec/core/rake_task.rb b/lib/rspec/core/rake_task.rb
index 5777d1c5..6b0198a7 100644
--- a/lib/rspec/core/rake_task.rb
+++ b/lib/rspec/core/rake_task.rb
@@ -11,18 +11,12 @@ module RSpec
       # Name of task. (default is :spec)
       attr_accessor :name
 
-      # If true, requests that the specs be run with the warning flag set.
-      # E.g. warning=true implies "ruby -w" used to run the specs. Defaults to false.
-      attr_accessor :warning
-
       # Glob pattern to match files. (default is 'spec/**/*_spec.rb')
       attr_accessor :pattern
 
-      # Array of commandline options to pass to RSpec. Defaults to [].
-      attr_accessor :spec_opts
-
-      # The options to pass to ruby.  Defaults to blank
-      attr_accessor :ruby_opts
+      # If true, requests that the specs be run with the warning flag set.
+      # E.g. warning=true implies "ruby -w" used to run the specs. Defaults to false.
+      attr_accessor :warning
 
       # Whether or not to fail Rake when an error occurs (typically when examples fail).
       # Defaults to true.
@@ -38,27 +32,29 @@ module RSpec
       # Use rcov for code coverage? defaults to false
       attr_accessor :rcov
 
-      # Path to rcov.  You can set this to 'bundle exec rcov' if you bundle rcov.
+      # Path to rcov. You can set this to 'bundle exec rcov' if you bundle rcov.
       attr_accessor :rcov_path
 
-      # The options to pass to rcov.  Defaults to blank
+      # Options to pass to rcov. Defaults to blank.
       attr_accessor :rcov_opts
 
+      # Options to pass to ruby. Defaults to blank.
+      attr_accessor :ruby_opts
+
+      # Options to pass to rspec. Defaults to blank.
+      attr_accessor :spec_opts
+
       def initialize(*args)
         @name = args.shift || :spec
-        @pattern, @rcov_path, @rcov_opts, @ruby_opts = nil, nil, nil, nil
+        @pattern, @rcov_path, @rcov_opts, @ruby_opts, @spec_opts = nil, nil, nil, nil, nil
         @warning, @rcov = false, false
         @fail_on_error = true
-        @spec_opts = []
 
         yield self if block_given?
+
         @rcov_path ||= 'rcov'
         @pattern ||= './spec/**/*_spec.rb'
-        define
-      end
 
-      def define # :nodoc:
-        actual_name = Hash === name ? name.keys.first : name
         desc("Run RSpec code examples") unless ::Rake.application.last_comment
 
         task name do
@@ -67,47 +63,56 @@ module RSpec
               puts "No examples matching #{pattern} could be found"
             else
               puts spec_command.inspect if verbose
-              unless ruby("-S #{spec_command}")
+              unless ruby(spec_command)
                 STDERR.puts failure_message if failure_message
                 raise("#{spec_command} failed") if fail_on_error
               end
             end
           end
         end
-
-        self
       end
 
       def files_to_run # :nodoc:
-        FileList[ pattern ].to_a
+        FileList[ pattern ].map { |f| %["#{f}"] }
       end
 
     private
 
       def spec_command
         @spec_command ||= begin
-                            cmd_parts = %w[-Ilib -Ispec]
-                            cmd_parts << "-w" if warning
-                            cmd_parts.unshift runner_options
-                            cmd_parts.unshift runner
-                            cmd_parts.unshift bundler
-                            cmd_parts += files_to_run.map { |f| %["#{f}"] }
-                            cmd_parts << spec_opts.join(" ")
-                            cmd_parts.flatten.compact.reject{|p| p == ""}.join(" ")
+                            cmd_parts = [ruby_opts]
+                            cmd_parts << "-w" if warning?
+                            cmd_parts << "-S"
+                            cmd_parts << "bundle exec" if bundler?
+                            cmd_parts << runner
+                            cmd_parts << runner_options 
+                            cmd_parts << files_to_run
+                            cmd_parts.flatten.compact.reject(&blank).join(" ")
                           end
       end
 
+    private
+
       def runner
         rcov ? rcov_path : 'rspec'
       end
 
       def runner_options
-        rcov ? [rcov_opts] : [ruby_opts]
+        rcov ? [rcov_opts] : [spec_opts]
+      end
+
+      def bundler?
+        File.exist?("./Gemfile")
       end
 
-      def bundler
-        File.exist?("./Gemfile") ? %w[bundle exec] : nil
+      def warning?
+        warning
       end
+
+      def blank
+        lambda {|s| s == ""}
+      end
+
     end
 
   end
diff --git a/spec/rspec/core/rake_task_spec.rb b/spec/rspec/core/rake_task_spec.rb
index 10699c59..f5256329 100644
--- a/spec/rspec/core/rake_task_spec.rb
+++ b/spec/rspec/core/rake_task_spec.rb
@@ -5,13 +5,12 @@ module RSpec::Core
   describe RakeTask do
     let(:task) { RakeTask.new }
 
-    def with_bundler
-      File.stub(:exist?) { true }
-      yield
+    before do
+      File.stub(:exist?) { false }
     end
 
-    def without_bundler
-      File.stub(:exist?) { false }
+    def with_bundler
+      File.stub(:exist?) { true }
       yield
     end
 
@@ -20,54 +19,85 @@ module RSpec::Core
       yield
     end
 
-    def without_rcov
-      yield
-    end
-
     def spec_command
       task.__send__(:spec_command)
     end
 
-    context "without bundler" do
-      context "without rcov" do
-        it "renders rspec" do
-          without_bundler do
-            without_rcov do
-              spec_command.should =~ /^rspec/
-            end
-          end
+    context "default" do
+      it "renders rspec" do
+        spec_command.should =~ /^-S rspec/
+      end
+    end
+
+    context "with bundler" do
+      it "renders bundle exec rspec" do
+        with_bundler do
+          spec_command.should =~ /^-S bundle exec rspec/
         end
       end
+    end
 
-      context "with rcov" do
-        it "renders rcov" do
-          without_bundler do
-            with_rcov do
-              spec_command.should =~ /^rcov/
-            end
-          end
+    context "with rcov" do
+      it "renders rcov" do
+        with_rcov do
+          spec_command.should =~ /^-S rcov/
         end
       end
     end
 
-    context "with bundler" do
-      context "without rcov" do
-        it "renders bundle exec rspec" do
-          with_bundler do
-            without_rcov do
-              spec_command.should =~ /^bundle exec rspec/
-            end
+    context "with bundler and rcov" do
+      it "renders bundle exec rcov" do
+        with_bundler do
+          with_rcov do
+            spec_command.should =~ /^-S bundle exec rcov/
           end
         end
       end
+    end
 
-      context "with rcov" do
-        it "renders bundle exec rcov" do
-          with_bundler do
-            with_rcov do
-              spec_command.should =~ /^bundle exec rcov/
-            end
-          end
+    context "with warnings on" do
+      it "renders -w before the -S" do
+        task.warning = true
+        spec_command.should =~ /^-w -S rspec/
+      end
+    end
+
+    context "with ruby options" do
+      it "renders them before -S" do
+        task.ruby_opts = "-w"
+        spec_command.should =~ /^-w -S rspec/
+      end
+    end
+
+    context "with rcov_opts" do
+      context "with rcov=false (default)" do
+        it "does not add the rcov options to the command" do
+          task.rcov_opts = '--exclude "mocks"'
+          spec_command.should_not =~ /--exclude "mocks"/
+        end
+      end
+
+      context "with rcov=true" do
+        it "renders them after rcov" do
+          task.rcov = true
+          task.rcov_opts = '--exclude "mocks"'
+          spec_command.should =~ /^-S rcov --exclude "mocks"/
+        end
+      end
+    end
+
+    context "with spec_opts" do
+      context "with rcov=true" do
+        it "does not add the spec_opts" do
+          task.rcov = true
+          task.spec_opts = "-Ifoo"
+          spec_command.should_not =~ /-Ifoo/
+        end
+      end
+      context "with rcov=false (default)" do
+        it "adds the spec_opts" do
+          task.spec_opts = "-Ifoo"
+          spec_command.should =~ /rspec -Ifoo/
         end
       end
     end
