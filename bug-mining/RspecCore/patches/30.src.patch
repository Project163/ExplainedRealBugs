diff --git a/lib/rspec/core/example_group.rb b/lib/rspec/core/example_group.rb
index ebcd9405..f54262b1 100644
--- a/lib/rspec/core/example_group.rb
+++ b/lib/rspec/core/example_group.rb
@@ -140,6 +140,10 @@ module RSpec
         @_ancestors ||= super().select {|a| a < RSpec::Core::ExampleGroup}
       end
 
+      def self.top_level?
+        ancestors.size <= 1
+      end
+
       def self.set_it_up(*args)
         @metadata = RSpec::Core::Metadata.new(superclass_metadata).process(*args)
 
@@ -155,7 +159,7 @@ module RSpec
       def self.eval_before_alls(example)
         return if descendant_filtered_examples.empty?
         superclass.before_all_ivars.each { |ivar, val| example.instance_variable_set(ivar, val) }
-        world.run_hook_filtered(:before, :all, self, example)
+        world.run_hook_filtered(:before, :all, self, example) if top_level?
 
         run_hook!(:before, :all, example)
         example.instance_variables.each { |ivar| before_all_ivars[ivar] = example.instance_variable_get(ivar) }
@@ -186,7 +190,7 @@ module RSpec
         return if descendant_filtered_examples.empty?
         before_all_ivars.each { |ivar, val| example.instance_variable_set(ivar, val) }
         run_hook!(:after, :all, example)
-        world.run_hook_filtered(:after, :all, self, example)
+        world.run_hook_filtered(:after, :all, self, example) if top_level?
       end
 
       def self.run(reporter)
diff --git a/spec/rspec/core/example_group_spec.rb b/spec/rspec/core/example_group_spec.rb
index ff9e9fce..469a6f65 100644
--- a/spec/rspec/core/example_group_spec.rb
+++ b/spec/rspec/core/example_group_spec.rb
@@ -254,9 +254,15 @@ module RSpec::Core
         order.should == [3,2,1]
       end
 
-      it "runs before all, before each, example, after each, after all, in that order" do
-        group = ExampleGroup.describe
+      it "runs world_before_all, before all, before each, example, after each, after all, world_after_all in that order" do
         order = []
+
+        RSpec.configure do |c|
+          c.before(:all) { order << :world_before_all }
+          c.after(:all) { order << :world_after_all }
+        end
+
+        group = ExampleGroup.describe
         group.before(:all)  { order << :top_level_before_all  }
         group.before(:each) { order << :before_each }
         group.after(:each)  { order << :after_each  }
@@ -274,6 +280,7 @@ module RSpec::Core
         group.run_all
 
         order.should == [
+          :world_before_all,
           :top_level_before_all,
           :before_each,
           :top_level_example,
@@ -286,7 +293,8 @@ module RSpec::Core
           :nested_example_2,
           :after_each,
           :nested_after_all,
-          :top_level_after_all
+          :top_level_after_all,
+          :world_after_all
         ]
       end
 
