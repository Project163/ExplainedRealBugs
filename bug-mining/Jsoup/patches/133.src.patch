diff --git a/CHANGES b/CHANGES
index 0df26149..d8be281b 100644
--- a/CHANGES
+++ b/CHANGES
@@ -12,6 +12,9 @@ jsoup changelog
     exception.
     <https://github.com/jhy/jsoup/issues/793>
 
+  * Bugfix: Element.hasClass() and the ".classname" selector would not find the class attribute case-insensitively.
+    <https://github.com/jhy/jsoup/issues/814>
+
 *** Release 1.10.2 [2017-Jan-02]
  * Improved startup time, particularly on Android, by reducing garbage generation and CPU execution time when loading
    the HTML entity files. About 1.72x faster in this area.
diff --git a/src/main/java/org/jsoup/nodes/Attributes.java b/src/main/java/org/jsoup/nodes/Attributes.java
index 8fdb654d..61844eea 100644
--- a/src/main/java/org/jsoup/nodes/Attributes.java
+++ b/src/main/java/org/jsoup/nodes/Attributes.java
@@ -60,6 +60,10 @@ public class Attributes implements Iterable<Attribute>, Cloneable {
         if (attributes == null)
             return "";
 
+        Attribute attr = attributes.get(key);
+        if (attr != null)
+            return attr.getValue();
+
         for (String attrKey : attributes.keySet()) {
             if (attrKey.equalsIgnoreCase(key))
                 return attributes.get(attrKey).getValue();
diff --git a/src/main/java/org/jsoup/nodes/Element.java b/src/main/java/org/jsoup/nodes/Element.java
index caf11107..175654eb 100644
--- a/src/main/java/org/jsoup/nodes/Element.java
+++ b/src/main/java/org/jsoup/nodes/Element.java
@@ -1089,7 +1089,7 @@ public class Element extends Node {
      */
     // performance sensitive
     public boolean hasClass(String className) {
-        final String classAttr = attributes.get("class");
+        final String classAttr = attributes.getIgnoreCase("class");
         final int len = classAttr.length();
         final int wantLen = className.length();
 
diff --git a/src/test/java/org/jsoup/select/ElementsTest.java b/src/test/java/org/jsoup/select/ElementsTest.java
index 771d33c8..6fbec69a 100644
--- a/src/test/java/org/jsoup/select/ElementsTest.java
+++ b/src/test/java/org/jsoup/select/ElementsTest.java
@@ -3,6 +3,7 @@ package org.jsoup.select;
 import org.jsoup.Jsoup;
 import org.jsoup.TextUtil;
 import org.jsoup.nodes.Document;
+import org.jsoup.nodes.Element;
 import org.jsoup.nodes.FormElement;
 import org.jsoup.nodes.Node;
 import org.junit.Test;
@@ -93,6 +94,22 @@ public class ElementsTest {
         assertEquals("blue", els.get(0).className());
         assertEquals("red green blue mellow", els.get(1).className());
     }
+
+    @Test public void hasClassCaseInsensitive() {
+        Elements els = Jsoup.parse("<p Class=One>One <p class=Two>Two <p CLASS=THREE>THREE").select("p");
+        Element one = els.get(0);
+        Element two = els.get(1);
+        Element thr = els.get(2);
+
+        assertTrue(one.hasClass("One"));
+        assertTrue(one.hasClass("ONE"));
+
+        assertTrue(two.hasClass("TWO"));
+        assertTrue(two.hasClass("Two"));
+
+        assertTrue(thr.hasClass("ThreE"));
+        assertTrue(thr.hasClass("three"));
+    }
     
     @Test public void text() {
         String h = "<div><p>Hello<p>there<p>world</div>";
diff --git a/src/test/java/org/jsoup/select/SelectorTest.java b/src/test/java/org/jsoup/select/SelectorTest.java
index c04a42a5..3666de70 100644
--- a/src/test/java/org/jsoup/select/SelectorTest.java
+++ b/src/test/java/org/jsoup/select/SelectorTest.java
@@ -48,6 +48,16 @@ public class SelectorTest {
         assertEquals(1, els2.size());
     }
 
+    @Test public void testByClassCaseInsensitive() {
+        String html = "<p Class=foo>One <p Class=Foo>Two <p class=FOO>Three <p class=farp>Four";
+        Elements elsFromClass = Jsoup.parse(html).select("P.Foo");
+        Elements elsFromAttr = Jsoup.parse(html).select("p[class=foo]");
+
+        assertEquals(elsFromAttr.size(), elsFromClass.size());
+        assertEquals(3, elsFromClass.size());
+        assertEquals("Two", elsFromClass.get(1).text());
+    }
+
     @Test public void testByAttribute() {
         String h = "<div Title=Foo /><div Title=Bar /><div Style=Qux /><div title=Bam /><div title=SLAM />" +
                 "<div data-name='with spaces'/>";
