diff --git a/CHANGES.md b/CHANGES.md
index 6acebf64..ba0d1873 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -56,6 +56,9 @@
 * A `template` tag containing an `li` within an open `li` would be parsed incorrectly, as it was not recognized as a
   "special" tag (which have additional processing rules). Also, added the SVG and MathML namespace tags to the list of
   special tags. [2258](https://github.com/jhy/jsoup/issues/2258)
+* A `template` tag containing a `button` within an open `button` would be parsed incorrectly, as the "in button scope"
+  check was not aware of the `template` element. Corrected other instances including MathML and SVG elements,
+  also. [2271](https://github.com/jhy/jsoup/issues/2271)
 * An `:nth-child` selector with a negative digit-less step, such as `:nth-child(-n+2)`, would be parsed incorrectly as a
   positive step, and so would not match as expected. [1147](https://github.com/jhy/jsoup/issues/1147)
 * Calling `doc.charset(charset)` on an empty XML document would throw an
diff --git a/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java b/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java
index b2edd4ea..3ca77897 100644
--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java
+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java
@@ -21,14 +21,17 @@ import java.util.List;
 import static org.jsoup.internal.StringUtil.inSorted;
 import static org.jsoup.parser.HtmlTreeBuilderState.Constants.InTableFoster;
 import static org.jsoup.parser.HtmlTreeBuilderState.ForeignContent;
-import static org.jsoup.parser.Parser.NamespaceHtml;
+import static org.jsoup.parser.Parser.*;
 
 /**
  * HTML Tree Builder; creates a DOM from Tokens.
  */
 public class HtmlTreeBuilder extends TreeBuilder {
     // tag searches. must be sorted, used in inSorted. HtmlTreeBuilderTest validates they're sorted.
-    static final String[] TagsSearchInScope = new String[]{"applet", "caption", "html", "marquee", "object", "table", "td", "th"};
+    // todo - tag search in scope might need to be properly namespace aware - https://html.spec.whatwg.org/#has-an-element-in-scope
+    static final String[] TagsSearchInScope = new String[]{
+        "annotation-xml", "applet", "caption", "desc", "foreignObject", "html", "marquee", "mi", "mn", "mo", "ms", "mtext", "object", "table", "td", "template", "th", "title" // <- svg title
+    };
     static final String[] TagSearchList = new String[]{"ol", "ul"};
     static final String[] TagSearchButton = new String[]{"button"};
     static final String[] TagSearchTableScope = new String[]{"html", "table"};
@@ -669,11 +672,8 @@ public class HtmlTreeBuilder extends TreeBuilder {
         final int bottom = stack.size() -1;
         final int top = bottom > MaxScopeSearchDepth ? bottom - MaxScopeSearchDepth : 0;
         // don't walk too far up the tree
-
         for (int pos = bottom; pos >= top; pos--) {
             Element el = stack.get(pos);
-            if (!el.tag().namespace().equals(NamespaceHtml)) continue;
-
             final String elName = el.normalName();
             if (inSorted(elName, targetNames))
                 return true;
diff --git a/src/test/java/org/jsoup/parser/HtmlParserTest.java b/src/test/java/org/jsoup/parser/HtmlParserTest.java
index 830678bf..a70f3f29 100644
--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java
+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java
@@ -1661,6 +1661,13 @@ public class HtmlParserTest {
             TextUtil.stripNewlines(doc.body().html()));
     }
 
+    @Test void templateInButton() {
+        // https://github.com/jhy/jsoup/issues/2271
+        String html = "<button><template><button></button></template></button>";
+        Document doc = Jsoup.parse(html);
+        assertEquals(html, TextUtil.stripNewlines(doc.body().html()));
+    }
+
     @Test void errorsBeforeHtml() {
         Parser parser = Parser.htmlParser();
         parser.setTrackErrors(10);
