diff --git a/CHANGES b/CHANGES
index 6912ea44..cd089b4c 100644
--- a/CHANGES
+++ b/CHANGES
@@ -10,6 +10,9 @@ jsoup changelog
     "div:has(> a)" will select all "div" elements that have at least one direct child "a" element.
     <https://github.com/jhy/jsoup/pull/1214>
 
+  * Bugfix: in a <select> tag, a second <optgroup> would not automatically close an earlier open <optgroup>
+    <https://github.com/jhy/jsoup/issues/1313>
+
   * Improvement: added Element chaining methods for various overridden methods on Node.
     <https://github.com/jhy/jsoup/issues/1193>
 
diff --git a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java
index 32b88d5d..05c28ccd 100644
--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java
+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java
@@ -1243,8 +1243,8 @@ enum HtmlTreeBuilderState {
                         tb.insert(start);
                     } else if (name.equals("optgroup")) {
                         if (tb.currentElement().normalName().equals("option"))
-                            tb.processEndTag("option");
-                        else if (tb.currentElement().normalName().equals("optgroup"))
+                            tb.processEndTag("option"); // pop option and flow to pop optgroup
+                        if (tb.currentElement().normalName().equals("optgroup"))
                             tb.processEndTag("optgroup");
                         tb.insert(start);
                     } else if (name.equals("select")) {
diff --git a/src/test/java/org/jsoup/parser/HtmlParserTest.java b/src/test/java/org/jsoup/parser/HtmlParserTest.java
index 00a26046..b9d5c619 100644
--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java
+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java
@@ -1294,4 +1294,23 @@ public class HtmlParserTest {
         Document doc = Jsoup.parse("<p>" + text);
         assertEquals(text, doc.text());
     }
+
+    @Test public void testStartOptGroup() {
+        // https://github.com/jhy/jsoup/issues/1313
+        String html = "<select>\n" +
+            "  <optgroup label=\"a\">\n" +
+            "  <option>one\n" +
+            "  <option>two\n" +
+            "  <option>three\n" +
+            "  <optgroup label=\"b\">\n" +
+            "  <option>four\n" +
+            "  <option>fix\n" +
+            "  <option>six\n" +
+            "</select>";
+        Document doc = Jsoup.parse(html);
+        Element select = doc.selectFirst("select");
+        //assertEquals(2, select.childrenSize());
+
+        assertEquals("<optgroup label=\"a\"> <option>one </option><option>two </option><option>three </option></optgroup><optgroup label=\"b\"> <option>four </option><option>fix </option><option>six </option></optgroup>", select.html());
+    }
 }
