diff --git a/CHANGES b/CHANGES
index 9bd97ff7..024d834c 100644
--- a/CHANGES
+++ b/CHANGES
@@ -25,6 +25,11 @@ jsoup changelog
   * Bugfix: when the HTML parser was configured to preserve case, Element text methods would miss adding whitespace for
     "BR" tags.
 
+  * Bugfix: attribute names are now normalized & validated correctly for the specific output syntax (HTML or XML).
+    Previously, syntactically invalid attribute names could be output by the html() methods. Such attributes are still
+    available in the DOM, and will be normalized if possible on output.
+    <https://github.com/jhy/jsoup/issues/1474>
+
   * Build Improvement: fixed nullability annotations for Node.equals(other) and other equals methods.
     <https://github.com/jhy/jsoup/issues/1628>
 
diff --git a/src/main/java/org/jsoup/helper/W3CDom.java b/src/main/java/org/jsoup/helper/W3CDom.java
index 79ada449..8d38d74f 100644
--- a/src/main/java/org/jsoup/helper/W3CDom.java
+++ b/src/main/java/org/jsoup/helper/W3CDom.java
@@ -41,6 +41,7 @@ import java.util.Stack;
 import java.util.regex.Pattern;
 
 import static javax.xml.transform.OutputKeys.METHOD;
+import static org.jsoup.nodes.Document.OutputSettings.Syntax.xml;
 
 /**
  * Helper class to transform a {@link org.jsoup.nodes.Document} to a {@link org.w3c.dom.Document org.w3c.dom.Document},
@@ -340,15 +341,12 @@ public class W3CDom {
             namespacesStack.pop();
         }
 
-        private static final Pattern attrKeyReplace = Pattern.compile("[^-a-zA-Z0-9_:.]");
-        private static final Pattern attrKeyValid = Pattern.compile("[a-zA-Z_:][-a-zA-Z0-9_:.]*");
-
         private void copyAttributes(org.jsoup.nodes.Node source, Element el) {
             for (Attribute attribute : source.attributes()) {
-                // valid xml attribute names are: ^[a-zA-Z_:][-a-zA-Z0-9_:.]
-                String key = attrKeyReplace.matcher(attribute.getKey()).replaceAll("");
-                if (attrKeyValid.matcher(key).matches())
+                String key = Attribute.getValidKey(attribute.getKey(), xml);
+                if (key != null) { // null if couldn't be coerced to validity
                     el.setAttribute(key, attribute.getValue());
+                }
             }
         }
 
diff --git a/src/main/java/org/jsoup/nodes/Attribute.java b/src/main/java/org/jsoup/nodes/Attribute.java
index 9ac16230..a1b2ae21 100644
--- a/src/main/java/org/jsoup/nodes/Attribute.java
+++ b/src/main/java/org/jsoup/nodes/Attribute.java
@@ -1,13 +1,15 @@
 package org.jsoup.nodes;
 
 import org.jsoup.SerializationException;
-import org.jsoup.internal.StringUtil;
 import org.jsoup.helper.Validate;
+import org.jsoup.internal.StringUtil;
+import org.jsoup.nodes.Document.OutputSettings.Syntax;
 
 import javax.annotation.Nullable;
 import java.io.IOException;
 import java.util.Arrays;
 import java.util.Map;
+import java.util.regex.Pattern;
 
 /**
  A single key + value attribute. (Only used for presentation.)
@@ -122,7 +124,18 @@ public class Attribute implements Map.Entry<String, String>, Cloneable  {
         return StringUtil.releaseBuilder(sb);
     }
 
+    protected void html(Appendable accum, Document.OutputSettings out) throws IOException {
+        html(key, val, accum, out);
+    }
+
     protected static void html(String key, @Nullable String val, Appendable accum, Document.OutputSettings out) throws IOException {
+        key = getValidKey(key, out.syntax());
+        if (key == null) return; // can't write it :(
+        htmlNoValidate(key, val, accum, out);
+    }
+
+    static void htmlNoValidate(String key, @Nullable String val, Appendable accum, Document.OutputSettings out) throws IOException {
+        // structured like this so that Attributes can check we can write first, so it can add whitespace correctly
         accum.append(key);
         if (!shouldCollapseAttribute(key, val, out)) {
             accum.append("=\"");
@@ -130,9 +143,23 @@ public class Attribute implements Map.Entry<String, String>, Cloneable  {
             accum.append('"');
         }
     }
-    
-    protected void html(Appendable accum, Document.OutputSettings out) throws IOException {
-        html(key, val, accum, out);
+
+    private static final Pattern xmlKeyValid = Pattern.compile("[a-zA-Z_:][-a-zA-Z0-9_:.]*");
+    private static final Pattern xmlKeyReplace = Pattern.compile("[^-a-zA-Z0-9_:.]");
+    private static final Pattern htmlKeyValid = Pattern.compile("[^\\x00-\\x1f\\x7f-\\x9f \"'/=]+");
+    private static final Pattern htmlKeyReplace = Pattern.compile("[\\x00-\\x1f\\x7f-\\x9f \"'/=]");
+
+    @Nullable public static String getValidKey(String key, Syntax syntax) {
+        // we consider HTML attributes to always be valid. XML checks key validity
+        if (syntax == Syntax.xml && !xmlKeyValid.matcher(key).matches()) {
+            key = xmlKeyReplace.matcher(key).replaceAll("");
+            return xmlKeyValid.matcher(key).matches() ? key : null; // null if could not be coerced
+        }
+        else if (syntax == Syntax.html && !htmlKeyValid.matcher(key).matches()) {
+            key = htmlKeyReplace.matcher(key).replaceAll("");
+            return htmlKeyValid.matcher(key).matches() ? key : null; // null if could not be coerced
+        }
+        return key;
     }
 
     /**
@@ -176,7 +203,7 @@ public class Attribute implements Map.Entry<String, String>, Cloneable  {
     // collapse unknown foo=null, known checked=null, checked="", checked=checked; write out others
     protected static boolean shouldCollapseAttribute(final String key, @Nullable final String val, final Document.OutputSettings out) {
         return (
-            out.syntax() == Document.OutputSettings.Syntax.html &&
+            out.syntax() == Syntax.html &&
                 (val == null || (val.isEmpty() || val.equalsIgnoreCase(key)) && Attribute.isBooleanAttribute(key)));
     }
 
diff --git a/src/main/java/org/jsoup/nodes/Attributes.java b/src/main/java/org/jsoup/nodes/Attributes.java
index fc442ef8..97c4b958 100644
--- a/src/main/java/org/jsoup/nodes/Attributes.java
+++ b/src/main/java/org/jsoup/nodes/Attributes.java
@@ -350,18 +350,9 @@ public class Attributes implements Iterable<Attribute>, Cloneable {
         for (int i = 0; i < sz; i++) {
             if (isInternalKey(keys[i]))
                 continue;
-
-            // inlined from Attribute.html()
-            final String key = keys[i];
-            final String val = vals[i];
-            accum.append(' ').append(key);
-
-            // collapse checked=null, checked="", checked=checked; write out others
-            if (!Attribute.shouldCollapseAttribute(key, val, out)) {
-                accum.append("=\"");
-                Entities.escape(accum, val == null ? EmptyString : val, out, true, false, false);
-                accum.append('"');
-            }
+            final String key = Attribute.getValidKey(keys[i], out.syntax());
+            if (key != null)
+                Attribute.htmlNoValidate(key, vals[i], accum.append(' '), out);
         }
     }
 
diff --git a/src/test/java/org/jsoup/parser/HtmlParserTest.java b/src/test/java/org/jsoup/parser/HtmlParserTest.java
index 33e5f9e9..95cf165f 100644
--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java
+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java
@@ -67,13 +67,13 @@ public class HtmlParserTest {
 
     @Test public void parsesQuiteRoughAttributes() {
         String html = "<p =a>One<a <p>Something</p>Else";
-        // this (used to; now gets cleaner) gets a <p> with attr '=a' and an <a tag with an attribue named '<p'; and then auto-recreated
+        // this (used to; now gets cleaner) gets a <p> with attr '=a' and an <a tag with an attribute named '<p'; and then auto-recreated
         Document doc = Jsoup.parse(html);
 
         // NOTE: per spec this should be the test case. but impacts too many ppl
         // assertEquals("<p =a>One<a <p>Something</a></p>\n<a <p>Else</a>", doc.body().html());
 
-        assertEquals("<p =a>One<a></a></p><p><a>Something</a></p><a>Else</a>", TextUtil.stripNewlines(doc.body().html()));
+        assertEquals("<p a>One<a></a></p><p><a>Something</a></p><a>Else</a>", TextUtil.stripNewlines(doc.body().html()));
 
         doc = Jsoup.parse("<p .....>");
         assertEquals("<p .....></p>", doc.body().html());
@@ -1490,4 +1490,13 @@ public class HtmlParserTest {
             assertEquals("&lt;" + tag + "&gt;Text<!--/" + tag + "-->", doc.body().html());
         }
     }
+
+    @Test void htmlOutputCorrectsInvalidAttributeNames() {
+        String html = "<body style=\"color: red\" \" name\"><div =\"\"></div></body>";
+        Document doc = Jsoup.parse(html);
+        assertEquals(Document.OutputSettings.Syntax.html, doc.outputSettings().syntax());
+
+        String out = doc.body().outerHtml();
+        assertEquals("<body style=\"color: red\" name>\n <div></div>\n</body>", out);
+    }
 }
diff --git a/src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java b/src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java
index 8fb0fbd8..8cd6bdd5 100644
--- a/src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java
+++ b/src/test/java/org/jsoup/parser/XmlTreeBuilderTest.java
@@ -290,4 +290,12 @@ public class XmlTreeBuilderTest {
         assertEquals("<p one=\"&lt;two>&copy;\">Three</p>", doc.html());
     }
 
+    @Test void xmlOutputCorrectsInvalidAttributeNames() {
+        String xml = "<body style=\"color: red\" \" name\"><div =\"\"></div></body>";
+        Document doc = Jsoup.parse(xml, Parser.xmlParser());
+        assertEquals(Syntax.xml, doc.outputSettings().syntax());
+
+        String out = doc.html();
+        assertEquals("<body style=\"color: red\" name=\"\"><div></div></body>", out);
+    }
 }
