{"url":"https://api.github.com/repos/jhy/jsoup/issues/537","repository_url":"https://api.github.com/repos/jhy/jsoup","labels_url":"https://api.github.com/repos/jhy/jsoup/issues/537/labels{/name}","comments_url":"https://api.github.com/repos/jhy/jsoup/issues/537/comments","events_url":"https://api.github.com/repos/jhy/jsoup/issues/537/events","html_url":"https://github.com/jhy/jsoup/issues/537","id":60654682,"node_id":"MDU6SXNzdWU2MDY1NDY4Mg==","number":537,"title":"Element.hashCode() ignores the content text of the element.","user":{"login":"JonasCz","id":10514959,"node_id":"MDQ6VXNlcjEwNTE0OTU5","avatar_url":"https://avatars.githubusercontent.com/u/10514959?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasCz","html_url":"https://github.com/JonasCz","followers_url":"https://api.github.com/users/JonasCz/followers","following_url":"https://api.github.com/users/JonasCz/following{/other_user}","gists_url":"https://api.github.com/users/JonasCz/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasCz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasCz/subscriptions","organizations_url":"https://api.github.com/users/JonasCz/orgs","repos_url":"https://api.github.com/users/JonasCz/repos","events_url":"https://api.github.com/users/JonasCz/events{/privacy}","received_events_url":"https://api.github.com/users/JonasCz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-03-11T13:02:21Z","updated_at":"2022-06-11T21:47:15Z","closed_at":"2015-03-30T01:11:03Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Found [this question](http://stackoverflow.com/questions/28970732/jsoup-node-hash-code-collision-when-traversing-dom-tree/28971463) on SO, OP was using `Element.hashCode()` and it wasn't woring right.\r\n\r\nThe problem is that when jsoup generates the hashCode of an Element, the content text of the element will be ignored, and the hashCode is generated only based on the attributes, and the hashCode of the parent Element.\r\n\r\n---\r\n\r\nUsing the following HTML:\r\n\r\n```\r\n<html>\r\n    <head>\r\n    </head>\r\n    <body>\r\n        <div style=\"blah\">TODO: write content</div>\r\n        <div style=\"blah\">Nothing here</div>\r\n        <p style=\"test\">Empty</p>\r\n        <p style=\"nothing\">Empty</p>\r\n    </body>\r\n</html>\r\n```\r\n\r\nAnd the following code:\r\n\r\n```\r\nString html = //HTML posted above\r\n\r\nDocument doc = Jsoup.parse(html);\r\n\r\nElements elements = doc.select(\"[style]\");\r\nfor (Element e : elements) {\r\n   System.out.println(e.hashCode());\r\n}\r\n```\r\n\r\nIt gives:\r\n\r\n```\r\n-148184373\r\n-148184373\r\n-1050420242\r\n2013043377\r\n```\r\n\r\nI believe the hashCode should be different for the first two Elements, since the content is text is different. Or is this intended behaviour?\r\n","closed_by":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jhy/jsoup/issues/537/timeline","performed_via_github_app":null,"state_reason":"completed"}