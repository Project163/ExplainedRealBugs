[{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1436278624","html_url":"https://github.com/jhy/jsoup/issues/1891#issuecomment-1436278624","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1891","id":1436278624,"node_id":"IC_kwDOAAbAPs5Vm99g","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-20T03:43:59Z","updated_at":"2023-02-20T03:44:29Z","body":"I'm not able to repro this in 1.15.4. See [this example](https://try.jsoup.org/~amFaC5rkt-AJw7rlBTUyftfmBK0), returns:\r\n\r\n```html\r\n  <div>\r\n   <pre><span><b><u><span>TEST</span></u></b></span></pre>\r\n  </div>\r\n```\r\n\r\njsoup does test if an element is in a `<pre>` (in `Element#preserveWhitespace()`) and will preserve textnode formatting; and should not be otherwise formatting elements. There is a limit (6 up levels) of stack depth as an optimization for serialization time, but that wouldn't be impacting in this instance. I guess this issue was resolved in one of the pretty-print fixes in 1.15.4 but haven't checked yet.\r\n\r\nCan you review with 1.15.4? If you find other cases where's it's not working as desired, happy to take a look.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1436278624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8557171282,"node_id":"LE_lADOAAbAPs5dkoFozwAAAAH-DBJS","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8557171282","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-02-20T03:44:45Z","label":{"name":"no-repro","color":"207de5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1437189408","html_url":"https://github.com/jhy/jsoup/issues/1891#issuecomment-1437189408","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1891","id":1437189408,"node_id":"IC_kwDOAAbAPs5VqcUg","user":{"login":"NiccoMlt","id":18643366,"node_id":"MDQ6VXNlcjE4NjQzMzY2","avatar_url":"https://avatars.githubusercontent.com/u/18643366?v=4","gravatar_id":"","url":"https://api.github.com/users/NiccoMlt","html_url":"https://github.com/NiccoMlt","followers_url":"https://api.github.com/users/NiccoMlt/followers","following_url":"https://api.github.com/users/NiccoMlt/following{/other_user}","gists_url":"https://api.github.com/users/NiccoMlt/gists{/gist_id}","starred_url":"https://api.github.com/users/NiccoMlt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiccoMlt/subscriptions","organizations_url":"https://api.github.com/users/NiccoMlt/orgs","repos_url":"https://api.github.com/users/NiccoMlt/repos","events_url":"https://api.github.com/users/NiccoMlt/events{/privacy}","received_events_url":"https://api.github.com/users/NiccoMlt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-20T15:24:02Z","updated_at":"2023-02-21T09:16:08Z","body":"Hi, thank you for your answer, you are right about the minimum example, it seems to be fixed.\r\n\r\nSadly, I'm still experiencing the problem when moving to my acutal document; I cannot provide the full document, but I can provide another example:\r\n\r\n```html\r\n<div>\r\n    <pre><span><b><u><o:p>TEST</o:p></u></b></span></pre>\r\n</div>\r\n```\r\n\r\nThe following code under Jsoup 1.15.4 will be formatted as:\r\n\r\n```html\r\n<html>\r\n <head></head>\r\n <body>\r\n  <div>\r\n   <pre><span><b><u>\r\n       <o:p>TEST\r\n       </o:p></u></b></span></pre>\r\n  </div>\r\n </body>\r\n</html>\r\n```\r\n\r\nNote that I replaced the `<span>` tag to an Office-namespaced paragraph tag `<o:p>`.\r\n\r\nHTML documents with these tags are usually produced by tools like Microsoft Word and Microsoft Outlook.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1437189408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NiccoMlt","id":18643366,"node_id":"MDQ6VXNlcjE4NjQzMzY2","avatar_url":"https://avatars.githubusercontent.com/u/18643366?v=4","gravatar_id":"","url":"https://api.github.com/users/NiccoMlt","html_url":"https://github.com/NiccoMlt","followers_url":"https://api.github.com/users/NiccoMlt/followers","following_url":"https://api.github.com/users/NiccoMlt/following{/other_user}","gists_url":"https://api.github.com/users/NiccoMlt/gists{/gist_id}","starred_url":"https://api.github.com/users/NiccoMlt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NiccoMlt/subscriptions","organizations_url":"https://api.github.com/users/NiccoMlt/orgs","repos_url":"https://api.github.com/users/NiccoMlt/repos","events_url":"https://api.github.com/users/NiccoMlt/events{/privacy}","received_events_url":"https://api.github.com/users/NiccoMlt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8703132581,"node_id":"CE_lADOAAbAPs5dkoFozwAAAAIGv0Ol","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8703132581","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"2f48a617fe48262c0c688188345f73a0fbfe6e59","commit_url":"https://api.github.com/repos/jhy/jsoup/commits/2f48a617fe48262c0c688188345f73a0fbfe6e59","created_at":"2023-03-09T04:32:18Z","state_reason":null,"performed_via_github_app":null},{"id":8703132677,"node_id":"UNLE_lADOAAbAPs5dkoFozwAAAAIGv0QF","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8703132677","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-03-09T04:32:20Z","label":{"name":"no-repro","color":"207de5"},"performed_via_github_app":null},{"id":8703132682,"node_id":"LE_lADOAAbAPs5dkoFozwAAAAIGv0QK","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8703132682","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-09T04:32:20Z","label":{"name":"bug","color":"e10c02"},"performed_via_github_app":null},{"id":8703132686,"node_id":"LE_lADOAAbAPs5dkoFozwAAAAIGv0QO","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8703132686","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-09T04:32:20Z","label":{"name":"fixed","color":"c2e0c6"},"performed_via_github_app":null},{"id":8703132798,"node_id":"MIE_lADOAAbAPs5dkoFozwAAAAIGv0R-","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8703132798","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-03-09T04:32:22Z","milestone":{"title":"1.16.1"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1461265388","html_url":"https://github.com/jhy/jsoup/issues/1891#issuecomment-1461265388","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1891","id":1461265388,"node_id":"IC_kwDOAAbAPs5XGSPs","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-09T04:33:29Z","updated_at":"2023-03-09T04:33:29Z","body":"Thanks for the updated detail -- fixed","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1461265388/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12850921181,"node_id":"REFE_lADOAAbAPs5dkoFozwAAAAL9-X7d","url":"https://api.github.com/repos/jhy/jsoup/issues/events/12850921181","actor":{"login":"royt93","id":13247132,"node_id":"MDQ6VXNlcjEzMjQ3MTMy","avatar_url":"https://avatars.githubusercontent.com/u/13247132?v=4","gravatar_id":"","url":"https://api.github.com/users/royt93","html_url":"https://github.com/royt93","followers_url":"https://api.github.com/users/royt93/followers","following_url":"https://api.github.com/users/royt93/following{/other_user}","gists_url":"https://api.github.com/users/royt93/gists{/gist_id}","starred_url":"https://api.github.com/users/royt93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/royt93/subscriptions","organizations_url":"https://api.github.com/users/royt93/orgs","repos_url":"https://api.github.com/users/royt93/repos","events_url":"https://api.github.com/users/royt93/events{/privacy}","received_events_url":"https://api.github.com/users/royt93/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2f48a617fe48262c0c688188345f73a0fbfe6e59","commit_url":"https://api.github.com/repos/royt93/lib_jsoup/commits/2f48a617fe48262c0c688188345f73a0fbfe6e59","created_at":"2024-05-17T16:29:35Z","performed_via_github_app":null}]