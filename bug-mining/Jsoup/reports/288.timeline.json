[{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/998720882","html_url":"https://github.com/jhy/jsoup/issues/1691#issuecomment-998720882","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1691","id":998720882,"node_id":"IC_kwDOAAbAPs47h0Vy","user":{"login":"MasterChiefNemo","id":2308409,"node_id":"MDQ6VXNlcjIzMDg0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2308409?v=4","gravatar_id":"","url":"https://api.github.com/users/MasterChiefNemo","html_url":"https://github.com/MasterChiefNemo","followers_url":"https://api.github.com/users/MasterChiefNemo/followers","following_url":"https://api.github.com/users/MasterChiefNemo/following{/other_user}","gists_url":"https://api.github.com/users/MasterChiefNemo/gists{/gist_id}","starred_url":"https://api.github.com/users/MasterChiefNemo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MasterChiefNemo/subscriptions","organizations_url":"https://api.github.com/users/MasterChiefNemo/orgs","repos_url":"https://api.github.com/users/MasterChiefNemo/repos","events_url":"https://api.github.com/users/MasterChiefNemo/events{/privacy}","received_events_url":"https://api.github.com/users/MasterChiefNemo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-21T12:00:05Z","updated_at":"2021-12-21T12:00:05Z","body":"I was thinking, the input could be scrubbed at the highest level possible, before being passed down to other methods. Just an idea, because it would be a pain in the ass to clean up and test everything.\r\n\r\nIf there's a better way to tidy this up though, would like to hear it before I attempt a fix.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/998720882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MasterChiefNemo","id":2308409,"node_id":"MDQ6VXNlcjIzMDg0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2308409?v=4","gravatar_id":"","url":"https://api.github.com/users/MasterChiefNemo","html_url":"https://github.com/MasterChiefNemo","followers_url":"https://api.github.com/users/MasterChiefNemo/followers","following_url":"https://api.github.com/users/MasterChiefNemo/following{/other_user}","gists_url":"https://api.github.com/users/MasterChiefNemo/gists{/gist_id}","starred_url":"https://api.github.com/users/MasterChiefNemo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MasterChiefNemo/subscriptions","organizations_url":"https://api.github.com/users/MasterChiefNemo/orgs","repos_url":"https://api.github.com/users/MasterChiefNemo/repos","events_url":"https://api.github.com/users/MasterChiefNemo/events{/privacy}","received_events_url":"https://api.github.com/users/MasterChiefNemo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5807338689,"node_id":"CE_lADOAAbAPs5Ar4FUzwAAAAFaJPTB","url":"https://api.github.com/repos/jhy/jsoup/issues/events/5807338689","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"7f1732a50ae9478496f74307fc0ac22044a504d0","commit_url":"https://api.github.com/repos/jhy/jsoup/commits/7f1732a50ae9478496f74307fc0ac22044a504d0","created_at":"2021-12-23T00:12:41Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/999954158","html_url":"https://github.com/jhy/jsoup/issues/1691#issuecomment-999954158","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1691","id":999954158,"node_id":"IC_kwDOAAbAPs47mhbu","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-23T00:15:48Z","updated_at":"2021-12-23T00:15:48Z","body":"Thanks for pointing out the formatting bug. I've added a single parameter API so that if the string doesn't need formatting (no parameters), it doesn't run through String.format. There's only six uses of the method (within the library) so it's not particularly burdensome to audit.\r\n\r\nI find drawing a link between this and the Log4J2 / JNDI RCE is somewhat overblown. In this flow we're creating an Exception (**not** a crash) which is an IllegalStateException descender to indicate an unknown selector - or an IllegalFormatException if we tried to format that message incorrectly. There's no network path, no loading of remote classes, etc. Regardless, good to clean it up.\r\n\r\n![image](https://user-images.githubusercontent.com/76934/147168941-2fdbd355-0325-4c34-8f29-309849c60608.png)\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/999954158/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5807345697,"node_id":"MIE_lADOAAbAPs5Ar4FUzwAAAAFaJRAh","url":"https://api.github.com/repos/jhy/jsoup/issues/events/5807345697","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-12-23T00:16:06Z","milestone":{"title":"1.15.1"},"performed_via_github_app":null},{"id":5807346343,"node_id":"LE_lADOAAbAPs5Ar4FUzwAAAAFaJRKn","url":"https://api.github.com/repos/jhy/jsoup/issues/events/5807346343","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-12-23T00:16:26Z","label":{"name":"bug","color":"e10c02"},"performed_via_github_app":null},{"id":5807346345,"node_id":"LE_lADOAAbAPs5Ar4FUzwAAAAFaJRKp","url":"https://api.github.com/repos/jhy/jsoup/issues/events/5807346345","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-12-23T00:16:26Z","label":{"name":"fixed","color":"c2e0c6"},"performed_via_github_app":null},{"id":5807668324,"node_id":"REFE_lADOAAbAPs5Ar4FUzwAAAAFaKfxk","url":"https://api.github.com/repos/jhy/jsoup/issues/events/5807668324","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"639900f6210ecd201d607d1865868dcb03a7c70d","commit_url":"https://api.github.com/repos/jhy/jsoup/commits/639900f6210ecd201d607d1865868dcb03a7c70d","created_at":"2021-12-23T02:47:04Z","performed_via_github_app":null},{"id":12942222482,"node_id":"REFE_lADOAAbAPs5Ar4FUzwAAAAMDaqSS","url":"https://api.github.com/repos/jhy/jsoup/issues/events/12942222482","actor":{"login":"winning1120xx","id":6879244,"node_id":"MDQ6VXNlcjY4NzkyNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6879244?v=4","gravatar_id":"","url":"https://api.github.com/users/winning1120xx","html_url":"https://github.com/winning1120xx","followers_url":"https://api.github.com/users/winning1120xx/followers","following_url":"https://api.github.com/users/winning1120xx/following{/other_user}","gists_url":"https://api.github.com/users/winning1120xx/gists{/gist_id}","starred_url":"https://api.github.com/users/winning1120xx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winning1120xx/subscriptions","organizations_url":"https://api.github.com/users/winning1120xx/orgs","repos_url":"https://api.github.com/users/winning1120xx/repos","events_url":"https://api.github.com/users/winning1120xx/events{/privacy}","received_events_url":"https://api.github.com/users/winning1120xx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7f1732a50ae9478496f74307fc0ac22044a504d0","commit_url":"https://api.github.com/repos/winning1120xx/jsoup/commits/7f1732a50ae9478496f74307fc0ac22044a504d0","created_at":"2024-05-27T08:08:15Z","performed_via_github_app":null}]