[{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1841976418","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1841976418","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1841976418,"node_id":"IC_kwDOAAbAPs5tylRi","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T02:18:46Z","updated_at":"2023-12-06T02:18:46Z","body":"> A text node can even have multiple CDATA nodes. But a CDATA node cannot have another CDATA node in it.\r\n\r\nI feel this is the crux of the issue. Logically there are 3 seperate node types in play - a TextNode, a DataNode, and a CDataNode. Each are leaf nodes -- logically a TextNode (or DataNode) could not contain a CDataNode. Either the parser parses each individually (so perhaps if this were in a `<p>` element, it might be TextNode, CData, TextNode, Cdata).\r\n\r\nIn a HTML parse, the contents of a `<script>` are tokenized in the [Script Data State](https://html.spec.whatwg.org/multipage/parsing.html#script-data-state). There is no concept of a CData node. Only DataNodes or potentially HTML comments.\r\n\r\nAnd if I run your original HTML in Chrome, I actually get a Javascript syntax error:\r\n```\r\nUncaught SyntaxError: Unexpected token '<' (at script-data-input.html:1:155)\r\n```\r\n\r\nAs it's also not tokenising the `<![CDATA[]]>` as anything special - just a data literal, which then blows up in the Javascript parser.\r\n\r\nBack in the olden days I recall there was special handling in the script flow that would parse the CData section specifically (as there is for other markup types - [CData section](https://html.spec.whatwg.org/multipage/parsing.html#markup-declaration-open-state:cdata-section-state)).\r\n\r\nHave you got an example URL with script data like this (with Cdata) that a browser executes? I would like to inspect to see if something else is supposed to kick it into XML parse mode. \r\n\r\nOtherwise, I'm not sure how to appropriately handle the situation.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1841976418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842015528","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1842015528","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1842015528,"node_id":"IC_kwDOAAbAPs5tyu0o","user":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T03:12:13Z","updated_at":"2023-12-06T03:18:42Z","body":"Hi @jhy,\r\nThe Java test code I made I focused on reproducing the scenario in the jsoup and showing the CDATA being added around the other one, and actually used a sample HTML in that test code that results in script error if rendered in a browser. Sorry about that.\r\n\r\nHere is an example of a full XHTML using CDATA properly working on browsers:\r\n```\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\r\n<html><head></head><body>\r\n<script>//<![CDATA[[\r\n\tconsole.log('script sucessfully executed even with a special character ampersand &');\r\n//]]></script>\r\n</body></html>\r\n``` \r\n\r\nThe rationale about this style of CDATA usage is that when using XHTML, for the document to be both compatible with HTML and XML parsers it is good practice to use a commented CDATA on the <script>, as it is common for scripts to have special characters that would require escaping in XML but would not be escaped in HTML. This way those special characters does not need to be escaped and become compatible in both XML (that will take CDATA into account) and HTML (that does not take CDATA into account but will just ignore it as it is commented). As a reference of this I present you the Appendix A of XHTML media type document that describes compatibility guidelines (\"This appendix summarizes design guidelines for authors who wish their XHTML documents to render on both XHTML-aware and modern HTML user agents\"). The item A.4 of this appendix describes this style of CDATA usage to obtain such compatibility with embedded script and style tags. Here is a link for this item: https://www.w3.org/TR/2009/NOTE-xhtml-media-types-20090116/#C_4\r\n\r\nWith the changes made in 1.17.1, the use of jsoup to process XHTML (using jsoup to make some modifications on the XHTML for example) and then using the resulting source-code read from jsoup now generates a XHTML that fails as both XML and HTML due to that added CDATA in the script element. Until jsoup 1.16.2 I could do this without any problem.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842015528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11161801326,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKZS5Ju","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11161801326","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-06T03:12:13Z","performed_via_github_app":null},{"id":11161801332,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKZS5J0","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11161801332","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-06T03:12:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842044258","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1842044258","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1842044258,"node_id":"IC_kwDOAAbAPs5ty11i","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T03:58:04Z","updated_at":"2023-12-06T03:58:04Z","body":"Thanks, got it. So in context the browser is not parsing the CData as anything special and just a data literal, but the Javascript parser drops it as the comment.\r\n\r\nNot sure the best approach here.\r\n\r\nHow are you presenting the content after your trip through jsoup? As HTML or XML?\r\n\r\nI'm thinking that if you are presenting it as HTML you are not going to want a CData directly after the `<script>` tag, regardless of if the content within has a CData. You want it preserved in the form of the JS comment.\r\n\r\nMaybe the concept of #1720 needs to change to do a deeper introspection and add / preserve a comment node. But then it's moving away from the DataNode just changing its escape manner. And it won't work directly for e.g. `<style>` tags.\r\n\r\nMaybe there's another output mode required which is XHTML. But I don't really think that's a good path and think in most cases folks should move away from that. But perhaps that's the implicit goal here.\r\n\r\nMaybe to help me understand better and weave this path - why are you setting the output syntax to XML? It's not about parsing with an XML parser, right?\r\n\r\n\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842044258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842059944","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1842059944","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1842059944,"node_id":"IC_kwDOAAbAPs5ty5qo","user":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T04:20:48Z","updated_at":"2023-12-06T04:35:04Z","body":"> How are you presenting the content after your trip through jsoup? As HTML or XML?\r\n\r\nIn the end the content is presented on the browser as HTML, but as a XHTML due to the doctype. As its doctype specifies it as XHTML, it is required to follow XHTML specifications so it also passes some code validations, just being able to be rendered by modern browsers while not following the specifications would not be enough for some clients that are stricter in their validations.\r\n\r\n> Maybe to help me understand better and weave this path - why are you setting the output syntax to XML? It's not about parsing with an XML parser, right?\r\n\r\nI set the output syntax to XML so the generated code is following the XHTML specification. XHTML requires the code to be XML compatible. Although I am not parsing it with a XML parser myself, the specification requires it to be compatible with it.\r\nFor example, while in HTML you may have unclosed tags like `<meta ...>` and `<br>`, in XHTML they must be properly closed, for example as `<br/>` and `<meta ... />`.  Using output syntax HTML, he was for example generating `meta` and `br` tags unclosed.\r\nModern browsers will likely accept both as they are quite lenient, but in my case I am required to modify something in a a valid XHTML code expecting to generate a valid XHTML code as a result. If the result is validated by a tool such as https://validator.w3.org it is expected to pass\r\n\r\nI also have scenario of both type of inputs, XHTML and HTML5. So I basically use jsoup to parse the input no matter which of both types it is, and then after processing, to generate the output, if the input was XHTML I use Syntax.xml, and if the input was HTML5 I use Syntax.html.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842059944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842070156","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1842070156","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1842070156,"node_id":"IC_kwDOAAbAPs5ty8KM","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T04:34:40Z","updated_at":"2023-12-17T01:02:13Z","body":"OK so that kind of connects with my thought that a OutputSyntax type of XHTML would make sense in this context. It's neither HTML nor XML. Perhaps a different question would be why have a goal of producing XHTML? As it's been dead since 2005 ~ 2007 at least. (Per your edit, makes sense; not producing new XHTML but trying to be light touch on existing older styles, I assume.) \r\n\r\nWithout introducing a new mode the best I can think of is to have the DataNode see if it's in a `<script>`, and if the contents don't start with something like `//<!CDATA[`, add that. Effectively introducing the polyglot escape if it's not already there.\r\n\r\n@maxfortun could you take a look at this thread? Wondering what context you're using the output and why it doesn't need the `//<!CDATA[` polyglot. Perhaps you're serving the content as XML and browsers are invoking their XML parser? I still feel I'm missing something.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842070156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11162206984,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKZUcMI","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11162206984","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-06T04:34:40Z","performed_via_github_app":null},{"id":11162206987,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKZUcML","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11162206987","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-06T04:34:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842082537","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1842082537","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1842082537,"node_id":"IC_kwDOAAbAPs5ty_Lp","user":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T04:52:08Z","updated_at":"2023-12-06T04:52:19Z","body":"> not producing new XHTML but trying to be light touch on existing older style\r\n\r\nYes, new code now uses HTML5 not XHTML. But to keep compatibility with some older code base that uses XHTML we still support it.\r\n\r\n> Without introducing a new mode the best I can think of is to have the DataNode see if it's in a <script>, and if the contents don't start with something like //<!CDATA[, add that. Effectively introducing the polygot escape if it's not already there.\r\n\r\nWould it be possible for a DataNode that was not modified to just keep its text as is? Like if the decision to introduce a CDATA in it would only be needed if it is modified.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1842082537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847450218","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1847450218","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1847450218,"node_id":"IC_kwDOAAbAPs5uHdpq","user":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T16:04:16Z","updated_at":"2023-12-08T16:05:05Z","body":"CDATA in CDATA... What an interesting oversight on my part. If I recall correctly at the time I used this library to convert [Google web stories](https://amp.dev/about/stories) in AMP format, which is xhtml into an xml document for further XSL transformations, and html entities were not being converted properly into their xml equivalents. Instead of escaping the individual characters I just wrapped the whole section in CDATA, and now I see that character conversion is probably a more appropriate way to go...\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847450218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847458189","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1847458189","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1847458189,"node_id":"IC_kwDOAAbAPs5uHfmN","user":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T16:10:10Z","updated_at":"2023-12-08T16:10:10Z","body":"If this is any helpful, this is my use-case:\r\n\r\n```\r\nDocument document = Jsoup.parse(ampXhtml, \"\", Parser.xmlParser());\r\ndocument.outputSettings().syntax(Document.OutputSettings.Syntax.xml).escapeMode(Entities.EscapeMode.xhtml);\r\nString ampXml = document.toString();\r\n\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847458189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11195752727,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKbUaEX","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11195752727","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-08T16:57:26Z","performed_via_github_app":null},{"id":11195752734,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKbUaEe","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11195752734","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-08T16:57:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847556567","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1847556567","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1847556567,"node_id":"IC_kwDOAAbAPs5uH3nX","user":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T17:22:15Z","updated_at":"2023-12-08T17:22:22Z","body":"> xhtml into an xml document for further XSL transformations\r\n\r\nI suspect that @maxfortun 's  use case, as it uses the output as XML, it would work if the input does not already contain CDATA. But if it did, it would break as it would add another CDATA around the existent one. \r\nAnd if the output was used as HTML rendered in a modern browser, it would break even if it did not already contain CDATA as it would be a syntax error on javascript the uncommented CDATA.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1847556567/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11195963005,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKbVNZ9","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11195963005","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-08T17:22:16Z","performed_via_github_app":null},{"id":11195963015,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKbVNaH","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11195963015","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-08T17:22:16Z","performed_via_github_app":null},{"id":11266944275,"node_id":"CE_lADOAAbAPs5408TvzwAAAAKfj-0T","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266944275","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8a4bdaef7aeaaa62d4016b890cdca87b1a701b7f","commit_url":"https://api.github.com/repos/jhy/jsoup/commits/8a4bdaef7aeaaa62d4016b890cdca87b1a701b7f","created_at":"2023-12-17T01:06:53Z","state_reason":null,"performed_via_github_app":null},{"id":11266944372,"node_id":"AE_lADOAAbAPs5408TvzwAAAAKfj-10","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266944372","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:06:59Z","assignee":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":11266944431,"node_id":"LE_lADOAAbAPs5408TvzwAAAAKfj-2v","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266944431","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:07:02Z","label":{"name":"bug","color":"e10c02"},"performed_via_github_app":null},{"id":11266944498,"node_id":"LE_lADOAAbAPs5408TvzwAAAAKfj-3y","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266944498","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:07:05Z","label":{"name":"fixed","color":"c2e0c6"},"performed_via_github_app":null},{"id":11266944539,"node_id":"MIE_lADOAAbAPs5408TvzwAAAAKfj-4b","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266944539","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:07:07Z","milestone":{"title":"1.17.2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1859004068","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1859004068","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1859004068,"node_id":"IC_kwDOAAbAPs5uziak","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T01:08:07Z","updated_at":"2023-12-17T01:08:07Z","body":"Thanks @rgevaerd and @maxfortun for the discussion - I've fixed this now. It would be great if you could review and test (with a snapshot version) and let me know if any issues.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1859004068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11266945627,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKfj_Jb","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266945627","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:08:08Z","performed_via_github_app":null},{"id":11266945628,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKfj_Jc","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266945628","actor":{"login":"maxfortun","id":10181876,"node_id":"MDQ6VXNlcjEwMTgxODc2","avatar_url":"https://avatars.githubusercontent.com/u/10181876?v=4","gravatar_id":"","url":"https://api.github.com/users/maxfortun","html_url":"https://github.com/maxfortun","followers_url":"https://api.github.com/users/maxfortun/followers","following_url":"https://api.github.com/users/maxfortun/following{/other_user}","gists_url":"https://api.github.com/users/maxfortun/gists{/gist_id}","starred_url":"https://api.github.com/users/maxfortun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxfortun/subscriptions","organizations_url":"https://api.github.com/users/maxfortun/orgs","repos_url":"https://api.github.com/users/maxfortun/repos","events_url":"https://api.github.com/users/maxfortun/events{/privacy}","received_events_url":"https://api.github.com/users/maxfortun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:08:08Z","performed_via_github_app":null},{"id":11266945629,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKfj_Jd","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266945629","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:08:08Z","performed_via_github_app":null},{"id":11266945630,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKfj_Je","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11266945630","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-17T01:08:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1865316412","html_url":"https://github.com/jhy/jsoup/issues/2078#issuecomment-1865316412","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/2078","id":1865316412,"node_id":"IC_kwDOAAbAPs5vLng8","user":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-21T00:34:37Z","updated_at":"2023-12-21T00:34:37Z","body":"> Thanks @rgevaerd and @maxfortun for the discussion - I've fixed this now. It would be great if you could review and test (with a snapshot version) and let me know if any issues.\r\n\r\n@jhy reviewing the code seems good to me. I could not test it, as I tried to get the snapshot from https://jsoup.org/packages/jsoup-1.17.2-SNAPSHOT.jar but it seems to be an old snapshot. Don't know where to get it updated.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1865316412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgevaerd","id":40905149,"node_id":"MDQ6VXNlcjQwOTA1MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/40905149?v=4","gravatar_id":"","url":"https://api.github.com/users/rgevaerd","html_url":"https://github.com/rgevaerd","followers_url":"https://api.github.com/users/rgevaerd/followers","following_url":"https://api.github.com/users/rgevaerd/following{/other_user}","gists_url":"https://api.github.com/users/rgevaerd/gists{/gist_id}","starred_url":"https://api.github.com/users/rgevaerd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgevaerd/subscriptions","organizations_url":"https://api.github.com/users/rgevaerd/orgs","repos_url":"https://api.github.com/users/rgevaerd/repos","events_url":"https://api.github.com/users/rgevaerd/events{/privacy}","received_events_url":"https://api.github.com/users/rgevaerd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11308828973,"node_id":"MEE_lADOAAbAPs5408TvzwAAAAKiDwkt","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11308828973","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-12-21T00:34:37Z","performed_via_github_app":null},{"id":11308828977,"node_id":"SE_lADOAAbAPs5408TvzwAAAAKiDwkx","url":"https://api.github.com/repos/jhy/jsoup/issues/events/11308828977","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-12-21T00:34:37Z","performed_via_github_app":null}]