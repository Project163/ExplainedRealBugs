[{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/545458","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-545458","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":545458,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTQ1OA==","user":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-16T15:52:15Z","updated_at":"2010-11-16T15:52:15Z","body":"I asked the question and also wrote a workaround thingie for the time being...\n\n```\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\n\n/**\n * @author bleadof\n */\npublic class DocumentCloner {\n\n    public static final String DEFAULT_BASE_HTML = \"<!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Transitional//EN\\\"\\n\"+\n                                                   \"    http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\\\">\\n\" +\n                                                   \"<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\"></html>\";\n    private String baseHTML;\n\n    public DocumentCloner() {\n        this.baseHTML = DEFAULT_BASE_HTML;\n    }\n\n    public DocumentCloner(String baseHTML) {\n        this.setBaseHTML(baseHTML);\n    }\n\n    public void setBaseHTML(String baseHTML) {\n        this.baseHTML = baseHTML;\n    }\n\n    public String getBaseHTML() {\n        return this.baseHTML;\n    }\n\n    public Document cloneDocument(Document original) {\n        Document clone = Jsoup.parse(this.getBaseHTML());\n        this.cloneHeadTo(original.getElementsByTag(\"head\").first(),\n                         clone.getElementsByTag(\"head\").first());\n        Element oBody = original.getElementsByTag(\"body\").first();\n        Element cBody = clone.getElementsByTag(\"body\").first();\n        for(Element oElem : oBody.children()) {\n            cBody.appendChild(this.cloneElement(oElem));\n        }\n        return clone;\n    }\n\n    public Element cloneElement(Element original) {\n        Element clone = new Element(original.tag(),\n                                    original.baseUri(),\n                                    original.attributes());\n        String ownText = original.ownText();\n        if(ownText != null) {\n            clone.text(ownText);\n        }\n        for(Element e : original.children()) {\n            clone.appendChild(this.cloneElement(e));\n        }\n        return clone;\n    }\n\n    public Element cloneHeadTo(Element oHead, Element cHead) {\n        for(Element e : oHead.children()) {\n            cHead.appendChild(this.cloneElement(e));\n        }\n        return cHead;\n    }\n}\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/545458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547040","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-547040","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":547040,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA0MA==","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-17T04:25:08Z","updated_at":"2010-11-17T04:25:08Z","body":"Thanks all, good idea\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547042","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-547042","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":547042,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA0Mg==","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-17T04:26:33Z","updated_at":"2010-11-17T04:26:33Z","body":"Implemented Node.clone() to create deep, independent copies of Nodes, Elements, and Documents.\n\nClosed by d255668cdf5d008b944f00d023199ae088c7aff0\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547650","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-547650","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":547650,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY1MA==","user":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-17T12:16:09Z","updated_at":"2010-11-17T12:16:09Z","body":"Hmh, this is good but what about the document declarations? Does it handle that too? I didn't see it in the test. Thanks for reacting so quickly. :)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/547650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/549103","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-549103","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":549103,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTEwMw==","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-17T21:51:50Z","updated_at":"2010-11-17T21:51:50Z","body":"Yes, it handles everything, because everything's a node. Here's a test: e9f7254535d7d78c11b1c552684b4ce048f56233 that confirms doctypes get cloned.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/549103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/549107","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-549107","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":549107,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTEwNw==","user":{"login":"BalusC","id":173372,"node_id":"MDQ6VXNlcjE3MzM3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/173372?v=4","gravatar_id":"","url":"https://api.github.com/users/BalusC","html_url":"https://github.com/BalusC","followers_url":"https://api.github.com/users/BalusC/followers","following_url":"https://api.github.com/users/BalusC/following{/other_user}","gists_url":"https://api.github.com/users/BalusC/gists{/gist_id}","starred_url":"https://api.github.com/users/BalusC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalusC/subscriptions","organizations_url":"https://api.github.com/users/BalusC/orgs","repos_url":"https://api.github.com/users/BalusC/repos","events_url":"https://api.github.com/users/BalusC/events{/privacy}","received_events_url":"https://api.github.com/users/BalusC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-17T21:52:57Z","updated_at":"2010-11-17T21:52:57Z","body":"Great job as usual, Jonathan :)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/549107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BalusC","id":173372,"node_id":"MDQ6VXNlcjE3MzM3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/173372?v=4","gravatar_id":"","url":"https://api.github.com/users/BalusC","html_url":"https://github.com/BalusC","followers_url":"https://api.github.com/users/BalusC/followers","following_url":"https://api.github.com/users/BalusC/following{/other_user}","gists_url":"https://api.github.com/users/BalusC/gists{/gist_id}","starred_url":"https://api.github.com/users/BalusC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalusC/subscriptions","organizations_url":"https://api.github.com/users/BalusC/orgs","repos_url":"https://api.github.com/users/BalusC/repos","events_url":"https://api.github.com/users/BalusC/events{/privacy}","received_events_url":"https://api.github.com/users/BalusC/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/550649","html_url":"https://github.com/jhy/jsoup/issues/47#issuecomment-550649","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/47","id":550649,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDY0OQ==","user":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-11-18T13:49:53Z","updated_at":"2010-11-18T13:49:53Z","body":"Brilliant stuff! :) You rock!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/550649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bleadof","id":484036,"node_id":"MDQ6VXNlcjQ4NDAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/484036?v=4","gravatar_id":"","url":"https://api.github.com/users/bleadof","html_url":"https://github.com/bleadof","followers_url":"https://api.github.com/users/bleadof/followers","following_url":"https://api.github.com/users/bleadof/following{/other_user}","gists_url":"https://api.github.com/users/bleadof/gists{/gist_id}","starred_url":"https://api.github.com/users/bleadof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleadof/subscriptions","organizations_url":"https://api.github.com/users/bleadof/orgs","repos_url":"https://api.github.com/users/bleadof/repos","events_url":"https://api.github.com/users/bleadof/events{/privacy}","received_events_url":"https://api.github.com/users/bleadof/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1736640,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3MzY2NDA=","url":"https://api.github.com/repos/jhy/jsoup/issues/events/1736640","actor":{"login":"michael-simons","id":526383,"node_id":"MDQ6VXNlcjUyNjM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/526383?v=4","gravatar_id":"","url":"https://api.github.com/users/michael-simons","html_url":"https://github.com/michael-simons","followers_url":"https://api.github.com/users/michael-simons/followers","following_url":"https://api.github.com/users/michael-simons/following{/other_user}","gists_url":"https://api.github.com/users/michael-simons/gists{/gist_id}","starred_url":"https://api.github.com/users/michael-simons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michael-simons/subscriptions","organizations_url":"https://api.github.com/users/michael-simons/orgs","repos_url":"https://api.github.com/users/michael-simons/repos","events_url":"https://api.github.com/users/michael-simons/events{/privacy}","received_events_url":"https://api.github.com/users/michael-simons/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5ca6b4041d0605025f1a1582a605d2aee377bc1c","commit_url":"https://api.github.com/repos/michael-simons/jsoup/commits/5ca6b4041d0605025f1a1582a605d2aee377bc1c","created_at":"2011-07-12T14:45:14Z","performed_via_github_app":null},{"id":436375502,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQzNjM3NTUwMg==","url":"https://api.github.com/repos/jhy/jsoup/issues/events/436375502","actor":{"login":"boferri","id":281172,"node_id":"MDQ6VXNlcjI4MTE3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/281172?v=4","gravatar_id":"","url":"https://api.github.com/users/boferri","html_url":"https://github.com/boferri","followers_url":"https://api.github.com/users/boferri/followers","following_url":"https://api.github.com/users/boferri/following{/other_user}","gists_url":"https://api.github.com/users/boferri/gists{/gist_id}","starred_url":"https://api.github.com/users/boferri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boferri/subscriptions","organizations_url":"https://api.github.com/users/boferri/orgs","repos_url":"https://api.github.com/users/boferri/repos","events_url":"https://api.github.com/users/boferri/events{/privacy}","received_events_url":"https://api.github.com/users/boferri/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d255668cdf5d008b944f00d023199ae088c7aff0","commit_url":"https://api.github.com/repos/dswarm/jsoup/commits/d255668cdf5d008b944f00d023199ae088c7aff0","created_at":"2015-10-15T13:25:35Z","performed_via_github_app":null}]