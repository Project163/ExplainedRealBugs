[{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1137938083","html_url":"https://github.com/jhy/jsoup/issues/1778#issuecomment-1137938083","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1778","id":1137938083,"node_id":"IC_kwDOAAbAPs5D046j","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T23:15:23Z","updated_at":"2022-05-25T23:15:23Z","body":"Thanks @galimru, I'll take a look. Can you confirm that if you start with `Jsoup.newSession()`, and then hit `session.newRequest()`, your flow works (cookies etc) and you don't get the repeated form data?  \r\n\r\nhttps://jsoup.org/apidocs/org/jsoup/Jsoup.html#newSession()\r\n\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1137938083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6681742492,"node_id":"MEE_lADOAAbAPs5KV6ljzwAAAAGOQ0yc","url":"https://api.github.com/repos/jhy/jsoup/issues/events/6681742492","actor":{"login":"galimru","id":5149355,"node_id":"MDQ6VXNlcjUxNDkzNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5149355?v=4","gravatar_id":"","url":"https://api.github.com/users/galimru","html_url":"https://github.com/galimru","followers_url":"https://api.github.com/users/galimru/followers","following_url":"https://api.github.com/users/galimru/following{/other_user}","gists_url":"https://api.github.com/users/galimru/gists{/gist_id}","starred_url":"https://api.github.com/users/galimru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galimru/subscriptions","organizations_url":"https://api.github.com/users/galimru/orgs","repos_url":"https://api.github.com/users/galimru/repos","events_url":"https://api.github.com/users/galimru/events{/privacy}","received_events_url":"https://api.github.com/users/galimru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-25T23:15:23Z","performed_via_github_app":null},{"id":6681742497,"node_id":"SE_lADOAAbAPs5KV6ljzwAAAAGOQ0yh","url":"https://api.github.com/repos/jhy/jsoup/issues/events/6681742497","actor":{"login":"galimru","id":5149355,"node_id":"MDQ6VXNlcjUxNDkzNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5149355?v=4","gravatar_id":"","url":"https://api.github.com/users/galimru","html_url":"https://github.com/galimru","followers_url":"https://api.github.com/users/galimru/followers","following_url":"https://api.github.com/users/galimru/following{/other_user}","gists_url":"https://api.github.com/users/galimru/gists{/gist_id}","starred_url":"https://api.github.com/users/galimru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galimru/subscriptions","organizations_url":"https://api.github.com/users/galimru/orgs","repos_url":"https://api.github.com/users/galimru/repos","events_url":"https://api.github.com/users/galimru/events{/privacy}","received_events_url":"https://api.github.com/users/galimru/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-25T23:15:23Z","performed_via_github_app":null},{"id":6681743163,"node_id":"AE_lADOAAbAPs5KV6ljzwAAAAGOQ087","url":"https://api.github.com/repos/jhy/jsoup/issues/events/6681743163","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-05-25T23:15:34Z","assignee":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1184608363","html_url":"https://github.com/jhy/jsoup/issues/1778#issuecomment-1184608363","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1778","id":1184608363,"node_id":"IC_kwDOAAbAPs5Gm7Br","user":{"login":"roysjosh","id":601535,"node_id":"MDQ6VXNlcjYwMTUzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/601535?v=4","gravatar_id":"","url":"https://api.github.com/users/roysjosh","html_url":"https://github.com/roysjosh","followers_url":"https://api.github.com/users/roysjosh/followers","following_url":"https://api.github.com/users/roysjosh/following{/other_user}","gists_url":"https://api.github.com/users/roysjosh/gists{/gist_id}","starred_url":"https://api.github.com/users/roysjosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roysjosh/subscriptions","organizations_url":"https://api.github.com/users/roysjosh/orgs","repos_url":"https://api.github.com/users/roysjosh/repos","events_url":"https://api.github.com/users/roysjosh/events{/privacy}","received_events_url":"https://api.github.com/users/roysjosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T15:51:29Z","updated_at":"2022-07-14T15:51:29Z","body":"Hello,\r\n\r\nI am seeing this as well on jsoup 1.15.2. I have to submit a series of forms to get through an OAuth2 login.\r\n\r\n```java\r\n    protected Document submitForm(Document doc, String id, Map<String, String> values) throws IOException {\r\n        // REDACTED CODE to look up form & set values\r\n\r\n        logger.debug(\"submitting form \" + id + \" to \" + form.attr(\"action\"));\r\n        form.formData().forEach((keyval) -> {\r\n            logger.debug(\"- \" + keyval.key() + \" = \" + keyval.value());\r\n        });\r\n        logger.debug(\"actual data\");\r\n        Connection foo = form.submit();\r\n        foo.request().data().forEach((keyval) -> {\r\n            logger.debug(\"- \" + keyval.key() + \" = \" + keyval.value());\r\n        });\r\n        return foo.execute().parse();\r\n        //return form.submit().execute().parse();\r\n    }\r\n```\r\n\r\n```\r\nsubmitting form userStoreForm to /SAAS/auth/login/username/v2\r\n- isJavascriptEnabled =\r\n- areCookiesEnabled =\r\n- dest =\r\n- useragent =\r\n- workspaceId =\r\n- jwt = REDACTED JWT\r\n- isWindows10EnrollmentFlow = false\r\n- isDeviceEnrollmentFlow = false\r\n- userInput = REDACTED USERNAME\r\n\r\nactual data\r\n- is-local-admin = false\r\n- jwt = REDACTED JWT\r\n- relay-state = REDACTED UUID\r\n- isJavascriptEnabled =\r\n- areCookiesEnabled =\r\n- dest =\r\n- useragent =\r\n- workspaceId =\r\n- jwt = REDACTED JWT\r\n- isWindows10EnrollmentFlow = false\r\n- isDeviceEnrollmentFlow = false\r\n- userInput = REDACTED USERNAME\r\n```\r\n\r\nNote the first 3 form data elements are left over from a previous form. I am calling `Connection session = Jsoup.newSession()` and that session object is passed to the first submit form function call. The return of that function is then used as the first parameter.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1184608363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roysjosh","id":601535,"node_id":"MDQ6VXNlcjYwMTUzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/601535?v=4","gravatar_id":"","url":"https://api.github.com/users/roysjosh","html_url":"https://github.com/roysjosh","followers_url":"https://api.github.com/users/roysjosh/followers","following_url":"https://api.github.com/users/roysjosh/following{/other_user}","gists_url":"https://api.github.com/users/roysjosh/gists{/gist_id}","starred_url":"https://api.github.com/users/roysjosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roysjosh/subscriptions","organizations_url":"https://api.github.com/users/roysjosh/orgs","repos_url":"https://api.github.com/users/roysjosh/repos","events_url":"https://api.github.com/users/roysjosh/events{/privacy}","received_events_url":"https://api.github.com/users/roysjosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1184617022","html_url":"https://github.com/jhy/jsoup/issues/1778#issuecomment-1184617022","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1778","id":1184617022,"node_id":"IC_kwDOAAbAPs5Gm9I-","user":{"login":"roysjosh","id":601535,"node_id":"MDQ6VXNlcjYwMTUzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/601535?v=4","gravatar_id":"","url":"https://api.github.com/users/roysjosh","html_url":"https://github.com/roysjosh","followers_url":"https://api.github.com/users/roysjosh/followers","following_url":"https://api.github.com/users/roysjosh/following{/other_user}","gists_url":"https://api.github.com/users/roysjosh/gists{/gist_id}","starred_url":"https://api.github.com/users/roysjosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roysjosh/subscriptions","organizations_url":"https://api.github.com/users/roysjosh/orgs","repos_url":"https://api.github.com/users/roysjosh/repos","events_url":"https://api.github.com/users/roysjosh/events{/privacy}","received_events_url":"https://api.github.com/users/roysjosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T15:57:21Z","updated_at":"2022-07-14T15:57:21Z","body":"And adding `doc.connection().request().data().clear();` immediately before calling `form.submit();` fixes things.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1184617022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roysjosh","id":601535,"node_id":"MDQ6VXNlcjYwMTUzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/601535?v=4","gravatar_id":"","url":"https://api.github.com/users/roysjosh","html_url":"https://github.com/roysjosh","followers_url":"https://api.github.com/users/roysjosh/followers","following_url":"https://api.github.com/users/roysjosh/following{/other_user}","gists_url":"https://api.github.com/users/roysjosh/gists{/gist_id}","starred_url":"https://api.github.com/users/roysjosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roysjosh/subscriptions","organizations_url":"https://api.github.com/users/roysjosh/orgs","repos_url":"https://api.github.com/users/roysjosh/repos","events_url":"https://api.github.com/users/roysjosh/events{/privacy}","received_events_url":"https://api.github.com/users/roysjosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8318009529,"node_id":"LE_lADOAAbAPs5KV6ljzwAAAAHvysC5","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8318009529","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-20T03:27:18Z","label":{"name":"bug","color":"e10c02"},"performed_via_github_app":null},{"id":8318009532,"node_id":"LE_lADOAAbAPs5KV6ljzwAAAAHvysC8","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8318009532","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-20T03:27:18Z","label":{"name":"fixed","color":"c2e0c6"},"performed_via_github_app":null},{"id":8318009629,"node_id":"MIE_lADOAAbAPs5KV6ljzwAAAAHvysEd","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8318009629","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-01-20T03:27:20Z","milestone":{"title":"1.15.4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1397881304","html_url":"https://github.com/jhy/jsoup/issues/1778#issuecomment-1397881304","issue_url":"https://api.github.com/repos/jhy/jsoup/issues/1778","id":1397881304,"node_id":"IC_kwDOAAbAPs5TUfnY","user":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T03:27:30Z","updated_at":"2023-01-20T03:27:30Z","body":"Thanks, fixed!","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/jhy/jsoup/issues/comments/1397881304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8318010186,"node_id":"CE_lADOAAbAPs5KV6ljzwAAAAHvysNK","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8318010186","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-01-20T03:27:30Z","state_reason":null,"performed_via_github_app":null},{"id":8318010650,"node_id":"REFE_lADOAAbAPs5KV6ljzwAAAAHvysUa","url":"https://api.github.com/repos/jhy/jsoup/issues/events/8318010650","actor":{"login":"jhy","id":76934,"node_id":"MDQ6VXNlcjc2OTM0","avatar_url":"https://avatars.githubusercontent.com/u/76934?v=4","gravatar_id":"","url":"https://api.github.com/users/jhy","html_url":"https://github.com/jhy","followers_url":"https://api.github.com/users/jhy/followers","following_url":"https://api.github.com/users/jhy/following{/other_user}","gists_url":"https://api.github.com/users/jhy/gists{/gist_id}","starred_url":"https://api.github.com/users/jhy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhy/subscriptions","organizations_url":"https://api.github.com/users/jhy/orgs","repos_url":"https://api.github.com/users/jhy/repos","events_url":"https://api.github.com/users/jhy/events{/privacy}","received_events_url":"https://api.github.com/users/jhy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a242df8520f59cbdfcf15a0f55fdf22d14fa9ad6","commit_url":"https://api.github.com/repos/jhy/jsoup/commits/a242df8520f59cbdfcf15a0f55fdf22d14fa9ad6","created_at":"2023-01-20T03:27:39Z","performed_via_github_app":null}]