diff --git a/diesel_cli/src/pretty_printing.rs b/diesel_cli/src/pretty_printing.rs
index 99b74e64f..63f9171f0 100644
--- a/diesel_cli/src/pretty_printing.rs
+++ b/diesel_cli/src/pretty_printing.rs
@@ -18,6 +18,7 @@ pub fn format_schema(schema: &str) -> Result<String, FmtError> {
     let mut indent = String::new();
     let mut skip_space = false;
     let mut last_char = ' ';
+    let mut inside_parenthesis = false;
 
     for c in schema.chars() {
         // The `quote!` macro inserts whitespaces at some strange location,
@@ -63,12 +64,25 @@ pub fn format_schema(schema: &str) -> Result<String, FmtError> {
             write!(out, "\n{}", indent)?;
         }
 
+        // Keep track of our parenthesis level
+        match c {
+            '(' => inside_parenthesis = true,
+            ')' => inside_parenthesis = false,
+             _ => {}
+        }
+
         write!(out, "{}", c)?;
 
         // We need to insert newlines in some places and adjust the indent.
         // Also, we need to remember if we could skip the next whitespace.
         match c {
-            ',' | '}' => {
+            ',' => {
+                if !inside_parenthesis {
+                    skip_space = true;
+                    write!(out, "\n{}", indent)?;
+                }
+            },
+            '}' => {
                 skip_space = true;
                 write!(out, "\n{}", indent)?;
             }
@@ -161,7 +175,9 @@ r"table! {
         username -> ::diesel::types::Varchar,
         password -> ::diesel::types::Varchar,
     }
-}"
-
+}";
+        test_no_newline_after_comma_inside_parenthetis:
+            "(a, b)" =>
+            "(a, b)"
     }
 }
diff --git a/diesel_cli/tests/print_schema.rs b/diesel_cli/tests/print_schema.rs
index f0186fdaa..441a03d29 100644
--- a/diesel_cli/tests/print_schema.rs
+++ b/diesel_cli/tests/print_schema.rs
@@ -181,3 +181,38 @@ table! {
 ");
     }
 }
+
+#[test]
+fn run_infer_schema_compound_primary_key() {
+    let p = project("print_schema_compound_primary_key").build();
+    let db = database(&p.database_url());
+
+    // Make sure the project is setup
+    p.command("setup").run();
+
+    db.execute("CREATE TABLE asd (id INTEGER, qsd INTEGER, PRIMARY KEY (id, qsd));");
+
+    let result = p.command("print-schema").run();
+
+    assert!(result.is_success(), "Result was unsuccessful {:?}", result);
+
+    if cfg!(feature = "sqlite") {
+        assert_eq!(result.stdout(),
+r"table! {
+    asd (id, qsd) {
+        id -> Nullable<Integer>,
+        qsd -> Nullable<Integer>,
+    }
+}
+");
+    } else if cfg!(feature = "postgtres") {
+        assert_eq!(result.stdout(),
+r"table! {
+    asd (id, qsd) {
+        id -> Int4,
+        qsd -> Int4,
+    }
+}
+");
+    }
+}
