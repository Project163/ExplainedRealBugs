diff --git a/CHANGELOG.md b/CHANGELOG.md
index 1cc9ca2af..bae7049b8 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -42,6 +42,10 @@ for Rust libraries in [RFC #1105](https://github.com/rust-lang/rfcs/blob/master/
 * It is now possible to inspect the type of values returned from the database
   in such a way to support constructing a dynamic value depending on this type.
 
+* Added a `without-deprecated` feature that unconditionally disables deprecated items.
+  Use this feature flag to verify that none of your dependencies is setting 
+  the `with-deprecated` flag internally.
+
 
 ### Removed
 
diff --git a/diesel/Cargo.toml b/diesel/Cargo.toml
index e1f42576c..66d4a9fc8 100644
--- a/diesel/Cargo.toml
+++ b/diesel/Cargo.toml
@@ -54,6 +54,7 @@ huge-tables = ["64-column-tables"]
 postgres = ["pq-sys", "bitflags", "diesel_derives/postgres"]
 sqlite = ["libsqlite3-sys", "diesel_derives/sqlite"]
 mysql = ["mysqlclient-sys", "url", "percent-encoding", "diesel_derives/mysql", "bitflags"]
+without-deprecated = []
 with-deprecated = []
 network-address = ["ipnetwork", "libc"]
 numeric = ["num-bigint", "bigdecimal", "num-traits", "num-integer"]
diff --git a/diesel/src/expression/functions/mod.rs b/diesel/src/expression/functions/mod.rs
index cc023e936..154ca87b0 100644
--- a/diesel/src/expression/functions/mod.rs
+++ b/diesel/src/expression/functions/mod.rs
@@ -5,7 +5,7 @@ pub use diesel_derives::sql_function_proc as sql_function;
 
 #[macro_export]
 #[doc(hidden)]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 macro_rules! no_arg_sql_function_body_except_to_sql {
     ($type_name:ident, $return_type:ty, $docs:expr) => {
         #[allow(non_camel_case_types)]
@@ -31,7 +31,7 @@ macro_rules! no_arg_sql_function_body_except_to_sql {
 
 #[macro_export]
 #[doc(hidden)]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 macro_rules! no_arg_sql_function_body {
     ($type_name:ident, $return_type:ty, $docs:expr, $($constraint:ident)::+) => {
         no_arg_sql_function_body_except_to_sql!($type_name, $return_type, $docs);
@@ -78,7 +78,7 @@ macro_rules! no_arg_sql_function_body {
     since = "2.0.0",
     note = "Use `sql_function!` instead. See `CHANGELOG.md` for migration instructions"
 )]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 macro_rules! no_arg_sql_function {
     ($type_name:ident, $return_type:ty) => {
         no_arg_sql_function!($type_name, $return_type, "");
diff --git a/diesel/src/expression/operators.rs b/diesel/src/expression/operators.rs
index aab5858fc..713bbfab0 100644
--- a/diesel/src/expression/operators.rs
+++ b/diesel/src/expression/operators.rs
@@ -302,7 +302,7 @@ macro_rules! infix_operator {
 
 #[macro_export(local_inner_macros)]
 #[deprecated(since = "2.0.0", note = "use `diesel::infix_operator!` instead")]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 #[doc(hidden)]
 macro_rules! diesel_infix_operator {
     ($($args:tt)*) => {
@@ -357,7 +357,7 @@ macro_rules! postfix_operator {
 
 #[macro_export(local_inner_macros)]
 #[deprecated(since = "2.0.0", note = "use `diesel::postfix_operator!` instead")]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 #[doc(hidden)]
 macro_rules! diesel_postfix_operator {
     ($($args:tt)*) => {
@@ -412,7 +412,7 @@ macro_rules! prefix_operator {
 
 #[macro_export(local_inner_macros)]
 #[deprecated(since = "2.0.0", note = "use `diesel::prefix_operator!` instead")]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 #[doc(hidden)]
 macro_rules! diesel_prefix_operator {
     ($($args:tt)*) => {
diff --git a/diesel/src/lib.rs b/diesel/src/lib.rs
index 59f3e2ddc..44b770a60 100644
--- a/diesel/src/lib.rs
+++ b/diesel/src/lib.rs
@@ -179,7 +179,7 @@ mod type_impls;
 mod util;
 
 #[doc(hidden)]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 #[deprecated(since = "2.0.0", note = "Use explicit macro imports instead")]
 pub use diesel_derives::*;
 
diff --git a/diesel/src/pg/mod.rs b/diesel/src/pg/mod.rs
index e28449536..4fce68052 100644
--- a/diesel/src/pg/mod.rs
+++ b/diesel/src/pg/mod.rs
@@ -23,7 +23,7 @@ pub use self::query_builder::PgQueryBuilder;
 pub use self::transaction::TransactionBuilder;
 pub use self::value::PgValue;
 #[doc(hidden)]
-#[cfg(feature = "with-deprecated")]
+#[cfg(all(feature = "with-deprecated", not(feature = "without-deprecated")))]
 #[deprecated(since = "2.0.0", note = "Use `diesel::upsert` instead")]
 pub use crate::upsert;
 
