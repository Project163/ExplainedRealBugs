diff --git a/diesel_cli/src/infer_schema_internals/pg.rs b/diesel_cli/src/infer_schema_internals/pg.rs
index 03a6cc18a..79a69133a 100644
--- a/diesel_cli/src/infer_schema_internals/pg.rs
+++ b/diesel_cli/src/infer_schema_internals/pg.rs
@@ -61,8 +61,13 @@ pub fn determine_column_type(
 diesel::postfix_operator!(Regclass, "::regclass", sql_types::Oid, backend: Pg);
 
 fn regclass(table: &TableName) -> Regclass<AsExprOf<String, sql_types::Text>> {
+    let table_name = match table.schema {
+        Some(ref schema_name) => format!("\"{}\".\"{}\"", schema_name, table.sql_name),
+        None => format!("\"{}\"", table.sql_name),
+    };
+
     Regclass::new(<String as AsExpression<sql_types::Text>>::as_expression(
-        table.full_sql_name(),
+        table_name,
     ))
 }
 
diff --git a/diesel_cli/tests/print_schema.rs b/diesel_cli/tests/print_schema.rs
index 577d84751..a432ecd6d 100644
--- a/diesel_cli/tests/print_schema.rs
+++ b/diesel_cli/tests/print_schema.rs
@@ -315,6 +315,23 @@ fn print_schema_several_keys_with_compound_key() {
     test_print_schema("print_schema_several_keys_with_compound_key", vec![])
 }
 
+// some mysql versions concert quoted table names to lowercase
+// anyway
+#[cfg(any(feature = "postgres", feature = "sqlite"))]
+#[test]
+fn print_schema_quoted_table_name() {
+    test_print_schema("print_schema_quoted_table_name", vec![])
+}
+
+#[cfg(feature = "postgres")]
+#[test]
+fn print_schema_quoted_schema_and_table_name() {
+    test_print_schema(
+        "print_schema_quoted_schema_and_table_name",
+        vec!["--schema", "CustomSchema"],
+    )
+}
+
 #[cfg(feature = "sqlite")]
 const BACKEND: &str = "sqlite";
 #[cfg(feature = "postgres")]
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/diesel.toml b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/diesel.toml
new file mode 100644
index 000000000..ad5457677
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/diesel.toml
@@ -0,0 +1,3 @@
+[print_schema]
+file = "src/schema.rs"
+schema = "CustomSchema"
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/expected.snap b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/expected.snap
new file mode 100644
index 000000000..9022c22b4
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/expected.snap
@@ -0,0 +1,14 @@
+---
+source: diesel_cli/tests/print_schema.rs
+description: "Test: print_schema_quoted_schema_and_table_name"
+---
+// @generated automatically by Diesel CLI.
+
+pub mod CustomSchema {
+    diesel::table! {
+        CustomSchema.User (id) {
+            id -> Int4,
+        }
+    }
+}
+
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/schema.sql b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/schema.sql
new file mode 100644
index 000000000..90b508e2e
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_schema_and_table_name/postgres/schema.sql
@@ -0,0 +1,5 @@
+CREATE SCHEMA "CustomSchema";
+
+CREATE TABLE "CustomSchema"."User" (
+    id integer PRIMARY KEY NOT NULL
+);
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_table_name/diesel.toml b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/diesel.toml
new file mode 100644
index 000000000..f57985adb
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/diesel.toml
@@ -0,0 +1,2 @@
+[print_schema]
+file = "src/schema.rs"
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/expected.snap b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/expected.snap
new file mode 100644
index 000000000..e2813cd9a
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/expected.snap
@@ -0,0 +1,12 @@
+---
+source: diesel_cli/tests/print_schema.rs
+description: "Test: print_schema_quoted_table_name"
+---
+// @generated automatically by Diesel CLI.
+
+diesel::table! {
+    User (id) {
+        id -> Int4,
+    }
+}
+
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/schema.sql b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/schema.sql
new file mode 100644
index 000000000..5ab84f70c
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/postgres/schema.sql
@@ -0,0 +1,3 @@
+CREATE TABLE "User" (
+    id integer PRIMARY KEY NOT NULL
+);
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/expected.snap b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/expected.snap
new file mode 100644
index 000000000..2f59dc08d
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/expected.snap
@@ -0,0 +1,12 @@
+---
+source: diesel_cli/tests/print_schema.rs
+description: "Test: print_schema_quoted_table_name"
+---
+// @generated automatically by Diesel CLI.
+
+diesel::table! {
+    User (id) {
+        id -> Integer,
+    }
+}
+
diff --git a/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/schema.sql b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/schema.sql
new file mode 100644
index 000000000..5ab84f70c
--- /dev/null
+++ b/diesel_cli/tests/print_schema/print_schema_quoted_table_name/sqlite/schema.sql
@@ -0,0 +1,3 @@
+CREATE TABLE "User" (
+    id integer PRIMARY KEY NOT NULL
+);
