diff --git a/.travis.yml b/.travis.yml
index 161ef80a4..a93a36be5 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,7 +1,9 @@
 language: rust
 sudo: false
 rust:
-- nightly
+  - stable
+  - beta
+  - nightly
 addons:
   postgresql: '9.4'
 before_script:
diff --git a/README.md b/README.md
index d10f93f61..2e8e2163a 100644
--- a/README.md
+++ b/README.md
@@ -1,9 +1,6 @@
 YAQB (This will not be the real name. Please open PRs with name ideas)
 ======================================================================
 
-NOTE: You need to be on nightly >= 11/27/2015. Sorry. I hope to work on stable soon
-===================================================================================
-
 [![Build Status](https://travis-ci.org/sgrif/yaqb.svg)](https://travis-ci.org/sgrif/yaqb)
 [Documentation](http://sgrif.github.io/yaqb/yaqb/index.html)
 
diff --git a/yaqb_codegen/Cargo.toml b/yaqb_codegen/Cargo.toml
index 3670056d2..d356334a0 100644
--- a/yaqb_codegen/Cargo.toml
+++ b/yaqb_codegen/Cargo.toml
@@ -3,11 +3,23 @@ name = "yaqb_codegen"
 version = "0.1.0"
 authors = ["Sean Griffin <sean@seantheprogrammer.com>"]
 license = "MIT"
+build = "build.rs"
+
+[build-dependencies]
+quasi_codegen = { verision = "^0.3.8", optional = true }
+syntex = { version = "^0.22.0", optional = true }
 
 [dependencies]
 aster = { version = "^0.8.0", default-features = false }
-quasi = { verision = "^0.3.5", default-features = false }
-quasi_macros = { git="https://github.com/sgrif/quasi.git" }
+quasi = { verision = "^0.3.8", default-features = false }
+quasi_macros = { git="https://github.com/sgrif/quasi.git", optional = true}
+syntex = { version = "^0.22.0", optional = true }
+syntex_syntax = { version = "^0.22.0", optional = true }
+
+[features]
+default = ["with-syntex"]
+nightly = ["quasi_macros"]
+with-syntex = ["quasi/with-syntex", "quasi_codegen", "quasi_codegen/with-syntex", "syntex", "syntex_syntax"]
 
 [lib]
 name = "yaqb_codegen"
diff --git a/yaqb_codegen/build.rs b/yaqb_codegen/build.rs
index 080e314e7..c0504a1f9 100644
--- a/yaqb_codegen/build.rs
+++ b/yaqb_codegen/build.rs
@@ -11,7 +11,7 @@ mod inner {
         let mut registry = syntex::Registry::new();
         quasi_codegen::register(&mut registry);
 
-        let src = Path::new("src/lib.rs.in");
+        let src = Path::new("src/lib.in.rs");
         let dst = Path::new(&out_dir).join("lib.rs");
 
         registry.expand("", &src, &dst).unwrap();
diff --git a/yaqb_codegen/src/associations/belongs_to.rs b/yaqb_codegen/src/associations/belongs_to.rs
index a8fc7506c..d00e9dcbf 100644
--- a/yaqb_codegen/src/associations/belongs_to.rs
+++ b/yaqb_codegen/src/associations/belongs_to.rs
@@ -174,7 +174,7 @@ fn selectable_column_impl(
         .segment(column_name).build()
         .build();
 
-    vec![quote_item!(cx,
+    [quote_item!(cx,
         impl ::yaqb::expression::SelectableExpression<
             ::yaqb::query_source::InnerJoinSource<$parent_table, $child_table>
         > for $column {}
@@ -191,5 +191,5 @@ fn selectable_column_impl(
             ::yaqb::query_source::LeftOuterJoinSource<$parent_table, $child_table>,
             ::yaqb::types::Nullable<<$column as ::yaqb::Expression>::SqlType>,
         > for $column {}
-    ).unwrap()]
+    ).unwrap()].to_vec()
 }
diff --git a/yaqb_codegen/src/associations/has_many.rs b/yaqb_codegen/src/associations/has_many.rs
index 7f03ddb21..06e596531 100644
--- a/yaqb_codegen/src/associations/has_many.rs
+++ b/yaqb_codegen/src/associations/has_many.rs
@@ -126,7 +126,7 @@ fn selectable_column_impl(
         .segment(column_name).build()
         .build();
 
-    vec![quote_item!(cx,
+    [quote_item!(cx,
         impl ::yaqb::expression::SelectableExpression<
             ::yaqb::query_source::InnerJoinSource<$table, $foreign_table>
         > for $column {}
@@ -143,5 +143,5 @@ fn selectable_column_impl(
             ::yaqb::query_source::LeftOuterJoinSource<$foreign_table, $table>,
             ::yaqb::types::Nullable<<$column as ::yaqb::Expression>::SqlType>,
         > for $column {}
-    ).unwrap()]
+    ).unwrap()].to_vec()
 }
diff --git a/yaqb_codegen/src/lib.in.rs b/yaqb_codegen/src/lib.in.rs
index e25088c46..ba1455d89 100644
--- a/yaqb_codegen/src/lib.in.rs
+++ b/yaqb_codegen/src/lib.in.rs
@@ -1 +1,6 @@
+mod associations;
+mod attr;
+mod insertable;
+mod model;
 mod queriable;
+mod update;
diff --git a/yaqb_codegen/src/lib.rs b/yaqb_codegen/src/lib.rs
index b76bad889..6fee1b732 100644
--- a/yaqb_codegen/src/lib.rs
+++ b/yaqb_codegen/src/lib.rs
@@ -1,21 +1,42 @@
-#![feature(rustc_private, plugin, plugin_registrar)]
-#![plugin(quasi_macros)]
+#![cfg_attr(not(feature = "with-syntex"), feature(rustc_private, plugin, plugin_registrar))]
+#![cfg_attr(not(feature = "with-syntex"), plugin(quasi_macros))]
 #![deny(warnings)]
 
 extern crate aster;
 extern crate quasi;
 
+#[cfg(feature = "with-syntex")]
+extern crate syntex;
+
+#[cfg(feature = "with-syntex")]
+extern crate syntex_syntax as syntax;
+
+#[cfg(not(feature = "with-syntex"))]
 extern crate syntax;
+
+#[cfg(not(feature = "with-syntex"))]
 extern crate rustc_plugin;
 
-mod associations;
-mod attr;
-mod insertable;
-mod model;
-mod queriable;
-mod update;
+#[cfg(feature = "with-syntex")]
+include!(concat!(env!("OUT_DIR"), "/lib.rs"));
+
+#[cfg(not(feature = "with-syntex"))]
+include!("lib.in.rs");
+
+#[cfg(feature = "with-syntex")]
+pub fn register(reg: &mut syntex::Registry) {
+    reg.add_attr("feature(custom_derive)");
+    reg.add_attr("feature(custom_attribute)");
+
+    reg.add_decorator("derive_Queriable", queriable::expand_derive_queriable);
+    reg.add_decorator("insertable_into", insertable::expand_insert);
+    reg.add_decorator("changeset_for", update::expand_changeset_for);
+    reg.add_decorator("has_many", associations::expand_has_many);
+    reg.add_decorator("belongs_to", associations::expand_belongs_to);
+}
 
-#[plugin_registrar]
+#[cfg_attr(not(feature = "with-syntex"), plugin_registrar)]
+#[cfg(not(feature = "with-syntex"))]
 pub fn register(reg: &mut rustc_plugin::Registry) {
     use syntax::parse::token::intern;
     use syntax::ext::base::MultiDecorator;
diff --git a/yaqb_tests/Cargo.toml b/yaqb_tests/Cargo.toml
index 346ff267f..3a47daab3 100644
--- a/yaqb_tests/Cargo.toml
+++ b/yaqb_tests/Cargo.toml
@@ -3,18 +3,27 @@ name = "yaqb_tests"
 version = "0.1.0"
 authors = ["Sean Griffin <sean@seantheprogrammer.com>"]
 license = "MIT"
+build = "build.rs"
+
+[build-dependencies]
+quasi_codegen = { verision = "^0.3.8", optional = true }
+syntex = { version = "^0.22.0", optional = true }
+yaqb_codegen = { path = "../yaqb_codegen", default-features = false }
 
 [dependencies]
 yaqb = { path = "../yaqb" }
-yaqb_codegen = { path = "../yaqb_codegen" }
+yaqb_codegen = { path = "../yaqb_codegen", default-features = false }
+compiletest_rs = { version = "^0.0.10", optional = true }
+syntex = { version = "^0.22.0", optional = true }
+syntex_syntax = { version = "^0.22.0", optional = true }
 
 [dev-dependencies]
-compiletest_rs = "*"
 quickcheck = "*"
 dotenv = "0.4.0"
 
 [features]
-unstable = []
+default = ["syntex", "syntex_syntax", "yaqb_codegen/with-syntex"]
+unstable = ["compiletest_rs", "yaqb_codegen/nightly"]
 
 [[test]]
 name = "compile_tests"
diff --git a/yaqb_tests/build.rs b/yaqb_tests/build.rs
new file mode 100644
index 000000000..e39970a1a
--- /dev/null
+++ b/yaqb_tests/build.rs
@@ -0,0 +1,28 @@
+#[cfg(not(feature = "unstable"))]
+mod inner {
+    extern crate syntex;
+    extern crate yaqb_codegen;
+
+    use std::env;
+    use std::path::Path;
+
+    pub fn main() {
+        let out_dir = env::var_os("OUT_DIR").unwrap();
+        let mut registry = syntex::Registry::new();
+        yaqb_codegen::register(&mut registry);
+
+        let src = Path::new("tests/lib.in.rs");
+        let dst = Path::new(&out_dir).join("lib.rs");
+
+        registry.expand("", &src, &dst).unwrap();
+    }
+}
+
+#[cfg(feature = "unstable")]
+mod inner {
+    pub fn main() {}
+}
+
+fn main() {
+    inner::main();
+}
diff --git a/yaqb_tests/tests/compile_tests.rs b/yaqb_tests/tests/compile_tests.rs
index 27c212b4d..577a87e73 100644
--- a/yaqb_tests/tests/compile_tests.rs
+++ b/yaqb_tests/tests/compile_tests.rs
@@ -1,3 +1,4 @@
+#![cfg(feature = "unstable")]
 extern crate compiletest_rs as compiletest;
 
 use std::path::PathBuf;
diff --git a/yaqb_tests/tests/lib.in.rs b/yaqb_tests/tests/lib.in.rs
new file mode 100644
index 000000000..3eddeca4f
--- /dev/null
+++ b/yaqb_tests/tests/lib.in.rs
@@ -0,0 +1,2 @@
+mod schema;
+mod insert;
diff --git a/yaqb_tests/tests/lib.rs b/yaqb_tests/tests/lib.rs
index 53471f5c4..5df9cf3e0 100644
--- a/yaqb_tests/tests/lib.rs
+++ b/yaqb_tests/tests/lib.rs
@@ -1,21 +1,25 @@
-#![feature(custom_derive, plugin, custom_attribute)]
-#![plugin(yaqb_codegen)]
+#![cfg_attr(feature = "unstable", feature(custom_derive, plugin, custom_attribute))]
+#![cfg_attr(feature = "unstable", plugin(yaqb_codegen))]
 
 extern crate quickcheck;
 #[macro_use] extern crate yaqb;
 
+#[cfg(feature = "unstable")]
+include!("lib.in.rs");
+
+#[cfg(not(feature = "unstable"))]
+include!(concat!(env!("OUT_DIR"), "/lib.rs"));
+
 mod associations;
 mod expressions;
 mod filter;
 mod filter_operators;
 mod find;
-mod insert;
 mod internal_details;
 mod joins;
 mod macros;
 mod order;
 mod perf_details;
-mod schema;
 mod select;
 mod transactions;
 mod types;
