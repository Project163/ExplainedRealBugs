[{"id":3637629260,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzYzNzYyOTI2MA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3637629260","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-08-10T07:57:41Z","rename":{"from":"Diesel takes forever to compile with default features","to":"Diesel takes forever to compile with 32-column-tables as of #2182"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671232529","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-671232529","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":671232529,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTIzMjUyOQ==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T08:41:42Z","updated_at":"2020-08-10T08:41:42Z","body":"Technically that's a closed because cannot reproduce. I can successful compile diesel with default features, so I \"achieved\" your \"expected output\" section. ðŸ˜œ  \r\nJokes beside: Yes compiling diesel with default features takes to much time and that's unexpected for me.\r\nUsing only the default `16-column` variant let me build diesel from scratch in 39 seconds, while using the `32-columns` variant takes 17 mins. That's not expected or in any way acceptable. \r\n\r\nWe may want to raise a bug in rustc for that. I think the will require a minimal standalone example so someone needs to sit down and build one using [the strategies listed here](http://blog.pnkfx.org/blog/2019/11/18/rust-bug-minimization-patterns/). It would be great if you can provide such a condensed example.\r\n\r\nI currently (at least till mid of September) do not have the time to sit down and build such a minimal example or find the exact reason why this happens. Till then the workaround is: Either wait till diesel is build for the first time, after that is should be faster or try to use only the the minimal 16-columns feature.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671232529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671251095","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-671251095","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":671251095,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTI1MTA5NQ==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T09:23:40Z","updated_at":"2020-08-10T09:23:40Z","body":"Additional notes:\r\nAs this is related to the tuple size till where diesel implements built-in traits it's likely caused by some impl in [this file](https://github.com/diesel-rs/diesel/blob/8d3c955b244351aa5ec1af34d2c91b669d25269c/diesel/src/type_impls/tuples.rs). @Ten0 It would be great if you can have a look there and just start remove some of the impl's to see which impl exactly is causing this enormous compile time. I would just start by commenting them out one by one (or even in a binary search way) and see if a) diesel continues to compile and b) the regression reproduces (I don't think you need to wait for a successful build in all cases, just see if it fails quickly if not assume it will be successful. ). I think this should it make easier to report that to upstream rust (as providing a minimal standalone example should be \"easy\" then) and also allow us to thing about potential workarounds for replacing that impl with something that does not lead to that slow down in compile times.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671251095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3637928859,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzYzNzkyODg1OQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3637928859","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-10T09:23:40Z","performed_via_github_app":null},{"id":3637928862,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2Mzc5Mjg4NjI=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3637928862","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-10T09:23:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671330738","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-671330738","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":671330738,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTMzMDczOA==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T12:41:58Z","updated_at":"2020-08-10T12:41:58Z","body":"I've used rustc's profiling infrastructure to see where the time is spend. \r\nThe following output is for the `32-columns` feature:\r\n```\r\n+-------------------------+-----------+-----------------+---------+------------+------------+--------------+-----------------------+\r\n| Item                    | Self time | % of total time | Time    | Item count | Cache hits | Blocked time | Incremental load time |\r\n+-------------------------+-----------+-----------------+---------+------------+------------+--------------+-----------------------+\r\n| specialization_graph_of | 842.80s   | 97.172          | 842.84s | 136        | 0          | 0.00ns       | 0.00ns                |\r\n+-------------------------+-----------+-----------------+---------+------------+------------+--------------+-----------------------+\r\n```\r\nThis is from building without the `32-columns` feature:\r\n```\r\n+-------------------------+-----------+-----------------+-------+------------+------------+--------------+-----------------------+\r\n| Item                    | Self time | % of total time | Time  | Item count | Cache hits | Blocked time | Incremental load time |\r\n+-------------------------+-----------+-----------------+-------+------------+------------+--------------+-----------------------+\r\n| specialization_graph_of | 2.00s     | 19.308          | 2.09s | 136        | 0          | 0.00ns       | 0.00ns                |\r\n+-------------------------+-----------+-----------------+-------+------------+------------+--------------+-----------------------+\r\n| typeck                  | 1.86s     | 17.923          | 2.03s | 1795       | 0          | 0.00ns       | 0.00ns                |\r\n+-------------------------+-----------+-----------------+-------+------------+------------+--------------+-----------------------+\r\n| expand_crate            | 1.20s     | 11.563          | 1.32s | 1          | 0          | 0.00ns       | 0.00ns                |\r\n+-------------------------+-----------+-----------------+-------+------------+------------+--------------+-----------------------+\r\n```\r\n\r\nBoth times the output for passes where > 10% of the time is spend. So it seems like for the `32-columns` feature the time is more or less completely spend inside of the `specialization_graph_of` pass. If we find a minimal example we should certainly report that upstream because that looks like some non linear algorithm is used there.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671330738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671340328","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-671340328","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":671340328,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTM0MDMyOA==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T13:02:58Z","updated_at":"2020-08-10T13:02:58Z","body":"Ok I think I've found the problem. Removing [this](https://github.com/diesel-rs/diesel/blob/8d3c955b244351aa5ec1af34d2c91b669d25269c/diesel/src/type_impls/tuples.rs#L399-L405) impl will bring the compile times back to a reasonable level. That's obviously no solution that we can merge, but at least we know what's the cause of this. Next steps:\r\n* Extract a minimal reproducible problem based on this and report it to upstream/rustc\r\n* Find an alternative way to write the trait bounds there. I would guess those recursive things is problematic?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/671340328/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673523966","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-673523966","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":673523966,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzUyMzk2Ng==","user":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T14:49:43Z","updated_at":"2020-08-13T14:49:43Z","body":"I have the same issue, cannot compile on my macbook pro :( Looks like it hangs forever. I'm sad lol","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673523966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673943545","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-673943545","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":673943545,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzk0MzU0NQ==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T07:56:16Z","updated_at":"2020-08-14T07:56:16Z","body":"@bnjjj Please elaborate what you want to tell us with your comment. Otherwise please do not comment: \"Happens for me too\" on random issues, as this does not add something to the discussion there.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673943545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3655184334,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY1NTE4NDMzNA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3655184334","actor":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-14T07:56:16Z","performed_via_github_app":null},{"id":3655184335,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2NTUxODQzMzU=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3655184335","actor":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-14T07:56:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673945777","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-673945777","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":673945777,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzk0NTc3Nw==","user":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T08:01:38Z","updated_at":"2020-08-14T08:01:38Z","body":"Oh ok sorry my bad, I just confirm that on my macbook pro when I upgrade to the latest version of Diesel as the title of this issue mention here the compile time is very very long. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673945777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bnjjj","id":5719034,"node_id":"MDQ6VXNlcjU3MTkwMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5719034?v=4","gravatar_id":"","url":"https://api.github.com/users/bnjjj","html_url":"https://github.com/bnjjj","followers_url":"https://api.github.com/users/bnjjj/followers","following_url":"https://api.github.com/users/bnjjj/following{/other_user}","gists_url":"https://api.github.com/users/bnjjj/gists{/gist_id}","starred_url":"https://api.github.com/users/bnjjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bnjjj/subscriptions","organizations_url":"https://api.github.com/users/bnjjj/orgs","repos_url":"https://api.github.com/users/bnjjj/repos","events_url":"https://api.github.com/users/bnjjj/events{/privacy}","received_events_url":"https://api.github.com/users/bnjjj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T23:30:34Z","updated_at":"2020-08-14T23:30:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/rust/issues/75542","repository_url":"https://api.github.com/repos/rust-lang/rust","labels_url":"https://api.github.com/repos/rust-lang/rust/issues/75542/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/rust/issues/75542/comments","events_url":"https://api.github.com/repos/rust-lang/rust/issues/75542/events","html_url":"https://github.com/rust-lang/rust/issues/75542","id":679450118,"node_id":"MDU6SXNzdWU2Nzk0NTAxMTg=","number":75542,"title":"Expotential compile time with recursive trait bounds","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":13836860,"node_id":"MDU6TGFiZWwxMzgzNjg2MA==","url":"https://api.github.com/repos/rust-lang/rust/labels/A-trait-system","name":"A-trait-system","color":"f7e101","default":false,"description":"Area: Trait system"},{"id":64037154,"node_id":"MDU6TGFiZWw2NDAzNzE1NA==","url":"https://api.github.com/repos/rust-lang/rust/labels/I-compiletime","name":"I-compiletime","color":"e11d21","default":false,"description":"Issue: Problems and improvements with respect to compile times."},{"id":211668100,"node_id":"MDU6TGFiZWwyMTE2NjgxMDA=","url":"https://api.github.com/repos/rust-lang/rust/labels/T-compiler","name":"T-compiler","color":"bfd4f2","default":false,"description":"Relevant to the compiler team, which will review and decide on the PR/issue."},{"id":650731663,"node_id":"MDU6TGFiZWw2NTA3MzE2NjM=","url":"https://api.github.com/repos/rust-lang/rust/labels/C-bug","name":"C-bug","color":"f5f1fd","default":false,"description":"Category: This is a bug."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-14T23:30:33Z","updated_at":"2020-08-17T08:07:02Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":724712,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ3MTI=","name":"rust","full_name":"rust-lang/rust","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/rust","description":"Empowering everyone to build reliable and efficient software.","fork":false,"url":"https://api.github.com/repos/rust-lang/rust","forks_url":"https://api.github.com/repos/rust-lang/rust/forks","keys_url":"https://api.github.com/repos/rust-lang/rust/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/rust/teams","hooks_url":"https://api.github.com/repos/rust-lang/rust/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/rust/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/rust/events","assignees_url":"https://api.github.com/repos/rust-lang/rust/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/rust/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/rust/tags","blobs_url":"https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/rust/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/rust/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/rust/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/rust/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/rust/languages","stargazers_url":"https://api.github.com/repos/rust-lang/rust/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/rust/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/rust/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/rust/subscription","commits_url":"https://api.github.com/repos/rust-lang/rust/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/rust/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/rust/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/rust/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/rust/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/rust/merges","archive_url":"https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/rust/downloads","issues_url":"https://api.github.com/repos/rust-lang/rust/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/rust/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/rust/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/rust/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/rust/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/rust/deployments","created_at":"2010-06-16T20:39:03Z","updated_at":"2025-11-10T00:54:06Z","pushed_at":"2025-11-09T23:15:36Z","git_url":"git://github.com/rust-lang/rust.git","ssh_url":"git@github.com:rust-lang/rust.git","clone_url":"https://github.com/rust-lang/rust.git","svn_url":"https://github.com/rust-lang/rust","homepage":"https://www.rust-lang.org","size":804551,"stargazers_count":107736,"watchers_count":107736,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13960,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":11735,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","language","rust"],"visibility":"public","forks":13960,"open_issues":11735,"watchers":107736,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nThank you for filing a bug report! ðŸ› Please provide a short summary of the bug,\r\nalong with any information you feel relevant to replicating the bug.\r\n-->\r\n\r\nWhile developing diesel we've hit a surprising increase in compile time caused by our trait impls for tuples. See https://github.com/diesel-rs/diesel/issues/2480 for details. I've extracted a somewhat minimal example [here](https://gist.github.com/rust-play/f628be0a9405ef11c752ddea91f2c5af). There is an option to control the tuple size up to which traits should be implemented in line [861](https://gist.github.com/rust-play/f628be0a9405ef11c752ddea91f2c5af#file-playground-rs-L861). For a size of 16 the compilation of the example succeeds in less then 2 seconds using the rust-playground + the current stable compiler. For a tuple size > 20 the playground is terminated. (Diesel takes ~30s to build while implementing traits for tuples up to 16 elements, and 17 minutes while implementing traits for tuples up to 32 elements for my local setup).\r\n\r\nI suspect that this is caused by the combination of a having a [recursive trait bound here](https://gist.github.com/rust-play/f628be0a9405ef11c752ddea91f2c5af#file-playground-rs-L91-L94) + enforcing that bound for each tuple size [here](https://gist.github.com/rust-play/f628be0a9405ef11c752ddea91f2c5af#file-playground-rs-L80). Diesel itself has not only one trait that requires `Self: SqlType`, but probably the problem is increased by that.","reactions":{"url":"https://api.github.com/repos/rust-lang/rust/issues/75542/reactions","total_count":4,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":2,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/rust/issues/75542/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3658454792,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM2NTg0NTQ3OTI=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3658454792","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4db0e1d75f2fcfdecc733c3979ffd499cd1fa403","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/4db0e1d75f2fcfdecc733c3979ffd499cd1fa403","created_at":"2020-08-15T12:08:12Z","performed_via_github_app":null},{"id":3660673589,"node_id":"MDExOkNsb3NlZEV2ZW50MzY2MDY3MzU4OQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3660673589","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4db0e1d75f2fcfdecc733c3979ffd499cd1fa403","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/4db0e1d75f2fcfdecc733c3979ffd499cd1fa403","created_at":"2020-08-17T08:02:42Z","state_reason":null,"performed_via_github_app":null},{"id":3660673605,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM2NjA2NzM2MDU=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3660673605","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ce2f24683d8b8f39df852ffc1dc4a8c9b758f141","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/ce2f24683d8b8f39df852ffc1dc4a8c9b758f141","created_at":"2020-08-17T08:02:42Z","performed_via_github_app":null},{"actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T15:24:27Z","updated_at":"2020-10-01T15:24:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523/events","html_url":"https://github.com/diesel-rs/diesel/issues/2523","id":712947803,"node_id":"MDU6SXNzdWU3MTI5NDc4MDM=","number":2523,"title":"No way to express inconsistency when deserializing for `Queryable` data since #2182","user":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-10-01T15:24:26Z","updated_at":"2021-01-27T10:31:45Z","closed_at":"2021-01-27T10:31:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Setup\r\n\r\n### Versions\r\n\r\n- **Rust:** Latest stable (1.46.0)\r\n- **Diesel:** Latest master (d7ce43d2130bca434cd1acc2943a0c944d1deba4)\r\n- **Database:** PostgreSQL\r\n- **Operating System:** Linux\r\n\r\n## Problem Description\r\nSince #2480 was fixed, I've just been giving another try at updating our codebase to the latest master (#2182).\r\nIt turns out I still couldn't because I can't define custom `FromSqlRow` impls, due to conflicting impls with *downstream crates may implement trait*, where Rust claims that Diesel could go ahead and implement `Queryable` or `QueryableByName` themselves on my type, which would create conflicts because of the following impls:\r\nhttps://github.com/diesel-rs/diesel/blob/d7ce43d2130bca434cd1acc2943a0c944d1deba4/diesel/src/deserialize.rs#L359-L367\r\nhttps://github.com/diesel-rs/diesel/blob/d7ce43d2130bca434cd1acc2943a0c944d1deba4/diesel/src/deserialize.rs#L388-L399\r\n\r\nBtw, same error when trying to implement `StaticallySizedRow` because of\r\nhttps://github.com/diesel-rs/diesel/blob/d7ce43d2130bca434cd1acc2943a0c944d1deba4/diesel/src/deserialize.rs#L435-L442\r\n\r\n### What are you trying to accomplish?\r\n\r\nI want to customize a `FromSqlRowImpl` impl because I want to be allowed to fail on deserialization when seeing a data inconsistency, as well as easily reorganize my data in different sub-structures at the same time, while performing validation (which `Queryable` does not allow me to do).\r\n\r\n### What is the expected output?\r\n*compiles*\r\n\r\n### What is the actual output?\r\n```\r\nerror[E0119]: conflicting implementations of trait `diesel::deserialize::FromSqlRow<diesel::sql_types::Untyped, _>` for type `MyType`:\r\n  --> lib.rs:30:1\r\n   |\r\n30 | / impl<ST, DB> diesel::deserialize::FromSqlRow<ST, DB> for MyType\r\n31 | | where\r\n32 | |     DB: diesel::backend::Backend,\r\n33 | |     (Option<i32>, (Option<i32>, Option<i32>), Option<f64>): diesel::deserialize::FromSqlRow<ST, DB>,\r\n...  |\r\n54 | |     }\r\n55 | | }\r\n   | |_^\r\n   |\r\n   = note: conflicting implementation in crate `diesel`:\r\n           - impl<DB, T> diesel::deserialize::FromSqlRow<diesel::sql_types::Untyped, DB> for T\r\n             where DB: diesel::backend::Backend, T: diesel::QueryableByName<DB>;\r\n   = note: downstream crates may implement trait `diesel::QueryableByName<_>` for type `MyType`\r\n\r\nerror[E0119]: conflicting implementations of trait `diesel::deserialize::StaticallySizedRow<_, _>` for type `MyType`:\r\n  --> lib.rs:57:1\r\n   |\r\n57 | / impl<ST, DB> diesel::deserialize::StaticallySizedRow<ST, DB> for MyType\r\n58 | | where\r\n59 | |     DB: diesel::backend::Backend,\r\n60 | |     (Option<i32>, (Option<i32>, Option<i32>), Option<f64>): diesel::deserialize::StaticallySizedRow<ST, DB>,\r\n61 | | {\r\n62 | |     const FIELD_COUNT: usize = <(Option<i32>, (Option<i32>, Option<i32>), Option<f64>) as diesel::deserialize::StaticallySizedRow<ST, DB>>::...\r\n63 | | }\r\n   | |_^\r\n   |\r\n   = note: conflicting implementation in crate `diesel`:\r\n           - impl<T, ST, DB> diesel::deserialize::StaticallySizedRow<ST, DB> for T\r\n             where ST: diesel::sql_types::SqlType, ST: diesel::type_impls::tuples::TupleSize, T: diesel::Queryable<ST, DB>, DB: diesel::backend::Backend;\r\n   = note: downstream crates may implement trait `diesel::Queryable<_, _>` for type `MyType`\r\n\r\n```\r\n\r\n### Steps to reproduce\r\ne.g. (for the above error)\r\n\r\n```rust\r\nimpl<ST, DB> diesel::deserialize::FromSqlRow<ST, DB> for MyType\r\nwhere\r\n\tDB: diesel::backend::Backend,\r\n\t(Option<i32>, (Option<i32>, Option<i32>), Option<f64>): diesel::deserialize::FromSqlRow<ST, DB>,\r\n{\r\n\tfn build_from_row<'a>(row: &impl diesel::row::Row<'a, DB>) -> diesel::deserialize::Result<Self> {\r\n\t\tlet values = <(Option<i32>, (Option<i32>, Option<i32>), Option<f64>) as diesel::deserialize::FromSqlRow<\r\n\t\t\tST,\r\n\t\t\tDB,\r\n\t\t>>::build_from_row(row)?;\r\n\t\tOk(Self {\r\n\t\t\tdelayed_by_days: values.0.map(|delay| delay.try_into()).transpose()?,\r\n\t\t\tdelayed_by_months: match values.1 {\r\n\t\t\t\t(Some(nb_months), day_of_month) => Some(MonthDelay {\r\n\t\t\t\t\tnb_months: nb_months.try_into()?,\r\n\t\t\t\t\tpost_rounding_delay: day_of_month.map(<_>::try_into).transpose()?,\r\n\t\t\t\t}),\r\n\t\t\t\t(None, None) => None,\r\n\t\t\t\t(None, Some(_)) => {\r\n\t\t\t\t\treturn Err(\"Failed to deserialize MonthDelay, nb_months null and day_of_month not null\".into())\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsome_other_field: values.2.filter(|&float| float != 0.),\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\n\r\nimpl<ST, DB> diesel::deserialize::StaticallySizedRow<ST, DB> for MyType\r\nwhere\r\n\tDB: diesel::backend::Backend,\r\n\t(Option<i32>, (Option<i32>, Option<i32>), Option<f64>): diesel::deserialize::StaticallySizedRow<ST, DB>,\r\n{\r\n\tconst FIELD_COUNT: usize = <(Option<i32>, (Option<i32>, Option<i32>), Option<f64>) as diesel::deserialize::StaticallySizedRow<ST, DB>>::FIELD_COUNT;\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2523/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T20:56:44Z","updated_at":"2022-05-03T20:56:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163/events","html_url":"https://github.com/diesel-rs/diesel/pull/3163","id":1224324678,"node_id":"PR_kwDOAnrqL843PUDh","number":3163,"title":"Try to speed up `#[derive(ValidGrouping)]`","user":{"login":"lqd","id":247183,"node_id":"MDQ6VXNlcjI0NzE4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/247183?v=4","gravatar_id":"","url":"https://api.github.com/users/lqd","html_url":"https://github.com/lqd","followers_url":"https://api.github.com/users/lqd/followers","following_url":"https://api.github.com/users/lqd/following{/other_user}","gists_url":"https://api.github.com/users/lqd/gists{/gist_id}","starred_url":"https://api.github.com/users/lqd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lqd/subscriptions","organizations_url":"https://api.github.com/users/lqd/orgs","repos_url":"https://api.github.com/users/lqd/repos","events_url":"https://api.github.com/users/lqd/events{/privacy}","received_events_url":"https://api.github.com/users/lqd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-05-03T16:28:11Z","updated_at":"2022-05-10T14:45:40Z","closed_at":"2022-05-06T16:53:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/3163","html_url":"https://github.com/diesel-rs/diesel/pull/3163","diff_url":"https://github.com/diesel-rs/diesel/pull/3163.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/3163.patch","merged_at":null},"body":"While looking at https://github.com/rust-lang/rust/issues/81262, I also tried looking at the master branch to see how things had evolved since this issue was opened, in particular since the use of proc_macros.\r\n\r\nWhile testing 32/64/128 columns, I noticed that:\r\n- the macro expansion and proc_macro expansion were relatively the same duration each: indicating trying to optimize the proc_macros could be helpful.\r\n- building `diesel` itself, it seemed most of the proc_macro slowness came from [the `TupleWrapper`s and in particular the `#[derive(ValidGrouping)]`](https://github.com/diesel-rs/diesel/blob/75b8ef3b1ed6817f12b4b9504e45cedbbb5a4fd2/diesel/src/type_impls/tuples.rs#L117-L121)\r\n\r\nThis proc_macro roughly takes one second to execute each time from 100 to 128 columns. I believe it could be interesting for compilation times to have a structure that is less expansion-heavy, esp. the `MixedAggregates` chain causing a quadratic amount of expansion.\r\n\r\nSince I'm not familiar enough with `diesel` and its aggregates to successfully come up with such a design, I wanted to notify you about this finding, while trying to help in the meantime. This PR reduces the constant factors of this proc_macro (while still retaining its quadratic nature) so maybe it can help a bit, in that it could be \"fast enough\", and that new slowness and opportunities for improvement are to be found elsewhere.\r\n\r\nIt seems the mixed aggregates chain, and use of `quote` for short quoting/unquoting concatenation, builds up big token streams that are slower and slower to parse and reparse at each step. In this PR, I've tried to build up the code in a string buffer, to limit the number of times they are parsed with `quote`. It's not ideal, probably a bit more error-prone, but I don't think that `quote` was made to handle this use-case quickly (even after the [recent performance improvements](https://github.com/dtolnay/quote/releases/tag/1.0.16))\r\n\r\nIn a [benchmark with a single use of the derive](https://gist.github.com/lqd/498d6b0ae375b1fad7e47a55323d847f) per column-count, I see these results for a non-incremental `cargo check` of the benchmark, from 1 to 128 columns:\r\n\r\n![chart - valid grouping diesel benchmark - check - 128 columns](https://user-images.githubusercontent.com/247183/166489784-b5dbfc7a-86c7-4202-b515-3f069daf9c82.png).\r\n\r\nProc_macro expansion itself is 30x faster at 128 columns (from 1s to 35ms or so) for this one macro invocation, and as seen in the above chart, total compilation of this simple stress test is also divided by a bit over 2 (it then also shows other bottlenecks in rustc).\r\n\r\nThat also translates to `diesel` itself, proc_macro expansion is reduced, for a `cargo check`:\r\n- 3.5x for `32-column-tables`: from 1s to 280ms\r\n- 10x for `64-column-tables`: from 6s to 600ms\r\n- 22x for `128-column-tables`: from 45s to 2s\r\n\r\nEnd-to-end compile times are reduced a tiny bit for the heavier cases: these -40s are somewhat noticeable, but the `cargo check` itself is around 10 minutes long, so that's only a 4-5% improvement there.\r\n\r\nI'm opening this PR as a draft for feedback, to see if the approach is acceptable; and to see if CI likes it (as it seems likely that I forgot some use-cases with different forms of input).\r\n","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3163/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T16:04:12Z","updated_at":"2022-05-04T16:04:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167/events","html_url":"https://github.com/diesel-rs/diesel/pull/3167","id":1225312014,"node_id":"PR_kwDOAnrqL843SaOD","number":3167,"title":"Optimise build times","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-05-04T12:37:08Z","updated_at":"2022-05-06T09:56:46Z","closed_at":"2022-05-06T09:56:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/3167","html_url":"https://github.com/diesel-rs/diesel/pull/3167","diff_url":"https://github.com/diesel-rs/diesel/pull/3167.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/3167.patch","merged_at":"2022-05-06T09:56:46Z"},"body":"This commit replaces some recursive macros with simpler implementations\r\nby generating non recursive where clauses by just forwarding to the next\r\nsmaller impl on the corresponding tuple.\r\nAccording to my measurements this reduces the build time for a `cargo\r\ncheck --no-default-features --features \"sqlite 64-column-table\"` build\r\nfrom ~1min 20s to ~1min 05s.","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3167/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2643231426","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-2643231426","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":2643231426,"node_id":"IC_kwDOAnrqL86djILC","user":{"login":"fernandomarca","id":59258828,"node_id":"MDQ6VXNlcjU5MjU4ODI4","avatar_url":"https://avatars.githubusercontent.com/u/59258828?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandomarca","html_url":"https://github.com/fernandomarca","followers_url":"https://api.github.com/users/fernandomarca/followers","following_url":"https://api.github.com/users/fernandomarca/following{/other_user}","gists_url":"https://api.github.com/users/fernandomarca/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandomarca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandomarca/subscriptions","organizations_url":"https://api.github.com/users/fernandomarca/orgs","repos_url":"https://api.github.com/users/fernandomarca/repos","events_url":"https://api.github.com/users/fernandomarca/events{/privacy}","received_events_url":"https://api.github.com/users/fernandomarca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-07T15:20:55Z","updated_at":"2025-02-07T15:52:07Z","body":"Same problem with 128-column-tables","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2643231426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fernandomarca","id":59258828,"node_id":"MDQ6VXNlcjU5MjU4ODI4","avatar_url":"https://avatars.githubusercontent.com/u/59258828?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandomarca","html_url":"https://github.com/fernandomarca","followers_url":"https://api.github.com/users/fernandomarca/followers","following_url":"https://api.github.com/users/fernandomarca/following{/other_user}","gists_url":"https://api.github.com/users/fernandomarca/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandomarca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandomarca/subscriptions","organizations_url":"https://api.github.com/users/fernandomarca/orgs","repos_url":"https://api.github.com/users/fernandomarca/repos","events_url":"https://api.github.com/users/fernandomarca/events{/privacy}","received_events_url":"https://api.github.com/users/fernandomarca/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2643312615","html_url":"https://github.com/diesel-rs/diesel/issues/2480#issuecomment-2643312615","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2480","id":2643312615,"node_id":"IC_kwDOAnrqL86djb_n","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-07T15:52:02Z","updated_at":"2025-02-07T15:52:12Z","body":"@fernandomarca Posting semi related comments to old issues is discouraged. We do not provide support there. If you have questions or suggestions feel free to open a new discussion thread with all the relevant details. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2643312615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16226986156,"node_id":"MEE_lADOAnrqL84oSghbzwAAAAPHNCis","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/16226986156","actor":{"login":"fernandomarca","id":59258828,"node_id":"MDQ6VXNlcjU5MjU4ODI4","avatar_url":"https://avatars.githubusercontent.com/u/59258828?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandomarca","html_url":"https://github.com/fernandomarca","followers_url":"https://api.github.com/users/fernandomarca/followers","following_url":"https://api.github.com/users/fernandomarca/following{/other_user}","gists_url":"https://api.github.com/users/fernandomarca/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandomarca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandomarca/subscriptions","organizations_url":"https://api.github.com/users/fernandomarca/orgs","repos_url":"https://api.github.com/users/fernandomarca/repos","events_url":"https://api.github.com/users/fernandomarca/events{/privacy}","received_events_url":"https://api.github.com/users/fernandomarca/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-02-07T15:52:04Z","performed_via_github_app":null},{"id":16226986171,"node_id":"SE_lADOAnrqL84oSghbzwAAAAPHNCi7","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/16226986171","actor":{"login":"fernandomarca","id":59258828,"node_id":"MDQ6VXNlcjU5MjU4ODI4","avatar_url":"https://avatars.githubusercontent.com/u/59258828?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandomarca","html_url":"https://github.com/fernandomarca","followers_url":"https://api.github.com/users/fernandomarca/followers","following_url":"https://api.github.com/users/fernandomarca/following{/other_user}","gists_url":"https://api.github.com/users/fernandomarca/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandomarca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandomarca/subscriptions","organizations_url":"https://api.github.com/users/fernandomarca/orgs","repos_url":"https://api.github.com/users/fernandomarca/repos","events_url":"https://api.github.com/users/fernandomarca/events{/privacy}","received_events_url":"https://api.github.com/users/fernandomarca/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-02-07T15:52:04Z","performed_via_github_app":null},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-09T08:19:12Z","updated_at":"2025-05-09T08:19:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/rust/issues/132064","repository_url":"https://api.github.com/repos/rust-lang/rust","labels_url":"https://api.github.com/repos/rust-lang/rust/issues/132064/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/rust/issues/132064/comments","events_url":"https://api.github.com/repos/rust-lang/rust/issues/132064/events","html_url":"https://github.com/rust-lang/rust/issues/132064","id":2608546569,"node_id":"I_kwDOAAsO6M6be0MJ","number":132064,"title":"regression: crate compiles much slower with 1.82","user":{"login":"Nutomic","id":1044450,"node_id":"MDQ6VXNlcjEwNDQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1044450?v=4","gravatar_id":"","url":"https://api.github.com/users/Nutomic","html_url":"https://github.com/Nutomic","followers_url":"https://api.github.com/users/Nutomic/followers","following_url":"https://api.github.com/users/Nutomic/following{/other_user}","gists_url":"https://api.github.com/users/Nutomic/gists{/gist_id}","starred_url":"https://api.github.com/users/Nutomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nutomic/subscriptions","organizations_url":"https://api.github.com/users/Nutomic/orgs","repos_url":"https://api.github.com/users/Nutomic/repos","events_url":"https://api.github.com/users/Nutomic/events{/privacy}","received_events_url":"https://api.github.com/users/Nutomic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":64037154,"node_id":"MDU6TGFiZWw2NDAzNzE1NA==","url":"https://api.github.com/repos/rust-lang/rust/labels/I-compiletime","name":"I-compiletime","color":"e11d21","default":false,"description":"Issue: Problems and improvements with respect to compile times."},{"id":211668100,"node_id":"MDU6TGFiZWwyMTE2NjgxMDA=","url":"https://api.github.com/repos/rust-lang/rust/labels/T-compiler","name":"T-compiler","color":"bfd4f2","default":false,"description":"Relevant to the compiler team, which will review and decide on the PR/issue."},{"id":262252840,"node_id":"MDU6TGFiZWwyNjIyNTI4NDA=","url":"https://api.github.com/repos/rust-lang/rust/labels/regression-from-stable-to-stable","name":"regression-from-stable-to-stable","color":"e4008a","default":false,"description":"Performance or correctness regression from one stable version to another."},{"id":650731663,"node_id":"MDU6TGFiZWw2NTA3MzE2NjM=","url":"https://api.github.com/repos/rust-lang/rust/labels/C-bug","name":"C-bug","color":"f5f1fd","default":false,"description":"Category: This is a bug."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2024-10-23T13:06:28Z","updated_at":"2025-05-15T09:55:43Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":724712,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ3MTI=","name":"rust","full_name":"rust-lang/rust","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/rust","description":"Empowering everyone to build reliable and efficient software.","fork":false,"url":"https://api.github.com/repos/rust-lang/rust","forks_url":"https://api.github.com/repos/rust-lang/rust/forks","keys_url":"https://api.github.com/repos/rust-lang/rust/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/rust/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/rust/teams","hooks_url":"https://api.github.com/repos/rust-lang/rust/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/rust/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/rust/events","assignees_url":"https://api.github.com/repos/rust-lang/rust/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/rust/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/rust/tags","blobs_url":"https://api.github.com/repos/rust-lang/rust/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/rust/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/rust/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/rust/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/rust/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/rust/languages","stargazers_url":"https://api.github.com/repos/rust-lang/rust/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/rust/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/rust/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/rust/subscription","commits_url":"https://api.github.com/repos/rust-lang/rust/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/rust/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/rust/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/rust/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/rust/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/rust/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/rust/merges","archive_url":"https://api.github.com/repos/rust-lang/rust/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/rust/downloads","issues_url":"https://api.github.com/repos/rust-lang/rust/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/rust/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/rust/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/rust/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/rust/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/rust/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/rust/deployments","created_at":"2010-06-16T20:39:03Z","updated_at":"2025-11-10T00:54:06Z","pushed_at":"2025-11-09T23:15:36Z","git_url":"git://github.com/rust-lang/rust.git","ssh_url":"git@github.com:rust-lang/rust.git","clone_url":"https://github.com/rust-lang/rust.git","svn_url":"https://github.com/rust-lang/rust","homepage":"https://www.rust-lang.org","size":804551,"stargazers_count":107736,"watchers_count":107736,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":13960,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":11735,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","language","rust"],"visibility":"public","forks":13960,"open_issues":11735,"watchers":107736,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\nThank you for filing a regression report! ðŸ› A regression is something that changed between versions of Rust but was not supposed to.\n\nPlease provide a short summary of the regression, along with any information you feel is relevant to replicate it.\n-->\n\nOur project takes much longer to compile with Rust 1.82 compared to previous versions. To reproduce, git clone `https://github.com/LemmyNet/lemmy.git` and run `cargo check` (also happens with build or lint). The problem happens specifically with the crate [lemmy_db_views](https://github.com/LemmyNet/lemmy/tree/main/crates/db_views).\n\ncargo check with 1.82: 6m 19s\n\ncargo check with 1.81: 1m 22s\n\n### Version it worked on\n\n<!--\nProvide the most recent version this worked on, for example:\n\nIt most recently worked on: Rust 1.47\n-->\n\nIt most recently worked on:1.81\n\n### Version with regression\n\n<!--\nProvide the version you are using that has the regression.\n-->\n\n`rustc --version --verbose`:\n```\ncargo 1.82.0 (8f40fc59f 2024-08-21)\nrelease: 1.82.0\ncommit-hash: 8f40fc59fb0c8df91c97405785197f3c630304ea\ncommit-date: 2024-08-21\nhost: x86_64-unknown-linux-gnu\nlibgit2: 1.8.1 (sys:0.19.0 vendored)\nlibcurl: 8.9.0-DEV (sys:0.4.74+curl-8.9.0 vendored ssl:OpenSSL/1.1.1w)\nssl: OpenSSL 1.1.1w  11 Sep 2023\nos: Manjaro 24.1.1 (Xahea) [64-bit]\n```\n\n@rustbot modify labels: +regression-from-stable-to-1.82 -regression-untriaged\n","reactions":{"url":"https://api.github.com/repos/rust-lang/rust/issues/132064/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/rust/issues/132064/timeline","performed_via_github_app":null,"state_reason":"reopened"}},"event":"cross-referenced"},{"id":17588223519,"node_id":"SE_lADOAnrqL84oSghbzwAAAAQYVv4f","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17588223519","actor":{"login":"alecmocatta","id":1136246,"node_id":"MDQ6VXNlcjExMzYyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1136246?v=4","gravatar_id":"","url":"https://api.github.com/users/alecmocatta","html_url":"https://github.com/alecmocatta","followers_url":"https://api.github.com/users/alecmocatta/followers","following_url":"https://api.github.com/users/alecmocatta/following{/other_user}","gists_url":"https://api.github.com/users/alecmocatta/gists{/gist_id}","starred_url":"https://api.github.com/users/alecmocatta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alecmocatta/subscriptions","organizations_url":"https://api.github.com/users/alecmocatta/orgs","repos_url":"https://api.github.com/users/alecmocatta/repos","events_url":"https://api.github.com/users/alecmocatta/events{/privacy}","received_events_url":"https://api.github.com/users/alecmocatta/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-09T09:52:08Z","performed_via_github_app":null}]