[{"id":17749909803,"node_id":"LE_lADOAnrqL863jnVxzwAAAAQh-iEr","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17749909803","actor":{"login":"omid","id":45714,"node_id":"MDQ6VXNlcjQ1NzE0","avatar_url":"https://avatars.githubusercontent.com/u/45714?v=4","gravatar_id":"","url":"https://api.github.com/users/omid","html_url":"https://github.com/omid","followers_url":"https://api.github.com/users/omid/followers","following_url":"https://api.github.com/users/omid/following{/other_user}","gists_url":"https://api.github.com/users/omid/gists{/gist_id}","starred_url":"https://api.github.com/users/omid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omid/subscriptions","organizations_url":"https://api.github.com/users/omid/orgs","repos_url":"https://api.github.com/users/omid/repos","events_url":"https://api.github.com/users/omid/events{/privacy}","received_events_url":"https://api.github.com/users/omid/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-21T09:28:23Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2897287001","html_url":"https://github.com/diesel-rs/diesel/issues/4606#issuecomment-2897287001","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4606","id":2897287001,"node_id":"IC_kwDOAnrqL86ssRdZ","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-21T09:37:54Z","updated_at":"2025-05-21T09:37:54Z","body":"Thanks for filling this issue.\n\nFor reference this produces the following postgres error:\n\n```\nERROR:  column \"posts.user_id\" must appear in the GROUP BY clause or be used in an aggregate function\n```\n\nwhich just means that we allow to mix aggregate and non-aggregate expressions there. The good news is that we already have existing infrastructure to check for that kind of issue. It should be as simple as adding a `Selection: ValidGrouping<G>` bound here:\n\nhttps://github.com/diesel-rs/diesel/blob/325b926b6022761d5b79dc3dbd1dfe7d3ba2df62/diesel/src/pg/query_builder/distinct_on.rs#L279\n\nthat should work similary as for `Select` here: https://github.com/diesel-rs/diesel/blob/325b926b6022761d5b79dc3dbd1dfe7d3ba2df62/diesel/src/query_builder/select_statement/dsl_impls.rs#L129\n\nI'm happy to review a PR for this. It should include a compile fail test to demonstrate the new behavior.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2897287001/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17750077102,"node_id":"LE_lADOAnrqL863jnVxzwAAAAQh_K6u","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17750077102","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-21T09:38:13Z","label":{"name":"help wanted","color":"159818"},"performed_via_github_app":null},{"id":17750077114,"node_id":"LE_lADOAnrqL863jnVxzwAAAAQh_K66","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17750077114","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-21T09:38:13Z","label":{"name":"hole in api","color":"eb6420"},"performed_via_github_app":null},{"id":17750077132,"node_id":"LE_lADOAnrqL863jnVxzwAAAAQh_K7M","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17750077132","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-05-21T09:38:13Z","label":{"name":"postgres","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2897531924","html_url":"https://github.com/diesel-rs/diesel/issues/4606#issuecomment-2897531924","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4606","id":2897531924,"node_id":"IC_kwDOAnrqL86stNQU","user":{"login":"omid","id":45714,"node_id":"MDQ6VXNlcjQ1NzE0","avatar_url":"https://avatars.githubusercontent.com/u/45714?v=4","gravatar_id":"","url":"https://api.github.com/users/omid","html_url":"https://github.com/omid","followers_url":"https://api.github.com/users/omid/followers","following_url":"https://api.github.com/users/omid/following{/other_user}","gists_url":"https://api.github.com/users/omid/gists{/gist_id}","starred_url":"https://api.github.com/users/omid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omid/subscriptions","organizations_url":"https://api.github.com/users/omid/orgs","repos_url":"https://api.github.com/users/omid/repos","events_url":"https://api.github.com/users/omid/events{/privacy}","received_events_url":"https://api.github.com/users/omid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-21T11:03:23Z","updated_at":"2025-05-21T11:03:23Z","body":"After I added this:\n\n```rust\nimpl<ST, F, S, D, W, O, LOf, G, H, Selection> DistinctOnDsl<Selection>\n    for SelectStatement<FromClause<F>, S, D, W, O, LOf, G, H>\nwhere\n    F: QuerySource,\n    Selection: SelectableExpression<F> + ValidGrouping<G>,\n    Self: SelectQuery<SqlType = ST>,\n    O: ValidOrderingForDistinct<DistinctOnClause<Selection>>,\n    SelectStatement<FromClause<F>, S, DistinctOnClause<Selection>, W, O, LOf, G, H>:\n        SelectQuery<SqlType = ST>,\n{\n    type Output = SelectStatement<FromClause<F>, S, DistinctOnClause<Selection>, W, O, LOf, G, H>;\n\n    fn distinct_on(self, selection: Selection) -> Self::Output {\n        SelectStatement::new(\n            self.select,\n            self.from,\n            DistinctOnClause(selection),\n            self.where_clause,\n            self.order,\n            self.limit_offset,\n            self.group_by,\n            self.having,\n            self.locking,\n        )\n    }\n}\n```\n\nI got this error for existing tests, like this one:\n```rust\nlet source = users\n        .select((name, hair_color))\n        .order(name)\n        .distinct_on(name);\n```\n\nerror:\n```\nerror[E0277]: the trait bound `query_builder::group_by_clause::NoGroupByClause: IsContainedInGroupBy<schema::users::columns::name>` is not satisfied\n   --> diesel_tests/tests/distinct.rs:34:10\n    |\n34  |         .distinct_on(name);\n    |          ^^^^^^^^^^^ the trait `IsContainedInGroupBy<schema::users::columns::name>` is not implemented for `query_builder::group_by_clause::NoGroupByClause`\n    |\n    = help: the following other types implement trait `IsContainedInGroupBy<T>`:\n              `(T0, T1)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3, T4)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3, T4, T5)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3, T4, T5, T6)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3, T4, T5, T6, T7)` implements `IsContainedInGroupBy<Col>`\n              `(T0, T1, T2, T3, T4, T5, T6, T7, T8)` implements `IsContainedInGroupBy<Col>`\n            and 661 others\nnote: required for `schema::users::columns::name` to implement `ValidGrouping<query_builder::group_by_clause::NoGroupByClause>`\n   --> diesel_tests/tests/schema/pg_schema.rs:173:9\n    |\n173 |         name -> Varchar,\n    |         ^^^^\n    = note: required for `SelectStatement<FromClause<table>, SelectClause<(name, hair_color)>, NoDistinctClause, ..., ...>` to implement `DistinctOnDsl<schema::users::columns::name>`\n    = note: the full name for the type has been written to '/home/omid/app/diesel/target/debug/deps/integration_tests-ec97146b66ad0289.long-type-15530948475264676176.txt'\n    = note: consider using `--verbose` to print the full type name to the console\n```\n\nI'm still struggling how Diesel works under the hood, I always get lost between those hundreds of traits :D ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2897531924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"omid","id":45714,"node_id":"MDQ6VXNlcjQ1NzE0","avatar_url":"https://avatars.githubusercontent.com/u/45714?v=4","gravatar_id":"","url":"https://api.github.com/users/omid","html_url":"https://github.com/omid","followers_url":"https://api.github.com/users/omid/followers","following_url":"https://api.github.com/users/omid/following{/other_user}","gists_url":"https://api.github.com/users/omid/gists{/gist_id}","starred_url":"https://api.github.com/users/omid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omid/subscriptions","organizations_url":"https://api.github.com/users/omid/orgs","repos_url":"https://api.github.com/users/omid/repos","events_url":"https://api.github.com/users/omid/events{/privacy}","received_events_url":"https://api.github.com/users/omid/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17751440416,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQiEXwg","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17751440416","actor":{"login":"omid","id":45714,"node_id":"MDQ6VXNlcjQ1NzE0","avatar_url":"https://avatars.githubusercontent.com/u/45714?v=4","gravatar_id":"","url":"https://api.github.com/users/omid","html_url":"https://github.com/omid","followers_url":"https://api.github.com/users/omid/followers","following_url":"https://api.github.com/users/omid/following{/other_user}","gists_url":"https://api.github.com/users/omid/gists{/gist_id}","starred_url":"https://api.github.com/users/omid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omid/subscriptions","organizations_url":"https://api.github.com/users/omid/orgs","repos_url":"https://api.github.com/users/omid/repos","events_url":"https://api.github.com/users/omid/events{/privacy}","received_events_url":"https://api.github.com/users/omid/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"af2c9e3bc1ca93de58f39063ae14b64345860144","commit_url":"https://api.github.com/repos/omid/diesel/commits/af2c9e3bc1ca93de58f39063ae14b64345860144","created_at":"2025-05-21T11:04:18Z","performed_via_github_app":null},{"id":17784232707,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQkBdsD","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17784232707","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4bfccc5d6c8ee3f01fb431c25970ee6939fcb4c3","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/4bfccc5d6c8ee3f01fb431c25970ee6939fcb4c3","created_at":"2025-05-23T06:36:58Z","performed_via_github_app":null},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-23T06:38:44Z","updated_at":"2025-05-23T06:38:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608/events","html_url":"https://github.com/diesel-rs/diesel/pull/4608","id":3085350749,"node_id":"PR_kwDOAnrqL86XVV46","number":4608,"title":"Disallow mixed aggregates between group by and distinct on clauses","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1302101137,"node_id":"MDU6TGFiZWwxMzAyMTAxMTM3","url":"https://api.github.com/repos/diesel-rs/diesel/labels/maybe%20backport","name":"maybe backport","color":"3ad31f","default":false,"description":"Maybe backport this pr to the latest diesel release"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-05-23T06:38:42Z","updated_at":"2025-05-24T07:12:22Z","closed_at":"2025-05-24T07:12:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/4608","html_url":"https://github.com/diesel-rs/diesel/pull/4608","diff_url":"https://github.com/diesel-rs/diesel/pull/4608.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/4608.patch","merged_at":"2025-05-24T07:12:21Z"},"body":"This commit fixes an issue where diesel incorrectly allowed code to compile that constructed queries with mixed aggregates in select + distinct on clauses. That's not allowed by postgresql.\r\n\r\nThis commit rejectes these queries + introduces some compile fail tests for them. That's technically a \"breaking\" change as we now accept less code. In the past we always handled such cases as bug fixes as they just fix invalid code.\r\n\r\nFix #4606","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4608/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2903422942","html_url":"https://github.com/diesel-rs/diesel/issues/4606#issuecomment-2903422942","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/4606","id":2903422942,"node_id":"IC_kwDOAnrqL86tDrfe","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-23T06:39:28Z","updated_at":"2025-05-23T06:39:28Z","body":"I opened #4608 to fix this. In the end it required some more complex trait bounds to also handle a few other similar cases.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/2903422942/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17785102228,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQkEx-U","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17785102228","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9ef0e8a38260a427ba836ea55626d986514d5c2d","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/9ef0e8a38260a427ba836ea55626d986514d5c2d","created_at":"2025-05-23T07:38:54Z","performed_via_github_app":null},{"id":17785110760,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQkE0Do","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17785110760","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"75cb2df097215c0f594f8dd726a62bd980f7453a","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/75cb2df097215c0f594f8dd726a62bd980f7453a","created_at":"2025-05-23T07:39:31Z","performed_via_github_app":null},{"id":17799301112,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQk68f4","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17799301112","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"db7edfe9db4313dd3f400dcdd0ab2180287ac2eb","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/db7edfe9db4313dd3f400dcdd0ab2180287ac2eb","created_at":"2025-05-24T07:12:22Z","performed_via_github_app":null},{"id":17799301155,"node_id":"CE_lADOAnrqL863jnVxzwAAAAQk68gj","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/17799301155","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-05-24T07:12:22Z","state_reason":null,"performed_via_github_app":null},{"id":18021199454,"node_id":"REFE_lADOAnrqL863jnVxzwAAAAQyJa5e","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/18021199454","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c678b2ed9b0d7ec7d80e1645e621361d5e45f817","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/c678b2ed9b0d7ec7d80e1645e621361d5e45f817","created_at":"2025-06-06T11:20:18Z","performed_via_github_app":null}]