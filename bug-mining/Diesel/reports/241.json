{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541/events","html_url":"https://github.com/diesel-rs/diesel/issues/3541","id":1620532915,"node_id":"I_kwDOAnrqL85gl16z","number":3541,"title":"the trait bound `FieldAttr: ToTokens` is not satisfied (Installing the CLI)","user":{"login":"HHogg","id":7130591,"node_id":"MDQ6VXNlcjcxMzA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/7130591?v=4","gravatar_id":"","url":"https://api.github.com/users/HHogg","html_url":"https://github.com/HHogg","followers_url":"https://api.github.com/users/HHogg/followers","following_url":"https://api.github.com/users/HHogg/following{/other_user}","gists_url":"https://api.github.com/users/HHogg/gists{/gist_id}","starred_url":"https://api.github.com/users/HHogg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HHogg/subscriptions","organizations_url":"https://api.github.com/users/HHogg/orgs","repos_url":"https://api.github.com/users/HHogg/repos","events_url":"https://api.github.com/users/HHogg/events{/privacy}","received_events_url":"https://api.github.com/users/HHogg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193212,"node_id":"MDU6TGFiZWwyNTQxOTMyMTI=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2023-03-12T22:21:08Z","updated_at":"2023-05-02T16:02:01Z","closed_at":"2023-03-13T09:14:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nIf you want to report a bug, we added some points below which help us track down the problem faster.\r\n-->\r\n\r\n## Setup\r\n\r\n### Versions\r\n\r\n- **Rust:** 1.68.0 (2c8cc3432 2023-03-06)\r\n- **Diesel:** 2.0.0\r\n- **Database:** Postgres \r\n- **Operating System** MacOS arm64\r\n\r\n### Feature Flags\r\n\r\n- **diesel:**\r\n\r\n## Problem Description\r\n\r\nI get an error while trying to install the CLI (as described on the setup guide at [this link](https://diesel.rs/guides/getting-started.html)). \r\n\r\n### What are you trying to accomplish?\r\n\r\nTo setup diesel, to install the CLI tool.\r\n\r\n### What is the expected output?\r\n\r\nA success message?\r\n\r\n### What is the actual output?\r\n\r\n```\r\ncargo install diesel_cli --no-default-features --features postgres\r\n    Updating crates.io index\r\n  Installing diesel_cli v2.0.1\r\n   Compiling proc-macro2 v1.0.52\r\n   Compiling unicode-ident v1.0.8\r\n   Compiling quote v1.0.24\r\n   Compiling syn v1.0.109\r\n   Compiling autocfg v1.1.0\r\n   Compiling serde_derive v1.0.155\r\n   Compiling serde v1.0.155\r\n   Compiling version_check v0.9.4\r\n   Compiling memchr v2.5.0\r\n   Compiling proc-macro-error-attr v1.0.4\r\n   Compiling proc-macro-error v1.0.4\r\n   Compiling libc v0.2.140\r\n   Compiling num-traits v0.2.15\r\n   Compiling indexmap v1.9.2\r\n   Compiling tinyvec_macros v0.1.1\r\n   Compiling pq-sys v0.4.7\r\n   Compiling bitflags v1.3.2\r\n   Compiling core-foundation-sys v0.8.3\r\n   Compiling tinyvec v1.6.0\r\n   Compiling num-integer v0.1.45\r\n   Compiling hashbrown v0.12.3\r\n   Compiling os_str_bytes v6.4.1\r\n   Compiling clap_lex v0.2.4\r\n   Compiling atty v0.2.14\r\n   Compiling aho-corasick v0.7.20\r\n   Compiling unicode-bidi v0.3.11\r\n   Compiling unicode-normalization v0.1.22\r\n   Compiling termcolor v1.2.0\r\n   Compiling regex-syntax v0.6.28\r\n   Compiling itoa v1.0.6\r\n   Compiling byteorder v1.4.3\r\n   Compiling textwrap v0.16.0\r\n   Compiling overload v0.1.1\r\n   Compiling percent-encoding v2.2.0\r\n   Compiling strsim v0.10.0\r\n   Compiling nu-ansi-term v0.46.0\r\n   Compiling clap v3.2.23\r\n   Compiling form_urlencoded v1.1.0\r\n   Compiling idna v0.3.0\r\n   Compiling iana-time-zone v0.1.53\r\n   Compiling diffy v0.3.0\r\n   Compiling regex v1.7.1\r\n   Compiling chrono v0.4.24\r\n   Compiling clap_complete v3.2.5\r\n   Compiling url v2.3.1\r\n   Compiling diesel_derives v2.0.1\r\nerror[E0277]: the trait bound `FieldAttr: ToTokens` is not satisfied\r\n   --> /Users/harry/.cargo/registry/src/github.com-1ecc6299db9ec823/diesel_derives-2.0.1/src/attrs.rs:143:18\r\n    |\r\n143 | impl Spanned for FieldAttr {\r\n    |                  ^^^^^^^^^ the trait `ToTokens` is not implemented for `FieldAttr`\r\n    |\r\n    = help: the following other types implement trait `ToTokens`:\r\n              &'a T\r\n              &'a mut T\r\n              Abi\r\n              Abstract\r\n              AndAnd\r\n              AndEq\r\n              AngleBracketedGenericArguments\r\n              Arm\r\n            and 312 others\r\n    = note: required for `FieldAttr` to implement `quote::spanned::private::Sealed`\r\nnote: required by a bound in `quote::spanned::Spanned`\r\n   --> /Users/harry/.cargo/registry/src/github.com-1ecc6299db9ec823/quote-1.0.24/src/spanned.rs:6:20\r\n    |\r\n6   | pub trait Spanned: private::Sealed {\r\n    |                    ^^^^^^^^^^^^^^^ required by this bound in `Spanned`\r\n\r\nerror[E0277]: the trait bound `StructAttr: ToTokens` is not satisfied\r\n   --> /Users/harry/.cargo/registry/src/github.com-1ecc6299db9ec823/diesel_derives-2.0.1/src/attrs.rs:242:18\r\n    |\r\n242 | impl Spanned for StructAttr {\r\n    |                  ^^^^^^^^^^ the trait `ToTokens` is not implemented for `StructAttr`\r\n    |\r\n    = help: the following other types implement trait `ToTokens`:\r\n              &'a T\r\n              &'a mut T\r\n              Abi\r\n              Abstract\r\n              AndAnd\r\n              AndEq\r\n              AngleBracketedGenericArguments\r\n              Arm\r\n            and 312 others\r\n    = note: required for `StructAttr` to implement `quote::spanned::private::Sealed`\r\nnote: required by a bound in `quote::spanned::Spanned`\r\n   --> /Users/harry/.cargo/registry/src/github.com-1ecc6299db9ec823/quote-1.0.24/src/spanned.rs:6:20\r\n    |\r\n6   | pub trait Spanned: private::Sealed {\r\n    |                    ^^^^^^^^^^^^^^^ required by this bound in `Spanned`\r\n\r\nFor more information about this error, try `rustc --explain E0277`.\r\nerror: could not compile `diesel_derives` due to 2 previous errors\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: failed to compile `diesel_cli v2.0.1`, intermediate artifacts can be found at `/var/folders/wx/y49q6sc950v5mhfvqkrc09100000gn/T/cargo-installYNdmN4`\r\n```\r\n\r\n### Are you seeing any additional errors?\r\n\r\nNo\r\n\r\n### Steps to reproduce\r\n\r\nThe steps that are on the website. \r\n\r\n## Checklist\r\n\r\n- [X] I have already looked over the [issue tracker](https://github.com/diesel-rs/diesel/issues)  and the [disussion forum](https://github.com/diesel-rs/diesel/discussions)  for similar possible closed issues.\r\n<!--\r\nIf you are unsure if your issue is a duplicate of an existing issue please link the issue in question here\r\n--> \r\n- [X] This issue can be reproduced on Rust's stable channel. (Your issue will be\r\n  closed if this is not the case)\r\n- [X] This issue can be reproduced without requiring a third party crate\r\n\r\n<!--\r\nThank you for your submission!  You're helping make Diesel more robust ðŸŽ‰\r\n\r\nWe'll try to respond as quickly as possible.\r\n-->\r\n","closed_by":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541/reactions","total_count":12,"+1":12,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3541/timeline","performed_via_github_app":null,"state_reason":"completed"}