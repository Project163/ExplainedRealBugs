{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638/events","html_url":"https://github.com/diesel-rs/diesel/issues/1638","id":313900139,"node_id":"MDU6SXNzdWUzMTM5MDAxMzk=","number":1638,"title":"Introduce a `without-deprecated` feature","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/diesel-rs/diesel/milestones/16","html_url":"https://github.com/diesel-rs/diesel/milestone/16","labels_url":"https://api.github.com/repos/diesel-rs/diesel/milestones/16/labels","id":3954983,"node_id":"MDk6TWlsZXN0b25lMzk1NDk4Mw==","number":16,"title":"2.0","description":"","creator":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":40,"state":"closed","created_at":"2019-01-09T08:56:03Z","updated_at":"2024-11-24T07:42:53Z","due_on":null,"closed_at":"2022-10-27T10:21:27Z"},"comments":0,"created_at":"2018-04-12T21:50:56Z","updated_at":"2020-10-08T09:59:55Z","closed_at":"2020-10-08T09:59:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We have a lot of deprecations which do not give a warning due to various bugs in Rust. We've been recommending that people try compiling their apps with default features turned off if they're concerned about relying on deprecated code. However, this isn't always enough. If any dependency in the entire graph depends on Diesel without `default-features = false`, you cannot get rid of deprecated code.\r\n\r\nWe should introduce an explicit `without-deprecated` feature meant specifically for \"just make sure I'm not depending on deprecated code\" testing. Any place where we have `feature = \"with-deprecated\"` will need to change to `all(feature = \"with-deprecated\", not(feature = \"without-deprecated\"))`.\r\n\r\nIn an ideal world we shouldn't need this, and nobody should have to wonder if they're relying on deprecated code. However, the number of deprecations we have that do not warn are at a volume where I think this is warranted.\r\n\r\nFor reference, a few of the bugs in question:\r\n\r\nhttps://github.com/rust-lang/rust/issues/49912\r\nhttps://github.com/rust-lang/rust/issues/47237\r\nhttps://github.com/rust-lang/rust/issues/47236\r\nhttps://github.com/rust-lang/rust/issues/47238\r\n","closed_by":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/1638/timeline","performed_via_github_app":null,"state_reason":"completed"}