[{"id":8905608155,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAIS0Mvb","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8905608155","actor":{"login":"kimyvgy","id":13513658,"node_id":"MDQ6VXNlcjEzNTEzNjU4","avatar_url":"https://avatars.githubusercontent.com/u/13513658?v=4","gravatar_id":"","url":"https://api.github.com/users/kimyvgy","html_url":"https://github.com/kimyvgy","followers_url":"https://api.github.com/users/kimyvgy/followers","following_url":"https://api.github.com/users/kimyvgy/following{/other_user}","gists_url":"https://api.github.com/users/kimyvgy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimyvgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimyvgy/subscriptions","organizations_url":"https://api.github.com/users/kimyvgy/orgs","repos_url":"https://api.github.com/users/kimyvgy/repos","events_url":"https://api.github.com/users/kimyvgy/events{/privacy}","received_events_url":"https://api.github.com/users/kimyvgy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-04-02T02:19:15Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1493338881","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1493338881","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1493338881,"node_id":"IC_kwDOAnrqL85ZAosB","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T13:46:27Z","updated_at":"2023-04-02T13:46:27Z","body":"I cannot reproduce that locally. Can you provide details about your sqlite version?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1493338881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8906457843,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAIS3cLz","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8906457843","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-04-02T13:46:41Z","label":{"name":"missing reproduction steps","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1531734125","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1531734125","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1531734125,"node_id":"IC_kwDOAnrqL85bTGht","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-02T16:04:27Z","updated_at":"2023-05-02T16:04:27Z","body":"Closed as this misses a reproduction.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1531734125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9147405658,"node_id":"CE_lADOAnrqL85iZNk3zwAAAAIhOlVa","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9147405658","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-05-02T16:04:27Z","state_reason":"not_planned","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1609222395","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1609222395","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1609222395,"node_id":"IC_kwDOAnrqL85f6sj7","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-27T10:23:58Z","updated_at":"2023-06-27T11:07:32Z","body":"```\r\n$ cargo tree -i libsqlite3-sys --depth 1\r\nlibsqlite3-sys v0.26.0\r\n└── diesel v2.1.0\r\nlibsqlite3-sys v0.26.0\r\n\r\n$ sqlite3 --version\r\nsqlite3 --version\r\n3.24.0 2018-06-04 14:10:15 95fbac39baaab1c3a84fdfc82ccb7f42398b2e92f18a2a57bce1d4a713cbaapl\r\n\r\n$ uname -vr\r\nuname -vr\r\n18.7.0 Darwin Kernel Version 18.7.0: Tue Jun 22 19:37:08 PDT 2021; root:xnu-4903.278.70~1/RELEASE_X86_64\r\n\r\n$ diesel migration run\r\nUnexpected end of row\r\n```\r\n\r\nThis appears to repro the issue for me:\r\n\r\n```sh\r\n#!/usr/bin/env bash\r\n\r\nPROJECT_DIR=\"$(mktemp -d)\"\r\nDB_FILE=\"$(mktemp)\"\r\n\r\ncd \"${PROJECT_DIR}\"\r\nexport DATABASE_URL=\"sqlite://${DB_FILE}\"\r\n\r\necho \"*** Project directory: ${PROJECT_DIR}\"\r\necho \"*** DB: ${DATABASE_URL}\"\r\necho\r\n\r\necho \"=== Setup: \"\r\ndiesel setup\r\necho \"=== Exit: $?\"\r\necho\r\n\r\necho \"=== Creating migration\"\r\nMIGRATION_UP=$(diesel migration generate migration1 | head -1 | awk '{ print $2 }')\r\nMIGRATION_DOWN=\"$(dirname \"${MIGRATION_UP}\")/down.sql\"\r\n\r\ncat > \"${MIGRATION_UP}\" << EOF\r\nCREATE TABLE sample_table (\r\n  id INTEGER NOT NULL,\r\n  value INTEGER NOT NULL\r\n);\r\nEOF\r\n\r\ncat > \"${MIGRATION_DOWN}\" << EOF\r\nDROP TABLE IF EXISTS sample_table;\r\nEOF\r\n\r\necho\r\n\r\necho \"=== Running migration up:\"\r\ndiesel migration run\r\necho \"=== Exit: $?\"\r\necho\r\n\r\necho \"=== Print schema:\"\r\ndiesel print-schema\r\necho \"=== Exit: $?\"\r\necho\r\n\r\necho \"=== Running migration down:\"\r\ndiesel migration revert --all\r\necho \"=== Exit: $?\"\r\necho\r\n\r\nrm -i \"${DB_FILE}\"\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1609222395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610421739","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1610421739","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1610421739,"node_id":"IC_kwDOAnrqL85f_RXr","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-28T00:57:11Z","updated_at":"2023-06-28T00:57:11Z","body":"Digging into this a little more it seems like there's some interaction with the system version of sqlite3 (at least for me) and using `sqlite-bundled` instead of `sqlite` appears to get things working.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610421739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610538555","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1610538555","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1610538555,"node_id":"IC_kwDOAnrqL85f_t47","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-28T02:17:45Z","updated_at":"2023-06-28T02:17:45Z","body":"The problem is that the version of sqlite bundled with the version of OSX I'm using does not support `pragma table_xinfo` and the codepath for `pragma table_info` does not work.  `table_xinfo` returns an extra column and the `table_info` path expects that extra column.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610538555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610770843","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1610770843","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1610770843,"node_id":"IC_kwDOAnrqL85gAmmb","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-28T05:36:53Z","updated_at":"2023-06-28T05:36:53Z","body":"Thanks for investigating. These insights are really helpful to understand the underlying problem. I will try to implement a fix for that in the next weeks. I likely need some help to testing the fix as soon as it is ready. Can I just ping you from the relevant PR then?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1610770843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9660142832,"node_id":"REE_lADOAnrqL85iZNk3zwAAAAI_yhTw","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9660142832","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2023-06-28T05:37:01Z","state_reason":"reopened","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1612286504","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1612286504","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1612286504,"node_id":"IC_kwDOAnrqL85gGYoo","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-29T00:55:34Z","updated_at":"2023-06-29T00:55:34Z","body":"Sure","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1612286504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9687504354,"node_id":"UNLE_lADOAnrqL85iZNk3zwAAAAJBa5Xi","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9687504354","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-06-30T12:43:55Z","label":{"name":"missing reproduction steps","color":"bfd4f2"},"performed_via_github_app":null},{"id":9687504364,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAJBa5Xs","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9687504364","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-30T12:43:55Z","label":{"name":"sqlite","color":"bfd4f2"},"performed_via_github_app":null},{"id":9687504371,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAJBa5Xz","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9687504371","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-30T12:43:55Z","label":{"name":"cli","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1619015680","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1619015680","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1619015680,"node_id":"IC_kwDOAnrqL85ggDgA","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-03T19:00:58Z","updated_at":"2023-07-03T19:00:58Z","body":"I had some moments to look through some code and I think I know whats happening here:\n\nThe problematic code is here: https://github.com/diesel-rs/diesel/blob/master/diesel_cli/src/infer_schema_internals/sqlite.rs#L144\n\nFor newer sqlite version we call `PRAGMA table_xinfo(...)`, for older versions we call `PRAGMA table_info(...)`. The former returns one more column than the later call. The linked code (specifically the `Queryable` impl some lines below) assumes the larger column number from `table_xinfo(...)`\n\nI would like to change the code so that:\n\n* It uses `sql_query` instead `dsl::sql`\n* The `Queryable` impl is replaced by a `QueryableByName` impl that just uses a default value if the additional field is not there.\n\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1619015680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9712821661,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAJC7eWd","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9712821661","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-03T19:01:20Z","label":{"name":"help wanted","color":"159818"},"performed_via_github_app":null},{"id":9712821675,"node_id":"LE_lADOAnrqL85iZNk3zwAAAAJC7eWr","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9712821675","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-03T19:01:20Z","label":{"name":"mentoring available","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1623226677","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1623226677","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1623226677,"node_id":"IC_kwDOAnrqL85gwHk1","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-06T08:36:29Z","updated_at":"2023-07-06T08:36:29Z","body":"Yeah that's my understanding of what's happening.  I've not taken the time to go much further, but if the `hidden` column is not being used then it should be safe to simply use `table_info` regardless.  From the SQLite docs:\r\n\r\n> This pragma returns one row for each column in the named table, including generated columns and hidden columns. The output has the same columns as for PRAGMA table_info plus a column, \"hidden\", whose value signifies a normal column (0), a dynamic or stored generated column (2 or 3), or a hidden column in a virtual table (1). The rows for which this field is non-zero are those omitted for PRAGMA table_info.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1623226677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1623387739","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1623387739","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1623387739,"node_id":"IC_kwDOAnrqL85gwu5b","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-06T09:59:30Z","updated_at":"2023-07-06T09:59:30Z","body":"It's necessary to use `table_xinfo` as we want to get information about generated columns as well.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1623387739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1633317261","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1633317261","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1633317261,"node_id":"IC_kwDOAnrqL85hWnGN","user":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-12T23:06:59Z","updated_at":"2023-07-12T23:06:59Z","body":"Ah, ok.  In that case, yes, using `QueryableByName` seems like a good idea to me.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1633317261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-19T10:24:35Z","updated_at":"2023-07-19T10:24:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673/events","html_url":"https://github.com/diesel-rs/diesel/issues/3673","id":1782392451,"node_id":"I_kwDOAnrqL85qPSaD","number":3673,"title":"ERROR: `relation \"user\" does not exist` while running `diesel migration/print-schema`","user":{"login":"df51d","id":122315498,"node_id":"U_kgDOB0pi6g","avatar_url":"https://avatars.githubusercontent.com/u/122315498?v=4","gravatar_id":"","url":"https://api.github.com/users/df51d","html_url":"https://github.com/df51d","followers_url":"https://api.github.com/users/df51d/followers","following_url":"https://api.github.com/users/df51d/following{/other_user}","gists_url":"https://api.github.com/users/df51d/gists{/gist_id}","starred_url":"https://api.github.com/users/df51d/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/df51d/subscriptions","organizations_url":"https://api.github.com/users/df51d/orgs","repos_url":"https://api.github.com/users/df51d/repos","events_url":"https://api.github.com/users/df51d/events{/privacy}","received_events_url":"https://api.github.com/users/df51d/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193212,"node_id":"MDU6TGFiZWwyNTQxOTMyMTI=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":320992021,"node_id":"MDU6TGFiZWwzMjA5OTIwMjE=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/cli","name":"cli","color":"fbca04","default":false,"description":null},{"id":536100334,"node_id":"MDU6TGFiZWw1MzYxMDAzMzQ=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/postgres","name":"postgres","color":"c5def5","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-06-30T11:47:43Z","updated_at":"2023-07-19T10:24:36Z","closed_at":"2023-07-06T05:59:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nIf you want to report a bug, we added some points below which help us track down the problem faster.\r\n-->\r\n\r\n## Setup\r\n[My pg dump](https://gist.github.com/df51d/51e5ae9b2bb52ca40014f2235a7e8c55#file-pg_dump-sql)\r\n### Versions\r\n\r\n- **Rust:**\r\ncargo 1.70.0 (ec8a8a0ca 2023-04-25)\r\nrustc 1.70.0 (90c541806 2023-05-31)\r\n- **Diesel:**\r\ndiesel 2.1.0\r\n- **Database:**\r\npostgresql 15.3-1.pgdg120+1\r\n- **Operating System**\r\nArcoLinux kernel 6.3.8-arch1-1\r\n### Feature Flags\r\n```\r\ncargo install diesel_cli --no-\r\ndefault-features --features \"postgres sqlite\"\r\n```\r\n## Problem Description\r\nI encountered an error while running `diesel print-schema`/`diesel migration run` on my old database after installing the diesel-cli. I was attempting to switch from a TypeScript project that utilized Prisma as the database driver to a Rust project with Diesel as the database driver. Since starting from scratch and recreating everything would be a significant amount of work, my intention was to reuse my existing database. However, I faced difficulties during the process. \r\n### What are you trying to accomplish?\r\n```diesel print-schema```\r\n### What is the actual output?\r\n```relation \"user\" does not exist```\r\n### Steps to reproduce\r\n#### with prisma installed\r\n```bash\r\ndocker pull postgres\r\n\r\ndocker run -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres\r\n\r\necho 'DATABASE_URL=\"postgresql://postgres:postgres@localhost:5432/db\"' > .env\r\n\r\nprisma init\r\n\r\necho 'model User {\\n\\tid Int @id @default(autoincrement())\\n}' >> prisma/schema.prisma\r\n\r\nprisma db push\r\n\r\ndiesel print-schema\r\n```\r\n#### without prisma installed\r\n```bash\r\ndocker pull postgres\r\n\r\ndocker run -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres\r\n\r\necho 'DATABASE_URL=\"postgresql://postgres:postgres@localhost:5432/db\"' > .env\r\n\r\ndiesel setup\r\n\r\nmkdir migrations/user\r\n\r\necho \"CREATE TABLE public.\\\"User\\\" (\r\n    id integer NOT NULL\r\n);\r\nALTER TABLE public.\\\"User\\\" OWNER TO postgres;\r\nCREATE SEQUENCE public.\\\"User_id_seq\\\"\r\n    AS integer\r\n    START WITH 1\r\n    INCREMENT BY 1\r\n    NO MINVALUE\r\n    NO MAXVALUE\r\n    CACHE 1;\r\nALTER TABLE public.\\\"User_id_seq\\\" OWNER TO postgres;\r\nALTER SEQUENCE public.\\\"User_id_seq\\\" OWNED BY public.\\\"User\\\".id;\r\nALTER TABLE ONLY public.\\\"User\\\" ALTER COLUMN id SET DEFAULT nextval('public.\\\"User_id_seq\\\"'::regclass);\r\nSELECT pg_catalog.setval('public.\\\"User_id_seq\\\"', 1, false);\r\nALTER TABLE ONLY public.\\\"User\\\"\r\n    ADD CONSTRAINT \\\"User_pkey\\\" PRIMARY KEY (id);\" > migrations/user/up.sql\r\n    \r\ndiesel migration run\r\n```\r\n### Temporary fix:\r\nMaking all tables lowercase seems to fix the problem:\r\n#### working migration\r\n```sql\r\n--- this works just fine /migrations/user/up.sql\r\nCREATE TABLE public.\"user\" (\r\n    id integer NOT NULL\r\n);\r\nALTER TABLE public.\"user\" OWNER TO postgres;\r\nCREATE SEQUENCE public.\"user_id_seq\"\r\n    AS integer\r\n    START WITH 1\r\n    INCREMENT BY 1\r\n    NO MINVALUE\r\n    NO MAXVALUE\r\n    CACHE 1;\r\nALTER TABLE public.\"user_id_seq\" OWNER TO postgres;\r\nALTER SEQUENCE public.\"user_id_seq\" OWNED BY public.\"user\".id;\r\nALTER TABLE ONLY public.\"user\" ALTER COLUMN id SET DEFAULT nextval('public.\"user_id_seq\"'::regclass);\r\nSELECT pg_catalog.setval('public.\"user_id_seq\"', 1, false);\r\nALTER TABLE ONLY public.\"user\"\r\n    ADD CONSTRAINT \"user_pkey\" PRIMARY KEY (id);\r\n```\r\n#### working prisma \r\n```prisma\r\nmodel user {\r\n  id Int @id @default(autoincrement())\r\n}\r\n```\r\n## Checklist\r\n- [x] I have already looked over the [issue tracker](https://github.com/diesel-rs/diesel/issues) and the [discussion forum](https://github.com/diesel-rs/diesel/discussions) for similar possible closed issues.\r\n<!--\r\nIf you are unsure if your issue is a duplicate of an existing issue please link the issue in question here\r\n--> \r\n- [x] This issue can be reproduced on Rust's stable channel. (Your issue will be\r\n  closed if this is not the case)\r\n- [x] This issue can be reproduced without requiring a third party crate","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3673/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":9909665529,"node_id":"REFE_lADOAnrqL85iZNk3zwAAAAJOqX75","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9909665529","actor":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bd43757843bad275cea2ffd4ec5007982159fe48","commit_url":"https://api.github.com/repos/dsp/diesel/commits/bd43757843bad275cea2ffd4ec5007982159fe48","created_at":"2023-07-25T10:04:47Z","performed_via_github_app":null},{"actor":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T10:07:54Z","updated_at":"2023-07-25T10:07:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713/events","html_url":"https://github.com/diesel-rs/diesel/pull/3713","id":1819987477,"node_id":"PR_kwDOAnrqL85WUKIR","number":3713,"title":"Fix #3579: Unexpected end of row when setup diesel","user":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-07-25T10:07:54Z","updated_at":"2023-07-27T13:11:25Z","closed_at":"2023-07-26T12:29:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/3713","html_url":"https://github.com/diesel-rs/diesel/pull/3713","diff_url":"https://github.com/diesel-rs/diesel/pull/3713.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/3713.patch","merged_at":"2023-07-26T12:29:23Z"},"body":"We use `PRAGMA table_info` for older versions of sqlite. This returns fewer columns that `PRAGMA table_xinfo` which we use in newer versions of sqlite, making the two code paths incompatbile with the `Queryable` implementations. We instead now use `sql_query` with an implementation of `QueryableByName` to return default values for the case of `PRAGMA table_info`.\r\n\r\nNote this is a WIP implementation. It's my first contribution and dive into the diesel codebase so there is a good chance this is not the right way to do it.\r\n\r\n## Questions\r\n1. Should I use`derive` instead of a manual implementation of `QueryableByName`?\r\n\r\n## Tests\r\n1. Run `cargo test --features sqlite --no-default-features` successfully.\r\n2. Run the shell script provided in #3579 .\r\n\r\n## NOT TESTED!\r\nI have not tested the case of an older sqlite version as described in #3579 as I currently do\r\nnot have a setup for this. I will refer to the author of the issue to test this branch for me.","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3713/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1649527056","html_url":"https://github.com/diesel-rs/diesel/issues/3579#issuecomment-1649527056","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3579","id":1649527056,"node_id":"IC_kwDOAnrqL85iUckQ","user":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T10:08:24Z","updated_at":"2023-07-25T10:08:24Z","body":"@inferiorhumanorgans @kimyvgy can you give https://github.com/diesel-rs/diesel/pull/3713 a try?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1649527056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9909703466,"node_id":"MEE_lADOAnrqL85iZNk3zwAAAAJOqhMq","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9909703466","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-07-25T10:08:25Z","performed_via_github_app":null},{"id":9909703478,"node_id":"SE_lADOAnrqL85iZNk3zwAAAAJOqhM2","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9909703478","actor":{"login":"inferiorhumanorgans","id":871927,"node_id":"MDQ6VXNlcjg3MTkyNw==","avatar_url":"https://avatars.githubusercontent.com/u/871927?v=4","gravatar_id":"","url":"https://api.github.com/users/inferiorhumanorgans","html_url":"https://github.com/inferiorhumanorgans","followers_url":"https://api.github.com/users/inferiorhumanorgans/followers","following_url":"https://api.github.com/users/inferiorhumanorgans/following{/other_user}","gists_url":"https://api.github.com/users/inferiorhumanorgans/gists{/gist_id}","starred_url":"https://api.github.com/users/inferiorhumanorgans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inferiorhumanorgans/subscriptions","organizations_url":"https://api.github.com/users/inferiorhumanorgans/orgs","repos_url":"https://api.github.com/users/inferiorhumanorgans/repos","events_url":"https://api.github.com/users/inferiorhumanorgans/events{/privacy}","received_events_url":"https://api.github.com/users/inferiorhumanorgans/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-07-25T10:08:25Z","performed_via_github_app":null},{"id":9909703501,"node_id":"MEE_lADOAnrqL85iZNk3zwAAAAJOqhNN","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9909703501","actor":{"login":"kimyvgy","id":13513658,"node_id":"MDQ6VXNlcjEzNTEzNjU4","avatar_url":"https://avatars.githubusercontent.com/u/13513658?v=4","gravatar_id":"","url":"https://api.github.com/users/kimyvgy","html_url":"https://github.com/kimyvgy","followers_url":"https://api.github.com/users/kimyvgy/followers","following_url":"https://api.github.com/users/kimyvgy/following{/other_user}","gists_url":"https://api.github.com/users/kimyvgy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimyvgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimyvgy/subscriptions","organizations_url":"https://api.github.com/users/kimyvgy/orgs","repos_url":"https://api.github.com/users/kimyvgy/repos","events_url":"https://api.github.com/users/kimyvgy/events{/privacy}","received_events_url":"https://api.github.com/users/kimyvgy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-07-25T10:08:25Z","performed_via_github_app":null},{"id":9909703508,"node_id":"SE_lADOAnrqL85iZNk3zwAAAAJOqhNU","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9909703508","actor":{"login":"kimyvgy","id":13513658,"node_id":"MDQ6VXNlcjEzNTEzNjU4","avatar_url":"https://avatars.githubusercontent.com/u/13513658?v=4","gravatar_id":"","url":"https://api.github.com/users/kimyvgy","html_url":"https://github.com/kimyvgy","followers_url":"https://api.github.com/users/kimyvgy/followers","following_url":"https://api.github.com/users/kimyvgy/following{/other_user}","gists_url":"https://api.github.com/users/kimyvgy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimyvgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimyvgy/subscriptions","organizations_url":"https://api.github.com/users/kimyvgy/orgs","repos_url":"https://api.github.com/users/kimyvgy/repos","events_url":"https://api.github.com/users/kimyvgy/events{/privacy}","received_events_url":"https://api.github.com/users/kimyvgy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-07-25T10:08:25Z","performed_via_github_app":null},{"id":9910949475,"node_id":"REFE_lADOAnrqL85iZNk3zwAAAAJOvRZj","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9910949475","actor":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"22b56086925a6c05b53f345169ba57137ff2b7c8","commit_url":"https://api.github.com/repos/dsp/diesel/commits/22b56086925a6c05b53f345169ba57137ff2b7c8","created_at":"2023-07-25T12:16:54Z","performed_via_github_app":null},{"id":9913667226,"node_id":"REFE_lADOAnrqL85iZNk3zwAAAAJO5o6a","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/9913667226","actor":{"login":"dsp","id":14013,"node_id":"MDQ6VXNlcjE0MDEz","avatar_url":"https://avatars.githubusercontent.com/u/14013?v=4","gravatar_id":"","url":"https://api.github.com/users/dsp","html_url":"https://github.com/dsp","followers_url":"https://api.github.com/users/dsp/followers","following_url":"https://api.github.com/users/dsp/following{/other_user}","gists_url":"https://api.github.com/users/dsp/gists{/gist_id}","starred_url":"https://api.github.com/users/dsp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsp/subscriptions","organizations_url":"https://api.github.com/users/dsp/orgs","repos_url":"https://api.github.com/users/dsp/repos","events_url":"https://api.github.com/users/dsp/events{/privacy}","received_events_url":"https://api.github.com/users/dsp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4272027ed31267e53cf0b1f33bc09ca3543abc6c","commit_url":"https://api.github.com/repos/dsp/diesel/commits/4272027ed31267e53cf0b1f33bc09ca3543abc6c","created_at":"2023-07-25T15:52:38Z","performed_via_github_app":null}]