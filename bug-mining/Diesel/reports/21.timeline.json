[{"id":511670883,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDUxMTY3MDg4Mw==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/511670883","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-01-11T21:48:00Z","milestone":{"title":"0.4.2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170701567","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-170701567","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":170701567,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDcwMTU2Nw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-11T21:49:24Z","updated_at":"2016-01-11T21:49:24Z","body":"In addition to just flat out fixing this problem, I'd also like to decouple the table name from the struct name, and allow a `#[table_name=\"foo\"]` annotation.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170701567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":511672616,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDUxMTY3MjYxNg==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/511672616","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-01-11T21:49:27Z","milestone":{"title":"0.5"},"performed_via_github_app":null},{"id":511672617,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50NTExNjcyNjE3","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/511672617","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2016-01-11T21:49:27Z","milestone":{"title":"0.4.2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170744905","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-170744905","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":170744905,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc0NDkwNQ==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T00:46:45Z","updated_at":"2016-01-12T00:46:45Z","body":"The decoupling would probably help a lot, as it looks like it has trouble with any edge case pluralization as well\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170744905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170754845","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-170754845","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":170754845,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc1NDg0NQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T01:40:55Z","updated_at":"2016-01-12T01:40:55Z","body":"Yeah, it literally is .to_lowercase + s right now. We can make it\n_slightly_ better, but I don't want to try and handle actual pluralization\nfor every word\n\nOn Mon, Jan 11, 2016, 5:46 PM Matt Casper notifications@github.com wrote:\n\n> The decoupling would probably help a lot, as it looks like it has trouble\n> with any edge case pluralization as well\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/sgrif/diesel/issues/86#issuecomment-170744905.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170754845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170829914","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-170829914","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":170829914,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDgyOTkxNA==","user":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T07:51:55Z","updated_at":"2016-01-12T07:51:55Z","body":":+1: for `#[table_name=\"foo\"]`\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/170829914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":512728876,"node_id":"MDEyOkxhYmVsZWRFdmVudDUxMjcyODg3Ng==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512728876","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-01-12T18:20:37Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":512729602,"node_id":"MDEyOkxhYmVsZWRFdmVudDUxMjcyOTYwMg==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512729602","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-01-12T18:21:16Z","label":{"name":"internal or unreleased api","color":"5319e7"},"performed_via_github_app":null},{"id":512729796,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxMjcyOTc5Ng==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512729796","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1f533177044e983d55115ca9f1cbf0261ab62f26","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/1f533177044e983d55115ca9f1cbf0261ab62f26","created_at":"2016-01-12T18:21:27Z","performed_via_github_app":null},{"actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T18:21:42Z","updated_at":"2016-01-12T18:21:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/87","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/87/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/87/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/87/events","html_url":"https://github.com/diesel-rs/diesel/pull/87","id":126241707,"node_id":"MDExOlB1bGxSZXF1ZXN0NTU3OTY0ODg=","number":87,"title":"Allow structs to be annotated with `#[table_name=\"foo\"]`","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-01-12T18:21:42Z","updated_at":"2016-01-12T23:35:46Z","closed_at":"2016-01-12T23:26:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/87","html_url":"https://github.com/diesel-rs/diesel/pull/87","diff_url":"https://github.com/diesel-rs/diesel/pull/87.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/87.patch","merged_at":"2016-01-12T23:26:31Z"},"body":"This is related to #86, where we are not properly inferring the table\nname for some structs. While I do want to actually fix some of the cases\nin that issue, it's also been pointed out that we don't handle any edge\ncases for pluralization.\n\nI might improve pluralization _slightly_, but we're not going to\nmaintain an actual mapping of every word as it's brittle, difficult to\nmaintain, and causes bug fixes to stop people's code from compiling.\n\nRegardless of how good our inference is, we should decouple the table\nname from the struct name. This now allows specifying the table name\nwith an annotation. This does not affect any public API, only\nassociations which I have not made public or documented as they're still\nvery prototypical.\n\nIt should be noted that this _only_ affects other annotations on the\nsame struct. When we're processing an annotation on `Foo`, we don't\nactually have a way to go look at the annotations on `Bar` (at least not\nas far as I can tell). At this point in time, we do not directly\nreference any struct in a way that should be affected by this.\n`#[belongs_to]` comes close, but the table name is based on the\nassociation name, not the foreign struct that we look for.\n","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/87/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/87/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/171001926","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-171001926","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":171001926,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTAwMTkyNg==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T18:23:27Z","updated_at":"2016-01-12T18:23:27Z","body":"Also I didn't mention it earlier, but also keep in mind that I've left associations out of the public API of the released crate, as I'm not happy with the current design and it may change further (it also likely requires the [lattice rule](https://github.com/rust-lang/rfcs/pull/1210#issuecomment-139635004) coming w/ specialization to implement properly)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/171001926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/171031933","html_url":"https://github.com/diesel-rs/diesel/issues/86#issuecomment-171031933","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/86","id":171031933,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTAzMTkzMw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T19:47:32Z","updated_at":"2016-01-12T19:47:32Z","body":"So I've been starting to think more heavily about this, and specifically how to avoid duplicating a lot of information when dealing with non-standard tables and primary keys. An interesting thing about the `#[table_name]` annotation is that I can't actually access it from annotations on other items (which makes sense, especially when considering the associated struct might be coming from another crate).\n\nJust spitballing some thoughts here. Scoping to `belongs_to` only to simplify. We might be able to work this into assuming the other side implements a trait, rather than how we operate today. If we do `#[belongs_to(bar)] Struct Foo;`, then the code that'll get generated is:\n\n``` rust\nimpl ::diesel::BelongingToDsl<Bar> for Foo {\n    type Output = ::diesel::helper_types::FindBy<\n        foos::table,\n        foos::bar_id,\n        i32,\n    >;\n\n    fn belonging_to(model: &Bar) -> Self::Output {\n        foos::table.filter(foos::bar_id.eq(model.id.clone()))\n    }\n}\n\nimpl ::diesel::JoinTo<bars::table> for foos::table {\n    fn join_sql(&self, out: &mut ::diesel::query_builder::QueryBuilder)\n        -> ::diesel::query_builder::BuildQueryResult\n    {\n        try!(bars::table.from_clause(out));\n        out.push_sql(\" ON \");\n        foos::bar_id.eq(bars::table.primary_key()).to_sql(out)\n    }\n}\n```\n\nSo I guess really all we need is something like\n\n``` rust\ntrait Identifiable {\n    type Table: Table;\n    type Pk: AsExpression<Self::Table::PrimaryKey::SqlType>;\n\n    fn table() -> Self::Table;\n    fn primary_key(&self) -> Self::Pk;\n}\n```\n\nNow the question is where do we actually generate this. Are we fine with just requiring a `#derive(Identifiable)` on the other side? I could just tack it onto something common like `Queriable`, but that would imply that you don't have models which aren't associated with a single row of a single table.\n\nIt's worth noting that all of this is focusing around the idea that these structs will represent a single row on a single table. While that's counter to the design of the framework overall, I think that more or less has to be a given when we start talking about associations (unless we want to explore the idea that you'd have a single struct to represent both sides, but I don't think that'll work well with one-to-many, and would inhibit code re-use).\n\nIt's also worth noting that we never actually use the argument to `belongs_to`, other than to generate the foreign key and infer the struct name.\n\nWith all of this in mind, I'm thinking that we should change the API to `#[belongs_to(User)]`, with the ability to specify the foreign key: `#[belongs_to(User, foreign_key=\"author_id\")]`. With this change, the generated code would become:\n\n``` rust\nimpl ::diesel::BelongingToDsl<Bar> for Foo {\n    type Output = ::diesel::helper_types::FindBy<\n        foos::table,\n        foos::bar_id,\n        i32,\n    >;\n\n    fn belonging_to(model: &Bar) -> Self::Output {\n        foos::table.filter(foos::bar_id.eq(<Bar as Identifiable>::primary_key(model)))\n    }\n}\n\nimpl ::diesel::JoinTo<<Bar as Identifiable>::Table> for foos::table {\n    fn join_sql(&self, out: &mut ::diesel::query_builder::QueryBuilder)\n        -> ::diesel::query_builder::BuildQueryResult\n    {\n        try!(<Bar as Identifiable>::table().from_clause(out));\n        out.push_sql(\" ON \");\n        foos::bar_id.eq(<Bar as Identifiable>::table().primary_key()).to_sql(out)\n    }\n}\n```\n\nThis does mean that you can't have an association using a primary key other than that of the table. I think that's fine, as the point is that we're equating with a single row, and I've never seen a good use case for changing the primary key of an association in Rails.\n\nThis will be a little bit more murky when it comes to `has_many`, as that means the API becomes the slightly awkward `#[has_many(Post)]` or `#[has_many(Post, foreign_key=\"post_id\")]`. It's worth noting that `has_many` as it is today is effectively worthless (other than enabling joining).\n\nAt some point it will also be the thing that makes you able to get `Vec<(User, Vec<Post>)>` out of a query, but I'm not sure that needs to care about the struct as much as it is a property of how you're performing the join. I was writing some examples of what I mean but as I wrote them I realized there's some flaws involving how it gets mixed with `select`. I'd have to implement to figure that out. But what I'm getting at is that unlike `belongs_to`, which does deal with a specific struct, `has_many` doesn't necessarily need to know about it, and in fact it is more about the table, implying that `#[has_many(posts)]` is in fact the right thing to do.\n\nPerhaps at the heart of this is figuring out exactly what associations are meant to _do_. I do like `Post::belonging_to(user)` as a helpful piece of sugar over the common `posts.filter(user_id.eq(user.id))` (I also just realized that could totally be `posts::belonging_to(user)` since the `Post` struct has nothing to do with `belonging_to`, but I'm struggling to come up with any cases where we need to involve structs.\n\nIf that's the case, maybe we need to separate out the relationships between tables from the relationships between structs. The biggest problem there is that we no longer have a place for you to actually annotate a table. I need to spike some more on what I want to be able to do with `has_many` to figure out the right place to solve this...\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/171031933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":512867820,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxMjg2NzgyMA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512867820","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a42c2da018a6929628b39c78f97a1cbbeaed9023","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/a42c2da018a6929628b39c78f97a1cbbeaed9023","created_at":"2016-01-12T20:11:55Z","performed_via_github_app":null},{"id":512867822,"node_id":"MDExOkNsb3NlZEV2ZW50NTEyODY3ODIy","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512867822","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"a42c2da018a6929628b39c78f97a1cbbeaed9023","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/a42c2da018a6929628b39c78f97a1cbbeaed9023","created_at":"2016-01-12T20:11:55Z","state_reason":null,"performed_via_github_app":null},{"id":512888174,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxMjg4ODE3NA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512888174","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fb54c543ffcde859d8ee1153bf93782428ea2ffb","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/fb54c543ffcde859d8ee1153bf93782428ea2ffb","created_at":"2016-01-12T20:30:11Z","performed_via_github_app":null},{"actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-12T20:56:41Z","updated_at":"2016-01-12T20:56:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/89","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/89/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/89/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/89/events","html_url":"https://github.com/diesel-rs/diesel/issues/89","id":126273761,"node_id":"MDU6SXNzdWUxMjYyNzM3NjE=","number":89,"title":"Associations: what should they look like?","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193214,"node_id":"MDU6TGFiZWwyNTQxOTMyMTQ=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":292827063,"node_id":"MDU6TGFiZWwyOTI4MjcwNjM=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/discussion%20desired","name":"discussion desired","color":"bfd4f2","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2016-01-12T20:56:41Z","updated_at":"2019-09-20T02:28:10Z","closed_at":"2017-06-05T17:38:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Let's talk about associations. First what's in the public API today, what's in the private API today, and what they actually need to do. We can use those things to drive what the API should look like.\n# Public API today\n\nRight now `Table` has `inner_join` and `left_outer_join` which can take any other table which implements `JoinTo`. This is limited to exactly _one_ table today, due to some limitations that I think will be resolved by specialization. There also needs to be some boilerplate implementations of `SelectableExpression` for all the various types of query sources, which will go away when specialization (or https://github.com/rust-lang/rust/issues/29864) lands and replaced with:\n\n``` rust\nimpl<Left, Right, ST, T> SelectableExpression<InnerJoinSource<Left, Right>, ST>\n    for T where\n    T: SelectableExpression<Left, ST>,\n    Left: JoinTo<Right>,\n{}\n\nimpl<Left, Right, ST, T> SelectableExpression<InnerJoinSource<Left, Right>, ST>\n    for T where\n    T: SelectableExpression<Right, ST>,\n    Left: JoinTo<Right>,\n{}\n```\n\nThis will also basically allow us to implement the join methods on the various join sources as well, though we might need to do some tuple hackery.\n# Private API today\n\nThe annotations `#[has_many]` and `#[belongs_to]` are part of the internal API today. Both implement `JoinTo` automatically. `belongs_to` additionally implements `BelongingToDsl<Parent>` for the child. I wrote up some thoughts on where that is today at https://github.com/sgrif/diesel/issues/86#issuecomment-171031933.\n# What do Associations actually need to do?\n\nUltimately we're either eager loading the children for a collection of parents, or we're loading the children for a single parent. I believe that `BelongingTo` sufficiently handles the latter, but it'll effectively be handled by the former.\n# One To Many\n\nI'm pretty reasonably confident that associations should be non invasive (user doesn't know it has many posts). That means that the type of a user and all of its posts is `(User, Vec<Post>)`. This can get tricky when dealing with multiple levels of nesting here. For example, the type of a user, all the posts they've written, and all the comments written by that user is `(User, Vec<Post>, Vec<Comment>)`. By contrast, the type of a user, all of the posts they've written, and all of the comments left on each of those posts would be `(User, Vec<(Post, Vec<Comment>)>)`.\n\nI'd imagine the way to specify that you want to load the comments for the posts and not for the users is by writing `users.left_outer_join(posts.left_outer_join(comments))` as opposed to `users.left_outer_join(posts).left_outer_join(comments)`.\n\nThe case of a user and all of its posts would be written today as:\n\n``` rust\nusers.left_outer_joins(posts::table).load(&connection)\n    .group_by(|(user, post)| user)\n    .map(|(user, posts)| posts.into_iter().filter_map(|p| p).collect())\n    .collect()\n```\n\nThe case involving comments is effectively impossible today.\n\nWe do not need to have specific code to handle loading the children for a single record, as `Post::belonging_to(&user)` is sufficient.\n\nIt should also be noted that I don't want to restrict what you're able to work with. We should be able to get a user, and the title of all of their posts by doing `users.left_outer_joins(posts::table).select((users.all_columns(), posts::title))`.\n# One To One\n\nThe type of a one to one relationship is either `(A, B)` or `(A, Option<B>)`. Technically only a `belongs_to` can be mandatory, but you can still end up with the first signature with an inner join. Regardless of if we're going child to parent or parent to child, the way this is written today is simply:\n\n``` rust\nusers.inner_join(profile)\n```\n\nAnd loading a single record is handled by `Post::belonging_to(&user)`. I do not believe we need any additional code to handle this case, but we could potentially rename the join methods to have parity with whatever we come up with for one to many.\n# Composition\n\nAssociations should be composable. If we want to get all of the comments that have been written for any posts written by a user, we should be able to re-use our existing logic, without having to actually load the posts.\n","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/89/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/89/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":512919483,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxMjkxOTQ4Mw==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/512919483","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68c403a5808b24d20763cb1d97bc7398120083ab","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/68c403a5808b24d20763cb1d97bc7398120083ab","created_at":"2016-01-12T21:00:24Z","performed_via_github_app":null},{"id":514129636,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNDEyOTYzNg==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/514129636","actor":{"login":"tomhoule","id":13155277,"node_id":"MDQ6VXNlcjEzMTU1Mjc3","avatar_url":"https://avatars.githubusercontent.com/u/13155277?v=4","gravatar_id":"","url":"https://api.github.com/users/tomhoule","html_url":"https://github.com/tomhoule","followers_url":"https://api.github.com/users/tomhoule/followers","following_url":"https://api.github.com/users/tomhoule/following{/other_user}","gists_url":"https://api.github.com/users/tomhoule/gists{/gist_id}","starred_url":"https://api.github.com/users/tomhoule/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomhoule/subscriptions","organizations_url":"https://api.github.com/users/tomhoule/orgs","repos_url":"https://api.github.com/users/tomhoule/repos","events_url":"https://api.github.com/users/tomhoule/events{/privacy}","received_events_url":"https://api.github.com/users/tomhoule/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"67a93772d2373e2553fe5e1b9495f8c663968230","commit_url":"https://api.github.com/repos/tomhoule/diesel/commits/67a93772d2373e2553fe5e1b9495f8c663968230","created_at":"2016-01-13T19:41:49Z","performed_via_github_app":null},{"id":514129637,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUxNDEyOTYzNw==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/514129637","actor":{"login":"tomhoule","id":13155277,"node_id":"MDQ6VXNlcjEzMTU1Mjc3","avatar_url":"https://avatars.githubusercontent.com/u/13155277?v=4","gravatar_id":"","url":"https://api.github.com/users/tomhoule","html_url":"https://github.com/tomhoule","followers_url":"https://api.github.com/users/tomhoule/followers","following_url":"https://api.github.com/users/tomhoule/following{/other_user}","gists_url":"https://api.github.com/users/tomhoule/gists{/gist_id}","starred_url":"https://api.github.com/users/tomhoule/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomhoule/subscriptions","organizations_url":"https://api.github.com/users/tomhoule/orgs","repos_url":"https://api.github.com/users/tomhoule/repos","events_url":"https://api.github.com/users/tomhoule/events{/privacy}","received_events_url":"https://api.github.com/users/tomhoule/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b52e49acd15a58e9f0840c77370b3eda8e97659d","commit_url":"https://api.github.com/repos/tomhoule/diesel/commits/b52e49acd15a58e9f0840c77370b3eda8e97659d","created_at":"2016-01-13T19:41:49Z","performed_via_github_app":null}]