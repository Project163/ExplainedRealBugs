{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/211","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/211/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/211/events","html_url":"https://github.com/diesel-rs/diesel/issues/211","id":133478672,"node_id":"MDU6SXNzdWUxMzM0Nzg2NzI=","number":211,"title":"`infer_schema!` blows up on tables with primary keys other than `id`","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-02-13T22:13:12Z","updated_at":"2016-04-12T18:27:09Z","closed_at":"2016-04-12T18:27:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Not only that, but the error message gives absolutely nothing useful.\n\n```\n<diesel macros>:22:19: 16:16 error: use of undeclared type name `columns::id` [E0412]\n(internal compiler error: unprintable span)\n<diesel macros>:15:1: 17:58 note: in this expansion of table_body! (defined in <diesel macros>)\n<diesel macros>:5:1: 6:2 note: in this expansion of table! (defined in <diesel macros>)\n<diesel macros>:2:1: 2:64 note: in this expansion of table! (defined in <diesel macros>)\nsrc/schema.rs:2:1: 2:40 note: in this expansion of table! (defined in <diesel macros>)\n```\n\nWe can't _fully_ solve this without adding composite primary key support, but we should try to handle singular primary keys other than id, and either skip tables with composite primary keys or at least give a more useful warning/error.\n","closed_by":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/211/timeline","performed_via_github_app":null,"state_reason":"completed"}