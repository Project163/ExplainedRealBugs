[{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183765435","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-183765435","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":183765435,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc2NTQzNQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-13T22:18:28Z","updated_at":"2016-02-13T22:18:28Z","body":"You are correct, we are missing support for `group_by` (and more generally, we are also missing the ability to select _multiple_ aggregate expressions even if it's valid. Ref #3). This is something I'd like to add support for in the future. We haven't gotten to it yet, as the features that we're targeting for 1.0 are features that are likely to require breaking changes to our existing API (0.6 will bring a reworking of associations, and is currently planned to be the last release before 1.0).\n\nFor the most part, your workaround appears to be the way to go about doing this in the short term. The `sql` function will _never_ infer the type, and will always need it to be specified. `Text` isn't correct here though, `BigInteger` is.\n\nIn the short term, I think it's fine for us to add a `group_by` function (not public API, as it will change when we properly support it) that takes a column. Because `.filter(sql(\"TRUE GROUP BY ...\"))` is silly and you shouldn't have to do that.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183765435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":549640288,"node_id":"MDEyOkxhYmVsZWRFdmVudDU0OTY0MDI4OA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/549640288","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-02-13T22:18:33Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":549640289,"node_id":"MDEyOkxhYmVsZWRFdmVudDU0OTY0MDI4OQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/549640289","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-02-13T22:18:33Z","label":{"name":"accepted","color":"009800"},"performed_via_github_app":null},{"id":549650313,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU0OTY1MDMxMw==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/549650313","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6df20dee3191c71b9fff80097eb0058f302b7e3d","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/6df20dee3191c71b9fff80097eb0058f302b7e3d","created_at":"2016-02-13T22:59:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183769849","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-183769849","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":183769849,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc2OTg0OQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-13T23:02:32Z","updated_at":"2016-02-13T23:02:32Z","body":"@barosl I've pushed up 6df20de which adds a `group_by` method. This is not part of the public API, and has only the most basic of tests for it. This method will almost certainly have breaking changes when we properly support the group by clause publicly, but I wanted to make sure you had a reasonable workaround. With this, your workaround can become:\n\n``` rust\ndonate::table.select((donate::name, sql::<BigInteger>(\"sum(amount) AS sum\")))\n             .group_by(donate::name)\n             .order(sql::<BigInteger>(\"sum\").desc())\n             .load(&*db).unwrap();\n```\n\nwhich is a little more sane. I'm not going to ship a new version for this change, as it doesn't affect the public API. That means you'll have to point at git for now, but next time I have a bug fix to use as an excuse I'll ship 0.5.2 which will include that change.\n\nThis \"fix\" does not close this issue, nor does it constitute proper group by support, it's simply a crappy workaround that is slightly less crapy than `filter(sql(\"TRUE GROUP BY ...\"))`\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183769849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":549650878,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTQ5NjUwODc4","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/549650878","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-02-13T23:02:32Z","performed_via_github_app":null},{"id":549650879,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU0OTY1MDg3OQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/549650879","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-02-13T23:02:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183769897","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-183769897","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":183769897,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc2OTg5Nw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-13T23:03:32Z","updated_at":"2016-02-13T23:03:32Z","body":"Note for anybody reading this because they're looking for issues to work on:\n\nBefore we can add proper support for group by, we almost certainly need to resolve #3.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183769897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183770937","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-183770937","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":183770937,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc3MDkzNw==","user":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-13T23:27:21Z","updated_at":"2016-02-13T23:27:21Z","body":"Ah, thanks for the explanation!\n\nI think I can live with `.filter(sql(\"TRUE GROUP BY ...\"))` for now, because although it's a bit silly as you said, there seems to be no other \"better\" workarounds out there. I was a bit worried if there were better alternatives, but given your explanation, I'm fine with using the best workaround. I can perfectly wait until you guys introduce a true `group_by` function.\n\nThe reason why I used `.order(sql::<Text>(\"sum\"))` was that whatever I put there, it compiled and worked. So I put the one that looked the most \"generic\" (`Text`). But thinking again, it seems that the reason why it compiled was that `.order()` requires its parameter to be orderable, and `Text` happens to be `SqlOrd`. Is my assumption correct?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183770937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183780863","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-183780863","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":183780863,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc4MDg2Mw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-14T00:38:58Z","updated_at":"2016-02-14T00:38:58Z","body":"> because although it's a bit silly as you said, there seems to be no other \"better\" workarounds out there\n\nI just pushed a better workaround. :P Still not great, but less silly at least.\n\n> and Text happens to be SqlOrd. Is my assumption correct?\n\n`SqlOrd` actually is only for functions like `max`. `.order` doesn't care about the type that you pass it. My comment about the type was for your select clause, not your order clause.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/183780863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185507548","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-185507548","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":185507548,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NTUwNzU0OA==","user":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-18T02:03:02Z","updated_at":"2016-02-18T02:03:02Z","body":"> I just pushed a better workaround.\n\nOh, I thought the added `group_by` was for internal use because you said it was not part of the public API. By \"public API\" did you mean the method was `#[doc(hidden)]`?\n\n> My comment about the type was for your select clause, not your order clause.\n\nOops, it seems that the pasted code above is different from my production code. I actually did use `BigInteger` correctly in the select clause (it doesn't even compile if I use other types, actually), so what caused me confused is what to use in the order clause. I guess, even though `.order` doesn't care about types particularly, using `BigInteger` in there too is \"correct\". Am I right?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185507548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185996616","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-185996616","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":185996616,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NTk5NjYxNg==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-19T00:49:51Z","updated_at":"2016-02-19T00:49:51Z","body":"> Oh, I thought the added group_by was for internal use because you said it was not part of the public API. By \"public API\" did you mean the method was #[doc(hidden)]?\n\nCorrect\n\n> I guess, even though .order doesn't care about types particularly, using BigInteger in there too is \"correct\"\n\nAlso correct\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185996616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185999546","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-185999546","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":185999546,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NTk5OTU0Ng==","user":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-19T01:02:04Z","updated_at":"2016-02-19T01:02:04Z","body":"Awesome! Thanks for the explanation.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/185999546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T12:33:55Z","updated_at":"2017-03-01T12:33:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/772","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/772/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/772/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/772/events","html_url":"https://github.com/diesel-rs/diesel/issues/772","id":211055305,"node_id":"MDU6SXNzdWUyMTEwNTUzMDU=","number":772,"title":"Cannot select aggregate and non-aggregate fields","user":{"login":"jasonl","id":118146,"node_id":"MDQ6VXNlcjExODE0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/118146?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonl","html_url":"https://github.com/jasonl","followers_url":"https://api.github.com/users/jasonl/followers","following_url":"https://api.github.com/users/jasonl/following{/other_user}","gists_url":"https://api.github.com/users/jasonl/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonl/subscriptions","organizations_url":"https://api.github.com/users/jasonl/orgs","repos_url":"https://api.github.com/users/jasonl/repos","events_url":"https://api.github.com/users/jasonl/events{/privacy}","received_events_url":"https://api.github.com/users/jasonl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-03-01T11:33:57Z","updated_at":"2017-03-01T12:33:56Z","closed_at":"2017-03-01T12:33:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"With a table\r\n```rust\r\ntable! {\r\n    mrr_by_date (account_id, date) {\r\n        account_id -> Integer,\r\n        date -> Date,\r\n        mrr -> Double,\r\n    }\r\n}\r\n```\r\n\r\nI cannot do:\r\n```rust\r\nmrr_by_date\r\n            .group_by(date)\r\n            .select((sum(mrr), date))\r\n            .filter(account_id.eq(123))\r\n```\r\n\r\nBecause I get the following error:\r\n```\r\n149 |             .select((sum(mrr), date))\r\n    |              ^^^^^^ the trait `diesel::SelectableExpression<models::mrr_by_date::mrr_by_date::table, _>` is not implemented for `(diesel::expression::Sum<models::mrr_by_date::mrr_by_date::columns::mrr>, models::mrr_by_date::mrr_by_date::columns::date)`\r\n    |\r\n    = help: the following implementations were found:\r\n    = help:   <(A, B) as diesel::SelectableExpression<QS, (SA, SB)>>\r\n    = help:   <(A, B) as diesel::SelectableExpression<QS, diesel::types::Nullable<(SA, SB)>>>\r\n    = note: required because of the requirements on the impl of `diesel::query_builder::Query` for `diesel::query_builder::SelectStatement<_, (diesel::expression::Sum<models::mrr_by_date::mrr_by_date::columns::mrr>, models::mrr_by_date::mrr_by_date::columns::date), models::mrr_by_date::mrr_by_date::table, diesel::query_builder::distinct_clause::NoDistinctClause, diesel::query_builder::where_clause::NoWhereClause, diesel::query_builder::order_clause::NoOrderClause, diesel::query_builder::limit_clause::NoLimitClause, diesel::query_builder::offset_clause::NoOffsetClause, diesel::query_builder::group_by_clause::GroupByClause<models::mrr_by_date::mrr_by_date::columns::date>>`\r\n    = note: required because of the requirements on the impl of `diesel::SelectDsl<(diesel::expression::Sum<models::mrr_by_date::mrr_by_date::columns::mrr>, models::mrr_by_date::mrr_by_date::columns::date), _>` for `diesel::query_builder::SelectStatement<(diesel::types::Integer, diesel::types::Date, diesel::types::Double), (models::mrr_by_date::mrr_by_date::columns::account_id, models::mrr_by_date::mrr_by_date::columns::date, models::mrr_by_date::mrr_by_date::columns::mrr), models::mrr_by_date::mrr_by_date::table, diesel::query_builder::distinct_clause::NoDistinctClause, diesel::query_builder::where_clause::NoWhereClause, diesel::query_builder::order_clause::NoOrderClause, diesel::query_builder::limit_clause::NoLimitClause, diesel::query_builder::offset_clause::NoOffsetClause, diesel::query_builder::group_by_clause::GroupByClause<models::mrr_by_date::mrr_by_date::columns::date>>`\r\n```\r\n\r\n(I have edited the code and error messages slightly to remove what I believe is non-relevant information, am happy to share the full error messages privately).\r\n\r\nAm I reading this correctly as there isn't support for combining aggregate and non-aggregate fields in a select statement, despite the SQL intended to be produced being valid:\r\n```sql\r\nSELECT sum(mrr), date FROM mrr_by_date WHERE account_id = $1 GROUP BY date\r\n```\r\n\r\nOr am I doing something wrong here?","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/772/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/395649237","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-395649237","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":395649237,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTY0OTIzNw==","user":{"login":"Boscop","id":535593,"node_id":"MDQ6VXNlcjUzNTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/535593?v=4","gravatar_id":"","url":"https://api.github.com/users/Boscop","html_url":"https://github.com/Boscop","followers_url":"https://api.github.com/users/Boscop/followers","following_url":"https://api.github.com/users/Boscop/following{/other_user}","gists_url":"https://api.github.com/users/Boscop/gists{/gist_id}","starred_url":"https://api.github.com/users/Boscop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Boscop/subscriptions","organizations_url":"https://api.github.com/users/Boscop/orgs","repos_url":"https://api.github.com/users/Boscop/repos","events_url":"https://api.github.com/users/Boscop/events{/privacy}","received_events_url":"https://api.github.com/users/Boscop/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-08T05:12:23Z","updated_at":"2018-06-08T05:12:23Z","body":"Does this mean it's not possible to group by a non-fkey column? \r\nE.g. `select version, count(*) from clients group by version order by version`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/395649237/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Boscop","id":535593,"node_id":"MDQ6VXNlcjUzNTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/535593?v=4","gravatar_id":"","url":"https://api.github.com/users/Boscop","html_url":"https://github.com/Boscop","followers_url":"https://api.github.com/users/Boscop/followers","following_url":"https://api.github.com/users/Boscop/following{/other_user}","gists_url":"https://api.github.com/users/Boscop/gists{/gist_id}","starred_url":"https://api.github.com/users/Boscop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Boscop/subscriptions","organizations_url":"https://api.github.com/users/Boscop/orgs","repos_url":"https://api.github.com/users/Boscop/repos","events_url":"https://api.github.com/users/Boscop/events{/privacy}","received_events_url":"https://api.github.com/users/Boscop/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/512299168","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-512299168","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":512299168,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjI5OTE2OA==","user":{"login":"milesgranger","id":13764397,"node_id":"MDQ6VXNlcjEzNzY0Mzk3","avatar_url":"https://avatars.githubusercontent.com/u/13764397?v=4","gravatar_id":"","url":"https://api.github.com/users/milesgranger","html_url":"https://github.com/milesgranger","followers_url":"https://api.github.com/users/milesgranger/followers","following_url":"https://api.github.com/users/milesgranger/following{/other_user}","gists_url":"https://api.github.com/users/milesgranger/gists{/gist_id}","starred_url":"https://api.github.com/users/milesgranger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesgranger/subscriptions","organizations_url":"https://api.github.com/users/milesgranger/orgs","repos_url":"https://api.github.com/users/milesgranger/repos","events_url":"https://api.github.com/users/milesgranger/events{/privacy}","received_events_url":"https://api.github.com/users/milesgranger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T15:08:38Z","updated_at":"2019-07-17T15:08:38Z","body":"Thanks, @barosl for the workaround. And just adding I can't wait for the `group_by` support! :tada: ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/512299168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"milesgranger","id":13764397,"node_id":"MDQ6VXNlcjEzNzY0Mzk3","avatar_url":"https://avatars.githubusercontent.com/u/13764397?v=4","gravatar_id":"","url":"https://api.github.com/users/milesgranger","html_url":"https://github.com/milesgranger","followers_url":"https://api.github.com/users/milesgranger/followers","following_url":"https://api.github.com/users/milesgranger/following{/other_user}","gists_url":"https://api.github.com/users/milesgranger/gists{/gist_id}","starred_url":"https://api.github.com/users/milesgranger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milesgranger/subscriptions","organizations_url":"https://api.github.com/users/milesgranger/orgs","repos_url":"https://api.github.com/users/milesgranger/repos","events_url":"https://api.github.com/users/milesgranger/events{/privacy}","received_events_url":"https://api.github.com/users/milesgranger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2489781391,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjQ4OTc4MTM5MQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/2489781391","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-07-17T15:08:38Z","performed_via_github_app":null},{"id":2489781394,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI0ODk3ODEzOTQ=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/2489781394","actor":{"login":"barosl","id":573768,"node_id":"MDQ6VXNlcjU3Mzc2OA==","avatar_url":"https://avatars.githubusercontent.com/u/573768?v=4","gravatar_id":"","url":"https://api.github.com/users/barosl","html_url":"https://github.com/barosl","followers_url":"https://api.github.com/users/barosl/followers","following_url":"https://api.github.com/users/barosl/following{/other_user}","gists_url":"https://api.github.com/users/barosl/gists{/gist_id}","starred_url":"https://api.github.com/users/barosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barosl/subscriptions","organizations_url":"https://api.github.com/users/barosl/orgs","repos_url":"https://api.github.com/users/barosl/repos","events_url":"https://api.github.com/users/barosl/events{/privacy}","received_events_url":"https://api.github.com/users/barosl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-07-17T15:08:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/587963665","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-587963665","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":587963665,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk2MzY2NQ==","user":{"login":"lerouxrgd","id":6103291,"node_id":"MDQ6VXNlcjYxMDMyOTE=","avatar_url":"https://avatars.githubusercontent.com/u/6103291?v=4","gravatar_id":"","url":"https://api.github.com/users/lerouxrgd","html_url":"https://github.com/lerouxrgd","followers_url":"https://api.github.com/users/lerouxrgd/followers","following_url":"https://api.github.com/users/lerouxrgd/following{/other_user}","gists_url":"https://api.github.com/users/lerouxrgd/gists{/gist_id}","starred_url":"https://api.github.com/users/lerouxrgd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lerouxrgd/subscriptions","organizations_url":"https://api.github.com/users/lerouxrgd/orgs","repos_url":"https://api.github.com/users/lerouxrgd/repos","events_url":"https://api.github.com/users/lerouxrgd/events{/privacy}","received_events_url":"https://api.github.com/users/lerouxrgd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:54:42Z","updated_at":"2020-02-18T23:54:42Z","body":"How about the `HAVING` clause? It looks like it still requires the hacky `filter(sql(\"TRUE GROUP BY ... HAVING ...\"))`.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/587963665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lerouxrgd","id":6103291,"node_id":"MDQ6VXNlcjYxMDMyOTE=","avatar_url":"https://avatars.githubusercontent.com/u/6103291?v=4","gravatar_id":"","url":"https://api.github.com/users/lerouxrgd","html_url":"https://github.com/lerouxrgd","followers_url":"https://api.github.com/users/lerouxrgd/followers","following_url":"https://api.github.com/users/lerouxrgd/following{/other_user}","gists_url":"https://api.github.com/users/lerouxrgd/gists{/gist_id}","starred_url":"https://api.github.com/users/lerouxrgd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lerouxrgd/subscriptions","organizations_url":"https://api.github.com/users/lerouxrgd/orgs","repos_url":"https://api.github.com/users/lerouxrgd/repos","events_url":"https://api.github.com/users/lerouxrgd/events{/privacy}","received_events_url":"https://api.github.com/users/lerouxrgd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3230843879,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDMyMzA4NDM4Nzk=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3230843879","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-04-14T12:10:16Z","milestone":{"title":"2.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/615486438","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-615486438","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":615486438,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQ4NjQzOA==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T22:11:17Z","updated_at":"2020-11-20T13:57:10Z","body":"Things left to do after merging #2251:\r\n\r\nNeeded for 2.0:\r\n- [x] Figure out support for group by in `BoxableExpression` \r\n- [x] Figure out support for group by in `BoxedSelectStatement`\r\n- [x] Expose `GroupByDsl` via public API\r\n\r\nAfter 2.0/open for contributions:\r\n- [x] Support for group by clauses with more than one column\r\n- [ ] `HAVING` clauses","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/615486438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/660584174","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-660584174","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":660584174,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDU4NDE3NA==","user":{"login":"kivo360","id":2403240,"node_id":"MDQ6VXNlcjI0MDMyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2403240?v=4","gravatar_id":"","url":"https://api.github.com/users/kivo360","html_url":"https://github.com/kivo360","followers_url":"https://api.github.com/users/kivo360/followers","following_url":"https://api.github.com/users/kivo360/following{/other_user}","gists_url":"https://api.github.com/users/kivo360/gists{/gist_id}","starred_url":"https://api.github.com/users/kivo360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kivo360/subscriptions","organizations_url":"https://api.github.com/users/kivo360/orgs","repos_url":"https://api.github.com/users/kivo360/repos","events_url":"https://api.github.com/users/kivo360/events{/privacy}","received_events_url":"https://api.github.com/users/kivo360/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T04:18:06Z","updated_at":"2020-07-19T04:18:06Z","body":"So ... how will the transition to 2.0 play out?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/660584174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kivo360","id":2403240,"node_id":"MDQ6VXNlcjI0MDMyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2403240?v=4","gravatar_id":"","url":"https://api.github.com/users/kivo360","html_url":"https://github.com/kivo360","followers_url":"https://api.github.com/users/kivo360/followers","following_url":"https://api.github.com/users/kivo360/following{/other_user}","gists_url":"https://api.github.com/users/kivo360/gists{/gist_id}","starred_url":"https://api.github.com/users/kivo360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kivo360/subscriptions","organizations_url":"https://api.github.com/users/kivo360/orgs","repos_url":"https://api.github.com/users/kivo360/repos","events_url":"https://api.github.com/users/kivo360/events{/privacy}","received_events_url":"https://api.github.com/users/kivo360/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/660873538","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-660873538","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":660873538,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDg3MzUzOA==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T08:08:51Z","updated_at":"2020-07-20T08:08:51Z","body":"@kivo360 From the perspective of the diesel team the transition is as simple as: We release 2.0 as soon as it is finished. There will be a changelog stating what has changed in an incompatible way compared to the last 1.x release and everything else is up to the user.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/660873538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3564484503,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzU2NDQ4NDUwMw==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3564484503","actor":{"login":"kivo360","id":2403240,"node_id":"MDQ6VXNlcjI0MDMyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2403240?v=4","gravatar_id":"","url":"https://api.github.com/users/kivo360","html_url":"https://github.com/kivo360","followers_url":"https://api.github.com/users/kivo360/followers","following_url":"https://api.github.com/users/kivo360/following{/other_user}","gists_url":"https://api.github.com/users/kivo360/gists{/gist_id}","starred_url":"https://api.github.com/users/kivo360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kivo360/subscriptions","organizations_url":"https://api.github.com/users/kivo360/orgs","repos_url":"https://api.github.com/users/kivo360/repos","events_url":"https://api.github.com/users/kivo360/events{/privacy}","received_events_url":"https://api.github.com/users/kivo360/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-07-20T08:08:51Z","performed_via_github_app":null},{"id":3564484508,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM1NjQ0ODQ1MDg=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3564484508","actor":{"login":"kivo360","id":2403240,"node_id":"MDQ6VXNlcjI0MDMyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2403240?v=4","gravatar_id":"","url":"https://api.github.com/users/kivo360","html_url":"https://github.com/kivo360","followers_url":"https://api.github.com/users/kivo360/followers","following_url":"https://api.github.com/users/kivo360/following{/other_user}","gists_url":"https://api.github.com/users/kivo360/gists{/gist_id}","starred_url":"https://api.github.com/users/kivo360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kivo360/subscriptions","organizations_url":"https://api.github.com/users/kivo360/orgs","repos_url":"https://api.github.com/users/kivo360/repos","events_url":"https://api.github.com/users/kivo360/events{/privacy}","received_events_url":"https://api.github.com/users/kivo360/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-07-20T08:08:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673724241","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-673724241","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":673724241,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcyNDI0MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:40:28Z","updated_at":"2020-08-13T21:40:28Z","body":"I see there's [a `grouped_by` feature added now](https://docs.rs/diesel/1.4.5/diesel/associations/trait.GroupedBy.html#tymethod.grouped_by), but it seems like it loads all the data from the DB. I want to select one column from a parent table along with the number of records in a child table belonging to each record in the parent table. Is there a way to do just that, and not load the content of all the other columns of the child table (they're big)?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673724241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673944075","html_url":"https://github.com/diesel-rs/diesel/issues/210#issuecomment-673944075","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/210","id":673944075,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzk0NDA3NQ==","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T07:57:26Z","updated_at":"2020-08-14T07:57:26Z","body":"@yujiri8 Our issue tracker is not a place to ask questions. This is especially true for existing tracking issues for new features. Please use our forum or the gitter channel for such questions.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/673944075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3655187876,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY1NTE4Nzg3Ng==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3655187876","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-08-14T07:57:26Z","performed_via_github_app":null},{"id":3655187881,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2NTUxODc4ODE=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3655187881","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-08-14T07:57:26Z","performed_via_github_app":null},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-21T07:55:36Z","updated_at":"2020-10-21T07:55:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544/events","html_url":"https://github.com/diesel-rs/diesel/issues/2544","id":725995009,"node_id":"MDU6SXNzdWU3MjU5OTUwMDk=","number":2544,"title":"count in select of grouped left joined query fails ","user":{"login":"lucacasonato","id":7829205,"node_id":"MDQ6VXNlcjc4MjkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7829205?v=4","gravatar_id":"","url":"https://api.github.com/users/lucacasonato","html_url":"https://github.com/lucacasonato","followers_url":"https://api.github.com/users/lucacasonato/followers","following_url":"https://api.github.com/users/lucacasonato/following{/other_user}","gists_url":"https://api.github.com/users/lucacasonato/gists{/gist_id}","starred_url":"https://api.github.com/users/lucacasonato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucacasonato/subscriptions","organizations_url":"https://api.github.com/users/lucacasonato/orgs","repos_url":"https://api.github.com/users/lucacasonato/repos","events_url":"https://api.github.com/users/lucacasonato/events{/privacy}","received_events_url":"https://api.github.com/users/lucacasonato/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-10-20T22:44:31Z","updated_at":"2023-05-24T15:04:06Z","closed_at":"2020-10-21T07:55:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nIf you want to report a bug, we added some points below you can fill out. If you want to request a feature, feel free to remove all the irrelevant text. In addition to this [issue tracker](https://github.com/diesel-rs/diesel/issues), you can also talk to Diesel maintainers and users on [Gitter](https://gitter.im/diesel-rs/diesel).\r\n-->\r\n\r\n## Setup\r\n\r\n### Versions\r\n\r\n- **Rust:** rustc 1.47.0 (18bf6b4f0 2020-10-07)\r\n- **Diesel:** 1.4.5\r\n- **Database:** postgres 12\r\n- **Operating System:** Linux (Ubuntu 20.04)\r\n\r\n### Feature Flags\r\n\r\n- **diesel:** `postgres`\r\n\r\n## Problem Description\r\n\r\nType errors are preventing me from creating this query:\r\n\r\n```rust\r\n  users::table\r\n    .select((users::id, users::name, count(posts::user_id)))\r\n    .left_join(posts::table.on(users::id.eq(posts::user_id)))\r\n    .group_by(users::id);\r\n```\r\n\r\nLooking at the documentation it should work.\r\n\r\n### What are you trying to accomplish?\r\n\r\nI want to get a list of all users, with the count of their posts. In SQL I would express this as:\r\n\r\n```sql\r\nSELECT users.*, COUNT(posts.user_id) AS post_count\r\nFROM users LEFT JOIN posts\r\nON (users.id = posts.user_id) \r\nGROUP BY users.id;\r\n```\r\n\r\nI have validated with `psql` that this query works.\r\n\r\n### What is the expected output?\r\n\r\nI expect this to compile without error.\r\n\r\n### What is the actual output?\r\n\r\n<details>\r\n  <summary>A bunch of compile errors I do not understand</summary>\r\n\r\n```\r\n   Compiling diesel_minmal_repro_left_join_count v0.1.0 (/mnt/f9/Projects/gist.github.com/diesel_minmal_repro_left_join_count)\r\nerror[E0277]: the trait bound `diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>: diesel::Expression` is not satisfied\r\n  --> src/main.rs:25:13\r\n   |\r\n25 |     .select((users::id, users::name, count(posts::user_id)))\r\n   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n   |             |\r\n   |             expected an implementor of trait `diesel::Expression`\r\n   |             help: consider borrowing here: `&(users::id, users::name, count(posts::user_id))`\r\n   |\r\n   = note: required because of the requirements on the impl of `diesel::Expression` for `(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)`\r\n   = note: required because of the requirements on the impl of `diesel::query_dsl::select_dsl::SelectDsl<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>` for `schema::users::table`\r\n\r\nerror[E0277]: the trait bound `schema::posts::columns::user_id: diesel::SelectableExpression<schema::users::table>` is not satisfied\r\n  --> src/main.rs:25:13\r\n   |\r\n25 |     .select((users::id, users::name, count(posts::user_id)))\r\n   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `diesel::SelectableExpression<schema::users::table>` is not implemented for `schema::posts::columns::user_id`\r\n   |\r\n   = help: the following implementations were found:\r\n             <schema::posts::columns::user_id as diesel::SelectableExpression<diesel::query_builder::SelectStatement<From>>>\r\n             <schema::posts::columns::user_id as diesel::SelectableExpression<diesel::query_source::joins::Join<Left, Right, diesel::query_source::joins::Inner>>>\r\n             <schema::posts::columns::user_id as diesel::SelectableExpression<diesel::query_source::joins::Join<Left, Right, diesel::query_source::joins::LeftOuter>>>\r\n             <schema::posts::columns::user_id as diesel::SelectableExpression<diesel::query_source::joins::JoinOn<Join, On>>>\r\n             <schema::posts::columns::user_id as diesel::SelectableExpression<schema::posts::table>>\r\n   = note: required because of the requirements on the impl of `diesel::SelectableExpression<schema::users::table>` for `diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>`\r\n   = note: required because of the requirements on the impl of `diesel::SelectableExpression<schema::users::table>` for `(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)`\r\n   = note: required because of the requirements on the impl of `diesel::query_dsl::select_dsl::SelectDsl<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>` for `diesel::query_builder::SelectStatement<schema::users::table>`\r\n\r\nerror[E0271]: type mismatch resolving `<schema::users::table as diesel::query_source::AppearsInFromClause<schema::posts::table>>::Count == diesel::query_source::Once`\r\n  --> src/main.rs:25:6\r\n   |\r\n25 |     .select((users::id, users::name, count(posts::user_id)))\r\n   |      ^^^^^^ expected struct `diesel::query_source::Never`, found struct `diesel::query_source::Once`\r\n   |\r\n   = note: required because of the requirements on the impl of `diesel::AppearsOnTable<schema::users::table>` for `schema::posts::columns::user_id`\r\n   = note: required because of the requirements on the impl of `diesel::AppearsOnTable<schema::users::table>` for `diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>`\r\n   = note: required because of the requirements on the impl of `diesel::SelectableExpression<schema::users::table>` for `diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>`\r\n   = note: required because of the requirements on the impl of `diesel::SelectableExpression<schema::users::table>` for `(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)`\r\n   = note: required because of the requirements on the impl of `diesel::query_dsl::select_dsl::SelectDsl<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>` for `diesel::query_builder::SelectStatement<schema::users::table>`\r\n\r\nerror[E0277]: the trait bound `diesel::query_builder::SelectStatement<schema::users::table, diesel::query_builder::select_clause::SelectClause<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>>: diesel::query_dsl::InternalJoinDsl<_, diesel::query_source::joins::LeftOuter, _>` is not satisfied\r\n  --> src/main.rs:26:6\r\n   |\r\n26 |     .left_join(posts::table.on(users::id.eq(posts::user_id)))\r\n   |      ^^^^^^^^^ the trait `diesel::query_dsl::InternalJoinDsl<_, diesel::query_source::joins::LeftOuter, _>` is not implemented for `diesel::query_builder::SelectStatement<schema::users::table, diesel::query_builder::select_clause::SelectClause<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>>`\r\n   |\r\n   = help: the following implementations were found:\r\n             <diesel::query_builder::SelectStatement<F, S, D, W, O, L, Of, G, LC> as diesel::query_dsl::InternalJoinDsl<Rhs, Kind, On>>\r\n   = note: required because of the requirements on the impl of `diesel::query_dsl::JoinWithImplicitOnClause<_, diesel::query_source::joins::LeftOuter>` for `diesel::query_builder::SelectStatement<schema::users::table, diesel::query_builder::select_clause::SelectClause<(schema::users::columns::id, schema::users::columns::name, diesel::expression::count::count::count<diesel::sql_types::Text, schema::posts::columns::user_id>)>>`\r\n\r\nerror: aborting due to 4 previous errors\r\n\r\nSome errors have detailed explanations: E0271, E0277.\r\nFor more information about an error, try `rustc --explain E0271`.\r\nerror: could not compile `diesel_minmal_repro_left_join_count`.\r\n\r\nTo learn more, run the command again with --verbose.\r\n```\r\n</details>\r\n\r\nThe errors disappears when I remove the `count` expression from the select.\r\n\r\n### Steps to reproduce\r\n\r\n1. Clone https://github.com/luca-rand/diesel_minmal_repro_left_join_count\r\n2. Set a postgres db in DATABASE_URL variable\r\n3. `diesel migrations run` (will create schema and test data)\r\n4. `cargo run`\r\n\r\n## Checklist\r\n\r\n- [x] I have already looked over the [issue tracker](https://github.com/diesel-rs/diesel/issues) for similar issues.\r\n- [x] This issue can be reproduced on Rust's stable channel. (Your issue will be\r\n  closed if this is not the case)\r\n\r\ncc @ry\r\n\r\n<!--\r\nThank you for your submission!  You're helping make Diesel more robust \r\n\r\nWe'll try to respond as quickly as possible.\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2544/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]