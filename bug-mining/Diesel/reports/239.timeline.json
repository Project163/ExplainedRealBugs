[{"id":8197428025,"node_id":"LE_lADOAnrqL85bF9eCzwAAAAHomtM5","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8197428025","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-11T02:09:41Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T02:14:30Z","updated_at":"2023-01-11T02:14:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892","repository_url":"https://api.github.com/repos/rust-lang/crates.io","labels_url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892/labels{/name}","comments_url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892/comments","events_url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892/events","html_url":"https://github.com/rust-lang/crates.io/pull/4892","id":1271529489,"node_id":"PR_kwDOAUYDTc45q8yH","number":4892,"title":"Port to diesel 2.0.3","user":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":501003957,"node_id":"MDU6TGFiZWw1MDEwMDM5NTc=","url":"https://api.github.com/repos/rust-lang/crates.io/labels/C-internal%20%F0%9F%94%A7","name":"C-internal ðŸ”§","color":"1d76db","default":false,"description":"Category: Nonessential work that would make the codebase more consistent or clear"},{"id":501012668,"node_id":"MDU6TGFiZWw1MDEwMTI2Njg=","url":"https://api.github.com/repos/rust-lang/crates.io/labels/A-backend%20%E2%9A%99%EF%B8%8F","name":"A-backend âš™ï¸","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2022-06-15T00:55:45Z","updated_at":"2023-02-17T01:00:59Z","closed_at":"2023-02-17T00:18:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":21365581,"node_id":"MDEwOlJlcG9zaXRvcnkyMTM2NTU4MQ==","name":"crates.io","full_name":"rust-lang/crates.io","private":false,"owner":{"login":"rust-lang","id":5430905,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MzA5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/5430905?v=4","gravatar_id":"","url":"https://api.github.com/users/rust-lang","html_url":"https://github.com/rust-lang","followers_url":"https://api.github.com/users/rust-lang/followers","following_url":"https://api.github.com/users/rust-lang/following{/other_user}","gists_url":"https://api.github.com/users/rust-lang/gists{/gist_id}","starred_url":"https://api.github.com/users/rust-lang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rust-lang/subscriptions","organizations_url":"https://api.github.com/users/rust-lang/orgs","repos_url":"https://api.github.com/users/rust-lang/repos","events_url":"https://api.github.com/users/rust-lang/events{/privacy}","received_events_url":"https://api.github.com/users/rust-lang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rust-lang/crates.io","description":"The Rust package registry","fork":false,"url":"https://api.github.com/repos/rust-lang/crates.io","forks_url":"https://api.github.com/repos/rust-lang/crates.io/forks","keys_url":"https://api.github.com/repos/rust-lang/crates.io/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rust-lang/crates.io/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rust-lang/crates.io/teams","hooks_url":"https://api.github.com/repos/rust-lang/crates.io/hooks","issue_events_url":"https://api.github.com/repos/rust-lang/crates.io/issues/events{/number}","events_url":"https://api.github.com/repos/rust-lang/crates.io/events","assignees_url":"https://api.github.com/repos/rust-lang/crates.io/assignees{/user}","branches_url":"https://api.github.com/repos/rust-lang/crates.io/branches{/branch}","tags_url":"https://api.github.com/repos/rust-lang/crates.io/tags","blobs_url":"https://api.github.com/repos/rust-lang/crates.io/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rust-lang/crates.io/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rust-lang/crates.io/git/refs{/sha}","trees_url":"https://api.github.com/repos/rust-lang/crates.io/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rust-lang/crates.io/statuses/{sha}","languages_url":"https://api.github.com/repos/rust-lang/crates.io/languages","stargazers_url":"https://api.github.com/repos/rust-lang/crates.io/stargazers","contributors_url":"https://api.github.com/repos/rust-lang/crates.io/contributors","subscribers_url":"https://api.github.com/repos/rust-lang/crates.io/subscribers","subscription_url":"https://api.github.com/repos/rust-lang/crates.io/subscription","commits_url":"https://api.github.com/repos/rust-lang/crates.io/commits{/sha}","git_commits_url":"https://api.github.com/repos/rust-lang/crates.io/git/commits{/sha}","comments_url":"https://api.github.com/repos/rust-lang/crates.io/comments{/number}","issue_comment_url":"https://api.github.com/repos/rust-lang/crates.io/issues/comments{/number}","contents_url":"https://api.github.com/repos/rust-lang/crates.io/contents/{+path}","compare_url":"https://api.github.com/repos/rust-lang/crates.io/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rust-lang/crates.io/merges","archive_url":"https://api.github.com/repos/rust-lang/crates.io/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rust-lang/crates.io/downloads","issues_url":"https://api.github.com/repos/rust-lang/crates.io/issues{/number}","pulls_url":"https://api.github.com/repos/rust-lang/crates.io/pulls{/number}","milestones_url":"https://api.github.com/repos/rust-lang/crates.io/milestones{/number}","notifications_url":"https://api.github.com/repos/rust-lang/crates.io/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rust-lang/crates.io/labels{/name}","releases_url":"https://api.github.com/repos/rust-lang/crates.io/releases{/id}","deployments_url":"https://api.github.com/repos/rust-lang/crates.io/deployments","created_at":"2014-06-30T20:53:49Z","updated_at":"2025-11-10T00:35:30Z","pushed_at":"2025-11-09T13:45:29Z","git_url":"git://github.com/rust-lang/crates.io.git","ssh_url":"git@github.com:rust-lang/crates.io.git","clone_url":"https://github.com/rust-lang/crates.io.git","svn_url":"https://github.com/rust-lang/crates.io","homepage":"https://crates.io","size":53377,"stargazers_count":3378,"watchers_count":3378,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":677,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":89,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","rust"],"visibility":"public","forks":677,"open_issues":89,"watchers":3378,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rust-lang/crates.io/pulls/4892","html_url":"https://github.com/rust-lang/crates.io/pull/4892","diff_url":"https://github.com/rust-lang/crates.io/pull/4892.diff","patch_url":"https://github.com/rust-lang/crates.io/pull/4892.patch","merged_at":"2023-02-17T00:18:50Z"},"body":"With the latest upstream diesel changes in the 2.0.3 release, our final failing test is now passing!\r\n\r\n#### Original PR Text\r\n\r\nThis is a nearly complete port to diesel 2, with the following exceptions:\r\n\r\n* It relies on git branches of `diesel_full_text_search` (an upstream PR) and `swirl` (a development branch [here](https://github.com/jtgeibel/swirl/commit/cca24585daa89c856f1e4523c07e45b7a1890c9c)).\r\n* Due to the upstream change from `&PgConnection` to `&mut PgConnection`, it seems to no longer be possible to run the test suite with a single connection, as required by our background job tests. The current design uses a re-entrant mutex , but this no longer works and unless I'm missing something, there is (for good reason) no safe API to hand out multiple `&mut` to the same location even if we're on the same thread. Maybe we can rework the `swirl` backend to add support for our test harness.\r\n* A temporary workaround to the previous issue is in [jtgeibel/crates.io@diesel2-crimes](https://github.com/jtgeibel/crates.io/commit/a69501a045b9c289495934bd4f83b6844164d8dd) which switches to a regular mutex which fails upon the second attempt to take the lock. This allows the branch to build and most tests pass. There are currently 60 test failures, though most of these are due this hack.\r\n\r\nAny suggestions on how to resolve this are greatly appreciated!","reactions":{"url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rust-lang/crates.io/issues/4892/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379382461","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1379382461","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1379382461,"node_id":"IC_kwDOAnrqL85SN7S9","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T19:30:57Z","updated_at":"2023-01-11T19:30:57Z","body":"Thanks for opening this issue and providing a reproduction. I will try to find a solution as soon as possible.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379382461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379439043","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1379439043","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1379439043,"node_id":"IC_kwDOAnrqL85SOJHD","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T20:22:08Z","updated_at":"2023-01-11T20:22:08Z","body":"The following post is just a dump of things that I've tried:\r\n\r\n* Diesel executes the following commands for your testcase :\r\n```sql\r\nBEGIN;\r\nSAVEPOINT diesel_savepoint_1;\r\nSET TRANSACTION READ ONLY;\r\nupdate rollback_test SET value=1;\r\n-- ERROR: readonly transaction\r\nSELECT 1; \r\n-- ERROR: current transaction is aborted, commands ignored until end of transaction block\r\n```\r\nExecuting these commands in psql reproduces the same error. The issue is caused by the missing `ROLLBACK TO SAVEPOINT` command. That changed in the referenced commit.\r\n\r\n* For the postgres connection we use `libpq` to get the current transaction state. `libpq` reports that the transaction state is in an error state [here](https://github.com/diesel-rs/diesel/blob/master/diesel/src/pg/connection/mod.rs#L243). This causes us to mark the connection as requiring a top level rollback and skipping all `ROLLBACK TO SAVEPOINT â€¦` commands. The main motivation for this is to correctly handle transactions that fail due to serialization errors. \r\n\r\nThat all written: I'm not 100% sure yet how to fix that. It might be worth to just try to perform the `ROLLBACK TO SAVEPOINT` nevertheless and ignore potential errors. \r\n\r\ncc @Ten0 as author of the relevant commit","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379439043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8205173427,"node_id":"MEE_lADOAnrqL85bF9eCzwAAAAHpEQKz","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8205173427","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-11T20:22:08Z","performed_via_github_app":null},{"id":8205173434,"node_id":"SE_lADOAnrqL85bF9eCzwAAAAHpEQK6","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8205173434","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-11T20:22:08Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379622330","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1379622330","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1379622330,"node_id":"IC_kwDOAnrqL85SO126","user":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T23:39:47Z","updated_at":"2023-01-12T13:13:24Z","body":"Pretty raw thoughts - couldn't investigate in detail on some points below:\r\n\r\nTo give more context about this particular change, Diesel 1 had poor tracking of transactions failing, which sometimes led to Diesel thinking the depth was a certain level when in fact it was at a different level (#2123). This initially was fixed by #2935, of which however the interface was not ideal (made matching on errors difficult, backend-specific code was polluting the general code, there were a few bugs left)\r\n#3211 improves all of these points before the 2.0 release, and notably simplifies it and makes it more reliable by using the information sent back by the postgres server about the transaction state instead of trying to guess it from what the last query was and its result. \r\n\r\nSo overall the current implementation is probably the safest way to fix an improper behavior we used to have where we would consider as not broken stuff that was broken, but that comes at the cost of apparently over-considering-broken stuff that could be recovered in a more fine-grained manner. \r\n\r\nI can't imagine that serialization failures would be always fixed by savepoint rollback, so it looks like we shouldn't take this libpq status as \"you may rollback just one level and you should be good\": typically it instead means \"you should rollback top-level\" (which is the case for serialization failures - or can savepoints recover some of them?), or it's a programmatic misuse (your test case IIUC). \r\n\r\nSo it looks like we have essentially two solutions:\r\n- Some specific (consequently risky - not sure to what extent) special casing, trying to identify that precise error and ignoring the in-error status, relying on calling code to try the corresponding rollback and somehow ignoring the status for subsequent rollbacks to savepoints as well. \r\n- Rewriting these particular tests in such a way that they don't rely on savepoints to recover from database misuse\r\n\r\nAn alternate track (if it works) could maybe be to always call the save points rollbacks (not flag top level as broken but just low level as broken), but it looks like that would have a cost on production applications that may legitimately hit serialization failures. Unless these can be recovered by savepoints (can they, sometimes?) I would tend to not damage regular use in order to allow better workflow in testing database-misuse (your case IIUC). ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1379622330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1381227986","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1381227986","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1381227986,"node_id":"IC_kwDOAnrqL85SU93S","user":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T02:16:18Z","updated_at":"2023-01-13T02:16:18Z","body":"For additional context, our use case looks like this:\r\n\r\n```rust\r\nlet tokens = api_tokens\r\n    .filter(revoked.eq(false))\r\n    .filter(token.eq(&token_));\r\nconn.transaction(|conn| {\r\n    update(tokens)\r\n        .set(last_used_at.eq(now.nullable()))\r\n        .get_result(conn)\r\n})\r\n.or_else(|_| tokens.first(conn))\r\n```\r\n\r\nFirst we try to obtain the token while updating the `last_used_at` time, but if that fails then we basically rerun the same query but as a `SELECT`. The connection could be read-only because the primary database is offline, or we could be doing maintenance. I did a bit of searching and didn't find another way to determine if the connection is read-only, and we do want test coverage to make sure this is working correctly.\r\n\r\nFortunately, I think we may be able to drop this fallback. We've reduced the endpoints that are allowed to authenticate with an API token and in the 1 remaining case where this fallback helps, it should be fine to just reject the requests when operating in a degraded mode. Though I don't think the general approach is that extreme and it would be nice if Diesel supported it.\r\n\r\n> Diesel 1 had poor tracking of transactions failing, which sometimes led to Diesel thinking the depth was a certain level when in fact it was at a different level\r\n\r\nI'm slowly working my way though some of the relevant logic, but I'm confused by this. It seems that is how [this logic](https://github.com/diesel-rs/diesel/blob/a02fcfbf57311a220e69dab03dd17e65a61313e9/diesel/src/connection/transaction_manager.rs#L342-L360) behaves, decreasing diesel's internal count without issuing the rollback. I don't know if it would work for the serialization use case, but perhaps we could attempt the rollback first and then test the connection status.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1381227986/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8219234339,"node_id":"REFE_lADOAnrqL85bF9eCzwAAAAHp55Aj","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8219234339","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e9fc83ba640cc1a5baf0989a6f2e0fa0e5045d4b","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/e9fc83ba640cc1a5baf0989a6f2e0fa0e5045d4b","created_at":"2023-01-13T10:07:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1381598316","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1381598316","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1381598316,"node_id":"IC_kwDOAnrqL85SWYRs","user":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T10:08:47Z","updated_at":"2023-01-13T10:08:47Z","body":"> I'm confused by this\r\n\r\nThe idea there was that since \"top level requires rollback\" to fix the transaction, there's no point in actually casting all the intermediate rollback: these are only delaying the single rollback we need to do before trying the transaction again. By definition in that case the state after intermediate rollback is equivalent to the state before, so in that framework we can say it is correct to change transaction depth without actually interacting with the database. Of course as you pointed out in your case we consider that top level requires rollback when that is not the case. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1381598316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T10:14:46Z","updated_at":"2023-01-13T10:14:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474/events","html_url":"https://github.com/diesel-rs/diesel/pull/3474","id":1532046730,"node_id":"PR_kwDOAnrqL85HUQvn","number":3474,"title":"Fix #3470","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-01-13T10:09:44Z","updated_at":"2023-01-16T15:07:25Z","closed_at":"2023-01-16T15:07:25Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/3474","html_url":"https://github.com/diesel-rs/diesel/pull/3474","diff_url":"https://github.com/diesel-rs/diesel/pull/3474.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/3474.patch","merged_at":"2023-01-16T15:07:25Z"},"body":"This commit tries to address an issue where we do not issue rollback to savepoint commands due to libpq reporting a transaction as broken. It turns out that transactions are sometimes recoverable by just rolling back to a previous savepoint instead of rolling back the outer transaction.\r\n\r\nWe address this issue by always executing the `ROLLBACK TO SAVEPOINT` command even if a connection is required as needing a top level rollback. This was previously skipped. We do ignore any errors from that attempt if the requires top level rollback flag is set. If the `ROLLBACK TO SAVEPOINT` command succeeds, we consider the transaction as recovered and disable the requires top level rollback flag.\r\n\r\ncc @jtgeibel","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3474/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1382182182","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1382182182","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1382182182,"node_id":"IC_kwDOAnrqL85SYm0m","user":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T17:41:21Z","updated_at":"2023-01-13T17:41:21Z","body":">  I did a bit of searching and didn't find another way to determine if the connection is read-only\r\n\r\nLooks like this information could be added to:\r\nhttps://github.com/rust-lang/crates.io/blob/1ba87040f9e5cbcce3ced57b43069a4788a65495/src/db.rs#L13\r\nand\r\nhttps://github.com/rust-lang/crates.io/blob/1ba87040f9e5cbcce3ced57b43069a4788a65495/src/db.rs#L139\r\nwhen\r\nhttps://github.com/rust-lang/crates.io/blob/08d6a5c74931954419bf82418920e41b2109dfdd/src/app.rs#L111-L167\r\nis configured, no?\r\n\r\nThis would even prevent the failed attempt to write to the read-only database.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1382182182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8234008301,"node_id":"REFE_lADOAnrqL85bF9eCzwAAAAHqyP7t","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8234008301","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b9a9693b3bb1c65475373815dc601c3ebf505076","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/b9a9693b3bb1c65475373815dc601c3ebf505076","created_at":"2023-01-16T10:09:30Z","performed_via_github_app":null},{"id":8237297743,"node_id":"CE_lADOAnrqL85bF9eCzwAAAAHq-zBP","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8237297743","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b9a9693b3bb1c65475373815dc601c3ebf505076","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/b9a9693b3bb1c65475373815dc601c3ebf505076","created_at":"2023-01-16T15:07:31Z","state_reason":null,"performed_via_github_app":null},{"id":8237297811,"node_id":"REFE_lADOAnrqL85bF9eCzwAAAAHq-zCT","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8237297811","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"88129db2fbed49d3ecd41bafff2a5932f1621c2c","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/88129db2fbed49d3ecd41bafff2a5932f1621c2c","created_at":"2023-01-16T15:07:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1384196427","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1384196427","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1384196427,"node_id":"IC_kwDOAnrqL85SgSlL","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-16T15:12:31Z","updated_at":"2023-01-16T15:12:31Z","body":"@jtgeibel Are you interested in a `2.0.3` patch release containing this fix?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1384196427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8237375665,"node_id":"MEE_lADOAnrqL85bF9eCzwAAAAHq_GCx","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8237375665","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-16T15:12:31Z","performed_via_github_app":null},{"id":8237375677,"node_id":"SE_lADOAnrqL85bF9eCzwAAAAHq_GC9","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8237375677","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-16T15:12:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1386423858","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1386423858","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1386423858,"node_id":"IC_kwDOAnrqL85SoyYy","user":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T03:16:00Z","updated_at":"2023-01-18T03:16:00Z","body":"@weiznich and @Ten0 thanks for investigating and landing the fix! I've tested against master and everything passes! A `2.0.3` release would be great.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1386423858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8251823623,"node_id":"MEE_lADOAnrqL85bF9eCzwAAAAHr2NYH","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8251823623","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-18T03:16:00Z","performed_via_github_app":null},{"id":8251823630,"node_id":"SE_lADOAnrqL85bF9eCzwAAAAHr2NYO","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8251823630","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-18T03:16:00Z","performed_via_github_app":null},{"id":8251823640,"node_id":"MEE_lADOAnrqL85bF9eCzwAAAAHr2NYY","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8251823640","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-18T03:16:01Z","performed_via_github_app":null},{"id":8251823644,"node_id":"SE_lADOAnrqL85bF9eCzwAAAAHr2NYc","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8251823644","actor":{"login":"Ten0","id":9094255,"node_id":"MDQ6VXNlcjkwOTQyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/9094255?v=4","gravatar_id":"","url":"https://api.github.com/users/Ten0","html_url":"https://github.com/Ten0","followers_url":"https://api.github.com/users/Ten0/followers","following_url":"https://api.github.com/users/Ten0/following{/other_user}","gists_url":"https://api.github.com/users/Ten0/gists{/gist_id}","starred_url":"https://api.github.com/users/Ten0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ten0/subscriptions","organizations_url":"https://api.github.com/users/Ten0/orgs","repos_url":"https://api.github.com/users/Ten0/repos","events_url":"https://api.github.com/users/Ten0/events{/privacy}","received_events_url":"https://api.github.com/users/Ten0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-18T03:16:01Z","performed_via_github_app":null},{"id":8259288806,"node_id":"REFE_lADOAnrqL85bF9eCzwAAAAHsSr7m","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8259288806","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"763cbfba9869a36d080d47b07dc3e4df147b3c92","commit_url":"https://api.github.com/repos/weiznich/diesel/commits/763cbfba9869a36d080d47b07dc3e4df147b3c92","created_at":"2023-01-18T19:42:36Z","performed_via_github_app":null},{"actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T19:46:59Z","updated_at":"2023-01-18T19:46:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486/events","html_url":"https://github.com/diesel-rs/diesel/pull/3486","id":1538605675,"node_id":"PR_kwDOAnrqL85HqHmu","number":3486,"title":"Backport fixes","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-18T19:46:59Z","updated_at":"2023-01-24T16:41:02Z","closed_at":"2023-01-24T16:41:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/3486","html_url":"https://github.com/diesel-rs/diesel/pull/3486","diff_url":"https://github.com/diesel-rs/diesel/pull/3486.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/3486.patch","merged_at":"2023-01-24T16:41:01Z"},"body":"This PR backports the fixes for #3412 (from #3413) and #3470 (from #3474). In addition this PR reintroduces two functions removed by #3474 for backward compatibility reasons. (We promised to only remove/change functions marked as \"i-implement-a-third-party-backend-and-opt-into-breaking-changes\" in minor releases, not in patch releases)","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3486/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1402259321","html_url":"https://github.com/diesel-rs/diesel/issues/3470#issuecomment-1402259321","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3470","id":1402259321,"node_id":"IC_kwDOAnrqL85TlMd5","user":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T16:47:11Z","updated_at":"2023-01-24T16:47:11Z","body":"@jtgeibel I've just published 2.0.3 which contains a fix for this issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/1402259321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8346259882,"node_id":"MEE_lADOAnrqL85bF9eCzwAAAAHxedGq","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8346259882","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-24T16:47:12Z","performed_via_github_app":null},{"id":8346259899,"node_id":"SE_lADOAnrqL85bF9eCzwAAAAHxedG7","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/8346259899","actor":{"login":"jtgeibel","id":22186,"node_id":"MDQ6VXNlcjIyMTg2","avatar_url":"https://avatars.githubusercontent.com/u/22186?v=4","gravatar_id":"","url":"https://api.github.com/users/jtgeibel","html_url":"https://github.com/jtgeibel","followers_url":"https://api.github.com/users/jtgeibel/followers","following_url":"https://api.github.com/users/jtgeibel/following{/other_user}","gists_url":"https://api.github.com/users/jtgeibel/gists{/gist_id}","starred_url":"https://api.github.com/users/jtgeibel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtgeibel/subscriptions","organizations_url":"https://api.github.com/users/jtgeibel/orgs","repos_url":"https://api.github.com/users/jtgeibel/repos","events_url":"https://api.github.com/users/jtgeibel/events{/privacy}","received_events_url":"https://api.github.com/users/jtgeibel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-24T16:47:12Z","performed_via_github_app":null}]