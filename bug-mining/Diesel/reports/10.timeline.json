[{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160349324","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160349324","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160349324,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM0OTMyNA==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T00:33:38Z","updated_at":"2015-11-29T00:33:38Z","body":"Yeah, you wouldn't want to make the columns `Nullable`, as it'll just end up trying to insert `NULL` into the column. Right now there's no good way to handle a field that you want to optionally update with a struct. I actually can't think of an easy way to do this with plain assignments, either. This is a valid use case though. I might be able to do something with the type system to have it know to skip the update if the column is not nullable, but this hole would still exist if you wanted to optionally update a nullable column.\n\nThis popped into my head as a possible solution. Thoughts?\n\n``` rust\n#[changeset_for(users)]\npub struct UserChanges {\n    id: i32,\n    #[optional_update]\n    first_name: Option<String>,\n    #[optional_update]\n    last_name: Option<String>,\n    #[optional_update]\n    email: Option<String>,\n}\n```\n\nCould also specify it at the struct level.\n\n``` rust\n#[changeset_for(users, behavior_when_none=\"skip\")]\npub struct UserChanges {\n    // ...\n}\n```\n\nIn the short term, I would just do 3 queries to work around this.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160349324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":476932182,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ3NjkzMjE4Mg==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/476932182","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-11-29T00:35:12Z","milestone":{"title":"0.2"},"performed_via_github_app":null},{"id":476932431,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ3NjkzMjQzMQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/476932431","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-11-29T00:35:54Z","label":{"name":"hole in api","color":"eb6420"},"performed_via_github_app":null},{"id":476932432,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ3NjkzMjQzMg==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/476932432","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-11-29T00:35:54Z","label":{"name":"discussion desired","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160352901","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160352901","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160352901,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1MjkwMQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T00:53:57Z","updated_at":"2015-11-29T00:53:57Z","body":"So I think this is what the `impl` needs to look like regardless of codegen. I think I'll need to add some impls for `Box<Changeset>` to make this work, but it's already object safe so that should be fine.\n\n``` rust\nimpl AsChangeset<users> for UserChanges {\n    type Changeset = Vec<Box<Changeset<Target=users>>>;\n\n    fn as_changeset(self) -> Changeset {\n        let changes = Vec::new();\n        // push any fields we always update\n        if let Some(first_name) = self.first_name {\n            changes.push(Box::new(users::first_name.eq(first_name)))\n        }\n        // repeat for each field\n        changes\n    }\n}\n```\n\nI don't think there's a way to do this without boxing, and also using a `Vec` or the code will just get horrendous. I think it's fine to write `impl<U: Changeset<Target=T>, T> Changeset for Vec<T>`, and `impl<U: Changeset<Target=T>, T> Changeset for Box<T>`\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160352901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":476937250,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ3NjkzNzI1MA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/476937250","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a19f7126b5452a9185da747b960225863b94f733","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/a19f7126b5452a9185da747b960225863b94f733","created_at":"2015-11-29T01:06:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160353260","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160353260","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160353260,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1MzI2MA==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T01:06:39Z","updated_at":"2015-11-29T01:06:39Z","body":"I've pushed up the required `impls`. Can you try manually implementing `AsChangeset` on your struct and tell me if that works? If so we just need to make an annotation to standardize it.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160353260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160355291","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160355291","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160355291,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1NTI5MQ==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T01:39:30Z","updated_at":"2015-11-29T08:07:37Z","body":"Trying to build\n\n``` Rust\npub struct UserChanges {\n    id: i32,\n    first_name: Option<String>,\n    last_name: Option<String>,\n    email: Option<String>,\n}\n\nuse self::users::dsl::*;\n\nimpl AsChangeset for UserChanges {\n    type Changeset = Vec<Box<Changeset<Target=users::table>>>;\n\n    fn as_changeset(self) -> Changeset<Target=users::table> {\n        let changes = Vec::new();\n\n        if let Some(first_name) = self.first_name {\n            changes.push(Box::new(first_name.eq(first_name)))\n        }\n\n        changes\n    }\n}\n\ntable! {\n    users {\n        id -> Serial,\n        first_name -> VarChar,\n        last_name -> VarChar,\n        email -> VarChar,\n    }\n}\n```\n\nproduces the error:\n\n```\n   Compiling yaqb_test v0.1.0 (file:///Users/mattcasper/code/home/loudly/yaqb_test)\nsrc/main.rs:25:1: 37:2 error: the trait `core::marker::Sized` is not implemented for the type `yaqb::query_builder::update_statement::changeset::Changeset<Target=users::table> + 'static` [E0277]\nsrc/main.rs:25 impl AsChangeset for UserChanges {\nsrc/main.rs:26     type Changeset = Vec<Box<Changeset<Target=users::table>>>;\nsrc/main.rs:27\nsrc/main.rs:28     fn as_changeset(self) -> Changeset<Target=users::table> {\nsrc/main.rs:29         let changes = Vec::new();\nsrc/main.rs:30\n               ...\nsrc/main.rs:25:1: 37:2 help: run `rustc --explain E0277` to see a detailed explanation\nsrc/main.rs:25:1: 37:2 note: `yaqb::query_builder::update_statement::changeset::Changeset<Target=users::table> + 'static` does not have a constant size known at compile-time\nsrc/main.rs:25:1: 37:2 note: required by `yaqb::query_builder::update_statement::changeset::AsChangeset`\nerror: aborting due to previous error\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160355291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160355582","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160355582","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160355582,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1NTU4Mg==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T01:40:44Z","updated_at":"2015-11-29T01:40:44Z","body":"And trying to use `impl AsChangeset<users::table> for UserChanges {` as shown above produces\n\n```\n Compiling yaqb_test v0.1.0 (file:///Users/mattcasper/code/home/loudly/yaqb_test)\nsrc/main.rs:25:6: 25:31 error: wrong number of type arguments: expected 0, found 1 [E0244]\nsrc/main.rs:25 impl AsChangeset<users::table> for UserChanges {\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/main.rs:25:6: 25:31 help: run `rustc --explain E0244` to see a detailed explanation\nerror: aborting due to previous error\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160355582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160358455","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160358455","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160358455,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1ODQ1NQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T01:52:19Z","updated_at":"2015-11-29T01:52:19Z","body":"Your return type should be `Self::Changeset` from `as_changeset`\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160358455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160358562","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160358562","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160358562,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM1ODU2Mg==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T01:53:00Z","updated_at":"2015-11-29T01:53:00Z","body":"And you'll need `changes` to be mutable\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160358562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160360288","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160360288","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160360288,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM2MDI4OA==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T02:01:40Z","updated_at":"2015-11-29T02:01:48Z","body":"The compiler is still sad for the same (`core::marker::Sized` is not implemented) reason :/\n\n``` Rust\nimpl AsChangeset for UserChanges {\n    type Changeset = Vec<Box<Changeset<Target=users::table>>>;\n\n    fn as_changeset(self) -> Self::Changeset> {\n        let mut changes = Vec::new();\n\n        if let Some(first_name) = self.first_name {\n            changes.push(Box::new(first_name.eq(first_name)))\n        }\n\n        changes\n    }\n}\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160360288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160360358","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160360358","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160360358,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM2MDM1OA==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T02:03:50Z","updated_at":"2015-11-29T02:03:50Z","body":"`type Changeset = Vec<Box<Changeset<Target=users::table>>>;` is the line it's complaining about, is `users::table` the right type to be setting as the Target?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160360358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160362350","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160362350","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160362350,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM2MjM1MA==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T02:53:25Z","updated_at":"2015-11-29T02:53:25Z","body":"Whoops, I need to add some `?Sized` to things. I will fix when I'm back at a computer. \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160362350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160364376","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160364376","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160364376,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM2NDM3Ng==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T03:34:17Z","updated_at":"2015-11-29T03:34:17Z","body":"Just pushed an update. This compiles, and should work as a workaround (it's what I'll have the annotation generate)\n\n``` rust\nimpl AsChangeset for UserChanges {\n    type Changeset = Vec<Box<Changeset<Target=users::table>>>;\n\n    fn as_changeset(self) -> Self::Changeset {\n        let mut changes: Vec<Box<Changeset<Target=users::table>>> = Vec::new();\n\n        if let Some(first_name) = self.first_name {\n            changes.push(Box::new(\n                users::first_name.eq(first_name).as_changeset()\n            ))\n        }\n\n        if let Some(last_name) = self.last_name {\n            changes.push(Box::new(\n                users::last_name.eq(last_name).as_changeset()\n            ))\n        }\n\n        if let Some(email) = self.email {\n            changes.push(Box::new(\n                users::email.eq(email).as_changeset()\n            ))\n        }\n\n        changes\n    }\n}\n```\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160364376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160380215","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160380215","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160380215,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM4MDIxNQ==","user":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T06:23:28Z","updated_at":"2015-11-29T06:23:28Z","body":"I was able to get update to work implementing AsChangeset, however I was only able to get it to build using execute_returning_count.   I could not get it to return the result using query_one.  This was the error that I was getting:\n\n```\nsrc/models/user.rs:54:18: 54:37 error: the trait `yaqb::expression::Expression` is not implemented for the type `yaqb::query_builder::update_statement::UpdateStatement<yaqb::query_source::filter::FilteredQuerySource<models::user::users::table, yaqb::expression::predicates::Eq<models::user::users::columns::id, yaqb::expression::bound::Bound<yaqb::types::Integer, i32>>>, collections::vec::Vec<Box<yaqb::query_builder::update_statement::changeset::Changeset<Target=models::user::users::table>>>>` [E0277]\nsrc/models/user.rs:54     User::conn().query_one(&command)\n                                       ^~~~~~~~~~~~~~~~~~~\nsrc/models/user.rs:54:18: 54:37 help: run `rustc --explain E0277` to see a detailed explanation\n```\n\nand the same error with Query:\n\n```\nthe trait `yaqb::query_builder::Query` is not implemented for the type ...\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160380215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160391300","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160391300","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160391300,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDM5MTMwMA==","user":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T08:27:36Z","updated_at":"2015-11-29T08:28:57Z","body":"@mfpiccolo I got `update` with `AsChangeset` to build just fine using `query_one`:\n\n``` Rust\nlet changeset = UserChanges {\n    id: user_id,\n    first_name: body.get(\"first_name\").map(|attr| attr[0].to_owned()),\n    last_name: body.get(\"last_name\").map(|attr| attr[0].to_owned()),\n    email: body.get(\"email\").map(|attr| attr[0].to_owned()),\n};\n\nlet command = query_builder::update(users.filter(id.eq(changeset.id))).set(changeset);\nlet result: Option<User> = connection.query_one(command).unwrap();\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160391300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcasper","id":6878025,"node_id":"MDQ6VXNlcjY4NzgwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/6878025?v=4","gravatar_id":"","url":"https://api.github.com/users/mcasper","html_url":"https://github.com/mcasper","followers_url":"https://api.github.com/users/mcasper/followers","following_url":"https://api.github.com/users/mcasper/following{/other_user}","gists_url":"https://api.github.com/users/mcasper/gists{/gist_id}","starred_url":"https://api.github.com/users/mcasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcasper/subscriptions","organizations_url":"https://api.github.com/users/mcasper/orgs","repos_url":"https://api.github.com/users/mcasper/repos","events_url":"https://api.github.com/users/mcasper/events{/privacy}","received_events_url":"https://api.github.com/users/mcasper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":477011609,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc3MDExNjA5","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/477011609","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-11-29T08:27:36Z","performed_via_github_app":null},{"id":477011610,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3NzAxMTYxMA==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/477011610","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-11-29T08:27:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160417545","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160417545","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160417545,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDQxNzU0NQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T13:51:46Z","updated_at":"2015-11-29T16:37:43Z","body":"I think we're seeing https://github.com/rust-lang/rust/issues/28894 strike again. The _actual_ issue is that `AsQuery` is not implemented for `&UpdateStatement<...>`. It is implemented for `UpdateStatement<...>`. Hopefully #29 will make this less confusing.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160417545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160432066","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-160432066","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":160432066,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDQzMjA2Ng==","user":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-29T16:59:52Z","updated_at":"2015-11-29T16:59:52Z","body":"Yep that was it.  Passing the command itself and not the borrowed command was the issue.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/160432066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":477235681,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ3NzIzNTY4MQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/477235681","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-11-30T00:45:02Z","milestone":{"title":"0.3"},"performed_via_github_app":null},{"id":477235682,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50NDc3MjM1Njgy","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/477235682","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2015-11-30T00:45:03Z","milestone":{"title":"0.2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/161104851","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-161104851","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":161104851,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTEwNDg1MQ==","user":{"login":"bwo","id":68839,"node_id":"MDQ6VXNlcjY4ODM5","avatar_url":"https://avatars.githubusercontent.com/u/68839?v=4","gravatar_id":"","url":"https://api.github.com/users/bwo","html_url":"https://github.com/bwo","followers_url":"https://api.github.com/users/bwo/followers","following_url":"https://api.github.com/users/bwo/following{/other_user}","gists_url":"https://api.github.com/users/bwo/gists{/gist_id}","starred_url":"https://api.github.com/users/bwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwo/subscriptions","organizations_url":"https://api.github.com/users/bwo/orgs","repos_url":"https://api.github.com/users/bwo/repos","events_url":"https://api.github.com/users/bwo/events{/privacy}","received_events_url":"https://api.github.com/users/bwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-01T21:43:06Z","updated_at":"2015-12-01T21:43:06Z","body":"This may be old news the people conversing here, but opaleye's approach to insert/update seems like a reasonably nice one, at least in haskell-land: https://github.com/tomjaguarpaw/haskell-opaleye/blob/master/Doc/Tutorial/TutorialManipulation.lhs#L48-L88\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/161104851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bwo","id":68839,"node_id":"MDQ6VXNlcjY4ODM5","avatar_url":"https://avatars.githubusercontent.com/u/68839?v=4","gravatar_id":"","url":"https://api.github.com/users/bwo","html_url":"https://github.com/bwo","followers_url":"https://api.github.com/users/bwo/followers","following_url":"https://api.github.com/users/bwo/following{/other_user}","gists_url":"https://api.github.com/users/bwo/gists{/gist_id}","starred_url":"https://api.github.com/users/bwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwo/subscriptions","organizations_url":"https://api.github.com/users/bwo/orgs","repos_url":"https://api.github.com/users/bwo/repos","events_url":"https://api.github.com/users/bwo/events{/privacy}","received_events_url":"https://api.github.com/users/bwo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/161146294","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-161146294","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":161146294,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTE0NjI5NA==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-02T01:04:11Z","updated_at":"2015-12-02T01:04:11Z","body":"@bwo Yeah, I'm going to basically give the ability to choose between the current behavior and that behavior. I don't want to stop supporting putting `NULL` in an update, though.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/161146294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":479657264,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDc5NjU3MjY0","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/479657264","actor":{"login":"bwo","id":68839,"node_id":"MDQ6VXNlcjY4ODM5","avatar_url":"https://avatars.githubusercontent.com/u/68839?v=4","gravatar_id":"","url":"https://api.github.com/users/bwo","html_url":"https://github.com/bwo","followers_url":"https://api.github.com/users/bwo/followers","following_url":"https://api.github.com/users/bwo/following{/other_user}","gists_url":"https://api.github.com/users/bwo/gists{/gist_id}","starred_url":"https://api.github.com/users/bwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwo/subscriptions","organizations_url":"https://api.github.com/users/bwo/orgs","repos_url":"https://api.github.com/users/bwo/repos","events_url":"https://api.github.com/users/bwo/events{/privacy}","received_events_url":"https://api.github.com/users/bwo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-12-02T01:04:11Z","performed_via_github_app":null},{"id":479657265,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3OTY1NzI2NQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/479657265","actor":{"login":"bwo","id":68839,"node_id":"MDQ6VXNlcjY4ODM5","avatar_url":"https://avatars.githubusercontent.com/u/68839?v=4","gravatar_id":"","url":"https://api.github.com/users/bwo","html_url":"https://github.com/bwo","followers_url":"https://api.github.com/users/bwo/followers","following_url":"https://api.github.com/users/bwo/following{/other_user}","gists_url":"https://api.github.com/users/bwo/gists{/gist_id}","starred_url":"https://api.github.com/users/bwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwo/subscriptions","organizations_url":"https://api.github.com/users/bwo/orgs","repos_url":"https://api.github.com/users/bwo/repos","events_url":"https://api.github.com/users/bwo/events{/privacy}","received_events_url":"https://api.github.com/users/bwo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-12-02T01:04:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/162000025","html_url":"https://github.com/diesel-rs/diesel/issues/26#issuecomment-162000025","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/26","id":162000025,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjAwMDAyNQ==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T15:44:18Z","updated_at":"2015-12-04T15:44:18Z","body":"I'm going to change the behavior of `changeset_for` to treat `None` as skip by default in 0.3. The more I think about it, the more clear it becomes that assigning null is not the majority case. You can still set null by manually doing `set(column.eq(None))`.\n\nI will likely introduce an additional type in the future to represent wanting to assign null (which when deserializing from JSON will require the key being present, and the value being `null`)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/162000025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":482871351,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4Mjg3MTM1MQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/482871351","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"787b04baefa5fbd2e3b4c0346848e8bbd65582ac","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/787b04baefa5fbd2e3b4c0346848e8bbd65582ac","created_at":"2015-12-04T17:21:41Z","performed_via_github_app":null},{"actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T17:21:49Z","updated_at":"2015-12-04T17:21:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/47","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/47/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/47/events","html_url":"https://github.com/diesel-rs/diesel/pull/47","id":120447253,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI2OTY2NzM=","number":47,"title":"`#[changeset_for]` now skips optional fields when `None`","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-04T17:21:49Z","updated_at":"2015-12-04T21:17:59Z","closed_at":"2015-12-04T21:17:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/diesel-rs/diesel/pulls/47","html_url":"https://github.com/diesel-rs/diesel/pull/47","diff_url":"https://github.com/diesel-rs/diesel/pull/47.diff","patch_url":"https://github.com/diesel-rs/diesel/pull/47.patch","merged_at":"2015-12-04T21:17:56Z"},"body":"My original thoughts on how to implement this involved boxing and\nsticking in a `Vec`. Unfortunately, that requires implementing\n`AsChangeset` for `UserChanges` and not `&UserChanges`, which I don't\nwant to do by default.\n\nIf you actually want to assign `NULL`, you can still do so by doing\n`update(table).set(column.eq(None))`. In the future we might introduce\nan additional type to make it possible to assign null through codegen.\n\nWith this change in implementation, I've removed the impl of `Changeset`\nfor `Vec<T>`, as it feels redundant with a tuple containing options.\n\nI've done a best effort to make sure we generate valid SQL in the\nvarious cases. There is still one error case, when the resulting\nchangeset has 0 fields to update. This will be corrected in another PR,\nas I'm still considering whether we should do magic to return the same\nthing as we would otherwise, or whether it's an error case.\n\nFixes #26\n","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/47/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/47/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]