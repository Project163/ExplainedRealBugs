[{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158103606","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-158103606","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":158103606,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODEwMzYwNg==","user":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-19T16:12:09Z","updated_at":"2015-11-19T16:12:09Z","body":"Update:\n\nI could not get master to build locally on all three releases because of two libc mismatch types:\n\n```\nsrc/connection/mod.rs:267:13: 267:45 error: mismatched types:\n expected `u64`,\n    found `usize`\n(expected u64,\n    found usize) [E0308]\nsrc/connection/mod.rs:267             identifier.len() as libc::size_t,\n                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nsrc/connection/mod.rs:267:13: 267:45 help: run `rustc --explain E0308` to see a detailed explanation\nsrc/connection/mod.rs:320:23: 320:55 error: mismatched types:\n expected `*mut libc::types::common::c95::c_void`,\n    found `*mut connection::libc::c_void`\n(expected enum `libc::types::common::c95::c_void`,\n    found enum `connection::libc::c_void`) [E0308]\nsrc/connection/mod.rs:320             PQfreemem(self.pg_str as *mut libc::c_void)\n                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\n\nI had to change line 276 of connection/mods.rs to use u64\n\n```\n-            identifier.len() as libc::size_t,\n+            identifier.len() as u64,\n```\n\nAnd I had to comment out drop for PgString on line 317-323.\n\nThis is probably something that has to be solved on Cargo but in the mean time the repo can build by making the changes above.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158103606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158652173","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-158652173","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":158652173,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY1MjE3Mw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-21T15:25:41Z","updated_at":"2015-11-21T15:25:41Z","body":"I think it's because I have a wildcard dependency on `libc` and they pushed a breaking change recently. I'll push up a fix shortly.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158652173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158652543","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-158652543","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":158652543,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY1MjU0Mw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-21T15:32:44Z","updated_at":"2015-11-21T15:32:44Z","body":"Also sorry for the delay, I wasn't watching issues on this repo and didn't actually expect one to be opened!\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158652543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":471225410,"node_id":"MDExOkNsb3NlZEV2ZW50NDcxMjI1NDEw","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/471225410","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"1f4227fbf1a7ac3a5722f6aa3bca06e40aa992d2","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/1f4227fbf1a7ac3a5722f6aa3bca06e40aa992d2","created_at":"2015-11-21T15:45:13Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158655623","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-158655623","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":158655623,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY1NTYyMw==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-21T15:46:02Z","updated_at":"2015-11-21T15:46:02Z","body":"@mfpiccolo Fixed, sorry again for the delay. If you're actually trying to use this, let me know if I can help at all. I'm getting to the point where I should write up a usage guide and some docs, and having someone less familiar w/ the internals would be helpful for that.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158655623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":471226355,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDcxMjI2MzU1","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/471226355","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-11-21T15:46:02Z","performed_via_github_app":null},{"id":471226356,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3MTIyNjM1Ng==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/471226356","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-11-21T15:46:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158838879","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-158838879","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":158838879,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODgzODg3OQ==","user":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-23T02:54:04Z","updated_at":"2015-11-23T02:54:04Z","body":"@sgrif  Thanks for pushing up the fix for the libc stuff.  That is weird because I tried pulling down both yaqb and pq-sys and fixing the libc to '0.2.*' but was unable to get it to build.  Not sure what I did wrong but this change worked.  Also, did you release pq-sys 0.2.0 to crates.io without pushing the commit to github?  I am guessing that you just locked the libc version there as well.\n\nAs for using the project, I am interested because I am writing a book on Rust for Manning that is focusing on learning Rust for programmers that only know high level languages (Ruby, JS, Python, etc).  Mostly focusing on web stuff.  Plus I really like Rust and want to start building a background job system in Rust for my consultancy.  \n\nIs this project going to be like AREL or will it also have the higher abstraction of an ActiveRecord-like ORM as well?\n\nI would definitely be interested in helping out with the documentation or development.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/158838879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mfpiccolo","id":3249825,"node_id":"MDQ6VXNlcjMyNDk4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3249825?v=4","gravatar_id":"","url":"https://api.github.com/users/mfpiccolo","html_url":"https://github.com/mfpiccolo","followers_url":"https://api.github.com/users/mfpiccolo/followers","following_url":"https://api.github.com/users/mfpiccolo/following{/other_user}","gists_url":"https://api.github.com/users/mfpiccolo/gists{/gist_id}","starred_url":"https://api.github.com/users/mfpiccolo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfpiccolo/subscriptions","organizations_url":"https://api.github.com/users/mfpiccolo/orgs","repos_url":"https://api.github.com/users/mfpiccolo/repos","events_url":"https://api.github.com/users/mfpiccolo/events{/privacy}","received_events_url":"https://api.github.com/users/mfpiccolo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":471678394,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDcxNjc4Mzk0","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/471678394","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-11-23T02:54:04Z","performed_via_github_app":null},{"id":471678395,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ3MTY3ODM5NQ==","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/471678395","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-11-23T02:54:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/159089014","html_url":"https://github.com/diesel-rs/diesel/issues/5#issuecomment-159089014","issue_url":"https://api.github.com/repos/diesel-rs/diesel/issues/5","id":159089014,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTA4OTAxNA==","user":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-23T22:33:09Z","updated_at":"2015-11-23T22:33:09Z","body":">   Also, did you release pq-sys 0.2.0 to crates.io without pushing the commit to github? I am guessing that you just locked the libc version there as well.\n\nYes on both. Just pushed.\n\n> Is this project going to be like AREL or will it also have the higher abstraction of an ActiveRecord-like ORM as well?\n\nIt's intended to be somewhere in between. Ultimately this is meant to be your persistence layer, but it's trending somewhere closer to the data mapper pattern. There's a lot of features that Active Record has that I don't think belong on the model layer, or are better handled by the database.\n\nI've been porting crates.io to use this as something to give some amount of focus to get to 0.1. You can see where it's been heading [here](https://github.com/sgrif/crates.io/compare/e0505133039ebd82545e40fc38412b86952282f6...sg-port#diff-7ab30501521c288e1d8e1e994692b1a2R1069) (note: there's a lot of noise and mess on that branch as well, I'm going to scrap 100% of that code if I ever do actually open a PR to port them over. This is just so I have a real world app to play with).\n\nOff the top of my head WRT to changes from Active Record, the following come to mind:\n- No thread local connection. If you're going to do stuff involving a database, you'll be taking `&Connection` as an argument\n- Associations are non invasive. You won't have `user.posts`. If you want a user and all of its posts, then you'll get back a `(User, Vec<Post>)`\n- Timestamps are just database triggers.\n- The structs you use for updates and inserts can be (and almost certainly will be for insert) different types from the model you get back from select. So you tend to end up with `create(conn: &Connection, new_user: &NewUser) -> Result<User, DbError>`\n- No model layer validations. Data integrity validations will be handled by the database (with some interface to display those to the UI if absolutely needed, such as unique indexes failing). Validating form input should get handled by the client or controller layers\n- It's enforced that you use everything you select\n\n> I would definitely be interested in helping out with the documentation or development.\n\nWanna shoot me an email and we can coordinate further? It's on my github profile.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments/159089014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sgrif","id":1529387,"node_id":"MDQ6VXNlcjE1MjkzODc=","avatar_url":"https://avatars.githubusercontent.com/u/1529387?v=4","gravatar_id":"","url":"https://api.github.com/users/sgrif","html_url":"https://github.com/sgrif","followers_url":"https://api.github.com/users/sgrif/followers","following_url":"https://api.github.com/users/sgrif/following{/other_user}","gists_url":"https://api.github.com/users/sgrif/gists{/gist_id}","starred_url":"https://api.github.com/users/sgrif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgrif/subscriptions","organizations_url":"https://api.github.com/users/sgrif/orgs","repos_url":"https://api.github.com/users/sgrif/repos","events_url":"https://api.github.com/users/sgrif/events{/privacy}","received_events_url":"https://api.github.com/users/sgrif/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3671580423,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM2NzE1ODA0MjM=","url":"https://api.github.com/repos/diesel-rs/diesel/issues/events/3671580423","actor":{"login":"weiznich","id":1674512,"node_id":"MDQ6VXNlcjE2NzQ1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1674512?v=4","gravatar_id":"","url":"https://api.github.com/users/weiznich","html_url":"https://github.com/weiznich","followers_url":"https://api.github.com/users/weiznich/followers","following_url":"https://api.github.com/users/weiznich/following{/other_user}","gists_url":"https://api.github.com/users/weiznich/gists{/gist_id}","starred_url":"https://api.github.com/users/weiznich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiznich/subscriptions","organizations_url":"https://api.github.com/users/weiznich/orgs","repos_url":"https://api.github.com/users/weiznich/repos","events_url":"https://api.github.com/users/weiznich/events{/privacy}","received_events_url":"https://api.github.com/users/weiznich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0edcc13babeab155920817f3f317d9bd9eb45176","commit_url":"https://api.github.com/repos/diesel-rs/diesel/commits/0edcc13babeab155920817f3f317d9bd9eb45176","created_at":"2020-08-19T16:04:24Z","performed_via_github_app":null},{"actor":{"login":"megametres","id":2496407,"node_id":"MDQ6VXNlcjI0OTY0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/2496407?v=4","gravatar_id":"","url":"https://api.github.com/users/megametres","html_url":"https://github.com/megametres","followers_url":"https://api.github.com/users/megametres/followers","following_url":"https://api.github.com/users/megametres/following{/other_user}","gists_url":"https://api.github.com/users/megametres/gists{/gist_id}","starred_url":"https://api.github.com/users/megametres/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/megametres/subscriptions","organizations_url":"https://api.github.com/users/megametres/orgs","repos_url":"https://api.github.com/users/megametres/repos","events_url":"https://api.github.com/users/megametres/events{/privacy}","received_events_url":"https://api.github.com/users/megametres/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T01:05:48Z","updated_at":"2020-09-14T01:05:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/700","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/700/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/700/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/700/events","html_url":"https://github.com/diesel-rs/diesel/issues/700","id":207362629,"node_id":"MDU6SXNzdWUyMDczNjI2Mjk=","number":700,"title":"segmentation fault on \"diesel setup\"","user":{"login":"alexkamp","id":7312968,"node_id":"MDQ6VXNlcjczMTI5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7312968?v=4","gravatar_id":"","url":"https://api.github.com/users/alexkamp","html_url":"https://github.com/alexkamp","followers_url":"https://api.github.com/users/alexkamp/followers","following_url":"https://api.github.com/users/alexkamp/following{/other_user}","gists_url":"https://api.github.com/users/alexkamp/gists{/gist_id}","starred_url":"https://api.github.com/users/alexkamp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexkamp/subscriptions","organizations_url":"https://api.github.com/users/alexkamp/orgs","repos_url":"https://api.github.com/users/alexkamp/repos","events_url":"https://api.github.com/users/alexkamp/events{/privacy}","received_events_url":"https://api.github.com/users/alexkamp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193212,"node_id":"MDU6TGFiZWwyNTQxOTMyMTI=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":320992021,"node_id":"MDU6TGFiZWwzMjA5OTIwMjE=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/cli","name":"cli","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2017-02-13T22:46:05Z","updated_at":"2021-11-22T14:00:27Z","closed_at":"2020-11-12T09:43:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"hey, \r\n\r\nWhen I run \"diesel setup\" in the docker container https://hub.docker.com/r/liuchong/rustup/, I get a segmentation fault. A (zipped) core dump is attached. \r\n\r\n[core.zip](https://github.com/diesel-rs/diesel/files/772619/core.zip)\r\n\r\nBest, \r\nAlex","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/700/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/700/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"crackfan","id":2922399,"node_id":"MDQ6VXNlcjI5MjIzOTk=","avatar_url":"https://avatars.githubusercontent.com/u/2922399?v=4","gravatar_id":"","url":"https://api.github.com/users/crackfan","html_url":"https://github.com/crackfan","followers_url":"https://api.github.com/users/crackfan/followers","following_url":"https://api.github.com/users/crackfan/following{/other_user}","gists_url":"https://api.github.com/users/crackfan/gists{/gist_id}","starred_url":"https://api.github.com/users/crackfan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crackfan/subscriptions","organizations_url":"https://api.github.com/users/crackfan/orgs","repos_url":"https://api.github.com/users/crackfan/repos","events_url":"https://api.github.com/users/crackfan/events{/privacy}","received_events_url":"https://api.github.com/users/crackfan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T03:54:56Z","updated_at":"2021-08-09T03:54:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845/events","html_url":"https://github.com/diesel-rs/diesel/issues/2845","id":963587435,"node_id":"MDU6SXNzdWU5NjM1ODc0MzU=","number":2845,"title":"Segmentation fault","user":{"login":"crackfan","id":2922399,"node_id":"MDQ6VXNlcjI5MjIzOTk=","avatar_url":"https://avatars.githubusercontent.com/u/2922399?v=4","gravatar_id":"","url":"https://api.github.com/users/crackfan","html_url":"https://github.com/crackfan","followers_url":"https://api.github.com/users/crackfan/followers","following_url":"https://api.github.com/users/crackfan/following{/other_user}","gists_url":"https://api.github.com/users/crackfan/gists{/gist_id}","starred_url":"https://api.github.com/users/crackfan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crackfan/subscriptions","organizations_url":"https://api.github.com/users/crackfan/orgs","repos_url":"https://api.github.com/users/crackfan/repos","events_url":"https://api.github.com/users/crackfan/events{/privacy}","received_events_url":"https://api.github.com/users/crackfan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193212,"node_id":"MDU6TGFiZWwyNTQxOTMyMTI=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-08-09T02:15:10Z","updated_at":"2021-08-18T00:15:32Z","closed_at":"2021-08-18T00:15:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"docker alpine rust\r\n/app/diesel_demo # cargo -V\r\ncargo 1.54.0 (5ae8d74b3 2021-06-22)\r\n/app/diesel_demo # rustc -V\r\nrustc 1.54.0 (a178d0322 2021-07-26)\r\n\r\n/app/diesel_demo # diesel setup\r\nSegmentation fault\r\n/app/diesel_demo # diesel migration generate create_posts\r\nCreating migrations/2021-08-07-020132_create_posts/up.sql\r\nCreating migrations/2021-08-07-020132_create_posts/down.sql\r\n\r\n/app/diesel_demo # diesel migration run\r\nSegmentation fault\r\n\r\n(gdb) bt\r\n#0  0x0000000000000000 in ?? ()\r\n#1  0x00007ffff7dffe18 in std::sync::once::Once::call_once::_$u7b$$u7b$closure$u7d$$u7d$::h7ef22fafc02ce748 ()\r\n#2  0x00007ffff7ce57cc in std::sync::once::Once::call_inner () at library/std/src/sync/once.rs:418\r\n#3  0x00007ffff7e01357 in diesel::mysql::connection::raw::RawConnection::new ()\r\n#4  0x00007ffff7e0280c in <diesel::mysql::connection::MysqlConnection as diesel::connection::Connection>::establish ()\r\n#5  0x00007ffff7d56ac2 in diesel::database::setup_database ()\r\n#6  0x00007ffff7d032ea in diesel::main ()\r\n#7  0x00007ffff7d1c6d3 in std::sys_common::backtrace::__rust_begin_short_backtrace ()\r\n#8  0x00007ffff7d1c6e9 in std::rt::lang_start::_$u7b$$u7b$closure$u7d$$u7d$::h6f4638e0e0b67534 ()\r\n#9  0x00007ffff7e9a0f9 in core::ops::function::impls::{{impl}}::call_once<(),Fn<()>> ()\r\n    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633/library/core/src/ops/function.rs:259\r\n#10 std::panicking::try::do_call<&Fn<()>,i32> () at library/std/src/panicking.rs:401\r\n#11 std::panicking::try<i32,&Fn<()>> () at library/std/src/panicking.rs:365\r\n#12 std::panic::catch_unwind<&Fn<()>,i32> () at library/std/src/panic.rs:434\r\n#13 std::rt::lang_start_internal () at library/std/src/rt.rs:34\r\n#14 0x00007ffff7d07a22 in main ()","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/2845/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"pawslee","id":135553058,"node_id":"U_kgDOCBRgIg","avatar_url":"https://avatars.githubusercontent.com/u/135553058?v=4","gravatar_id":"","url":"https://api.github.com/users/pawslee","html_url":"https://github.com/pawslee","followers_url":"https://api.github.com/users/pawslee/followers","following_url":"https://api.github.com/users/pawslee/following{/other_user}","gists_url":"https://api.github.com/users/pawslee/gists{/gist_id}","starred_url":"https://api.github.com/users/pawslee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawslee/subscriptions","organizations_url":"https://api.github.com/users/pawslee/orgs","repos_url":"https://api.github.com/users/pawslee/repos","events_url":"https://api.github.com/users/pawslee/events{/privacy}","received_events_url":"https://api.github.com/users/pawslee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-08T19:57:24Z","updated_at":"2024-02-08T19:57:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930","repository_url":"https://api.github.com/repos/diesel-rs/diesel","labels_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930/labels{/name}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930/comments","events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930/events","html_url":"https://github.com/diesel-rs/diesel/issues/3930","id":2125805781,"node_id":"I_kwDOAnrqL85-tTjV","number":3930,"title":"double free or corruption issue when establishing connection","user":{"login":"pawslee","id":135553058,"node_id":"U_kgDOCBRgIg","avatar_url":"https://avatars.githubusercontent.com/u/135553058?v=4","gravatar_id":"","url":"https://api.github.com/users/pawslee","html_url":"https://github.com/pawslee","followers_url":"https://api.github.com/users/pawslee/followers","following_url":"https://api.github.com/users/pawslee/following{/other_user}","gists_url":"https://api.github.com/users/pawslee/gists{/gist_id}","starred_url":"https://api.github.com/users/pawslee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawslee/subscriptions","organizations_url":"https://api.github.com/users/pawslee/orgs","repos_url":"https://api.github.com/users/pawslee/repos","events_url":"https://api.github.com/users/pawslee/events{/privacy}","received_events_url":"https://api.github.com/users/pawslee/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":254193212,"node_id":"MDU6TGFiZWwyNTQxOTMyMTI=","url":"https://api.github.com/repos/diesel-rs/diesel/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2024-02-08T18:17:03Z","updated_at":"2024-02-19T07:17:23Z","closed_at":"2024-02-19T07:17:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":41609775,"node_id":"MDEwOlJlcG9zaXRvcnk0MTYwOTc3NQ==","name":"diesel","full_name":"diesel-rs/diesel","private":false,"owner":{"login":"diesel-rs","id":16763251,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzYzMjUx","avatar_url":"https://avatars.githubusercontent.com/u/16763251?v=4","gravatar_id":"","url":"https://api.github.com/users/diesel-rs","html_url":"https://github.com/diesel-rs","followers_url":"https://api.github.com/users/diesel-rs/followers","following_url":"https://api.github.com/users/diesel-rs/following{/other_user}","gists_url":"https://api.github.com/users/diesel-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/diesel-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diesel-rs/subscriptions","organizations_url":"https://api.github.com/users/diesel-rs/orgs","repos_url":"https://api.github.com/users/diesel-rs/repos","events_url":"https://api.github.com/users/diesel-rs/events{/privacy}","received_events_url":"https://api.github.com/users/diesel-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/diesel-rs/diesel","description":"A safe, extensible ORM and Query Builder for Rust","fork":false,"url":"https://api.github.com/repos/diesel-rs/diesel","forks_url":"https://api.github.com/repos/diesel-rs/diesel/forks","keys_url":"https://api.github.com/repos/diesel-rs/diesel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/diesel-rs/diesel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/diesel-rs/diesel/teams","hooks_url":"https://api.github.com/repos/diesel-rs/diesel/hooks","issue_events_url":"https://api.github.com/repos/diesel-rs/diesel/issues/events{/number}","events_url":"https://api.github.com/repos/diesel-rs/diesel/events","assignees_url":"https://api.github.com/repos/diesel-rs/diesel/assignees{/user}","branches_url":"https://api.github.com/repos/diesel-rs/diesel/branches{/branch}","tags_url":"https://api.github.com/repos/diesel-rs/diesel/tags","blobs_url":"https://api.github.com/repos/diesel-rs/diesel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/diesel-rs/diesel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/diesel-rs/diesel/git/refs{/sha}","trees_url":"https://api.github.com/repos/diesel-rs/diesel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/diesel-rs/diesel/statuses/{sha}","languages_url":"https://api.github.com/repos/diesel-rs/diesel/languages","stargazers_url":"https://api.github.com/repos/diesel-rs/diesel/stargazers","contributors_url":"https://api.github.com/repos/diesel-rs/diesel/contributors","subscribers_url":"https://api.github.com/repos/diesel-rs/diesel/subscribers","subscription_url":"https://api.github.com/repos/diesel-rs/diesel/subscription","commits_url":"https://api.github.com/repos/diesel-rs/diesel/commits{/sha}","git_commits_url":"https://api.github.com/repos/diesel-rs/diesel/git/commits{/sha}","comments_url":"https://api.github.com/repos/diesel-rs/diesel/comments{/number}","issue_comment_url":"https://api.github.com/repos/diesel-rs/diesel/issues/comments{/number}","contents_url":"https://api.github.com/repos/diesel-rs/diesel/contents/{+path}","compare_url":"https://api.github.com/repos/diesel-rs/diesel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/diesel-rs/diesel/merges","archive_url":"https://api.github.com/repos/diesel-rs/diesel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/diesel-rs/diesel/downloads","issues_url":"https://api.github.com/repos/diesel-rs/diesel/issues{/number}","pulls_url":"https://api.github.com/repos/diesel-rs/diesel/pulls{/number}","milestones_url":"https://api.github.com/repos/diesel-rs/diesel/milestones{/number}","notifications_url":"https://api.github.com/repos/diesel-rs/diesel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/diesel-rs/diesel/labels{/name}","releases_url":"https://api.github.com/repos/diesel-rs/diesel/releases{/id}","deployments_url":"https://api.github.com/repos/diesel-rs/diesel/deployments","created_at":"2015-08-29T22:51:00Z","updated_at":"2025-11-09T19:31:55Z","pushed_at":"2025-11-07T18:13:31Z","git_url":"git://github.com/diesel-rs/diesel.git","ssh_url":"git@github.com:diesel-rs/diesel.git","clone_url":"https://github.com/diesel-rs/diesel.git","svn_url":"https://github.com/diesel-rs/diesel","homepage":"https://diesel.rs","size":109357,"stargazers_count":13771,"watchers_count":13771,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":1168,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":153,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mysql","orm","postgresql","query-builder","rust","sqlite"],"visibility":"public","forks":1168,"open_issues":153,"watchers":13771,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Setup\r\n\r\n### Versions\r\n\r\n- **Rust:** 1.75.0\r\n- **Diesel:** master \r\n- **Database:** Postgres\r\n- **Operating System:** Ubuntu\r\n\r\n### Feature Flags\r\n\r\n- **diesel:** postgres, r2d2\r\n\r\n### Problem description / What are you trying to accomplish?\r\ni'm simply trying to establish a connection to postgres on ubuntu using diesel. everything works fine when i'm on windows, but the moment i switch to ubuntu (either through wsl or my vps) it errors on trying to establish this connection. since it's a c issue i guess it could be a postgres issue but i'm not entirely sure - either way this ONLY occurs when i'm doing it through ubuntu\r\n\r\ni should mention that although i have the r2d2 feature flag, it doesn't work whether or i'm using r2d2 or not (so it's not bc of r2d2)\r\n\r\n### What is the expected output?\r\n```\r\nGetting connection...\r\nConnection gotten\r\n(...)\r\n```\r\n\r\n### What is the actual output?\r\n```\r\nGetting connection...\r\ndouble free or corruption (out)\r\ncore dumped\r\n```\r\n### Are you seeing any additional errors?\r\nno\r\n\r\n### Steps to reproduce\r\nthis is my code, obv snipped but this is the gist\r\n```rust\r\nstatic DB_URL: Lazy<String> = Lazy::new(|| \r\n    std::env::var(\"DATABASE_URL\").expect(\"Couldn't get database url\")\r\n);\r\n// later\r\nprintln!(\"Getting connection...\");\r\nlet conn = &mut PgConnection::establish(&DB_URL).unwrap(); // core dumped here\r\nprintln!(\"Connection gotten\");\r\n```\r\n\r\n## Checklist\r\n\r\n- [X] I have already looked over the [issue tracker](https://github.com/diesel-rs/diesel/issues) and the [discussion forum](https://github.com/diesel-rs/diesel/discussions)\r\n- [X] This issue can be reproduced on Rust's stable channel\r\n- [X] This issue can be reproduced without requiring a third party crate","reactions":{"url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/diesel-rs/diesel/issues/3930/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]