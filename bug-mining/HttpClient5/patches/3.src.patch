diff --git a/httpclient5/src/main/java/org/apache/hc/client5/http/impl/auth/SystemDefaultCredentialsProvider.java b/httpclient5/src/main/java/org/apache/hc/client5/http/impl/auth/SystemDefaultCredentialsProvider.java
index b246c8d58..e23032f11 100644
--- a/httpclient5/src/main/java/org/apache/hc/client5/http/impl/auth/SystemDefaultCredentialsProvider.java
+++ b/httpclient5/src/main/java/org/apache/hc/client5/http/impl/auth/SystemDefaultCredentialsProvider.java
@@ -112,12 +112,30 @@ public Credentials getCredentials(final AuthScope authscope) {
         if (localcreds != null) {
             return localcreds;
         }
-        if (authscope.getHost() != null) {
-            PasswordAuthentication systemcreds = getSystemCreds(
-                    authscope, Authenticator.RequestorType.SERVER);
+        final String host = authscope.getHost();
+        if (host != null) {
+            PasswordAuthentication systemcreds = getSystemCreds(authscope, Authenticator.RequestorType.SERVER);
             if (systemcreds == null) {
-                systemcreds = getSystemCreds(
-                        authscope, Authenticator.RequestorType.PROXY);
+                systemcreds = getSystemCreds(authscope, Authenticator.RequestorType.PROXY);
+            }
+            if (systemcreds == null) {
+                final String proxyHost = System.getProperty("http.proxyHost");
+                if (proxyHost != null) {
+                    final String proxyPort = System.getProperty("http.proxyPort");
+                    if (proxyPort != null) {
+                        try {
+                            final AuthScope systemScope = new AuthScope(proxyHost, Integer.parseInt(proxyPort));
+                            if (authscope.match(systemScope) >= 0) {
+                                final String proxyUser = System.getProperty("http.proxyUser");
+                                if (proxyUser != null) {
+                                    final String proxyPassword = System.getProperty("http.proxyPassword");
+                                    systemcreds = new PasswordAuthentication(proxyUser, proxyPassword != null ? proxyPassword.toCharArray() : new char[] {});
+                                }
+                            }
+                        } catch (NumberFormatException ex) {
+                        }
+                    }
+                }
             }
             if (systemcreds != null) {
                 final String domain = System.getProperty("http.auth.ntlm.domain");
