<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-2384] Socket options related to TcpKeepAlive are ignored</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-2384</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;SocketConfig has properties to set up TcpKeepAlive mechanism. Those are:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SocketConfig.tcpKeepIdle
SocketConfig.tcpKeepInterval
SocketConfig.tcpKeepCount
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These properties are ignored while configuring a Socket in DefaultHttpClientConnectionOperator.connect(...). Some standard options are configured but not the tcpKeepAlive related stuff.&lt;/p&gt;

&lt;p&gt;We bumped into the issue after migrating from 4.5.x. In 4.5 we were able to configure a socket factory that done the socket configuration we needed. After migration, we were glad to see that tcpKeepAlive could be configured in SocketConfig. But it turned out the properties are ignored. &lt;/p&gt;

&lt;p&gt;For now, we are using a workaround by creating PoolingHttpClientConnectionManager which is supplied with the custom configured DefaultHttpClientConnectionOperator which is configured with a custom DetachedSocketFactory that configures tcpKeepAlive. Obviously this is not the intended way of setting it up.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13624687">HTTPCLIENT-2384</key>
            <summary>Socket options related to TcpKeepAlive are ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="igor.mukhin">Igor Mukhin</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jul 2025 11:04:18 +0000</created>
                <updated>Thu, 7 Aug 2025 14:56:37 +0000</updated>
                            <resolved>Tue, 5 Aug 2025 09:32:58 +0000</resolved>
                                    <version>5.5</version>
                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>5.6-alpha1</fixVersion>
                                    <component>HttpClient (async)</component>
                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="18010191" author="igor.mukhin" created="Sun, 27 Jul 2025 11:06:52 +0000"  >&lt;p&gt;In general, I would say that the method connect() in the class DefaultHttpClientConnectionOperator should include the following lines which configuring the socket:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (socketConfig.getTcpKeepIdle() &amp;gt; 0) {
                SocketSupport.setOption(sock, SocketSupport.TCP_KEEPIDLE, socketConfig.getTcpKeepIdle());
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (socketConfig.getTcpKeepInterval() &amp;gt; 0) {
                SocketSupport.setOption(sock, SocketSupport.TCP_KEEPINTERVAL, socketConfig.getTcpKeepInterval());
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (socketConfig.getTcpKeepCount() &amp;gt; 0) {
                SocketSupport.setOption(sock, SocketSupport.TCP_KEEPCOUNT, socketConfig.getTcpKeepCount());
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18011694" author="jira-bot" created="Sun, 3 Aug 2025 14:57:17 +0000"  >&lt;p&gt;Commit 32166ce4e33d4c3a8493ca9d58f05c4f36ea8d75 in httpcomponents-client&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2384&quot; title=&quot;Socket options related to TcpKeepAlive are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2384&quot;&gt;&lt;del&gt;HTTPCLIENT-2384&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=32166ce4e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=32166ce4e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2384&quot; title=&quot;Socket options related to TcpKeepAlive are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2384&quot;&gt;&lt;del&gt;HTTPCLIENT-2384&lt;/del&gt;&lt;/a&gt;: Socket options related to TcpKeepAlive are ignored&lt;/p&gt;</comment>
                            <comment id="18011696" author="olegk" created="Sun, 3 Aug 2025 15:00:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=igor.mukhin&quot; class=&quot;user-hover&quot; rel=&quot;igor.mukhin&quot;&gt;igor.mukhin&lt;/a&gt; My apologies it took so long to get around to fixing the problem. Here is the proposed fix &lt;a href=&quot;https://github.com/apache/httpcomponents-client/compare/5.5.x...HTTPCLIENT-2384&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-client/compare/5.5.x...HTTPCLIENT-2384&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="18011703" author="igor.mukhin" created="Sun, 3 Aug 2025 17:10:33 +0000"  >&lt;p&gt;Thanks! LGTM&lt;/p&gt;</comment>
                            <comment id="18012072" author="jira-bot" created="Tue, 5 Aug 2025 09:09:26 +0000"  >&lt;p&gt;Commit da4d9a43212f6ff273e0e05c102d7da8b366becc in httpcomponents-client&apos;s branch refs/heads/5.5.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=da4d9a432&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=da4d9a432&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2384&quot; title=&quot;Socket options related to TcpKeepAlive are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2384&quot;&gt;&lt;del&gt;HTTPCLIENT-2384&lt;/del&gt;&lt;/a&gt;: Socket options related to TcpKeepAlive are ignored&lt;/p&gt;</comment>
                            <comment id="18012075" author="jira-bot" created="Tue, 5 Aug 2025 09:20:42 +0000"  >&lt;p&gt;Commit 99d4a5e081f31616a2558e72824ed8cf52198596 in httpcomponents-client&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=99d4a5e08&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=99d4a5e08&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2384&quot; title=&quot;Socket options related to TcpKeepAlive are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2384&quot;&gt;&lt;del&gt;HTTPCLIENT-2384&lt;/del&gt;&lt;/a&gt;: Socket options related to TcpKeepAlive are ignored&lt;/p&gt;</comment>
                            <comment id="18012608" author="jira-bot" created="Thu, 7 Aug 2025 14:56:37 +0000"  >&lt;p&gt;Commit 99d4a5e081f31616a2558e72824ed8cf52198596 in httpcomponents-client&apos;s branch refs/heads/dependabot/maven/org.apache.commons-commons-compress-1.28.0 from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=99d4a5e08&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=99d4a5e08&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2384&quot; title=&quot;Socket options related to TcpKeepAlive are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2384&quot;&gt;&lt;del&gt;HTTPCLIENT-2384&lt;/del&gt;&lt;/a&gt;: Socket options related to TcpKeepAlive are ignored&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wytc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>