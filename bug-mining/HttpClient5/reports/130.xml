<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-2366] HttpClient5 - RequestEntityProxy#isRepeatable incorrectly returns false before entity is consumed</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-2366</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;The behavior of&#160;&lt;tt&gt;RequestEntityProxy#isRepeatable&lt;/tt&gt;&#160;changed in&#160;&lt;a href=&quot;https://github.com/apache/httpcomponents-client/commit/a1eed8084de7c58203a6acb799b7e4b04f669d39#r154843658&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this commit&lt;/a&gt;, where the method now returns&#160;&lt;tt&gt;false&lt;/tt&gt;&#160;unless&#160;&lt;tt&gt;writeTo()&lt;/tt&gt;&#160;has already been called.&lt;/p&gt;

&lt;p&gt;This appears to be a regression. Previously, an entity was considered repeatable as long as it hadn&apos;t been consumed yet and the original entity itself was repeatable. The new logic incorrectly assumes that an entity is only repeatable&#160;&lt;em&gt;after&lt;/em&gt;&#160;it&apos;s been consumed, which defeats the purpose of determining retry eligibility&#160;&lt;em&gt;before&lt;/em&gt;&#160;transmission.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13614210">HTTPCLIENT-2366</key>
            <summary>HttpClient5 - RequestEntityProxy#isRepeatable incorrectly returns false before entity is consumed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nicklasw">Nicklas Wallgren</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2025 12:45:44 +0000</created>
                <updated>Fri, 4 Apr 2025 16:51:56 +0000</updated>
                            <resolved>Fri, 4 Apr 2025 16:11:37 +0000</resolved>
                                                    <fixVersion>5.4.4</fixVersion>
                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17940964" author="garydgregory" created="Fri, 4 Apr 2025 13:03:41 +0000"  >&lt;p&gt;Hm, it probably should be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; !consumed || original.isRepeatable();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We&apos;re missing a unit test it seems &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17940974" author="abernal" created="Fri, 4 Apr 2025 13:35:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;if we&#8217;d opened a PR instead of committing directly, someone else would have spotted the issue before it slipped through.&lt;/p&gt;</comment>
                            <comment id="17940988" author="olegk" created="Fri, 4 Apr 2025 14:10:27 +0000"  >&lt;p&gt;&amp;gt; if we&#8217;d opened a PR instead of committing directly, someone else would have spotted the issue before it slipped through.&lt;/p&gt;

&lt;p&gt;That would raise an awkward question as to what the point of those changes was in the first place.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17940992" author="garydgregory" created="Fri, 4 Apr 2025 14:13:53 +0000"  >&lt;p&gt;I&apos;ll create a PR with a unit test and the main change over the weekend...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17941020" author="jira-bot" created="Fri, 4 Apr 2025 16:11:28 +0000"  >&lt;p&gt;Commit c52c7d21ed80a99b546f1d9c470d57d87dcb1cc4 in httpcomponents-client&apos;s branch refs/heads/master from Arturo Bernal&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=c52c7d21e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=c52c7d21e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2366&quot; title=&quot;HttpClient5 - RequestEntityProxy#isRepeatable incorrectly returns false before entity is consumed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2366&quot;&gt;&lt;del&gt;HTTPCLIENT-2366&lt;/del&gt;&lt;/a&gt; - Fix isRepeatable method in RequestEntityProxy to return true before consumption. (#630)&lt;/p&gt;
</comment>
                            <comment id="17941029" author="jira-bot" created="Fri, 4 Apr 2025 16:47:41 +0000"  >&lt;p&gt;Commit 2f57d441dc92aa0e087a47d7bb65c3263f85d0fd in httpcomponents-client&apos;s branch refs/heads/5.4.x from Arturo Bernal&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2f57d441d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2f57d441d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2366&quot; title=&quot;HttpClient5 - RequestEntityProxy#isRepeatable incorrectly returns false before entity is consumed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2366&quot;&gt;&lt;del&gt;HTTPCLIENT-2366&lt;/del&gt;&lt;/a&gt; - Fix isRepeatable method in RequestEntityProxy to return true before consumption. (#630)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v6lk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>