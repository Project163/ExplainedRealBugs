<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-2383] LaxRedirectStrategy unintentionally blocks redirects due to inherited sensitive header check</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-2383</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;&lt;b&gt;Summary&lt;/b&gt;:&lt;br/&gt;
&lt;tt&gt;LaxRedirectStrategy&lt;/tt&gt; in HttpClient 5.5 does not override &lt;tt&gt;isRedirectAllowed()&lt;/tt&gt;, causing unexpected redirect blocking due to inherited sensitive header checks.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Description&lt;/b&gt;:&lt;br/&gt;
Starting with HttpClient 5.5, a new check was introduced in &lt;tt&gt;RedirectStrategy.isRedirectAllowed()&lt;/tt&gt;, and implemented in the class &lt;tt&gt;DefaultRedirectStrategy&lt;/tt&gt;, to prevent redirects when requests contain sensitive headers such as &lt;tt&gt;Authorization&lt;/tt&gt;. This is a security-conscious change and makes sense for the default strategy.&lt;/p&gt;

&lt;p&gt;However, &lt;tt&gt;LaxRedirectStrategy&lt;/tt&gt;, which was introduced earlier (in 5.4) to allow more permissive redirection behavior, &lt;b&gt;inherits&lt;/b&gt; from &lt;tt&gt;DefaultRedirectStrategy&lt;/tt&gt; but does &lt;b&gt;not override&lt;/b&gt; &lt;tt&gt;isRedirectAllowed()&lt;/tt&gt;. As a result, even when &lt;tt&gt;LaxRedirectStrategy&lt;/tt&gt; is explicitly used in a client, it still respects the stricter logic from &lt;tt&gt;DefaultRedirectStrategy&lt;/tt&gt; when &lt;tt&gt;RedirectExec.handleResponse()&lt;/tt&gt; delegates to &lt;tt&gt;isRedirectAllowed()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This leads to unintuitive behavior: despite choosing a &#8220;lax&#8221; strategy, redirections are blocked if sensitive headers are present &#8212; defeating the purpose of selecting &lt;tt&gt;LaxRedirectStrategy&lt;/tt&gt; to have a more loose (lax) redirect behavior.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Proposed Fix&lt;/b&gt;:&lt;br/&gt;
Override &lt;tt&gt;isRedirectAllowed()&lt;/tt&gt; in &lt;tt&gt;LaxRedirectStrategy&lt;/tt&gt; to allow redirection regardless of sensitive headers, aligning with a more intuitive redirection strategy system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623463">HTTPCLIENT-2383</key>
            <summary>LaxRedirectStrategy unintentionally blocks redirects due to inherited sensitive header check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dani0600">Daniel Vega</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2025 12:28:33 +0000</created>
                <updated>Wed, 16 Jul 2025 11:41:00 +0000</updated>
                            <resolved>Wed, 16 Jul 2025 11:40:56 +0000</resolved>
                                                    <fixVersion>5.6-alpha1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="18007555" author="jira-bot" created="Wed, 16 Jul 2025 11:36:16 +0000"  >&lt;p&gt;Commit e907ae0ba71753b4e6941326245d7cfeb7c10cab in httpcomponents-client&apos;s branch refs/heads/master from Arturo Bernal&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=e907ae0ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=e907ae0ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2383&quot; title=&quot;LaxRedirectStrategy unintentionally blocks redirects due to inherited sensitive header check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2383&quot;&gt;&lt;del&gt;HTTPCLIENT-2383&lt;/del&gt;&lt;/a&gt; Bypass sensitive-header check in LaxRedirectStrategy (#676)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2383&quot; title=&quot;LaxRedirectStrategy unintentionally blocks redirects due to inherited sensitive header check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2383&quot;&gt;&lt;del&gt;HTTPCLIENT-2383&lt;/del&gt;&lt;/a&gt; Bypass sensitive-header check in LaxRedirectStrategy. Override isRedirectAllowed(...) to always return true, ensuring LaxRedirectStrategy follows redirects regardless of Authorization or other sensitive headers.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2383&quot; title=&quot;LaxRedirectStrategy unintentionally blocks redirects due to inherited sensitive header check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2383&quot;&gt;&lt;del&gt;HTTPCLIENT-2383&lt;/del&gt;&lt;/a&gt; Make LaxRedirectStrategy to allow redirects if sensitive headers are part of the request&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;Co-authored-by: Daniel VEGA &amp;lt;daniel.vega@amadeus.com&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wro8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>