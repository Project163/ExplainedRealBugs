<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:21:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-1895] GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1895</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;For a GZIP stream containing multiple sub streams, &lt;tt&gt;GzipDecompressingEntity&lt;/tt&gt; ignores everything but the first GZIP stream. This is non-compliant behavior with &lt;a href=&quot;https://tools.ietf.org/html/rfc1952&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC 1952&lt;/a&gt;. Quoting section 2.2:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A gzip file consists of a series of &quot;members&quot; (compressed data sets).  The format of each member is specified in the following section.  The members simply appear one after another in the file, with no additional information before, between, or after them.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Detailed discussion about this bug can be found in &lt;a href=&quot;https://github.com/square/okhttp/issues/3759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;square/okhttp#3759&lt;/a&gt;, including &lt;a href=&quot;https://github.com/square/okhttp/issues/3759#issuecomment-356110268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;comment&lt;/a&gt; from Mark Adler, co-author of GZIP.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129606">HTTPCLIENT-1895</key>
            <summary>GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sarkara1">Abhijit Sarkar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jan 2018 18:34:25 +0000</created>
                <updated>Thu, 11 Jan 2018 13:59:18 +0000</updated>
                            <resolved>Thu, 11 Jan 2018 13:59:18 +0000</resolved>
                                    <version>4.5.4</version>
                                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16319009" author="olegk" created="Tue, 9 Jan 2018 19:32:36 +0000"  >&lt;p&gt;We happily accept patches or pull requests at Github.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16319449" author="sarkara1" created="Wed, 10 Jan 2018 00:24:13 +0000"  >&lt;p&gt;I&apos;m sure you do but it is disappointing to see a first response to a bug as DIY.&lt;/p&gt;</comment>
                            <comment id="16319450" author="garydgregory" created="Wed, 10 Jan 2018 00:27:42 +0000"  >&lt;p&gt;Are you disappointed that the software is open source, provided free of charged and manned by volunteers? &lt;/p&gt;

&lt;p&gt;Why not show your appreciation by contributing instead of complaining?&lt;/p&gt;</comment>
                            <comment id="16319474" author="sarkara1" created="Wed, 10 Jan 2018 00:51:17 +0000"  >&lt;p&gt;I&apos;ve seen nothing so far that is worth appreciating. Quite the contrary, taking the time to report a bug is appreciated in the open source community.&lt;br/&gt;
As for open source, news flash, so it every other software today, including open source HTTP clients. Obviously, no one can force you to fix a bug. However, I suggest reconsidering the &quot;we are doing you a favor, please smile&quot; attitude.&lt;/p&gt;</comment>
                            <comment id="16320085" author="sudheera" created="Wed, 10 Jan 2018 11:12:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sarkara1&quot; class=&quot;user-hover&quot; rel=&quot;sarkara1&quot;&gt;sarkara1&lt;/a&gt; Following test passed with the  attached &quot;&lt;b&gt;multi-test.gz&lt;/b&gt;&quot; file which contains two streams of gzip (refer to the hex below)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testDecompressionWithMultipleGZipStream() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; classLoader = getClass().getClassLoader();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InputStream in = classLoader.getResourceAsStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;multi-test.gz&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InputStreamEntity out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InputStreamEntity(in);
        GzipDecompressingEntity gunZipEntity = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GzipDecompressingEntity(out);
        Assert.assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;stream-1\nstream-2\n&quot;&lt;/span&gt;, EntityUtils.toString(gunZipEntity, Charset.defaultCharset()));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1f8b 0808 03f1 555a 0003 7465 7374 3100
2b2e 294a 4dcc d535 e402 0003 61f0 5f09
0000 001f 8b08 0808 f155 5a00 0374 6573
7432 002b 2e29 4a4d ccd5 35e2 0200 c032
dd74 0900 0000 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;File : &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12905434/12905434_multi-test.gz&quot; title=&quot;multi-test.gz attached to HTTPCLIENT-1895&quot;&gt;multi-test.gz&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</comment>
                            <comment id="16320239" author="olegk" created="Wed, 10 Jan 2018 13:31:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sudheera&quot; class=&quot;user-hover&quot; rel=&quot;sudheera&quot;&gt;sudheera&lt;/a&gt; Thank you so much, Sudheera, for actually testing the assumption. Do you mind my incorporating your code into our test suite?&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16321630" author="sudheera" created="Thu, 11 Jan 2018 03:22:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; I&apos;m happy to. One question though, For &lt;b&gt;GzipDecompressingEntity&lt;/b&gt;, RFC 1952 compliance coming from &lt;b&gt;GZIPInputStream.java&lt;/b&gt; which is a part of &lt;em&gt;java.util.zip&lt;/em&gt; package. I was testing in &lt;em&gt;Oracle&apos;s JDK 1.8&lt;/em&gt; and according to &lt;a href=&quot;https://bugs.java.com/view_bug.do?bug_id=4691425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt; bug report, RFC 1952 compatibility was introduced in &lt;em&gt;6u21&lt;/em&gt; . Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1895&quot; title=&quot;GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1895&quot;&gt;&lt;del&gt;HTTPCLIENT-1895&lt;/del&gt;&lt;/a&gt; is reported against version &lt;em&gt;4.5.4&lt;/em&gt; and that is supposed to be built on _Java 1.6 _ it will be problematic to incorporate this test case in the code isn&apos;t it? Also I&apos;m not sure about the compliance of other JDK implementations.&lt;/p&gt;</comment>
                            <comment id="16322046" author="olegk" created="Thu, 11 Jan 2018 10:59:53 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sudheera&quot; class=&quot;user-hover&quot; rel=&quot;sudheera&quot;&gt;sudheera&lt;/a&gt; Many thanks for this contribution, Sudheera. I can make the test conditional to the JRE level at runtime if necessary.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16322110" author="sudheera" created="Thu, 11 Jan 2018 12:06:45 +0000"  >&lt;p&gt;Great. &lt;/p&gt;</comment>
                            <comment id="16322187" author="jira-bot" created="Thu, 11 Jan 2018 13:18:17 +0000"  >&lt;p&gt;Commit e7825a6f13bfcc08fecf353a028173853d0e58f2 in httpcomponents-client&apos;s branch refs/heads/4.5.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sudheera&quot; class=&quot;user-hover&quot; rel=&quot;sudheera&quot;&gt;sudheera&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=e7825a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=e7825a6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1895&quot; title=&quot;GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1895&quot;&gt;&lt;del&gt;HTTPCLIENT-1895&lt;/del&gt;&lt;/a&gt;: added test case for multi-member GZIP content streams (per RFC 1952)&lt;/p&gt;</comment>
                            <comment id="16322190" author="jira-bot" created="Thu, 11 Jan 2018 13:21:38 +0000"  >&lt;p&gt;Commit 6c1c16431da0bb2a3769caddbac7a98918f7729b in httpcomponents-client&apos;s branch refs/heads/4.6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sudheera&quot; class=&quot;user-hover&quot; rel=&quot;sudheera&quot;&gt;sudheera&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=6c1c164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=6c1c164&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1895&quot; title=&quot;GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1895&quot;&gt;&lt;del&gt;HTTPCLIENT-1895&lt;/del&gt;&lt;/a&gt;: added test case for multi-member GZIP content streams (per RFC 1952)&lt;/p&gt;</comment>
                            <comment id="16322206" author="jira-bot" created="Thu, 11 Jan 2018 13:32:56 +0000"  >&lt;p&gt;Commit a7a70e8cd4b6dc1c0566a04b1755434197ba5b69 in httpcomponents-client&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sudheera&quot; class=&quot;user-hover&quot; rel=&quot;sudheera&quot;&gt;sudheera&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=a7a70e8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=a7a70e8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1895&quot; title=&quot;GzipDecompressingEntity ignores everything but the first GZIP stream, non-compliant with RFC 1952&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1895&quot;&gt;&lt;del&gt;HTTPCLIENT-1895&lt;/del&gt;&lt;/a&gt;: added test case for multi-member GZIP content streams (per RFC 1952)&lt;/p&gt;</comment>
                            <comment id="16322241" author="olegk" created="Thu, 11 Jan 2018 13:59:18 +0000"  >&lt;p&gt;The problem could not be reproduced. Test case added to 4.5.x, 4.6.x and 5.x&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12905434" name="multi-test.gz" size="70" author="sudheera" created="Wed, 10 Jan 2018 11:12:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3op5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>