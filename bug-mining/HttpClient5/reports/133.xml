<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-2376] The Accept-Encoding value has changed after update to Apache HTTP Client 5.5</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-2376</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;I just saw that the requests sent by the HTTP Client 5.5 has change in the Accept-Encoding value from: &lt;b&gt;gzip, deflate&lt;/b&gt; to: &lt;b&gt;gzip, x-gzip, deflate&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;I checked the code and the change is coming from the constructor of the &lt;b&gt;ContentCompressionExec&lt;/b&gt; which now no longer takes in mind the parameter &lt;b&gt;acceptEncoding&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This constructor is called by the &lt;b&gt;HttpClientBuilder&lt;/b&gt; which is passing the &lt;b&gt;acceptEncoding&lt;/b&gt; parameter by using the values from the &#160;&lt;b&gt;contentDecoderMap&lt;/b&gt; for which there is a setter in the builder which we use and we rely on having exactly these values for the header:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;b&gt;LinkedHashMap&amp;lt;String, InputStreamFactory&amp;gt; contentDecoderMap = new LinkedHashMap&amp;lt;&amp;gt;();&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;b&gt;contentDecoderMap.put(&quot;gzip&quot;, GZIPInputStreamFactory.getInstance());&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;b&gt;contentDecoderMap.put(&quot;deflate&quot;, DeflateInputStreamFactory.getInstance());&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;b&gt;HttpClientBuilder.create().setContentDecoderRegistry(contentDecoderMap)...&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;**&#160;&lt;/p&gt;

&lt;p&gt;I know that x-gzip is a legacy value for gzip and it is most probably added for compatibility reasons only and it should not have huge affect, but I&apos;m afraid that we are calling a lot of different servers some of which are using other HTTP based protocols and I don&apos;t really know if this could affect out processing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621228">HTTPCLIENT-2376</key>
            <summary>The Accept-Encoding value has changed after update to Apache HTTP Client 5.5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yavorstankov">Yavor Stankov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jun 2025 12:47:11 +0000</created>
                <updated>Wed, 18 Jun 2025 13:43:44 +0000</updated>
                            <resolved>Wed, 18 Jun 2025 13:43:44 +0000</resolved>
                                    <version>5.5</version>
                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>5.6-alpha1</fixVersion>
                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17982710" author="jira-bot" created="Wed, 18 Jun 2025 13:39:37 +0000"  >&lt;p&gt;Commit 2d7abf5b9b68bc03082e527a8d0553c6dc10aa7d in httpcomponents-client&apos;s branch refs/heads/5.5.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2d7abf5b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2d7abf5b9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2376&quot; title=&quot;The Accept-Encoding value has changed after update to Apache HTTP Client 5.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2376&quot;&gt;&lt;del&gt;HTTPCLIENT-2376&lt;/del&gt;&lt;/a&gt;: fixed ContentCompressionExec not taking `acceptEncoding` parameter into account&lt;/p&gt;</comment>
                            <comment id="17982712" author="jira-bot" created="Wed, 18 Jun 2025 13:42:58 +0000"  >&lt;p&gt;Commit fd2870edec85c0a37429fb357f13f844ff755c0c in httpcomponents-client&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=fd2870ede&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=fd2870ede&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2376&quot; title=&quot;The Accept-Encoding value has changed after update to Apache HTTP Client 5.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2376&quot;&gt;&lt;del&gt;HTTPCLIENT-2376&lt;/del&gt;&lt;/a&gt;: fixed ContentCompressionExec not taking `acceptEncoding` parameter into account&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wdw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>