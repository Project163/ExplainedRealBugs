<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:21:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-1802] RFC violations in hostname checking</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1802</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;1. Matching commonName in case sensitive manner when wildcard presents&lt;br/&gt;
(violation of RFC 6125 and RFC 5280)&lt;br/&gt;
HttpClient matches certificate commonName in the case sensitive manner&lt;br/&gt;
when there is a wildcard presents in the certificate commonName, for&lt;br/&gt;
example, given commonName as &quot;*.google.com&quot;, HttpClient matches&lt;br/&gt;
&quot;foo.google.com&quot;, it however does not match &quot;foo.Google.com&quot;. We found&lt;br/&gt;
that this behavior is inconsistent with section 6.4.4 of RFC 6125&lt;br/&gt;
specification &amp;#8211; &quot;If the client chooses to compare a reference&lt;br/&gt;
identifier of type CN-ID against that string, it MUST follow the&lt;br/&gt;
comparison rules for the DNS domain name portion of an identifier of&lt;br/&gt;
type DNS-ID, SRV-ID, or URI-ID&quot;. Note that matching DNS-ID, SRV-ID and&lt;br/&gt;
URI-ID all are in case insensitive manner (RFC 5280).&lt;/p&gt;

&lt;p&gt;Testing certificate attached: s_google_com.pem&lt;br/&gt;
Testing hostname: foo.Google.com&lt;br/&gt;
Expected behavior: match&lt;/p&gt;

&lt;p&gt;2. Attempting to match commonName when SubjectAltName identifier presents&lt;br/&gt;
Section 6.3 of RFC 6125 prohibits clients from attempting to match&lt;br/&gt;
certificate CN if the presented identifiers include a DNS-ID, SRV-ID,&lt;br/&gt;
URI-ID, or any application-specific identifier types supported by the&lt;br/&gt;
client. We found that HttpClient violates this requirement as it&lt;br/&gt;
attempts to match CN even when there is a subjectAltName identifier&lt;br/&gt;
presents e.g., IP address. However, the library does not attempt to&lt;br/&gt;
match certificate CN when certificate subjectAltName DNS presents.&lt;/p&gt;

&lt;p&gt;Testing certificate attached: 1_1_1_1.pem&lt;br/&gt;
Testing hostname: dummy-value.com&lt;br/&gt;
Expected behavior: no match&lt;/p&gt;

&lt;p&gt;Credit:&lt;br/&gt;
Suphannee Sivakorn&lt;br/&gt;
George Argyros&lt;br/&gt;
Kexin Pei&lt;br/&gt;
Prof. Suman Jana&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035641">HTTPCLIENT-1802</key>
            <summary>RFC violations in hostname checking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olegk">Oleg Kalnichevski</assignee>
                                    <reporter username="SSivakorn">Suphannee Sivakorn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2017 19:27:12 +0000</created>
                <updated>Mon, 18 May 2020 13:47:38 +0000</updated>
                            <resolved>Fri, 20 Jan 2017 19:22:44 +0000</resolved>
                                    <version>4.5.2</version>
                                    <fixVersion>4.5.3</fixVersion>
                    <fixVersion>5.0 Alpha2</fixVersion>
                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15828508" author="olegk" created="Wed, 18 Jan 2017 18:23:10 +0000"  >&lt;p&gt;Suphannee,&lt;br/&gt;
#1 It tuned out item #1 has already been fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1744&quot; title=&quot;code treats domain names or hostnames case sensitive. This will cause verification to fail because FQDN are case insensitive.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1744&quot;&gt;&lt;del&gt;HTTPCLIENT-1744&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;#2 Could you please review this commit and let me know if you find it adequately fixing the problem?&lt;br/&gt;
&lt;a href=&quot;https://github.com/ok2c/httpclient/commit/a6893f4ed4c7570c7cacb6fed16b99f12be113df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ok2c/httpclient/commit/a6893f4ed4c7570c7cacb6fed16b99f12be113df&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="15830669" author="ssivakorn" created="Thu, 19 Jan 2017 21:51:25 +0000"  >&lt;p&gt;Oleg,&lt;/p&gt;

&lt;p&gt;#1 OK&lt;br/&gt;
#2 It is good. The idea is to use the certificate common name as the last resource to check (only when no subjectAltName available). You might want to check the case where hostname 2.2.2.2 and certificate with common name: 2.2.2.2, which should return a match. But from the code I looked, it should be fine somehow.&lt;/p&gt;</comment>
                            <comment id="15832285" author="olegk" created="Fri, 20 Jan 2017 19:22:44 +0000"  >&lt;p&gt;Thank you, Suphannee&lt;/p&gt;

&lt;p&gt;Patch committed to SVN trunk and 4.5.x branch.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="15832676" author="ssivakorn" created="Sat, 21 Jan 2017 00:44:36 +0000"  >&lt;p&gt;Added credit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12847891" name="1_1_1_1.pem" size="1017" author="SSivakorn" created="Tue, 17 Jan 2017 19:27:12 +0000"/>
                            <attachment id="12847892" name="s_google_com.pem" size="981" author="SSivakorn" created="Tue, 17 Jan 2017 19:27:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38u27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>