<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:22:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-2299] The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-2299</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;I have created an instance of PoolingHttpClientConnectionManager and set a socket timeout of 5 seconds in the ConnectionConfig. In this case, when accessing a backend service with a response time of 10 seconds for the first time, a SocketTimeoutException was correctly thrown. But in the second request, when reusing an already established connection, the client waited for 10 seconds and completed the request. Instead, if I set a 5-second SoTimeout in SocketConfig and run the test again. The setting works.&lt;/p&gt;

&lt;p&gt;runnable test cases: &lt;a href=&quot;https://github.com/ksewen/httpclient-demo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ksewen/httpclient-demo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have uploaded an attachment that demonstrates the configured value of the &lt;tt&gt;SocketTimeout&lt;/tt&gt; when the connection is being reused.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13551339">HTTPCLIENT-2299</key>
            <summary>The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksewen">ksewen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Sep 2023 06:25:49 +0000</created>
                <updated>Sat, 23 Sep 2023 09:05:24 +0000</updated>
                            <resolved>Sat, 23 Sep 2023 09:05:24 +0000</resolved>
                                    <version>5.3-alpha1</version>
                                    <fixVersion>5.2.2</fixVersion>
                    <fixVersion>5.3</fixVersion>
                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17768018" author="jira-bot" created="Fri, 22 Sep 2023 13:44:14 +0000"  >&lt;p&gt;Commit aaf7836db3f447a69fda5516da88c91d650da182 in httpcomponents-client&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2299&quot; title=&quot;The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2299&quot;&gt;&lt;del&gt;HTTPCLIENT-2299&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=aaf7836db&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=aaf7836db&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2299&quot; title=&quot;The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2299&quot;&gt;&lt;del&gt;HTTPCLIENT-2299&lt;/del&gt;&lt;/a&gt;: Socket timeout value set via DefaultManagedHttpClientConnection#setSocketTimeout is not correctly persisted and can be overwritten upon connection activation&lt;/p&gt;</comment>
                            <comment id="17768022" author="olegk" created="Fri, 22 Sep 2023 13:46:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ksewen&quot; class=&quot;user-hover&quot; rel=&quot;ksewen&quot;&gt;ksewen&lt;/a&gt; Please review / test the proposed fix:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-client/compare/5.2.x...HTTPCLIENT-2299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-client/compare/5.2.x...HTTPCLIENT-2299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17768030" author="JIRAUSER302288" created="Fri, 22 Sep 2023 14:07:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; it works now. Thank you so much. But what is the difference between the two configurations in SocketConfig and ConnectionConfig? Which one do you recommend using? Or they are the same.&lt;/p&gt;</comment>
                            <comment id="17768249" author="jira-bot" created="Sat, 23 Sep 2023 08:55:56 +0000"  >&lt;p&gt;Commit 2bc3991099f23066c6ce0c5c707a14010db35997 in httpcomponents-client&apos;s branch refs/heads/5.2.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2bc399109&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=2bc399109&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2299&quot; title=&quot;The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2299&quot;&gt;&lt;del&gt;HTTPCLIENT-2299&lt;/del&gt;&lt;/a&gt;: Socket timeout value set via DefaultManagedHttpClientConnection#setSocketTimeout is not correctly persisted and can be overwritten upon connection activation&lt;/p&gt;</comment>
                            <comment id="17768250" author="jira-bot" created="Sat, 23 Sep 2023 08:56:12 +0000"  >&lt;p&gt;Commit 11c7af28c40137b204fc7a8055edc2531fb47e26 in httpcomponents-client&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=11c7af28c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=11c7af28c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-2299&quot; title=&quot;The socketTimeout parameter in ConnectionConfig does not take effect when reusing an existing connection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-2299&quot;&gt;&lt;del&gt;HTTPCLIENT-2299&lt;/del&gt;&lt;/a&gt;: Socket timeout value set via DefaultManagedHttpClientConnection#setSocketTimeout is not correctly persisted and can be overwritten upon connection activation&lt;/p&gt;</comment>
                            <comment id="17768251" author="olegk" created="Sat, 23 Sep 2023 09:05:15 +0000"  >&lt;p&gt;&amp;gt; But what is the difference between the two configurations in SocketConfig and ConnectionConfig? Which one do you recommend using? Or they are the same.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ksewen&quot; class=&quot;user-hover&quot; rel=&quot;ksewen&quot;&gt;ksewen&lt;/a&gt; There is no difference. It is a matter of distinct logical layers in the library. The SocketConfig is a core level configuration applicable to sockets at the initialization time. The ConnectionConfig is a client connection management level applicable to managed connection. The socket timeout from SocketConfig gets applied to a newly created socket (prior to TLS and other connection initialization logic) The socket timeout from ConnectionConfig gets applied on a fully initialized and connected connection (post TLS).&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13063046" name="invalid-socket-time-out.jpg" size="589608" author="ksewen" created="Wed, 20 Sep 2023 06:25:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kh0o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>