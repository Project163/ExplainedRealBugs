<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:21:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-1859] FormBodyPartBuilder.java does not properly escape the name and filename subfields in the ContentDisposition header</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1859</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;The ContentDisposition header, used in multi-part forms, has a name and filename subfield; these need to be escaped using unix-standard backslash character stuffing, but FormBodyPartBuilder does not currently do this.  It should.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13081723">HTTPCLIENT-1859</key>
            <summary>FormBodyPartBuilder.java does not properly escape the name and filename subfields in the ContentDisposition header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olegk">Oleg Kalnichevski</assignee>
                                    <reporter username="kwright@metacarta.com">Karl Wright</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jun 2017 10:02:05 +0000</created>
                <updated>Wed, 15 Aug 2018 17:55:32 +0000</updated>
                            <resolved>Fri, 23 Jun 2017 13:14:35 +0000</resolved>
                                                    <fixVersion>4.5.4</fixVersion>
                    <fixVersion>5.0 Alpha3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16059102" author="reschke" created="Thu, 22 Jun 2017 10:09:28 +0000"  >&lt;p&gt;&quot;unix-standard backslash character stuffing&quot;?&lt;/p&gt;

&lt;p&gt;Are you referring to RFC 822&apos;s &quot;quoted-string&quot; syntax?&lt;/p&gt;</comment>
                            <comment id="16059152" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 10:59:05 +0000"  >&lt;p&gt;Yes; same thing, but thank you for referring to the proper IETF document.&lt;/p&gt;</comment>
                            <comment id="16059170" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 11:13:59 +0000"  >&lt;p&gt;Here&apos;s the method that needs to be called to escape both the header &quot;name&quot; field and the header &quot;filename&quot; field:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encodeForHeader(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; headerName) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (headerName == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder sb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; headerName.length(); i++) {
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; x = headerName.charAt(i);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (x == &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&apos;&lt;/span&gt; || x == &lt;span class=&quot;code-quote&quot;&gt;&apos;\\&apos;&lt;/span&gt; || x == &lt;span class=&quot;code-quote&quot;&gt;&apos;\r&apos;&lt;/span&gt;) {
        sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\&quot;&lt;/span&gt;);
      }
      sb.append(x);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sb.toString();
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16059190" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 11:23:57 +0000"  >&lt;p&gt;Patch for 5.x attached&lt;/p&gt;</comment>
                            <comment id="16059193" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 11:24:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;, please review...&lt;/p&gt;</comment>
                            <comment id="16059263" author="olegk" created="Thu, 22 Jun 2017 12:22:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;, The fix itself looks reasonable to me. Ideally it should have some test code with it as I believe it can be reasonably easily unit tested. &lt;/p&gt;

&lt;p&gt;It would also make things much easier if you could commit your changes either to a dev branch in the project repository or to your personal fork on GitHub.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16059392" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 13:31:28 +0000"  >&lt;p&gt;Updated patch including test&lt;/p&gt;</comment>
                            <comment id="16059398" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 13:34:18 +0000"  >&lt;p&gt;My git-fu is not yet good enough to set up remote personal dev branches so I&apos;m going to need to leave this here as a patch, I&apos;m afraid.  I could manage a push to master, or a cherry-pick into an existing remote branch, but beyond that I&apos;m stuck.  I&apos;ve updated the patch to include a test.&lt;/p&gt;
</comment>
                            <comment id="16059427" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 13:53:42 +0000"  >&lt;p&gt;With the help of local git wizards, I was able to set up a dev branch for this issue with the fix.&lt;/p&gt;

&lt;p&gt;HTTPCLIENT_1859&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16060631" author="olegk" created="Fri, 23 Jun 2017 09:37:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt; I can see the &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;a=shortlog;h=refs/heads/HTTPCLIENT_1859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HTTPCLIENT_1859&lt;/a&gt; branch in the repo but I see no commits to the branch. Could you please push your changes to that branch and I&apos;ll merge them to master, 4.5.x and 4.6.x branches.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16060713" author="jira-bot" created="Fri, 23 Jun 2017 10:42:18 +0000"  >&lt;p&gt;Commit 004c8be08bc7f347348a28dd19147684916f9f54 in httpcomponents-client&apos;s branch refs/heads/HTTPCLIENT_1859 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=004c8be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=004c8be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1859&quot; title=&quot;FormBodyPartBuilder.java does not properly escape the name and filename subfields in the ContentDisposition header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1859&quot;&gt;&lt;del&gt;HTTPCLIENT-1859&lt;/del&gt;&lt;/a&gt;: Encode header name, filename appropriately&lt;/p&gt;</comment>
                            <comment id="16060714" author="kwright@metacarta.com" created="Fri, 23 Jun 2017 10:43:19 +0000"  >&lt;p&gt;Sorry about that!  Done now.&lt;/p&gt;

&lt;p&gt;I did also push to master inadvertantly; I can revert that if need be.&lt;/p&gt;</comment>
                            <comment id="16060866" author="jira-bot" created="Fri, 23 Jun 2017 13:10:33 +0000"  >&lt;p&gt;Commit f0c7a3448428fcd7e5b292bca8517c09bc71c3c6 in httpcomponents-client&apos;s branch refs/heads/4.6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=f0c7a34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=f0c7a34&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1859&quot; title=&quot;FormBodyPartBuilder.java does not properly escape the name and filename subfields in the ContentDisposition header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1859&quot;&gt;&lt;del&gt;HTTPCLIENT-1859&lt;/del&gt;&lt;/a&gt;: Encode header name, filename appropriately&lt;/p&gt;</comment>
                            <comment id="16060873" author="jira-bot" created="Fri, 23 Jun 2017 13:11:11 +0000"  >&lt;p&gt;Commit 6d583c7d8cc41a188a190218a6489541b79cf35a in httpcomponents-client&apos;s branch refs/heads/4.5.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=6d583c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=6d583c7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1859&quot; title=&quot;FormBodyPartBuilder.java does not properly escape the name and filename subfields in the ContentDisposition header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1859&quot;&gt;&lt;del&gt;HTTPCLIENT-1859&lt;/del&gt;&lt;/a&gt;: Encode header name, filename appropriately&lt;/p&gt;</comment>
                            <comment id="16060879" author="olegk" created="Fri, 23 Jun 2017 13:14:35 +0000"  >&lt;p&gt;Reviewed in master and merged to 4.5.x and 4.6.x&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12874087" name="HTTPCLIENT-1859.patch" size="3957" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 13:31:13 +0000"/>
                            <attachment id="12874063" name="HTTPCLIENT-1859.patch" size="1780" author="kwright@metacarta.com" created="Thu, 22 Jun 2017 11:23:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gliv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>