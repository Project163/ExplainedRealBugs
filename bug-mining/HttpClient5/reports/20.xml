<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:21:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-1881] NTLM authentication against ntlm.herokuapp.com</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1881</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;I&apos;m prototyping NTLM authentication with your 4.5 HTTP client and Spring RestTemplate. This currently fails with a &lt;tt&gt;org.apache.http.impl.auth.NTLMEngineException&lt;/tt&gt; &quot;NTLM authentication error: NTLM authentication - buffer too small for data item&quot;. &lt;/p&gt;

&lt;p&gt;The code, wire log (below) and a simple standalone test application (attached) are included.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Code&quot;&gt;&lt;/a&gt;Code&lt;/h2&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
RestTemplate restTemplate = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestTemplate();
restTemplate.setRequestFactory(buildHttpComponentsClientHttpRequestFactory(args));

&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; HttpComponentsClientHttpRequestFactory
buildHttpComponentsClientHttpRequestFactory(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
  PoolingHttpClientConnectionManager cm = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;
PoolingHttpClientConnectionManager();
  cm.setMaxTotal(128);
  cm.setDefaultMaxPerRoute(24);

  RequestConfig.Builder requestBuilder =
RequestConfig.custom().setConnectTimeout(5000).setSocketTimeout(10000);

  Registry&amp;lt;AuthSchemeProvider&amp;gt; authSchemeRegistry =
RegistryBuilder.&amp;lt;AuthSchemeProvider&amp;gt;create()
    .register(AuthSchemes.NTLM, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NTLMSchemeFactory())
    .register(AuthSchemes.SPNEGO, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SPNegoSchemeFactory()).build();

  CredentialsProvider credentialsProvider = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BasicCredentialsProvider();
  credentialsProvider.setCredentials(AuthScope.ANY, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;
NTCredentials(args[1], args[2], &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, args[3]));

  HttpClientBuilder builder = HttpClientBuilder.create()
    .setConnectionManager(cm)
    .setDefaultRequestConfig(requestBuilder.build())
    .setDefaultAuthSchemeRegistry(authSchemeRegistry)
    .setDefaultCredentialsProvider(credentialsProvider);

  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpComponentsClientHttpRequestFactory(builder.build());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h2&gt;&lt;a name=&quot;Wirelog&quot;&gt;&lt;/a&gt;Wire log&lt;/h2&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;23:21:22,983 | RestTemplate                        | Created GET request for &quot;https://ntlm.herokuapp.com&quot;
23:21:22,987 | RestTemplate                        | Setting request Accept header to [text/plain, */*]
23:21:22,997 | RequestAddCookies                   | CookieSpec selected: default
23:21:23,006 | RequestAuthCache                    | Auth cache not set in the context
23:21:23,007 | PoolingHttpClientConnectionManager  | Connection request: [route: {s}-&amp;gt;https://ntlm.herokuapp.com:443][total kept alive: 0; route allocated: 0 of 24; total allocated: 0 of 128]
23:21:23,029 | PoolingHttpClientConnectionManager  | Connection leased: [id: 0][route: {s}-&amp;gt;https://ntlm.herokuapp.com:443][total kept alive: 0; route allocated: 1 of 24; total allocated: 1 of 128]
23:21:23,031 | MainClientExec                      | Opening connection {s}-&amp;gt;https://ntlm.herokuapp.com:443
23:21:23,299 | DefaultHttpClientConnectionOperator | Connecting to ntlm.herokuapp.com/54.235.146.123:443
23:21:23,299 | SSLConnectionSocketFactory          | Connecting socket to ntlm.herokuapp.com/54.235.146.123:443 with timeout 5000
23:21:23,581 | SSLConnectionSocketFactory          | Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
23:21:23,582 | SSLConnectionSocketFactory          | Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
23:21:23,582 | SSLConnectionSocketFactory          | Starting handshake
23:21:23,989 | SSLConnectionSocketFactory          | Secure session established
23:21:23,989 | SSLConnectionSocketFactory          |  negotiated protocol: TLSv1.2
23:21:23,989 | SSLConnectionSocketFactory          |  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
23:21:23,990 | SSLConnectionSocketFactory          |  peer principal: CN=*.herokuapp.com, O=&quot;Heroku, Inc.&quot;, L=San Francisco, ST=California, C=US
23:21:23,990 | SSLConnectionSocketFactory          |  peer alternative names: [*.herokuapp.com, herokuapp.com]
23:21:23,990 | SSLConnectionSocketFactory          |  issuer principal: CN=DigiCert SHA2 High Assurance Server CA, OU=www.digicert.com, O=DigiCert Inc, C=US
23:21:23,994 | DefaultHttpClientConnectionOperator | Connection established 172.19.1.229:63526&amp;lt;-&amp;gt;54.235.146.123:443
23:21:23,994 | DefaultManagedHttpClientConnection  | http-outgoing-0: set socket timeout to 10000
23:21:23,994 | MainClientExec                      | Executing request GET / HTTP/1.1
23:21:23,995 | MainClientExec                      | Target auth state: UNCHALLENGED
23:21:23,995 | MainClientExec                      | Proxy auth state: UNCHALLENGED
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; GET / HTTP/1.1
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept: text/plain, */*
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Host: ntlm.herokuapp.com
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Connection: Keep-Alive
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)
23:21:23,996 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept-Encoding: gzip,deflate
23:21:23,996 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;GET / HTTP/1.1[\r][\n]&quot;
23:21:23,996 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept: text/plain, */*[\r][\n]&quot;
23:21:23,997 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Host: ntlm.herokuapp.com[\r][\n]&quot;
23:21:23,997 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
23:21:23,997 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)[\r][\n]&quot;
23:21:23,997 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
23:21:23,997 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;HTTP/1.1 401 Unauthorized [\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Connection: keep-alive[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Www-Authenticate: NTLM[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Date: Thu, 16 Nov 2017 22:20:57 GMT[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Content-Length: 0[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Via: 1.1 vegur[\r][\n]&quot;
23:21:24,174 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;[\r][\n]&quot;
23:21:24,177 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized
23:21:24,177 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Connection: keep-alive
23:21:24,178 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Www-Authenticate: NTLM
23:21:24,178 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)
23:21:24,178 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Date: Thu, 16 Nov 2017 22:20:57 GMT
23:21:24,178 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Content-Length: 0
23:21:24,178 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Via: 1.1 vegur
23:21:24,181 | MainClientExec                      | Connection can be kept alive indefinitely
23:21:24,181 | HttpAuthenticator                   | Authentication required
23:21:24,183 | HttpAuthenticator                   | ntlm.herokuapp.com:443 requested authentication
23:21:24,184 | TargetAuthenticationStrategy        | Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
23:21:24,184 | TargetAuthenticationStrategy        | Challenge for Negotiate authentication scheme not available
23:21:24,184 | TargetAuthenticationStrategy        | Challenge for Kerberos authentication scheme not available
23:21:24,191 | TargetAuthenticationStrategy        | Challenge for Digest authentication scheme not available
23:21:24,191 | TargetAuthenticationStrategy        | Challenge for Basic authentication scheme not available
23:21:24,191 | HttpAuthenticator                   | Selected authentication options: [NTLM]
23:21:24,192 | DefaultManagedHttpClientConnection  | http-outgoing-0: set socket timeout to 10000
23:21:24,192 | MainClientExec                      | Executing request GET / HTTP/1.1
23:21:24,192 | MainClientExec                      | Target auth state: CHALLENGED
23:21:24,192 | HttpAuthenticator                   | Generating response to an authentication challenge using ntlm scheme
23:21:24,192 | MainClientExec                      | Proxy auth state: UNCHALLENGED
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; GET / HTTP/1.1
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept: text/plain, */*
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Host: ntlm.herokuapp.com
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Connection: Keep-Alive
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept-Encoding: gzip,deflate
23:21:24,192 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Authorization: NTLM TlRMTVNTUAABAAAAAYIIogAAAAAoAAAAAAAAACgAAAAFASgKAAAADw==
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;GET / HTTP/1.1[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept: text/plain, */*[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Host: ntlm.herokuapp.com[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Authorization: NTLM TlRMTVNTUAABAAAAAYIIogAAAAAoAAAAAAAAACgAAAAFASgKAAAADw==[\r][\n]&quot;
23:21:24,193 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;[\r][\n]&quot;
23:21:24,367 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;HTTP/1.1 401 Unauthorized [\r][\n]&quot;
23:21:24,367 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Connection: keep-alive[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Www-Authenticate: NTLM TlRMTVNTUAACAAAAAAAAACgAAAABAAAAAAAAAAAAAAA=[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Date: Thu, 16 Nov 2017 22:20:58 GMT[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Content-Length: 0[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Via: 1.1 vegur[\r][\n]&quot;
23:21:24,368 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;[\r][\n]&quot;
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Connection: keep-alive
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Www-Authenticate: NTLM TlRMTVNTUAACAAAAAAAAACgAAAABAAAAAAAAAAAAAAA=
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Date: Thu, 16 Nov 2017 22:20:58 GMT
23:21:24,368 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Content-Length: 0
23:21:24,369 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Via: 1.1 vegur
23:21:24,369 | MainClientExec                      | Connection can be kept alive indefinitely
23:21:24,369 | HttpAuthenticator                   | Authentication required
23:21:24,369 | HttpAuthenticator                   | ntlm.herokuapp.com:443 requested authentication
23:21:24,369 | HttpAuthenticator                   | Authorization challenge processed
23:21:24,369 | DefaultManagedHttpClientConnection  | http-outgoing-0: set socket timeout to 10000
23:21:24,369 | MainClientExec                      | Executing request GET / HTTP/1.1
23:21:24,369 | MainClientExec                      | Target auth state: HANDSHAKE
23:21:24,370 | HttpAuthenticator                   | NTLM authentication error: NTLM authentication - buffer too small for data item
23:21:24,370 | MainClientExec                      | Proxy auth state: UNCHALLENGED
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; GET / HTTP/1.1
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept: text/plain, */*
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Host: ntlm.herokuapp.com
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Connection: Keep-Alive
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)
23:21:24,371 | headers                             | http-outgoing-0 &amp;gt;&amp;gt; Accept-Encoding: gzip,deflate
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;GET / HTTP/1.1[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept: text/plain, */*[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Host: ntlm.herokuapp.com[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;User-Agent: Apache-HttpClient/4.5.3 (Java/1.8.0_66)[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
23:21:24,371 | wire                                | http-outgoing-0 &amp;gt;&amp;gt; &quot;[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;HTTP/1.1 401 Unauthorized [\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Connection: keep-alive[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Www-Authenticate: NTLM[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Date: Thu, 16 Nov 2017 22:20:58 GMT[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Content-Length: 0[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;Via: 1.1 vegur[\r][\n]&quot;
23:21:24,562 | wire                                | http-outgoing-0 &amp;lt;&amp;lt; &quot;[\r][\n]&quot;
23:21:24,562 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; HTTP/1.1 401 Unauthorized
23:21:24,562 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Connection: keep-alive
23:21:24,563 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Www-Authenticate: NTLM
23:21:24,563 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)
23:21:24,563 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Date: Thu, 16 Nov 2017 22:20:58 GMT
23:21:24,563 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Content-Length: 0
23:21:24,563 | headers                             | http-outgoing-0 &amp;lt;&amp;lt; Via: 1.1 vegur
23:21:24,563 | MainClientExec                      | Connection can be kept alive indefinitely
23:21:24,563 | HttpAuthenticator                   | Authentication required
23:21:24,563 | HttpAuthenticator                   | ntlm.herokuapp.com:443 requested authentication
23:21:24,563 | HttpAuthenticator                   | Authorization challenge processed
23:21:24,563 | HttpAuthenticator                   | Authentication failed
23:21:24,563 | PoolingHttpClientConnectionManager  | Connection [id: 0][route: {s}-&amp;gt;https://ntlm.herokuapp.com:443] can be kept alive indefinitely
23:21:24,563 | PoolingHttpClientConnectionManager  | Connection released: [id: 0][route: {s}-&amp;gt;https://ntlm.herokuapp.com:443][total kept alive: 1; route allocated: 1 of 24; total allocated: 1 of 128]
23:21:24,568 | RestTemplate                        | GET request for &quot;https://ntlm.herokuapp.com&quot; resulted in 401 (Unauthorized); invoking error handler
23:21:24,571 | NtlmPrototype                       | Request failed
org.springframework.web.client.HttpClientErrorException: 401 Unauthorized
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:63) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:312) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]
	at NtlmPrototype.issueGetRequest(NtlmPrototype.java:50) [classes/:?]
	at NtlmPrototype.main(NtlmPrototype.java:32) [classes/:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h3&gt;&lt;a name=&quot;Testapplication&quot;&gt;&lt;/a&gt;Test application&lt;/h3&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use attached ZIP or download from &lt;a href=&quot;https://frightanic.com/misc/msr-ntlm-prototype.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://frightanic.com/misc/msr-ntlm-prototype.zip&lt;/a&gt; (26.7KB)&lt;/li&gt;
	&lt;li&gt;unzip&lt;/li&gt;
	&lt;li&gt;$ mvn package&lt;/li&gt;
	&lt;li&gt;$ java -jar target/ntlm-prototype-1.0-SNAPSHOT.jar &lt;a href=&quot;https://ntlm.herokuapp.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ntlm.herokuapp.com&lt;/a&gt; user pass domain&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13119049">HTTPCLIENT-1881</key>
            <summary>NTLM authentication against ntlm.herokuapp.com</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwright@metacarta.com">Karl Wright</assignee>
                                    <reporter username="marcelstoer">Marcel St&#246;r</reporter>
                        <labels>
                            <label>authentication</label>
                            <label>ntlm</label>
                    </labels>
                <created>Thu, 16 Nov 2017 22:23:49 +0000</created>
                <updated>Wed, 15 Aug 2018 17:55:23 +0000</updated>
                            <resolved>Sat, 18 Nov 2017 11:57:58 +0000</resolved>
                                    <version>4.5.3</version>
                                    <fixVersion>4.5.4</fixVersion>
                    <fixVersion>5.0 Alpha3</fixVersion>
                                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16256067" author="marcelstoer" created="Thu, 16 Nov 2017 22:29:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt; I noticed you&apos;re the only one who contributed significantly to &lt;tt&gt;NTLMEngineImpl&lt;/tt&gt;. Thus you&apos;re likely the only one with enough insight to judge whether this is indeed a bug or a valid but unsupported NTLM message format. I wish I didn&apos;t have to deal with NTLM but I&apos;m forced to.&lt;/p&gt;</comment>
                            <comment id="16256075" author="kwright@metacarta.com" created="Thu, 16 Nov 2017 22:34:42 +0000"  >&lt;p&gt;We&apos;ve not had any issue with NTLM at the protocol level for the better part of a decade or so.  I notice that the NTLM engine on the other side seems to not be a Microsoft implementation but rather something called &quot;Server: WEBrick/1.3.1 (Ruby/2.0.0/2014-09-19)&lt;span class=&quot;error&quot;&gt;&amp;#91;\r&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;\n&amp;#93;&lt;/span&gt;&quot;.  I will have a look to see what is happening but there&apos;s a good chance that the implementation is not adhering to the appropriate standards.&lt;/p&gt;</comment>
                            <comment id="16256085" author="marcelstoer" created="Thu, 16 Nov 2017 22:42:02 +0000"  >&lt;p&gt;Thank you so much for looking into this Karl!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We&apos;ve not had any issue with NTLM at the protocol level for the better part of a decade or so.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s why I was so very reluctant to classify this as a bug in the first place. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;the NTLM engine on the other side seems to not be a Microsoft implementation&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Correct, as we don&apos;t have a MS system in house for testing we went looking for a publicly available dummy server. &lt;a href=&quot;https://ntlm.herokuapp.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ntlm.herokuapp.com&lt;/a&gt; is what we found.&lt;/p&gt;

&lt;p&gt;Btw, the reason why I&apos;m trying to use Apache HTTP client rather than the JVM&apos;s &lt;tt&gt;Authenticator.setDefault()&lt;/tt&gt; (which works with that dummy server) is &lt;a href=&quot;https://stackoverflow.com/q/47197941/131929:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/q/47197941/131929:&lt;/a&gt; that approach doesn&apos;t work with WebLogic Server.&lt;/p&gt;</comment>
                            <comment id="16256091" author="kwright@metacarta.com" created="Thu, 16 Nov 2017 22:47:49 +0000"  >&lt;p&gt;The exception is being thrown while unpacking one of the NTLM response messages from the server.  Here&apos;s the code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; readULong(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; index + 4) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NTLMEngineException(&lt;span class=&quot;code-quote&quot;&gt;&quot;NTLM authentication - buffer too small &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; DWORD&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (src[index] &amp;amp; 0xff) | ((src[index + 1] &amp;amp; 0xff) &amp;lt;&amp;lt; 8)
                | ((src[index + 2] &amp;amp; 0xff) &amp;lt;&amp;lt; 16) | ((src[index + 3] &amp;amp; 0xff) &amp;lt;&amp;lt; 24);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; readUShort(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; index + 2) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NTLMEngineException(&lt;span class=&quot;code-quote&quot;&gt;&quot;NTLM authentication - buffer too small &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; WORD&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (src[index] &amp;amp; 0xff) | ((src[index + 1] &amp;amp; 0xff) &amp;lt;&amp;lt; 8);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] readSecurityBuffer(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length = readUShort(src, index);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; offset = readULong(src, index + 4);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; offset + length) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NTLMEngineException(
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;NTLM authentication - buffer too small &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; data item&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] buffer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[length];
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.arraycopy(src, offset, buffer, 0, length);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; buffer;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically, there&apos;s a required message field in the server response for which there&apos;s no data in the buffer from the server.&lt;/p&gt;

&lt;p&gt;It&apos;s possible that Microsoft clients silently eat this error and just treat such fields as having a &quot;0&quot; value.  That&apos;s something that&apos;s pretty easy to explore by modifying the above code in NTLMEngineImpl.java to look something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; readULong(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; index + 4) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (src[index] &amp;amp; 0xff) | ((src[index + 1] &amp;amp; 0xff) &amp;lt;&amp;lt; 8)
                | ((src[index + 2] &amp;amp; 0xff) &amp;lt;&amp;lt; 16) | ((src[index + 3] &amp;amp; 0xff) &amp;lt;&amp;lt; 24);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; readUShort(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; index + 2) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (src[index] &amp;amp; 0xff) | ((src[index + 1] &amp;amp; 0xff) &amp;lt;&amp;lt; 8);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] readSecurityBuffer(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] src, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NTLMEngineException {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length = readUShort(src, index);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; offset = readULong(src, index + 4);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (src.length &amp;lt; offset + length) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[length];
        }
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] buffer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[length];
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.arraycopy(src, offset, buffer, 0, length);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; buffer;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you would be so kind as to check out the appropriate sources and make this change to see whether it works, that would be very helpful, and I&apos;d be glad to commit it if it works.  If you don&apos;t have time, I may be able to get to it myself this weekend but not before.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;
</comment>
                            <comment id="16256679" author="marcelstoer" created="Fri, 17 Nov 2017 09:00:57 +0000"  >&lt;p&gt;That looks sane, thanks. I implemented the changes but I&apos;m currently stuck with the Maven build:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- download-maven-plugin:1.2.0:wget (download-public-suffix-list) @ httpclient ---
Downloading: https://publicsuffix.org/list//effective_tld_names.dat
javax.net.ssl.SSLException: hostname in certificate didn&apos;t match: &amp;lt;publicsuffix.org&amp;gt; != &amp;lt;generic-san.mozilla.org&amp;gt; OR &amp;lt;generic-san.mozilla.org&amp;gt; OR &amp;lt;www.seamonkey-project.org&amp;gt; OR &amp;lt;planet.bugzilla.org&amp;gt; OR &amp;lt;moztrap.mozilla.org&amp;gt; OR &amp;lt;except.flashallow.itisatrap.org&amp;gt; OR &amp;lt;pto.mozilla.org&amp;gt; OR &amp;lt;webfwd.net&amp;gt; OR &amp;lt;fb-affiliates.mozilla.org&amp;gt; OR &amp;lt;seamonkeyproject.org&amp;gt; OR &amp;lt;m.wiki.mozilla.org&amp;gt; OR &amp;lt;www.itisatrap.org&amp;gt; OR &amp;lt;planet.mozilla.de&amp;gt; OR &amp;lt;calendar.mozilla.org&amp;gt; OR &amp;lt;itisatrap.org&amp;gt; OR &amp;lt;securitywiki.mozilla.org&amp;gt; OR &amp;lt;except.flashblock.itisatrap.org&amp;gt; OR &amp;lt;planet.firefox.com&amp;gt; OR &amp;lt;www.getfirebug.com&amp;gt; OR &amp;lt;except.flashsubdoc.itisatrap.org&amp;gt; OR &amp;lt;www.webfwd.org&amp;gt; OR &amp;lt;planet.mozilla.org&amp;gt; OR &amp;lt;air.mozilla.org&amp;gt; OR &amp;lt;flashblock.itisatrap.org&amp;gt; OR &amp;lt;getfirebug.com&amp;gt; OR &amp;lt;passwordreset.mozilla.org&amp;gt; OR &amp;lt;broker.thunderbird.net&amp;gt; OR &amp;lt;flashallow.itisatrap.org&amp;gt; OR &amp;lt;iplimit.irc.mozilla.org&amp;gt; OR &amp;lt;www.webfwd.net&amp;gt; OR &amp;lt;flashsubdoc.itisatrap.org&amp;gt; OR &amp;lt;phonebook.mozilla.org&amp;gt; OR &amp;lt;planet.webmademovies.org&amp;gt; OR &amp;lt;outgoing.mozilla.org&amp;gt; OR &amp;lt;www.mozilla-europe.org&amp;gt; OR &amp;lt;wiki.mozilla.org&amp;gt; OR &amp;lt;seamonkey-project.org&amp;gt; OR &amp;lt;krakenbenchmark.mozilla.org&amp;gt; OR &amp;lt;intranet.mozilla.org&amp;gt; OR &amp;lt;www.seamonkeyproject.org&amp;gt; OR &amp;lt;mozilla-europe.org&amp;gt; OR &amp;lt;mx.thunderbird.net&amp;gt; OR &amp;lt;webfwd.org&amp;gt;
	at org.apache.maven.wagon.providers.http.httpclient.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:231)
	at org.apache.maven.wagon.providers.http.httpclient.conn.ssl.BrowserCompatHostnameVerifier.verify(BrowserCompatHostnameVerifier.java:54)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That is from &lt;tt&gt;httpclient/pom.xml&lt;/tt&gt;. I was checking &lt;a href=&quot;https://hc.apache.org/dev-docs.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/dev-docs.html&lt;/a&gt; for any special settings I&apos;d need but didn&apos;t find anything. So, I&apos;ll need more time to figure it out.&lt;/p&gt;

&lt;p&gt;The cert for publicsuffix.org uses &quot;redirect-san.mozilla.org&quot; as a common name - not an option in the list above.&lt;/p&gt;</comment>
                            <comment id="16256812" author="olegk" created="Fri, 17 Nov 2017 10:37:09 +0000"  >&lt;p&gt;I remember seeing that problem but do not quite remember the exact cause of it. Try upgrading Maven HTTP wagon or use newer Maven version.&lt;/p&gt;

&lt;p&gt;Oleg &lt;/p&gt;</comment>
                            <comment id="16257289" author="marcelstoer" created="Fri, 17 Nov 2017 17:41:59 +0000"  >&lt;p&gt;Spot on - both of you!&lt;/p&gt;

&lt;p&gt;I updated Maven (which transiently updated wagon) and was able to build a new JAR. Thanks Oleg.&lt;/p&gt;

&lt;p&gt;Then I ran my test client against the version with Karl&apos;s fix. Hurray! It works.&lt;/p&gt;</comment>
                            <comment id="16257591" author="kwright@metacarta.com" created="Fri, 17 Nov 2017 21:21:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;, if I wanted to check something into the 4.5.x branch these days, is it on svn, or is it in git?  If in git, what&apos;s the base URL?&lt;/p&gt;
</comment>
                            <comment id="16257597" author="kwright@metacarta.com" created="Fri, 17 Nov 2017 21:27:12 +0000"  >&lt;p&gt;Here&apos;s the patch to apply.&lt;/p&gt;</comment>
                            <comment id="16258017" author="olegk" created="Sat, 18 Nov 2017 10:33:46 +0000"  >&lt;p&gt;All HttpComponents active projects got migrated to Git some while ago. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf/httpcomponents-client.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf/httpcomponents-client.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please let me know if you want me to commit the patch on your behalf.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;Oleg &lt;/p&gt;</comment>
                            <comment id="16258029" author="jira-bot" created="Sat, 18 Nov 2017 11:37:39 +0000"  >&lt;p&gt;Commit 42359353a23005b2c12aaa2f98db6c3a47cc53a8 in httpcomponents-client&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=4235935&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=4235935&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1881&quot; title=&quot;NTLM authentication against ntlm.herokuapp.com&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1881&quot;&gt;&lt;del&gt;HTTPCLIENT-1881&lt;/del&gt;&lt;/a&gt;: Allow truncated NTLM packets to work with this client.&lt;/p&gt;</comment>
                            <comment id="16258039" author="jira-bot" created="Sat, 18 Nov 2017 11:55:14 +0000"  >&lt;p&gt;Commit f8a26dffded21be28e1c1ae73f12bb0f42ad29f2 in httpcomponents-client&apos;s branch refs/heads/4.6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=f8a26df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=f8a26df&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1881&quot; title=&quot;NTLM authentication against ntlm.herokuapp.com&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1881&quot;&gt;&lt;del&gt;HTTPCLIENT-1881&lt;/del&gt;&lt;/a&gt;: Allow truncated NTLM packets to work with this client.&lt;/p&gt;</comment>
                            <comment id="16258043" author="jira-bot" created="Sat, 18 Nov 2017 11:56:14 +0000"  >&lt;p&gt;Commit 97eee9e0e0adcb917db20550225db717238f6982 in httpcomponents-client&apos;s branch refs/heads/4.5.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=97eee9e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-client.git;h=97eee9e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1881&quot; title=&quot;NTLM authentication against ntlm.herokuapp.com&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1881&quot;&gt;&lt;del&gt;HTTPCLIENT-1881&lt;/del&gt;&lt;/a&gt;: Allow truncated NTLM packets to work with this client.&lt;/p&gt;</comment>
                            <comment id="16258044" author="kwright@metacarta.com" created="Sat, 18 Nov 2017 11:57:14 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;, I just needed to know what the big picture is now.  Everything should be committed.&lt;/p&gt;</comment>
                            <comment id="16258047" author="marcelstoer" created="Sat, 18 Nov 2017 12:01:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; JIRA doesn&apos;t say anything about a planned release date for 4.5.4, is there one?&lt;/p&gt;</comment>
                            <comment id="16258132" author="olegk" created="Sat, 18 Nov 2017 17:47:46 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwright%40metacarta.com&quot; class=&quot;user-hover&quot; rel=&quot;kwright@metacarta.com&quot;&gt;kwright@metacarta.com&lt;/a&gt; Thank you so much!&lt;br/&gt;
@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcelstoer&quot; class=&quot;user-hover&quot; rel=&quot;marcelstoer&quot;&gt;marcelstoer&lt;/a&gt; After 5.0 alpha3 release. This is all I can say.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12898278" name="HTTPCLIENT-1881.patch" size="1598" author="kwright@metacarta.com" created="Fri, 17 Nov 2017 21:26:53 +0000"/>
                            <attachment id="12898066" name="msr-ntlm-prototype.zip" size="27404" author="marcelstoer" created="Thu, 16 Nov 2017 22:22:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mwbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>