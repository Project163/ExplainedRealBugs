<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:21:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCLIENT-1960] URIBuilder incorrect handling of multiple leading slashes in path component</title>
                <link>https://issues.apache.org/jira/browse/HTTPCLIENT-1960</link>
                <project id="12310360" key="HTTPCLIENT">HttpComponents HttpClient</project>
                    <description>&lt;p&gt;If original path startsWith &apos;/&apos; it is removed by normalizePath; in that case it should be added again URI-encoded. For example: A path value of &apos;/etc/motd&apos; becomes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ftp:&lt;span class=&quot;code-comment&quot;&gt;//myname@host.dom/etc/motd&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while it should be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ftp:&lt;span class=&quot;code-comment&quot;&gt;//myname@host.dom/%2Fetc/motd&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Only when the path value is &apos;etc/motd&apos; is should become &quot;ftp://myname@host.dom/etc/motd&quot;&lt;br/&gt;
 &#160;&lt;/p&gt;

&lt;p&gt;Fix for this issue in URIBuilder.java:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;private String buildString() {
...
    if (this.encodedPath != null) {
        sb.append(normalizePath(this.encodedPath, sb.length() == 0));
    } else if (this.path != null) {
        String encodedPath = encodePath(normalizePath(this.path, sb.length() == 0));
        // Start fix for paths starting with &apos;/&apos;
        // If original path startsWith &apos;/&apos; it is removed by normalizePath; in that case it should be added again URI-encoded.
        if (this.path.startsWith(&quot;/&quot;)) {
            encodedPath = &quot;/%2F&quot; + encodedPath.substring(1);
        }
        // End fix
        sb.append(encodedPath);
    }
...
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13208963">HTTPCLIENT-1960</key>
            <summary>URIBuilder incorrect handling of multiple leading slashes in path component</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olegk">Oleg Kalnichevski</assignee>
                                    <reporter username="rmcuenen">Raymond Cuenen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2019 10:15:01 +0000</created>
                <updated>Tue, 25 Jun 2019 09:49:55 +0000</updated>
                            <resolved>Mon, 14 Jan 2019 10:08:32 +0000</resolved>
                                    <version>4.5.5</version>
                                    <fixVersion>4.5.7</fixVersion>
                    <fixVersion>5.0 Beta4</fixVersion>
                                    <component>HttpClient (async)</component>
                    <component>HttpClient (classic)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16740262" author="olegk" created="Fri, 11 Jan 2019 10:23:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;in that case it should be added again URI-encoded&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why?&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16740328" author="rmcuenen" created="Fri, 11 Jan 2019 12:01:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;RFC 3986: The path component of a URI consists of&#160;a sequence of path segments separated by a slash.&#160;&#160;If an authority component is present, then the path component must either be empty or begin with a slash. If an authority component is absent, then the path cannot begin with an empty segment, that is with two slashes.&lt;/p&gt;

&lt;p&gt;So if your path represents an absolute (file-)path; beginning with a slash, there is no other way to represent the first slash of the path other then URI-encoded (%2F). When using two slashes makes the first part of the path the authority component (when no authority present), or inserts an empty path segment into the path representation (when an authority is present).&lt;/p&gt;</comment>
                            <comment id="16740364" author="olegk" created="Fri, 11 Jan 2019 13:09:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;If an authority component is present, then the path component must either be empty or begin with a slash&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In your example the absolute path does begin with a slash. Adding an extra URI-encoded slash character makes no sense of what so ever.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16740388" author="rmcuenen" created="Fri, 11 Jan 2019 13:45:58 +0000"  >&lt;p&gt;No, the path component starts with a slash, or an empty path segment, as there is an authority component present. This will be ignored by the ftp-server (in this case), making the path relative (etc/motd) instead of absolute (/etc/motd).&lt;/p&gt;</comment>
                            <comment id="16740399" author="olegk" created="Fri, 11 Jan 2019 13:53:34 +0000"  >&lt;blockquote&gt;&lt;p&gt; No, the path component starts with a slash &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So it does. I cannot say what FTP servers do but the URI generated by &lt;tt&gt;URIBuilder&lt;/tt&gt; conforms to the &lt;tt&gt;RFC 3986&lt;/tt&gt; .If you a particular FTP server expects an extra &lt;tt&gt;%2F&lt;/tt&gt; sequence please add it manually.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
&lt;b&gt;Correction&lt;/b&gt;: My statement about &lt;tt&gt;URIBuilder&lt;/tt&gt; conformance to RFC 3986 was wrong, as later pointed out by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmcuenen&quot; class=&quot;user-hover&quot; rel=&quot;rmcuenen&quot;&gt;rmcuenen&lt;/a&gt;. Both &lt;tt&gt;java.net.URI&lt;/tt&gt; and &lt;tt&gt;URIBuilder&lt;/tt&gt; presently conform to RFC 2396 only.&lt;/p&gt;</comment>
                            <comment id="16740468" author="rmcuenen" created="Fri, 11 Jan 2019 15:07:08 +0000"  >&lt;p&gt;Yes the &lt;tt&gt;URIBuilder&lt;/tt&gt; does conform to the RFC 3986 in the end. But the calls &lt;tt&gt;setPath(&quot;/etc/motd&quot;)&lt;/tt&gt; and &lt;tt&gt;setPath(&quot;etc/motd&quot;)&lt;/tt&gt; both result in the same URI, while they are different. Even &lt;tt&gt;setPath(&quot;//etc/motd&quot;)&lt;/tt&gt; will have the same result.&lt;br/&gt;
An extra %2F cannot be added manually because &lt;tt&gt;setPath(&quot;/%2Fetc/motd&quot;)&lt;/tt&gt; results in &lt;tt&gt;&quot;/%252Fetc/motd&quot;&lt;/tt&gt; because the path will be (correctly) URI-encoded.&lt;/p&gt;</comment>
                            <comment id="16740474" author="rmcuenen" created="Fri, 11 Jan 2019 15:11:35 +0000"  >&lt;p&gt;There should be a function added to set an &quot;escaped&quot; path instead of only &quot;unescaped&quot; paths&lt;/p&gt;</comment>
                            <comment id="16740476" author="olegk" created="Fri, 11 Jan 2019 15:20:44 +0000"  >&lt;p&gt;The RFC clearly states that when the authority component is present the path component must start with a slash or be empty, which effectively implies an absolute path. This is why &lt;tt&gt;setPath(&quot;etc/motd&quot;)&lt;/tt&gt; becomes &lt;tt&gt;setPath(&quot;/etc/motd&quot;)&lt;/tt&gt;. If the FTP in question wants to perform file operations relative to the current directly it needs to support relative URIs and not invent a funny double slash notation. &lt;/p&gt;

&lt;p&gt;Please use do not re-open ticket.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16740589" author="rmcuenen" created="Fri, 11 Jan 2019 17:48:17 +0000"  >&lt;p&gt;The issue is not the FTP in question, that&apos;s only an example.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;URIBuilder&lt;/tt&gt; class does not allow you to specify empty path segments at the beginning of the path component.&lt;br/&gt;
It is not that &lt;tt&gt;setPath(&quot;etc/motd&quot;)&lt;/tt&gt; becomes &lt;tt&gt;setPath(&quot;/etc/motd&quot;)&lt;/tt&gt;. Although this is basically saying &quot;a path &lt;b&gt;always&lt;/b&gt; has to start with a slash&quot;, which is technically not required.&lt;br/&gt;
The issue it that &lt;tt&gt;setPath(&quot;//etc/motd&quot;)&lt;/tt&gt; also becomes &lt;tt&gt;setPath(&quot;/etc/motd&quot;)&lt;/tt&gt;. Now a slash is removed instead of added.&lt;/p&gt;</comment>
                            <comment id="16741204" author="olegk" created="Sat, 12 Jan 2019 09:53:42 +0000"  >&lt;p&gt;This is called URI normalization&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
URI uri = URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//myname@host.dom//etc/motd&quot;&lt;/span&gt;);
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(uri);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(uri.normalize());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ftp://myname@host.dom//etc/motd
ftp://myname@host.dom/etc/motd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What we could do I suppose is adding a means of disabling URI normalization.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16741294" author="rmcuenen" created="Sat, 12 Jan 2019 13:55:40 +0000"  >&lt;p&gt;Ah ok.&lt;/p&gt;

&lt;p&gt;I cannot find anything other then dot-removal for path normalization in RFC 3986, however the javadoc of the &lt;tt&gt;java.net.URI&lt;/tt&gt; normalize method says:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;A normal path string has no empty segments, no segments equal to &quot;.&quot;, and no segments equal to &quot;..&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In that case the normalization of the &lt;tt&gt;URIBuilder&lt;/tt&gt; is incomplete, because only the first empty segments are removed; &lt;tt&gt;&quot;//etc//motd&quot;&lt;/tt&gt; becomes &lt;tt&gt;&quot;/etc//motd&quot;&lt;/tt&gt;, while with &lt;tt&gt;URI.normalize()&lt;/tt&gt;; &lt;tt&gt;&quot;//etc//motd&quot;&lt;/tt&gt; becomes &lt;tt&gt;&quot;/etc/motd&quot;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Apart from that, I would not expect an URI builder / parser to perform implicit normalization since it is optional. Your suggestion to make normalization explicit would be an improvement.&lt;/p&gt;</comment>
                            <comment id="16741329" author="jira-bot" created="Sat, 12 Jan 2019 16:22:11 +0000"  >&lt;p&gt;Commit 8c04c6ae5e5ba1432e40684428338ce68431766b in httpcomponents-client&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1960&quot; title=&quot;URIBuilder incorrect handling of multiple leading slashes in path component&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1960&quot;&gt;&lt;del&gt;HTTPCLIENT-1960&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=8c04c6a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=8c04c6a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1960&quot; title=&quot;URIBuilder incorrect handling of multiple leading slashes in path component&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1960&quot;&gt;&lt;del&gt;HTTPCLIENT-1960&lt;/del&gt;&lt;/a&gt;: URIBuilder incorrect handling of multiple leading slashes in path component&lt;/p&gt;</comment>
                            <comment id="16741330" author="olegk" created="Sat, 12 Jan 2019 16:23:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmcuenen&quot; class=&quot;user-hover&quot; rel=&quot;rmcuenen&quot;&gt;rmcuenen&lt;/a&gt; Please review / test.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/httpcomponents-client/commit/8c04c6ae5e5ba1432e40684428338ce68431766b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-client/commit/8c04c6ae5e5ba1432e40684428338ce68431766b&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16741588" author="rmcuenen" created="Sun, 13 Jan 2019 14:25:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; I think the &lt;tt&gt;URIBuilder&lt;/tt&gt; class is mainly designed for the use with the &lt;tt&gt;java.net.URI&lt;/tt&gt; class, while I&apos;m using it to construct a valid URI string based upon user input (in this case to configure a Camel endpoint).&lt;/p&gt;

&lt;p&gt;I did some more research and found that the &lt;tt&gt;java.net.URI&lt;/tt&gt; class is actually based upon RFC 2396; where the URI was first defined, and not on the RFC 3986; where the URI definition was finalized. There&apos;s a major difference on what is called the &quot;path component&quot; between the two RFC&apos;s.&lt;/p&gt;

&lt;p&gt;In RFC 2396 all paths are basically absolute; &lt;tt&gt;abs_path = &quot;/&quot; path_segments&lt;/tt&gt;, or you could consider them relative by interpreting the first &quot;/&quot; as component separator. When the first &quot;/&quot; is omitted the &lt;tt&gt;hier_part&lt;/tt&gt; turns into a &lt;tt&gt;opaque_part&lt;/tt&gt;, at which point no further parsing takes place.&lt;br/&gt;
 This requires that the path component of an URI always starts with a slash, as implemented in &lt;tt&gt;URIBuilder#normalize&lt;/tt&gt; and tested in &lt;tt&gt;testPathNoLeadingSlash&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;In RFC 3986 all paths belong to the &lt;tt&gt;hier-part&lt;/tt&gt;, since there is no opaque-part; so paths can be &lt;tt&gt;path-absolute&lt;/tt&gt;, &lt;tt&gt;path-rootless&lt;/tt&gt; or &lt;tt&gt;path-empty&lt;/tt&gt;. There&apos;s a special case for when there is an authority component present; the path component must start with a slash, making that first &quot;/&quot; basically a component separator. There&apos;s also a special case for when no authority component is present and the path component starts with &quot;//&quot;; this is not allowed, but can be worked around with by percent-encoding one of the two slashes.&lt;/p&gt;

&lt;p&gt;Both RFC&apos;s allow for as many empty path segments as you like, which is honored now also in the &lt;tt&gt;URIBuilder&lt;/tt&gt; implementation. However, there might be scheme-specific constraints on the syntax of the path component or what is allowed. I&apos;m not sure if there are any for &lt;tt&gt;http&lt;/tt&gt; though (its main use?).&lt;br/&gt;
 At least this &lt;tt&gt;URIBuilder&lt;/tt&gt; is (now) a generic URI builder, usable in many contexts other then &lt;tt&gt;http&lt;/tt&gt;. But be advised that because of &lt;tt&gt;java.net.URI&lt;/tt&gt; it is RFC 2396 compliant and not necessarily RFC 3986.&lt;br/&gt;
 Take this test for example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testPathNoAuthorityMultipleLeadingSlash() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URI uri = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URIBuilder()
            .setScheme(&lt;span class=&quot;code-quote&quot;&gt;&quot;ftp&quot;&lt;/span&gt;)
            .setPath(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;//blah&quot;&lt;/span&gt;)
&lt;/span&gt;            .build();
    Assert.assertThat(uri, CoreMatchers.equalTo(URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//blah&quot;&lt;/span&gt;)));
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The test succeeds, but the resulting URI has an empty path and a host with the value &quot;blah&quot;. This is technically not what was entered into the builder.&lt;/p&gt;</comment>
                            <comment id="16741596" author="michael-o" created="Sun, 13 Jan 2019 15:41:37 +0000"  >&lt;p&gt;I somewhat support &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmcuenen&quot; class=&quot;user-hover&quot; rel=&quot;rmcuenen&quot;&gt;rmcuenen&lt;/a&gt;, &lt;tt&gt;java.net.URI&lt;/tt&gt; is unusable these days because it implements old RFCs only. I have constant issues with it in several Maven components. Just the fact that &lt;tt&gt;URI#toString()&lt;/tt&gt; is invalid and one has to use &lt;tt&gt;#toASCIIString()&lt;/tt&gt; simply shows that this class is flawed.&lt;/p&gt;

&lt;p&gt;But I am, by far, not an expert on RFC 3986.&lt;/p&gt;</comment>
                            <comment id="16741603" author="garydgregory" created="Sun, 13 Jan 2019 16:20:34 +0000"  >&lt;p&gt;Should we then implement our own URI class for the current RFC?&lt;/p&gt;</comment>
                            <comment id="16741615" author="michael-o" created="Sun, 13 Jan 2019 17:35:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, that would be awesome, but I&apos;d rather see something at Apache top-level because others suffer from &lt;tt&gt;java.net.URI&lt;/tt&gt; too.&lt;/p&gt;</comment>
                            <comment id="16741616" author="olegk" created="Sun, 13 Jan 2019 17:45:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmcuenen&quot; class=&quot;user-hover&quot; rel=&quot;rmcuenen&quot;&gt;rmcuenen&lt;/a&gt; &lt;blockquote&gt;&lt;p&gt; The test succeeds, but the resulting URI has an empty path and a host with the value &quot;blah&quot;. This is technically not what was entered into the builder. &lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;But what does &lt;tt&gt;&lt;a href=&quot;ftp://blah&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://blah&lt;/a&gt;&lt;/tt&gt; represent exactly? Is it a scheme and a path or is it a scheme and a host?&lt;/p&gt;

&lt;p&gt;Tolerance to multiple consecutive slashes in paths is 1. &lt;b&gt;silly and pointless&lt;/b&gt; 2. leads to ambiguity like above. &lt;/p&gt;

&lt;p&gt;We could disallow double leading slashes in case of the authority component is missing similar to what &lt;tt&gt;java.net.URI&lt;/tt&gt; constructors do, but it feels shoddy and more importantly it does not resolve ambiguity when parsing such URIs.&lt;/p&gt;

&lt;p&gt;Oleg &lt;/p&gt;
</comment>
                            <comment id="16741657" author="garydgregory" created="Sun, 13 Jan 2019 21:21:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt; HttpCore is it, there is no &quot;top-level&quot; Apache project.&lt;/p&gt;</comment>
                            <comment id="16741665" author="michael-o" created="Sun, 13 Jan 2019 21:47:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, you expect to pull in entire HttpCore just to have a decent URI class?&lt;/p&gt;</comment>
                            <comment id="16741787" author="rmcuenen" created="Mon, 14 Jan 2019 06:24:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;But what does &lt;a href=&quot;ftp://blah&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://blah&lt;/a&gt; represent exactly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;On its own it represents a sheme (ftp) and an authority component; of which the userinfo and port are empty, leaving only a host (blah), and an empty path. If it is meant that the path should represent &quot;//blah&quot;; in this case an empty authority component could be added; making the URI &quot;ftp:////blah&quot;.&lt;/p&gt;

&lt;p&gt;That might look silly, but are absolutely legal generic URI&apos;s, which can have perfectly reasonable meanings in the context of the used scheme&apos;s.&lt;br/&gt;
The URI in question here is not ambiguous. I think the ambiguity arises from expecting a URI to be RFC 3986 while in fact it is RFC 2396.&lt;/p&gt;</comment>
                            <comment id="16741858" author="jira-bot" created="Mon, 14 Jan 2019 08:38:18 +0000"  >&lt;p&gt;Commit 8c04c6ae5e5ba1432e40684428338ce68431766b in httpcomponents-client&apos;s branch refs/heads/4.5.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=8c04c6a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=8c04c6a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1960&quot; title=&quot;URIBuilder incorrect handling of multiple leading slashes in path component&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1960&quot;&gt;&lt;del&gt;HTTPCLIENT-1960&lt;/del&gt;&lt;/a&gt;: URIBuilder incorrect handling of multiple leading slashes in path component&lt;/p&gt;</comment>
                            <comment id="16741859" author="jira-bot" created="Mon, 14 Jan 2019 08:38:20 +0000"  >&lt;p&gt;Commit 7add08fb69426891e14133afc0a3314d45aaba66 in httpcomponents-client&apos;s branch refs/heads/4.5.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=7add08f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=7add08f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1960&quot; title=&quot;URIBuilder incorrect handling of multiple leading slashes in path component&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1960&quot;&gt;&lt;del&gt;HTTPCLIENT-1960&lt;/del&gt;&lt;/a&gt;&apos; into 4.5.x&lt;/p&gt;</comment>
                            <comment id="16741860" author="jira-bot" created="Mon, 14 Jan 2019 08:38:35 +0000"  >&lt;p&gt;Commit 123bd993cff822e02242197a24f47ee36bfa3744 in httpcomponents-client&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=123bd99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=123bd99&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1960&quot; title=&quot;URIBuilder incorrect handling of multiple leading slashes in path component&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCLIENT-1960&quot;&gt;&lt;del&gt;HTTPCLIENT-1960&lt;/del&gt;&lt;/a&gt;: URIBuilder incorrect handling of multiple leading slashes in path component&lt;/p&gt;</comment>
                            <comment id="16741899" author="garydgregory" created="Mon, 14 Jan 2019 09:56:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michael-o&quot; class=&quot;user-hover&quot; rel=&quot;michael-o&quot;&gt;michael-o&lt;/a&gt; What is the alternative you propose? A new project? What else would be in it? Eventually that project would grow and people would ask the same question: I have pull in that project just to get the one class? Sure there is also Apache Commons Net and Commons Lang, which could be a home for such a class, but then what? Would you make HttoClient depend on one of those? I would think that a new URI class might be handy to use within HttpCore and HttpClient if the one provided by the JRE is so old.&lt;/p&gt;</comment>
                            <comment id="16756198" author="michael-o" created="Wed, 30 Jan 2019 14:57:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, as for the HttpComponents it could be a class in it, but looking at it from the top, I&apos;d like to see this rather as a dependency, not commons net or lang, they are just too big already. I&apos;d code toss out all the crappy URI parsing in all Maven compoments. Most are just broken..especially in Wagon and SCM.&lt;/p&gt;</comment>
                            <comment id="16756327" author="garydgregory" created="Wed, 30 Jan 2019 16:58:11 +0000"  >&lt;p&gt;I&apos;m not sure I buy the component size argument. The right home is the right home IMO, here or in Commons.&lt;/p&gt;</comment>
                            <comment id="16758239" author="michael-o" created="Fri, 1 Feb 2019 11:43:22 +0000"  >&lt;p&gt;Then Commons for everyone to benefit. Most people simply won&apos;t search for this in HttpComponents.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13212645">HTTPCLIENT-1968</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13227800">HTTPCLIENT-1983</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|u00qlk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>