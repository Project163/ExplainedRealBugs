<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:32:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FTPSERVER-181] The UserManager#authenticate() method lacks of documentation</title>
                <link>https://issues.apache.org/jira/browse/FTPSERVER-181</link>
                <project id="10571" key="FTPSERVER">FtpServer</project>
                    <description>&lt;p&gt;The UserManager interface documentation should be a form of contract between the implementor and the user of the interface.&lt;br/&gt;
After reading the documentation the implementor still has these question:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;when I should throw a AuthenticationFailedException?&lt;/li&gt;
	&lt;li&gt;when I should return a null as a result?&lt;/li&gt;
	&lt;li&gt;if the object receive two subsequent calls withe the same arguments the objects returned should be the same (same reference), only equals, or they can be different?&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12404828">FTPSERVER-181</key>
            <summary>The UserManager#authenticate() method lacks of documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="niklas">Niklas Therning</assignee>
                                    <reporter username="andreafrancia">Andrea Francia</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Sep 2008 21:48:20 +0000</created>
                <updated>Mon, 6 Oct 2008 21:45:35 +0000</updated>
                            <resolved>Mon, 6 Oct 2008 21:45:35 +0000</resolved>
                                    <version>1.0.0-M3</version>
                                    <fixVersion>1.0.0-M4</fixVersion>
                                    <component>Ftplets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12633239" author="dlatorre" created="Mon, 22 Sep 2008 12:36:15 +0000"  >&lt;p&gt;You can check the current implementations of UserManager to solve these questions so  I don&apos;t know if this should be &quot;major priority&quot;. Anyway, If you provided better documentation Im sure   Niklas will be glad to add it.&lt;/p&gt;

&lt;p&gt;My understanding is that you&apos;re only trying to point a deficiency in the documentation and not that you don&apos;t know the answers to those questions yourself. Otherwise, feel free to ask - the mailing list is too quiet anyway.&lt;/p&gt;


</comment>
                            <comment id="12633432" author="niklas" created="Mon, 22 Sep 2008 18:48:41 +0000"  >&lt;p&gt;Patches are of course welcome, if not, a general overhaul of the Javadocs is planned before 1.0.&lt;/p&gt;</comment>
                            <comment id="12633456" author="andreafrancia" created="Mon, 22 Sep 2008 19:52:27 +0000"  >&lt;p&gt;@David&lt;br/&gt;
Thanks for the hints about searching in the source code. I done so but I&apos;m not still sure about when it should return null.&lt;br/&gt;
I can provide a patch with my understanding of the method but I&apos;m not sure that my idea is the same that the orginal designer had. &lt;br/&gt;
Maybe there some instruction how to create and submit patches.&lt;/p&gt;

&lt;p&gt;In general I think that the documentation of the interfaces (and the interfaces API designing) are really a important issues. &lt;br/&gt;
A library become useful when its API is usable. I don&apos;t know if this apply to yours project.&lt;/p&gt;

&lt;p&gt;I&apos;ll subscribe the mailling list anyway.&lt;/p&gt;

&lt;p&gt;Please put my name (Andrea Francia) but not my email address somewhere in the credits if you want to use my contribution.&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Authenticate user (or not).&lt;/li&gt;
	&lt;li&gt;This method shall:&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;return a not null 
{@see User}
&lt;p&gt; object reference if the&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;authentication succeeds&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;throws a 
{@see AuthenticationFailedException}
&lt;p&gt; if the authentication&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;fails&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param authentication could be:&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;
{@see org.apache.ftpserver.usermanager.AnonymousAuthentication}
&lt;p&gt;:&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;in the case of anonymous authentication&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;
{@see org.apache.ftpserver.usermanager.UsernamePasswordAuthentication}
&lt;p&gt;:&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;in the case of a normal authentication&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws AuthenticationFailedException if the authentications fails (e.g.&lt;/li&gt;
	&lt;li&gt;wrong password, unexistent username, anonymous authentication&lt;/li&gt;
	&lt;li&gt;not accepted).&lt;/li&gt;
	&lt;li&gt;@return the authenticated user (must be not null)&lt;br/&gt;
     */&lt;br/&gt;
    User authenticate(Authentication authentication)&lt;br/&gt;
            throws AuthenticationFailedException;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12633475" author="niklas" created="Mon, 22 Sep 2008 20:21:39 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;This page describes how to contribute, note that it is important that if you provide a patch that you check the radio button to allow your patch for inclusion in ASF software.&lt;br/&gt;
&lt;a href=&quot;http://apache.org/dev/contributors.html#patches&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache.org/dev/contributors.html#patches&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We do not normally put contributor names in source files, but I&apos;ll happily list you as a contributor in our POM (I&apos;ll make sure to not include your email address). Could you please provide the above improvment as patch and add it as an attachment to this issue and I&apos;ll commit it.&lt;/p&gt;

&lt;p&gt;Again, thanks for your work!&lt;/p&gt;</comment>
                            <comment id="12637252" author="niklas" created="Mon, 6 Oct 2008 21:34:40 +0000"  >&lt;p&gt;Patch provided by Andrea Francia on the mailing list, with approval for inclusion in the code:&lt;/p&gt;


&lt;p&gt;Index: core/src/test/java/org/apache/ftpserver/usermanager/UserManagerTestTemplate.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; core/src/test/java/org/apache/ftpserver/usermanager/UserManagerTestTemplate.java    (revision 701896)&lt;br/&gt;
+++ core/src/test/java/org/apache/ftpserver/usermanager/UserManagerTestTemplate.java    (working copy)&lt;br/&gt;
@@ -47,6 +47,7 @@&lt;br/&gt;
     *&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@see junit.framework.TestCase#setUp()&lt;br/&gt;
     */&lt;br/&gt;
+    @Override&lt;br/&gt;
    protected void setUp() throws Exception 
{
        userManager = createUserManager();
    }
&lt;p&gt;@@ -86,7 +87,7 @@&lt;br/&gt;
                .authenticate(new UsernamePasswordAuthentication(&quot;user3&quot;, null)));&lt;br/&gt;
    }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static class FooAuthentication implements Authentication {&lt;br/&gt;
+    private static class FooAuthentication implements Authentication {&lt;br/&gt;
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    public void testAuthenticateNullUser() throws Exception &lt;/p&gt;
{
Index: ftplet-api/src/main/java/org/apache/ftpserver/ftplet/UserManager.java
===================================================================
--- ftplet-api/src/main/java/org/apache/ftpserver/ftplet/UserManager.java       (revision 701896)
+++ ftplet-api/src/main/java/org/apache/ftpserver/ftplet/UserManager.java       (working copy)
@@ -29,48 +29,69 @@

    /**
     * Get user by name.
+     *
+     * @param username the name to search for.
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
+     * @return the user with the specified name, or null if a such user does
+     *         not exist.
     */
-    User getUserByName(String login) throws FtpException;
+    User getUserByName(String username) throws FtpException;

    /**
     * Get all user names in the system.
+     *
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
+     * @return an array of username strings, note that the result should never
+     *         be null, if there is no users the result is an empty array.
     */
    String[] getAllUserNames() throws FtpException;

    /**
     * Delete the user from the system.
     *
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
     * @throws UnsupportedOperationException
     *             if UserManager in read-only mode
     */
-    void delete(String login) throws FtpException;
+    void delete(String username) throws FtpException;

    /**
     * Save user. If a new user, create it else update the existing user.
-     *
+     *
+     * @param user the Uset to save
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
     * @throws UnsupportedOperationException
     *             if UserManager in read-only mode
     */
    void save(User user) throws FtpException;

    /**
-     * User existance check.
+     * Check if the user exists.
+     * @param username the name of the user to check.
+     * @return true if the user exist, false otherwise.
     */
-    boolean doesExist(String login) throws FtpException;
+    boolean doesExist(String username) throws FtpException;

    /**
     * Authenticate user
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
+     * @param authentication
+     * @return the autheticated account.
     */
    User authenticate(Authentication authentication)
            throws AuthenticationFailedException;

    /**
     * Get admin user name
+     * @return the admin user name
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
     */
    String getAdminName() throws FtpException;

    /**
+     * Check if the user is admin.
     * @return true if user with this login is administrator
+     * @throws FtpException when the UserManager can&apos;t fulfill the request.
     */
-    boolean isAdmin(String login) throws FtpException;
+    boolean isAdmin(String username) throws FtpException;
 }
&lt;p&gt;Index: pom.xml&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; pom.xml     (revision 701896)&lt;br/&gt;
+++ pom.xml     (working copy)&lt;br/&gt;
@@ -120,6 +120,10 @@&lt;br/&gt;
    &amp;lt;contributor&amp;gt;&lt;br/&gt;
      &amp;lt;name&amp;gt;Nick Vincent&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;/contributor&amp;gt;&lt;br/&gt;
+    &amp;lt;contributor&amp;gt;&lt;br/&gt;
+      &amp;lt;name&amp;gt;Andrea Francia&amp;lt;/name&amp;gt;&lt;br/&gt;
+      &amp;lt;url&amp;gt;&lt;a href=&quot;http://andreafrancia.blogspot.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://andreafrancia.blogspot.com&lt;/a&gt;&amp;lt;/url&amp;gt;&lt;br/&gt;
+    &amp;lt;/contributor&amp;gt;&lt;br/&gt;
  &amp;lt;/contributors&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;scm&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12637259" author="niklas" created="Mon, 6 Oct 2008 21:45:35 +0000"  >&lt;p&gt;Patch applied&lt;/p&gt;

&lt;p&gt; svn -m &quot;Improved UserManager JavaDoc. Patch by Andrea Francia (&lt;a href=&quot;https://issues.apache.org/jira/browse/FTPSERVER-181&quot; title=&quot;The UserManager#authenticate() method lacks of documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FTPSERVER-181&quot;&gt;&lt;del&gt;FTPSERVER-181&lt;/del&gt;&lt;/a&gt;)&quot; commit&lt;br/&gt;
Sending        core/src/test/java/org/apache/ftpserver/usermanager/UserManagerTestTemplate.java&lt;br/&gt;
Sending        ftplet-api/src/main/java/org/apache/ftpserver/ftplet/UserManager.java&lt;br/&gt;
Sending        pom.xml&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 702282.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vre7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>