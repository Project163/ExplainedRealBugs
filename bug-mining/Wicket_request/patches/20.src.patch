diff --git a/wicket-request/src/main/java/org/apache/wicket/request/Url.java b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
index 3059df0e9c..9daac3fb6a 100755
--- a/wicket-request/src/main/java/org/apache/wicket/request/Url.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
@@ -69,6 +69,10 @@ public final class Url implements Serializable
 	private String charsetName;
 	private transient Charset _charset;
 
+	private String protocol;
+	private Integer port;
+	private String host;
+
 	/**
 	 * 
 	 * @param qp
@@ -804,4 +808,66 @@ public final class Url implements Serializable
 		parameters.clear();
 		parameters.addAll(relative.getQueryParameters());
 	}
+
+	/**
+	 * Gets the protocol of this url (http/https/etc)
+	 * 
+	 * @return protocol or {@code null} if none has been set
+	 */
+	public String getProtocol()
+	{
+		return protocol;
+	}
+
+	/**
+	 * Sets the protocol of this url (http/https/etc)
+	 * 
+	 * @param protocol
+	 */
+	public void setProtocol(String protocol)
+	{
+		this.protocol = protocol;
+	}
+
+	/**
+	 * Gets the port of this url
+	 * 
+	 * @return port or {@code null} if none has been set
+	 */
+	public Integer getPort()
+	{
+		return port;
+	}
+
+	/**
+	 * Sets the port of this url
+	 * 
+	 * @param port
+	 */
+	public void setPort(Integer port)
+	{
+		this.port = port;
+	}
+
+	/**
+	 * Gets the host name of this url
+	 * 
+	 * @return host name or {@code null} if none is seto
+	 */
+	public String getHost()
+	{
+		return host;
+	}
+
+	/**
+	 * Sets the host name of this url
+	 * 
+	 * @param host
+	 */
+	public void setHost(String host)
+	{
+		this.host = host;
+	}
+
+
 }
diff --git a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
index 7d39a39679..cdc84c9c32 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
@@ -17,36 +17,54 @@
 package org.apache.wicket.request;
 
 import java.util.ArrayList;
+import java.util.HashMap;
 import java.util.List;
+import java.util.Map;
 
 import org.apache.wicket.util.lang.Args;
 import org.apache.wicket.util.string.PrependingStringBuffer;
+import org.apache.wicket.util.string.Strings;
 
 /**
- * Takes care of rendering relative (or in future possibly absolute - depending on configuration)
- * URLs.
+ * Takes care of rendering URLs.
  * <p>
- * All Urls are rendered relative to the base Url. Base Url is normally Url of the page being
+ * Normally Urls are rendered relative to the base Url. Base Url is normally Url of the page being
  * rendered. However, during Ajax request and redirect to buffer rendering the BaseUrl needs to be
  * adjusted.
  * 
  * @author Matej Knopp
+ * @author Igor Vaynberg
  */
 public class UrlRenderer
 {
+	private static Map<String, Integer> PROTO_TO_PORT = new HashMap<String, Integer>();
+	static
+	{
+		PROTO_TO_PORT.put("http", 80);
+		PROTO_TO_PORT.put("https", 443);
+	}
+
+
 	private Url baseUrl;
+	private final Url originalBaseUrl;
+	private final String prefixToContextPath;
+
 
 	/**
 	 * Construct.
 	 * 
 	 * @param base
 	 *            base Url. All generated Urls will be relative to this Url.
+	 * @param prefixToContextPath
+	 *            prefix that when prepended to {@code base} will make it context-relative
 	 */
-	public UrlRenderer(final Url base)
+	public UrlRenderer(final Url base, String prefixToContextPath)
 	{
 		Args.notNull(base, "base");
-
+		Args.notNull(prefixToContextPath, "prefixToContextPath");
 		baseUrl = base;
+		originalBaseUrl = baseUrl;
+		this.prefixToContextPath = prefixToContextPath;
 	}
 
 	/**
@@ -74,6 +92,92 @@ public class UrlRenderer
 		return baseUrl;
 	}
 
+	/**
+	 * Renders the Url
+	 * 
+	 * @param url
+	 * @return Url rendered as string
+	 */
+	public String renderUrl(final Url url)
+	{
+		if (shouldRenderAsFull(url))
+		{
+			return renderFullUrl(url);
+		}
+		else
+		{
+			return renderRelativeUrl(url);
+		}
+	}
+
+	/**
+	 * Renders a full URL in the {@code protocol://hostname:port/path} format
+	 * 
+	 * @param url
+	 * @return rendered URL
+	 */
+	public String renderFullUrl(Url url)
+	{
+		StringBuilder render = new StringBuilder();
+
+		final String protocol = resolveProtocol(url);
+		final String host = resolveHost(url);
+		final Integer port = resolvePort(url);
+		final String path = url.toString();
+
+		render.append(protocol).append("://").append(host);
+
+		if (port != null && !port.equals(PROTO_TO_PORT.get(protocol)))
+		{
+			render.append(":").append(port);
+		}
+
+		if (!path.startsWith("/"))
+		{
+			render.append("/");
+		}
+
+		render.append(path);
+
+		return render.toString();
+	}
+
+	/**
+	 * Gets port that should be used to render the url
+	 * 
+	 * @param url
+	 *            url being rendered
+	 * @return port or {@code null} if none is set
+	 */
+	protected Integer resolvePort(Url url)
+	{
+		return choose(url.getPort(), baseUrl.getPort(), originalBaseUrl.getPort());
+	}
+
+	/**
+	 * Gets the host name that should be used to render the url
+	 * 
+	 * @param url
+	 *            url being rendered
+	 * @return the host name or {@code null} if none is set
+	 */
+	protected String resolveHost(Url url)
+	{
+		return choose(url.getHost(), baseUrl.getHost(), originalBaseUrl.getHost());
+	}
+
+	/**
+	 * Gets the protocol that should be used to render the url
+	 * 
+	 * @param url
+	 *            url being rendered
+	 * @return the protocol or {@code null} if none is set
+	 */
+	protected String resolveProtocol(Url url)
+	{
+		return choose(url.getProtocol(), baseUrl.getProtocol(), originalBaseUrl.getProtocol());
+	}
+
 	/**
 	 * Renders the Url relative to currently set Base Url.
 	 * 
@@ -85,7 +189,7 @@ public class UrlRenderer
 	 * @param url
 	 * @return Url rendered as string
 	 */
-	public String renderUrl(final Url url)
+	public String renderRelativeUrl(final Url url)
 	{
 		Args.notNull(url, "url");
 
@@ -143,6 +247,29 @@ public class UrlRenderer
 		}
 	}
 
+	/**
+	 * Determines whether a URL should be rendered in its full form
+	 * 
+	 * @param url
+	 * @return {@code true} if URL should be rendered in the full form
+	 */
+	protected boolean shouldRenderAsFull(Url url)
+	{
+		if (!Strings.isEmpty(url.getProtocol()) && !url.getProtocol().equals(baseUrl.getProtocol()))
+		{
+			return true;
+		}
+		if (!Strings.isEmpty(url.getHost()) && !url.getHost().equals(baseUrl.getHost()))
+		{
+			return true;
+		}
+		if (url.getPort() != null && !url.getPort().equals(baseUrl.getPort()))
+		{
+			return true;
+		}
+		return false;
+	}
+
 	/**
 	 * Renders the URL within context relative to current base URL.
 	 * 
@@ -150,7 +277,7 @@ public class UrlRenderer
 	 * @param request
 	 * @return relative URL
 	 */
-	public String renderContextPathRelativeUrl(String url, final Request request)
+	public String renderContextPathRelativeUrl(String url)
 	{
 		Args.notNull(url, "url");
 
@@ -165,8 +292,34 @@ public class UrlRenderer
 			buffer.prepend("../");
 		}
 
-		buffer.prepend(request.getPrefixToContextPath());
+		buffer.prepend(prefixToContextPath);
 
 		return buffer.toString();
 	}
+
+	private static String choose(String value, String fallback1, String fallback2)
+	{
+		if (Strings.isEmpty(value))
+		{
+			value = fallback1;
+			if (Strings.isEmpty(value))
+			{
+				value = fallback2;
+			}
+		}
+		return value;
+	}
+
+	private static Integer choose(Integer value, Integer fallback1, Integer fallback2)
+	{
+		if (value == null)
+		{
+			value = fallback1;
+			if (value == null)
+			{
+				value = fallback2;
+			}
+		}
+		return value;
+	}
 }
diff --git a/wicket-request/src/main/java/org/apache/wicket/request/http/handler/RedirectRequestHandler.java b/wicket-request/src/main/java/org/apache/wicket/request/http/handler/RedirectRequestHandler.java
index 5b8ca5a526..db78bb907a 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/http/handler/RedirectRequestHandler.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/http/handler/RedirectRequestHandler.java
@@ -80,8 +80,7 @@ public class RedirectRequestHandler implements IRequestHandler
 		if (redirectUrl.startsWith("/"))
 		{
 			// context-absolute url
-			location = requestCycle.getUrlRenderer().renderContextPathRelativeUrl(redirectUrl,
-				requestCycle.getRequest());
+			location = requestCycle.getUrlRenderer().renderContextPathRelativeUrl(redirectUrl);
 		}
 		else
 		{
