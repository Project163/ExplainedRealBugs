diff --git a/wicket-request/src/main/java/org/apache/wicket/request/mapper/CompoundRequestMapper.java b/wicket-request/src/main/java/org/apache/wicket/request/mapper/CompoundRequestMapper.java
index 6ee1c540d3..66bc61c6af 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/mapper/CompoundRequestMapper.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/mapper/CompoundRequestMapper.java
@@ -43,7 +43,7 @@ public class CompoundRequestMapper implements ICompoundRequestMapper
 	/**
 	 * 
 	 */
-	private static class MapperWithScore implements Comparable<MapperWithScore>
+	static class MapperWithScore implements Comparable<MapperWithScore>
 	{
 		private final IRequestMapper mapper;
 		private final int compatibilityScore;
@@ -56,7 +56,8 @@ public class CompoundRequestMapper implements ICompoundRequestMapper
 
 		public int compareTo(final MapperWithScore o)
 		{
-			return o.compatibilityScore - compatibilityScore;
+			return (compatibilityScore < o.compatibilityScore ? 1
+				: (compatibilityScore > o.compatibilityScore ? -1 : 0));
 		}
 
 		public IRequestMapper getMapper()
diff --git a/wicket-request/src/test/java/org/apache/wicket/request/mapper/CompoundRequestMapperTest.java b/wicket-request/src/test/java/org/apache/wicket/request/mapper/CompoundRequestMapperTest.java
index 352d3269ec..0277d01fa3 100644
--- a/wicket-request/src/test/java/org/apache/wicket/request/mapper/CompoundRequestMapperTest.java
+++ b/wicket-request/src/test/java/org/apache/wicket/request/mapper/CompoundRequestMapperTest.java
@@ -18,6 +18,7 @@ package org.apache.wicket.request.mapper;
 
 import org.apache.wicket.request.Url;
 import org.apache.wicket.request.handler.EmptyRequestHandler;
+import org.apache.wicket.request.mapper.CompoundRequestMapper.MapperWithScore;
 import org.apache.wicket.request.mapper.mount.MountMapper;
 import org.junit.Assert;
 import org.junit.Test;
@@ -59,4 +60,26 @@ public class CompoundRequestMapperTest extends Assert
 			compound.mapRequest(compound.createRequest(Url.parse(MOUNT_PATH_3))) instanceof EmptyRequestHandler);
 	}
 
+	/**
+	 * Test {@link MapperWithScore#compareTo(MapperWithScore)}.
+	 */
+	@Test
+	public void score()
+	{
+		assertTrue(score(0).compareTo(score(0)) == 0);
+		assertTrue(score(0).compareTo(score(10)) > 0);
+		assertTrue(score(10).compareTo(score(0)) < 0);
+		assertTrue(score(0).compareTo(score(10)) > 0);
+		assertTrue(score(-10).compareTo(score(0)) > 0);
+		assertTrue(score(0).compareTo(score(-10)) < 0);
+		assertTrue(score(10).compareTo(score(Integer.MIN_VALUE + 1)) < 0);
+		assertTrue(score(Integer.MIN_VALUE + 1).compareTo(score(10)) > 0);
+		assertTrue(score(10).compareTo(score(Integer.MAX_VALUE)) > 0);
+		assertTrue(score(Integer.MAX_VALUE).compareTo(score(10)) < 0);
+	}
+
+	private MapperWithScore score(int score)
+	{
+		return new MapperWithScore(null, score);
+	}
 }
