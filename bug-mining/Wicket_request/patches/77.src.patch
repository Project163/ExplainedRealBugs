diff --git a/wicket-request/src/main/java/org/apache/wicket/request/Url.java b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
index ea34d67d73..74c93249a8 100755
--- a/wicket-request/src/main/java/org/apache/wicket/request/Url.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
@@ -956,7 +956,10 @@ public class Url implements Serializable
 			else if ("..".equals(relative.getSegments().get(0)))
 			{
 				relative.getSegments().remove(0);
-				getSegments().remove(getSegments().size() - 1);
+				if (getSegments().isEmpty() == false)
+				{
+					getSegments().remove(getSegments().size() - 1);
+				}
 			}
 			else
 			{
diff --git a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
index ddef319879..22ddd951c5 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
@@ -92,14 +92,25 @@ public class UrlRenderer
 	 */
 	public String renderUrl(final Url url)
 	{
+		final String renderedUrl;
 		if (shouldRenderAsFull(url))
 		{
-			return renderFullUrl(url);
+			if (url.isAbsolute() == false)
+			{
+				String relativeUrl = renderRelativeUrl(url);
+				Url relative = Url.parse(relativeUrl, url.getCharset());
+				renderedUrl = renderFullUrl(relative);
+			}
+			else
+			{
+				renderedUrl = renderFullUrl(url);
+			}
 		}
-		else
+		else 
 		{
-			return renderRelativeUrl(url);
+			renderedUrl = renderRelativeUrl(url);
 		}
+		return renderedUrl;
 	}
 
 	/**
