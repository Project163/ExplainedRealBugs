diff --git a/wicket-request/src/main/java/org/apache/wicket/request/handler/TextRequestHandler.java b/wicket-request/src/main/java/org/apache/wicket/request/handler/TextRequestHandler.java
index 32b614a13d..cec298a8f7 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/handler/TextRequestHandler.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/handler/TextRequestHandler.java
@@ -91,7 +91,9 @@ public class TextRequestHandler implements IRequestHandler
 		// send string to client
 		try
 		{
-			response.write(string.getBytes(encoding));
+			byte[] bytes = string.getBytes(encoding);
+			response.setContentLength(bytes.length);
+			response.write(bytes);
 		}
 		catch (IOException e)
 		{
