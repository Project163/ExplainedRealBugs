diff --git a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
index a09542daa0..0c83d822ed 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/UrlRenderer.java
@@ -290,8 +290,8 @@ public class UrlRenderer
 			renderedUrl = "./" + renderedUrl;
 		}
 
-		// sanitize end
-		if (renderedUrl.endsWith(".."))
+		// add trailing slash if the url has no query string and ends with ..
+		if (renderedUrl.indexOf('?') == -1 && renderedUrl.endsWith(".."))
 		{
 			// WICKET-4401
 			renderedUrl = renderedUrl + '/';
