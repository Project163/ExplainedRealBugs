diff --git a/wicket-request/src/main/java/org/apache/wicket/request/Url.java b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
index 8b4a1c4aa3..ea34d67d73 100755
--- a/wicket-request/src/main/java/org/apache/wicket/request/Url.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/Url.java
@@ -222,9 +222,10 @@ public class Url implements Serializable
 		String relativeUrl;
 
 		// absolute urls contain a scheme://
+		final int idxOfFirstSlash = absoluteUrl.indexOf('/');
 		final int protocolAt = absoluteUrl.indexOf("://");
 
-		if (protocolAt != -1)
+		if (protocolAt > -1 && (protocolAt < idxOfFirstSlash))
 		{
 			result.protocol = absoluteUrl.substring(0, protocolAt).toLowerCase(Locale.US);
 
diff --git a/wicket-request/src/test/java/org/apache/wicket/request/UrlTest.java b/wicket-request/src/test/java/org/apache/wicket/request/UrlTest.java
index 4388f67d1e..1ecc9cdaf4 100644
--- a/wicket-request/src/test/java/org/apache/wicket/request/UrlTest.java
+++ b/wicket-request/src/test/java/org/apache/wicket/request/UrlTest.java
@@ -737,4 +737,30 @@ public class UrlTest extends Assert
 		assertEquals(host, copy.getHost());
 		assertEquals(port, copy.getPort());
 	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-4387
+	 * Parse uri with '://' in it should consider it as absolute only if there are
+	 * no slashes earlier in the string.
+	 */
+	@Test
+	public void parseHttpSlashSlashColon()
+	{
+		// relative
+		String uri = "/abc/http://host:9090/";
+		Url url = Url.parse(uri);
+		assertEquals(uri, url.toString());
+		assertNull(url.getProtocol());
+		assertNull(url.getHost());
+		assertNull(url.getPort());
+
+		// absolute
+		uri = "abchttp://host:9090/";
+		url = Url.parse(uri);
+		assertEquals(uri, url.toString(StringMode.FULL));
+		assertEquals("abchttp", url.getProtocol());
+		assertEquals("host", url.getHost());
+		assertEquals(Integer.valueOf(9090), url.getPort());
+
+	}
 }
