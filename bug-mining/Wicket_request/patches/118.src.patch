diff --git a/wicket-request/src/main/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoder.java b/wicket-request/src/main/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoder.java
index 13e45ec64b..aa095deea2 100644
--- a/wicket-request/src/main/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoder.java
+++ b/wicket-request/src/main/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoder.java
@@ -18,6 +18,7 @@ package org.apache.wicket.request.mapper.parameter;
 
 import org.apache.wicket.request.Url;
 import org.apache.wicket.request.Url.QueryParameter;
+import org.apache.wicket.util.string.Strings;
 
 /**
  * Simple encoder with direct indexed/named parameters mapping.
@@ -47,7 +48,11 @@ public class PageParametersEncoder implements IPageParametersEncoder
 
 		for (QueryParameter p : url.getQueryParameters())
 		{
-			parameters.add(p.getName(), p.getValue(), INamedParameters.Type.QUERY_STRING);
+			String parameterName = p.getName();
+			if (Strings.isEmpty(parameterName) == false)
+			{
+				parameters.add(parameterName, p.getValue(), INamedParameters.Type.QUERY_STRING);
+			}
 		}
 
 		return parameters.isEmpty() ? null : parameters;
diff --git a/wicket-request/src/test/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoderTest.java b/wicket-request/src/test/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoderTest.java
index 0490d0c4dc..e58a920b78 100644
--- a/wicket-request/src/test/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoderTest.java
+++ b/wicket-request/src/test/java/org/apache/wicket/request/mapper/parameter/PageParametersEncoderTest.java
@@ -16,6 +16,8 @@
  */
 package org.apache.wicket.request.mapper.parameter;
 
+import static org.hamcrest.CoreMatchers.is;
+
 import org.apache.wicket.request.Url;
 import org.junit.Assert;
 import org.junit.Test;
@@ -35,9 +37,11 @@ public class PageParametersEncoderTest extends Assert
 	{
 		PageParametersEncoder encoder = new PageParametersEncoder();
 
-		Url url = Url.parse("idx1/idx2?named1=value1&named2=value2");
+		Url url = Url.parse("idx1/idx2?named1=value1&=&named2=value2");
 
 		PageParameters pageParameters = encoder.decodePageParameters(url);
+		assertThat(pageParameters.getIndexedCount(), is(2));
+		assertThat(pageParameters.getNamedKeys().size(), is(2));
 		assertEquals("idx1", pageParameters.get(0).toOptionalString());
 		assertEquals("idx2", pageParameters.get(1).toOptionalString());
 		assertEquals("value1", pageParameters.get("named1").toOptionalString());
