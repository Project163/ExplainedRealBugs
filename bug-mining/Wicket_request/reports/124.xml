<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:27:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6069] OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6069</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;To demonstrate the issue, create below simple page:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;&quot;HomePage.html&quot;&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;wicket:extend&amp;gt;
  &amp;lt;select wicket:id=&lt;span class=&quot;code-quote&quot;&gt;&quot;choice&quot;&lt;/span&gt;&amp;gt;&amp;lt;/select&amp;gt;
&amp;lt;/wicket:extend&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;&quot;HomePage.java&quot;&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;HomePage &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WebPage {
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; choice = &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;;
	
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onInitialize() {
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.onInitialize();

		List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; choices = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
		choices.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;);
		choices.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;);
		add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DropDownChoice&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;choice&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IModel&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;() {

			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void detach() {
			}

			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getObject() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; choice;
			}

			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setObject(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; object) {
				choice = object;
			}
			
		}, choices).add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OnChangeAjaxBehavior() {

			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onUpdate(AjaxRequestTarget target) {
				&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(choice);
			}
			
		}));		
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This simple page prints out choosed value via OnChangeAjaxBehavior, it works fine if you access the page via &lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080&lt;/a&gt;. However it always prints &quot;null&quot; if you access the page with a request parameter the same name as the wicket id, for instance: &lt;a href=&quot;http://localhost:8080/?choice=somevalue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/?choice=somevalue&lt;/a&gt;&lt;br/&gt;
It works again if you use different value for wicket id of the choice component and request parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928599">WICKET-6069</key>
            <summary>OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="robinshine">Robin Shine</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 09:53:34 +0000</created>
                <updated>Sat, 6 Feb 2016 14:25:06 +0000</updated>
                            <resolved>Sat, 6 Feb 2016 14:23:27 +0000</resolved>
                                    <version>6.21.0</version>
                                    <fixVersion>7.3.0</fixVersion>
                    <fixVersion>8.0.0-M1</fixVersion>
                    <fixVersion>6.22.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15088988" author="mgrigorov" created="Fri, 8 Jan 2016 09:56:13 +0000"  >&lt;p&gt;Please create a quickstart application (&lt;a href=&quot;http://wicket.apache.org/start/quickstart.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wicket.apache.org/start/quickstart.html&lt;/a&gt;) with the provided sources and steps to reproduce.&lt;br/&gt;
Thank you!&lt;/p&gt;</comment>
                            <comment id="15090298" author="robinshine" created="Sat, 9 Jan 2016 01:07:45 +0000"  >&lt;p&gt;Thanks for looking into this. The quickstart is attached. Steps to reproduce:&lt;br/&gt;
1. Open the project in Eclipse (or any other IDE). &lt;br/&gt;
2. Run &quot;com.mycompany.Start&quot;&lt;br/&gt;
3. Access the home page via &quot;http://localhost:8080?choice=1&quot;&lt;br/&gt;
4. Select &quot;a&quot; or &quot;b&quot; from the choice field, the console always prints &quot;null&quot;. &lt;br/&gt;
5. Above step will print choosed value correctly if acess the home page via &quot;http://localhost:8080&quot;, or &quot;http://localhost:8080?nameOtherThanChoice=1&quot;&lt;/p&gt;</comment>
                            <comment id="15134908" author="mgrigorov" created="Fri, 5 Feb 2016 20:23:13 +0000"  >&lt;p&gt;The problem is that by adding a request parameter in the query string there are two values for this request parameter at the server side and if the wrong value is used then the ChoiceRenderer cannot map it to a possible choice, thus `null`.&lt;/p&gt;


&lt;p&gt;Devs, what do you think about this change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git i/wicket-request/src/main/java/org/apache/wicket/request/Request.java w/wicket-request/src/main/java/org/apache/wicket/request/Request.java
index 95d24cc..0ecec9d 100644
--- i/wicket-request/src/main/java/org/apache/wicket/request/Request.java
+++ w/wicket-request/src/main/java/org/apache/wicket/request/Request.java
@@ -133,7 +133,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Request
         */
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; IRequestParameters getRequestParameters()
        {
-               &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CombinedRequestParametersAdapter(getQueryParameters(), getPostParameters());
+               &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CombinedRequestParametersAdapter(getPostParameters(), getQueryParameters());
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This gives POST parameters higher priority than GET parameters at org.apache.wicket.markup.html.form.AbstractSingleSelectChoice#convertValue(). Here Wicket uses just the first value if there are several.&lt;/p&gt;

&lt;p&gt;The GET request parameter is in the Ajax url because of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PageParameters parameters = getRecreateMountedPagesAfterExpiry() ? &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PageParameters(
				handler.getPage().getPageParameters()).mergeWith(handler.getPageParameters())
				: handler.getPageParameters();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in AbstractBookmarkableMapper, line 445, Wicket 6.21.0. I.e. for page recreation after expiry.&lt;/p&gt;</comment>
                            <comment id="15135149" author="svenmeier" created="Fri, 5 Feb 2016 22:21:21 +0000"  >&lt;p&gt;+1 IMHO it makes sense to give precedence to post parameters &lt;/p&gt;</comment>
                            <comment id="15135781" author="jira-bot" created="Sat, 6 Feb 2016 14:22:11 +0000"  >&lt;p&gt;Commit 72e61c26973c43c4aa6b0afec78822655757d7a5 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=72e61c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=72e61c2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6069&quot; title=&quot;OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6069&quot;&gt;&lt;del&gt;WICKET-6069&lt;/del&gt;&lt;/a&gt; OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&lt;/p&gt;

&lt;p&gt;Give presedence to POST parameters&lt;/p&gt;</comment>
                            <comment id="15135782" author="jira-bot" created="Sat, 6 Feb 2016 14:22:47 +0000"  >&lt;p&gt;Commit 356b85054ff6f38cce3ff33046267d3c54d9de90 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=356b850&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=356b850&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6069&quot; title=&quot;OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6069&quot;&gt;&lt;del&gt;WICKET-6069&lt;/del&gt;&lt;/a&gt; OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&lt;/p&gt;

&lt;p&gt;Give presedence to POST parameters&lt;/p&gt;</comment>
                            <comment id="15135785" author="jira-bot" created="Sat, 6 Feb 2016 14:25:06 +0000"  >&lt;p&gt;Commit 74ba1a8ab5c56747dd63b144e05cb0034197dd48 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=74ba1a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=74ba1a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6069&quot; title=&quot;OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6069&quot;&gt;&lt;del&gt;WICKET-6069&lt;/del&gt;&lt;/a&gt; OnChangeAjaxBehavior does not work if the url contains a request parameter with same name as wicket id&lt;/p&gt;

&lt;p&gt;Give presedence to POST parameters&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781345" name="myproject.zip" size="25368" author="robinshine" created="Sat, 9 Jan 2016 01:02:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r16f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>