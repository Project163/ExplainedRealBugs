<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:27:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-4891] UrlRenderer.renderRelativeUrl misbehavior if the filterPath is composed.</title>
                <link>https://issues.apache.org/jira/browse/WICKET-4891</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Using an application with a composed filterPath like:&lt;/p&gt;

&lt;p&gt;&amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
	&amp;lt;filter-name&amp;gt;wicket.jsessionid&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
	&amp;lt;url-pattern&amp;gt;/demo/test/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
&amp;lt;/filter-mapping&amp;gt; &lt;/p&gt;

&lt;p&gt;Wicket fails to properly render a bookmarkable link.&lt;/p&gt;

&lt;p&gt;I&apos;ve debuged my app and the problem is here:&lt;/p&gt;

&lt;p&gt;UrlRenderer.removeCommonPrefixes()&lt;br/&gt;
Line 309:&lt;/p&gt;

&lt;p&gt;String filterPath = request.getFilterPath();&lt;br/&gt;
if (filterPath != null &amp;amp;&amp;amp; segments.isEmpty() == false)&lt;br/&gt;
{&lt;br/&gt;
    if (filterPath.equals(UrlUtils.normalizePath(segments.get(0))))&lt;br/&gt;
    {&lt;br/&gt;
        LOG.debug(&quot;Removing the filter path &apos;{}&apos; from &apos;{}&apos;&quot;, filterPath, segments);&lt;br/&gt;
        segments.remove(0);&lt;br/&gt;
    }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;This code assumes that the filter path is a single segment path, not a composed path.&lt;/p&gt;

&lt;p&gt;I&apos;ve only reached this bug browsing my website with the cookies disable. This is why it&apos;s not critical.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12617625">WICKET-4891</key>
            <summary>UrlRenderer.renderRelativeUrl misbehavior if the filterPath is composed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="jordeu">Jordi Deu-Pons</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Nov 2012 15:08:23 +0000</created>
                <updated>Wed, 28 Nov 2012 17:06:15 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 17:06:15 +0000</resolved>
                                    <version>6.3.0</version>
                                    <fixVersion>6.4.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13503843" author="jordeu" created="Mon, 26 Nov 2012 15:40:25 +0000"  >&lt;p&gt;Minimal example demo application that fails if you browse it with the cookies disable&lt;/p&gt;</comment>
                            <comment id="13503883" author="jordeu" created="Mon, 26 Nov 2012 16:42:47 +0000"  >&lt;p&gt;I&apos;ve created a pull request:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/wicket/pull/22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/22&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From the source code I can deduce that it can happen the same with the context path, so I also check this at the pull request.&lt;/p&gt;</comment>
                            <comment id="13503912" author="jordeu" created="Mon, 26 Nov 2012 17:25:46 +0000"  >&lt;p&gt;A patch &lt;/p&gt;</comment>
                            <comment id="13504669" author="svenmeier" created="Tue, 27 Nov 2012 15:18:15 +0000"  >&lt;p&gt;I&apos;ve just checked in a solution that uses fewer String concatenations and hopefully is easier to follow. &lt;/p&gt;

&lt;p&gt;#removeCommonPrefixes() now removes the whole prefix or nothing at all.&lt;/p&gt;

&lt;p&gt;For example say Wicket filter is registered on &quot;filterPath&quot; and the application has context &quot;contextPath&quot;.&lt;br/&gt;
Then it doesn&apos;t make sense to strip &quot;filterPath&quot; from the following url, since it doesn&apos;t contain &quot;contextPath&quot; at all:&lt;br/&gt;
  &lt;a href=&quot;http://host:8080/filterPath/a/b;jsessionid=123456&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host:8080/filterPath/a/b;jsessionid=123456&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="13504721" author="jordeu" created="Tue, 27 Nov 2012 16:18:13 +0000"  >&lt;p&gt;Yes, you are right it doesn&apos;t make sense to remove the &quot;filterPath&quot; if it doesn&apos;t contain &quot;contextPath&quot; at all.&lt;/p&gt;</comment>
                            <comment id="13505631" author="jordeu" created="Wed, 28 Nov 2012 16:35:28 +0000"  >&lt;p&gt;Today I&apos;ve checked with the last snapshot and everything it&apos;s working fine. &lt;/p&gt;</comment>
                            <comment id="13505657" author="svenmeier" created="Wed, 28 Nov 2012 17:06:15 +0000"  >&lt;p&gt;compound filter and context paths are supported now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554883" name="WICKET-4891.patch" size="12800" author="jordeu" created="Mon, 26 Nov 2012 17:25:46 +0000"/>
                            <attachment id="12554868" name="WICKET-4891.tar.gz" size="19280" author="jordeu" created="Mon, 26 Nov 2012 15:40:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rryv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>