{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826/events","html_url":"https://github.com/pylint-dev/pylint/issues/3826","id":698183789,"node_id":"MDU6SXNzdWU2OTgxODM3ODk=","number":3826,"title":"PEP 597, require encoding kwarg in open call (and other calls that delegate to io.open)","user":{"login":"graingert","id":413772,"node_id":"MDQ6VXNlcjQxMzc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/413772?v=4","gravatar_id":"","url":"https://api.github.com/users/graingert","html_url":"https://github.com/graingert","followers_url":"https://api.github.com/users/graingert/followers","following_url":"https://api.github.com/users/graingert/following{/other_user}","gists_url":"https://api.github.com/users/graingert/gists{/gist_id}","starred_url":"https://api.github.com/users/graingert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graingert/subscriptions","organizations_url":"https://api.github.com/users/graingert/orgs","repos_url":"https://api.github.com/users/graingert/repos","events_url":"https://api.github.com/users/graingert/events{/privacy}","received_events_url":"https://api.github.com/users/graingert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":297274517,"node_id":"MDU6TGFiZWwyOTcyNzQ1MTc=","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Enhancement%20%E2%9C%A8","name":"Enhancement ‚ú®","color":"84b6eb","default":false,"description":"Improvement to a component"},{"id":297274518,"node_id":"MDU6TGFiZWwyOTcyNzQ1MTg=","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Help%20wanted%20%F0%9F%99%8F","name":"Help wanted üôè","color":"378805","default":false,"description":"Outside help would be appreciated, good for new contributors"},{"id":419686299,"node_id":"MDU6TGFiZWw0MTk2ODYyOTk=","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Good%20first%20issue","name":"Good first issue","color":"378805","default":false,"description":"Friendly and approachable by new contributors"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2020-09-10T16:09:10Z","updated_at":"2021-08-23T19:02:18Z","closed_at":"2021-07-28T18:18:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n  Hi there! Thank you for wanting to make pylint better.\r\n\r\n  Before you submit this, make sure that this feature wasn't\r\n  already requested or if it is not already implemented in the master branch.\r\n-->\r\n\r\n### Is your feature request related to a problem? Please describe\r\nthere's a proposal to deprecate not passing an encoding to `open(...)`\r\nhttps://www.python.org/dev/peps/pep-0597/#motivation\r\n\r\n> Developers using macOS or Linux may forget that the default encoding is not always UTF-8.\r\n> \r\n> For example, long_description = open(\"README.md\").read() in setup.py is a common mistake. Many Windows users can not install the package if there is at least one non-ASCII character (e.g. emoji) in the README.md file which is encoded in UTF-8.\r\n> \r\n> For example, 489 packages of the 4000 most downloaded packages from PyPI used non-ASCII characters in README. And 82 packages of them can not be installed from source package when locale encoding is ASCII. [1] They used the default encoding to read README or TOML file.\r\n> \r\n> Another example is logging.basicConfig(filename=\"log.txt\"). Some users expect UTF-8 is used by default, but locale encoding is used actually. [2]\r\n> \r\n> Even Python experts assume that default encoding is UTF-8. It creates bugs that happen only on Windows. See [3] and [4].\r\n> \r\n> Raising a warning when the encoding option is omitted will help to find such mistakes.\r\n\r\n### Describe the solution you'd like\r\nraise a warning similar to subprocess-run-check\r\n\r\n\r\n### Additional context\r\nAdd any other context about the feature request here.\r\n","closed_by":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/3826/timeline","performed_via_github_app":null,"state_reason":"completed"}