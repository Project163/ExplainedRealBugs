{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188/events","html_url":"https://github.com/pylint-dev/pylint/issues/7188","id":1304548496,"node_id":"I_kwDOAtdnV85NwdSQ","number":7188,"title":"``tox -e docs`` not working since the migration to ``pyproject.toml``","user":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":298735659,"node_id":"MDU6TGFiZWwyOTg3MzU2NTk=","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Minor%20%F0%9F%92%85","name":"Minor ðŸ’…","color":"bfe5bf","default":false,"description":"Polishing pylint is always nice"},{"id":2841556922,"node_id":"MDU6TGFiZWwyODQxNTU2OTIy","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Maintenance","name":"Maintenance","color":"C5DEF5","default":false,"description":"Discussion or action around maintaining pylint or the dev workflow"},{"id":4031337796,"node_id":"LA_kwDOAtdnV87wSVVE","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Unreleased","name":"Unreleased","color":"9297D6","default":false,"description":""},{"id":4258809772,"node_id":"LA_kwDOAtdnV8792Ees","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Needs%20decision%20:lock:","name":"Needs decision :lock:","color":"ffa500","default":false,"description":"Needs a decision before implemention or rejection"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-14T09:57:23Z","updated_at":"2022-07-18T14:34:05Z","closed_at":"2022-07-18T14:34:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Bug description\n\ntox does not understand the packaging and create ``/home/pierre/pylint/.tox/.tmp/package/1/UNKNOWN-0.0.0.zip``. We could fix it or we could drop tox in favor of the makefile in ``doc/`` (it's working)\n\n### Configuration\n\n_No response_\n\n### Command used\n\n```shell\ntox -e docs\n```\n\n\n### Pylint output\n\n```shell\nGLOB sdist-make: /home/pierre/pylint/setup.py\r\n\r\ndocs inst-nodeps: /home/pierre/pylint/.tox/.tmp/package/1/UNKNOWN-0.0.0.zip\r\n\r\nERROR: invocation failed (exit code 1), logfile: /home/pierre/pylint/.tox/docs/log/docs-5.log\r\n\r\n================================================================================================ log start ================================================================================================\r\n\r\nProcessing ./.tox/.tmp/package/1/UNKNOWN-0.0.0.zip\r\n\r\n  Installing build dependencies: started\r\n\r\n  Installing build dependencies: finished with status 'done'\r\n\r\n  Getting requirements to build wheel: started\r\n\r\n  Getting requirements to build wheel: finished with status 'error'\r\n\r\n  error: subprocess-exited-with-error\r\n\r\n  \r\n\r\n  Ã— Getting requirements to build wheel did not run successfully.\r\n\r\n  â”‚ exit code: 1\r\n\r\n  â•°â”€> [48 lines of output]\r\n\r\n      /tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py:104: _BetaConfiguration: Support for `[tool.setuptools]` in `pyproject.toml` is still *beta*.\r\n\r\n        warnings.warn(msg, _BetaConfiguration)\r\n\r\n      Traceback (most recent call last):\r\n\r\n        File \"/home/pierre/pylint/.tox/docs/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n\r\n          main()\r\n\r\n        File \"/home/pierre/pylint/.tox/docs/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n\r\n        File \"/home/pierre/pylint/.tox/docs/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 130, in get_requires_for_build_wheel\r\n\r\n          return hook(config_settings)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 177, in get_requires_for_build_wheel\r\n\r\n          return self._get_build_requires(\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 159, in _get_build_requires\r\n\r\n          self.run_setup()\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n\r\n          exec(compile(code, __file__, 'exec'), locals())\r\n\r\n        File \"setup.py\", line 6, in <module>\r\n\r\n          setup()\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/__init__.py\", line 87, in setup\r\n\r\n          return distutils.core.setup(**attrs)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/_distutils/core.py\", line 151, in setup\r\n\r\n          dist.parse_config_files()\r\n\r\n        File \"/home/pierre/pylint/.tox/docs/lib/python3.10/site-packages/_virtualenv.py\", line 21, in parse_config_files\r\n\r\n          result = old_parse_config_files(self, *args, **kwargs)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/dist.py\", line 869, in parse_config_files\r\n\r\n          pyprojecttoml.apply_configuration(self, filename, ignore_option_errors)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 58, in apply_configuration\r\n\r\n          config = read_configuration(filepath, True, ignore_option_errors, dist)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 136, in read_configuration\r\n\r\n          return expand_configuration(asdict, root_dir, ignore_option_errors, dist)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 191, in expand_configuration\r\n\r\n          return _ConfigExpander(config, root_dir, ignore_option_errors, dist).expand()\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 238, in expand\r\n\r\n          self._expand_all_dynamic(dist, package_dir)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 282, in _expand_all_dynamic\r\n\r\n          version=self._obtain_version(dist, package_dir),\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 328, in _obtain_version\r\n\r\n          return _expand.version(self._obtain(dist, \"version\", package_dir))\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 317, in _obtain\r\n\r\n          return self._expand_directive(\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/pyprojecttoml.py\", line 311, in _expand_directive\r\n\r\n          return _expand.read_attr(directive[\"attr\"], package_dir, root_dir)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 186, in read_attr\r\n\r\n          spec = _find_spec(module_name, path)\r\n\r\n        File \"/tmp/pip-build-env-z2isbtw3/overlay/lib/python3.10/site-packages/setuptools/config/expand.py\", line 198, in _find_spec\r\n\r\n          spec = spec or importlib.util.find_spec(module_name)\r\n\r\n        File \"/usr/lib/python3.10/importlib/util.py\", line 94, in find_spec\r\n\r\n          parent = __import__(parent_name, fromlist=['__path__'])\r\n\r\n      ModuleNotFoundError: No module named 'pylint'\r\n\r\n      [end of output]\r\n\r\n  \r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n\r\nerror: subprocess-exited-with-error\r\n\r\n\r\n\r\nÃ— Getting requirements to build wheel did not run successfully.\r\n\r\nâ”‚ exit code: 1\r\n\r\nâ•°â”€> See above for output.\r\n\r\n\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\n```\n\n\n### Expected behavior\n\nRegenerate the docs instead.\n\n### Pylint version\n\n```shell\n2.15.0-dev0\n```\n\n\n### OS / Environment\n\n_No response_\n\n### Additional dependencies\n\n_No response_","closed_by":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7188/timeline","performed_via_github_app":null,"state_reason":"completed"}