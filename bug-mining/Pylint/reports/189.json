{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569/events","html_url":"https://github.com/pylint-dev/pylint/issues/5569","id":1085261892,"node_id":"I_kwDOAtdnV85Ar8hE","number":5569,"title":"Crash ``'Call' object has no attribute 'name'`` when accessing a private class variable","user":{"login":"bugale","id":22123833,"node_id":"MDQ6VXNlcjIyMTIzODMz","avatar_url":"https://avatars.githubusercontent.com/u/22123833?v=4","gravatar_id":"","url":"https://api.github.com/users/bugale","html_url":"https://github.com/bugale","followers_url":"https://api.github.com/users/bugale/followers","following_url":"https://api.github.com/users/bugale/following{/other_user}","gists_url":"https://api.github.com/users/bugale/gists{/gist_id}","starred_url":"https://api.github.com/users/bugale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bugale/subscriptions","organizations_url":"https://api.github.com/users/bugale/orgs","repos_url":"https://api.github.com/users/bugale/repos","events_url":"https://api.github.com/users/bugale/events{/privacy}","received_events_url":"https://api.github.com/users/bugale/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":303519130,"node_id":"MDU6TGFiZWwzMDM1MTkxMzA=","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Blocker%20%F0%9F%99%85","name":"Blocker ðŸ™…","color":"e11d21","default":false,"description":"Blocks the next release"},{"id":1041256788,"node_id":"MDU6TGFiZWwxMDQxMjU2Nzg4","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Crash%20%F0%9F%92%A5","name":"Crash ðŸ’¥","color":"c64d6f","default":false,"description":"A bug that makes pylint crash"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pylint-dev/pylint/milestones/49","html_url":"https://github.com/pylint-dev/pylint/milestone/49","labels_url":"https://api.github.com/repos/pylint-dev/pylint/milestones/49/labels","id":7110914,"node_id":"MI_kwDOAtdnV84AbIEC","number":49,"title":"2.13.0","description":"","creator":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":395,"state":"closed","created_at":"2021-09-01T07:15:02Z","updated_at":"2024-02-01T14:06:23Z","due_on":null,"closed_at":"2022-03-24T22:18:12Z"},"comments":1,"created_at":"2021-12-20T22:34:17Z","updated_at":"2022-01-11T15:50:30Z","closed_at":"2022-01-11T15:50:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Bug description\n\nSeems similar to #4638, but reproduces after its fix\r\n\r\nWhen parsing the following file:\r\n\r\n```python\r\nclass A:\r\n    @classmethod\r\n    def b(cls) -> None:\r\n        cls.__a = ''\r\n\r\n    def a(self):\r\n        type(self).__a\r\n\r\n```\r\n\r\npylint crashed with a ``AttributeError`` and with the following stacktrace:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\lint\\pylinter.py\", line 1034, in _check_files\r\n    self._check_file(get_ast, check_astroid_module, file)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\lint\\pylinter.py\", line 1069, in _check_file\r\n    check_astroid_module(ast_node)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\lint\\pylinter.py\", line 1203, in check_astroid_module\r\n    retval = self._check_astroid_module(\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\lint\\pylinter.py\", line 1250, in _check_astroid_module\r\n    walker.walk(node)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\utils\\ast_walker.py\", line 75, in walk\r\n    self.walk(child)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\utils\\ast_walker.py\", line 77, in walk\r\n    callback(astroid)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\checkers\\classes.py\", line 901, in leave_classdef\r\n    self._check_unused_private_attributes(node)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\checkers\\classes.py\", line 1008, in _check_unused_private_attributes\r\n    and attribute.expr.name in {\"cls\", \"self\", node.name}\r\nAttributeError: 'Call' object has no attribute 'name'\r\n```\n\n### Configuration\n\n_No response_\n\n### Command used\n\n```shell\npylint bugale_test.py\n```\n\n\n### Pylint output\n\n```shell\nException on node <ClassDef.A l.1 at 0x19bf0e5c820> in file 'C:\\Users\\bugaleb\\Documents\\GitHub\\winagent\\SmartViz\\AutomationTests\\bugale_test.py'\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\utils\\ast_walker.py\", line 77, in walk\r\n    callback(astroid)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\checkers\\classes.py\", line 901, in leave_classdef\r\n    self._check_unused_private_attributes(node)\r\n  File \"C:\\Program Files\\Python39\\lib\\site-packages\\pylint\\checkers\\classes.py\", line 1008, in _check_unused_private_attributes\r\n    and attribute.expr.name in {\"cls\", \"self\", node.name}\r\nAttributeError: 'Call' object has no attribute 'name'\r\nbugale_test.py:1:0: F0001: Fatal error while checking 'bugale_test.py'. Please open an issue in our bug tracker so we address this. There is a pre-filled template that you can use in 'C:\\Users\\bugaleb\\AppData\\Local\\pylint\\pylint\\Cache\\pylint-crash-2021-12-21-00.txt'. (fatal)\n```\n\n\n### Expected behavior\n\nNot to crash\n\n### Pylint version\n\n```shell\npylint 2.12.2\r\nastroid 2.9.0\r\nPython 3.9.5 (tags/v3.9.5:0a7dcbd, May  3 2021, 17:27:52) [MSC v.1928 64 bit (AMD64)]\n```\n\n\n### OS / Environment\n\nWindows 11\n\n### Additional dependencies\n\n_No response_","closed_by":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/5569/timeline","performed_via_github_app":null,"state_reason":"completed"}