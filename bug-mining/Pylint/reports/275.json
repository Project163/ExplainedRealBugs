{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501/events","html_url":"https://github.com/pylint-dev/pylint/issues/7501","id":1378776329,"node_id":"I_kwDOAtdnV85SLnUJ","number":7501,"title":"False positive E1143 unhashable-member with class type as key","user":{"login":"fmigneault","id":19194484,"node_id":"MDQ6VXNlcjE5MTk0NDg0","avatar_url":"https://avatars.githubusercontent.com/u/19194484?v=4","gravatar_id":"","url":"https://api.github.com/users/fmigneault","html_url":"https://github.com/fmigneault","followers_url":"https://api.github.com/users/fmigneault/followers","following_url":"https://api.github.com/users/fmigneault/following{/other_user}","gists_url":"https://api.github.com/users/fmigneault/gists{/gist_id}","starred_url":"https://api.github.com/users/fmigneault/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmigneault/subscriptions","organizations_url":"https://api.github.com/users/fmigneault/orgs","repos_url":"https://api.github.com/users/fmigneault/repos","events_url":"https://api.github.com/users/fmigneault/events{/privacy}","received_events_url":"https://api.github.com/users/fmigneault/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2374167765,"node_id":"MDU6TGFiZWwyMzc0MTY3NzY1","url":"https://api.github.com/repos/pylint-dev/pylint/labels/False%20Positive%20%F0%9F%A6%9F","name":"False Positive ü¶ü","color":"28a2b7","default":false,"description":"A message is emitted but nothing is wrong with the code"},{"id":3390405877,"node_id":"LA_kwDOAtdnV87KFXz1","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Hacktoberfest","name":"Hacktoberfest","color":"8946AD","default":false,"description":""},{"id":4259347450,"node_id":"LA_kwDOAtdnV8794Hv6","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Needs%20PR","name":"Needs PR","color":"378805","default":false,"description":"This issue is accepted, sufficiently specified and now needs an implementation"}],"state":"closed","locked":false,"assignee":{"login":"mbyrnepr2","id":31762852,"node_id":"MDQ6VXNlcjMxNzYyODUy","avatar_url":"https://avatars.githubusercontent.com/u/31762852?v=4","gravatar_id":"","url":"https://api.github.com/users/mbyrnepr2","html_url":"https://github.com/mbyrnepr2","followers_url":"https://api.github.com/users/mbyrnepr2/followers","following_url":"https://api.github.com/users/mbyrnepr2/following{/other_user}","gists_url":"https://api.github.com/users/mbyrnepr2/gists{/gist_id}","starred_url":"https://api.github.com/users/mbyrnepr2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbyrnepr2/subscriptions","organizations_url":"https://api.github.com/users/mbyrnepr2/orgs","repos_url":"https://api.github.com/users/mbyrnepr2/repos","events_url":"https://api.github.com/users/mbyrnepr2/events{/privacy}","received_events_url":"https://api.github.com/users/mbyrnepr2/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mbyrnepr2","id":31762852,"node_id":"MDQ6VXNlcjMxNzYyODUy","avatar_url":"https://avatars.githubusercontent.com/u/31762852?v=4","gravatar_id":"","url":"https://api.github.com/users/mbyrnepr2","html_url":"https://github.com/mbyrnepr2","followers_url":"https://api.github.com/users/mbyrnepr2/followers","following_url":"https://api.github.com/users/mbyrnepr2/following{/other_user}","gists_url":"https://api.github.com/users/mbyrnepr2/gists{/gist_id}","starred_url":"https://api.github.com/users/mbyrnepr2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbyrnepr2/subscriptions","organizations_url":"https://api.github.com/users/mbyrnepr2/orgs","repos_url":"https://api.github.com/users/mbyrnepr2/repos","events_url":"https://api.github.com/users/mbyrnepr2/events{/privacy}","received_events_url":"https://api.github.com/users/mbyrnepr2/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/pylint-dev/pylint/milestones/80","html_url":"https://github.com/pylint-dev/pylint/milestone/80","labels_url":"https://api.github.com/repos/pylint-dev/pylint/milestones/80/labels","id":8567587,"node_id":"MI_kwDOAtdnV84Agrsj","number":80,"title":"2.15.6","description":"","creator":{"login":"cdce8p","id":30130371,"node_id":"MDQ6VXNlcjMwMTMwMzcx","avatar_url":"https://avatars.githubusercontent.com/u/30130371?v=4","gravatar_id":"","url":"https://api.github.com/users/cdce8p","html_url":"https://github.com/cdce8p","followers_url":"https://api.github.com/users/cdce8p/followers","following_url":"https://api.github.com/users/cdce8p/following{/other_user}","gists_url":"https://api.github.com/users/cdce8p/gists{/gist_id}","starred_url":"https://api.github.com/users/cdce8p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdce8p/subscriptions","organizations_url":"https://api.github.com/users/cdce8p/orgs","repos_url":"https://api.github.com/users/cdce8p/repos","events_url":"https://api.github.com/users/cdce8p/events{/privacy}","received_events_url":"https://api.github.com/users/cdce8p/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":29,"state":"closed","created_at":"2022-10-21T16:24:20Z","updated_at":"2022-11-21T10:37:18Z","due_on":null,"closed_at":"2022-11-19T08:23:04Z"},"comments":1,"created_at":"2022-09-20T03:48:07Z","updated_at":"2022-11-14T09:23:50Z","closed_at":"2022-11-14T09:23:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Bug description\r\n\r\nA class type used as key for a dict is valid, but is incorrectly reported as unhashable. \r\n\r\nSee Expected Behavior for example.\r\n\r\n### Configuration\r\n\r\nhttps://github.com/crim-ca/weaver/blob/master/.pylintrc\r\n\r\n### Command used\r\n\r\n```shell\r\npylint \\\r\n\t--load-plugins pylint_quotes \\\r\n\t--rcfile=\"$(APP_ROOT)/.pylintrc\" \\\r\n\t--reports y \\\r\n\t\"$(APP_ROOT)/weaver\" \"$(APP_ROOT)/tests\"\r\n```\r\n\r\n\r\n### Pylint output\r\n\r\n```shell\r\n************* Module weaver.store.mongodb\r\nweaver/store/mongodb.py:426:12: E1143: 'Process' is unhashable and can't be used as a key in a dict (unhashable-member)\r\nweaver/store/mongodb.py:432:48: E1143: 'Process' is unhashable and can't be used as a key in a dict (unhashable-member)\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\nThe specific class I used is defined here: https://github.com/crim-ca/weaver/blob/master/weaver/datatype.py#L1778\r\n\r\nIt essentially derive from a `dict` base, and creates a class type. \r\nWhen calling the below code, everything works as expected, but pylint still thinks it is not hashable. \r\n\r\n```python \r\nfrom weaver.datatype import Process\r\nd = {Process: \"test\"}\r\nd[Process]  # outputs 'test' \r\n```\r\n\r\n### Pylint version\r\n\r\n```shell\r\n‚ùØ pylint --version\r\npylint 2.15.3\r\nastroid 2.12.10\r\nPython 3.7.9 (default, Aug 31 2020, 12:42:55) \r\n[GCC 7.3.0]\r\n```\r\n\r\n\r\n### OS / Environment\r\n\r\nUbuntu 20.04\r\n\r\n### Additional dependencies\r\n\r\naenum==3.1.11\r\naiohttp==3.8.1\r\naiosignal==1.2.0\r\nalabaster==0.7.12\r\nalembic==1.4.3\r\namqp==5.1.0\r\nappdirs==1.4.4\r\nargcomplete==2.0.0\r\nasciitree==0.3.3\r\nasn1crypto==1.5.1\r\nastor==0.8.1\r\nastroid==2.12.10\r\nasync-timeout==4.0.2\r\nasynctest==0.13.0\r\nattrs==20.3.0\r\nAuthomatic @ https://github.com/fmigneault/authomatic/archive/httplib-port.zip\r\nautopep8==1.5.7\r\naws-sam-translator==1.26.0\r\naws-xray-sdk==2.6.0\r\nawswrangler==2.16.1\r\nBabel==2.8.0\r\nbackoff==2.1.2\r\nbagit==1.8.1\r\nbandit==1.6.2\r\nbcrypt==3.2.2\r\nBeaker==1.11.0\r\nbeautifulsoup4==4.9.1\r\nbilliard==3.6.4.0\r\nboto==2.49.0\r\nboto3==1.21.11\r\nbotocore==1.24.11\r\nbump2version==1.0.0\r\nCacheControl==0.11.7\r\ncached-property==1.5.2\r\ncelery==5.2.2\r\ncertifi==2021.5.30\r\ncffi==1.15.0\r\ncfn-lint==0.35.1\r\nChameleon==3.10.1\r\nchardet==4.0.0\r\ncharset-normalizer==2.0.6\r\nclick==8.1.0\r\nclick-didyoumean==0.3.0\r\nclick-plugins==1.1.1\r\nclick-repl==0.2.0\r\ncligj==0.7.2\r\ncloud-sptheme==1.10.1.post20200504175005\r\ncodacy-coverage==1.3.11\r\ncolander==1.8.3\r\ncoloredlogs==15.0\r\nconfigparser==4.0.2\r\ncornice==6.0.1\r\ncornice-swagger @ git+https://github.com/fmigneault/cornice.ext.swagger.git@70eb7022d9ecde48aaae951ac606f23d5a71b84f\r\ncoverage==5.2.1\r\ncryptography==36.0.1\r\ncwltool==3.0.20200324120055\r\ndecorator==4.4.2\r\ndefusedxml==0.7.1\r\ndicttoxml==1.7.4\r\ndill==0.3.5.1\r\ndistlib==0.3.1\r\ndnspython==1.16.0\r\ndoc8==0.11.2\r\ndocformatter==1.5.0\r\ndocker==5.0.3\r\ndocutils==0.17.1\r\ndparse==0.5.1\r\ndrmaa==0.7.9\r\nduration==1.1.1\r\necdsa==0.14.1\r\nesgf-compute-api @ git+https://github.com/ESGF/esgf-compute-api.git@8faf829abb3ba0434715c4db44440cfb9c71b55f\r\net-xmlfile==1.1.0\r\nfasteners==0.17.3\r\nfilelock==3.0.12\r\nFiona==1.8.21\r\nflake8==3.8.3\r\nflufl.enum==4.1.1\r\nflynt==0.76\r\nfrozenlist==1.3.1\r\nfuture==0.18.2\r\ngeotiff==0.2.4\r\ngitdb==4.0.5\r\nGitPython==3.1.8\r\ngremlinpython==3.6.1\r\ngunicorn==20.1.0\r\nhumanfriendly==9.1\r\nhumanize==3.3.0\r\nhupper==1.10.2\r\nidna==3.2\r\nimagesize==1.2.0\r\nimportlib-metadata==4.11.3\r\nimportlib-resources==5.4.0\r\niniconfig==1.0.1\r\niso8601==0.1.14\r\nisodate==0.6.0\r\nisort==4.3.21\r\nJinja2==3.0.3\r\njmespath==0.10.0\r\njson2xml==3.16.0\r\njsondiff==1.2.0\r\njsonpatch==1.26\r\njsonpath-ng==1.5.3\r\njsonpickle==1.4.1\r\njsonpointer==2.0\r\njsonschema==4.4.0\r\njunit-xml==1.9\r\nkombu==5.2.4\r\nlazy-object-proxy @ file:///tmp/build/80754af9/lazy-object-proxy_1616529086024/work\r\nlockfile==0.12.2\r\nlxml==4.8.0\r\n-e git+https://github.com/ouranosinc/magpie@6595ece40ce194ff37cc2c9c0ef42fef7f6f9efb#egg=magpie\r\nMako==1.1.6\r\nMarkupSafe==2.1.1\r\nmccabe==0.6.1\r\nmemory-profiler==0.60.0\r\nmistune==0.8.4\r\nmkl-fft==1.3.1\r\nmkl-random @ file:///tmp/build/80754af9/mkl_random_1626179032232/work\r\nmkl-service==2.4.0\r\nmock==3.0.5\r\nmore-itertools==5.0.0\r\nmoto==3.1.1\r\nmultidict==6.0.2\r\nmunch==2.5.0\r\nmypy-extensions==0.4.3\r\nnest-asyncio==1.5.5\r\nnetworkx==2.5\r\nnumcodecs==0.9.1\r\nnumpy @ file:///opt/conda/conda-bld/numpy_and_numpy_base_1653915516269/work\r\noauthlib==3.2.0\r\nopenpyxl==3.0.10\r\nopensearch-py==1.1.0\r\nOWSLib==0.27.2\r\npackaging==20.4\r\npaginate==0.5.6\r\npaginate-sqlalchemy==0.3.1\r\npandas==1.3.5\r\npasslib==1.7.4\r\nPaste==3.4.4\r\nPasteDeploy==2.1.1\r\npathlib2==2.3.5\r\npbr==5.5.0\r\npg8000==1.29.1\r\nPint==0.18\r\npipdeptree==2.2.1\r\nplaster==1.0\r\nplaster-pastedeploy==0.7\r\nplatformdirs==2.5.1\r\npluggy==0.13.1\r\nply==3.11\r\nprogressbar2==4.0.0\r\nprompt-toolkit==3.0.28\r\nprov==1.5.1\r\npsutil==5.8.0\r\npsycopg2-binary==2.9.3\r\npy @ file:///tmp/build/80754af9/py_1593446248552/work\r\npyarrow==7.0.0\r\npyasn1==0.4.8\r\npycodestyle==2.6.0\r\npycparser==2.20\r\npydocstyle==6.1.1\r\npydot==1.4.2\r\npyflakes==2.2.0\r\nPygments==2.6.1\r\npylint==2.15.3\r\npylint-quotes==0.2.1\r\npymongo==3.12.0\r\nPyMySQL==1.0.2\r\npyOpenSSL==20.0.1\r\npyparsing==2.4.7\r\npyproj==3.2.1\r\npyramid==1.10.8\r\npyramid-beaker==0.8\r\npyramid-celery==4.0.0\r\npyramid-chameleon==0.3\r\npyramid-debugtoolbar==4.9\r\npyramid-mako==1.1.0\r\npyramid-retry==2.1.1\r\npyramid-rewrite==0.2\r\npyramid-rpc==0.8\r\npyramid-storage==1.0.0\r\npyramid-tm==2.4\r\npyramid-twitcher==0.5.3\r\npyrsistent==0.17.3\r\npystac==1.4.0\r\npystac-client==0.3.3\r\npytest==6.1.2\r\npython-dateutil==2.8.2\r\npython-dotenv==0.20.0\r\npython-editor==1.0.4\r\npython-jose==3.2.0\r\npython-utils==3.3.3\r\npython3-openid==3.2.0\r\npytz==2021.3\r\npywps==4.5.1\r\nPyYAML==6.0\r\nrdflib==4.2.2\r\nrdflib-jsonld==0.5.0\r\nredshift-connector==2.0.908\r\nrepoze.lru==0.7\r\nrequests==2.26.0\r\nrequests-aws4auth==1.1.2\r\nrequests-file==1.5.1\r\n-e git+ssh://git@github.com/Ouranosinc/requests-magpie.git@b26ed3c2cee4395c1bd745c7e102a442ba2199ae#egg=requests_magpie\r\nrequests-oauthlib==1.3.0\r\nrequests-toolbelt==0.9.1\r\nresponses==0.20.0\r\nrestructuredtext-lint==1.3.1\r\nrsa==4.6\r\nruamel.yaml==0.16.5\r\nruamel.yaml.clib==0.2.2\r\ns3transfer==0.5.2\r\nsafety==1.10.3\r\nschema-salad==5.0.20200416112825\r\nscramp==1.4.1\r\nShapely @ file:///home/conda/feedstock_root/build_artifacts/shapely_1660800422489/work\r\nshellescape==3.4.1\r\nsimplejson==3.17.6\r\nsix @ file:///tmp/build/80754af9/six_1623709665295/work\r\nsmmap==3.0.4\r\nsnowballstemmer==2.0.0\r\nsoupsieve==2.0.1\r\nSphinx==4.4.0\r\nsphinx-argparse==0.3.1\r\nsphinx-autoapi==1.7.0\r\nsphinx-autodoc-typehints==1.12.0\r\nsphinx-paramlinks==0.4.2\r\nsphinx-prompt==1.5.0\r\nsphinx-rtd-theme==1.0.0\r\nSphinx-Substitution-Extensions==2020.9.30.0\r\nsphinxcontrib-applehelp==1.0.2\r\nsphinxcontrib-devhelp==1.0.2\r\nsphinxcontrib-htmlhelp==2.0.0\r\nsphinxcontrib-jsmath==1.0.1\r\nsphinxcontrib-qthelp==1.0.3\r\nsphinxcontrib-redoc==1.6.0\r\nsphinxcontrib-serializinghtml==1.1.5\r\nSQLAlchemy==1.3.22\r\nSQLAlchemy-Utils==0.37.9\r\nsshpubkeys==3.1.0\r\nstevedore==3.2.1\r\nstopit==1.1.2\r\nstrict-rfc3339==0.7\r\nthreddsclient==0.4.2\r\ntifffile==2021.7.2\r\ntoml @ file:///tmp/build/80754af9/toml_1592853716807/work\r\ntomli==2.0.1\r\ntomlkit==0.11.4\r\ntox==3.22.0\r\ntransaction==3.0.1\r\ntranslationstring==1.4\r\ntyped-ast @ file:///tmp/build/80754af9/typed-ast_1624953380449/work\r\ntyping-extensions @ file:///tmp/build/80754af9/typing_extensions_1631814937681/work\r\nUnidecode==1.1.1\r\nuntokenize==0.1.1\r\nurllib3==1.26.7\r\nurlmatch==1.0.1\r\nvenusian==3.0.0\r\nvine==5.0.0\r\nvirtualenv==20.4.2\r\nwaitress==1.4.4\r\nwcwidth==0.2.5\r\n-e git+https://github.com/crim-ca/weaver@860fae706b2b1c74beb500a610be0b2a4ad78d0b#egg=weaver\r\nWebOb==1.8.7\r\nwebsocket-client==0.57.0\r\nWebTest==2.0.35\r\nWerkzeug==2.2.2\r\nwrapt==1.12.1\r\nWSGIProxy==0.2.2\r\nWSGIProxy2==0.4.6\r\nxmltodict==0.12.0\r\nyarl==1.8.1\r\nytools==1.0.0\r\nzarr==2.11.1\r\nziggurat-foundations==0.8.4\r\nzipp @ file:///tmp/build/80754af9/zipp_1633618647012/work\r\nzope.deprecation==4.4.0\r\nzope.interface==4.7.2\r\nzope.sqlalchemy==1.6\r\n","closed_by":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/7501/timeline","performed_via_github_app":null,"state_reason":"completed"}