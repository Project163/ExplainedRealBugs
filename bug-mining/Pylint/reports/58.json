{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952/events","html_url":"https://github.com/pylint-dev/pylint/issues/1952","id":307262447,"node_id":"MDU6SXNzdWUzMDcyNjI0NDc=","number":1952,"title":"Enhancement: Add a [consider-using-join]-checker ","user":{"login":"pheanex","id":10408624,"node_id":"MDQ6VXNlcjEwNDA4NjI0","avatar_url":"https://avatars.githubusercontent.com/u/10408624?v=4","gravatar_id":"","url":"https://api.github.com/users/pheanex","html_url":"https://github.com/pheanex","followers_url":"https://api.github.com/users/pheanex/followers","following_url":"https://api.github.com/users/pheanex/following{/other_user}","gists_url":"https://api.github.com/users/pheanex/gists{/gist_id}","starred_url":"https://api.github.com/users/pheanex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pheanex/subscriptions","organizations_url":"https://api.github.com/users/pheanex/orgs","repos_url":"https://api.github.com/users/pheanex/repos","events_url":"https://api.github.com/users/pheanex/events{/privacy}","received_events_url":"https://api.github.com/users/pheanex/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-21T14:14:23Z","updated_at":"2018-03-26T16:18:03Z","closed_at":"2018-03-26T14:55:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**I suggest adding a checker for unidiomatic concatenation of strings with a for-loop**\r\n\r\nExample:\r\n```python\r\n# bad\r\nresult = ''\r\nfor letter in ['a', 'b', 'c']:\r\n    result += letter\r\n\r\n# good\r\nresult = ''.join(['a', 'b', 'c'])\r\n```\r\nThe idiomatic way would be to use a ''.join()\"-statement.\r\nSee i.e. [docs.python-guide.org](http://docs.python-guide.org/en/latest/writing/style/#create-a-string-from-a-list) or [blogpost by jeffknupp](https://jeffknupp.com/blog/2012/10/04/writing-idiomatic-python/). (Thanks @jeffknupp)\r\n\r\nFor functional test-cases i came up with the following (feel free to suggest additions):\r\n\r\n```python\r\n# Variations of 'result'\r\nresult = ''  # [consider-using-join]\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = 'header'  # [consider-using-join]\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = another_result = ''  # [consider-using-join]\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = 0  # result is not a string\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nreslut = ''  # wrong name / initial variable missing\r\nfor number in ['1', '2', '3']:\r\n    result += [number]\r\n\r\nstring_variable = ''\r\nresult = string_variable  # type of 'result' not obviously a string\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = ''\r\nanother_result = ''  # result defined too early\r\nfor number in ['1', '2', '3']:\r\n    result += [number]\r\n\r\nfor number in ['1', '2', '3']:  # 'result'-definition missing\r\n    result += number\r\n\r\n\r\n# Variations of 'number'\r\nresult = ''  # no concatenation (iterator-name differs)\r\nfor name in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = ''  # no concatenation (iterator-name differs)\r\nfor _ in ['1', '2', '3']:\r\n    result += number\r\n  # 'exprlist' is not a single name\r\nfor index, number in ['1', '2', '3']:\r\n    result += number\r\n\r\n\r\n# Variations of 'iterable'\r\nresult = ''  # [consider-using-join]\r\nfor number in []:\r\n    result += number\r\n\r\nresult = ''  # [consider-using-join]\r\nfor number in \"a text\":\r\n    result += number\r\n\r\nresult = ''  # [consider-using-join]\r\nfor number in [1, 2, 3]:\r\n    result += number\r\n\r\na_list = [1, 2, 3]\r\nresult = ''  # [consider-using-join]\r\nfor number in a_list:\r\n    result += number\r\n\r\nresult = ''  # [consider-using-join]\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n\r\nresult = ''  # [consider-using-join]\r\nfor number in undefined_iterable:\r\n    result += number\r\n\r\n\r\n# Variations of loop-body\r\nresult = ''  # addition is not the only part of the body\r\nfor number in ['1', '2', '3']:\r\n    print(number)\r\n    result += number\r\n\r\nresult = ''  # addition is not the only part of the body\r\nfor number in ['1', '2', '3']:\r\n    result += number\r\n    print(number)\r\n\r\nresult = ''  # augmented addition is not a simple one\r\nfor number in ['1', '2', '3']:\r\n    result += '4' + number\r\n\r\nresult = ''  # assignment is not augmented\r\nfor number in ['1', '2', '3']:\r\n    result = number\r\n\r\nresult = ''  # augmented assignment is not an addition\r\nfor number in ['1', '2', '3']:\r\n    result -= number\r\n\r\nresult = ''  # addition is not the 'number'-iterable\r\nfor number in ['1', '2', '3']:\r\n    result += another_number\r\n\r\nresult = ''  # [consider-using-join]\r\nfor number in ['1', '2', '3']: result += number\r\n```\r\nFor the implementation of the checker i was thinking of looking for string-variable assignments followed by a specific for loop-construct with a particular body.\r\n\r\nHow do you feel about this enhancement?\r\nThoughs, comments, objections?","closed_by":{"login":"PCManticore","id":448166,"node_id":"MDQ6VXNlcjQ0ODE2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/448166?v=4","gravatar_id":"","url":"https://api.github.com/users/PCManticore","html_url":"https://github.com/PCManticore","followers_url":"https://api.github.com/users/PCManticore/followers","following_url":"https://api.github.com/users/PCManticore/following{/other_user}","gists_url":"https://api.github.com/users/PCManticore/gists{/gist_id}","starred_url":"https://api.github.com/users/PCManticore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PCManticore/subscriptions","organizations_url":"https://api.github.com/users/PCManticore/orgs","repos_url":"https://api.github.com/users/PCManticore/repos","events_url":"https://api.github.com/users/PCManticore/events{/privacy}","received_events_url":"https://api.github.com/users/PCManticore/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/1952/timeline","performed_via_github_app":null,"state_reason":"completed"}