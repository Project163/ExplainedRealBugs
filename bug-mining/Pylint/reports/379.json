{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510","repository_url":"https://api.github.com/repos/pylint-dev/pylint","labels_url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510/labels{/name}","comments_url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510/comments","events_url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510/events","html_url":"https://github.com/pylint-dev/pylint/issues/10510","id":3344173770,"node_id":"I_kwDOAtdnV87HVArK","number":10510,"title":"AstroidError crash on extremely specific enumerate to dictionary comprehension.","user":{"login":"grantthchen","id":86397267,"node_id":"MDQ6VXNlcjg2Mzk3MjY3","avatar_url":"https://avatars.githubusercontent.com/u/86397267?v=4","gravatar_id":"","url":"https://api.github.com/users/grantthchen","html_url":"https://github.com/grantthchen","followers_url":"https://api.github.com/users/grantthchen/followers","following_url":"https://api.github.com/users/grantthchen/following{/other_user}","gists_url":"https://api.github.com/users/grantthchen/gists{/gist_id}","starred_url":"https://api.github.com/users/grantthchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantthchen/subscriptions","organizations_url":"https://api.github.com/users/grantthchen/orgs","repos_url":"https://api.github.com/users/grantthchen/repos","events_url":"https://api.github.com/users/grantthchen/events{/privacy}","received_events_url":"https://api.github.com/users/grantthchen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1041256788,"node_id":"MDU6TGFiZWwxMDQxMjU2Nzg4","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Crash%20%F0%9F%92%A5","name":"Crash ðŸ’¥","color":"c64d6f","default":false,"description":"A bug that makes pylint crash"},{"id":4259347450,"node_id":"LA_kwDOAtdnV8794Hv6","url":"https://api.github.com/repos/pylint-dev/pylint/labels/Needs%20PR","name":"Needs PR","color":"378805","default":false,"description":"This issue is accepted, sufficiently specified and now needs an implementation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pylint-dev/pylint/milestones/129","html_url":"https://github.com/pylint-dev/pylint/milestone/129","labels_url":"https://api.github.com/repos/pylint-dev/pylint/milestones/129/labels","id":13459346,"node_id":"MI_kwDOAtdnV84AzV-S","number":129,"title":"3.3.9","description":"","creator":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":19,"state":"closed","created_at":"2025-08-09T09:10:23Z","updated_at":"2025-10-18T14:25:01Z","due_on":null,"closed_at":"2025-10-05T16:03:39Z"},"comments":2,"created_at":"2025-08-22T05:14:22Z","updated_at":"2025-08-22T11:33:59Z","closed_at":"2025-08-22T08:17:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Bug description\n\nVery new to submitting bugs, and this is really easily circumvented, but the scary error message prompted me to post this in case it's something of use to Pylint developers.\n\nWhen parsing the following ``a.py``:\n\n```python\nxs = [1, 2, 3]\ntestdict = {j: i for i, j in enumerate(xs, -len(xs))}\n```\n\nPylint crashes with AstroidError.\n\nThe following code works without issues:\n\n```python\nxs = [1, 2, 3]\ntestdict = {j: i for i, j in enumerate([1, 2, 3], -len(xs))}\ntestdict = {j: i for i, j in enumerate(xs, len(xs))}\ns = -len(xs)\ntestdict = {j: i for i, j in enumerate(xs, s)}\ntestdict = {j: i for i, j in list(enumerate(xs, -len(xs)))}\ntestdict = {j: i for i, j in dict(enumerate(xs, -len(xs))).items()}\n```\n\n### Configuration\n\n```ini\n\n```\n\n### Command used\n\n```shell\npylint a.py\n```\n\n### Pylint output\n\n<details open>\n    <summary>\n        pylint crashed with a ``AstroidError`` and with the following stacktrace:\n    </summary>\n\n```\nTraceback (most recent call last):\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/lint/pylinter.py\", line 789, in _lint_file\n    check_astroid_module(module)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/lint/pylinter.py\", line 1018, in check_astroid_module\n    retval = self._check_astroid_module(\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/lint/pylinter.py\", line 1070, in _check_astroid_module\n    walker.walk(node)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/utils/ast_walker.py\", line 94, in walk\n    self.walk(child)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/utils/ast_walker.py\", line 94, in walk\n    self.walk(child)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/utils/ast_walker.py\", line 94, in walk\n    self.walk(child)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/utils/ast_walker.py\", line 91, in walk\n    callback(astroid)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/checkers/refactoring/refactoring_checker.py\", line 1814, in visit_comprehension\n    self._check_unnecessary_list_index_lookup(node)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/checkers/refactoring/refactoring_checker.py\", line 2312, in _check_unnecessary_list_index_lookup\n    has_start_arg, confidence = self._enumerate_with_start(node)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/checkers/refactoring/refactoring_checker.py\", line 2437, in _enumerate_with_start\n    start_val, confidence = self._get_start_value(start_arg)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/checkers/refactoring/refactoring_checker.py\", line 2463, in _get_start_value\n    return node.operand.value, HIGH\nAttributeError: 'Call' object has no attribute 'value'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/lint/pylinter.py\", line 753, in _lint_files\n    self._lint_file(fileitem, module, check_astroid_module)\n  File \"/home/redacted/.vscode-server/extensions/ms-python.pylint-2024.2.0/bundled/libs/pylint/lint/pylinter.py\", line 791, in _lint_file\n    raise astroid.AstroidError from e\nastroid.exceptions.AstroidError\n```\n\n\n\n</details>\n\n### Expected behavior\n\nNo crash.\n\n### Pylint version\n\n```shell\npylint 3.2.7\nastroid 3.2.4\nPython 3.8.17 (default, Jul  5 2023, 21:04:15) \n[GCC 11.2.0]\n```\n\n### OS / Environment\n\nlinux (Linux)\n\n### Additional dependencies\n\n```python\n\n```","closed_by":{"login":"Pierre-Sassoulas","id":5493666,"node_id":"MDQ6VXNlcjU0OTM2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5493666?v=4","gravatar_id":"","url":"https://api.github.com/users/Pierre-Sassoulas","html_url":"https://github.com/Pierre-Sassoulas","followers_url":"https://api.github.com/users/Pierre-Sassoulas/followers","following_url":"https://api.github.com/users/Pierre-Sassoulas/following{/other_user}","gists_url":"https://api.github.com/users/Pierre-Sassoulas/gists{/gist_id}","starred_url":"https://api.github.com/users/Pierre-Sassoulas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pierre-Sassoulas/subscriptions","organizations_url":"https://api.github.com/users/Pierre-Sassoulas/orgs","repos_url":"https://api.github.com/users/Pierre-Sassoulas/repos","events_url":"https://api.github.com/users/Pierre-Sassoulas/events{/privacy}","received_events_url":"https://api.github.com/users/Pierre-Sassoulas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pylint-dev/pylint/issues/10510/timeline","performed_via_github_app":null,"state_reason":"completed"}