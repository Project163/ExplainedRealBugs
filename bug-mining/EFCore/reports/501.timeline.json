[{"id":13051319185,"node_id":"LE_lADOAPaMMs6LOzlMzwAAAAMJ61OR","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319185","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:26Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"id":13051319194,"node_id":"LE_lADOAPaMMs6LOzlMzwAAAAMJ61Oa","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319194","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:26Z","label":{"name":"needs-design","color":"fbca04"},"performed_via_github_app":null},{"id":13051319207,"node_id":"LE_lADOAPaMMs6LOzlMzwAAAAMJ61On","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319207","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:26Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"id":13051319216,"node_id":"LE_lADOAPaMMs6LOzlMzwAAAAMJ61Ow","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319216","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:26Z","label":{"name":"type-enhancement","color":"bfe5bf"},"performed_via_github_app":null},{"id":13051319334,"node_id":"MEE_lADOAPaMMs6LOzlMzwAAAAMJ61Qm","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319334","actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:27Z","performed_via_github_app":null},{"id":13051319346,"node_id":"SE_lADOAPaMMs6LOzlMzwAAAAMJ61Qy","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13051319346","actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-06-05T13:25:27Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T13:31:51Z","updated_at":"2024-06-05T13:31:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172","repository_url":"https://api.github.com/repos/npgsql/efcore.pg","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172/labels{/name}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172/comments","events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172/events","html_url":"https://github.com/npgsql/efcore.pg/issues/3172","id":2300558283,"node_id":"I_kwDOA1URy86JH7vL","number":3172,"title":"List Of List to JsonB .Net 8","user":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2024-05-16T14:22:41Z","updated_at":"2024-06-05T13:31:52Z","closed_at":"2024-06-05T13:31:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":55906763,"node_id":"MDEwOlJlcG9zaXRvcnk1NTkwNjc2Mw==","name":"efcore.pg","full_name":"npgsql/efcore.pg","private":false,"owner":{"login":"npgsql","id":5766497,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU3NjY0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/5766497?v=4","gravatar_id":"","url":"https://api.github.com/users/npgsql","html_url":"https://github.com/npgsql","followers_url":"https://api.github.com/users/npgsql/followers","following_url":"https://api.github.com/users/npgsql/following{/other_user}","gists_url":"https://api.github.com/users/npgsql/gists{/gist_id}","starred_url":"https://api.github.com/users/npgsql/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npgsql/subscriptions","organizations_url":"https://api.github.com/users/npgsql/orgs","repos_url":"https://api.github.com/users/npgsql/repos","events_url":"https://api.github.com/users/npgsql/events{/privacy}","received_events_url":"https://api.github.com/users/npgsql/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/npgsql/efcore.pg","description":"Entity Framework Core provider for PostgreSQL","fork":false,"url":"https://api.github.com/repos/npgsql/efcore.pg","forks_url":"https://api.github.com/repos/npgsql/efcore.pg/forks","keys_url":"https://api.github.com/repos/npgsql/efcore.pg/keys{/key_id}","collaborators_url":"https://api.github.com/repos/npgsql/efcore.pg/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/npgsql/efcore.pg/teams","hooks_url":"https://api.github.com/repos/npgsql/efcore.pg/hooks","issue_events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/events{/number}","events_url":"https://api.github.com/repos/npgsql/efcore.pg/events","assignees_url":"https://api.github.com/repos/npgsql/efcore.pg/assignees{/user}","branches_url":"https://api.github.com/repos/npgsql/efcore.pg/branches{/branch}","tags_url":"https://api.github.com/repos/npgsql/efcore.pg/tags","blobs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/npgsql/efcore.pg/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/refs{/sha}","trees_url":"https://api.github.com/repos/npgsql/efcore.pg/git/trees{/sha}","statuses_url":"https://api.github.com/repos/npgsql/efcore.pg/statuses/{sha}","languages_url":"https://api.github.com/repos/npgsql/efcore.pg/languages","stargazers_url":"https://api.github.com/repos/npgsql/efcore.pg/stargazers","contributors_url":"https://api.github.com/repos/npgsql/efcore.pg/contributors","subscribers_url":"https://api.github.com/repos/npgsql/efcore.pg/subscribers","subscription_url":"https://api.github.com/repos/npgsql/efcore.pg/subscription","commits_url":"https://api.github.com/repos/npgsql/efcore.pg/commits{/sha}","git_commits_url":"https://api.github.com/repos/npgsql/efcore.pg/git/commits{/sha}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/comments{/number}","issue_comment_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/comments{/number}","contents_url":"https://api.github.com/repos/npgsql/efcore.pg/contents/{+path}","compare_url":"https://api.github.com/repos/npgsql/efcore.pg/compare/{base}...{head}","merges_url":"https://api.github.com/repos/npgsql/efcore.pg/merges","archive_url":"https://api.github.com/repos/npgsql/efcore.pg/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/npgsql/efcore.pg/downloads","issues_url":"https://api.github.com/repos/npgsql/efcore.pg/issues{/number}","pulls_url":"https://api.github.com/repos/npgsql/efcore.pg/pulls{/number}","milestones_url":"https://api.github.com/repos/npgsql/efcore.pg/milestones{/number}","notifications_url":"https://api.github.com/repos/npgsql/efcore.pg/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/labels{/name}","releases_url":"https://api.github.com/repos/npgsql/efcore.pg/releases{/id}","deployments_url":"https://api.github.com/repos/npgsql/efcore.pg/deployments","created_at":"2016-04-10T15:26:37Z","updated_at":"2025-11-08T12:48:36Z","pushed_at":"2025-10-30T13:49:28Z","git_url":"git://github.com/npgsql/efcore.pg.git","ssh_url":"git@github.com:npgsql/efcore.pg.git","clone_url":"https://github.com/npgsql/efcore.pg.git","svn_url":"https://github.com/npgsql/efcore.pg","homepage":null,"size":8462,"stargazers_count":1715,"watchers_count":1715,"language":"C#","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":249,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":281,"license":{"key":"postgresql","name":"PostgreSQL License","spdx_id":"PostgreSQL","url":"https://api.github.com/licenses/postgresql","node_id":"MDc6TGljZW5zZTMx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["database","dotnet","entity-framework","entity-framework-core","npgsql","postgres","postgresql","sql"],"visibility":"public","forks":249,"open_issues":281,"watchers":1715,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm migrating a .net 6 project to .net 8.\r\n\r\nI have this entities:\r\n\r\n```\r\npublic class Entity\r\n{\r\n    public List<List<SubEntity>>? SubEntities{ get; set; }\r\n}\r\n\r\npublic class SubEntity\r\n{\r\n    public required string Key { get; set; }\r\n\r\n    public required string Value { get; set; }\r\n}\r\n```\r\n\r\n\r\nin **.net 6** by setting `HasColumnType('jsonb')` everything is ok, now with **.net 8** (https://www.npgsql.org/efcore/mapping/json.html#tojson-owned-entity-mapping) doing this:\r\n\r\n```\r\npublic class EntityConfiguration : IEntityTypeConfiguration<Entity>\r\n{\r\n    public void Configure(EntityTypeBuilder<Entity> builder)\r\n    {\r\n        builder.OwnsMany(x => x.SubEntities, r => { r.ToJson(); });\r\n    }\r\n}\r\n```\r\n\r\nThis error comes up:  `System.InvalidOperationException: Invalid token type: 'StartArray'.\r\n`\r\n```\r\n2024-05-16 15:43:05.4282||ERROR|TrackMiddleware.cs|NLogAppender|Exception: System.InvalidOperationException: Invalid token type: 'StartArray'.\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.IncludeJsonEntityCollection[TIncludingEntity,TIncludedCollectionElement](QueryContext queryContext, Object[] keyPropertyValues, JsonReaderData jsonReaderData, TIncludingEntity entity, Func`4 innerShaper, Action`1 getOrCreateCollectionObject, Action`2 fixup, Boolean trackingQuery)\r\n   at lambda_method718(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1.AddRange(IEnumerable`1 collection)\r\n   at MyProj.PostgreSQL.Repository.Entity.EntityRepository.GetTopFavoriteEntity(Int32 max) in G:\\MyProj\\MyProj.Cloud\\MyProj.PostgreSQL\\Repository\\Entity\\EntityRepository.cs:line 34\r\n   at MyProj.Web.Controllers.DashboardController.Index() in G:\\MyProj\\MyProj.Cloud\\MyProj.Web\\Controllers\\DashboardController.cs:line 23\r\n   at lambda_method698(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at MyProj.Web.Middleware.TrackMiddleware.Invoke(HttpContext context, IUnitOfWork unitOfWork) in G:\\MyProj\\MyProj.Cloud\\MyProj.Web\\Middleware\\TrackMiddleware.cs:line 67 StackTrace:    at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.IncludeJsonEntityCollection[TIncludingEntity,TIncludedCollectionElement](QueryContext queryContext, Object[] keyPropertyValues, JsonReaderData jsonReaderData, TIncludingEntity entity, Func`4 innerShaper, Action`1 getOrCreateCollectionObject, Action`2 fixup, Boolean trackingQuery)\r\n   at lambda_method718(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1.AddRange(IEnumerable`1 collection)\r\n   at MyProj.PostgreSQL.Repository.Entity.EntityRepository.GetTopFavoriteEntity(Int32 max) in G:\\MyProj\\MyProj.Cloud\\MyProj.PostgreSQL\\Repository\\Entity\\EntityRepository.cs:line 34\r\n   at MyProj.Web.Controllers.DashboardController.Index() in G:\\MyProj\\MyProj.Cloud\\MyProj.Web\\Controllers\\DashboardController.cs:line 23\r\n   at lambda_method698(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at MyProj.Web.Middleware.TrackMiddleware.Invoke(HttpContext context, IUnitOfWork unitOfWork) in G:\\MyProj\\MyProj.Cloud\\MyProj.Web\\Middleware\\TrackMiddleware.cs:line 67 | G:\\MyProj\\MyProj.Cloud\\MyProj.Web\\Middleware\\TrackMiddleware.cs:Invoke:127|\r\n```\r\n\r\n\r\n**This is what the contents of the jsonb column look like when created with .net 6:**\r\n```\r\n[\r\n   [\r\n      {\r\n         \"Key\":\"Test\",\r\n         \"Value\":\"0\"\r\n      },\r\n      {\r\n         \"Key\":\"Test2\",\r\n         \"Value\":\"0\"\r\n      }\r\n   ],\r\n   [\r\n      {\r\n         \"Key\":\"Test\",\r\n         \"Value\":\"650\"\r\n      },\r\n      {\r\n         \"Key\":\"Test2\",\r\n         \"Value\":\"150\"\r\n      }\r\n   ]\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3172/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T11:58:18Z","updated_at":"2024-06-10T11:58:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131","repository_url":"https://api.github.com/repos/npgsql/efcore.pg","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131/labels{/name}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131/comments","events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131/events","html_url":"https://github.com/npgsql/efcore.pg/issues/3131","id":2183149464,"node_id":"I_kwDOA1URy86CIDeY","number":3131,"title":"Jsonb[] mapping not working ","user":{"login":"sumit-sood-pluralsight","id":129252051,"node_id":"U_kgDOB7Q60w","avatar_url":"https://avatars.githubusercontent.com/u/129252051?v=4","gravatar_id":"","url":"https://api.github.com/users/sumit-sood-pluralsight","html_url":"https://github.com/sumit-sood-pluralsight","followers_url":"https://api.github.com/users/sumit-sood-pluralsight/followers","following_url":"https://api.github.com/users/sumit-sood-pluralsight/following{/other_user}","gists_url":"https://api.github.com/users/sumit-sood-pluralsight/gists{/gist_id}","starred_url":"https://api.github.com/users/sumit-sood-pluralsight/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumit-sood-pluralsight/subscriptions","organizations_url":"https://api.github.com/users/sumit-sood-pluralsight/orgs","repos_url":"https://api.github.com/users/sumit-sood-pluralsight/repos","events_url":"https://api.github.com/users/sumit-sood-pluralsight/events{/privacy}","received_events_url":"https://api.github.com/users/sumit-sood-pluralsight/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-03-13T05:30:11Z","updated_at":"2024-10-28T09:30:24Z","closed_at":"2024-10-28T09:30:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":55906763,"node_id":"MDEwOlJlcG9zaXRvcnk1NTkwNjc2Mw==","name":"efcore.pg","full_name":"npgsql/efcore.pg","private":false,"owner":{"login":"npgsql","id":5766497,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU3NjY0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/5766497?v=4","gravatar_id":"","url":"https://api.github.com/users/npgsql","html_url":"https://github.com/npgsql","followers_url":"https://api.github.com/users/npgsql/followers","following_url":"https://api.github.com/users/npgsql/following{/other_user}","gists_url":"https://api.github.com/users/npgsql/gists{/gist_id}","starred_url":"https://api.github.com/users/npgsql/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npgsql/subscriptions","organizations_url":"https://api.github.com/users/npgsql/orgs","repos_url":"https://api.github.com/users/npgsql/repos","events_url":"https://api.github.com/users/npgsql/events{/privacy}","received_events_url":"https://api.github.com/users/npgsql/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/npgsql/efcore.pg","description":"Entity Framework Core provider for PostgreSQL","fork":false,"url":"https://api.github.com/repos/npgsql/efcore.pg","forks_url":"https://api.github.com/repos/npgsql/efcore.pg/forks","keys_url":"https://api.github.com/repos/npgsql/efcore.pg/keys{/key_id}","collaborators_url":"https://api.github.com/repos/npgsql/efcore.pg/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/npgsql/efcore.pg/teams","hooks_url":"https://api.github.com/repos/npgsql/efcore.pg/hooks","issue_events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/events{/number}","events_url":"https://api.github.com/repos/npgsql/efcore.pg/events","assignees_url":"https://api.github.com/repos/npgsql/efcore.pg/assignees{/user}","branches_url":"https://api.github.com/repos/npgsql/efcore.pg/branches{/branch}","tags_url":"https://api.github.com/repos/npgsql/efcore.pg/tags","blobs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/npgsql/efcore.pg/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/refs{/sha}","trees_url":"https://api.github.com/repos/npgsql/efcore.pg/git/trees{/sha}","statuses_url":"https://api.github.com/repos/npgsql/efcore.pg/statuses/{sha}","languages_url":"https://api.github.com/repos/npgsql/efcore.pg/languages","stargazers_url":"https://api.github.com/repos/npgsql/efcore.pg/stargazers","contributors_url":"https://api.github.com/repos/npgsql/efcore.pg/contributors","subscribers_url":"https://api.github.com/repos/npgsql/efcore.pg/subscribers","subscription_url":"https://api.github.com/repos/npgsql/efcore.pg/subscription","commits_url":"https://api.github.com/repos/npgsql/efcore.pg/commits{/sha}","git_commits_url":"https://api.github.com/repos/npgsql/efcore.pg/git/commits{/sha}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/comments{/number}","issue_comment_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/comments{/number}","contents_url":"https://api.github.com/repos/npgsql/efcore.pg/contents/{+path}","compare_url":"https://api.github.com/repos/npgsql/efcore.pg/compare/{base}...{head}","merges_url":"https://api.github.com/repos/npgsql/efcore.pg/merges","archive_url":"https://api.github.com/repos/npgsql/efcore.pg/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/npgsql/efcore.pg/downloads","issues_url":"https://api.github.com/repos/npgsql/efcore.pg/issues{/number}","pulls_url":"https://api.github.com/repos/npgsql/efcore.pg/pulls{/number}","milestones_url":"https://api.github.com/repos/npgsql/efcore.pg/milestones{/number}","notifications_url":"https://api.github.com/repos/npgsql/efcore.pg/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/labels{/name}","releases_url":"https://api.github.com/repos/npgsql/efcore.pg/releases{/id}","deployments_url":"https://api.github.com/repos/npgsql/efcore.pg/deployments","created_at":"2016-04-10T15:26:37Z","updated_at":"2025-11-08T12:48:36Z","pushed_at":"2025-10-30T13:49:28Z","git_url":"git://github.com/npgsql/efcore.pg.git","ssh_url":"git@github.com:npgsql/efcore.pg.git","clone_url":"https://github.com/npgsql/efcore.pg.git","svn_url":"https://github.com/npgsql/efcore.pg","homepage":null,"size":8462,"stargazers_count":1715,"watchers_count":1715,"language":"C#","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":249,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":281,"license":{"key":"postgresql","name":"PostgreSQL License","spdx_id":"PostgreSQL","url":"https://api.github.com/licenses/postgresql","node_id":"MDc6TGljZW5zZTMx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["database","dotnet","entity-framework","entity-framework-core","npgsql","postgres","postgresql","sql"],"visibility":"public","forks":249,"open_issues":281,"watchers":1715,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi,\r\nI am using these packages in my .Net Core 8project :\r\n\r\n- Microsoft.EntityFrameworkCore 8.0.2\r\n- Npgsql 8.0.2\r\n- Npgsql.EntityFrameworkCore.PostgreSQL 8.0.2\r\n- EFCore.NamingConventions 8.0.3\r\n\r\nMy DBContext looks like this : \r\n`services.AddDbContext<MyDbContext>(\r\n    options => options.UseNpgsql(connectionStrings.ReadOnlyConnectionString)\r\n        .UseSnakeCaseNamingConvention()\r\n        .UseQueryTrackingBehavior(QueryTrackingBehavior.NoTracking)`\r\n\r\nWhen I am trying to map **the jsonb[] (jsonb Array) using OwnsMany it's throwing error**. I have added the mapping like this in the OnModelCreating :\r\n  `builder.Entity<SomeEntity>() .OwnsMany(auth => auth.AllContent, d => { d.ToJson(\"all_content\"); });`\r\n\r\nI have defined my POCO class as :\r\n ```\r\npublic class SomeEntity \r\n{     \r\n  public List<SomeContent> AllContent { get; set; } = []; \r\n}\r\n public class SomeContent {   \r\n  [JsonPropertyName(\"guid\")] \r\n  public string Id { get; set; } \r\n [JsonPropertyName(\"content_type\")] \r\n public string ContentType { get; set; } \r\n[JsonPropertyName(\"status\")] \r\npublic string Status { get; set; } \r\n}\r\n```\r\nWhen I am trying to access my Entity I am getting error : \"Reading as 'System.String' is not supported for fields having DataTypeName 'jsonb[]'\\nType 'String' required dynamic JSON serialization, which requires an explicit opt-in; call 'EnableDynamicJson' on 'NpgsqlDataSourceBuilder' or NpgsqlConnection.GlobalTypeMapper (see https://www.npgsql.org/doc/types/json.html and the 8.0 release notes for more details). Alternatively, if you meant to use Newtonsoft JSON.NET instead of System.Text.Json, call UseJsonNet() instead.\"\r\n\r\nIs jsob[] supported currently if yes Please suggest how to access jsonb[] or am I missing something. Thanks in Advance.","reactions":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/3131/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2160446307","html_url":"https://github.com/dotnet/efcore/issues/33913#issuecomment-2160446307","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33913","id":2160446307,"node_id":"IC_kwDOAPaMMs6Axctj","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T10:53:22Z","updated_at":"2024-06-11T10:53:22Z","body":"Notes following team discussion:\r\n\r\n- I verified that this is working \"as designed\" in that the entity type is `List<JsonbField>`--see model debug view below.\r\n- Queries also work \"fine\". (Note that \"working\" here means that `Capacity`, which is the only read-write property, is persisted to and from the database. The list contents is not persisted.)\r\n- Non-concrete types (e.g. ICollection) do not have this issue because they can't be mapped as an owned entity type by default.\r\n- Even though everything is working \"by-design\" here, it isn't working in the sense that the data is not being persisted. It's hard to see how doing this by convention can ever be correct.\r\n\r\nBottom line: we should blog this in validation if it is done by convention. Open question: what does \"by convention\" mean in this case? The code above is explicitly mapping the entity type `List<JsonbField>` using `OwnsMany`.\r\n\r\n```\r\nModel: \r\n  EntityType: MyEntity\r\n    Properties: \r\n      Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd\r\n    Navigations: \r\n      JsonbFields (List<List<JsonbField>>) Collection ToDependent List<JsonbField>\r\n    Keys: \r\n      Id PK\r\n  EntityType: List<JsonbField> Owned\r\n    Properties: \r\n      MyEntityId (no field, int) Shadow Required PK FK AfterSave:Throw\r\n      Id (no field, int) Shadow Required PK AfterSave:Throw ValueGenerated.OnAdd\r\n      Capacity (no field, int) Required\r\n    Keys: \r\n      MyEntityId, Id PK\r\n    Foreign keys: \r\n      List<JsonbField> {'MyEntityId'} -> MyEntity {'Id'} Required Ownership Cascade ToDependent: JsonbFields```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2160446307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T10:56:06Z","updated_at":"2024-06-11T10:56:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31237","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/31237/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/31237/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/31237/events","html_url":"https://github.com/dotnet/efcore/issues/31237","id":1800108433,"node_id":"I_kwDOAPaMMs5rS3mR","number":31237,"title":"Complex type collection support","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1900941630,"node_id":"MDU6TGFiZWwxOTAwOTQxNjMw","url":"https://api.github.com/repos/dotnet/efcore/labels/area-model-building","name":"area-model-building","color":"32b37b","default":false,"description":""},{"id":6678623180,"node_id":"LA_kwDOAPaMMs8AAAABjhOzzA","url":"https://api.github.com/repos/dotnet/efcore/labels/area-complex-types","name":"area-complex-types","color":"32b37b","default":false,"description":""},{"id":9022437988,"node_id":"LA_kwDOAPaMMs8AAAACGcd6ZA","url":"https://api.github.com/repos/dotnet/efcore/labels/rc-1","name":"rc-1","color":"ACB3D7","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/204","html_url":"https://github.com/dotnet/efcore/milestone/204","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/204/labels","id":11480673,"node_id":"MI_kwDOAPaMMs4Ary5h","number":204,"title":"10.0.0","description":"","creator":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":193,"state":"open","created_at":"2024-08-23T12:48:26Z","updated_at":"2025-11-05T08:24:30Z","due_on":null,"closed_at":null},"comments":9,"created_at":"2023-07-12T03:42:09Z","updated_at":"2025-09-08T19:56:18Z","closed_at":"2025-08-12T18:40:36Z","author_association":"MEMBER","type":{"id":1092406,"node_id":"IT_kwDOAIt-yc4AEKs2","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-10-08T09:10:05Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":1,"completed":1,"percent_completed":100},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The collections need to be ordered, since they will be mapped to JSON arrays. (Unless we allow to map to objects, see https://github.com/dotnet/efcore/issues/28861)\n\nThis only covers collections of reference types. For value types see #31411\n\n- [x] Model building and validation\n  - [x] Convention to automatically configure nested properties inside complex types as complex properties (and not navigations)\n  - [x] Throw for shadow properties on value complex types: #35337\n  - [x] Throw for complex collections not mapped to JSON\n  - [x] Warn when mapping a List as non-collection\n  - [x] Introduce `IStructuralProperty` with `ITypeBase TargetType {get;}` property\n  - [x] https://github.com/dotnet/efcore/issues/36427\n  - [x] https://github.com/dotnet/efcore/issues/36402)\n- [x] Compiled model support\n- [x] Refactor change tracking property accessors\n- [x] Change tracking support\n- [x] Query support ([#36296](https://github.com/dotnet/efcore/issues/36296), @roji)\n- [ ] ~ExecuteUpdate support~","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31237/reactions","total_count":349,"+1":348,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/31237/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":13352240187,"node_id":"AE_lADOAPaMMs6LOzlMzwAAAAMb2wQ7","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13352240187","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-07-01T14:16:54Z","assignee":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":13476088321,"node_id":"MIE_lADOAPaMMs6LOzlMzwAAAAMjPMoB","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13476088321","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-07-11T18:44:39Z","milestone":{"title":"9.0.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2223654702","html_url":"https://github.com/dotnet/efcore/issues/33913#issuecomment-2223654702","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33913","id":2223654702,"node_id":"IC_kwDOAPaMMs6Eikcu","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-11T18:45:05Z","updated_at":"2024-07-11T18:45:05Z","body":"Note from design meeting: error, but make it suppressible.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2223654702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13476093043,"node_id":"UNLE_lADOAPaMMs6LOzlMzwAAAAMjPNxz","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13476093043","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-07-11T18:45:10Z","label":{"name":"needs-design","color":"fbca04"},"performed_via_github_app":null},{"id":13592557349,"node_id":"REFE_lADOAPaMMs6LOzlMzwAAAAMqLfcl","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13592557349","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"be4deb2b812239d8cfdd1f57f4596128edab6247","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/be4deb2b812239d8cfdd1f57f4596128edab6247","created_at":"2024-07-21T14:25:03Z","performed_via_github_app":null},{"id":13592734128,"node_id":"REFE_lADOAPaMMs6LOzlMzwAAAAMqMKmw","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13592734128","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6dfc448560950c3c61df6210830be8bb03974ae9","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/6dfc448560950c3c61df6210830be8bb03974ae9","created_at":"2024-07-21T15:13:15Z","performed_via_github_app":null},{"actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-21T15:14:07Z","updated_at":"2024-07-21T15:14:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/34264","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/34264/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/34264/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/34264/events","html_url":"https://github.com/dotnet/efcore/pull/34264","id":2421455635,"node_id":"PR_kwDOAPaMMs52BB4q","number":34264,"title":"Throw (suppressible) for common concrete collection types mapped as entity types","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-07-21T15:14:06Z","updated_at":"2024-07-23T08:09:53Z","closed_at":"2024-07-23T08:09:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/34264","html_url":"https://github.com/dotnet/efcore/pull/34264","diff_url":"https://github.com/dotnet/efcore/pull/34264.diff","patch_url":"https://github.com/dotnet/efcore/pull/34264.patch","merged_at":"2024-07-23T08:09:51Z"},"body":"Fixes #33913\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/34264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/34264/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":13592759108,"node_id":"LE_lADOAPaMMs6LOzlMzwAAAAMqMQtE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13592759108","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-07-21T15:15:40Z","label":{"name":"closed-fixed","color":"777777"},"performed_via_github_app":null},{"id":13611712108,"node_id":"CE_lADOAPaMMs6LOzlMzwAAAAMrUj5s","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13611712108","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-07-23T08:09:52Z","state_reason":null,"performed_via_github_app":null},{"id":13611712180,"node_id":"CE_lADOAPaMMs6LOzlMzwAAAAMrUj60","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13611712180","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"7dd8e5bd404df2da8e0f9388cf345d5d841176b7","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/7dd8e5bd404df2da8e0f9388cf345d5d841176b7","created_at":"2024-07-23T08:09:52Z","state_reason":null,"performed_via_github_app":null},{"id":13675598593,"node_id":"MEE_lADOAPaMMs6LOzlMzwAAAAMvIRMB","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675598593","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:42:55Z","performed_via_github_app":null},{"id":13675598606,"node_id":"SE_lADOAPaMMs6LOzlMzwAAAAMvIRMO","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675598606","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:42:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2255242080","html_url":"https://github.com/dotnet/efcore/issues/33913#issuecomment-2255242080","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33913","id":2255242080,"node_id":"IC_kwDOAPaMMs6GbENg","user":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-29T07:48:51Z","updated_at":"2024-07-29T07:48:51Z","body":"Hi @ajcvickers, I just saw today that the problem has been \"fixed\", but a version hasn't been released yet, when is the release of the version containing this fix scheduled for release?\r\n\r\nI saw the code of the pull and added the exception \"AccidentalEntityType\" which says \r\n\r\n> The type '{entityType}' has been mapped as an entity type. If you are mapping this type intentionally, then please suppress this warning and report the issue on GitHub\r\n\r\nI don't understand if my problem is not resolved or something else, with the new version the `List<List<JsonbField>>` field will be corrected or it will throw this exception and once again the db will show the entity in the wrong way?\r\n```\r\n[\r\n  { \"Capacity\": 2 },\r\n  { \"Capacity\": 2 }\r\n]\r\n```\r\n\r\n\r\nSo as you say in this https://github.com/dotnet/efcore/issues/33913#issuecomment-2160446307 the correct way to instantiate this field would be using an **OwnsMany**, even though in .NET 6 the `List<List<JsonbField>>`field is instantiated correctly?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2255242080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13675677972,"node_id":"MEE_lADOAPaMMs6LOzlMzwAAAAMvIkkU","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675677972","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:48:52Z","performed_via_github_app":null},{"id":13675677988,"node_id":"SE_lADOAPaMMs6LOzlMzwAAAAMvIkkk","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675677988","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:48:52Z","performed_via_github_app":null},{"id":13675758253,"node_id":"DEME_lADOAPaMMs6LOzlMzwAAAAMvI4Kt","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675758253","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:54:38Z","milestone":{"title":"9.0.0"},"performed_via_github_app":null},{"id":13675758262,"node_id":"MIE_lADOAPaMMs6LOzlMzwAAAAMvI4K2","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13675758262","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-07-29T07:54:38Z","milestone":{"title":"9.0.0-preview7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2255305472","html_url":"https://github.com/dotnet/efcore/issues/33913#issuecomment-2255305472","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33913","id":2255305472,"node_id":"IC_kwDOAPaMMs6GbTsA","user":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-29T08:21:50Z","updated_at":"2024-07-29T08:25:48Z","body":"**Unable to create a 'DbContext' of type ''. The exception 'Owned entity type 'JsonbField' is mapped to table 'public.JsonbField' and contains JSON columns. This is currently not supported. All owned types containing a JSON column must be mapped to a JSON column themselves.' was thrown while attempting to create an instance. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728**\r\n\r\n**OwnsMany** throws an error, or maybe I'm not mapping the column well, these are the changes I made:\r\n\r\n### Models\r\n```\r\nnamespace ErrorNpgsql.Models;\r\n\r\npublic class JsonbFieldContent\r\n{\r\n    public required string Key { get; set; }\r\n\r\n    public required string Value { get; set; }\r\n}\r\n\r\npublic class JsonbField\r\n{\r\n    public List<JsonbFieldContent>? Content { get; set; }\r\n\r\n}\r\n\r\npublic class MyEntity\r\n{\r\n    public int Id { get; set; }\r\n\r\n    public required ICollection<JsonbField> JsonbFields { get; set; }\r\n}\r\n```\r\n\r\n### Configuration\r\n\r\n```\r\nusing ErrorNpgsql.Models;\r\nusing Microsoft.EntityFrameworkCore;\r\nusing Microsoft.EntityFrameworkCore.Metadata.Builders;\r\n\r\nnamespace ErrorNpgsql.Configuration;\r\n\r\ninternal class MyEntityConfiguration : IEntityTypeConfiguration<MyEntity>\r\n{\r\n    public void Configure(EntityTypeBuilder<MyEntity> builder)\r\n    {\r\n        builder.OwnsMany(x => x.JsonbFields, j =>\r\n        {\r\n            j.OwnsOne(x => x.Content, c => { c.ToJson(); });\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI also tried adding the `public int Id { get; set; }` field to the **JsonbField** entity and adding these lines in the **OwnsMany** configurations:\r\n\r\n```\r\nbuilder.OwnsMany(x => x.JsonbFields, j =>\r\n{\r\n    //NEW\r\n    j.WithOwner().HasForeignKey(nameof(MyEntity));\r\n\r\n    //NEW\r\n    j.HasKey(\"Id\"); // shadow id property\r\n\r\n    j.OwnsOne(x => x.Content, c => { c.ToJson(); });\r\n});\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2255305472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2283756522","html_url":"https://github.com/dotnet/efcore/issues/33913#issuecomment-2283756522","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33913","id":2283756522,"node_id":"IC_kwDOAPaMMs6IH1vq","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-12T11:48:28Z","updated_at":"2024-08-12T11:48:51Z","body":"@zN3utr4l Mapping of nested collections of primitive types like `List<List<int>>` is not supported by relational database providers. See #30713","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2283756522/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13847167843,"node_id":"MEE_lADOAPaMMs6LOzlMzwAAAAM5WwNj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/13847167843","actor":{"login":"zN3utr4l","id":73225008,"node_id":"MDQ6VXNlcjczMjI1MDA4","avatar_url":"https://avatars.githubusercontent.com/u/73225008?v=4","gravatar_id":"","url":"https://api.github.com/users/zN3utr4l","html_url":"https://github.com/zN3utr4l","followers_url":"https://api.github.com/users/zN3utr4l/followers","following_url":"https://api.github.com/users/zN3utr4l/following{/other_user}","gists_url":"https://api.github.com/users/zN3utr4l/gists{/gist_id}","starred_url":"https://api.github.com/users/zN3utr4l/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zN3utr4l/subscriptions","organizations_url":"https://api.github.com/users/zN3utr4l/orgs","repos_url":"https://api.github.com/users/zN3utr4l/repos","events_url":"https://api.github.com/users/zN3utr4l/events{/privacy}","received_events_url":"https://api.github.com/users/zN3utr4l/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-08-12T11:48:30Z","performed_via_github_app":null}]