[{"id":7860350260,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHUg200","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7860350260","actor":{"login":"MaQy","id":1781660,"node_id":"MDQ6VXNlcjE3ODE2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1781660?v=4","gravatar_id":"","url":"https://api.github.com/users/MaQy","html_url":"https://github.com/MaQy","followers_url":"https://api.github.com/users/MaQy/followers","following_url":"https://api.github.com/users/MaQy/following{/other_user}","gists_url":"https://api.github.com/users/MaQy/gists{/gist_id}","starred_url":"https://api.github.com/users/MaQy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaQy/subscriptions","organizations_url":"https://api.github.com/users/MaQy/orgs","repos_url":"https://api.github.com/users/MaQy/repos","events_url":"https://api.github.com/users/MaQy/events{/privacy}","received_events_url":"https://api.github.com/users/MaQy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-21T18:58:48Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1322749384","html_url":"https://github.com/dotnet/efcore/issues/29642#issuecomment-1322749384","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29642","id":1322749384,"node_id":"IC_kwDOAPaMMs5O143I","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T22:40:39Z","updated_at":"2022-11-21T22:40:39Z","body":"Any chance you can create a SQL migration script for both versions and post the results? (`dotnet ef migrations sql`)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1322749384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1323383110","html_url":"https://github.com/dotnet/efcore/issues/29642#issuecomment-1323383110","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29642","id":1323383110,"node_id":"IC_kwDOAPaMMs5O4TlG","user":{"login":"MaQy","id":1781660,"node_id":"MDQ6VXNlcjE3ODE2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1781660?v=4","gravatar_id":"","url":"https://api.github.com/users/MaQy","html_url":"https://github.com/MaQy","followers_url":"https://api.github.com/users/MaQy/followers","following_url":"https://api.github.com/users/MaQy/following{/other_user}","gists_url":"https://api.github.com/users/MaQy/gists{/gist_id}","starred_url":"https://api.github.com/users/MaQy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaQy/subscriptions","organizations_url":"https://api.github.com/users/MaQy/orgs","repos_url":"https://api.github.com/users/MaQy/repos","events_url":"https://api.github.com/users/MaQy/events{/privacy}","received_events_url":"https://api.github.com/users/MaQy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T09:45:58Z","updated_at":"2022-11-22T09:45:58Z","body":"Sure, here you can find both SQL files in the repository I shared:\r\n\r\nhttps://github.com/MaQy/EfCoreMigrationsBenchmark/blob/master/migrations_6.0.11.sql\r\nhttps://github.com/MaQy/EfCoreMigrationsBenchmark/blob/master/migrations_7.0.0.sql\r\n\r\nAs I mentioned in my initial post, the SQL statements are basically the same and take the same time to execute. It's the time between migrations that takes longer. In the traces I got from my own application with interceptors, EF Core 6 takes around 200-300 ms between migrations (that is, from the last SQL statement of a migration to the first SQL statement of the following one), while EF Core 7 takes around 700-1000 ms. I also added the script generation into the benchmark and the overhead is clearly visible:\r\n\r\n|         Method |  Runtime |        Mean |     Error |    StdDev |\r\n|--------------- |--------- |------------:|----------:|----------:|\r\n|      Migration | .NET 6.0 |   467.22 ms |  7.899 ms | 28.819 ms |\r\n| GenerateScript | .NET 6.0 |    83.00 ms |  0.531 ms |  1.902 ms |\r\n|      Migration | .NET 7.0 | 1,304.72 ms | 10.119 ms | 36.918 ms |\r\n| GenerateScript | .NET 7.0 |   953.80 ms |  4.492 ms | 16.101 ms |","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1323383110/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MaQy","id":1781660,"node_id":"MDQ6VXNlcjE3ODE2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1781660?v=4","gravatar_id":"","url":"https://api.github.com/users/MaQy","html_url":"https://github.com/MaQy","followers_url":"https://api.github.com/users/MaQy/followers","following_url":"https://api.github.com/users/MaQy/following{/other_user}","gists_url":"https://api.github.com/users/MaQy/gists{/gist_id}","starred_url":"https://api.github.com/users/MaQy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaQy/subscriptions","organizations_url":"https://api.github.com/users/MaQy/orgs","repos_url":"https://api.github.com/users/MaQy/repos","events_url":"https://api.github.com/users/MaQy/events{/privacy}","received_events_url":"https://api.github.com/users/MaQy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7887577249,"node_id":"AE_lADOAPaMMs5W7eJfzwAAAAHWIuCh","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7887577249","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-11-24T16:47:34Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":7887577520,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHWIuGw","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7887577520","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-24T16:47:38Z","label":{"name":"area-perf","color":"5319e7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1326712370","html_url":"https://github.com/dotnet/efcore/issues/29642#issuecomment-1326712370","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29642","id":1326712370,"node_id":"IC_kwDOAPaMMs5PFAYy","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T17:25:44Z","updated_at":"2022-11-24T17:25:44Z","body":"Thanks @MaQy, I can indeed see that something is wrong and will investigate.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1326712370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7887818787,"node_id":"MEE_lADOAPaMMs5W7eJfzwAAAAHWJpAj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7887818787","actor":{"login":"MaQy","id":1781660,"node_id":"MDQ6VXNlcjE3ODE2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1781660?v=4","gravatar_id":"","url":"https://api.github.com/users/MaQy","html_url":"https://github.com/MaQy","followers_url":"https://api.github.com/users/MaQy/followers","following_url":"https://api.github.com/users/MaQy/following{/other_user}","gists_url":"https://api.github.com/users/MaQy/gists{/gist_id}","starred_url":"https://api.github.com/users/MaQy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaQy/subscriptions","organizations_url":"https://api.github.com/users/MaQy/orgs","repos_url":"https://api.github.com/users/MaQy/repos","events_url":"https://api.github.com/users/MaQy/events{/privacy}","received_events_url":"https://api.github.com/users/MaQy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-24T17:25:45Z","performed_via_github_app":null},{"id":7887818794,"node_id":"SE_lADOAPaMMs5W7eJfzwAAAAHWJpAq","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7887818794","actor":{"login":"MaQy","id":1781660,"node_id":"MDQ6VXNlcjE3ODE2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1781660?v=4","gravatar_id":"","url":"https://api.github.com/users/MaQy","html_url":"https://github.com/MaQy","followers_url":"https://api.github.com/users/MaQy/followers","following_url":"https://api.github.com/users/MaQy/following{/other_user}","gists_url":"https://api.github.com/users/MaQy/gists{/gist_id}","starred_url":"https://api.github.com/users/MaQy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaQy/subscriptions","organizations_url":"https://api.github.com/users/MaQy/orgs","repos_url":"https://api.github.com/users/MaQy/repos","events_url":"https://api.github.com/users/MaQy/events{/privacy}","received_events_url":"https://api.github.com/users/MaQy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-24T17:25:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1327406594","html_url":"https://github.com/dotnet/efcore/issues/29642#issuecomment-1327406594","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29642","id":1327406594,"node_id":"IC_kwDOAPaMMs5PHp4C","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-25T12:19:45Z","updated_at":"2022-11-25T12:19:45Z","body":"I think I found it; when generating the migration script twice, I'm seeing Property.GetContainingForeignKeys called around 330 million times. The bulk of the calls seem to happen from Property.GetValueConverter, where #29073 added [this for loop](https://github.com/dotnet/efcore/blob/main/src/EFCore/Metadata/Internal/Property.cs#L671). It seems that in certain conditions we may be looping 10000 times for no reason.\r\n\r\nThe same thing also seems to be happening in [GetProviderClrType](https://github.com/dotnet/efcore/blob/main/src/EFCore/Metadata/Internal/Property.cs#L750), which takes up 100 million of the 330 million calls.\r\n\r\n/cc @AndriySvyryd ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1327406594/reactions","total_count":7,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":4},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7892764723,"node_id":"MEE_lADOAPaMMs5W7eJfzwAAAAHWcggz","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892764723","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:19:45Z","performed_via_github_app":null},{"id":7892764726,"node_id":"SE_lADOAPaMMs5W7eJfzwAAAAHWcgg2","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892764726","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:19:45Z","performed_via_github_app":null},{"id":7892765542,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHWcgtm","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892765542","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:19:53Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"id":7892766186,"node_id":"AE_lADOAPaMMs5W7eJfzwAAAAHWcg3q","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892766186","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:19:59Z","assignee":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":7892766204,"node_id":"UNE_lADOAPaMMs5W7eJfzwAAAAHWcg38","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892766204","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:20:00Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":7892770624,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHWch9A","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7892770624","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-25T12:20:43Z","label":{"name":"area-model-building","color":"32b37b"},"performed_via_github_app":null},{"id":7894094524,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHWhlK8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7894094524","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-25T15:52:30Z","label":{"name":"Servicing-consider","color":"bfd4f2"},"performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-27T17:54:52Z","updated_at":"2022-11-27T17:54:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29687","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29687/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29687/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29687/events","html_url":"https://github.com/dotnet/efcore/issues/29687","id":1465447643,"node_id":"I_kwDOAPaMMs5XWPTb","number":29687,"title":"Tpt mapping Sql Query","user":{"login":"omr-htp","id":40443721,"node_id":"MDQ6VXNlcjQwNDQzNzIx","avatar_url":"https://avatars.githubusercontent.com/u/40443721?v=4","gravatar_id":"","url":"https://api.github.com/users/omr-htp","html_url":"https://github.com/omr-htp","followers_url":"https://api.github.com/users/omr-htp/followers","following_url":"https://api.github.com/users/omr-htp/following{/other_user}","gists_url":"https://api.github.com/users/omr-htp/gists{/gist_id}","starred_url":"https://api.github.com/users/omr-htp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omr-htp/subscriptions","organizations_url":"https://api.github.com/users/omr-htp/orgs","repos_url":"https://api.github.com/users/omr-htp/repos","events_url":"https://api.github.com/users/omr-htp/events{/privacy}","received_events_url":"https://api.github.com/users/omr-htp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-11-27T13:51:33Z","updated_at":"2025-06-16T09:03:32Z","closed_at":"2022-12-05T11:50:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Can anyone please explain why EF trying to tell the whole story of the entity!\r\n\r\nI believe that TPT mapping strategy is the most widely used in real world applications, so this strategy deserves a lot of support and development.\r\nEF team is a great and does a lot of effort introducing new features. Unfortunately, this is done before completing what is required for the existing features.\r\n\r\nfor example. Because I use TPT strategy I can't use Query Filters usefully.\r\nAs another example, I am working on a multimodule multitenant application that contains more than 250 Entities. After upgrading to version 7, creating the model takes 10 times the time that was required for version 6. So, I studied the possibility of using Compiled Model, but unfortunately there is a conflict with the most important feature that I use in EF which is IModelCacheKeyFactory because the application has more than one model depending on the module selected by the tenant.\r\n\r\nThe question:\r\n\r\nRegarding the following code: \r\nWhy EF tries to get the whole hierarchy while i just request a top-level entity?\r\n\r\nI didn't make a request for any property from Cat or Dog models, I just want the Pet object.\r\n\r\nThis example has a second problem with the generated SQL string for delete Pet object, it generates multiple Delete statements even if I set delete cascading to Cascade not ClientCascade.\r\nI modified the Cascading behavior after upgrading to Version 7 in response for https://learn.microsoft.com/en-us/ef/core/what-is-new/ef-core-7.0/breaking-changes#tpt-cascade-delete\r\n\r\nThanks.\r\n\r\n### Project \r\n```XML\r\n<Project Sdk=\"Microsoft.NET.Sdk\">\r\n\t<PropertyGroup>\r\n\t\t<OutputType>Exe</OutputType>\r\n\t\t<TargetFramework>net7.0</TargetFramework>\r\n\t</PropertyGroup>\r\n\t<ItemGroup>\r\n\t\t<PackageReference Include=\"Microsoft.EntityFrameworkCore.Sqlite\" Version=\"7.0.0\" />\r\n\t</ItemGroup>\r\n</Project>\r\n```\r\n\r\n### Code\r\n```C#\r\nusing System;\r\nusing System.Linq;\r\nusing MyApp;\r\nusing Microsoft.EntityFrameworkCore;\r\n\r\nusing var context = new MyContext();\r\n\r\nawait context.Database.EnsureDeletedAsync();\r\nawait context.Database.EnsureCreatedAsync();\r\n\r\nCat cat = new() { Name = \"Cat 1\", Vet = \"Vet 1\" };\r\nDog dog = new() { Name = \"Dog 1\", FavoriteToy = \"Toy 1\" };\r\n\r\ncontext.Add(cat);\r\ncontext.Add(dog);\r\n\r\nawait context.SaveChangesAsync();\r\n\r\nIQueryable<Pet> petQuery = context.Set<Pet>().Where(p => p.Name == \"Cat 1\");\r\nConsole.WriteLine(petQuery.ToQueryString());\r\n\r\nConsole.ReadLine();\r\n\r\n\r\nnamespace MyApp\r\n{\r\n    public class MyContext : DbContext\r\n    {\r\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n        {\r\n            optionsBuilder.UseSqlite($\"Filename=my.db\");\r\n        }\r\n\r\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\r\n        {\r\n            modelBuilder.Entity<Pet>().UseTptMappingStrategy();\r\n\r\n            modelBuilder.Entity<Cat>().UseTptMappingStrategy();\r\n\r\n            modelBuilder.Entity<Dog>().UseTptMappingStrategy();\r\n        }\r\n    }\r\n\r\n    public abstract class Animal\r\n    {\r\n        public int Id { get; set; }\r\n        public string Name { get; set; }\r\n    }\r\n\r\n    public class Pet : Animal\r\n    {\r\n        public string Vet { get; set; }\r\n    }\r\n\r\n    public class Cat : Pet\r\n    {\r\n        public string FavoriteFood { get; set; }\r\n    }\r\n\r\n    public class Dog : Pet\r\n    {\r\n        public string FavoriteToy { get; set; }\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n```SQL\r\nSELECT p.Id, p.Name, p.Vet, c.FavoriteFood, d.FavoriteToy, CASE\r\n    WHEN d.Id IS NOT NULL THEN 'Dog'\r\n    WHEN c.Id IS NOT NULL THEN 'Cat'\r\nEND AS Discriminator\r\nFROM Pet AS p\r\nLEFT JOIN Cat AS c ON p.Id = c.Id\r\nLEFT JOIN Dog AS d ON p.Id = d.Id\r\nWHERE p.Name = 'Cat 1'\r\n```\r\n\r\n\r\n### Include provider and version information\r\n\r\nEF Core version:\r\nDatabase provider: (e.g. Microsoft.EntityFrameworkCore.Sqlite)\r\nTarget framework: (e.g. .NET 7.0)\r\nOperating system: Windows 10\r\nIDE: (e.g. Visual Studio 2022 17.4)\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29687/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"id":7925897412,"node_id":"MIE_lADOAPaMMs5W7eJfzwAAAAHYa5jE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7925897412","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-11-30T21:37:51Z","milestone":{"title":"7.0.x"},"performed_via_github_app":null},{"actor":{"login":"davidfowl","id":95136,"node_id":"MDQ6VXNlcjk1MTM2","avatar_url":"https://avatars.githubusercontent.com/u/95136?v=4","gravatar_id":"","url":"https://api.github.com/users/davidfowl","html_url":"https://github.com/davidfowl","followers_url":"https://api.github.com/users/davidfowl/followers","following_url":"https://api.github.com/users/davidfowl/following{/other_user}","gists_url":"https://api.github.com/users/davidfowl/gists{/gist_id}","starred_url":"https://api.github.com/users/davidfowl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidfowl/subscriptions","organizations_url":"https://api.github.com/users/davidfowl/orgs","repos_url":"https://api.github.com/users/davidfowl/repos","events_url":"https://api.github.com/users/davidfowl/events{/privacy}","received_events_url":"https://api.github.com/users/davidfowl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T19:50:17Z","updated_at":"2022-12-03T19:50:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215","repository_url":"https://api.github.com/repos/dotnet/aspnetcore","labels_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215/comments","events_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215/events","html_url":"https://github.com/dotnet/aspnetcore/issues/45215","id":1458651586,"node_id":"I_kwDOAQzde85W8UHC","number":45215,"title":"Kestrel stops listening/responding to requests after some time (only after updating to .NET 7.0)","user":{"login":"shaynevanasperen","id":1126129,"node_id":"MDQ6VXNlcjExMjYxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/1126129?v=4","gravatar_id":"","url":"https://api.github.com/users/shaynevanasperen","html_url":"https://github.com/shaynevanasperen","followers_url":"https://api.github.com/users/shaynevanasperen/followers","following_url":"https://api.github.com/users/shaynevanasperen/following{/other_user}","gists_url":"https://api.github.com/users/shaynevanasperen/gists{/gist_id}","starred_url":"https://api.github.com/users/shaynevanasperen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaynevanasperen/subscriptions","organizations_url":"https://api.github.com/users/shaynevanasperen/orgs","repos_url":"https://api.github.com/users/shaynevanasperen/repos","events_url":"https://api.github.com/users/shaynevanasperen/events{/privacy}","received_events_url":"https://api.github.com/users/shaynevanasperen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5572431303,"node_id":"LA_kwDOAQzde88AAAABTCSNxw","url":"https://api.github.com/repos/dotnet/aspnetcore/labels/area-networking","name":"area-networking","color":"5319e7","default":false,"description":"Includes servers, yarp, json patch, bedrock, websockets, http client factory, and http abstractions"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":32,"created_at":"2022-11-21T22:04:16Z","updated_at":"2023-08-25T00:17:53Z","closed_at":"2022-12-07T23:35:08Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":17620347,"node_id":"MDEwOlJlcG9zaXRvcnkxNzYyMDM0Nw==","name":"aspnetcore","full_name":"dotnet/aspnetcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/aspnetcore","description":"ASP.NET Core is a cross-platform .NET framework for building modern cloud-based web applications on Windows, Mac, or Linux.","fork":false,"url":"https://api.github.com/repos/dotnet/aspnetcore","forks_url":"https://api.github.com/repos/dotnet/aspnetcore/forks","keys_url":"https://api.github.com/repos/dotnet/aspnetcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/aspnetcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/aspnetcore/teams","hooks_url":"https://api.github.com/repos/dotnet/aspnetcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/aspnetcore/events","assignees_url":"https://api.github.com/repos/dotnet/aspnetcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/aspnetcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/aspnetcore/tags","blobs_url":"https://api.github.com/repos/dotnet/aspnetcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/aspnetcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/aspnetcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/aspnetcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/aspnetcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/aspnetcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/aspnetcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/aspnetcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/aspnetcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/aspnetcore/subscription","commits_url":"https://api.github.com/repos/dotnet/aspnetcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/aspnetcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/aspnetcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/aspnetcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/aspnetcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/aspnetcore/merges","archive_url":"https://api.github.com/repos/dotnet/aspnetcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/aspnetcore/downloads","issues_url":"https://api.github.com/repos/dotnet/aspnetcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/aspnetcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/aspnetcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/aspnetcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/aspnetcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/aspnetcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/aspnetcore/deployments","created_at":"2014-03-11T06:09:42Z","updated_at":"2025-11-10T16:07:11Z","pushed_at":"2025-11-10T16:15:34Z","git_url":"git://github.com/dotnet/aspnetcore.git","ssh_url":"git@github.com:dotnet/aspnetcore.git","clone_url":"https://github.com/dotnet/aspnetcore.git","svn_url":"https://github.com/dotnet/aspnetcore","homepage":"https://asp.net","size":368611,"stargazers_count":37371,"watchers_count":37371,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":10484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3531,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnetcore","dotnet","hacktoberfest","help-wanted"],"visibility":"public","forks":10484,"open_issues":3531,"watchers":37371,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Describe the bug\n\nI have a Web Application which runs some background services and hosts some UI pages using Razor Pages. It was working perfectly fine on .NET 6.0, but after simply updating the target framework to `net7.0` and redeploying to a folder on my machine, I started to encounter this problem.\r\n\r\nImmediately after deploying the application, it works fine and continues to respond to requests from my browsers (Firefox, Chrome, Edge). But anywhere from 10 minutes to 6 hours later, the site no longer responds to HTTP requests (hitting refresh in my browser results in the connection timing out), and then it stays this way until I stop and restart it from the command line.\r\n\r\nI have tried several things to attempt to narrow down the problem, but everything I have tried has failed. It's extremely difficult to do this because I have to wait so long between each try. As soon as I revert the target framework back to .NET 6.0, the problem goes away again and the site remains responsive permanently. So unfortunately I am unable to produce a minimalistic project which reproduces the issue.\r\n\r\nI have a [Prometheus](https://www.nuget.org/packages/prometheus-net.AspNetCore) `/metrics` endpoint exposed through the application and I have Grafana Agent configured on my machine to scrape the metrics every 15 seconds (from `http://localhost/metrics`). I have a branch in my request pipeline to exclude that endpoint from Authorization. The rest of the application is secured with `MicrosoftIdentity` authentication pointing to my Azure Active Directory tenant using the `OpenIdConnect` authentication scheme.\r\n\r\nThe really strange thing is that when the browser requests start to show connection timeouts, my Grafana Agent scraper is still able to scrape the `/metrics` endpoint every 15 seconds, which I can confirm from the logs. Here is a snippet from my `Program.cs`:\r\n\r\n```cs\r\nbuilder.WebHost.UseUrls($\"https://{DomainName}\", $\"http://{DomainName}\", \"http://localhost\");\r\n\r\nif (!builder.Environment.IsDevelopment())\r\n    builder.Services\r\n        .AddLettuceEncrypt(LetsEncrypt.Options.Configure)\r\n        .PersistCertificatesToAzureKeyVault(LetsEncrypt.AzureKeyVault.Configure);\r\n\r\nbuilder.Services\r\n    .AddRazorPages()\r\n    .AddMicrosoftIdentityUI();\r\n\r\nbuilder.Services\r\n    .AddAuthorization(options => options.FallbackPolicy = options.DefaultPolicy)\r\n    .AddAuthentication(OpenIdConnectDefaults.AuthenticationScheme)\r\n    .AddMicrosoftIdentityWebApp(Authentication.MicrosoftIdentity.Configure);\r\n```\r\n\r\nI've tried disabling all my background sevices, and I even tried disabling authentication/authorization completely, and using self-signed certificates instead of `LetsEncrypt`, but none of these have had any effect.\n\n### Expected Behavior\n\nThe web application should continue to respond to HTTP requests indefinitely.\n\n### Steps To Reproduce\n\nHost a .NET 7.0 Razor Pages web application on Windows 11. Wait for the site to stop responding to HTTP requests.\n\n### Exceptions (if any)\n\nNothing. Logs show nothing either.\n\n### .NET Version\n\n7.0.100\n\n### Anything else?\n\n_No response_","reactions":{"url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/aspnetcore/issues/45215/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1340474416","html_url":"https://github.com/dotnet/efcore/issues/29642#issuecomment-1340474416","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29642","id":1340474416,"node_id":"IC_kwDOAPaMMs5P5gQw","user":{"login":"samisq","id":27795290,"node_id":"MDQ6VXNlcjI3Nzk1Mjkw","avatar_url":"https://avatars.githubusercontent.com/u/27795290?v=4","gravatar_id":"","url":"https://api.github.com/users/samisq","html_url":"https://github.com/samisq","followers_url":"https://api.github.com/users/samisq/followers","following_url":"https://api.github.com/users/samisq/following{/other_user}","gists_url":"https://api.github.com/users/samisq/gists{/gist_id}","starred_url":"https://api.github.com/users/samisq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samisq/subscriptions","organizations_url":"https://api.github.com/users/samisq/orgs","repos_url":"https://api.github.com/users/samisq/repos","events_url":"https://api.github.com/users/samisq/events{/privacy}","received_events_url":"https://api.github.com/users/samisq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T06:49:34Z","updated_at":"2022-12-07T06:49:49Z","body":"+1 for this. We're experiencing the exact same issue after upgrading to .NET7 & EF7. We're using Npgsql.EntityFrameworkCore provider. Migration now takes at least twice as long.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1340474416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samisq","id":27795290,"node_id":"MDQ6VXNlcjI3Nzk1Mjkw","avatar_url":"https://avatars.githubusercontent.com/u/27795290?v=4","gravatar_id":"","url":"https://api.github.com/users/samisq","html_url":"https://github.com/samisq","followers_url":"https://api.github.com/users/samisq/followers","following_url":"https://api.github.com/users/samisq/following{/other_user}","gists_url":"https://api.github.com/users/samisq/gists{/gist_id}","starred_url":"https://api.github.com/users/samisq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samisq/subscriptions","organizations_url":"https://api.github.com/users/samisq/orgs","repos_url":"https://api.github.com/users/samisq/repos","events_url":"https://api.github.com/users/samisq/events{/privacy}","received_events_url":"https://api.github.com/users/samisq/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7993771493,"node_id":"REFE_lADOAPaMMs5W7eJfzwAAAAHcd0Xl","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7993771493","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cc154fe663cd24e09d60afaeb1bfb0e58ba69b2b","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/cc154fe663cd24e09d60afaeb1bfb0e58ba69b2b","created_at":"2022-12-08T23:18:44Z","performed_via_github_app":null},{"actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-08T23:19:48Z","updated_at":"2022-12-08T23:19:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29805","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29805/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29805/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29805/events","html_url":"https://github.com/dotnet/efcore/pull/29805","id":1485578245,"node_id":"PR_kwDOAPaMMs5E12Hk","number":29805,"title":"Avoid redundant looping in property metadata","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-12-08T23:19:48Z","updated_at":"2022-12-16T18:10:16Z","closed_at":"2022-12-16T18:10:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/29805","html_url":"https://github.com/dotnet/efcore/pull/29805","diff_url":"https://github.com/dotnet/efcore/pull/29805.diff","patch_url":"https://github.com/dotnet/efcore/pull/29805.patch","merged_at":"2022-12-16T18:10:15Z"},"body":"Fixes #29642","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29805/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7993892692,"node_id":"REFE_lADOAPaMMs5W7eJfzwAAAAHceR9U","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7993892692","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e245aa40d4e0b7b125b3be7a9bcdbedd37ff9f82","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/e245aa40d4e0b7b125b3be7a9bcdbedd37ff9f82","created_at":"2022-12-08T23:46:48Z","performed_via_github_app":null},{"actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-08T23:54:58Z","updated_at":"2022-12-08T23:54:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29807","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29807/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29807/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29807/events","html_url":"https://github.com/dotnet/efcore/pull/29807","id":1485618977,"node_id":"PR_kwDOAPaMMs5E1_Jo","number":29807,"title":"[release/7.0] Avoid redundant looping in property metadata","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/158","html_url":"https://github.com/dotnet/efcore/milestone/158","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/158/labels","id":8728724,"node_id":"MI_kwDOAPaMMs4AhTCU","number":158,"title":"7.0.3","description":null,"creator":{"login":"rbhanda","id":30737530,"node_id":"MDQ6VXNlcjMwNzM3NTMw","avatar_url":"https://avatars.githubusercontent.com/u/30737530?v=4","gravatar_id":"","url":"https://api.github.com/users/rbhanda","html_url":"https://github.com/rbhanda","followers_url":"https://api.github.com/users/rbhanda/followers","following_url":"https://api.github.com/users/rbhanda/following{/other_user}","gists_url":"https://api.github.com/users/rbhanda/gists{/gist_id}","starred_url":"https://api.github.com/users/rbhanda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbhanda/subscriptions","organizations_url":"https://api.github.com/users/rbhanda/orgs","repos_url":"https://api.github.com/users/rbhanda/repos","events_url":"https://api.github.com/users/rbhanda/events{/privacy}","received_events_url":"https://api.github.com/users/rbhanda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":46,"state":"closed","created_at":"2022-12-06T18:26:17Z","updated_at":"2023-02-21T20:44:42Z","due_on":null,"closed_at":"2023-02-15T01:31:11Z"},"comments":0,"created_at":"2022-12-08T23:54:58Z","updated_at":"2023-01-04T18:32:34Z","closed_at":"2023-01-04T18:32:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/29807","html_url":"https://github.com/dotnet/efcore/pull/29807","diff_url":"https://github.com/dotnet/efcore/pull/29807.diff","patch_url":"https://github.com/dotnet/efcore/pull/29807.patch","merged_at":"2023-01-04T18:32:33Z"},"body":"This is a port of #29805\r\nFixes #29642\r\n\r\n**Description**\r\n\r\nThe logic for reading property metadata is performing more loops than intended resulting in poor model building performance (affects migrations and app startup).\r\n\r\n**Customer impact**\r\n\r\nNon-trivial models take up to three times as long to build. There is no workaround.\r\n\r\n**How found**\r\n\r\nCustomer reported on 7.0\r\n\r\n**Regression**\r\n\r\nYes.\r\n\r\n**Testing**\r\n\r\nManual verification of the performance.\r\n\r\n**Risk**\r\n\r\nLow; the fix should not have any behavior impact, and a quirk was added to revert back to older behavior.","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29807/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7993990551,"node_id":"LE_lADOAPaMMs5W7eJfzwAAAAHcep2X","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7993990551","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-12-09T00:05:53Z","label":{"name":"closed-fixed","color":"777777"},"performed_via_github_app":null},{"id":7994050436,"node_id":"REFE_lADOAPaMMs5W7eJfzwAAAAHce4eE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7994050436","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c5563e387a44671cca77af28e0c6ac1d04dca0e0","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/c5563e387a44671cca77af28e0c6ac1d04dca0e0","created_at":"2022-12-09T00:19:12Z","performed_via_github_app":null},{"id":7994071384,"node_id":"REFE_lADOAPaMMs5W7eJfzwAAAAHce9lY","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7994071384","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"edc4ec3f0c47df23b6cb4aea5a4444c99502eac4","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/edc4ec3f0c47df23b6cb4aea5a4444c99502eac4","created_at":"2022-12-09T00:23:54Z","performed_via_github_app":null},{"id":8002590596,"node_id":"UNE_lADOAPaMMs5W7eJfzwAAAAHc_deE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8002590596","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2022-12-09T23:02:29Z","assignee":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":8018851462,"node_id":"REFE_lADOAPaMMs5W7eJfzwAAAAHd9faG","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8018851462","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1f12a1e94a01a2bd280fc9be296f11e8e82a9572","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/1f12a1e94a01a2bd280fc9be296f11e8e82a9572","created_at":"2022-12-12T21:40:07Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-13T15:41:22Z","updated_at":"2022-12-13T15:41:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29827","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29827/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29827/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29827/events","html_url":"https://github.com/dotnet/efcore/issues/29827","id":1491009401,"node_id":"I_kwDOAPaMMs5Y3v95","number":29827,"title":"First Query take 8 seconds even with Compiled models","user":{"login":"RomeoQNgo","id":2151395,"node_id":"MDQ6VXNlcjIxNTEzOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2151395?v=4","gravatar_id":"","url":"https://api.github.com/users/RomeoQNgo","html_url":"https://github.com/RomeoQNgo","followers_url":"https://api.github.com/users/RomeoQNgo/followers","following_url":"https://api.github.com/users/RomeoQNgo/following{/other_user}","gists_url":"https://api.github.com/users/RomeoQNgo/gists{/gist_id}","starred_url":"https://api.github.com/users/RomeoQNgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomeoQNgo/subscriptions","organizations_url":"https://api.github.com/users/RomeoQNgo/orgs","repos_url":"https://api.github.com/users/RomeoQNgo/repos","events_url":"https://api.github.com/users/RomeoQNgo/events{/privacy}","received_events_url":"https://api.github.com/users/RomeoQNgo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2022-12-12T05:28:00Z","updated_at":"2025-06-16T09:02:53Z","closed_at":"2022-12-13T19:53:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm using EF6 in our AWS lambda.  Without Compiled models, the first query usually take around 15 seconds.\r\nWith Compiled Models, it reduced to 8 seconds.  \r\n\r\nThe data and query is not the issue, it takes about 100 microsecond for the 2nd/3rd... invocations/requests (with querying different record).  `AsNoTracking` is used so there is no caching either.  There are only 9 models for this app.\r\n\r\nI'm also using non EF SQL in this app (using SqlConnection and auto generated SqlCommands) to a different database connection string, and it takes about 50 microseconds or less.  \r\n\r\nHow can I improve EF and reduce the time it takes for the 1st query?\r\n\r\nhttps://learn.microsoft.com/en-us/ef/core/performance/advanced-performance-topics?tabs=with-di%2Cwith-constant#compiled-models\r\n\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29827/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29827/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"}]