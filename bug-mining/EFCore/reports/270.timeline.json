[{"id":8861591541,"node_id":"LE_lADOAPaMMs5h83nnzwAAAAIQMSf1","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8861591541","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-28T07:15:43Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1486401253","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1486401253","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1486401253,"node_id":"IC_kwDOAPaMMs5YmK7l","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T08:06:24Z","updated_at":"2023-03-28T08:06:24Z","body":"wrt first problem, if you are also projecting a collection of entities in the same query, it's a duplicate of https://github.com/dotnet/efcore/issues/30266. It's fixed in the current bits so you can unblock yourself by using latest daily build, or use the workaround shown in the original issue (i.e. Include the collection and project entity itself, rather than individual properties/navigations)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1486401253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487590515","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1487590515","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1487590515,"node_id":"IC_kwDOAPaMMs5YqtRz","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T21:05:24Z","updated_at":"2023-03-28T21:05:24Z","body":"@ChesterChuTw  wrt the second error, can you provide the full repro code? When I try similar scenario on my end, the query gets translated. Code:\r\n\r\n```cs\r\n    public class MyEntity\r\n    {\r\n        public int Id { get; set; }\r\n\r\n        public MyJson? Reference { get; set; }\r\n\r\n        public List<MyJson>? Collection { get; set; }\r\n    }\r\n\r\n    public class MyJson\r\n    {\r\n        public string? Foo { get; set; }\r\n        public int Bar { get; set; }\r\n    }\r\n\r\n    public class MyContext : DbContext\r\n    {\r\n        public DbSet<MyEntity>? Entities { get; set; }\r\n\r\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\r\n        {\r\n            modelBuilder.Entity<MyEntity>().Property(x => x.Id).ValueGeneratedNever();\r\n            modelBuilder.Entity<MyEntity>().OwnsOne(x => x.Reference).ToJson();\r\n            modelBuilder.Entity<MyEntity>().OwnsMany(x => x.Collection).ToJson();\r\n        }\r\n\r\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n        {\r\n            optionsBuilder.UseSqlServer(@\"Server=(localdb)\\mssqllocaldb;Database=Repro;Trusted_Connection=True;MultipleActiveResultSets=true\");\r\n        }\r\n    }\r\n\r\n\r\n    [ConditionalFact]\r\n    public virtual void Test()\r\n    {\r\n        using (var ctx = new MyContext())\r\n        {\r\n            ctx.Database.EnsureDeleted();\r\n            ctx.Database.EnsureCreated();\r\n\r\n            var e1 = new MyEntity\r\n            {\r\n                Id = 1,\r\n                Reference = new MyJson { Bar = 1, Foo = \"r1\" },\r\n                Collection = new List<MyJson>\r\n                {\r\n                    new MyJson { Bar = 11, Foo = \"c11\" },\r\n                    new MyJson { Bar = 12, Foo = \"c12\" },\r\n                }\r\n            };\r\n\r\n            var e2 = new MyEntity\r\n            {\r\n                Id = 2,\r\n                Reference = null,\r\n                Collection = null,\r\n            };\r\n\r\n            var e3 = new MyEntity\r\n            {\r\n                Id = 3,\r\n                Reference = null,\r\n                Collection = new List<MyJson>(),\r\n            };\r\n\r\n            ctx.Entities.AddRange(e1, e2, e3);\r\n        }\r\n\r\n        using (var ctx = new MyContext())\r\n        {\r\n            var query = ctx.Entities.Where(x => x.Reference == null).ToList();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nsql:\r\n\r\n```sql\r\nSELECT [e].[Id], [e].[Collection], [e].[Reference]\r\nFROM [Entities] AS [e]\r\nWHERE CAST(JSON_VALUE([e].[Reference], '$.Bar') AS int) IS NULL OR JSON_VALUE([e].[Reference], '$.Foo') IS NULL\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487590515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8869664044,"node_id":"MEE_lADOAPaMMs5h83nnzwAAAAIQrFUs","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8869664044","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-28T21:05:24Z","performed_via_github_app":null},{"id":8869664066,"node_id":"SE_lADOAPaMMs5h83nnzwAAAAIQrFVC","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8869664066","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-28T21:05:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487624443","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1487624443","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1487624443,"node_id":"IC_kwDOAPaMMs5Yq1j7","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T21:35:01Z","updated_at":"2023-03-28T21:35:01Z","body":"Irrespective, there is room for improvement here, we don't need to go through normal entity to null comparison path, but rather compare JSON column or (in case of nested json entities) JSON fragment storing entire entity to null directly. Something like:\r\n\r\n```sql\r\nSELECT [e].[Id], [e].[Collection], [e].[Reference]\r\nFROM [Entities] AS [e]\r\nWHERE [e].[Reference] IS NULL\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487624443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487928965","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1487928965","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1487928965,"node_id":"IC_kwDOAPaMMs5Yr_6F","user":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T04:28:43Z","updated_at":"2023-03-29T04:28:43Z","body":"> wrt first problem, if you are also projecting a collection of entities in the same query, it's a duplicate of #30266. It's fixed in the current bits so you can unblock yourself by using latest daily build, or use the workaround shown in the original issue (i.e. Include the collection and project entity itself, rather than individual properties/navigations)\r\n\r\nThanks for your reply, for the first question, do you mean by using the preview version? \r\nBecause the version I'm using now is the latest version of 7.0.4.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487928965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487983568","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1487983568","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1487983568,"node_id":"IC_kwDOAPaMMs5YsNPQ","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T05:49:40Z","updated_at":"2023-03-29T05:49:40Z","body":"@ChesterChuTw the fix is not in the 7.x, we might patch it in the future for now it didn't meet the bar (only handful of people actually encountered this problem). By daily builds I mean most up to date EF Code (with fixes from yesterday) as described here: https://github.com/dotnet/efcore/blob/main/docs/DailyBuilds.md If you want to avoid risks associated with using such hot bits, your best approach is to use the workaround, which isn't too bad.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1487983568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8872145663,"node_id":"MEE_lADOAPaMMs5h83nnzwAAAAIQ0jL_","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872145663","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:49:40Z","performed_via_github_app":null},{"id":8872145667,"node_id":"SE_lADOAPaMMs5h83nnzwAAAAIQ0jMD","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872145667","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:49:40Z","performed_via_github_app":null},{"id":8872158446,"node_id":"RTE_lADOAPaMMs5h83nnzwAAAAIQ0mTu","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872158446","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:52:06Z","rename":{"from":"EFCore 7 get errors when try to query a `ToJson` column ","to":"Query/Json: improve JSON entity/collection comparisons to null"},"performed_via_github_app":null},{"id":8872158834,"node_id":"LE_lADOAPaMMs5h83nnzwAAAAIQ0mZy","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872158834","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:52:10Z","label":{"name":"type-enhancement","color":"bfe5bf"},"performed_via_github_app":null},{"id":8872159395,"node_id":"LE_lADOAPaMMs5h83nnzwAAAAIQ0mij","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872159395","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:52:17Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"id":8872159400,"node_id":"LE_lADOAPaMMs5h83nnzwAAAAIQ0mio","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8872159400","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-29T05:52:17Z","label":{"name":"area-json","color":"32b37b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488158796","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1488158796","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1488158796,"node_id":"IC_kwDOAPaMMs5Ys4BM","user":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T08:29:57Z","updated_at":"2023-03-29T08:37:14Z","body":"> @ChesterChuTw wrt the second error, can you provide the full repro code? When I try similar scenario on my end, the query gets translated. Code:\r\n> \r\n> ```cs\r\n>     public class MyEntity\r\n>     {\r\n>         public int Id { get; set; }\r\n> \r\n>         public MyJson? Reference { get; set; }\r\n> \r\n>         public List<MyJson>? Collection { get; set; }\r\n>     }\r\n> \r\n>     public class MyJson\r\n>     {\r\n>         public string? Foo { get; set; }\r\n>         public int Bar { get; set; }\r\n>     }\r\n> \r\n>     public class MyContext : DbContext\r\n>     {\r\n>         public DbSet<MyEntity>? Entities { get; set; }\r\n> \r\n>         protected override void OnModelCreating(ModelBuilder modelBuilder)\r\n>         {\r\n>             modelBuilder.Entity<MyEntity>().Property(x => x.Id).ValueGeneratedNever();\r\n>             modelBuilder.Entity<MyEntity>().OwnsOne(x => x.Reference).ToJson();\r\n>             modelBuilder.Entity<MyEntity>().OwnsMany(x => x.Collection).ToJson();\r\n>         }\r\n> \r\n>         protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n>         {\r\n>             optionsBuilder.UseSqlServer(@\"Server=(localdb)\\mssqllocaldb;Database=Repro;Trusted_Connection=True;MultipleActiveResultSets=true\");\r\n>         }\r\n>     }\r\n> \r\n> \r\n>     [ConditionalFact]\r\n>     public virtual void Test()\r\n>     {\r\n>         using (var ctx = new MyContext())\r\n>         {\r\n>             ctx.Database.EnsureDeleted();\r\n>             ctx.Database.EnsureCreated();\r\n> \r\n>             var e1 = new MyEntity\r\n>             {\r\n>                 Id = 1,\r\n>                 Reference = new MyJson { Bar = 1, Foo = \"r1\" },\r\n>                 Collection = new List<MyJson>\r\n>                 {\r\n>                     new MyJson { Bar = 11, Foo = \"c11\" },\r\n>                     new MyJson { Bar = 12, Foo = \"c12\" },\r\n>                 }\r\n>             };\r\n> \r\n>             var e2 = new MyEntity\r\n>             {\r\n>                 Id = 2,\r\n>                 Reference = null,\r\n>                 Collection = null,\r\n>             };\r\n> \r\n>             var e3 = new MyEntity\r\n>             {\r\n>                 Id = 3,\r\n>                 Reference = null,\r\n>                 Collection = new List<MyJson>(),\r\n>             };\r\n> \r\n>             ctx.Entities.AddRange(e1, e2, e3);\r\n>         }\r\n> \r\n>         using (var ctx = new MyContext())\r\n>         {\r\n>             var query = ctx.Entities.Where(x => x.Reference == null).ToList();\r\n>         }\r\n>     }\r\n> ```\r\n> \r\n> sql:\r\n> \r\n> ```sql\r\n> SELECT [e].[Id], [e].[Collection], [e].[Reference]\r\n> FROM [Entities] AS [e]\r\n> WHERE CAST(JSON_VALUE([e].[Reference], '$.Bar') AS int) IS NULL OR JSON_VALUE([e].[Reference], '$.Foo') IS NULL\r\n> ```\r\n\r\nHere's my code and error message in detail:\r\n\r\napi endpoint:\r\n```csharp\r\npublic async Task<IActionResult> ToJsonTest()\r\n{\r\n      var IQ = _labDBContext.Users.Where(x => x.Address == null);\r\n\treturn Ok(await IQ.ToListAsync());\r\n}\r\n```\r\n\r\nDb Model:\r\n```csharp\r\npublic partial class User\r\n{\r\n      [Key]\r\n      public int Id { get; set; }\r\n      ...\r\n      public UserAddress? Address { get; set; }\r\n}\r\n```\r\n\r\nDbContext.OnModelCreating:\r\n```csharp\r\nprotected override void OnModelCreating(ModelBuilder modelBuilder)\r\n{\r\n\tmodelBuilder.Entity<User>(e =>\r\n\t{\r\n      \t     e.OwnsOne(p => p.Address).ToJson();\r\n        });\r\n\t...\r\n}\r\n```\r\n\r\nError Message:\r\n```\r\n\"The LINQ expression 'DbSet<User>()\\r\\n    .Where(u => EF.Property<UserAddress>(u, \\\"Address\\\") == null)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\nat Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)\\r\\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\\r\\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\\r\\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\\r\\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\\r\\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\\r\\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\\r\\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)\\r\\n   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()\\r\\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\\r\\n   at IScom_Test_API.Controllers.EFcoreTestController.ToJsonTest() in D:\\\\GlassWu\\\\Visual Studio 2019\\\\IScom_Test_API\\\\IScom_Test_API\\\\Controllers\\\\EFcoreTestController.cs:line 65\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\\r\\n--- End of stack trace from previous location ---\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\\r\\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\\r\\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\\r\\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\\r\\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\\r\\n   at IScom_Test_API.Middleware.ExceptionHandleMiddleware.Invoke(HttpContext httpContext) in D:\\\\User\\\\Visual Studio 2019\\\\MyProject\\\\MyProject\\\\Middleware\\\\ExceptionHandleMiddleware.cs:line 45\"\r\n```\r\n\r\nPlease feel free to contact me if you need any further information, such as all coumns of the Db model or something else.\r\nAgain, thanks for your helps!\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488158796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8873429181,"node_id":"MEE_lADOAPaMMs5h83nnzwAAAAIQ5ci9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8873429181","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-29T08:29:58Z","performed_via_github_app":null},{"id":8873429212,"node_id":"SE_lADOAPaMMs5h83nnzwAAAAIQ5cjc","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8873429212","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-29T08:29:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488243767","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1488243767","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1488243767,"node_id":"IC_kwDOAPaMMs5YtMw3","user":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T09:21:11Z","updated_at":"2023-03-29T09:21:11Z","body":"And I've tried the code that you posted, it would work, but if I changed your model like below, remove the `Bar` column, it would throw the same error as mine\r\n\r\n```csharp\r\n    public class MyJson\r\n    {\r\n        public string? Foo { get; set; }\r\n    }\r\n```\r\nOr, as well, if I have json db model like this, it would throw the same errors,\r\n```\r\npublic class UserAddress\r\n    {\r\n        public int? Id { get; set; }\r\n        public string? City { get; set; }\r\n    }\r\n```\r\n\r\nIn summary, if a json model that all the columns are nullable, it would throw errors, and if it contains any other column that is not nullable, it would work as expected.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488243767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8878552628,"node_id":"RTE_lADOAPaMMs5h83nnzwAAAAIRM_Y0","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8878552628","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-03-29T16:31:23Z","rename":{"from":"Query/Json: improve JSON entity/collection comparisons to null","to":"Query/Json: improve JSON entity/collection comparisons to null (fails currently for optional dependent with all nullable properties)"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488932374","html_url":"https://github.com/dotnet/efcore/issues/30589#issuecomment-1488932374","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/30589","id":1488932374,"node_id":"IC_kwDOAPaMMs5Yv04W","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T16:33:59Z","updated_at":"2023-03-29T16:33:59Z","body":"@ChesterChuTw thank you for the update. Problem happens due to https://learn.microsoft.com/en-us/ef/core/modeling/table-splitting#optional-dependent-entity and we should fix this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1488932374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8878573160,"node_id":"MEE_lADOAPaMMs5h83nnzwAAAAIRNEZo","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8878573160","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-29T16:33:59Z","performed_via_github_app":null},{"id":8878573182,"node_id":"SE_lADOAPaMMs5h83nnzwAAAAIRNEZ-","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8878573182","actor":{"login":"ChesterChuTw","id":76250269,"node_id":"MDQ6VXNlcjc2MjUwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/76250269?v=4","gravatar_id":"","url":"https://api.github.com/users/ChesterChuTw","html_url":"https://github.com/ChesterChuTw","followers_url":"https://api.github.com/users/ChesterChuTw/followers","following_url":"https://api.github.com/users/ChesterChuTw/following{/other_user}","gists_url":"https://api.github.com/users/ChesterChuTw/gists{/gist_id}","starred_url":"https://api.github.com/users/ChesterChuTw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChesterChuTw/subscriptions","organizations_url":"https://api.github.com/users/ChesterChuTw/orgs","repos_url":"https://api.github.com/users/ChesterChuTw/repos","events_url":"https://api.github.com/users/ChesterChuTw/events{/privacy}","received_events_url":"https://api.github.com/users/ChesterChuTw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-29T16:33:59Z","performed_via_github_app":null},{"id":8887281126,"node_id":"AE_lADOAPaMMs5h83nnzwAAAAIRuSXm","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8887281126","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-03-30T13:00:56Z","assignee":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":8887283586,"node_id":"MIE_lADOAPaMMs5h83nnzwAAAAIRuS-C","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8887283586","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-03-30T13:01:07Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"id":8887284566,"node_id":"LE_lADOAPaMMs5h83nnzwAAAAIRuTNW","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8887284566","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-03-30T13:01:12Z","label":{"name":"consider-for-current-release","color":"fef2c0"},"performed_via_github_app":null},{"id":10469363043,"node_id":"REFE_lADOAPaMMs5h83nnzwAAAAJwBc1j","url":"https://api.github.com/repos/dotnet/efcore/issues/events/10469363043","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8515af8ea70a3028fa3cfab0379e21d47818840f","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/8515af8ea70a3028fa3cfab0379e21d47818840f","created_at":"2023-09-26T02:53:58Z","performed_via_github_app":null},{"id":10469367931,"node_id":"REFE_lADOAPaMMs5h83nnzwAAAAJwBeB7","url":"https://api.github.com/repos/dotnet/efcore/issues/events/10469367931","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"988fbf808cd9f1aca20cff1327737145a236b4c2","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/988fbf808cd9f1aca20cff1327737145a236b4c2","created_at":"2023-09-26T02:55:05Z","performed_via_github_app":null},{"actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:55:41Z","updated_at":"2023-09-26T02:55:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31856","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/31856/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/31856/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/31856/events","html_url":"https://github.com/dotnet/efcore/pull/31856","id":1912588483,"node_id":"PR_kwDOAPaMMs5bLqBj","number":31856,"title":"[release/8.0] Fix to #30589 - Query/Json: improve JSON entity/collection comparisons to null (fails currently for optional dependent with all nullable properties)","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/152","html_url":"https://github.com/dotnet/efcore/milestone/152","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/152/labels","id":8392036,"node_id":"MI_kwDOAPaMMs4AgA1k","number":152,"title":"8.0.0","description":"EF Core 8.0","creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":280,"state":"closed","created_at":"2022-09-07T19:55:36Z","updated_at":"2025-04-07T08:59:46Z","due_on":null,"closed_at":"2023-11-14T14:00:33Z"},"comments":0,"created_at":"2023-09-26T02:55:41Z","updated_at":"2023-09-28T17:18:59Z","closed_at":"2023-09-28T00:35:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/31856","html_url":"https://github.com/dotnet/efcore/pull/31856","diff_url":"https://github.com/dotnet/efcore/pull/31856.diff","patch_url":"https://github.com/dotnet/efcore/pull/31856.patch","merged_at":"2023-09-28T00:35:00Z"},"body":"Fixes #30589\r\n\r\n**Description**\r\n\r\nHandling of optional dependent json entity was incorrect. We were using the same logic as for regular entities, however in case of JSON we don't have the same issues. We can simply compare the json column to null, or navigate to appropriate json property inside the column and compare that to null. Additionally, this should give exactly the same results as LINQ to objects - we don't have the problem where we can't distinguish null entity from entity with all values being null, if they are all optional.\r\n\r\n**Customer impact**\r\n\r\nTranslation error for optional dependent JSON entities being compared to null, if all the properties are nullable. Inefficient sql generated when there are some non-nullable properties.\r\n\r\n**How found**\r\n\r\nCustomer report on 7.0\r\n\r\n**Regression**\r\n\r\nNo. JSON has been added in 7.0\r\n\r\n**Testing**\r\n\r\nAdded regression tests for affected scenarios.\r\n\r\n**Risk**\r\n\r\nVery low: Fix is isolated to only affect scenarios where we compare JSON entity to null, and it is very simple - just compare the JSON column or appropriate JSON_QUERY to null. Before we would apply the same logic as for regular entities (looking at individual columns), which was much more complicated (on top of not being 100% correct)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/31856/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":10480801452,"node_id":"DEME_lADOAPaMMs5h83nnzwAAAAJwtFas","url":"https://api.github.com/repos/dotnet/efcore/issues/events/10480801452","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-09-26T23:08:07Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"id":10480801453,"node_id":"MIE_lADOAPaMMs5h83nnzwAAAAJwtFat","url":"https://api.github.com/repos/dotnet/efcore/issues/events/10480801453","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-09-26T23:08:07Z","milestone":{"title":"8.0.0"},"performed_via_github_app":null}]