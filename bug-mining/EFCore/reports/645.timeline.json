[{"id":14095096265,"node_id":"LE_lADOAPaMMs6U_FzlzwAAAANIIhnJ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14095096265","actor":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-01T16:24:49Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"id":14099544021,"node_id":"LE_lADOAPaMMs6U_FzlzwAAAANIZffV","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14099544021","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-02T08:21:00Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"id":14099546411,"node_id":"AE_lADOAPaMMs6U_FzlzwAAAANIZgEr","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14099546411","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-09-02T08:21:10Z","assignee":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":14099546462,"node_id":"AE_lADOAPaMMs6U_FzlzwAAAANIZgFe","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14099546462","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-09-02T08:21:10Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":14099546492,"node_id":"AE_lADOAPaMMs6U_FzlzwAAAANIZgF8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14099546492","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-09-02T08:21:10Z","assignee":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":14124160399,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANJ3ZWP","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14124160399","actor":{"login":"frencsi","id":31436644,"node_id":"MDQ6VXNlcjMxNDM2NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/31436644?v=4","gravatar_id":"","url":"https://api.github.com/users/frencsi","html_url":"https://github.com/frencsi","followers_url":"https://api.github.com/users/frencsi/followers","following_url":"https://api.github.com/users/frencsi/following{/other_user}","gists_url":"https://api.github.com/users/frencsi/gists{/gist_id}","starred_url":"https://api.github.com/users/frencsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frencsi/subscriptions","organizations_url":"https://api.github.com/users/frencsi/orgs","repos_url":"https://api.github.com/users/frencsi/repos","events_url":"https://api.github.com/users/frencsi/events{/privacy}","received_events_url":"https://api.github.com/users/frencsi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-04T04:53:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2330779755","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2330779755","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2330779755,"node_id":"IC_kwDOAPaMMs6K7OBr","user":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-05T07:15:06Z","updated_at":"2024-09-05T07:15:06Z","body":"Will it be fix ?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2330779755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2345360840","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2345360840","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2345360840,"node_id":"IC_kwDOAPaMMs6Ly13I","user":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-12T06:16:47Z","updated_at":"2024-09-12T06:16:47Z","body":"Possibly related #34589.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2345360840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14227159201,"node_id":"MIE_lADOAPaMMs6U_FzlzwAAAANQATih","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14227159201","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-09-12T06:17:45Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"id":14227159804,"node_id":"UNE_lADOAPaMMs6U_FzlzwAAAANQATr8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14227159804","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2024-09-12T06:17:49Z","assignee":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":14227159821,"node_id":"UNE_lADOAPaMMs6U_FzlzwAAAANQATsN","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14227159821","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2024-09-12T06:17:49Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2345761238","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2345761238","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2345761238,"node_id":"IC_kwDOAPaMMs6L0XnW","user":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-12T09:35:51Z","updated_at":"2024-09-12T09:37:24Z","body":"This working in ef6.. My project depends heavily on this","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2345761238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14229859503,"node_id":"LE_lADOAPaMMs6U_FzlzwAAAANQKmyv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14229859503","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-12T09:44:24Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356546254","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2356546254","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2356546254,"node_id":"IC_kwDOAPaMMs6MdgrO","user":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T17:45:18Z","updated_at":"2024-09-17T17:45:18Z","body":"> Possibly related #34589.\r\n\r\n@cincuranet #34589 is this issue ðŸ¤”","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356546254/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14295018847,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUDK1f","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14295018847","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-17T17:45:19Z","performed_via_github_app":null},{"id":14295018860,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUDK1s","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14295018860","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-17T17:45:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356574630","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2356574630","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2356574630,"node_id":"IC_kwDOAPaMMs6Mdnmm","user":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T18:01:50Z","updated_at":"2024-09-26T09:52:01Z","body":"You are right. So it's not possibly related, but surely related. ;)\r\n\r\nBut it doesn't matter. During a triage with @roji last week we concluded it (whatever it was) was not related.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356574630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14295202237,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUD3m9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14295202237","actor":{"login":"Shay","id":31648879,"node_id":"MDQ6VXNlcjMxNjQ4ODc5","avatar_url":"https://avatars.githubusercontent.com/u/31648879?v=4","gravatar_id":"","url":"https://api.github.com/users/Shay","html_url":"https://github.com/Shay","followers_url":"https://api.github.com/users/Shay/followers","following_url":"https://api.github.com/users/Shay/following{/other_user}","gists_url":"https://api.github.com/users/Shay/gists{/gist_id}","starred_url":"https://api.github.com/users/Shay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shay/subscriptions","organizations_url":"https://api.github.com/users/Shay/orgs","repos_url":"https://api.github.com/users/Shay/repos","events_url":"https://api.github.com/users/Shay/events{/privacy}","received_events_url":"https://api.github.com/users/Shay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-17T18:01:51Z","performed_via_github_app":null},{"id":14295202254,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUD3nO","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14295202254","actor":{"login":"Shay","id":31648879,"node_id":"MDQ6VXNlcjMxNjQ4ODc5","avatar_url":"https://avatars.githubusercontent.com/u/31648879?v=4","gravatar_id":"","url":"https://api.github.com/users/Shay","html_url":"https://github.com/Shay","followers_url":"https://api.github.com/users/Shay/followers","following_url":"https://api.github.com/users/Shay/following{/other_user}","gists_url":"https://api.github.com/users/Shay/gists{/gist_id}","starred_url":"https://api.github.com/users/Shay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shay/subscriptions","organizations_url":"https://api.github.com/users/Shay/orgs","repos_url":"https://api.github.com/users/Shay/repos","events_url":"https://api.github.com/users/Shay/events{/privacy}","received_events_url":"https://api.github.com/users/Shay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-17T18:01:52Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356957545","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2356957545","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2356957545,"node_id":"IC_kwDOAPaMMs6MfFFp","user":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T21:21:04Z","updated_at":"2024-09-17T21:21:04Z","body":"IIUC the issue is that `RelationalSqlTranslatingExpressionVisitor.VisitConditional` requires that all of its sub-expressions are translated to `SqlExpression`s by `Visit`.\r\n\r\nThis is (hopefully) going to be true for the condition (as it should always be a boolean value), but the true/false expressions might transport much more complex types (they might be navigations to other objects/collections/new{} objects, ...).\r\n\r\nI am unsure if this is 100% general, but distributing some of the operations applied to the conditional might help in many cases. In this case the transformation would be:\r\n`(x.Id == 0 ? x.Parent : x.Parent).Id` -> `(x.Id == 0 ? x.Parent.Id : x.Parent.Id)`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2356957545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2357527753","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2357527753","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2357527753,"node_id":"IC_kwDOAPaMMs6MhQTJ","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-18T05:26:59Z","updated_at":"2024-09-18T05:26:59Z","body":"Yeah, good points @ranma42.\r\n\r\nFirst, C# itself constrains the result of the conditional operation to be the same .NET type (e.g. you can't have `x ? 8 : \"foo\"`). I think this means that there are two possible useful usages:\r\n1. The exact same type is projected, but e.g. from different columns (`x ? b.Id1 : b.Id2`, where both Ids have exactly the same type). This has variants of scalars (with the Ids) and structural types (e.g. `x ? b.ShippingAddress : b.BillingAddress`).\r\n2. We're projecting two different structural types which are in a hierarchy. Here, the actual type getting projected is the common superclass.\r\n\r\nWe should probably be concentrating on the 1st case here, possibly splitting the 2nd case out to another issue if needed.\r\n\r\n@ranma42 \r\n\r\n> I am unsure if this is 100% general, but distributing some of the operations applied to the conditional might help in many cases.\r\n\r\nYeah, that's possible... Though for the general case we still must support the basic translation here; for example, the results of the conditional expression may be projected out without anything being composed on top. And once the general case is done, I'm not sure lowering the member access into the conditional is good (the SQL becomes more complex with duplication...).\r\n\r\n@dzyranov given this worked on EF6, could you please post the SQL you got there? Also, assuming your actual query above is a simplification (`x.Id == 0 ? x.Parent : x.Parent` - not useful), can you provide a bit more context on how you're using the conditional in your real application? Are different types of a hierarchy being projected, or something else?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2357527753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14301508818,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUb7TS","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14301508818","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-18T05:27:00Z","performed_via_github_app":null},{"id":14301508826,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUb7Ta","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14301508826","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-18T05:27:00Z","performed_via_github_app":null},{"id":14301508834,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUb7Ti","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14301508834","actor":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-18T05:27:00Z","performed_via_github_app":null},{"id":14301508840,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUb7To","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14301508840","actor":{"login":"dzyranov","id":10286728,"node_id":"MDQ6VXNlcjEwMjg2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/10286728?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyranov","html_url":"https://github.com/dzyranov","followers_url":"https://api.github.com/users/dzyranov/followers","following_url":"https://api.github.com/users/dzyranov/following{/other_user}","gists_url":"https://api.github.com/users/dzyranov/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyranov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyranov/subscriptions","organizations_url":"https://api.github.com/users/dzyranov/orgs","repos_url":"https://api.github.com/users/dzyranov/repos","events_url":"https://api.github.com/users/dzyranov/events{/privacy}","received_events_url":"https://api.github.com/users/dzyranov/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-18T05:27:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2357759813","html_url":"https://github.com/dotnet/efcore/issues/34589#issuecomment-2357759813","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/34589","id":2357759813,"node_id":"IC_kwDOAPaMMs6MiI9F","user":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-18T07:54:34Z","updated_at":"2024-09-18T07:54:34Z","body":"> Yeah, good points @ranma42.\r\n> \r\n> First, C# itself constrains the result of the conditional operation to be the same .NET type (e.g. you can't have `x ? 8 : \"foo\"`). I think this means that there are two possible useful usages:\r\n> \r\n> 1. The exact same type is projected, but e.g. from different columns (`x ? b.Id1 : b.Id2`, where both Ids have exactly the same type). This has variants of scalars (with the Ids) and structural types (e.g. `x ? b.ShippingAddress : b.BillingAddress`).\r\n> 2. We're projecting two different structural types which are in a hierarchy. Here, the actual type getting projected is the common superclass.\r\n> \r\n> We should probably be concentrating on the 1st case here, possibly splitting the 2nd case out to another issue if needed.\r\n\r\nYes, the 2nd case would definitely be a further step.\r\n\r\n> > I am unsure if this is 100% general, but distributing some of the operations applied to the conditional might help in many cases.\r\n> \r\n> Yeah, that's possible... Though for the general case we still must support the basic translation here; for example, the results of the conditional expression may be projected out without anything being composed on top.\r\n\r\nI believe that this issue should essentially affect collection operations such as `.Where`, `.Take`, and so on, which basically expect an expression that computes a scalar (boolean/number). Is there any other case you think would fail? (IIUC projecting the complex type would work just fine with some further computation and/or object materialization performed on the client side).\r\n\r\n> And once the general case is done, I'm not sure lowering the member access into the conditional is good (the SQL becomes more complex with duplication...).\r\n\r\nI think that the opportunities for improving the SQL are unrelated to this. A slightly modified version of the original snippet (changed so that the conditional matches your example of using 2 different values in the branches):\r\n\r\n```csharp\r\n// @nuget: Microsoft.EntityFrameworkCore.Sqlite -Version 8.0.8\r\n\r\nusing System;\r\nusing System.Data;\r\nusing System.Linq;\r\nusing Microsoft.EntityFrameworkCore;\r\n\r\nusing var db = new BloggingContext();\r\n\r\ndb.Database.EnsureDeleted();\r\ndb.Database.EnsureCreated();\r\n\r\ndb.Blogs\r\n    .Where(x => (x.Id == 0 ? x.LeftChild.Id : x.RightChild.Id) != null)\r\n    .ToList();\r\n\r\ndb.Blogs\r\n    .Where(x => (x.Id == 0 ? x.LeftChild.Url : x.RightChild.Url) != null)\r\n    .ToList();\r\n\r\ndb.Blogs\r\n    .Where(x => (x.Id == 0 ? x.LeftChild : x.RightChild).Url != null)\r\n    .ToList();\r\n\r\npublic class BloggingContext : DbContext\r\n{\r\n    public DbSet<Blog> Blogs { get; set; }\r\n\r\n    protected override void OnConfiguring(DbContextOptionsBuilder options)\r\n        => options\r\n            .LogTo(Console.WriteLine, Microsoft.Extensions.Logging.LogLevel.Information)\r\n            .UseSqlite($\"Data Source=test.db\");\r\n\r\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\r\n    {\r\n        modelBuilder.Entity<Blog>().HasOne(x => x.LeftChild);\r\n        modelBuilder.Entity<Blog>().HasOne(x => x.RightChild);\r\n    }\r\n}\r\n\r\npublic class Blog\r\n{\r\n    public int Id { get; set; }\r\n    public string Url { get; set; }\r\n    public virtual Blog? LeftChild { get; set; }\r\n    public virtual Blog? RightChild { get; set; }\r\n}\r\n```\r\n\r\nThis produces a first query that is:\r\n```sql\r\n      SELECT \"b\".\"Id\", \"b\".\"LeftChildId\", \"b\".\"RightChildId\", \"b\".\"Url\"\r\n      FROM \"Blogs\" AS \"b\"\r\n      LEFT JOIN \"Blogs\" AS \"b0\" ON \"b\".\"LeftChildId\" = \"b0\".\"Id\"\r\n      LEFT JOIN \"Blogs\" AS \"b1\" ON \"b\".\"RightChildId\" = \"b1\".\"Id\"\r\n      WHERE CASE\r\n          WHEN \"b\".\"Id\" = 0 THEN \"b0\".\"Id\"\r\n          ELSE \"b1\".\"Id\"\r\n      END = 42\r\n```\r\nI agree that is inefficient because of the JOINs; ideally this should be\r\n```sql\r\n      SELECT \"b\".\"Id\", \"b\".\"LeftChildId\", \"b\".\"RightChildId\", \"b\".\"Url\"\r\n      FROM \"Blogs\" AS \"b\"\r\n      WHERE CASE\r\n          WHEN \"b\".\"Id\" = 0 THEN \"b\".\"LeftChildId\"\r\n          ELSE \"b\".\"RightChildId\"\r\n      END = 42\r\n```\r\nbut AFAICT this is unrelated to the conditional (EFCore does not simplify FK accesses; this seems to be #28077 and #33067).\r\n\r\nThe more relevant query is:\r\n```sql\r\n      SELECT \"b\".\"Id\", \"b\".\"LeftChildId\", \"b\".\"RightChildId\", \"b\".\"Url\"\r\n      FROM \"Blogs\" AS \"b\"\r\n      LEFT JOIN \"Blogs\" AS \"b0\" ON \"b\".\"LeftChildId\" = \"b0\".\"Id\"\r\n      LEFT JOIN \"Blogs\" AS \"b1\" ON \"b\".\"RightChildId\" = \"b1\".\"Id\"\r\n      WHERE CASE\r\n          WHEN \"b\".\"Id\" = 0 THEN \"b0\".\"Url\"\r\n          ELSE \"b1\".\"Url\"\r\n      END = 'foo'\r\n```\r\nwhich looks mostly fine to me. An alternative query for this would be\r\n```sql\r\n      SELECT \"b\".\"Id\", \"b\".\"LeftChildId\", \"b\".\"RightChildId\", \"b\".\"Url\"\r\n      FROM \"Blogs\" AS \"b\"\r\n      WHERE CASE\r\n          WHEN \"b\".\"Id\" = 0 THEN (SELECT \"b0\".\"Url\" FROM \"Blogs\" AS \"b0\" WHERE \"b\".\"LeftChildId\" = \"b0\".\"Id\")\r\n          ELSE (SELECT \"b1\".\"Url\" FROM \"Blogs\" AS \"b1\" ON \"b\".\"RightChildId\" = \"b1\".\"Id\")\r\n      END = 'foo'\r\n```\r\nbut I believe this would actually be worse. I would definitely like to know what EF6 did in this case (and if @roji knows some trick to simplify the `.Url` query).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2357759813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14303058121,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUh1jJ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14303058121","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-18T07:54:35Z","performed_via_github_app":null},{"id":14303058135,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUh1jX","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14303058135","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-18T07:54:35Z","performed_via_github_app":null},{"id":14303058153,"node_id":"MEE_lADOAPaMMs6U_FzlzwAAAANUh1jp","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14303058153","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-18T07:54:35Z","performed_via_github_app":null},{"id":14303058169,"node_id":"SE_lADOAPaMMs6U_FzlzwAAAANUh1j5","url":"https://api.github.com/repos/dotnet/efcore/issues/events/14303058169","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-18T07:54:35Z","performed_via_github_app":null}]