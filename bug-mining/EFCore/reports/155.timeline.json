[{"id":7792605734,"node_id":"LE_lADOAPaMMs5WKYMszwAAAAHQebom","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7792605734","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-11T14:35:07Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1311948691","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1311948691","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1311948691,"node_id":"IC_kwDOAPaMMs5OMr-T","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T17:00:28Z","updated_at":"2022-11-11T17:00:28Z","body":"@gaglia I'll take a look, but it's typically difficult to get to the root cause of a bug from a few SQL statements.\r\n\r\nAre you able to submit a minimal, runnable code sample that reproduces the error?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1311948691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7793682064,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHQiiaQ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7793682064","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-11T17:00:29Z","performed_via_github_app":null},{"id":7793682071,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHQiiaX","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7793682071","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-11T17:00:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1311953935","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1311953935","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1311953935,"node_id":"IC_kwDOAPaMMs5OMtQP","user":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T17:05:54Z","updated_at":"2022-11-11T17:05:54Z","body":"@roji I guess it's not easy I understand very well.\r\nAnd that unfortunately it is not even that simple to be able to extrapolate a test from my project but I try!\r\nI hope to be able to give it to you as soon as possible\r\nThank you","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1311953935/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7793725104,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHQis6w","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7793725104","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-11T17:05:55Z","performed_via_github_app":null},{"id":7793725116,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHQis68","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7793725116","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-11T17:05:55Z","performed_via_github_app":null},{"actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T11:13:16Z","updated_at":"2022-11-15T11:13:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29562","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29562/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29562/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29562/events","html_url":"https://github.com/dotnet/efcore/issues/29562","id":1449536812,"node_id":"I_kwDOAPaMMs5WZi0s","number":29562,"title":"Batched query breaks after upgrade to 7.0 - The UPDATE statement conflicted with the FOREIGN KEY constraint","user":{"login":"cornem","id":7910589,"node_id":"MDQ6VXNlcjc5MTA1ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7910589?v=4","gravatar_id":"","url":"https://api.github.com/users/cornem","html_url":"https://github.com/cornem","followers_url":"https://api.github.com/users/cornem/followers","following_url":"https://api.github.com/users/cornem/following{/other_user}","gists_url":"https://api.github.com/users/cornem/gists{/gist_id}","starred_url":"https://api.github.com/users/cornem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cornem/subscriptions","organizations_url":"https://api.github.com/users/cornem/orgs","repos_url":"https://api.github.com/users/cornem/repos","events_url":"https://api.github.com/users/cornem/events{/privacy}","received_events_url":"https://api.github.com/users/cornem/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2022-11-15T10:24:45Z","updated_at":"2025-06-16T09:04:08Z","closed_at":"2022-11-21T09:39:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"After upgrading to version 7.0 of EntityFramework, we are encountering an error. The error thrown is `The UPDATE statement conflicted with the FOREIGN KEY constraint`.\r\n\r\nMinimal extract from actual code:\r\n\r\n```csharp\r\nforeach (var salesOrder in salesOrders)\r\n{\r\n    var delivery = new Delivery\r\n    {\r\n        AddressId = salesOrder.ShippingAddressId,\r\n\tCustomerName = salesOrder.Name,\r\n\tDeliveryDate = date,\r\n\tPosition = -1,\r\n\tRoute = route,\r\n\tTimeslotEnd = deliveryDay?.DeliveryTo,\r\n\tTimeslotStart = deliveryDay?.DeliveryFrom\r\n    };\r\n\r\n    Context.Deliveries.Add(delivery);\r\n\r\n    // add reference from PackingSlip to Delivery\r\n    if (source == ConfigureDeliverySource.PackingSlips)\r\n    {\r\n \tvar packingSlip = packingSlips.First(p => salesOrder.PackingSlipNumber == p.Number);\r\n\tdelivery.PackingSlips.Add(packingSlip);\r\n   }\r\n}\r\n\r\nawait Context.SaveChangesAsync().ConfigureAwait(false);\r\n```\r\n\r\nThis works OK as long as there are only a few `Delivery` entities to insert, however, after 42 entities, EF creates multiple inserts, and that's when it apparently goes wrong. When it subsequently tries to update the `PackingSlip` entities to set the `DeliveryId` reference, there is now an incorrect reference (see `@p651`):\r\n\r\n```\r\n[Parameters=[@p652='1054315', @p651='-2147482352' (Nullable = true), @p654='1054316', @p653='283504' (Nullable = true), @p656='1054317', @p655='283505' (Nullable = true), @p658='1054318', @p657='283505' (Nullable = true), @p660='1054319', @p659='283504' (Nullable = true), @p662='1054320', @p661='283504' (Nullable = true), @p664='1054321', @p663='283504' (Nullable = true), @p666='1054322', @p665='283504' (Nullable = true), @p668='1054323', @p667='283504' (Nullable = true), @p670='1054324', @p669='283504' (Nullable = true), @p672='1054325', @p671='283504' (Nullable = true), @p674='1054326', @p673='283504' (Nullable = true), @p676='1054327', @p675='283504' (Nullable = true), @p678='1054328', @p677='283504' (Nullable = true), @p680='1054329', @p679='283504' (Nullable = true), @p682='1054330', @p681='283504' (Nullable = true), @p684='1054331', @p683='283504' (Nullable = true), @p686='1054332', @p685='283504' (Nullable = true), @p688='1054333', @p687='283504' (Nullable = true), @p690='1054334', @p689='283504' (Nullable = true), @p692='1054335', @p691='283504' (Nullable = true), @p694='1054336', @p693='283504' (Nullable = true), @p696='1054337', @p695='283504' (Nullable = true), @p698='1054338', @p697='283504' (Nullable = true), @p700='1054339', @p699='283506' (Nullable = true), @p702='1054340', @p701='283506' (Nullable = true), @p704='1054341', @p703='283506' (Nullable = true), @p706='1054342', @p705='283507' (Nullable = true), @p708='1054343', @p707='283508' (Nullable = true), @p710='1054344', @p709='283509' (Nullable = true), @p712='1054345', @p711='283509' (Nullable = true), @p714='1054346', @p713='283509' (Nullable = true), @p716='1054347', @p715='283509' (Nullable = true), @p718='1054348', @p717='283509' (Nullable = true), @p720='1054349', @p719='283509' (Nullable = true), @p722='1054350', @p721='283509' (Nullable = true), @p724='1054351', @p723='283509' (Nullable = true), @p726='1054352', @p725='283510' (Nullable = true), @p728='1054353', @p727='283511' (Nullable = true), @p730='1054354', @p729='283512' (Nullable = true), @p732='1054355', @p731='283513' (Nullable = true), @p734='1054356', @p733='283514' (Nullable = true)], CommandType='Text', CommandTimeout='300']\r\n      SET NOCOUNT ON;\r\n      UPDATE [PackingSlips] SET [DeliveryId] = @p651\r\n      OUTPUT INSERTED.[Checksum]\r\n      WHERE [PackingSlipId] = @p652;\r\n      UPDATE [PackingSlips] SET [DeliveryId] = @p653\r\n      OUTPUT INSERTED.[Checksum]\r\n      WHERE [PackingSlipId] = @p654;\r\n     \r\n     // shortened for brevity\r\n```\r\n\r\n### Include provider and version information\r\n\r\nEF Core version: 7.0.0\r\nDatabase provider: Microsoft.EntityFrameworkCore.SqlServer\r\nTarget framework: net7.0\r\nOperating system: Windows 11\r\nIDE: Visual Studio 2022 17.4\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29562/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"id":7815061920,"node_id":"LE_lADOAPaMMs5WKYMszwAAAAHR0GGg","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7815061920","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-15T15:24:29Z","label":{"name":"Servicing-consider","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319022479","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1319022479","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1319022479,"node_id":"IC_kwDOAPaMMs5Onq-P","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T18:12:58Z","updated_at":"2022-11-17T18:12:58Z","body":"@gaglia it's likely that this is a duplicate of #29502 (also raised in #29562).\r\n\r\nI've fixed this in our main branch; can you please try the latest [daily build](https://github.com/dotnet/efcore/blob/main/docs/DailyBuilds.md) and report whether the problem still occurs?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319022479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7836501635,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHTF4aD","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7836501635","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-17T18:12:58Z","performed_via_github_app":null},{"id":7836501646,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHTF4aO","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7836501646","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-17T18:12:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319899265","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1319899265","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1319899265,"node_id":"IC_kwDOAPaMMs5OrBCB","user":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T11:53:01Z","updated_at":"2022-11-18T11:54:33Z","body":"Hi @roji \r\n\r\nI'm trying but I still get the problem.\r\nI have a doubt to use the latest daily build correctly but I think I'm doing it correctly:\r\n\r\nI created the Nuget.config file as mentioned in the guide:\r\n\r\n```XML\r\n\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<configuration>\r\n  <disabledPackageSources>\r\n   <clear />\r\n  </disabledPackageSources>\r\n  <packageSources>\r\n    <clear />\r\n    <add key=\"dotnet7\" value=\"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet7/nuget/v3/index.json\" />\r\n    <add key=\"nuget.org\" value=\"https://api.nuget.org/v3/index.json\" />\r\n  </packageSources>\r\n</configuration>\r\n\r\n```\r\n\r\nI then used wildcards in the PackageReference:\r\n\r\n```XML\r\n<ItemGroup>\r\n  <PackageReference Include=\"Microsoft.EntityFrameworkCore\" Version=\"7.0.0-*\" />\r\n  <PackageReference Include=\"Microsoft.EntityFrameworkCore.Design\" Version=\"7.0.0-*\">\r\n  <PrivateAssets>all</PrivateAssets>\r\n    <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>\r\n  </PackageReference>\r\n  <PackageReference Include=\"Microsoft.EntityFrameworkCore.SqlServer\" Version=\"7.0.0-*\" />\r\n</ItemGroup>\r\n\r\n```\r\n\r\nIs that enough? Or should I use version 8.0.0-alpha.1.22416.5 ?\r\n\r\nUsing 7.0.0-* the problem still exists, I checked what you indicated here #29502 and here #29562 but I was just using HasTrigger():\r\n\r\nentity.ToTable(tb => tb.HasTrigger(\"TR_veDocuments_Rows__Insert\"));\r\n\r\nThe model was generated using EF Core Power Tools and it had already automatically entered the indication of the trigger\r\n\r\nOn SaveChanges I don't get any error but 2 entities out of 66 of type veDocumenti_Righe are not inserted because they are \"ignored\" by the SQL code generated by EF as indicated above.\r\n\r\nI'm trying to create a mini project by pulling it out of my main project but I can't seem to replicate the problem right now.\r\nThe problem I can only replicate in my main project when I have to insert more than 40 entities of type veDocumenti_Righe at the same time\r\n\r\nLet me know if I have to try version 8.0.0-alpha.1.22416.5, meanwhile I'll continue to see if I can create a project for you to replicate the problem\r\n\r\nThank you\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319899265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7843049998,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHTe3IO","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7843049998","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-18T11:53:01Z","performed_via_github_app":null},{"id":7843050005,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHTe3IV","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7843050005","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-18T11:53:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319973441","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1319973441","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1319973441,"node_id":"IC_kwDOAPaMMs5OrTJB","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T13:08:28Z","updated_at":"2022-11-18T13:08:28Z","body":"@gaglia the fix hasn't been merged to 7.0 yet, and we don't generally publish daily build packages for patch releases; so yes, you need to use the latest 8.0.0-alpha daily build.\r\n\r\nIf you're not sure which version you're building, do `dotnet restore` and then check obj/project.assets.json for the precise version.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1319973441/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7843627076,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHThEBE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7843627076","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-18T13:08:28Z","performed_via_github_app":null},{"id":7843627087,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHThEBP","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7843627087","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-18T13:08:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1320318298","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1320318298","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1320318298,"node_id":"IC_kwDOAPaMMs5OsnVa","user":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T17:27:41Z","updated_at":"2022-11-18T17:27:41Z","body":"@roji unfortunately the problem persists even with version 8.0.0-alpha.1.22416.5\r\n\r\nThe problem keeps happening on my main project which has a model with about 800 mapped tables\r\n\r\nI'm trying to replicate the problem with a small model of my project to give you the solution to analyze but I haven't been able to yet. It seems that with the smaller model the problem does not arise.\r\n\r\nI'm trying to replicate the same situation I hope to succeed as soon as possible\r\n\r\nI am attaching the project.assets.json file to make sure I tried with the right version :)\r\n[project.assets.zip](https://github.com/dotnet/efcore/files/10043507/project.assets.zip)\r\n\r\nThank you\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1320318298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7845938044,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHTp4N8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7845938044","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-18T17:27:41Z","performed_via_github_app":null},{"id":7845938050,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHTp4OC","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7845938050","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-18T17:27:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1320328289","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1320328289","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1320328289,"node_id":"IC_kwDOAPaMMs5Ospxh","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T17:37:29Z","updated_at":"2022-11-18T17:37:29Z","body":"8.0.0-alpha.1.22416.5 corresponds to commit a999af786f5ff4196630415bb1fd95c3ff9c55e2, which is from August; this is likely because our [daily build](https://github.com/dotnet/efcore/blob/main/docs/DailyBuilds.md) still point to the dotnet7 feed. Change your nuget.config to point to the dotnet8 feed instead:\r\n\r\n```xml\r\n<add key=\"dotnet8\" value=\"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet8/nuget/v3/index.json\" />\r\n```\r\n\r\nAfter that, I'm getting package 8.0.0-alpha.1.22567.1, which corresponds to commit 8fdc756b3eef98364f4de3f4eed4dcf6b29329e2 which has the fix.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1320328289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7846128439,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHTqms3","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7846128439","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-18T17:53:36Z","performed_via_github_app":null},{"id":7846128460,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHTqmtM","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7846128460","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-18T17:53:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1321706537","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1321706537","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1321706537,"node_id":"IC_kwDOAPaMMs5Ox6Qp","user":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T08:47:51Z","updated_at":"2022-11-21T08:47:51Z","body":"Sorry @roji  now I corrected the NuGet.config and I tried both with the version indicated by you 8.0.0-alpha.1.22567.1, and with the latest available yesterday 8.0.0-alpha.1.22570.1 but unfortunately the problem in my project is still present.\r\n\r\nI'm trying to make a test project that I can give you where to replicate the problem but as mentioned earlier I'm having trouble replicating the problem in another simpler project.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1321706537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7855121775,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHUM6Vv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7855121775","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-21T08:47:51Z","performed_via_github_app":null},{"id":7855121786,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHUM6V6","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7855121786","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-21T08:47:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1323347943","html_url":"https://github.com/dotnet/efcore/issues/29539#issuecomment-1323347943","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29539","id":1323347943,"node_id":"IC_kwDOAPaMMs5O4K_n","user":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T09:18:21Z","updated_at":"2022-11-22T09:18:21Z","body":"Hi @roji I finally managed to replicate the problem in a smaller project that I can give you.\r\n\r\nI tried to put in the code comments what happens.\r\n\r\nQuickly summarize in this case I have 80 entities of type veDocumenti_Righe in Added state that should be saved but after the SaveChanges only 57 are inserted the other 23 remain in an incorrect state with the primary key at 0\r\n\r\nI'm trying with version 8.0.0-alpha.1.22571.6\r\nIn the SQLScripts folder of the WpfApp.DataAccess project I placed the SQL scripts to create the tables and data to start the project.\r\n\r\nIf you need any other information, I'm available\r\n\r\nA thousand thanks\r\n\r\n[EFCoreTest.Solution.zip](https://github.com/dotnet/efcore/files/10065884/EFCoreTest.Solution.zip)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1323347943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gaglia","id":8866859,"node_id":"MDQ6VXNlcjg4NjY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/8866859?v=4","gravatar_id":"","url":"https://api.github.com/users/gaglia","html_url":"https://github.com/gaglia","followers_url":"https://api.github.com/users/gaglia/followers","following_url":"https://api.github.com/users/gaglia/following{/other_user}","gists_url":"https://api.github.com/users/gaglia/gists{/gist_id}","starred_url":"https://api.github.com/users/gaglia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaglia/subscriptions","organizations_url":"https://api.github.com/users/gaglia/orgs","repos_url":"https://api.github.com/users/gaglia/repos","events_url":"https://api.github.com/users/gaglia/events{/privacy}","received_events_url":"https://api.github.com/users/gaglia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7865712823,"node_id":"MEE_lADOAPaMMs5WKYMszwAAAAHU1UC3","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7865712823","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-22T09:18:22Z","performed_via_github_app":null},{"id":7865712834,"node_id":"SE_lADOAPaMMs5WKYMszwAAAAHU1UDC","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7865712834","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-22T09:18:22Z","performed_via_github_app":null}]