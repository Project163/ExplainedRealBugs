[{"id":7763567227,"node_id":"LE_lADOAPaMMs5V2deBzwAAAAHOvqJ7","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7763567227","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-11-08T14:46:28Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307580137","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1307580137","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1307580137,"node_id":"IC_kwDOAPaMMs5N8Bbp","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T17:33:15Z","updated_at":"2022-11-08T17:34:06Z","body":"@joakimriedel I'm not able to reproduce this--see my code below. Please attach a small, runnable project or post a small, runnable code listing that reproduces what you are seeing so that we can investigate.\r\n\r\n```C#\r\n#nullable enable\r\n\r\npublic static class Your\r\n{\r\n    public static string ConnectionString = @\"Data Source=(LocalDb)\\MSSQLLocalDB;Database=AllTogetherNow\";\r\n}\r\n\r\npublic class Product\r\n{\r\n    public int Id { get; set; }\r\n}\r\n\r\npublic class User\r\n{\r\n    public int Id { get; set; }\r\n}\r\n\r\npublic class DailyDigest\r\n{\r\n    public int Id { get; set; }\r\n    \r\n    public User User { get; set; }\r\n    public DateTime TimeCreatedUtc { get; set; }\r\n}\r\n\r\npublic class SomeDbContext : DbContext\r\n{\r\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n        => optionsBuilder\r\n            .UseSqlServer(Your.ConnectionString)\r\n            .LogTo(Console.WriteLine, LogLevel.Information)\r\n            .EnableSensitiveDataLogging();\r\n\r\n    public DbSet<User> Users { get; set; }\r\n    public DbSet<DailyDigest> DailyDigests { get; set; }\r\n}\r\n\r\npublic class Program\r\n{\r\n    public static async Task Main()\r\n    {\r\n        using (var context = new SomeDbContext())\r\n        {\r\n            context.Database.EnsureDeleted();\r\n            context.Database.EnsureCreated();\r\n\r\n            context.Add(new DailyDigest { User = new() });\r\n            context.SaveChanges();\r\n        }\r\n        \r\n        using (var context = new SomeDbContext())\r\n        {\r\n            var utcNow = DateTime.UtcNow;\r\n\r\n            var digests = await context.Users\r\n                .Select(u => new DailyDigest\r\n                {\r\n                    User = u,\r\n                    TimeCreatedUtc = utcNow,\r\n                })\r\n                .ToListAsync();\r\n\r\n            foreach (var digest in digests)\r\n            {\r\n                // next line is necessary in 7.0 rc2, was not necessary in 6.0 and below (down to 1.0 ?)\r\n                // digest.Id = default;\r\n\r\n                context.DailyDigests.Add(digest);\r\n            }\r\n\r\n            await context.SaveChangesAsync();\r\n        }\r\n    }\r\n}\r\n\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307580137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7765226403,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHO1_Oj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7765226403","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-08T17:33:55Z","performed_via_github_app":null},{"id":7765226410,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHO1_Oq","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7765226410","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-08T17:33:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307805994","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1307805994","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1307805994,"node_id":"IC_kwDOAPaMMs5N84kq","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T20:46:53Z","updated_at":"2022-11-08T20:48:39Z","body":"@ajcvickers I'm terribly sorry for posting a bad issue without repro. \r\n\r\nThe real project is a huge codebase, five years old and iterated on since the very first version of EF Core, which makes it quite challenging to break parts out in a smaller project and still reproduce. This issue was the only thing (except how hard it was to regenerate compiled model) that I had after migrating from 6.0.10 to 7.0-rc2 (which in itself is amazing! ðŸ™Œ). I've now spent the last hours trying to reproduce in a smaller project, but without success.\r\n\r\nIt really bugs me because there is absolutely nothing I can think of in the code that might set or alter `Id` in any way, I simply generate `DailyDigest` object in the projection, set `Email` property on it in a loop (after generating an email), and then save it to database. But still I have to set `Id` manually to `default int` to make it work in 7.0-rc2.\r\n\r\nNote that your sample has one issue, since it projects from `Users` it's necessary to have at least one `User` in the database:\r\n\r\n```c#\r\n// old: context.Add(new DailyDigest { User = new() });\r\ncontext.Add(new User());\r\n```\r\n\r\nWhat I've applied from real project so far that I thought might help reproduce;\r\n\r\n- import most of the real entities and their configuration (index, keys etc)\r\n- enabled compiled model (`dotnet ef dbcontext optimize`)\r\n- explicitly set single query splitting mode (`sqlOptions.UseQuerySplittingBehavior(QuerySplittingBehavior.SingleQuery)`)\r\n- apply `HierarchyId` extension\r\n- configure conventions (utc, dateonly)\r\n- apply TPH (DailyDigest is derived from abstract class)\r\n- use more of the real query (see below)\r\n\r\n```c#\r\n            var digests = await context.Users\r\n                .TagWith(tag: nameof(DailyDigest))\r\n                // lots of conditions\r\n                .Where(conditions...)\r\n                .OrderBy(u => u.TimeCreatedUtc)\r\n                .Take(maxCount)\r\n                .Select(u => new\r\n                {\r\n                    User = u,\r\n                    // lots of other calculated properties from navigation properties..\r\n                })\r\n                .Select(source => new DailyDigest\r\n                {\r\n                    User = source.User,\r\n                    TimeCreatedUtc = utcNow,\r\n                    // lots of other properties...\r\n                })\r\n                .ToListAsync(cancellationToken);\r\n```\r\n\r\nWhat I haven't tried so far, but might affect results;\r\n\r\n- run in background thread (real project use Hangfire to schedule generating daily digests)\r\n- use real database to get more data in query\r\n\r\nI'd appreciate any tips or hints on what was changed in 7.0 that you think might affect migrating from 6.0.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307805994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7766666287,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHO7ewv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7766666287","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-08T20:46:53Z","performed_via_github_app":null},{"id":7766666298,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHO7ew6","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7766666298","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-08T20:46:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307881489","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1307881489","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1307881489,"node_id":"IC_kwDOAPaMMs5N9LAR","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T21:59:12Z","updated_at":"2022-11-08T21:59:12Z","body":"@joakimriedel Have you tried with 7.0 GA?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1307881489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7767136150,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHO9ReW","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7767136150","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-08T21:59:12Z","performed_via_github_app":null},{"id":7767136160,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHO9Reg","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7767136160","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-08T21:59:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308603978","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1308603978","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1308603978,"node_id":"IC_kwDOAPaMMs5N_7ZK","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T11:22:00Z","updated_at":"2022-11-09T16:41:28Z","body":"@ajcvickers Just installed 7.0 GA but this bug still reproduces in real project. I think there's something really fishy going on, perhaps memory corruption or bad caching somewhere? Look at the following verbose logs;\r\n\r\n<details>\r\n<summary> Verbose log </summary>\r\n\r\n```\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482408' to '82477' for entity with key '{Id: 82477}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482420' to '82465' for entity with key '{Id: 82465}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482432' to '82453' for entity with key '{Id: 82453}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482403' to '82482' for entity with key '{Id: 82482}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482406' to '82479' for entity with key '{Id: 82479}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482421' to '82464' for entity with key '{Id: 82464}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482407' to '82478' for entity with key '{Id: 82478}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482423' to '82462' for entity with key '{Id: 82462}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482426' to '82459' for entity with key '{Id: 82459}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482424' to '82461' for entity with key '{Id: 82461}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482414' to '82471' for entity with key '{Id: 82471}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482431' to '82454' for entity with key '{Id: 82454}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482416' to '82469' for entity with key '{Id: 82469}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482400' to '82485' for entity with key '{Id: 82485}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482413' to '82472' for entity with key '{Id: 82472}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482418' to '82467' for entity with key '{Id: 82467}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482428' to '82457' for entity with key '{Id: 82457}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482405' to '82480' for entity with key '{Id: 82480}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482410' to '82475' for entity with key '{Id: 82475}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482427' to '82458' for entity with key '{Id: 82458}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482401' to '82484' for entity with key '{Id: 82484}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482402' to '82483' for entity with key '{Id: 82483}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482419' to '82466' for entity with key '{Id: 82466}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482409' to '82476' for entity with key '{Id: 82476}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482429' to '82456' for entity with key '{Id: 82456}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482411' to '82474' for entity with key '{Id: 82474}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482417' to '82468' for entity with key '{Id: 82468}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482422' to '82463' for entity with key '{Id: 82463}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482415' to '82470' for entity with key '{Id: 82470}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482430' to '82455' for entity with key '{Id: 82455}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482412' to '82473' for entity with key '{Id: 82473}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482404' to '82481' for entity with key '{Id: 82481}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '82485' to '82460' for entity with key '{Id: 82460}'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Closing data reader to 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: A data reader for 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' is being disposed after spending 105ms reading results.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closing connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closed connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' (2ms).\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82469}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82468}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82467}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82466}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82465}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82464}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82463}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82462}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82461}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.Update: Error: An exception occurred in the database while saving changes for context type 'WebApp.Data.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The property 'DailyDigest.Id' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n```\r\n\r\n</details>\r\n\r\nThis line is especially troubling since Id 82485 has already been set earlier, why does it change into 82460?\r\n\r\n```\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '82485' to '82460' for entity with key '{Id: 82460}'.\r\n```\r\n\r\nLooks like it is when this entity is about to switch from Added to Unchanged that this exception is thrown.\r\n\r\n```\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82461}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\n    --- I guess this is where 82460 tries to change state since it goes in descending order, see full log above ----\r\nMicrosoft.EntityFrameworkCore.Update: Error: An exception occurred in the database while saving changes for context type 'WebApp.Data.ApplicationDbContext'.\r\n```\r\n\r\nThe DailyDigests will be generated in batches, default batch size is 50. If I change batch size to 1 the bug does not reproduce. It seems only as if I can reproduce this if SaveChangesAsync is called for a large number of items saved to db at once.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308603978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7772456240,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPRkUw","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7772456240","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T11:22:01Z","performed_via_github_app":null},{"id":7772456255,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPRkU_","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7772456255","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T11:22:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308613511","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1308613511","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1308613511,"node_id":"IC_kwDOAPaMMs5N_9uH","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T11:31:05Z","updated_at":"2022-11-09T11:31:05Z","body":"@ajcvickers while on the topic of logs, I noted that the following log message seems to have reversed property and class name in output string?\r\n\r\n```\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: Context 'ApplicationDbContext' started tracking 'DailyDigest' entity with key '{Id: -2147482447}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: 'ApplicationDbContext' generated temporary value '-2147482446' for the property 'Id.DailyDigest'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: 'ApplicationDbContext' generated value 'DailyDigest' for the property 'Kind.DailyDigest'.\r\n```\r\n\r\nShould be `DailyDigest.Id` not `Id.DailyDigest` right?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308613511/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7772526745,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPR1iZ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7772526745","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T11:31:05Z","performed_via_github_app":null},{"id":7772526763,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPR1ir","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7772526763","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T11:31:05Z","performed_via_github_app":null},{"actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T13:36:34Z","updated_at":"2022-11-09T13:36:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29517","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29517/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29517/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29517/events","html_url":"https://github.com/dotnet/efcore/issues/29517","id":1442119224,"node_id":"I_kwDOAPaMMs5V9P44","number":29517,"title":"ValueGenerated and ValueGeneratedSensitive have property/entity type swapped in message","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1382547263,"node_id":"MDU6TGFiZWwxMzgyNTQ3MjYz","url":"https://api.github.com/repos/dotnet/efcore/labels/good%20first%20issue","name":"good first issue","color":"fef2c0","default":true,"description":"This issue should be relatively straightforward to fix."},{"id":3998825824,"node_id":"LA_kwDOAPaMMs7uWT1g","url":"https://api.github.com/repos/dotnet/efcore/labels/area-logging","name":"area-logging","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/152","html_url":"https://github.com/dotnet/efcore/milestone/152","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/152/labels","id":8392036,"node_id":"MI_kwDOAPaMMs4AgA1k","number":152,"title":"8.0.0","description":"EF Core 8.0","creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":280,"state":"closed","created_at":"2022-09-07T19:55:36Z","updated_at":"2025-04-07T08:59:46Z","due_on":null,"closed_at":"2023-11-14T14:00:33Z"},"comments":1,"created_at":"2022-11-09T13:36:34Z","updated_at":"2025-06-15T18:55:08Z","closed_at":"2022-11-19T10:27:55Z","author_association":"CONTRIBUTOR","type":{"id":1092402,"node_id":"IT_kwDOAIt-yc4AEKsy","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-07-26T10:20:14Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"See https://github.com/dotnet/efcore/issues/29502#issuecomment-1308613511","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29517/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308781216","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1308781216","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1308781216,"node_id":"IC_kwDOAPaMMs5OAmqg","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T13:42:13Z","updated_at":"2022-11-09T13:42:13Z","body":"@roji Looks like this could be a batching issue related to #28654 and #29356.\r\n\r\n@joakimriedel Can you post the SQL generated for the SaveChanges that is being executed when the exception is thrown?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308781216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7773652633,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPWIaZ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7773652633","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T13:42:13Z","performed_via_github_app":null},{"id":7773652643,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPWIaj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7773652643","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T13:42:13Z","performed_via_github_app":null},{"id":7773652659,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPWIaz","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7773652659","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T13:42:13Z","performed_via_github_app":null},{"id":7773652677,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPWIbF","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7773652677","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T13:42:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308905120","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1308905120","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1308905120,"node_id":"IC_kwDOAPaMMs5OBE6g","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T15:08:10Z","updated_at":"2022-11-09T16:40:54Z","body":"@ajcvickers Sure, this is the full log produced when executing the SaveChangesAsync call.\r\n\r\nIt does indeed look related to batching. I save 50 items here, but somehow it was decided to split into 42 in one batch and 8 in second, and the error seems to occur with the id of the item on the boundary between the two batches.\r\n\r\n<details>\r\n<summary> Full log output </summary>\r\n\r\n```\r\nMicrosoft.EntityFrameworkCore.Update: Debug: SaveChanges starting for 'ApplicationDbContext'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Closing data reader to 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: DetectChanges starting for 'ApplicationDbContext'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: A data reader for 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' is being disposed after spending 3848ms reading results.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closing connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closed connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' (2ms).\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: DetectChanges completed for 'ApplicationDbContext'.\r\nMicrosoft.EntityFrameworkCore.Update: Debug: Executing 42 update commands as a batch.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Opening connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Opened connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Transaction: Debug: Beginning transaction with isolation level 'Unspecified'.\r\nMicrosoft.EntityFrameworkCore.Database.Transaction: Debug: Began transaction with isolation level 'ReadCommitted'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Creating DbCommand for 'ExecuteReader'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Created DbCommand for 'ExecuteReader' (2ms).\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Initialized DbCommand for 'ExecuteReader' (5ms).\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Executing DbCommand [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (DbType = Int32), @p2='0' (Nullable = true), @p3='5', @p4='0' (Nullable = true), @p5='0' (Nullable = true), @p6=NULL (DbType = Int32), @p7='2022-11-09T14:55:22.8900877', @p8=NULL (DbType = DateTime2), @p9='90b7bb91-9a24-42cd-8637-8839968a5f08' (Size = 450), @p10=NULL (DbType = Int32), @p11=NULL (DbType = Int32), @p12='0' (Nullable = true), @p13='5', @p14='0' (Nullable = true), @p15='0' (Nullable = true), @p16=NULL (DbType = Int32), @p17='2022-11-09T14:55:22.8900877', @p18=NULL (DbType = DateTime2), @p19='130e71fc-a1af-4ec4-889a-b9075e2c4451' (Size = 450), @p20=NULL (DbType = Int32), @p21=NULL (DbType = Int32), @p22='0' (Nullable = true), @p23='5', @p24='0' (Nullable = true), @p25='0' (Nullable = true), @p26=NULL (DbType = Int32), @p27='2022-11-09T14:55:22.8900877', @p28=NULL (DbType = DateTime2), @p29='57b7800e-f70c-456e-81c1-450a255f50b2' (Size = 450), @p30=NULL (DbType = Int32), @p31=NULL (DbType = Int32), @p32='0' (Nullable = true), @p33='5', @p34='0' (Nullable = true), @p35='0' (Nullable = true), @p36=NULL (DbType = Int32), @p37='2022-11-09T14:55:22.8900877', @p38=NULL (DbType = DateTime2), @p39='aeb1f07b-19b3-4d34-90e9-7822c7a3a0ca' (Size = 450), @p40=NULL (DbType = Int32), @p41=NULL (DbType = Int32), @p42='0' (Nullable = true), @p43='5', @p44='0' (Nullable = true), @p45='0' (Nullable = true), @p46=NULL (DbType = Int32), @p47='2022-11-09T14:55:22.8900877', @p48=NULL (DbType = DateTime2), @p49='89d138f2-da36-4ca7-9ccd-157a021193e0' (Size = 450), @p50=NULL (DbType = Int32), @p51=NULL (DbType = Int32), @p52='0' (Nullable = true), @p53='5', @p54='0' (Nullable = true), @p55='0' (Nullable = true), @p56=NULL (DbType = Int32), @p57='2022-11-09T14:55:22.8900877', @p58=NULL (DbType = DateTime2), @p59='b71d8e70-eb1c-4b77-866e-fd53b8d64d02' (Size = 450), @p60=NULL (DbType = Int32), @p61=NULL (DbType = Int32), @p62='0' (Nullable = true), @p63='5', @p64='0' (Nullable = true), @p65='0' (Nullable = true), @p66=NULL (DbType = Int32), @p67='2022-11-09T14:55:22.8900877', @p68=NULL (DbType = DateTime2), @p69='e892bd98-196e-430c-b805-d8cc2130e27b' (Size = 450), @p70=NULL (DbType = Int32), @p71=NULL (DbType = Int32), @p72='0' (Nullable = true), @p73='5', @p74='0' (Nullable = true), @p75='0' (Nullable = true), @p76=NULL (DbType = Int32), @p77='2022-11-09T14:55:22.8900877', @p78=NULL (DbType = DateTime2), @p79='ae6f55e7-db48-4c35-981a-8cbec93c9b78' (Size = 450), @p80=NULL (DbType = Int32), @p81=NULL (DbType = Int32), @p82='0' (Nullable = true), @p83='5', @p84='0' (Nullable = true), @p85='0' (Nullable = true), @p86=NULL (DbType = Int32), @p87='2022-11-09T14:55:22.8900877', @p88=NULL (DbType = DateTime2), @p89='cbb3a5d9-e9a9-450e-9026-aece053bee36' (Size = 450), @p90=NULL (DbType = Int32), @p91=NULL (DbType = Int32), @p92='0' (Nullable = true), @p93='5', @p94='0' (Nullable = true), @p95='0' (Nullable = true), @p96=NULL (DbType = Int32), @p97='2022-11-09T14:55:22.8900877', @p98=NULL (DbType = DateTime2), @p99='7a286685-3e64-485a-911c-90636e19fa85' (Size = 450), @p100=NULL (DbType = Int32), @p101=NULL (DbType = Int32), @p102='0' (Nullable = true), @p103='5', @p104='0' (Nullable = true), @p105='0' (Nullable = true), @p106=NULL (DbType = Int32), @p107='2022-11-09T14:55:22.8900877', @p108=NULL (DbType = DateTime2), @p109='3300efe5-139a-4164-94a7-72a432dada33' (Size = 450), @p110=NULL (DbType = Int32), @p111=NULL (DbType = Int32), @p112='0' (Nullable = true), @p113='5', @p114='0' (Nullable = true), @p115='0' (Nullable = true), @p116=NULL (DbType = Int32), @p117='2022-11-09T14:55:22.8900877', @p118=NULL (DbType = DateTime2), @p119='5f0b6cf8-0fe3-4236-af16-cdce6ba64228' (Size = 450), @p120=NULL (DbType = Int32), @p121=NULL (DbType = Int32), @p122='0' (Nullable = true), @p123='5', @p124='0' (Nullable = true), @p125='0' (Nullable = true), @p126=NULL (DbType = Int32), @p127='2022-11-09T14:55:22.8900877', @p128=NULL (DbType = DateTime2), @p129='8ff71738-4de1-442a-b6c3-c7d64a6792da' (Size = 450), @p130=NULL (DbType = Int32), @p131=NULL (DbType = Int32), @p132='0' (Nullable = true), @p133='5', @p134='0' (Nullable = true), @p135='0' (Nullable = true), @p136=NULL (DbType = Int32), @p137='2022-11-09T14:55:22.8900877', @p138=NULL (DbType = DateTime2), @p139='76b35648-2a76-42de-8aae-e780add568a0' (Size = 450), @p140=NULL (DbType = Int32), @p141=NULL (DbType = Int32), @p142='0' (Nullable = true), @p143='5', @p144='0' (Nullable = true), @p145='0' (Nullable = true), @p146=NULL (DbType = Int32), @p147='2022-11-09T14:55:22.8900877', @p148=NULL (DbType = DateTime2), @p149='8883df37-8c65-4a3f-b5f3-d488a2363ea4' (Size = 450), @p150=NULL (DbType = Int32), @p151=NULL (DbType = Int32), @p152='0' (Nullable = true), @p153='5', @p154='0' (Nullable = true), @p155='0' (Nullable = true), @p156=NULL (DbType = Int32), @p157='2022-11-09T14:55:22.8900877', @p158=NULL (DbType = DateTime2), @p159='315daed1-4855-4166-9ea3-5964907e8f16' (Size = 450), @p160=NULL (DbType = Int32), @p161=NULL (DbType = Int32), @p162='0' (Nullable = true), @p163='5', @p164='0' (Nullable = true), @p165='0' (Nullable = true), @p166=NULL (DbType = Int32), @p167='2022-11-09T14:55:22.8900877', @p168=NULL (DbType = DateTime2), @p169='00b18a32-b58e-417a-9cda-41f14c6a9a47' (Size = 450), @p170=NULL (DbType = Int32), @p171=NULL (DbType = Int32), @p172='0' (Nullable = true), @p173='5', @p174='0' (Nullable = true), @p175='0' (Nullable = true), @p176=NULL (DbType = Int32), @p177='2022-11-09T14:55:22.8900877', @p178=NULL (DbType = DateTime2), @p179='1057fe5d-5ed9-4e97-a6c3-a6ca73a32d7f' (Size = 450), @p180=NULL (DbType = Int32), @p181=NULL (DbType = Int32), @p182='0' (Nullable = true), @p183='5', @p184='0' (Nullable = true), @p185='0' (Nullable = true), @p186=NULL (DbType = Int32), @p187='2022-11-09T14:55:22.8900877', @p188=NULL (DbType = DateTime2), @p189='af71f453-c6b8-42f0-b0b4-6dce3b5847ec' (Size = 450), @p190=NULL (DbType = Int32), @p191=NULL (DbType = Int32), @p192='0' (Nullable = true), @p193='5', @p194='0' (Nullable = true), @p195='0' (Nullable = true), @p196=NULL (DbType = Int32), @p197='2022-11-09T14:55:22.8900877', @p198=NULL (DbType = DateTime2), @p199='1f72e993-2beb-4d8e-8386-f82b61c1a84e' (Size = 450), @p200=NULL (DbType = Int32), @p201=NULL (DbType = Int32), @p202='0' (Nullable = true), @p203='5', @p204='0' (Nullable = true), @p205='0' (Nullable = true), @p206=NULL (DbType = Int32), @p207='2022-11-09T14:55:22.8900877', @p208=NULL (DbType = DateTime2), @p209='9687efbc-2cb3-44d9-9819-720aac6361ef' (Size = 450), @p210=NULL (DbType = Int32), @p211=NULL (DbType = Int32), @p212='0' (Nullable = true), @p213='5', @p214='0' (Nullable = true), @p215='0' (Nullable = true), @p216=NULL (DbType = Int32), @p217='2022-11-09T14:55:22.8900877', @p218=NULL (DbType = DateTime2), @p219='6020039f-7349-405a-8968-add60fa8dd0f' (Size = 450), @p220=NULL (DbType = Int32), @p221=NULL (DbType = Int32), @p222='0' (Nullable = true), @p223='5', @p224='0' (Nullable = true), @p225='0' (Nullable = true), @p226=NULL (DbType = Int32), @p227='2022-11-09T14:55:22.8900877', @p228=NULL (DbType = DateTime2), @p229='57fbf1d3-b8d6-4ac2-b08f-876eac6a0dcb' (Size = 450), @p230=NULL (DbType = Int32), @p231=NULL (DbType = Int32), @p232='0' (Nullable = true), @p233='5', @p234='0' (Nullable = true), @p235='0' (Nullable = true), @p236=NULL (DbType = Int32), @p237='2022-11-09T14:55:22.8900877', @p238=NULL (DbType = DateTime2), @p239='f2bf55dc-4bba-437a-9dcd-f899a608e273' (Size = 450), @p240=NULL (DbType = Int32), @p241=NULL (DbType = Int32), @p242='0' (Nullable = true), @p243='5', @p244='0' (Nullable = true), @p245='0' (Nullable = true), @p246=NULL (DbType = Int32), @p247='2022-11-09T14:55:22.8900877', @p248=NULL (DbType = DateTime2), @p249='74570ede-c128-4a7d-ab93-287443480105' (Size = 450), @p250=NULL (DbType = Int32), @p251=NULL (DbType = Int32), @p252='0' (Nullable = true), @p253='5', @p254='0' (Nullable = true), @p255='0' (Nullable = true), @p256=NULL (DbType = Int32), @p257='2022-11-09T14:55:22.8900877', @p258=NULL (DbType = DateTime2), @p259='fc94704c-c3bb-43ad-aafc-560f4d0ee591' (Size = 450), @p260=NULL (DbType = Int32), @p261=NULL (DbType = Int32), @p262='0' (Nullable = true), @p263='5', @p264='0' (Nullable = true), @p265='0' (Nullable = true), @p266=NULL (DbType = Int32), @p267='2022-11-09T14:55:22.8900877', @p268=NULL (DbType = DateTime2), @p269='e81441c5-e084-41b9-8240-c666ca30b85f' (Size = 450), @p270=NULL (DbType = Int32), @p271=NULL (DbType = Int32), @p272='0' (Nullable = true), @p273='5', @p274='0' (Nullable = true), @p275='0' (Nullable = true), @p276=NULL (DbType = Int32), @p277='2022-11-09T14:55:22.8900877', @p278=NULL (DbType = DateTime2), @p279='969f492e-b8c4-4714-9f7c-f175cbd2b38a' (Size = 450), @p280=NULL (DbType = Int32), @p281=NULL (DbType = Int32), @p282='0' (Nullable = true), @p283='5', @p284='0' (Nullable = true), @p285='0' (Nullable = true), @p286=NULL (DbType = Int32), @p287='2022-11-09T14:55:22.8900877', @p288=NULL (DbType = DateTime2), @p289='f4ddf2da-ce69-418b-8e52-2c3a09191565' (Size = 450), @p290=NULL (DbType = Int32), @p291=NULL (DbType = Int32), @p292='0' (Nullable = true), @p293='5', @p294='0' (Nullable = true), @p295='0' (Nullable = true), @p296=NULL (DbType = Int32), @p297='2022-11-09T14:55:22.8900877', @p298=NULL (DbType = DateTime2), @p299='1bba624a-cc29-42ff-bcdc-9d2f1cb7cf07' (Size = 450), @p300=NULL (DbType = Int32), @p301=NULL (DbType = Int32), @p302='0' (Nullable = true), @p303='5', @p304='0' (Nullable = true), @p305='0' (Nullable = true), @p306=NULL (DbType = Int32), @p307='2022-11-09T14:55:22.8900877', @p308=NULL (DbType = DateTime2), @p309='8ebcaf53-f660-491a-ae3c-364c717f1359' (Size = 450), @p310=NULL (DbType = Int32), @p311=NULL (DbType = Int32), @p312='0' (Nullable = true), @p313='5', @p314='0' (Nullable = true), @p315='0' (Nullable = true), @p316=NULL (DbType = Int32), @p317='2022-11-09T14:55:22.8900877', @p318=NULL (DbType = DateTime2), @p319='e93cf5e7-a042-4ad6-a012-fb3dbb053f8e' (Size = 450), @p320=NULL (DbType = Int32), @p321=NULL (DbType = Int32), @p322='0' (Nullable = true), @p323='5', @p324='0' (Nullable = true), @p325='0' (Nullable = true), @p326=NULL (DbType = Int32), @p327='2022-11-09T14:55:22.8900877', @p328=NULL (DbType = DateTime2), @p329='0927304a-371e-4e6f-a963-04c1a0d165f5' (Size = 450), @p330=NULL (DbType = Int32), @p331=NULL (DbType = Int32), @p332='0' (Nullable = true), @p333='5', @p334='0' (Nullable = true), @p335='0' (Nullable = true), @p336=NULL (DbType = Int32), @p337='2022-11-09T14:55:22.8900877', @p338=NULL (DbType = DateTime2), @p339='da3a6162-359e-4b8e-91be-286293ebb2a0' (Size = 450), @p340=NULL (DbType = Int32), @p341=NULL (DbType = Int32), @p342='0' (Nullable = true), @p343='5', @p344='0' (Nullable = true), @p345='0' (Nullable = true), @p346=NULL (DbType = Int32), @p347='2022-11-09T14:55:22.8900877', @p348=NULL (DbType = DateTime2), @p349='628a5003-4e1f-4f45-8331-f0896432c83a' (Size = 450), @p350=NULL (DbType = Int32), @p351=NULL (DbType = Int32), @p352='0' (Nullable = true), @p353='5', @p354='0' (Nullable = true), @p355='0' (Nullable = true), @p356=NULL (DbType = Int32), @p357='2022-11-09T14:55:22.8900877', @p358=NULL (DbType = DateTime2), @p359='2d427c56-0d2d-44c8-a1e9-eeced1a4a757' (Size = 450), @p360=NULL (DbType = Int32), @p361=NULL (DbType = Int32), @p362='0' (Nullable = true), @p363='5', @p364='0' (Nullable = true), @p365='0' (Nullable = true), @p366=NULL (DbType = Int32), @p367='2022-11-09T14:55:22.8900877', @p368=NULL (DbType = DateTime2), @p369='c7a14338-42b4-4b1d-ab2a-b95562ac65a8' (Size = 450), @p370=NULL (DbType = Int32), @p371=NULL (DbType = Int32), @p372='0' (Nullable = true), @p373='5', @p374='0' (Nullable = true), @p375='0' (Nullable = true), @p376=NULL (DbType = Int32), @p377='2022-11-09T14:55:22.8900877', @p378=NULL (DbType = DateTime2), @p379='fef8e766-b586-4a1b-99e5-e33ef58284a5' (Size = 450), @p380=NULL (DbType = Int32), @p381=NULL (DbType = Int32), @p382='0' (Nullable = true), @p383='5', @p384='0' (Nullable = true), @p385='0' (Nullable = true), @p386=NULL (DbType = Int32), @p387='2022-11-09T14:55:22.8900877', @p388=NULL (DbType = DateTime2), @p389='da8d5041-81cb-49da-a208-749ef92434c5' (Size = 450), @p390=NULL (DbType = Int32), @p391=NULL (DbType = Int32), @p392='0' (Nullable = true), @p393='5', @p394='0' (Nullable = true), @p395='0' (Nullable = true), @p396=NULL (DbType = Int32), @p397='2022-11-09T14:55:22.8900877', @p398=NULL (DbType = DateTime2), @p399='2b6e0e3a-cb46-4d36-bd87-b283d710805c' (Size = 450), @p400=NULL (DbType = Int32), @p401=NULL (DbType = Int32), @p402='0' (Nullable = true), @p403='5', @p404='0' (Nullable = true), @p405='0' (Nullable = true), @p406=NULL (DbType = Int32), @p407='2022-11-09T14:55:22.8900877', @p408=NULL (DbType = DateTime2), @p409='7fbd5874-7132-44bc-9b5f-830971bc415f' (Size = 450), @p410=NULL (DbType = Int32), @p411=NULL (DbType = Int32), @p412='0' (Nullable = true), @p413='5', @p414='0' (Nullable = true), @p415='0' (Nullable = true), @p416=NULL (DbType = Int32), @p417='2022-11-09T14:55:22.8900877', @p418=NULL (DbType = DateTime2), @p419='dded04ee-7db6-4031-b7ae-cb7632863040' (Size = 450)], CommandType='Text', CommandTimeout='30']\r\nSET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nMERGE [Notifications] USING (\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),\r\n(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),\r\n(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),\r\n(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),\r\n(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),\r\n(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),\r\n(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),\r\n(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7),\r\n(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 8),\r\n(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 9),\r\n(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, 10),\r\n(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 11),\r\n(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 12),\r\n(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 13),\r\n(@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, 14),\r\n(@p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, 15),\r\n(@p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, 16),\r\n(@p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 17),\r\n(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, 18),\r\n(@p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, 19),\r\n(@p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 20),\r\n(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, 21),\r\n(@p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, 22),\r\n(@p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 23),\r\n(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, 24),\r\n(@p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, 25),\r\n(@p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 26),\r\n(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, 27),\r\n(@p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, 28),\r\n(@p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 29),\r\n(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, 30),\r\n(@p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, 31),\r\n(@p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 32),\r\n(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, 33),\r\n(@p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 34),\r\n(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 35),\r\n(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, 36),\r\n(@p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, 37),\r\n(@p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 38),\r\n(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, 39),\r\n(@p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, 40),\r\n(@p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 41)) AS i ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId])\r\nVALUES (i.[ContactId], i.[EmailMessageId], i.[InvestorsUnanswered], i.[Kind], i.[MessagesUnread], i.[OffersUnanswered], i.[SmsMessageId], i.[TimeCreatedUtc], i.[TimeDismissedUtc], i.[UserId])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nMicrosoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (63ms) [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (DbType = Int32), @p2='0' (Nullable = true), @p3='5', @p4='0' (Nullable = true), @p5='0' (Nullable = true), @p6=NULL (DbType = Int32), @p7='2022-11-09T14:55:22.8900877', @p8=NULL (DbType = DateTime2), @p9='90b7bb91-9a24-42cd-8637-8839968a5f08' (Size = 450), @p10=NULL (DbType = Int32), @p11=NULL (DbType = Int32), @p12='0' (Nullable = true), @p13='5', @p14='0' (Nullable = true), @p15='0' (Nullable = true), @p16=NULL (DbType = Int32), @p17='2022-11-09T14:55:22.8900877', @p18=NULL (DbType = DateTime2), @p19='130e71fc-a1af-4ec4-889a-b9075e2c4451' (Size = 450), @p20=NULL (DbType = Int32), @p21=NULL (DbType = Int32), @p22='0' (Nullable = true), @p23='5', @p24='0' (Nullable = true), @p25='0' (Nullable = true), @p26=NULL (DbType = Int32), @p27='2022-11-09T14:55:22.8900877', @p28=NULL (DbType = DateTime2), @p29='57b7800e-f70c-456e-81c1-450a255f50b2' (Size = 450), @p30=NULL (DbType = Int32), @p31=NULL (DbType = Int32), @p32='0' (Nullable = true), @p33='5', @p34='0' (Nullable = true), @p35='0' (Nullable = true), @p36=NULL (DbType = Int32), @p37='2022-11-09T14:55:22.8900877', @p38=NULL (DbType = DateTime2), @p39='aeb1f07b-19b3-4d34-90e9-7822c7a3a0ca' (Size = 450), @p40=NULL (DbType = Int32), @p41=NULL (DbType = Int32), @p42='0' (Nullable = true), @p43='5', @p44='0' (Nullable = true), @p45='0' (Nullable = true), @p46=NULL (DbType = Int32), @p47='2022-11-09T14:55:22.8900877', @p48=NULL (DbType = DateTime2), @p49='89d138f2-da36-4ca7-9ccd-157a021193e0' (Size = 450), @p50=NULL (DbType = Int32), @p51=NULL (DbType = Int32), @p52='0' (Nullable = true), @p53='5', @p54='0' (Nullable = true), @p55='0' (Nullable = true), @p56=NULL (DbType = Int32), @p57='2022-11-09T14:55:22.8900877', @p58=NULL (DbType = DateTime2), @p59='b71d8e70-eb1c-4b77-866e-fd53b8d64d02' (Size = 450), @p60=NULL (DbType = Int32), @p61=NULL (DbType = Int32), @p62='0' (Nullable = true), @p63='5', @p64='0' (Nullable = true), @p65='0' (Nullable = true), @p66=NULL (DbType = Int32), @p67='2022-11-09T14:55:22.8900877', @p68=NULL (DbType = DateTime2), @p69='e892bd98-196e-430c-b805-d8cc2130e27b' (Size = 450), @p70=NULL (DbType = Int32), @p71=NULL (DbType = Int32), @p72='0' (Nullable = true), @p73='5', @p74='0' (Nullable = true), @p75='0' (Nullable = true), @p76=NULL (DbType = Int32), @p77='2022-11-09T14:55:22.8900877', @p78=NULL (DbType = DateTime2), @p79='ae6f55e7-db48-4c35-981a-8cbec93c9b78' (Size = 450), @p80=NULL (DbType = Int32), @p81=NULL (DbType = Int32), @p82='0' (Nullable = true), @p83='5', @p84='0' (Nullable = true), @p85='0' (Nullable = true), @p86=NULL (DbType = Int32), @p87='2022-11-09T14:55:22.8900877', @p88=NULL (DbType = DateTime2), @p89='cbb3a5d9-e9a9-450e-9026-aece053bee36' (Size = 450), @p90=NULL (DbType = Int32), @p91=NULL (DbType = Int32), @p92='0' (Nullable = true), @p93='5', @p94='0' (Nullable = true), @p95='0' (Nullable = true), @p96=NULL (DbType = Int32), @p97='2022-11-09T14:55:22.8900877', @p98=NULL (DbType = DateTime2), @p99='7a286685-3e64-485a-911c-90636e19fa85' (Size = 450), @p100=NULL (DbType = Int32), @p101=NULL (DbType = Int32), @p102='0' (Nullable = true), @p103='5', @p104='0' (Nullable = true), @p105='0' (Nullable = true), @p106=NULL (DbType = Int32), @p107='2022-11-09T14:55:22.8900877', @p108=NULL (DbType = DateTime2), @p109='3300efe5-139a-4164-94a7-72a432dada33' (Size = 450), @p110=NULL (DbType = Int32), @p111=NULL (DbType = Int32), @p112='0' (Nullable = true), @p113='5', @p114='0' (Nullable = true), @p115='0' (Nullable = true), @p116=NULL (DbType = Int32), @p117='2022-11-09T14:55:22.8900877', @p118=NULL (DbType = DateTime2), @p119='5f0b6cf8-0fe3-4236-af16-cdce6ba64228' (Size = 450), @p120=NULL (DbType = Int32), @p121=NULL (DbType = Int32), @p122='0' (Nullable = true), @p123='5', @p124='0' (Nullable = true), @p125='0' (Nullable = true), @p126=NULL (DbType = Int32), @p127='2022-11-09T14:55:22.8900877', @p128=NULL (DbType = DateTime2), @p129='8ff71738-4de1-442a-b6c3-c7d64a6792da' (Size = 450), @p130=NULL (DbType = Int32), @p131=NULL (DbType = Int32), @p132='0' (Nullable = true), @p133='5', @p134='0' (Nullable = true), @p135='0' (Nullable = true), @p136=NULL (DbType = Int32), @p137='2022-11-09T14:55:22.8900877', @p138=NULL (DbType = DateTime2), @p139='76b35648-2a76-42de-8aae-e780add568a0' (Size = 450), @p140=NULL (DbType = Int32), @p141=NULL (DbType = Int32), @p142='0' (Nullable = true), @p143='5', @p144='0' (Nullable = true), @p145='0' (Nullable = true), @p146=NULL (DbType = Int32), @p147='2022-11-09T14:55:22.8900877', @p148=NULL (DbType = DateTime2), @p149='8883df37-8c65-4a3f-b5f3-d488a2363ea4' (Size = 450), @p150=NULL (DbType = Int32), @p151=NULL (DbType = Int32), @p152='0' (Nullable = true), @p153='5', @p154='0' (Nullable = true), @p155='0' (Nullable = true), @p156=NULL (DbType = Int32), @p157='2022-11-09T14:55:22.8900877', @p158=NULL (DbType = DateTime2), @p159='315daed1-4855-4166-9ea3-5964907e8f16' (Size = 450), @p160=NULL (DbType = Int32), @p161=NULL (DbType = Int32), @p162='0' (Nullable = true), @p163='5', @p164='0' (Nullable = true), @p165='0' (Nullable = true), @p166=NULL (DbType = Int32), @p167='2022-11-09T14:55:22.8900877', @p168=NULL (DbType = DateTime2), @p169='00b18a32-b58e-417a-9cda-41f14c6a9a47' (Size = 450), @p170=NULL (DbType = Int32), @p171=NULL (DbType = Int32), @p172='0' (Nullable = true), @p173='5', @p174='0' (Nullable = true), @p175='0' (Nullable = true), @p176=NULL (DbType = Int32), @p177='2022-11-09T14:55:22.8900877', @p178=NULL (DbType = DateTime2), @p179='1057fe5d-5ed9-4e97-a6c3-a6ca73a32d7f' (Size = 450), @p180=NULL (DbType = Int32), @p181=NULL (DbType = Int32), @p182='0' (Nullable = true), @p183='5', @p184='0' (Nullable = true), @p185='0' (Nullable = true), @p186=NULL (DbType = Int32), @p187='2022-11-09T14:55:22.8900877', @p188=NULL (DbType = DateTime2), @p189='af71f453-c6b8-42f0-b0b4-6dce3b5847ec' (Size = 450), @p190=NULL (DbType = Int32), @p191=NULL (DbType = Int32), @p192='0' (Nullable = true), @p193='5', @p194='0' (Nullable = true), @p195='0' (Nullable = true), @p196=NULL (DbType = Int32), @p197='2022-11-09T14:55:22.8900877', @p198=NULL (DbType = DateTime2), @p199='1f72e993-2beb-4d8e-8386-f82b61c1a84e' (Size = 450), @p200=NULL (DbType = Int32), @p201=NULL (DbType = Int32), @p202='0' (Nullable = true), @p203='5', @p204='0' (Nullable = true), @p205='0' (Nullable = true), @p206=NULL (DbType = Int32), @p207='2022-11-09T14:55:22.8900877', @p208=NULL (DbType = DateTime2), @p209='9687efbc-2cb3-44d9-9819-720aac6361ef' (Size = 450), @p210=NULL (DbType = Int32), @p211=NULL (DbType = Int32), @p212='0' (Nullable = true), @p213='5', @p214='0' (Nullable = true), @p215='0' (Nullable = true), @p216=NULL (DbType = Int32), @p217='2022-11-09T14:55:22.8900877', @p218=NULL (DbType = DateTime2), @p219='6020039f-7349-405a-8968-add60fa8dd0f' (Size = 450), @p220=NULL (DbType = Int32), @p221=NULL (DbType = Int32), @p222='0' (Nullable = true), @p223='5', @p224='0' (Nullable = true), @p225='0' (Nullable = true), @p226=NULL (DbType = Int32), @p227='2022-11-09T14:55:22.8900877', @p228=NULL (DbType = DateTime2), @p229='57fbf1d3-b8d6-4ac2-b08f-876eac6a0dcb' (Size = 450), @p230=NULL (DbType = Int32), @p231=NULL (DbType = Int32), @p232='0' (Nullable = true), @p233='5', @p234='0' (Nullable = true), @p235='0' (Nullable = true), @p236=NULL (DbType = Int32), @p237='2022-11-09T14:55:22.8900877', @p238=NULL (DbType = DateTime2), @p239='f2bf55dc-4bba-437a-9dcd-f899a608e273' (Size = 450), @p240=NULL (DbType = Int32), @p241=NULL (DbType = Int32), @p242='0' (Nullable = true), @p243='5', @p244='0' (Nullable = true), @p245='0' (Nullable = true), @p246=NULL (DbType = Int32), @p247='2022-11-09T14:55:22.8900877', @p248=NULL (DbType = DateTime2), @p249='74570ede-c128-4a7d-ab93-287443480105' (Size = 450), @p250=NULL (DbType = Int32), @p251=NULL (DbType = Int32), @p252='0' (Nullable = true), @p253='5', @p254='0' (Nullable = true), @p255='0' (Nullable = true), @p256=NULL (DbType = Int32), @p257='2022-11-09T14:55:22.8900877', @p258=NULL (DbType = DateTime2), @p259='fc94704c-c3bb-43ad-aafc-560f4d0ee591' (Size = 450), @p260=NULL (DbType = Int32), @p261=NULL (DbType = Int32), @p262='0' (Nullable = true), @p263='5', @p264='0' (Nullable = true), @p265='0' (Nullable = true), @p266=NULL (DbType = Int32), @p267='2022-11-09T14:55:22.8900877', @p268=NULL (DbType = DateTime2), @p269='e81441c5-e084-41b9-8240-c666ca30b85f' (Size = 450), @p270=NULL (DbType = Int32), @p271=NULL (DbType = Int32), @p272='0' (Nullable = true), @p273='5', @p274='0' (Nullable = true), @p275='0' (Nullable = true), @p276=NULL (DbType = Int32), @p277='2022-11-09T14:55:22.8900877', @p278=NULL (DbType = DateTime2), @p279='969f492e-b8c4-4714-9f7c-f175cbd2b38a' (Size = 450), @p280=NULL (DbType = Int32), @p281=NULL (DbType = Int32), @p282='0' (Nullable = true), @p283='5', @p284='0' (Nullable = true), @p285='0' (Nullable = true), @p286=NULL (DbType = Int32), @p287='2022-11-09T14:55:22.8900877', @p288=NULL (DbType = DateTime2), @p289='f4ddf2da-ce69-418b-8e52-2c3a09191565' (Size = 450), @p290=NULL (DbType = Int32), @p291=NULL (DbType = Int32), @p292='0' (Nullable = true), @p293='5', @p294='0' (Nullable = true), @p295='0' (Nullable = true), @p296=NULL (DbType = Int32), @p297='2022-11-09T14:55:22.8900877', @p298=NULL (DbType = DateTime2), @p299='1bba624a-cc29-42ff-bcdc-9d2f1cb7cf07' (Size = 450), @p300=NULL (DbType = Int32), @p301=NULL (DbType = Int32), @p302='0' (Nullable = true), @p303='5', @p304='0' (Nullable = true), @p305='0' (Nullable = true), @p306=NULL (DbType = Int32), @p307='2022-11-09T14:55:22.8900877', @p308=NULL (DbType = DateTime2), @p309='8ebcaf53-f660-491a-ae3c-364c717f1359' (Size = 450), @p310=NULL (DbType = Int32), @p311=NULL (DbType = Int32), @p312='0' (Nullable = true), @p313='5', @p314='0' (Nullable = true), @p315='0' (Nullable = true), @p316=NULL (DbType = Int32), @p317='2022-11-09T14:55:22.8900877', @p318=NULL (DbType = DateTime2), @p319='e93cf5e7-a042-4ad6-a012-fb3dbb053f8e' (Size = 450), @p320=NULL (DbType = Int32), @p321=NULL (DbType = Int32), @p322='0' (Nullable = true), @p323='5', @p324='0' (Nullable = true), @p325='0' (Nullable = true), @p326=NULL (DbType = Int32), @p327='2022-11-09T14:55:22.8900877', @p328=NULL (DbType = DateTime2), @p329='0927304a-371e-4e6f-a963-04c1a0d165f5' (Size = 450), @p330=NULL (DbType = Int32), @p331=NULL (DbType = Int32), @p332='0' (Nullable = true), @p333='5', @p334='0' (Nullable = true), @p335='0' (Nullable = true), @p336=NULL (DbType = Int32), @p337='2022-11-09T14:55:22.8900877', @p338=NULL (DbType = DateTime2), @p339='da3a6162-359e-4b8e-91be-286293ebb2a0' (Size = 450), @p340=NULL (DbType = Int32), @p341=NULL (DbType = Int32), @p342='0' (Nullable = true), @p343='5', @p344='0' (Nullable = true), @p345='0' (Nullable = true), @p346=NULL (DbType = Int32), @p347='2022-11-09T14:55:22.8900877', @p348=NULL (DbType = DateTime2), @p349='628a5003-4e1f-4f45-8331-f0896432c83a' (Size = 450), @p350=NULL (DbType = Int32), @p351=NULL (DbType = Int32), @p352='0' (Nullable = true), @p353='5', @p354='0' (Nullable = true), @p355='0' (Nullable = true), @p356=NULL (DbType = Int32), @p357='2022-11-09T14:55:22.8900877', @p358=NULL (DbType = DateTime2), @p359='2d427c56-0d2d-44c8-a1e9-eeced1a4a757' (Size = 450), @p360=NULL (DbType = Int32), @p361=NULL (DbType = Int32), @p362='0' (Nullable = true), @p363='5', @p364='0' (Nullable = true), @p365='0' (Nullable = true), @p366=NULL (DbType = Int32), @p367='2022-11-09T14:55:22.8900877', @p368=NULL (DbType = DateTime2), @p369='c7a14338-42b4-4b1d-ab2a-b95562ac65a8' (Size = 450), @p370=NULL (DbType = Int32), @p371=NULL (DbType = Int32), @p372='0' (Nullable = true), @p373='5', @p374='0' (Nullable = true), @p375='0' (Nullable = true), @p376=NULL (DbType = Int32), @p377='2022-11-09T14:55:22.8900877', @p378=NULL (DbType = DateTime2), @p379='fef8e766-b586-4a1b-99e5-e33ef58284a5' (Size = 450), @p380=NULL (DbType = Int32), @p381=NULL (DbType = Int32), @p382='0' (Nullable = true), @p383='5', @p384='0' (Nullable = true), @p385='0' (Nullable = true), @p386=NULL (DbType = Int32), @p387='2022-11-09T14:55:22.8900877', @p388=NULL (DbType = DateTime2), @p389='da8d5041-81cb-49da-a208-749ef92434c5' (Size = 450), @p390=NULL (DbType = Int32), @p391=NULL (DbType = Int32), @p392='0' (Nullable = true), @p393='5', @p394='0' (Nullable = true), @p395='0' (Nullable = true), @p396=NULL (DbType = Int32), @p397='2022-11-09T14:55:22.8900877', @p398=NULL (DbType = DateTime2), @p399='2b6e0e3a-cb46-4d36-bd87-b283d710805c' (Size = 450), @p400=NULL (DbType = Int32), @p401=NULL (DbType = Int32), @p402='0' (Nullable = true), @p403='5', @p404='0' (Nullable = true), @p405='0' (Nullable = true), @p406=NULL (DbType = Int32), @p407='2022-11-09T14:55:22.8900877', @p408=NULL (DbType = DateTime2), @p409='7fbd5874-7132-44bc-9b5f-830971bc415f' (Size = 450), @p410=NULL (DbType = Int32), @p411=NULL (DbType = Int32), @p412='0' (Nullable = true), @p413='5', @p414='0' (Nullable = true), @p415='0' (Nullable = true), @p416=NULL (DbType = Int32), @p417='2022-11-09T14:55:22.8900877', @p418=NULL (DbType = DateTime2), @p419='dded04ee-7db6-4031-b7ae-cb7632863040' (Size = 450)], CommandType='Text', CommandTimeout='30']\r\nSET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nMERGE [Notifications] USING (\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),\r\n(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),\r\n(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),\r\n(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),\r\n(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),\r\n(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),\r\n(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),\r\n(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7),\r\n(@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 8),\r\n(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 9),\r\n(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, 10),\r\n(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 11),\r\n(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 12),\r\n(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 13),\r\n(@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, 14),\r\n(@p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, 15),\r\n(@p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, 16),\r\n(@p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 17),\r\n(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, 18),\r\n(@p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, 19),\r\n(@p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, 20),\r\n(@p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, 21),\r\n(@p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, 22),\r\n(@p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 23),\r\n(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, 24),\r\n(@p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, 25),\r\n(@p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, 26),\r\n(@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, 27),\r\n(@p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, 28),\r\n(@p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 29),\r\n(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, 30),\r\n(@p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, 31),\r\n(@p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, 32),\r\n(@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, 33),\r\n(@p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 34),\r\n(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 35),\r\n(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, 36),\r\n(@p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, 37),\r\n(@p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, 38),\r\n(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, 39),\r\n(@p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, 40),\r\n(@p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 41)) AS i ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId])\r\nVALUES (i.[ContactId], i.[EmailMessageId], i.[InvestorsUnanswered], i.[Kind], i.[MessagesUnread], i.[OffersUnanswered], i.[SmsMessageId], i.[TimeCreatedUtc], i.[TimeDismissedUtc], i.[UserId])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482531' to '82652' for entity with key '{Id: 82652}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482515' to '82668' for entity with key '{Id: 82668}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482530' to '82653' for entity with key '{Id: 82653}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482546' to '82637' for entity with key '{Id: 82637}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482518' to '82665' for entity with key '{Id: 82665}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482528' to '82655' for entity with key '{Id: 82655}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482508' to '82675' for entity with key '{Id: 82675}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482512' to '82671' for entity with key '{Id: 82671}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482532' to '82651' for entity with key '{Id: 82651}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482537' to '82646' for entity with key '{Id: 82646}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482545' to '82638' for entity with key '{Id: 82638}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482525' to '82658' for entity with key '{Id: 82658}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482536' to '82647' for entity with key '{Id: 82647}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482526' to '82657' for entity with key '{Id: 82657}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482513' to '82670' for entity with key '{Id: 82670}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482523' to '82660' for entity with key '{Id: 82660}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482534' to '82649' for entity with key '{Id: 82649}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482538' to '82645' for entity with key '{Id: 82645}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482507' to '82676' for entity with key '{Id: 82676}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482533' to '82650' for entity with key '{Id: 82650}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482543' to '82640' for entity with key '{Id: 82640}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482517' to '82666' for entity with key '{Id: 82666}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482535' to '82648' for entity with key '{Id: 82648}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482547' to '82636' for entity with key '{Id: 82636}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482527' to '82656' for entity with key '{Id: 82656}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482520' to '82663' for entity with key '{Id: 82663}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482540' to '82643' for entity with key '{Id: 82643}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482544' to '82639' for entity with key '{Id: 82639}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482529' to '82654' for entity with key '{Id: 82654}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482542' to '82641' for entity with key '{Id: 82641}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482511' to '82672' for entity with key '{Id: 82672}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482539' to '82644' for entity with key '{Id: 82644}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482514' to '82669' for entity with key '{Id: 82669}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482509' to '82674' for entity with key '{Id: 82674}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482506' to '82677' for entity with key '{Id: 82677}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482521' to '82662' for entity with key '{Id: 82662}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482541' to '82642' for entity with key '{Id: 82642}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482516' to '82667' for entity with key '{Id: 82667}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482524' to '82659' for entity with key '{Id: 82659}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482519' to '82664' for entity with key '{Id: 82664}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482522' to '82661' for entity with key '{Id: 82661}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '82677' to '82673' for entity with key '{Id: 82673}'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Closing data reader to 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: A data reader for 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' is being disposed after spending 144ms reading results.\r\nMicrosoft.EntityFrameworkCore.Update: Debug: Executing 8 update commands as a batch.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Creating DbCommand for 'ExecuteReader'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Created DbCommand for 'ExecuteReader' (2ms).\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Initialized DbCommand for 'ExecuteReader' (5ms).\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Executing DbCommand [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (DbType = Int32), @p2='0' (Nullable = true), @p3='5', @p4='0' (Nullable = true), @p5='0' (Nullable = true), @p6=NULL (DbType = Int32), @p7='2022-11-09T14:55:22.8900877', @p8=NULL (DbType = DateTime2), @p9='7c924b6c-651e-4531-8843-6dcbf6ae7875' (Size = 450), @p10=NULL (DbType = Int32), @p11=NULL (DbType = Int32), @p12='0' (Nullable = true), @p13='5', @p14='0' (Nullable = true), @p15='0' (Nullable = true), @p16=NULL (DbType = Int32), @p17='2022-11-09T14:55:22.8900877', @p18=NULL (DbType = DateTime2), @p19='de602419-829f-41dc-81b5-2b56ab05ae84' (Size = 450), @p20=NULL (DbType = Int32), @p21=NULL (DbType = Int32), @p22='0' (Nullable = true), @p23='5', @p24='0' (Nullable = true), @p25='0' (Nullable = true), @p26=NULL (DbType = Int32), @p27='2022-11-09T14:55:22.8900877', @p28=NULL (DbType = DateTime2), @p29='ada8d2a8-3d30-4332-9c6f-2efdf38adc37' (Size = 450), @p30=NULL (DbType = Int32), @p31=NULL (DbType = Int32), @p32='0' (Nullable = true), @p33='5', @p34='0' (Nullable = true), @p35='0' (Nullable = true), @p36=NULL (DbType = Int32), @p37='2022-11-09T14:55:22.8900877', @p38=NULL (DbType = DateTime2), @p39='a1e4ff1a-4649-4197-adcb-c4d694b955d8' (Size = 450), @p40=NULL (DbType = Int32), @p41=NULL (DbType = Int32), @p42='0' (Nullable = true), @p43='5', @p44='0' (Nullable = true), @p45='0' (Nullable = true), @p46=NULL (DbType = Int32), @p47='2022-11-09T14:55:22.8900877', @p48=NULL (DbType = DateTime2), @p49='bbeec8da-da0e-43bc-a724-ec023a27cbd5' (Size = 450), @p50=NULL (DbType = Int32), @p51=NULL (DbType = Int32), @p52='0' (Nullable = true), @p53='5', @p54='0' (Nullable = true), @p55='0' (Nullable = true), @p56=NULL (DbType = Int32), @p57='2022-11-09T14:55:22.8900877', @p58=NULL (DbType = DateTime2), @p59='50180c3f-b29a-4b2e-ae8e-a4ffe5498462' (Size = 450), @p60=NULL (DbType = Int32), @p61=NULL (DbType = Int32), @p62='0' (Nullable = true), @p63='5', @p64='0' (Nullable = true), @p65='0' (Nullable = true), @p66=NULL (DbType = Int32), @p67='2022-11-09T14:55:22.8900877', @p68=NULL (DbType = DateTime2), @p69='fc40707f-3680-41eb-86ca-0789f39ad73c' (Size = 450), @p70=NULL (DbType = Int32), @p71=NULL (DbType = Int32), @p72='0' (Nullable = true), @p73='5', @p74='0' (Nullable = true), @p75='0' (Nullable = true), @p76=NULL (DbType = Int32), @p77='2022-11-09T14:55:22.8900877', @p78=NULL (DbType = DateTime2), @p79='13e21b0c-83c4-4867-b311-192a7ac1f436' (Size = 450)], CommandType='Text', CommandTimeout='30']\r\nSET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nMERGE [Notifications] USING (\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),\r\n(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),\r\n(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),\r\n(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),\r\n(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),\r\n(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),\r\n(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),\r\n(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7)) AS i ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId])\r\nVALUES (i.[ContactId], i.[EmailMessageId], i.[InvestorsUnanswered], i.[Kind], i.[MessagesUnread], i.[OffersUnanswered], i.[SmsMessageId], i.[TimeCreatedUtc], i.[TimeDismissedUtc], i.[UserId])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nMicrosoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (6ms) [Parameters=[@p0=NULL (DbType = Int32), @p1=NULL (DbType = Int32), @p2='0' (Nullable = true), @p3='5', @p4='0' (Nullable = true), @p5='0' (Nullable = true), @p6=NULL (DbType = Int32), @p7='2022-11-09T14:55:22.8900877', @p8=NULL (DbType = DateTime2), @p9='7c924b6c-651e-4531-8843-6dcbf6ae7875' (Size = 450), @p10=NULL (DbType = Int32), @p11=NULL (DbType = Int32), @p12='0' (Nullable = true), @p13='5', @p14='0' (Nullable = true), @p15='0' (Nullable = true), @p16=NULL (DbType = Int32), @p17='2022-11-09T14:55:22.8900877', @p18=NULL (DbType = DateTime2), @p19='de602419-829f-41dc-81b5-2b56ab05ae84' (Size = 450), @p20=NULL (DbType = Int32), @p21=NULL (DbType = Int32), @p22='0' (Nullable = true), @p23='5', @p24='0' (Nullable = true), @p25='0' (Nullable = true), @p26=NULL (DbType = Int32), @p27='2022-11-09T14:55:22.8900877', @p28=NULL (DbType = DateTime2), @p29='ada8d2a8-3d30-4332-9c6f-2efdf38adc37' (Size = 450), @p30=NULL (DbType = Int32), @p31=NULL (DbType = Int32), @p32='0' (Nullable = true), @p33='5', @p34='0' (Nullable = true), @p35='0' (Nullable = true), @p36=NULL (DbType = Int32), @p37='2022-11-09T14:55:22.8900877', @p38=NULL (DbType = DateTime2), @p39='a1e4ff1a-4649-4197-adcb-c4d694b955d8' (Size = 450), @p40=NULL (DbType = Int32), @p41=NULL (DbType = Int32), @p42='0' (Nullable = true), @p43='5', @p44='0' (Nullable = true), @p45='0' (Nullable = true), @p46=NULL (DbType = Int32), @p47='2022-11-09T14:55:22.8900877', @p48=NULL (DbType = DateTime2), @p49='bbeec8da-da0e-43bc-a724-ec023a27cbd5' (Size = 450), @p50=NULL (DbType = Int32), @p51=NULL (DbType = Int32), @p52='0' (Nullable = true), @p53='5', @p54='0' (Nullable = true), @p55='0' (Nullable = true), @p56=NULL (DbType = Int32), @p57='2022-11-09T14:55:22.8900877', @p58=NULL (DbType = DateTime2), @p59='50180c3f-b29a-4b2e-ae8e-a4ffe5498462' (Size = 450), @p60=NULL (DbType = Int32), @p61=NULL (DbType = Int32), @p62='0' (Nullable = true), @p63='5', @p64='0' (Nullable = true), @p65='0' (Nullable = true), @p66=NULL (DbType = Int32), @p67='2022-11-09T14:55:22.8900877', @p68=NULL (DbType = DateTime2), @p69='fc40707f-3680-41eb-86ca-0789f39ad73c' (Size = 450), @p70=NULL (DbType = Int32), @p71=NULL (DbType = Int32), @p72='0' (Nullable = true), @p73='5', @p74='0' (Nullable = true), @p75='0' (Nullable = true), @p76=NULL (DbType = Int32), @p77='2022-11-09T14:55:22.8900877', @p78=NULL (DbType = DateTime2), @p79='13e21b0c-83c4-4867-b311-192a7ac1f436' (Size = 450)], CommandType='Text', CommandTimeout='30']\r\nSET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nMERGE [Notifications] USING (\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, 0),\r\n(@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, 1),\r\n(@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 2),\r\n(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 3),\r\n(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, 4),\r\n(@p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 5),\r\n(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, 6),\r\n(@p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 7)) AS i ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([ContactId], [EmailMessageId], [InvestorsUnanswered], [Kind], [MessagesUnread], [OffersUnanswered], [SmsMessageId], [TimeCreatedUtc], [TimeDismissedUtc], [UserId])\r\nVALUES (i.[ContactId], i.[EmailMessageId], i.[InvestorsUnanswered], i.[Kind], i.[MessagesUnread], i.[OffersUnanswered], i.[SmsMessageId], i.[TimeCreatedUtc], i.[TimeDismissedUtc], i.[UserId])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482505' to '82678' for entity with key '{Id: 82678}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482504' to '82679' for entity with key '{Id: 82679}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482503' to '82680' for entity with key '{Id: 82680}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482502' to '82681' for entity with key '{Id: 82681}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482501' to '82682' for entity with key '{Id: 82682}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482500' to '82683' for entity with key '{Id: 82683}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482499' to '82684' for entity with key '{Id: 82684}'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The foreign key property 'Notification.Id' was detected as changed from '-2147482498' to '82685' for entity with key '{Id: 82685}'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: Closing data reader to 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Command: Debug: A data reader for 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' is being disposed after spending 23ms reading results.\r\nMicrosoft.EntityFrameworkCore.Database.Transaction: Debug: Committing transaction.\r\nMicrosoft.EntityFrameworkCore.Database.Transaction: Debug: Committed transaction.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closing connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb'.\r\nMicrosoft.EntityFrameworkCore.Database.Connection: Debug: Closed connection to database 'WebAppLocalDb' on server '(localdb)\\mssqllocaldb' (2ms).\r\nMicrosoft.EntityFrameworkCore.Database.Transaction: Debug: Disposing transaction.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82636}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82637}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82638}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82639}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82640}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82641}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82642}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82643}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82644}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82645}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82646}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82647}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82648}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82649}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82650}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82651}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82652}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82653}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82654}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82655}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82656}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82657}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82658}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82659}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82660}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82661}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82662}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82663}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82664}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82665}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82666}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82667}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82668}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82669}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82670}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82671}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.ChangeTracking: Debug: The 'DailyDigest' entity with key '{Id: 82672}' tracked by 'ApplicationDbContext' changed state from 'Added' to 'Unchanged'.\r\nMicrosoft.EntityFrameworkCore.Update: Error: An exception occurred in the database while saving changes for context type 'WebApp.Data.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The property 'DailyDigest.Id' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n\r\nSystem.InvalidOperationException: The property 'DailyDigest.Id' has a temporary value while attempting to change the entity's state to 'Unchanged'. Either set a permanent value explicitly, or ensure that the database is configured to generate values for this property.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.AcceptChanges()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.AcceptAllChanges(IReadOnlyList`1 changedEntries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n```\r\n\r\n</details>","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1308905120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7774493358,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPZVqu","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7774493358","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T15:08:11Z","performed_via_github_app":null},{"id":7774493372,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPZVq8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7774493372","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T15:08:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1309008282","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1309008282","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1309008282,"node_id":"IC_kwDOAPaMMs5OBeGa","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T16:19:40Z","updated_at":"2022-11-09T16:34:44Z","body":"@ajcvickers Spent the day trying to get the repro project as similar to the real project as possible, adding **generic host**, **connection pooling** and enable **multiple active result sets** in connection string. \r\n\r\nIt still only reproduces in the real project but I have at least managed to get a debug log output which is identical to the real project log output, down to a few lines which may or may not have something to do with this bug. See the diff below, in real project when it fails a db reader is closed during detect changes phase.\r\n\r\nRelated or red herring? You decide.\r\n\r\n![image](https://user-images.githubusercontent.com/429478/200881353-eec67453-4214-4248-aee0-45076e5d6df0.png)\r\n\r\nedit: [full diff here](https://github.com/joakimriedel/efcore-issue-29502/commit/d354cab4dfeee28f2b6bb2965062187c70491b69)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1309008282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7775177585,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHPb8tx","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7775177585","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-09T16:19:41Z","performed_via_github_app":null},{"id":7775177617,"node_id":"SE_lADOAPaMMs5V2deBzwAAAAHPb8uR","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7775177617","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-11-09T16:19:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1310079480","html_url":"https://github.com/dotnet/efcore/issues/29502#issuecomment-1310079480","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/29502","id":1310079480,"node_id":"IC_kwDOAPaMMs5OFjn4","user":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T10:32:47Z","updated_at":"2022-11-10T10:36:50Z","body":"@ajcvickers @roji I think I managed to find something interesting today.\r\n\r\nI experimented with maxCount (the `.Take(maxCount)` in the query) and it seems that I get the exception exactly on 32 items or more. All `maxCount` less than 32 works perfectly.\r\n\r\nThen I tried reproducing with 32 items after adding the following workaround to the table configuration; `builder.ToTable(tb => tb.HasTrigger(\"workaround\"));`\r\n\r\nThis works! ðŸ¤¯\r\n\r\nBut the SQL query will be a bit different;\r\n\r\nWithout HasTrigger\r\n```\r\nOUTPUT INSERTED.[Id], i._Position;\r\n```\r\n\r\nWith HasTrigger\r\n```\r\nOUTPUT INSERTED.[Id], i._Position\r\nINTO @inserted0;\r\n\r\nSELECT [i].[Id] FROM @inserted0 i\r\nORDER BY [i].[_Position];\r\n```\r\n\r\nCould this difference (missing sort) be the cause of this exception?\r\n\r\nI hope you could have a look at this because at this moment I feel not safe about pushing EF7/NET7 to production without resolving this issue.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1310079480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joakimriedel","id":429478,"node_id":"MDQ6VXNlcjQyOTQ3OA==","avatar_url":"https://avatars.githubusercontent.com/u/429478?v=4","gravatar_id":"","url":"https://api.github.com/users/joakimriedel","html_url":"https://github.com/joakimriedel","followers_url":"https://api.github.com/users/joakimriedel/followers","following_url":"https://api.github.com/users/joakimriedel/following{/other_user}","gists_url":"https://api.github.com/users/joakimriedel/gists{/gist_id}","starred_url":"https://api.github.com/users/joakimriedel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joakimriedel/subscriptions","organizations_url":"https://api.github.com/users/joakimriedel/orgs","repos_url":"https://api.github.com/users/joakimriedel/repos","events_url":"https://api.github.com/users/joakimriedel/events{/privacy}","received_events_url":"https://api.github.com/users/joakimriedel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7781832611,"node_id":"MEE_lADOAPaMMs5V2deBzwAAAAHP1Vej","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7781832611","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-11-10T10:32:48Z","performed_via_github_app":null}]