[{"id":15581720370,"node_id":"LE_lADOAPaMMs6ihzK8zwAAAAOgvi8y","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15581720370","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-09T11:29:35Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"id":15582910895,"node_id":"RTE_lADOAPaMMs6ihzK8zwAAAAOg0Fmv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15582910895","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2024-12-09T13:00:00Z","rename":{"from":"EF Core InMemory database throws an argument exception","to":"EF Core InMemory database throws an argument exception on Nullable<>.ToString"},"performed_via_github_app":null},{"id":15592231855,"node_id":"LE_lADOAPaMMs6ihzK8zwAAAAOhXpOv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15592231855","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-10T00:01:16Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"id":15592232397,"node_id":"AE_lADOAPaMMs6ihzK8zwAAAAOhXpXN","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15592232397","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-12-10T00:01:21Z","assignee":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2530909821","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2530909821","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2530909821,"node_id":"IC_kwDOAPaMMs6W2p59","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-10T09:10:51Z","updated_at":"2024-12-10T09:12:26Z","body":"@wilfriedb can you share the listing of the unit test that is failing (or other form of full repro of this issue)?\n\nI'm trying the following:\n\n```\n    [ConditionalFact]\n    public async Task ReproDateOnly()\n    {\n        using var ctx = new MyContext();\n        await ctx.Database.EnsureDeletedAsync();\n        await ctx.Database.EnsureCreatedAsync();\n\n        var e1 = new MyEntity { Id = 1, Do = new DateOnly(2000, 1, 1), Ndo = new DateOnly(2024, 2, 2) };\n        var e2 = new MyEntity { Id = 2, Do = new DateOnly(2001, 1, 1), Ndo = null };\n\n        ctx.MyEntities.AddRange(e1, e2);\n        await ctx.SaveChangesAsync();\n\n\n        var q = await ctx.MyEntities.Select(x => x.Ndo.ToString()).ToListAsync();\n        var q2 = await ctx.MyEntities.Where(x => x.Ndo.ToString() != \"foo\").ToListAsync();\n    }\n\n    public class MyContext : DbContext\n    {\n        public DbSet<MyEntity> MyEntities { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n        }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder\n                    .UseInMemoryDatabase(\"myDateOnlyDb\")\n                    .LogTo(Console.WriteLine, LogLevel.Information)\n                    .EnableSensitiveDataLogging();\n        }\n    }\n\n    public class MyEntity\n    {\n        public int Id { get; set; }\n        public DateOnly Do { get; set; }\n        public DateOnly? Ndo { get; set; }\n    }\n```\n\nand it works fine.\n\nExpression tree we create here is\n\n```\nnew QueryingEnumerable<string>(\n    queryContext, \n    InMemoryShapedQueryCompilingExpressionVisitor.Table(\n        queryContext: queryContext, \n        entityType: EntityType: MyEntity)\n        .Select(valueBuffer => new ValueBuffer(new object[]{ ExpressionExtensions.ValueBufferTryReadValue<DateOnly?>(\n            valueBuffer: valueBuffer, \n            index: 2, \n            property: Property: MyEntity.Ndo (DateOnly?)).ToString() })) // <- ToString() on Nullable<DateOnly>\n        .Select(valueBuffer => new ValueBuffer(new object[]{ ExpressionExtensions.ValueBufferTryReadValue<string>(\n            valueBuffer: valueBuffer, \n            index: 0, \n            property: null) })), \n    Func<QueryContext, ValueBuffer, string>, \n    AdHocMiscellaneousQueryInMemoryTest+MyContext, \n    False, \n    True\n)\n```\n\nwhich is has no problems calling ToString method on `DateOnly?` argument.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2530909821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15597293179,"node_id":"MEE_lADOAPaMMs6ihzK8zwAAAAOhq857","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15597293179","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-10T09:10:53Z","performed_via_github_app":null},{"id":15597293195,"node_id":"SE_lADOAPaMMs6ihzK8zwAAAAOhq86L","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15597293195","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-10T09:10:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2532597745","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2532597745","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2532597745,"node_id":"IC_kwDOAPaMMs6W9F_x","user":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-10T18:44:00Z","updated_at":"2024-12-10T18:44:00Z","body":"Hello @maumar, I'm in the process of making a minimal repo that will reproduce the issue. There are many, many expressions in this code therefore this process is not going fast . When I've finished this I will post an update here.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2532597745/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15605735341,"node_id":"MEE_lADOAPaMMs6ihzK8zwAAAAOiLJ-t","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15605735341","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-10T18:44:01Z","performed_via_github_app":null},{"id":15605735354,"node_id":"SE_lADOAPaMMs6ihzK8zwAAAAOiLJ-6","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15605735354","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-10T18:44:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2536334330","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2536334330","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2536334330,"node_id":"IC_kwDOAPaMMs6XLWP6","user":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-11T15:35:28Z","updated_at":"2024-12-11T15:44:56Z","body":"Hello @maumar here is a minimal repo that reproduces the issue: https://github.com/wilfriedb/EFCoreReproduce\n\nIn this repo, the unit test will fail with an exception, as mentioned above.\nWhen downgraded to EF Core 8, the test will succeed.\n\nAlso, with a minimal change in the file MapperProfile.cs, as indicated in the comments, the test will succeed.\n\nFun fact, the DateOnly field ValueDate on the PaymentModel class, on which the exception occurs, is not nullable. But when debugging in the file InMemoryExpressionTranslatingExpressionVisitor, the field (in an expression) is promoted (demoted?) to a nullable DateOnly. This is also the case in EF Core 8, but on line 888, in EF Core 9 the if statement is skipped (the condition evaluates to false), but in EF Core 8 the if statement is entered (the condition evaluates to true).\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2536334330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wilfriedb","id":4008699,"node_id":"MDQ6VXNlcjQwMDg2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4008699?v=4","gravatar_id":"","url":"https://api.github.com/users/wilfriedb","html_url":"https://github.com/wilfriedb","followers_url":"https://api.github.com/users/wilfriedb/followers","following_url":"https://api.github.com/users/wilfriedb/following{/other_user}","gists_url":"https://api.github.com/users/wilfriedb/gists{/gist_id}","starred_url":"https://api.github.com/users/wilfriedb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wilfriedb/subscriptions","organizations_url":"https://api.github.com/users/wilfriedb/orgs","repos_url":"https://api.github.com/users/wilfriedb/repos","events_url":"https://api.github.com/users/wilfriedb/events{/privacy}","received_events_url":"https://api.github.com/users/wilfriedb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15620649507,"node_id":"MEE_lADOAPaMMs6ihzK8zwAAAAOjEDIj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15620649507","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-11T15:35:30Z","performed_via_github_app":null},{"id":15620649523,"node_id":"SE_lADOAPaMMs6ihzK8zwAAAAOjEDIz","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15620649523","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-11T15:35:30Z","performed_via_github_app":null},{"id":15712851080,"node_id":"LE_lADOAPaMMs6ihzK8zwAAAAOojxSI","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15712851080","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-19T07:16:10Z","label":{"name":"area-in-memory","color":"32b37b"},"performed_via_github_app":null},{"id":15712854151,"node_id":"LE_lADOAPaMMs6ihzK8zwAAAAOojyCH","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15712854151","actor":{"login":"cincuranet","id":4540597,"node_id":"MDQ6VXNlcjQ1NDA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/4540597?v=4","gravatar_id":"","url":"https://api.github.com/users/cincuranet","html_url":"https://github.com/cincuranet","followers_url":"https://api.github.com/users/cincuranet/followers","following_url":"https://api.github.com/users/cincuranet/following{/other_user}","gists_url":"https://api.github.com/users/cincuranet/gists{/gist_id}","starred_url":"https://api.github.com/users/cincuranet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cincuranet/subscriptions","organizations_url":"https://api.github.com/users/cincuranet/orgs","repos_url":"https://api.github.com/users/cincuranet/repos","events_url":"https://api.github.com/users/cincuranet/events{/privacy}","received_events_url":"https://api.github.com/users/cincuranet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-19T07:16:33Z","label":{"name":"regression","color":"ff1fff"},"performed_via_github_app":null},{"id":15718330860,"node_id":"SE_lADOAPaMMs6ihzK8zwAAAAOo4rHs","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15718330860","actor":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-19T13:16:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2553982757","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2553982757","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2553982757,"node_id":"IC_kwDOAPaMMs6YOq8l","user":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-19T13:29:26Z","updated_at":"2024-12-19T13:29:26Z","body":"I have the same issue, here is the 1 file repro https://github.com/domagojmedo/EfCore35299\n\nYou can just comment and uncomment line in .csproj\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2553982757/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15952695549,"node_id":"MIE_lADOAPaMMs6ihzK8zwAAAAO22tD9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15952695549","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-01-16T07:19:52Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"id":15952712026,"node_id":"DEME_lADOAPaMMs6ihzK8zwAAAAO22xFa","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15952712026","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2025-01-16T07:21:33Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2612611688","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2612611688","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2612611688,"node_id":"IC_kwDOAPaMMs6buUpo","user":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-24T14:05:34Z","updated_at":"2025-01-24T14:05:34Z","body":"Shouldn't this at least be added to breaking changes for EF 9?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2612611688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16302416836,"node_id":"SE_lADOAPaMMs6ihzK8zwAAAAPLsyPE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/16302416836","actor":{"login":"PolkDSavage","id":197788254,"node_id":"U_kgDOC8oCXg","avatar_url":"https://avatars.githubusercontent.com/u/197788254?v=4","gravatar_id":"","url":"https://api.github.com/users/PolkDSavage","html_url":"https://github.com/PolkDSavage","followers_url":"https://api.github.com/users/PolkDSavage/followers","following_url":"https://api.github.com/users/PolkDSavage/following{/other_user}","gists_url":"https://api.github.com/users/PolkDSavage/gists{/gist_id}","starred_url":"https://api.github.com/users/PolkDSavage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolkDSavage/subscriptions","organizations_url":"https://api.github.com/users/PolkDSavage/orgs","repos_url":"https://api.github.com/users/PolkDSavage/repos","events_url":"https://api.github.com/users/PolkDSavage/events{/privacy}","received_events_url":"https://api.github.com/users/PolkDSavage/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-02-13T20:35:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2684590423","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2684590423","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2684590423,"node_id":"IC_kwDOAPaMMs6gA5lX","user":{"login":"olaj","id":184458,"node_id":"MDQ6VXNlcjE4NDQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/184458?v=4","gravatar_id":"","url":"https://api.github.com/users/olaj","html_url":"https://github.com/olaj","followers_url":"https://api.github.com/users/olaj/followers","following_url":"https://api.github.com/users/olaj/following{/other_user}","gists_url":"https://api.github.com/users/olaj/gists{/gist_id}","starred_url":"https://api.github.com/users/olaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olaj/subscriptions","organizations_url":"https://api.github.com/users/olaj/orgs","repos_url":"https://api.github.com/users/olaj/repos","events_url":"https://api.github.com/users/olaj/events{/privacy}","received_events_url":"https://api.github.com/users/olaj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T10:43:19Z","updated_at":"2025-02-26T10:43:19Z","body":"I ran into this, doesn't really understand how it could be fixed / worked around. Do we need to downgrade? Can i ran EF Core 8 with .net 9?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2684590423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"olaj","id":184458,"node_id":"MDQ6VXNlcjE4NDQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/184458?v=4","gravatar_id":"","url":"https://api.github.com/users/olaj","html_url":"https://github.com/olaj","followers_url":"https://api.github.com/users/olaj/followers","following_url":"https://api.github.com/users/olaj/following{/other_user}","gists_url":"https://api.github.com/users/olaj/gists{/gist_id}","starred_url":"https://api.github.com/users/olaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olaj/subscriptions","organizations_url":"https://api.github.com/users/olaj/orgs","repos_url":"https://api.github.com/users/olaj/repos","events_url":"https://api.github.com/users/olaj/events{/privacy}","received_events_url":"https://api.github.com/users/olaj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2690267426","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2690267426","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2690267426,"node_id":"IC_kwDOAPaMMs6gWjki","user":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-28T10:18:25Z","updated_at":"2025-02-28T10:18:25Z","body":"You can, that's what I did. Using [8.0.11] in test project","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2690267426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2699773711","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2699773711","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2699773711,"node_id":"IC_kwDOAPaMMs6g60cP","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-05T04:23:04Z","updated_at":"2025-03-05T04:23:04Z","body":"regression introduced in https://github.com/dotnet/efcore/pull/33706\nThe way we receive the query, ToString method is defined on Int32, but as part of the process, the argument itself becomes nullable (as we are accessing optional entity. We have a code to mitigate that:\n\nhttps://github.com/dotnet/efcore/blob/59fc95bf505123c79e01aeccecc57ea95b2a5394/src/EFCore.InMemory/Query/Internal/InMemoryExpressionTranslatingExpressionVisitor.cs#L892\n\nwe add a null check and only if the object is not null, we convert the object to non-null, to match the type and call the method. Problem is that we don't do that for Nullable<>.ToString - the way that we check for it is by method name only, so we accidentally also filtered out non-nullable ToString. We should check the declaring type as well","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2699773711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16588330830,"node_id":"MIE_lADOAPaMMs6ihzK8zwAAAAPcvddO","url":"https://api.github.com/repos/dotnet/efcore/issues/events/16588330830","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-03-05T04:23:15Z","milestone":{"title":"10.0.0"},"performed_via_github_app":null},{"id":16588331954,"node_id":"LE_lADOAPaMMs6ihzK8zwAAAAPcvduy","url":"https://api.github.com/repos/dotnet/efcore/issues/events/16588331954","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-03-05T04:23:27Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2699791758","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2699791758","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2699791758,"node_id":"IC_kwDOAPaMMs6g642O","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-05T04:36:34Z","updated_at":"2025-03-05T04:36:34Z","body":"workaround is to convert the argument to nullable before calling ToString():\n\n```cs\n                AuthorId = ((int?)x.Author!.Id).ToString()\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2699791758/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2700193699","html_url":"https://github.com/dotnet/efcore/issues/35299#issuecomment-2700193699","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35299","id":2700193699,"node_id":"IC_kwDOAPaMMs6g8a-j","user":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-05T08:23:18Z","updated_at":"2025-03-05T08:23:18Z","body":"Yes, but that means we have to write our EF code differently just because of tests and that's not something I'm very keen on doing. Think we're gonna stay on version 8 and hope it's fixed in 10","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2700193699/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"domagojmedo","id":12157224,"node_id":"MDQ6VXNlcjEyMTU3MjI0","avatar_url":"https://avatars.githubusercontent.com/u/12157224?v=4","gravatar_id":"","url":"https://api.github.com/users/domagojmedo","html_url":"https://github.com/domagojmedo","followers_url":"https://api.github.com/users/domagojmedo/followers","following_url":"https://api.github.com/users/domagojmedo/following{/other_user}","gists_url":"https://api.github.com/users/domagojmedo/gists{/gist_id}","starred_url":"https://api.github.com/users/domagojmedo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domagojmedo/subscriptions","organizations_url":"https://api.github.com/users/domagojmedo/orgs","repos_url":"https://api.github.com/users/domagojmedo/repos","events_url":"https://api.github.com/users/domagojmedo/events{/privacy}","received_events_url":"https://api.github.com/users/domagojmedo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16677713812,"node_id":"REFE_lADOAPaMMs6ihzK8zwAAAAPiEbeU","url":"https://api.github.com/repos/dotnet/efcore/issues/events/16677713812","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6872d6abeb94633668283657e42375461c9c7543","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/6872d6abeb94633668283657e42375461c9c7543","created_at":"2025-03-11T09:49:15Z","performed_via_github_app":null},{"actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-11T09:50:28Z","updated_at":"2025-03-11T09:50:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35763","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/35763/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/35763/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/35763/events","html_url":"https://github.com/dotnet/efcore/pull/35763","id":2909870384,"node_id":"PR_kwDOAPaMMs6OISnY","number":35763,"title":"Fix to #35299 - EF Core InMemory database throws an argument exception on Nullable<>.ToString","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-03-11T09:50:27Z","updated_at":"2025-04-01T17:25:39Z","closed_at":"2025-04-01T17:25:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/35763","html_url":"https://github.com/dotnet/efcore/pull/35763","diff_url":"https://github.com/dotnet/efcore/pull/35763.diff","patch_url":"https://github.com/dotnet/efcore/pull/35763.patch","merged_at":"2025-04-01T17:25:37Z"},"body":"Problem was that when rewriting the (inmemory) query, sometimes we change the nullability of the expression fragment. (e.g. when accessing a property on an optional entity). We then have a logic to compensate for the change. E.g. when the modified fragment was a caller of a method, we add a null check and only call the method (as non-nullable argument) if the value is not null. This way we can retain the method signature as it was. In 9, we added some exemptions to this logic, e.g. `GetValueOrDefault`, or `Nullable<>.ToString`, which don't need the compensation. Problem was that we were matching the ToString method incorrectly, only looking at the method name, so we would also match non-nullable ToString(). Fix is to look at the declaring type of the ToString method as well to make sure it's nullable<T>, otherwise apply the compensation.\r\n\r\nFixes #35299","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/35763/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]