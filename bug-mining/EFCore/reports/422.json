{"url":"https://api.github.com/repos/dotnet/efcore/issues/32803","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/32803/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/32803/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/32803/events","html_url":"https://github.com/dotnet/efcore/issues/32803","id":2079628135,"node_id":"I_kwDOAPaMMs579Jtn","number":32803,"title":"SqlServer FillFactor for PK is missing","user":{"login":"bryanhunwardsen","id":3408302,"node_id":"MDQ6VXNlcjM0MDgzMDI=","avatar_url":"https://avatars.githubusercontent.com/u/3408302?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanhunwardsen","html_url":"https://github.com/bryanhunwardsen","followers_url":"https://api.github.com/users/bryanhunwardsen/followers","following_url":"https://api.github.com/users/bryanhunwardsen/following{/other_user}","gists_url":"https://api.github.com/users/bryanhunwardsen/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanhunwardsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanhunwardsen/subscriptions","organizations_url":"https://api.github.com/users/bryanhunwardsen/orgs","repos_url":"https://api.github.com/users/bryanhunwardsen/repos","events_url":"https://api.github.com/users/bryanhunwardsen/events{/privacy}","received_events_url":"https://api.github.com/users/bryanhunwardsen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1900942474,"node_id":"MDU6TGFiZWwxOTAwOTQyNDc0","url":"https://api.github.com/repos/dotnet/efcore/labels/area-migrations","name":"area-migrations","color":"32b37b","default":false,"description":""},{"id":2272800544,"node_id":"MDU6TGFiZWwyMjcyODAwNTQ0","url":"https://api.github.com/repos/dotnet/efcore/labels/area-sqlserver","name":"area-sqlserver","color":"32b37b","default":false,"description":""},{"id":2402623482,"node_id":"MDU6TGFiZWwyNDAyNjIzNDgy","url":"https://api.github.com/repos/dotnet/efcore/labels/community-contribution","name":"community-contribution","color":"004caa","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/180","html_url":"https://github.com/dotnet/efcore/milestone/180","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/180/labels","id":9963267,"node_id":"MI_kwDOAPaMMs4AmAcD","number":180,"title":"9.0.0","description":null,"creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":339,"state":"closed","created_at":"2023-09-25T15:41:58Z","updated_at":"2025-04-01T18:19:15Z","due_on":null,"closed_at":"2024-11-14T11:54:05Z"},"comments":17,"created_at":"2024-01-12T20:08:20Z","updated_at":"2025-06-15T19:57:17Z","closed_at":"2024-02-16T09:10:53Z","author_association":"NONE","type":{"id":1092406,"node_id":"IT_kwDOAIt-yc4AEKs2","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-10-08T09:10:05Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\"FillFactor\" was added several versions ago but it is incomplete/broken.\r\n.HasFillFactor() is only settable on explicit/defined Indexes.\r\nIn SqlServer, FillFactor can be set on the PK without additional complexity to the Schema.\r\nThis is not available with the FillFactor implementation of EFC 8. \r\nThis is an incomplete implementation of the feature which is why I am filing as a bug and not as a feature request.\r\n\r\nTo advertise FillFactor is supported in EF, code like this:\r\n```C#\r\nbuilder.HasKey(x => x.Id).HasFillFactor(90);\r\n```\r\nShould produce Sql Schema as:\r\n```sql\r\nCREATE TABLE [dbo].[MyTable](\r\n\t[Id] [int] IDENTITY(1,1) NOT NULL\r\n CONSTRAINT [PK_MyTable] PRIMARY KEY CLUSTERED \r\n(\r\n\t[Id] ASC\r\n)WITH (STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, FILLFACTOR = 90, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\r\n) ON [PRIMARY]\r\nGO\r\n```\r\n\r\nor at a minimum, provide a fluent option that ultimately executes the following sql as it will cover the PK:\r\n```sql\r\nALTER TABLE MyTable REBUILD WITH (FILLFACTOR = 90);\r\nGO\r\n```\r\n\r\n\r\nEF Core version: 8\r\nDatabase provider: Microsoft.EntityFrameworkCore.SqlServer\r\nTarget framework: .NET 6.0\r\nOperating system: Win10\r\nIDE: Visual Studio 2022 17.4\r\n","closed_by":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/32803/timeline","performed_via_github_app":null,"state_reason":"completed"}