{"url":"https://api.github.com/repos/dotnet/efcore/issues/27100","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/27100/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/27100/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/27100/events","html_url":"https://github.com/dotnet/efcore/issues/27100","id":1092554738,"node_id":"I_kwDOAPaMMs5BHw_y","number":27100,"title":"MigrationBuilder.InsertData does not use default schema anymore","user":{"login":"123fulltimedev","id":97036924,"node_id":"U_kgDOBciqfA","avatar_url":"https://avatars.githubusercontent.com/u/97036924?v=4","gravatar_id":"","url":"https://api.github.com/users/123fulltimedev","html_url":"https://github.com/123fulltimedev","followers_url":"https://api.github.com/users/123fulltimedev/followers","following_url":"https://api.github.com/users/123fulltimedev/following{/other_user}","gists_url":"https://api.github.com/users/123fulltimedev/gists{/gist_id}","starred_url":"https://api.github.com/users/123fulltimedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/123fulltimedev/subscriptions","organizations_url":"https://api.github.com/users/123fulltimedev/orgs","repos_url":"https://api.github.com/users/123fulltimedev/repos","events_url":"https://api.github.com/users/123fulltimedev/events{/privacy}","received_events_url":"https://api.github.com/users/123fulltimedev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1900942474,"node_id":"MDU6TGFiZWwxOTAwOTQyNDc0","url":"https://api.github.com/repos/dotnet/efcore/labels/area-migrations","name":"area-migrations","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/128","html_url":"https://github.com/dotnet/efcore/milestone/128","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/128/labels","id":7236796,"node_id":"MI_kwDOAPaMMs4Abmy8","number":128,"title":"7.0.0","description":"EF Core 7.0","creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":375,"state":"closed","created_at":"2021-10-09T18:57:40Z","updated_at":"2024-11-13T16:14:22Z","due_on":null,"closed_at":"2022-11-05T18:37:45Z"},"comments":2,"created_at":"2022-01-03T14:23:42Z","updated_at":"2025-06-15T18:44:38Z","closed_at":"2022-01-10T20:01:10Z","author_association":"NONE","type":{"id":1092402,"node_id":"IT_kwDOAIt-yc4AEKsy","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-07-26T10:20:14Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Assume a default schema is specified in `OnModelCreating`:\r\n\r\n```\r\nprotected override void OnModelCreating(ModelBuilder modelBuilder)\r\n    {\r\n        base.OnModelCreating(modelBuilder);\r\n\r\n        modelBuilder.HasDefaultSchema(\"dbo\");\r\n    }\r\n```\r\n\r\nAn attempt to enter data in a migration's `Up` method:\r\n\r\n```\r\nprotected override void Up(MigrationBuilder migrationBuilder)\r\n        {\r\n            migrationBuilder.InsertData(\"People\", \"Name\", \"John Doe\");\r\n        }\r\n```\r\n\r\nraises an exception: \"There is no entity type mapped to the table 'People' which is used in a data operation. Either add the corresponding entity type to the model, or specify the column types in the data operation.\".  With previous versions of EF Core (e. g. 3.1) there was not an issue.\r\n\r\nWhen the schema is specified explicitly everything works fine again:\r\n\r\n```\r\nmigrationBuilder.InsertData(\"People\", \"Name\", \"John Doe\", \"dbo\");\r\n```\r\n\r\nIf I interpret the documentation for `InsertData` correctly the default schema should be assumed if no schema is supplied explicitly.","closed_by":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/27100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/27100/timeline","performed_via_github_app":null,"state_reason":"completed"}