[{"id":15786322073,"node_id":"LE_lADOAPaMMs6kuJWyzwAAAAOs8CiZ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15786322073","actor":{"login":"TanerSaydam","id":83103843,"node_id":"MDQ6VXNlcjgzMTAzODQz","avatar_url":"https://avatars.githubusercontent.com/u/83103843?v=4","gravatar_id":"","url":"https://api.github.com/users/TanerSaydam","html_url":"https://github.com/TanerSaydam","followers_url":"https://api.github.com/users/TanerSaydam/followers","following_url":"https://api.github.com/users/TanerSaydam/following{/other_user}","gists_url":"https://api.github.com/users/TanerSaydam/gists{/gist_id}","starred_url":"https://api.github.com/users/TanerSaydam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TanerSaydam/subscriptions","organizations_url":"https://api.github.com/users/TanerSaydam/orgs","repos_url":"https://api.github.com/users/TanerSaydam/repos","events_url":"https://api.github.com/users/TanerSaydam/events{/privacy}","received_events_url":"https://api.github.com/users/TanerSaydam/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-30T18:31:46Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2565816441","html_url":"https://github.com/dotnet/efcore/issues/35393#issuecomment-2565816441","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35393","id":2565816441,"node_id":"IC_kwDOAPaMMs6Y70B5","user":{"login":"TanerSaydam","id":83103843,"node_id":"MDQ6VXNlcjgzMTAzODQz","avatar_url":"https://avatars.githubusercontent.com/u/83103843?v=4","gravatar_id":"","url":"https://api.github.com/users/TanerSaydam","html_url":"https://github.com/TanerSaydam","followers_url":"https://api.github.com/users/TanerSaydam/followers","following_url":"https://api.github.com/users/TanerSaydam/following{/other_user}","gists_url":"https://api.github.com/users/TanerSaydam/gists{/gist_id}","starred_url":"https://api.github.com/users/TanerSaydam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TanerSaydam/subscriptions","organizations_url":"https://api.github.com/users/TanerSaydam/orgs","repos_url":"https://api.github.com/users/TanerSaydam/repos","events_url":"https://api.github.com/users/TanerSaydam/events{/privacy}","received_events_url":"https://api.github.com/users/TanerSaydam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T18:56:04Z","updated_at":"2024-12-30T18:56:04Z","body":"When I updated the version to 8.0.11, the issue was resolved. There is a bug in version 9.0.0","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2565816441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TanerSaydam","id":83103843,"node_id":"MDQ6VXNlcjgzMTAzODQz","avatar_url":"https://avatars.githubusercontent.com/u/83103843?v=4","gravatar_id":"","url":"https://api.github.com/users/TanerSaydam","html_url":"https://github.com/TanerSaydam","followers_url":"https://api.github.com/users/TanerSaydam/followers","following_url":"https://api.github.com/users/TanerSaydam/following{/other_user}","gists_url":"https://api.github.com/users/TanerSaydam/gists{/gist_id}","starred_url":"https://api.github.com/users/TanerSaydam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TanerSaydam/subscriptions","organizations_url":"https://api.github.com/users/TanerSaydam/orgs","repos_url":"https://api.github.com/users/TanerSaydam/repos","events_url":"https://api.github.com/users/TanerSaydam/events{/privacy}","received_events_url":"https://api.github.com/users/TanerSaydam/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15792101190,"node_id":"LE_lADOAPaMMs6kuJWyzwAAAAOtSFdG","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792101190","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-31T22:14:05Z","label":{"name":"regression","color":"ff1fff"},"performed_via_github_app":null},{"id":15792101481,"node_id":"LE_lADOAPaMMs6kuJWyzwAAAAOtSFhp","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792101481","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-31T22:14:14Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"id":15792101487,"node_id":"LE_lADOAPaMMs6kuJWyzwAAAAOtSFhv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792101487","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-31T22:14:14Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566733346","html_url":"https://github.com/dotnet/efcore/issues/35393#issuecomment-2566733346","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35393","id":2566733346,"node_id":"IC_kwDOAPaMMs6Y_T4i","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-31T22:15:40Z","updated_at":"2024-12-31T22:15:40Z","body":"I'm able to reproduce this:\n\n```cs\n\n    [ConditionalFact]\n    public async Task ReproGJ()\n    {\n        using (var ctx = new MyContext())\n        {\n            await ctx.Database.EnsureDeletedAsync();\n            await ctx.Database.EnsureCreatedAsync();\n\n            var p1 = new Product();\n            var p2 = new Product();\n            var c1 = new Category { CategoryName = \"one\" };\n            var c2 = new Category { CategoryName = \"two\" };\n\n            ctx.Products.AddRange(p1, p2);\n            ctx.Categories.AddRange(c1, c2);\n            await ctx.SaveChangesAsync();\n        }\n\n        using (var ctx = new MyContext())\n        {\n            var query = await ctx.Categories\n                .GroupJoin(ctx.Products,\n                           c => true,\n                           p => true,\n                           (c, p) => new\n                           {\n                               Category = c,\n                               Products = p\n                           })\n                .Select(s => new\n                {\n                    CategoryName = s.Category.CategoryName,\n                    Products = s.Products\n                })\n                .ToListAsync();\n        }\n    }\n\n    public class MyContext : DbContext\n    {\n        public DbSet<Category> Categories { get; set; }\n        public DbSet<Product> Products { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n        }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder\n                    .UseSqlServer(@\"Server=(localdb)\\mssqllocaldb;Database=ReproGJ;Trusted_Connection=True;MultipleActiveResultSets=true\")\n                    .LogTo(Console.WriteLine, LogLevel.Information)\n                    .EnableSensitiveDataLogging();\n        }\n    }\n\n    public class MyEntity\n    {\n        public int Id { get; set; }\n    }\n\n\n    public class Category\n    {\n        public int Id { get; set; }\n        public string CategoryName { get; set; }\n    }\n\n    public class Product\n    {\n        public int Id { get; set; }\n    }\n```\n\nWe produce this sql:\n\n```sql\nSELECT [c].[CategoryName], [c].[Id], [p0].[Id]\nFROM [Categories] AS [c]\nOUTER APPLY (\n    SELECT [p].[Id]\n    FROM [Products] AS [p]\n    WHERE 0 = 1\n) AS [p0]\nORDER BY [c].[Id]\n```\n\nwhile EF 8 produces:\n\n```sql\nSELECT [c].[CategoryName], [c].[Id], [t].[Id]\nFROM [Categories] AS [c]\nOUTER APPLY (\n    SELECT [p].[Id]\n    FROM [Products] AS [p]\n) AS [t]\nORDER BY [c].[Id]\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566733346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566800460","html_url":"https://github.com/dotnet/efcore/issues/35393#issuecomment-2566800460","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35393","id":2566800460,"node_id":"IC_kwDOAPaMMs6Y_kRM","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T01:58:23Z","updated_at":"2025-01-01T02:02:34Z","body":"When we process GroupJoin in GroupJoinConvertingExpressionVisitor we convert it to filtered subquery:\n\n```cs\nDbSet<Product>()\n    .Where(p => !(object.Equals(\n        objA: (object)True, \n        objB: null)) && object.Equals(\n        objA: (object)True, \n        objB: (object)True))\n```\n\nthen, during translation:\n\n```\n !(object.Equals(\n        objA: (object)True, \n        objB: null))\n```\n\nis naively translated to `NOT(CAST(1 AS BIT) == NULL)` but we apply incorrect optimization when we process the `NOT` wrapping `CAST(1 AS BIT) == NULL`:\n\n```\n// !(true == a) -> false == a\n// !(false == a) -> true == a\nSqlBinaryExpression { OperatorType: ExpressionType.Equal, Left: SqlConstantExpression { Value: bool } } binary\n    => Equal(Not(binary.Left), binary.Right),\n```\n\nThis optimization is correct in 3-value logic:\n\n\t\n\ta\t(true = a) !(true = a) (false = a)\n\t0\t    0\t\t1\t  1\n\t1\t    1\t\t0\t  0\n\tN\t    N\t\tN\t  N\n\n\nbut it breaks down when we know that a is actually null (i.e. null constant or null value parameter later on), which converts to ISNULL in `SqlNullabilityProcessor.OptimizeComparison` operation and that takes us to the realm of 2-value logic\n\n\t!(true = null) => !(true IS NULL) => !false => true\n\tfalse = null => (false IS NULL) => false\n\n/cc @ranma42 ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566800460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15792502787,"node_id":"MEE_lADOAPaMMs6kuJWyzwAAAAOtTngD","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792502787","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-01-01T01:58:24Z","performed_via_github_app":null},{"id":15792502791,"node_id":"SE_lADOAPaMMs6kuJWyzwAAAAOtTngH","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792502791","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-01T01:58:24Z","performed_via_github_app":null},{"id":15792528189,"node_id":"AE_lADOAPaMMs6kuJWyzwAAAAOtTts9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792528189","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2025-01-01T02:11:51Z","assignee":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":15792930935,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOtVQB3","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792930935","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5abc57db36d6a86e8ee652db6176c18efd360cf2","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/5abc57db36d6a86e8ee652db6176c18efd360cf2","created_at":"2025-01-01T06:26:10Z","performed_via_github_app":null},{"actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T06:26:38Z","updated_at":"2025-01-01T06:26:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35395","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/35395/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/35395/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/35395/events","html_url":"https://github.com/dotnet/efcore/pull/35395","id":2764877880,"node_id":"PR_kwDOAPaMMs6GhVx8","number":35395,"title":"Fix to #35393 - GroupJoin in EF Core 9 Returns Null for Joined Entities","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-01-01T06:26:37Z","updated_at":"2025-02-14T12:28:15Z","closed_at":"2025-02-14T12:27:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/35395","html_url":"https://github.com/dotnet/efcore/pull/35395","diff_url":"https://github.com/dotnet/efcore/pull/35395.diff","patch_url":"https://github.com/dotnet/efcore/pull/35395.patch","merged_at":null},"body":"Problem was that in EF9 we moved some optimizations from sql nullability processor to SqlExpressionFactory (so that we optimize things early). One of the optimizations:\r\n\r\n```\r\n!(true == a) -> false == a\r\n!(false == a) -> true == a\r\n```\r\n\r\nis not safe to do when a is a constant or parameter null value, because it evaluates to true IS NULL (two value logic). Fix is to remove this optimization from SqlExpressionFactory and instead put it back into OptimizeNotExpression, once we've converted everything we could to IS NULL checks already.\r\n\r\nFixes #35393","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/35395/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":15792951741,"node_id":"LE_lADOAPaMMs6kuJWyzwAAAAOtVVG9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15792951741","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-01T06:38:56Z","label":{"name":"closed-fixed","color":"777777"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566900149","html_url":"https://github.com/dotnet/efcore/issues/35393#issuecomment-2566900149","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/35393","id":2566900149,"node_id":"IC_kwDOAPaMMs6Y_8m1","user":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T08:07:34Z","updated_at":"2025-01-01T08:27:55Z","body":"> This optimization is correct in 3-value logic:\n> \n> ```\n> a\t(true = a) !(true = a) (false = a)\n> 0\t    0\t\t1\t  1\n> 1\t    1\t\t0\t  0\n> N\t    N\t\tN\t  N\n> ```\n> \n> but it breaks down when we know that a is actually null (i.e. null constant or null value parameter later on), which converts to ISNULL in `SqlNullabilityProcessor.OptimizeComparison` operation and that takes us to the realm of 2-value logic\n\nExactly, if the `==` you are considering is the C# one, then the optimization is incorrect (regardless of having a constant / parameter a argument), because in C# `null == false` and `null == true` are both false, hence you cannot negate `x == false` as `x == true`.\n\nSorry, I introduced this regression in https://github.com/dotnet/efcore/pull/34142","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/2566900149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ranma42","id":1506030,"node_id":"MDQ6VXNlcjE1MDYwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1506030?v=4","gravatar_id":"","url":"https://api.github.com/users/ranma42","html_url":"https://github.com/ranma42","followers_url":"https://api.github.com/users/ranma42/followers","following_url":"https://api.github.com/users/ranma42/following{/other_user}","gists_url":"https://api.github.com/users/ranma42/gists{/gist_id}","starred_url":"https://api.github.com/users/ranma42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranma42/subscriptions","organizations_url":"https://api.github.com/users/ranma42/orgs","repos_url":"https://api.github.com/users/ranma42/repos","events_url":"https://api.github.com/users/ranma42/events{/privacy}","received_events_url":"https://api.github.com/users/ranma42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15793187999,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOtWOyf","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15793187999","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"35fc423ba39630b3bf883e9e06c4ee4ea038ae3e","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/35fc423ba39630b3bf883e9e06c4ee4ea038ae3e","created_at":"2025-01-01T08:44:38Z","performed_via_github_app":null},{"id":15794475139,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOtbJCD","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15794475139","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d093a849e6a4043bcea863ca07de28c112c0b7b8","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/d093a849e6a4043bcea863ca07de28c112c0b7b8","created_at":"2025-01-01T19:47:42Z","performed_via_github_app":null},{"id":15796571334,"node_id":"SE_lADOAPaMMs6kuJWyzwAAAAOtjIzG","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15796571334","actor":{"login":"bachratyg","id":8447770,"node_id":"MDQ6VXNlcjg0NDc3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/8447770?v=4","gravatar_id":"","url":"https://api.github.com/users/bachratyg","html_url":"https://github.com/bachratyg","followers_url":"https://api.github.com/users/bachratyg/followers","following_url":"https://api.github.com/users/bachratyg/following{/other_user}","gists_url":"https://api.github.com/users/bachratyg/gists{/gist_id}","starred_url":"https://api.github.com/users/bachratyg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bachratyg/subscriptions","organizations_url":"https://api.github.com/users/bachratyg/orgs","repos_url":"https://api.github.com/users/bachratyg/repos","events_url":"https://api.github.com/users/bachratyg/events{/privacy}","received_events_url":"https://api.github.com/users/bachratyg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-02T08:45:29Z","performed_via_github_app":null},{"id":15803854235,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOt-62b","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15803854235","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"735a4b660db176f5f9dc47eaa177bafa6062d090","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/735a4b660db176f5f9dc47eaa177bafa6062d090","created_at":"2025-01-03T02:33:58Z","performed_via_github_app":null},{"id":15805176616,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOuD9so","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15805176616","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4abc7f6b20961260ad39458d099586f739483f26","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/4abc7f6b20961260ad39458d099586f739483f26","created_at":"2025-01-03T08:07:46Z","performed_via_github_app":null},{"id":15809764564,"node_id":"SE_lADOAPaMMs6kuJWyzwAAAAOuVdzU","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15809764564","actor":{"login":"Kaaybi","id":13943086,"node_id":"MDQ6VXNlcjEzOTQzMDg2","avatar_url":"https://avatars.githubusercontent.com/u/13943086?v=4","gravatar_id":"","url":"https://api.github.com/users/Kaaybi","html_url":"https://github.com/Kaaybi","followers_url":"https://api.github.com/users/Kaaybi/followers","following_url":"https://api.github.com/users/Kaaybi/following{/other_user}","gists_url":"https://api.github.com/users/Kaaybi/gists{/gist_id}","starred_url":"https://api.github.com/users/Kaaybi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kaaybi/subscriptions","organizations_url":"https://api.github.com/users/Kaaybi/orgs","repos_url":"https://api.github.com/users/Kaaybi/repos","events_url":"https://api.github.com/users/Kaaybi/events{/privacy}","received_events_url":"https://api.github.com/users/Kaaybi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-03T17:59:18Z","performed_via_github_app":null},{"id":15862186320,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOxdcFQ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15862186320","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"234d0efdb19413009750dd1d69e3b7ccb7b82e1b","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/234d0efdb19413009750dd1d69e3b7ccb7b82e1b","created_at":"2025-01-09T03:00:08Z","performed_via_github_app":null},{"id":15881814870,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOyoUNW","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15881814870","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a6a4f9f0da9b51a4256ea937c124751033f7eb24","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/a6a4f9f0da9b51a4256ea937c124751033f7eb24","created_at":"2025-01-10T12:51:55Z","performed_via_github_app":null},{"actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-10T12:53:00Z","updated_at":"2025-01-10T12:53:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35448","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/35448/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/35448/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/35448/events","html_url":"https://github.com/dotnet/efcore/pull/35448","id":2780123493,"node_id":"PR_kwDOAPaMMs6HVCPK","number":35448,"title":"[release/9.0-staging] Fix to #35393 - GroupJoin in EF Core 9 Returns Null for Joined Entities","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-01-10T12:52:59Z","updated_at":"2025-01-14T05:59:54Z","closed_at":"2025-01-14T05:59:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/35448","html_url":"https://github.com/dotnet/efcore/pull/35448","diff_url":"https://github.com/dotnet/efcore/pull/35448.diff","patch_url":"https://github.com/dotnet/efcore/pull/35448.patch","merged_at":null},"body":"Problem was that in EF9 we moved some optimizations from sql nullability processor to SqlExpressionFactory (so that we optimize things early). One of the optimizations:\r\n\r\n!(true = a) -> false = a\r\n!(false = a) -> true = a\r\n\r\nIn principle, this should be valid in 3-value logic\r\n\r\n\ta\t(true = a) !(true = a) (false = a)\r\n\t0\t    0\t\t1\t  1\r\n\t1\t    1\t\t0\t  0\r\n\tN\t    N\t\tN\t  N\r\n\r\nbut not in c# semantics, both null == true and null == false are evaluated to false, so !(true == a) is not the same as false = a (first one is true, second one is false)\r\n\r\nFix is to drop this optimization from SqlExpressionFactory and instead compensate in nullability processor (where we have full nullability information), so that we don't regress performance for cases in which this optimization happened to be valid.\r\n\r\nFixes #35393","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/35448/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":15882288647,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOyqH4H","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15882288647","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4343d68bacdfd6bb9dfdbe8d8a7901e2e220327d","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/4343d68bacdfd6bb9dfdbe8d8a7901e2e220327d","created_at":"2025-01-10T13:35:08Z","performed_via_github_app":null},{"id":15882437719,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOyqsRX","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15882437719","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e81aba0a8cfe825e2e7db35d3f9d61a7c3100125","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/e81aba0a8cfe825e2e7db35d3f9d61a7c3100125","created_at":"2025-01-10T13:48:32Z","performed_via_github_app":null},{"id":15900431802,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOzvVW6","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15900431802","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0e0ee22990237974025ce4ab08ce77857d9284df","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/0e0ee22990237974025ce4ab08ce77857d9284df","created_at":"2025-01-13T06:59:26Z","performed_via_github_app":null},{"id":15900921065,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOzxMzp","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15900921065","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5b75ccad246dbefc6270b9a2845736fb8457c0a2","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/5b75ccad246dbefc6270b9a2845736fb8457c0a2","created_at":"2025-01-13T07:57:02Z","performed_via_github_app":null},{"id":15901459378,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOzzQOy","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15901459378","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8fbbe064255afb3873ca5c428cf6d3d1a520c615","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/8fbbe064255afb3873ca5c428cf6d3d1a520c615","created_at":"2025-01-13T08:47:10Z","performed_via_github_app":null},{"id":15901526388,"node_id":"REFE_lADOAPaMMs6kuJWyzwAAAAOzzgl0","url":"https://api.github.com/repos/dotnet/efcore/issues/events/15901526388","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e12547fb026af02fa88dee655da4770673f68fac","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/e12547fb026af02fa88dee655da4770673f68fac","created_at":"2025-01-13T08:52:58Z","performed_via_github_app":null},{"actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-14T02:29:57Z","updated_at":"2025-01-14T02:29:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35449","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/35449/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/35449/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/35449/events","html_url":"https://github.com/dotnet/efcore/pull/35449","id":2780210096,"node_id":"PR_kwDOAPaMMs6HVVVi","number":35449,"title":"[release/9.0-staging] Fix to #35393 - GroupJoin in EF Core 9 Returns Null for Joined Entities","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/210","html_url":"https://github.com/dotnet/efcore/milestone/210","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/210/labels","id":12161857,"node_id":"MI_kwDOAPaMMs4AuZNB","number":210,"title":"9.0.3","description":null,"creator":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":5,"state":"closed","created_at":"2025-01-14T09:06:09Z","updated_at":"2025-07-04T06:56:08Z","due_on":null,"closed_at":"2025-07-04T06:56:08Z"},"comments":1,"created_at":"2025-01-10T13:36:26Z","updated_at":"2025-01-14T09:06:53Z","closed_at":"2025-01-14T09:06:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/35449","html_url":"https://github.com/dotnet/efcore/pull/35449","diff_url":"https://github.com/dotnet/efcore/pull/35449.diff","patch_url":"https://github.com/dotnet/efcore/pull/35449.patch","merged_at":"2025-01-14T09:06:51Z"},"body":"Fixes #35393 \r\n\r\n**Description**\r\nIn EF9 we refactored some optimizations we performed on generated SQL - we are now applying them earlier (as part of SqlExpressionFactory. However, one of those optimizations is only correct for non-nullable arguments, and at the time we apply them we don't have full nullability information. Fix is to only apply this optimization when we know the argument is non-nullable.\r\n\r\n**Customer impact**\r\nData corruption. Queries comparing nullable boolean property to a constant (true/false) produced incorrect results (data corruption). Workaround is to rewrite the query to add missing null checks, but this is not intuitive at all.\r\n\r\n**How found**\r\nCustomer report on 9.0.0\r\n\r\n**Regression**\r\nYes, from 8.0.\r\n\r\n**Testing**\r\nAdded tests for the scenarios affected as well as test that brute-forces all combinations of comparisons between nullable arguments in variety of scenarios.\r\n\r\n**Risk**\r\nLow, we are just removing the optimization that was incorrect. After removal, the queries produced are the same as in EF8. Quirk added, just in case.","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/35449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/35449/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]