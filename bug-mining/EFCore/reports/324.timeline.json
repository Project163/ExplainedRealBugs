[{"id":6734559266,"node_id":"LE_lADOAPaMMs5LFA_SzwAAAAGRaTgi","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559266","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","label":{"name":"type-enhancement","color":"bfe5bf"},"performed_via_github_app":null},{"id":6734559269,"node_id":"LE_lADOAPaMMs5LFA_SzwAAAAGRaTgl","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559269","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"id":6734559271,"node_id":"LE_lADOAPaMMs5LFA_SzwAAAAGRaTgn","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559271","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"id":6734559317,"node_id":"MEE_lADOAPaMMs5LFA_SzwAAAAGRaThV","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559317","actor":{"login":"NinoFloris","id":4218809,"node_id":"MDQ6VXNlcjQyMTg4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4218809?v=4","gravatar_id":"","url":"https://api.github.com/users/NinoFloris","html_url":"https://github.com/NinoFloris","followers_url":"https://api.github.com/users/NinoFloris/followers","following_url":"https://api.github.com/users/NinoFloris/following{/other_user}","gists_url":"https://api.github.com/users/NinoFloris/gists{/gist_id}","starred_url":"https://api.github.com/users/NinoFloris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NinoFloris/subscriptions","organizations_url":"https://api.github.com/users/NinoFloris/orgs","repos_url":"https://api.github.com/users/NinoFloris/repos","events_url":"https://api.github.com/users/NinoFloris/events{/privacy}","received_events_url":"https://api.github.com/users/NinoFloris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","performed_via_github_app":null},{"id":6734559324,"node_id":"SE_lADOAPaMMs5LFA_SzwAAAAGRaThc","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559324","actor":{"login":"NinoFloris","id":4218809,"node_id":"MDQ6VXNlcjQyMTg4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4218809?v=4","gravatar_id":"","url":"https://api.github.com/users/NinoFloris","html_url":"https://github.com/NinoFloris","followers_url":"https://api.github.com/users/NinoFloris/followers","following_url":"https://api.github.com/users/NinoFloris/following{/other_user}","gists_url":"https://api.github.com/users/NinoFloris/gists{/gist_id}","starred_url":"https://api.github.com/users/NinoFloris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NinoFloris/subscriptions","organizations_url":"https://api.github.com/users/NinoFloris/orgs","repos_url":"https://api.github.com/users/NinoFloris/repos","events_url":"https://api.github.com/users/NinoFloris/events{/privacy}","received_events_url":"https://api.github.com/users/NinoFloris/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","performed_via_github_app":null},{"id":6734559331,"node_id":"MEE_lADOAPaMMs5LFA_SzwAAAAGRaThj","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559331","actor":{"login":"dsyme","id":7204669,"node_id":"MDQ6VXNlcjcyMDQ2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7204669?v=4","gravatar_id":"","url":"https://api.github.com/users/dsyme","html_url":"https://github.com/dsyme","followers_url":"https://api.github.com/users/dsyme/followers","following_url":"https://api.github.com/users/dsyme/following{/other_user}","gists_url":"https://api.github.com/users/dsyme/gists{/gist_id}","starred_url":"https://api.github.com/users/dsyme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsyme/subscriptions","organizations_url":"https://api.github.com/users/dsyme/orgs","repos_url":"https://api.github.com/users/dsyme/repos","events_url":"https://api.github.com/users/dsyme/events{/privacy}","received_events_url":"https://api.github.com/users/dsyme/received_events","type":"User","user_view_type":"public","site_admin":true},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","performed_via_github_app":null},{"id":6734559338,"node_id":"SE_lADOAPaMMs5LFA_SzwAAAAGRaThq","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734559338","actor":{"login":"dsyme","id":7204669,"node_id":"MDQ6VXNlcjcyMDQ2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7204669?v=4","gravatar_id":"","url":"https://api.github.com/users/dsyme","html_url":"https://github.com/dsyme","followers_url":"https://api.github.com/users/dsyme/followers","following_url":"https://api.github.com/users/dsyme/following{/other_user}","gists_url":"https://api.github.com/users/dsyme/gists{/gist_id}","starred_url":"https://api.github.com/users/dsyme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsyme/subscriptions","organizations_url":"https://api.github.com/users/dsyme/orgs","repos_url":"https://api.github.com/users/dsyme/repos","events_url":"https://api.github.com/users/dsyme/events{/privacy}","received_events_url":"https://api.github.com/users/dsyme/received_events","type":"User","user_view_type":"public","site_admin":true},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:16:58Z","performed_via_github_app":null},{"id":6734565466,"node_id":"LE_lADOAPaMMs5LFA_SzwAAAAGRaVBa","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6734565466","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-06-03T08:18:00Z","label":{"name":"needs-design","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1146304069","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1146304069","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1146304069,"node_id":"IC_kwDOAPaMMs5EUzZF","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-03T19:44:28Z","updated_at":"2022-06-03T19:44:28Z","body":"Additional advantage of this: for users building an expression tree dynamically, it would make it considerably easier to integrate a value as a parameter into the expression tree.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1146304069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-03T19:47:00Z","updated_at":"2022-06-03T19:47:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/fsharp/issues/12841","repository_url":"https://api.github.com/repos/dotnet/fsharp","labels_url":"https://api.github.com/repos/dotnet/fsharp/issues/12841/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/fsharp/issues/12841/comments","events_url":"https://api.github.com/repos/dotnet/fsharp/issues/12841/events","html_url":"https://github.com/dotnet/fsharp/issues/12841","id":1168199939,"node_id":"I_kwDOAbtAO85FoVED","number":12841,"title":"Closure references are represented as constant nodes in expression trees ","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":164789606,"node_id":"MDU6TGFiZWwxNjQ3ODk2MDY=","url":"https://api.github.com/repos/dotnet/fsharp/labels/Bug","name":"Bug","color":"fc2929","default":false,"description":""},{"id":308829121,"node_id":"MDU6TGFiZWwzMDg4MjkxMjE=","url":"https://api.github.com/repos/dotnet/fsharp/labels/Impact-Low","name":"Impact-Low","color":"B612C4","default":false,"description":"(Internal MS Team use only) Describes an issue with limited impact on existing code."},{"id":3989089846,"node_id":"LA_kwDOAbtAO87txK42","url":"https://api.github.com/repos/dotnet/fsharp/labels/Area-Quotations","name":"Area-Quotations","color":"5319e7","default":false,"description":"Quotations (compiler support or library). See also \"queries\""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/fsharp/milestones/29","html_url":"https://github.com/dotnet/fsharp/milestone/29","labels_url":"https://api.github.com/repos/dotnet/fsharp/milestones/29/labels","id":4275077,"node_id":"MDk6TWlsZXN0b25lNDI3NTA3Nw==","number":29,"title":"Backlog","description":"General bucket. When items are completed or fixed, they are moved to a release milestone.","creator":{"login":"cartermp","id":6309070,"node_id":"MDQ6VXNlcjYzMDkwNzA=","avatar_url":"https://avatars.githubusercontent.com/u/6309070?v=4","gravatar_id":"","url":"https://api.github.com/users/cartermp","html_url":"https://github.com/cartermp","followers_url":"https://api.github.com/users/cartermp/followers","following_url":"https://api.github.com/users/cartermp/following{/other_user}","gists_url":"https://api.github.com/users/cartermp/gists{/gist_id}","starred_url":"https://api.github.com/users/cartermp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cartermp/subscriptions","organizations_url":"https://api.github.com/users/cartermp/orgs","repos_url":"https://api.github.com/users/cartermp/repos","events_url":"https://api.github.com/users/cartermp/events{/privacy}","received_events_url":"https://api.github.com/users/cartermp/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1181,"closed_issues":1302,"state":"open","created_at":"2019-04-30T19:04:55Z","updated_at":"2025-11-10T16:44:55Z","due_on":null,"closed_at":null},"comments":11,"created_at":"2022-03-14T10:50:24Z","updated_at":"2024-08-27T16:54:17Z","closed_at":"2022-06-03T19:47:00Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":29048891,"node_id":"MDEwOlJlcG9zaXRvcnkyOTA0ODg5MQ==","name":"fsharp","full_name":"dotnet/fsharp","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/fsharp","description":"The F# compiler, F# core library, F# language service, and F# tooling integration for Visual Studio","fork":false,"url":"https://api.github.com/repos/dotnet/fsharp","forks_url":"https://api.github.com/repos/dotnet/fsharp/forks","keys_url":"https://api.github.com/repos/dotnet/fsharp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/fsharp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/fsharp/teams","hooks_url":"https://api.github.com/repos/dotnet/fsharp/hooks","issue_events_url":"https://api.github.com/repos/dotnet/fsharp/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/fsharp/events","assignees_url":"https://api.github.com/repos/dotnet/fsharp/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/fsharp/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/fsharp/tags","blobs_url":"https://api.github.com/repos/dotnet/fsharp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/fsharp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/fsharp/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/fsharp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/fsharp/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/fsharp/languages","stargazers_url":"https://api.github.com/repos/dotnet/fsharp/stargazers","contributors_url":"https://api.github.com/repos/dotnet/fsharp/contributors","subscribers_url":"https://api.github.com/repos/dotnet/fsharp/subscribers","subscription_url":"https://api.github.com/repos/dotnet/fsharp/subscription","commits_url":"https://api.github.com/repos/dotnet/fsharp/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/fsharp/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/fsharp/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/fsharp/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/fsharp/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/fsharp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/fsharp/merges","archive_url":"https://api.github.com/repos/dotnet/fsharp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/fsharp/downloads","issues_url":"https://api.github.com/repos/dotnet/fsharp/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/fsharp/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/fsharp/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/fsharp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/fsharp/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/fsharp/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/fsharp/deployments","created_at":"2015-01-10T05:58:43Z","updated_at":"2025-11-10T16:22:16Z","pushed_at":"2025-11-10T17:06:51Z","git_url":"git://github.com/dotnet/fsharp.git","ssh_url":"git@github.com:dotnet/fsharp.git","clone_url":"https://github.com/dotnet/fsharp.git","svn_url":"https://github.com/dotnet/fsharp","homepage":"https://dotnet.microsoft.com/languages/fsharp","size":408129,"stargazers_count":4195,"watchers_count":4195,"language":"F#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":831,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1320,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["compiler","dotnet","fsharp","functional-programming","intellisense","netcore","tools","visual-studio"],"visibility":"public","forks":831,"open_issues":1320,"watchers":4195,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"[An issue](https://github.com/npgsql/efcore.pg/issues/2302) has been raised with using EF Core and F# that may point to a problem in the way F# generates LINQ expression trees.\r\n\r\nIn a nutshell, in the following query over an EF Core IQueryable, the `i` variable is represented by a simple ConstantExpression containing 8 (see full code sample below):\r\n\r\n```f#\r\nlet i = 8\r\ndb.Events.Where(fun x -> x.Data = i).ToList()\r\n```\r\n\r\nThe same code in C#:\r\n\r\n```c#\r\nvar i = 8;\r\n_ = db.Events.Where(x => x.Data == i).ToList();\r\n```\r\n\r\n... yields a very different expression tree: a FieldExpression is emitted for the closure object, with the object itself (the FieldExpression's Expression) being a ConstantExpression over a type that's identifiable as a closure (Attributes contains TypeAttributes.NestedPublic, and [CompilerGeneratedAttribute] is present).\r\n\r\nIn other words, the F# code above generates an expression that is identical to what's produced by the following C# code:\r\n\r\n```c#\r\n_ = db.Events.Where(x => x.Data == 8).ToList();\r\n```\r\n\r\nThe distinction between a simple constant and a closure parameter is very important to EF Core: while a simple ConstantExpression gets embedded as-is in the SQL, a closure reference gets generated as a SQL parameter, which gets sent outside of the SQL (the SQL gets a placeholder such as `@i`). This has a profound effect on performance, as databases typically reuse query plans when the SQL is the same (with different parameters), but when different constants are embedded in the SQL, they do not.\r\n\r\nI realize things work quite differently in F#, and it may not necessarily be right for the exact same tree shape to be produced as in C#. However, the distinction itself (between constant and \"closure parameter\") is quite important.\r\n\r\n/cc @NinoFloris @smitpatel @ajcvickers\r\n\r\n<details>\r\n<summary>F# runnable code sample</summary>\r\n\r\n```f#\r\nopen System\r\nopen System.Linq\r\nopen Microsoft.EntityFrameworkCore\r\nopen Microsoft.Extensions.Logging\r\n\r\n#nowarn \"20\"\r\n\r\ntype Event() =\r\n    member val Id: Guid = Guid.Empty with get, set\r\n    member val Data: int = 0 with get, set\r\n\r\ntype ApplicationDbContext() =\r\n    inherit DbContext()\r\n\r\n    override this.OnConfiguring(builder) =\r\n        builder\r\n            .UseSqlServer(@\"Server=localhost;Database=test;User=SA;Password=Abcd5678;Connect Timeout=60;ConnectRetryCount=0;Encrypt=false\")\r\n            .LogTo(Action<string>(Console.WriteLine), LogLevel.Information)\r\n            .EnableSensitiveDataLogging() |> ignore\r\n\r\n    [<DefaultValue>]\r\n    val mutable private events: DbSet<Event>\r\n\r\n    member this.Events\r\n        with public get () = this.events\r\n        and public set v = this.events <- v\r\n\r\n[<EntryPoint>]\r\nlet main args =\r\n    use db = new ApplicationDbContext()\r\n\r\n    db.Database.EnsureDeleted()\r\n    db.Database.EnsureCreated()\r\n\r\n    let i = 8\r\n    db.Events.Where(fun x -> x.Data = i).ToList()\r\n\r\n    0\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>C# runnable code sample</summary>\r\n\r\n```c#\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.Diagnostics;\r\nusing System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Microsoft.EntityFrameworkCore;\r\nusing Microsoft.Extensions.Logging;\r\n\r\nawait using var db = new BlogContext();\r\nawait db.Database.EnsureDeletedAsync();\r\nawait db.Database.EnsureCreatedAsync();\r\n\r\nvar i = 8;\r\n_ = db.Events.Where(x => x.Data == i).ToList();\r\n\r\npublic class BlogContext : DbContext\r\n{\r\n    public DbSet<Event> Events { get; set; }\r\n\r\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n        => optionsBuilder\r\n            .UseSqlServer(@\"Server=localhost;Database=test;User=SA;Password=Abcd5678;Connect Timeout=60;ConnectRetryCount=0;Encrypt=false\")\r\n            .LogTo(Console.WriteLine, LogLevel.Information)\r\n            .EnableSensitiveDataLogging();\r\n}\r\n\r\npublic class Event\r\n{\r\n    public Guid Id { get; set; }\r\n    public int Data { get; set; }\r\n}\r\n```\r\n\r\n</details>","reactions":{"url":"https://api.github.com/repos/dotnet/fsharp/issues/12841/reactions","total_count":8,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/dotnet/fsharp/issues/12841/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1146368308","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1146368308","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1146368308,"node_id":"IC_kwDOAPaMMs5EVDE0","user":{"login":"smitpatel","id":1528107,"node_id":"MDQ6VXNlcjE1MjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/1528107?v=4","gravatar_id":"","url":"https://api.github.com/users/smitpatel","html_url":"https://github.com/smitpatel","followers_url":"https://api.github.com/users/smitpatel/followers","following_url":"https://api.github.com/users/smitpatel/following{/other_user}","gists_url":"https://api.github.com/users/smitpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/smitpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smitpatel/subscriptions","organizations_url":"https://api.github.com/users/smitpatel/orgs","repos_url":"https://api.github.com/users/smitpatel/repos","events_url":"https://api.github.com/users/smitpatel/events{/privacy}","received_events_url":"https://api.github.com/users/smitpatel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-03T21:15:57Z","updated_at":"2022-06-03T21:15:57Z","body":"Restriction on the API would be that the argument to the method must be a constant value. (this also works in dynamic tree building scenario where user generally creates ConstantExpression).\r\n\r\nWe would also evaluate anything which composes over as long as it is evaluate-able using normal rules of maximum possible evaluation. \r\n\r\ne.g. `EF.Param(\"foo\").Length` would get fully evaluated and generated parameter of value `3` in expression tree.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1146368308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"smitpatel","id":1528107,"node_id":"MDQ6VXNlcjE1MjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/1528107?v=4","gravatar_id":"","url":"https://api.github.com/users/smitpatel","html_url":"https://github.com/smitpatel","followers_url":"https://api.github.com/users/smitpatel/followers","following_url":"https://api.github.com/users/smitpatel/following{/other_user}","gists_url":"https://api.github.com/users/smitpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/smitpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smitpatel/subscriptions","organizations_url":"https://api.github.com/users/smitpatel/orgs","repos_url":"https://api.github.com/users/smitpatel/repos","events_url":"https://api.github.com/users/smitpatel/events{/privacy}","received_events_url":"https://api.github.com/users/smitpatel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6739915420,"node_id":"UNLE_lADOAPaMMs5LFA_SzwAAAAGRuvKc","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6739915420","actor":{"login":"smitpatel","id":1528107,"node_id":"MDQ6VXNlcjE1MjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/1528107?v=4","gravatar_id":"","url":"https://api.github.com/users/smitpatel","html_url":"https://github.com/smitpatel","followers_url":"https://api.github.com/users/smitpatel/followers","following_url":"https://api.github.com/users/smitpatel/following{/other_user}","gists_url":"https://api.github.com/users/smitpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/smitpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smitpatel/subscriptions","organizations_url":"https://api.github.com/users/smitpatel/orgs","repos_url":"https://api.github.com/users/smitpatel/repos","events_url":"https://api.github.com/users/smitpatel/events{/privacy}","received_events_url":"https://api.github.com/users/smitpatel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2022-06-03T21:16:04Z","label":{"name":"needs-design","color":"fbca04"},"performed_via_github_app":null},{"id":6751987663,"node_id":"MIE_lADOAPaMMs5LFA_SzwAAAAGScyfP","url":"https://api.github.com/repos/dotnet/efcore/issues/events/6751987663","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-06-06T10:34:51Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"actor":{"login":"smitpatel","id":1528107,"node_id":"MDQ6VXNlcjE1MjgxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/1528107?v=4","gravatar_id":"","url":"https://api.github.com/users/smitpatel","html_url":"https://github.com/smitpatel","followers_url":"https://api.github.com/users/smitpatel/followers","following_url":"https://api.github.com/users/smitpatel/following{/other_user}","gists_url":"https://api.github.com/users/smitpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/smitpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smitpatel/subscriptions","organizations_url":"https://api.github.com/users/smitpatel/orgs","repos_url":"https://api.github.com/users/smitpatel/repos","events_url":"https://api.github.com/users/smitpatel/events{/privacy}","received_events_url":"https://api.github.com/users/smitpatel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-27T16:51:25Z","updated_at":"2022-06-27T16:51:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/28311","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/28311/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/28311/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/28311/events","html_url":"https://github.com/dotnet/efcore/issues/28311","id":1283750109,"node_id":"I_kwDOAPaMMs5MhHjd","number":28311,"title":"Intermittent Behavior With Linq .Any() / AnyAsync()","user":{"login":"JawzoD3TH","id":17617119,"node_id":"MDQ6VXNlcjE3NjE3MTE5","avatar_url":"https://avatars.githubusercontent.com/u/17617119?v=4","gravatar_id":"","url":"https://api.github.com/users/JawzoD3TH","html_url":"https://github.com/JawzoD3TH","followers_url":"https://api.github.com/users/JawzoD3TH/followers","following_url":"https://api.github.com/users/JawzoD3TH/following{/other_user}","gists_url":"https://api.github.com/users/JawzoD3TH/gists{/gist_id}","starred_url":"https://api.github.com/users/JawzoD3TH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JawzoD3TH/subscriptions","organizations_url":"https://api.github.com/users/JawzoD3TH/orgs","repos_url":"https://api.github.com/users/JawzoD3TH/repos","events_url":"https://api.github.com/users/JawzoD3TH/events{/privacy}","received_events_url":"https://api.github.com/users/JawzoD3TH/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2022-06-24T13:21:40Z","updated_at":"2022-06-28T03:26:07Z","closed_at":"2022-06-27T16:50:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I don't know if this only pertains to EntityFrameworkCore or is this a more of a general issue:\r\n\r\nWhen I say:\r\n`.Any(x => x.Date >= DateTime.Now.Date);`\r\n\r\nI sometimes get nothing even though there are records and I can iterate through them during debug.\r\n\r\nWhen I declare a separate obj:\r\n`DateTime dateTime = DateTime.Now.Date;`\r\n\r\nThen say:\r\n`.Any(x => x.Date >= dateTime);`\r\n\r\nIt works fine ðŸ™„","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/28311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/28311/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1374480257","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1374480257","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1374480257,"node_id":"IC_kwDOAPaMMs5R7OeB","user":{"login":"pinkfloydx33","id":395615,"node_id":"MDQ6VXNlcjM5NTYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/395615?v=4","gravatar_id":"","url":"https://api.github.com/users/pinkfloydx33","html_url":"https://github.com/pinkfloydx33","followers_url":"https://api.github.com/users/pinkfloydx33/followers","following_url":"https://api.github.com/users/pinkfloydx33/following{/other_user}","gists_url":"https://api.github.com/users/pinkfloydx33/gists{/gist_id}","starred_url":"https://api.github.com/users/pinkfloydx33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pinkfloydx33/subscriptions","organizations_url":"https://api.github.com/users/pinkfloydx33/orgs","repos_url":"https://api.github.com/users/pinkfloydx33/repos","events_url":"https://api.github.com/users/pinkfloydx33/events{/privacy}","received_events_url":"https://api.github.com/users/pinkfloydx33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-07T13:22:46Z","updated_at":"2023-01-07T13:22:46Z","body":"This would be really useful for us. We have a bunch of query building methods that dynamically craft an expression tree. We were ending up with constant values plugged directly into the query because we were using `Expression.Constant`. As a workaround I use the following helper method to force a closure over the value(s) passed into our builders:\r\n\r\n```csharp \r\npublic static Expression CloseOver<T>(T constant)\r\n   => ((Expression<Func<T>>)(() => constant)).Body;\r\n```\r\n\r\nWhich we then use in lieu of `Expression.Constant` when dealing with various input values. So far this seems to work w/r/t parametrization, however we end up with parameters all named `constant_{n}` (the name of the parameter/display class field) which is a bit unfortunate. I'm also not sure if it's guaranteed to work or not and it feels a tad bit hacky. \r\n\r\nIt'd be great if we had some built-in method we could `Expression.Call` instead that would properly recognize this and turn the inputs into parameters named accordingly. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1374480257/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pinkfloydx33","id":395615,"node_id":"MDQ6VXNlcjM5NTYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/395615?v=4","gravatar_id":"","url":"https://api.github.com/users/pinkfloydx33","html_url":"https://github.com/pinkfloydx33","followers_url":"https://api.github.com/users/pinkfloydx33/followers","following_url":"https://api.github.com/users/pinkfloydx33/following{/other_user}","gists_url":"https://api.github.com/users/pinkfloydx33/gists{/gist_id}","starred_url":"https://api.github.com/users/pinkfloydx33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pinkfloydx33/subscriptions","organizations_url":"https://api.github.com/users/pinkfloydx33/orgs","repos_url":"https://api.github.com/users/pinkfloydx33/repos","events_url":"https://api.github.com/users/pinkfloydx33/events{/privacy}","received_events_url":"https://api.github.com/users/pinkfloydx33/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1374523923","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1374523923","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1374523923,"node_id":"IC_kwDOAPaMMs5R7ZIT","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-07T15:55:42Z","updated_at":"2023-01-07T15:55:42Z","body":"@pinkfloydx33 your workaround above is fine and guaranteed to work - it just reproduces the normal non-dynamic thing that happens when a closure variable is captured. But it's true that the parameter name isn't pretty.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1374523923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8174941910,"node_id":"MEE_lADOAPaMMs5LFA_SzwAAAAHnQ7bW","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8174941910","actor":{"login":"pinkfloydx33","id":395615,"node_id":"MDQ6VXNlcjM5NTYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/395615?v=4","gravatar_id":"","url":"https://api.github.com/users/pinkfloydx33","html_url":"https://github.com/pinkfloydx33","followers_url":"https://api.github.com/users/pinkfloydx33/followers","following_url":"https://api.github.com/users/pinkfloydx33/following{/other_user}","gists_url":"https://api.github.com/users/pinkfloydx33/gists{/gist_id}","starred_url":"https://api.github.com/users/pinkfloydx33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pinkfloydx33/subscriptions","organizations_url":"https://api.github.com/users/pinkfloydx33/orgs","repos_url":"https://api.github.com/users/pinkfloydx33/repos","events_url":"https://api.github.com/users/pinkfloydx33/events{/privacy}","received_events_url":"https://api.github.com/users/pinkfloydx33/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-01-07T15:55:42Z","performed_via_github_app":null},{"id":8174941911,"node_id":"SE_lADOAPaMMs5LFA_SzwAAAAHnQ7bX","url":"https://api.github.com/repos/dotnet/efcore/issues/events/8174941911","actor":{"login":"pinkfloydx33","id":395615,"node_id":"MDQ6VXNlcjM5NTYxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/395615?v=4","gravatar_id":"","url":"https://api.github.com/users/pinkfloydx33","html_url":"https://github.com/pinkfloydx33","followers_url":"https://api.github.com/users/pinkfloydx33/followers","following_url":"https://api.github.com/users/pinkfloydx33/following{/other_user}","gists_url":"https://api.github.com/users/pinkfloydx33/gists{/gist_id}","starred_url":"https://api.github.com/users/pinkfloydx33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pinkfloydx33/subscriptions","organizations_url":"https://api.github.com/users/pinkfloydx33/orgs","repos_url":"https://api.github.com/users/pinkfloydx33/repos","events_url":"https://api.github.com/users/pinkfloydx33/events{/privacy}","received_events_url":"https://api.github.com/users/pinkfloydx33/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-01-07T15:55:42Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-08T16:02:12Z","updated_at":"2023-01-09T09:41:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614","repository_url":"https://api.github.com/repos/npgsql/efcore.pg","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614/labels{/name}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614/comments","events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614/events","html_url":"https://github.com/npgsql/efcore.pg/issues/2614","id":1525239200,"node_id":"I_kwDOA1URy85a6U2g","number":2614,"title":"Incorrect evaluation of Expression when update a query variable inside a loop.","user":{"login":"leshq","id":1540518,"node_id":"MDQ6VXNlcjE1NDA1MTg=","avatar_url":"https://avatars.githubusercontent.com/u/1540518?v=4","gravatar_id":"","url":"https://api.github.com/users/leshq","html_url":"https://github.com/leshq","followers_url":"https://api.github.com/users/leshq/followers","following_url":"https://api.github.com/users/leshq/following{/other_user}","gists_url":"https://api.github.com/users/leshq/gists{/gist_id}","starred_url":"https://api.github.com/users/leshq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leshq/subscriptions","organizations_url":"https://api.github.com/users/leshq/orgs","repos_url":"https://api.github.com/users/leshq/repos","events_url":"https://api.github.com/users/leshq/events{/privacy}","received_events_url":"https://api.github.com/users/leshq/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-05T13:32:27Z","updated_at":"2023-01-09T23:07:19Z","closed_at":"2023-01-09T23:07:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":55906763,"node_id":"MDEwOlJlcG9zaXRvcnk1NTkwNjc2Mw==","name":"efcore.pg","full_name":"npgsql/efcore.pg","private":false,"owner":{"login":"npgsql","id":5766497,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU3NjY0OTc=","avatar_url":"https://avatars.githubusercontent.com/u/5766497?v=4","gravatar_id":"","url":"https://api.github.com/users/npgsql","html_url":"https://github.com/npgsql","followers_url":"https://api.github.com/users/npgsql/followers","following_url":"https://api.github.com/users/npgsql/following{/other_user}","gists_url":"https://api.github.com/users/npgsql/gists{/gist_id}","starred_url":"https://api.github.com/users/npgsql/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npgsql/subscriptions","organizations_url":"https://api.github.com/users/npgsql/orgs","repos_url":"https://api.github.com/users/npgsql/repos","events_url":"https://api.github.com/users/npgsql/events{/privacy}","received_events_url":"https://api.github.com/users/npgsql/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/npgsql/efcore.pg","description":"Entity Framework Core provider for PostgreSQL","fork":false,"url":"https://api.github.com/repos/npgsql/efcore.pg","forks_url":"https://api.github.com/repos/npgsql/efcore.pg/forks","keys_url":"https://api.github.com/repos/npgsql/efcore.pg/keys{/key_id}","collaborators_url":"https://api.github.com/repos/npgsql/efcore.pg/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/npgsql/efcore.pg/teams","hooks_url":"https://api.github.com/repos/npgsql/efcore.pg/hooks","issue_events_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/events{/number}","events_url":"https://api.github.com/repos/npgsql/efcore.pg/events","assignees_url":"https://api.github.com/repos/npgsql/efcore.pg/assignees{/user}","branches_url":"https://api.github.com/repos/npgsql/efcore.pg/branches{/branch}","tags_url":"https://api.github.com/repos/npgsql/efcore.pg/tags","blobs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/npgsql/efcore.pg/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/npgsql/efcore.pg/git/refs{/sha}","trees_url":"https://api.github.com/repos/npgsql/efcore.pg/git/trees{/sha}","statuses_url":"https://api.github.com/repos/npgsql/efcore.pg/statuses/{sha}","languages_url":"https://api.github.com/repos/npgsql/efcore.pg/languages","stargazers_url":"https://api.github.com/repos/npgsql/efcore.pg/stargazers","contributors_url":"https://api.github.com/repos/npgsql/efcore.pg/contributors","subscribers_url":"https://api.github.com/repos/npgsql/efcore.pg/subscribers","subscription_url":"https://api.github.com/repos/npgsql/efcore.pg/subscription","commits_url":"https://api.github.com/repos/npgsql/efcore.pg/commits{/sha}","git_commits_url":"https://api.github.com/repos/npgsql/efcore.pg/git/commits{/sha}","comments_url":"https://api.github.com/repos/npgsql/efcore.pg/comments{/number}","issue_comment_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/comments{/number}","contents_url":"https://api.github.com/repos/npgsql/efcore.pg/contents/{+path}","compare_url":"https://api.github.com/repos/npgsql/efcore.pg/compare/{base}...{head}","merges_url":"https://api.github.com/repos/npgsql/efcore.pg/merges","archive_url":"https://api.github.com/repos/npgsql/efcore.pg/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/npgsql/efcore.pg/downloads","issues_url":"https://api.github.com/repos/npgsql/efcore.pg/issues{/number}","pulls_url":"https://api.github.com/repos/npgsql/efcore.pg/pulls{/number}","milestones_url":"https://api.github.com/repos/npgsql/efcore.pg/milestones{/number}","notifications_url":"https://api.github.com/repos/npgsql/efcore.pg/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/npgsql/efcore.pg/labels{/name}","releases_url":"https://api.github.com/repos/npgsql/efcore.pg/releases{/id}","deployments_url":"https://api.github.com/repos/npgsql/efcore.pg/deployments","created_at":"2016-04-10T15:26:37Z","updated_at":"2025-11-08T12:48:36Z","pushed_at":"2025-10-30T13:49:28Z","git_url":"git://github.com/npgsql/efcore.pg.git","ssh_url":"git@github.com:npgsql/efcore.pg.git","clone_url":"https://github.com/npgsql/efcore.pg.git","svn_url":"https://github.com/npgsql/efcore.pg","homepage":null,"size":8462,"stargazers_count":1715,"watchers_count":1715,"language":"C#","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":249,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":281,"license":{"key":"postgresql","name":"PostgreSQL License","spdx_id":"PostgreSQL","url":"https://api.github.com/licenses/postgresql","node_id":"MDc6TGljZW5zZTMx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["database","dotnet","entity-framework","entity-framework-core","npgsql","postgres","postgresql","sql"],"visibility":"public","forks":249,"open_issues":281,"watchers":1715,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Dear maintainers, \r\n\r\nI would like to share a weird behavior which I consider as a bug. Could you please evaluate it and explain the root cause?\r\n\r\n### Steps to reproduce\r\n\r\nThere is a simple table in database which contains a hierarchy of objects (2+ levels).\r\n\r\n![image](https://user-images.githubusercontent.com/1540518/210785660-e3a30cef-a6eb-4f1e-ab69-e80245991580.png)\r\n\r\n![image](https://user-images.githubusercontent.com/1540518/210785695-d54e1efb-7209-402f-9937-f1ce88000acd.png)\r\n\r\nDemo app loads those objects recursively. We've tried to reproduce the issue with in-memory database using EF's  in-memory provider and a with real Postgre DB using Npgsql.EntityFrameworkCore.PostgreSQL 7.0.1 package.\r\n\r\nIn-memory provider works as expected and issue is not reproducible.\r\nPostgreSQL provider works not as expected in some cases. See code example below. Issue is also reproducible with a synchronous version PostgreSQL package of API.\r\n\r\n#### Main body\r\n\r\n```csharp\r\n    static async Task Main(string[] args)\r\n    {\r\n        //  IN MEM\r\n        //  var context = new InMemContext();\r\n        //  var data = new[]\r\n        //  {\r\n        //      new IdAndParentId() { Id = 1, ParentId = null }, new IdAndParentId() { Id = 2, ParentId = 1 },\r\n        //      new IdAndParentId() { Id = 3, ParentId = 2 }\r\n        //  };\r\n        //\r\n        //  await context.Data.AddRangeAsync(data);\r\n        //  await context.SaveChangesAsync();\r\n        //  var data1 = await context.Data.Where(x => x.Id == 3).ToArrayAsync();\r\n        //  var result = await GetParentsRecursiveAsyncBad(context.Data,\r\n        //      data1, x => x.Id, x => x.ParentId);\r\n        // Console.WriteLine(string.Join(\",\", result.Select(x => x.Id)));\r\n        \r\n        // REAL DB\r\n        await using var context = new TestContext();\r\n        var data1 = await context.Data.Where(x => x.Id == 3).ToArrayAsync();\r\n\r\n// calling a version which works as expected\r\n        var result = await GetParentsRecursiveAsyncGood(context.Data,\r\n            data1, x => x.Id, x => x.ParentId);\r\n        Console.WriteLine(string.Join(\",\", result.Select(x => x.Id)));\r\n\r\n// calling a version which does not work as expected. \r\n        // var result = await GetParentsRecursiveAsyncBad(context.Data,\r\n        //     data1, x => x.Id, x => x.ParentId);\r\n        // Console.WriteLine(string.Join(\",\", result.Select(x => x.Id)));\r\n    }\r\n```\r\n\r\nThere are two methods, 'good' and 'bad': \r\n\r\n#### GetParentsRecursiveAsyncGood which works good and as expected:\r\n\r\n```csharp\r\n   private static async Task<IEnumerable<T>> GetParentsRecursiveAsyncGood<T, TKey>(\r\n        IQueryable<T> query,\r\n        IEnumerable<T> rootEntities,\r\n        Expression<Func<T, TKey>> keySelector,\r\n        Expression<Func<T, TKey>> parentKeySelector) where T : class\r\n    {\r\n        var enumerable = rootEntities as T[] ?? rootEntities.ToArray();\r\n        var alreadyLoaded = enumerable.Select(x => x).ToHashSet();\r\n        var toBeLoadedIds = enumerable\r\n            .AsQueryable()\r\n            .Select(parentKeySelector)\r\n            .Except(alreadyLoaded.AsQueryable().Select(keySelector))\r\n            .ToHashSet();\r\n\r\n        while (toBeLoadedIds.Any())\r\n        {\r\n           // this line solves the issue\r\n            var ids = toBeLoadedIds.ToArray();\r\n            Console.WriteLine(\"Should load:\");\r\n            foreach (var id in toBeLoadedIds)\r\n            {\r\n                Console.WriteLine($\"Id:{id}\");\r\n            }\r\n            var parents = await query.Where(ids.ContainsAsExpression(keySelector))\r\n                .ToListAsync();\r\n            Console.WriteLine($\"Loaded entities:\");\r\n            foreach (var parent in parents)\r\n            {\r\n                Console.WriteLine($\"Id:{keySelector.Compile().Invoke(parent)}\");\r\n            }\r\n\r\n            toBeLoadedIds.Clear();\r\n            foreach (var parent in parents)\r\n            {\r\n                alreadyLoaded.Add(parent);\r\n                var grandParentId = parentKeySelector.Compile().Invoke(parent);\r\n                if (grandParentId != null &&\r\n                    !alreadyLoaded.AsQueryable().Select(keySelector).Contains(grandParentId))\r\n                {\r\n                    toBeLoadedIds.Add(grandParentId);\r\n                }\r\n            }\r\n        }\r\n\r\n        return alreadyLoaded;\r\n    }\r\n```\r\n\r\nOutput after the 'good' method executed:\r\n\r\n```\r\nShould load: Id:2\r\nLoaded entities: Id:2\r\nShould load: Id:1\r\nLoaded entities: Id:1\r\n3,2,1\r\n```\r\n\r\n#### GetParentsRecursiveAsyncBad which leads to an endless loop:\r\n\r\n```csharp\r\nprivate static async Task<IEnumerable<T>> GetParentsRecursiveAsyncBad<T, TKey>(\r\n        IQueryable<T> query,\r\n        IEnumerable<T> rootEntities,\r\n        Expression<Func<T, TKey>> keySelector,\r\n        Expression<Func<T, TKey>> parentKeySelector) where T : class\r\n    {\r\n        var enumerable = rootEntities as T[] ?? rootEntities.ToArray();\r\n        var alreadyLoaded = enumerable.Select(x => x).ToHashSet();\r\n        var toBeLoadedIds = enumerable\r\n            .AsQueryable()\r\n            .Select(parentKeySelector)\r\n            .Except(alreadyLoaded.AsQueryable().Select(keySelector))\r\n            .ToHashSet();\r\n\r\n        while (toBeLoadedIds.Any())\r\n        {\r\n            Console.WriteLine(\"Should load:\");\r\n            foreach (var id in toBeLoadedIds)\r\n            {\r\n                Console.WriteLine($\"Id:{id}\");\r\n            }\r\n            var parents = await query.Where(toBeLoadedIds.ContainsAsExpression(keySelector))\r\n                .ToListAsync();\r\n            Console.WriteLine($\"Loaded entities:\");\r\n            foreach (var parent in parents)\r\n            {\r\n                Console.WriteLine($\"Id:{keySelector.Compile().Invoke(parent)}\");\r\n            }\r\n\r\n            toBeLoadedIds.Clear();\r\n            foreach (var parent in parents)\r\n            {\r\n                alreadyLoaded.Add(parent);\r\n                var grandParentId = parentKeySelector.Compile().Invoke(parent);\r\n                if (grandParentId != null &&\r\n                    !alreadyLoaded.AsQueryable().Select(keySelector).Contains(grandParentId))\r\n                {\r\n                    toBeLoadedIds.Add(grandParentId);\r\n                }\r\n            }\r\n        }\r\n\r\n        return alreadyLoaded;\r\n    }\r\n```\r\n\r\nOutput after the 'bad' method executed:\r\n\r\n```\r\nShould load: Id:2\r\nLoaded entities: Id:2\r\nShould load: Id:1\r\nLoaded entities: Id:2\r\nShould load: Id:1\r\nLoaded entities: Id:2\r\n```\r\n\r\n\r\n\r\n```csharp\r\n{\r\n...\r\n    private static Expression<Func<TItem, bool>> ContainsAsExpression<TItem, TId>(this IEnumerable<TId> ids,\r\n        Expression<Func<TItem, TId>> keySelector)\r\n    {\r\n        // This code produces the following expression: item => ids.Contains(id => keySelector(item) == id)\r\n\r\n        var methodInfo = GetMethodInfo<IEnumerable<TId>, TId, bool>((self, item) => self.Contains(item));\r\n        var sequenceExpression = Expression.Constant(ids);\r\n        var paramExpression = Expression.Parameter(typeof(TItem), keySelector.Parameters[0].Name);\r\n\r\n        var keySelectorExpression =\r\n            ParameterRebinder.ReplaceParameter(keySelector.Body, keySelector.Parameters[0], paramExpression);\r\n\r\n        var callExpression = Expression.Call(methodInfo, sequenceExpression, keySelectorExpression);\r\n        return Expression.Lambda<Func<TItem, bool>>(callExpression, paramExpression);\r\n    }\r\n\r\n    private static MethodInfo GetMethodInfo<TArg1, TArg2, TResult>(\r\n        this Expression<Func<TArg1, TArg2, TResult>> expression)\r\n    {\r\n        if (!(expression.Body is MethodCallExpression member))\r\n        {\r\n            throw new ArgumentException($\"Expression {expression} is not a method\", nameof(expression));\r\n        }\r\n\r\n        return member.Method;\r\n    }\r\n}\r\n\r\ninternal class ParameterRebinder : ExpressionVisitor\r\n{\r\n    private readonly Dictionary<ParameterExpression, Expression> _map;\r\n\r\n    private ParameterRebinder(Dictionary<ParameterExpression, Expression> map)\r\n    {\r\n        _map = map ?? new Dictionary<ParameterExpression, Expression>();\r\n    }\r\n\r\n    public static Expression ReplaceParameters(Dictionary<ParameterExpression, Expression> map, Expression exp)\r\n    {\r\n        return new ParameterRebinder(map).Visit(exp);\r\n    }\r\n\r\n    public static Expression ReplaceParameter(Expression expression, ParameterExpression parameterExpression,\r\n        Expression newExpression) =>\r\n        ReplaceParameters(new Dictionary<ParameterExpression, Expression> { { parameterExpression, newExpression } },\r\n            expression);\r\n\r\n    protected override Expression VisitParameter(ParameterExpression p)\r\n    {\r\n        if (_map.TryGetValue(p, out var replacement))\r\n        {\r\n            return base.Visit(replacement);\r\n        }\r\n\r\n        return base.VisitParameter(p);\r\n    }\r\n}\r\n```\r\n\r\n### The issue\r\nDescribe what is not working as expected.\r\n\r\n'Bad' version does not update toBeLoadedIds collection and always uses the initial collection of IDs (top level of the hierarchy) which leads to endless loop.\r\n\"Good\" version contains an additional line which solves the issue:\r\n\r\n`var ids = toBeLoadedIds.ToArray();`\r\n\r\nI suppose that provider does not evaluate the expression properly when a collection of IDs which is passed to '.Where' method can be changed inside the loop. I am not sure if it is a correct behavior or a bug in 7.0, because same code worked fine on .Net Core 3.1. We've recently upgraded to 7.0 and faced the issue for the first time.\r\n\r\n### Further technical details\r\n\r\nNpgsql version: Npgsql.EntityFrameworkCore.PostgreSQL 7.0.1\r\nPostgreSQL version: 12.2\r\nOperating system: docker container\r\n\r\n","reactions":{"url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/npgsql/efcore.pg/issues/2614/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"Liero","id":3494407,"node_id":"MDQ6VXNlcjM0OTQ0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3494407?v=4","gravatar_id":"","url":"https://api.github.com/users/Liero","html_url":"https://github.com/Liero","followers_url":"https://api.github.com/users/Liero/followers","following_url":"https://api.github.com/users/Liero/following{/other_user}","gists_url":"https://api.github.com/users/Liero/gists{/gist_id}","starred_url":"https://api.github.com/users/Liero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Liero/subscriptions","organizations_url":"https://api.github.com/users/Liero/orgs","repos_url":"https://api.github.com/users/Liero/repos","events_url":"https://api.github.com/users/Liero/events{/privacy}","received_events_url":"https://api.github.com/users/Liero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-25T12:00:53Z","updated_at":"2023-08-25T12:00:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31552","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/31552/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/31552/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/31552/events","html_url":"https://github.com/dotnet/efcore/issues/31552","id":1866920770,"node_id":"I_kwDOAPaMMs5vRvNC","number":31552,"title":"Adding EF.Constant to prevent parameterization in query","user":{"login":"Liero","id":3494407,"node_id":"MDQ6VXNlcjM0OTQ0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/3494407?v=4","gravatar_id":"","url":"https://api.github.com/users/Liero","html_url":"https://github.com/Liero","followers_url":"https://api.github.com/users/Liero/followers","following_url":"https://api.github.com/users/Liero/following{/other_user}","gists_url":"https://api.github.com/users/Liero/gists{/gist_id}","starred_url":"https://api.github.com/users/Liero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Liero/subscriptions","organizations_url":"https://api.github.com/users/Liero/orgs","repos_url":"https://api.github.com/users/Liero/repos","events_url":"https://api.github.com/users/Liero/events{/privacy}","received_events_url":"https://api.github.com/users/Liero/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""},{"id":1675384372,"node_id":"MDU6TGFiZWwxNjc1Mzg0Mzcy","url":"https://api.github.com/repos/dotnet/efcore/labels/area-query","name":"area-query","color":"32b37b","default":false,"description":""},{"id":4725071141,"node_id":"LA_kwDOAPaMMs8AAAABGaLdJQ","url":"https://api.github.com/repos/dotnet/efcore/labels/area-primitive-collections","name":"area-primitive-collections","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/186","html_url":"https://github.com/dotnet/efcore/milestone/186","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/186/labels","id":10201144,"node_id":"MI_kwDOAPaMMs4Am6g4","number":186,"title":"8.0.2","description":null,"creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"closed","created_at":"2023-11-17T09:03:59Z","updated_at":"2024-05-05T12:55:36Z","due_on":null,"closed_at":"2024-04-09T08:40:11Z"},"comments":15,"created_at":"2023-08-25T12:00:52Z","updated_at":"2025-06-15T19:50:53Z","closed_at":"2024-01-04T15:09:59Z","author_association":"NONE","type":{"id":1092406,"node_id":"IT_kwDOAIt-yc4AEKs2","name":"Feature","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-10-08T09:10:05Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"# What problem are you trying to solve?\r\n\r\n\"Query is fast in SSMS but slow in production\" kind of performance issues, where query is parametrized by EF and SQL Server chooses  query execution plan suboptimal for concrete parameter value.\r\n\r\nFor example:\r\n\r\n```sql\r\nSELECT TOP(1000) * FROM dbo.MyView  -- fast\r\n```\r\n\r\n```csharp\r\nint pageSize = 60\r\nif (loadMore) pageSize = 1000;\r\nctx.MyView.Take(pageSize).ToArray();  //slow when pageSize is 1000\r\n```\r\n\r\n# Describe the solution you'd like \r\n\r\nIntroduce an EF.Constant() mechanism, which is identified by EF Core and prevents parameterization.\r\nThis goes hand in hand with #28151 \r\n\r\n```csharp\r\nctx.MyView.Take(() => EF.Contant(pageSize)).ToArray();\r\nctx.MyView.Where(b => b.Name == EF.Constant(\"bar\"))\r\n```\r\n\r\nAlternatively, add support for query hints like RECOMPILE or OPTIMIZE FOR\r\n/cc @dsyme @NinoFloris @roji ","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/31552/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/31552/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1700851120","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1700851120","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1700851120,"node_id":"IC_kwDOAPaMMs5lYO2w","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-31T11:19:17Z","updated_at":"2023-08-31T11:19:17Z","body":"Do this together with #31552, which does the opposite, adding EF.Constant to force constantization.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1700851120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1828812416","html_url":"https://github.com/dotnet/efcore/issues/28151#issuecomment-1828812416","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28151","id":1828812416,"node_id":"IC_kwDOAPaMMs5tAXaA","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T23:42:12Z","updated_at":"2024-01-04T16:32:47Z","body":"Thinink about https://github.com/dotnet/efcore/issues/28151#issuecomment-1146368308:\r\n\r\n> We would also evaluate anything which composes over as long as it is evaluate-able using normal rules of maximum possible evaluation.\r\n>\r\n> e.g. EF.Param(\"foo\").Length would get fully evaluated and generated parameter of value 3 in expression tree\r\n\r\nEvaluating operators composed over EF.Param seems unnecessary, since they'd get evaluated anyway without it; in other words, `p.Length` already gets fully parameterized, so there's no reason to use EF.Param() here in the first place.\r\n\r\nThere might conceivably also be cases where a user may want to block evaluation at a higher level, i.e. ensuring that some part of the tree is sent as a parameter, and **not** subsumed into a larger parameter (as contrived as it sounds, this may be helpful to optimize certain SQL queries).\r\n\r\n(plus it's a bit more difficult implementation-wise to allow EF.Param() to be evaluated within a larger subtree)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1828812416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11077200891,"node_id":"REFE_lADOAPaMMs5LFA_SzwAAAAKUQKv7","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077200891","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1f50fa88024b35c62ba4fd9562282b3a612e8182","commit_url":"https://api.github.com/repos/roji/efcore/commits/1f50fa88024b35c62ba4fd9562282b3a612e8182","created_at":"2023-11-27T23:54:17Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T23:56:30Z","updated_at":"2023-11-27T23:56:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32427","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/32427/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/32427/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/32427/events","html_url":"https://github.com/dotnet/efcore/pull/32427","id":2013335419,"node_id":"PR_kwDOAPaMMs5gft_5","number":32427,"title":"Implement EF.Parameter","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-11-27T23:56:30Z","updated_at":"2023-11-28T12:10:20Z","closed_at":"2023-11-28T12:10:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/32427","html_url":"https://github.com/dotnet/efcore/pull/32427","diff_url":"https://github.com/dotnet/efcore/pull/32427.diff","patch_url":"https://github.com/dotnet/efcore/pull/32427.patch","merged_at":"2023-11-28T12:10:19Z"},"body":"This is almost a copy-paste of the EF.Constant implementation (#31552) (I did them in separate PRs so that EF.Constant may be backported more easily).\r\n\r\nCloses #28151\r\n\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/32427/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11077213425,"node_id":"DEME_lADOAPaMMs5LFA_SzwAAAAKUQNzx","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077213425","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-27T23:56:41Z","milestone":{"title":"Backlog"},"performed_via_github_app":null},{"id":11077213428,"node_id":"MIE_lADOAPaMMs5LFA_SzwAAAAKUQNz0","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077213428","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-27T23:56:42Z","milestone":{"title":"9.0.0"},"performed_via_github_app":null},{"id":11077213517,"node_id":"AE_lADOAPaMMs5LFA_SzwAAAAKUQN1N","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077213517","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-11-27T23:56:43Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":11077213907,"node_id":"LE_lADOAPaMMs5LFA_SzwAAAAKUQN7T","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077213907","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-11-27T23:56:47Z","label":{"name":"closed-fixed","color":"777777"},"performed_via_github_app":null},{"id":11077225816,"node_id":"RTE_lADOAPaMMs5LFA_SzwAAAAKUQQ1Y","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077225816","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-11-27T23:58:52Z","rename":{"from":"Consider adding EF.Param to force parameterization in query","to":"Add EF.Parameter to force parameterization in query"},"performed_via_github_app":null},{"id":11077340177,"node_id":"REFE_lADOAPaMMs5LFA_SzwAAAAKUQswR","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11077340177","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7ed714a7d0f19e9a10429af51490acd73ab9731d","commit_url":"https://api.github.com/repos/roji/efcore/commits/7ed714a7d0f19e9a10429af51490acd73ab9731d","created_at":"2023-11-28T00:17:44Z","performed_via_github_app":null}]