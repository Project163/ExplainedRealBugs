[{"id":11938781181,"node_id":"LE_lADOAPaMMs6AkINYzwAAAALHm1f9","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11938781181","actor":{"login":"tivtag","id":187651,"node_id":"MDQ6VXNlcjE4NzY1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/187651?v=4","gravatar_id":"","url":"https://api.github.com/users/tivtag","html_url":"https://github.com/tivtag","followers_url":"https://api.github.com/users/tivtag/followers","following_url":"https://api.github.com/users/tivtag/following{/other_user}","gists_url":"https://api.github.com/users/tivtag/gists{/gist_id}","starred_url":"https://api.github.com/users/tivtag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tivtag/subscriptions","organizations_url":"https://api.github.com/users/tivtag/orgs","repos_url":"https://api.github.com/users/tivtag/repos","events_url":"https://api.github.com/users/tivtag/events{/privacy}","received_events_url":"https://api.github.com/users/tivtag/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-27T15:50:21Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1967078980","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1967078980","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1967078980,"node_id":"IC_kwDOAPaMMs51Pz5E","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-27T16:47:35Z","updated_at":"2024-02-27T16:47:35Z","body":"/cc @AndriySvyryd ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1967078980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11939891524,"node_id":"MEE_lADOAPaMMs6AkINYzwAAAALHrElE","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11939891524","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-02-27T16:47:37Z","performed_via_github_app":null},{"id":11939891547,"node_id":"SE_lADOAPaMMs6AkINYzwAAAALHrElb","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11939891547","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-02-27T16:47:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1967326996","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1967326996","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1967326996,"node_id":"IC_kwDOAPaMMs51QwcU","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-27T18:12:34Z","updated_at":"2024-02-27T18:12:34Z","body":"There are no known issues corresponding to that stack trace, so we will need a repro to investigate. If you are concerned about privacy you can send it to Andriy.Svyryd at microsoft.com\r\n\r\nDoes this work on a different version?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1967326996/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1968987625","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1968987625","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1968987625,"node_id":"IC_kwDOAPaMMs51XF3p","user":{"login":"tivtag","id":187651,"node_id":"MDQ6VXNlcjE4NzY1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/187651?v=4","gravatar_id":"","url":"https://api.github.com/users/tivtag","html_url":"https://github.com/tivtag","followers_url":"https://api.github.com/users/tivtag/followers","following_url":"https://api.github.com/users/tivtag/following{/other_user}","gists_url":"https://api.github.com/users/tivtag/gists{/gist_id}","starred_url":"https://api.github.com/users/tivtag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tivtag/subscriptions","organizations_url":"https://api.github.com/users/tivtag/orgs","repos_url":"https://api.github.com/users/tivtag/repos","events_url":"https://api.github.com/users/tivtag/events{/privacy}","received_events_url":"https://api.github.com/users/tivtag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-28T13:29:53Z","updated_at":"2024-02-28T13:29:53Z","body":"> Andriy.Svyryd at microsoft.com\r\n\r\nHello, I have sent you two emails with a repro sample.\r\n\r\nThe issue doesn't seem to be with EFC Tool, since even executing an exciting migration of that domain model triggers the Out of Memory issue.\r\n\r\nI remember creating a new Initial Migration without issue with .NET 8.0.0/EFC 8.0.0.\r\n\r\nThank you!\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1968987625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tivtag","id":187651,"node_id":"MDQ6VXNlcjE4NzY1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/187651?v=4","gravatar_id":"","url":"https://api.github.com/users/tivtag","html_url":"https://github.com/tivtag","followers_url":"https://api.github.com/users/tivtag/followers","following_url":"https://api.github.com/users/tivtag/following{/other_user}","gists_url":"https://api.github.com/users/tivtag/gists{/gist_id}","starred_url":"https://api.github.com/users/tivtag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tivtag/subscriptions","organizations_url":"https://api.github.com/users/tivtag/orgs","repos_url":"https://api.github.com/users/tivtag/repos","events_url":"https://api.github.com/users/tivtag/events{/privacy}","received_events_url":"https://api.github.com/users/tivtag/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1969581099","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1969581099","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1969581099,"node_id":"IC_kwDOAPaMMs51ZWwr","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-28T18:22:53Z","updated_at":"2024-02-28T18:22:53Z","body":"@tivtag Thanks. Confirmed this is a regression in 8.0.2","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1969581099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11955620398,"node_id":"MEE_lADOAPaMMs6AkINYzwAAAALInEou","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11955620398","actor":{"login":"tivtag","id":187651,"node_id":"MDQ6VXNlcjE4NzY1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/187651?v=4","gravatar_id":"","url":"https://api.github.com/users/tivtag","html_url":"https://github.com/tivtag","followers_url":"https://api.github.com/users/tivtag/followers","following_url":"https://api.github.com/users/tivtag/following{/other_user}","gists_url":"https://api.github.com/users/tivtag/gists{/gist_id}","starred_url":"https://api.github.com/users/tivtag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tivtag/subscriptions","organizations_url":"https://api.github.com/users/tivtag/orgs","repos_url":"https://api.github.com/users/tivtag/repos","events_url":"https://api.github.com/users/tivtag/events{/privacy}","received_events_url":"https://api.github.com/users/tivtag/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-02-28T18:22:55Z","performed_via_github_app":null},{"id":11955620418,"node_id":"SE_lADOAPaMMs6AkINYzwAAAALInEpC","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11955620418","actor":{"login":"tivtag","id":187651,"node_id":"MDQ6VXNlcjE4NzY1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/187651?v=4","gravatar_id":"","url":"https://api.github.com/users/tivtag","html_url":"https://github.com/tivtag","followers_url":"https://api.github.com/users/tivtag/followers","following_url":"https://api.github.com/users/tivtag/following{/other_user}","gists_url":"https://api.github.com/users/tivtag/gists{/gist_id}","starred_url":"https://api.github.com/users/tivtag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tivtag/subscriptions","organizations_url":"https://api.github.com/users/tivtag/orgs","repos_url":"https://api.github.com/users/tivtag/repos","events_url":"https://api.github.com/users/tivtag/events{/privacy}","received_events_url":"https://api.github.com/users/tivtag/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-02-28T18:22:55Z","performed_via_github_app":null},{"id":11955623405,"node_id":"LE_lADOAPaMMs6AkINYzwAAAALInFXt","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11955623405","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-28T18:23:14Z","label":{"name":"regression","color":"ff1fff"},"performed_via_github_app":null},{"id":11955623411,"node_id":"LE_lADOAPaMMs6AkINYzwAAAALInFXz","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11955623411","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-28T18:23:14Z","label":{"name":"area-model-building","color":"32b37b"},"performed_via_github_app":null},{"id":11955624011,"node_id":"AE_lADOAPaMMs6AkINYzwAAAALInFhL","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11955624011","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-02-28T18:23:17Z","assignee":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1969668284","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1969668284","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1969668284,"node_id":"IC_kwDOAPaMMs51ZsC8","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-28T19:08:52Z","updated_at":"2024-02-28T19:08:52Z","body":"As a workaround, add this to your app `AppContext.SetSwitch(\"Microsoft.EntityFrameworkCore.Issue32422\", true);`","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1969668284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11972512288,"node_id":"REFE_lADOAPaMMs6AkINYzwAAAALJngog","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11972512288","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c197fde6a4cff6b10b2605168e4e1bae158da730","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/c197fde6a4cff6b10b2605168e4e1bae158da730","created_at":"2024-02-29T23:16:13Z","performed_via_github_app":null},{"id":11972513667,"node_id":"LE_lADOAPaMMs6AkINYzwAAAALJng-D","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11972513667","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-29T23:16:25Z","label":{"name":"closed-fixed","color":"777777"},"performed_via_github_app":null},{"id":11972513849,"node_id":"UNE_lADOAPaMMs6AkINYzwAAAALJnhA5","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11972513849","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2024-02-29T23:16:27Z","assignee":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":11972514868,"node_id":"MIE_lADOAPaMMs6AkINYzwAAAALJnhQ0","url":"https://api.github.com/repos/dotnet/efcore/issues/events/11972514868","actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-02-29T23:16:39Z","milestone":{"title":"8.0.4"},"performed_via_github_app":null},{"actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-01T01:17:07Z","updated_at":"2024-03-01T01:17:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33211","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/33211/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/33211/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/33211/events","html_url":"https://github.com/dotnet/efcore/pull/33211","id":2162375703,"node_id":"PR_kwDOAPaMMs5oWqX_","number":33211,"title":"[release/8.0] Reduce memory usage during relationship cycle detection by keeping track of visited properties whenever there are FK forks","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-03-01T01:17:06Z","updated_at":"2024-03-05T20:46:38Z","closed_at":"2024-03-05T20:46:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/33211","html_url":"https://github.com/dotnet/efcore/pull/33211","diff_url":"https://github.com/dotnet/efcore/pull/33211.diff","patch_url":"https://github.com/dotnet/efcore/pull/33211.patch","merged_at":"2024-03-05T20:46:37Z"},"body":"Fixes #33176\r\n\r\n### Description\r\n\r\nDuring model building, when calculating certain aspects of entity properties, we default to the value on the corresponding principal property if the current property is part of a foreign key. This process is repeated until a non-default value is found or we determine that the foreign keys form a cycle.\r\n\r\nIn 8.0.2 we improved our cycle detection to detect cycles even when starting on a property that itself is not part of the cycle and we also started examining all the branches to increase the chance of finding a non-default value.\r\n\r\nThis is the algorithm that was used:\r\n * Consider the properties and foreign keys to be vertices and edges of a directed multigraph correspondingly.\r\n * We traverse the graph using BFS.\r\n * In an effort to save memory, we don't store all the visited properties, instead we just pick one and use it as reference when determining whether we've visited a property alredy.\r\n \t* Since the one we picked might have not been on the cycle we pick a new one every P traversal, where P is a prime number that is increased each time, we reach it. It needs to be increased so we are able to detect cycles of arbitrary length and it needs to be prime to ensure that when traversing graphs that have multiple overlapping cycles at some point, we'll pick a property that's contained in all of the overlapping cycles and all visitation branches terminate.\r\n\r\nAFAIK the algorithm is correct, but for some models it needs a traversal queue that doesn't fit in memory. Consider the model in the added test, where `BaseEntity` has an owned property `OwnedType` with a nested owned property `NestedOwnedType` and it also has 4 derived types in TPT hierarchy. For this type of hierarchy, we create a foreign key between the derived type and the base using the primary key properties, this effectively creates a 1-length cycle. So, if we start traversing this model from the `NestedOwnedType` when we get to `BaseEntity` P is 7 and on each level of the traversal it will recursively branch 4 times. And since the starting property is not on any cycle a new reference property needs to be used and P needs to be increased to 11. So it will take 4^(7 - 2 + 11) = 2^17 visits for the method to give up and since it uses BFS, the queue will need to be able to accommodate 2^15 nodes, which is way too large for just 7 entity types.\r\n\r\nTo fix this we'll start recording visited properties as soon as we hit a branching path. With this we'll still not use any additional memory if there are no branches, otherwise, we'll use at most O(n) where n is the number of entity types in the model.\r\n\r\n### Customer impact\r\n\r\nUsers that hit this scenario will get an `OutOfMemoryException` during model building. Theoretically, they could work around this by explicitly specifying a `null` ValueConverter on every primary key property, but this isn't practical, and the exception has no information that could help them. There is an `AppContext` switch that they could use to disable the previous fix, however if they also have cycles in the model that are longer than 2, they'll just hit a different exception.\r\n\r\n### How found\r\n\r\nCustomer reported on 8.0.2. So far there's been only 1 report.\r\n\r\nThe most likely scenario where this issue manifests is in TPT mapping with 4 or more derived types where the base type is the principal of a relationship chain at least 2 entity types long. While TPT mapping is not very common, if it's used it's likely that there will be 4 or more derived types and relationship chains of length 2 or more are also common. \r\n\r\n### Regression\r\n\r\nYes, from 8.0.1, introduced in https://github.com/dotnet/efcore/pull/32598\r\n\r\n### Testing\r\n\r\nTests added.\r\n\r\n### Risk\r\n\r\nLow, the main logic is not changed. Quirk added.","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33211/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/33211/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12019474943,"node_id":"REFE_lADOAPaMMs6AkINYzwAAAALMaqH_","url":"https://api.github.com/repos/dotnet/efcore/issues/events/12019474943","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b0faa525f3373005d0799bf749bb9e9b1656cf60","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/b0faa525f3373005d0799bf749bb9e9b1656cf60","created_at":"2024-03-05T20:46:39Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1979786388","html_url":"https://github.com/dotnet/efcore/issues/33176#issuecomment-1979786388","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/33176","id":1979786388,"node_id":"IC_kwDOAPaMMs52ASSU","user":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-05T23:03:27Z","updated_at":"2024-03-05T23:03:27Z","body":"merged to release/8.0, closing","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1979786388/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12020570247,"node_id":"CE_lADOAPaMMs6AkINYzwAAAALMe1iH","url":"https://api.github.com/repos/dotnet/efcore/issues/events/12020570247","actor":{"login":"maumar","id":1591930,"node_id":"MDQ6VXNlcjE1OTE5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1591930?v=4","gravatar_id":"","url":"https://api.github.com/users/maumar","html_url":"https://github.com/maumar","followers_url":"https://api.github.com/users/maumar/followers","following_url":"https://api.github.com/users/maumar/following{/other_user}","gists_url":"https://api.github.com/users/maumar/gists{/gist_id}","starred_url":"https://api.github.com/users/maumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maumar/subscriptions","organizations_url":"https://api.github.com/users/maumar/orgs","repos_url":"https://api.github.com/users/maumar/repos","events_url":"https://api.github.com/users/maumar/events{/privacy}","received_events_url":"https://api.github.com/users/maumar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-05T23:03:27Z","state_reason":null,"performed_via_github_app":null},{"id":12040530620,"node_id":"LE_lADOAPaMMs6AkINYzwAAAALNq-q8","url":"https://api.github.com/repos/dotnet/efcore/issues/events/12040530620","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-07T11:03:22Z","label":{"name":"Servicing-approved","color":"048708"},"performed_via_github_app":null},{"actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-08T00:48:44Z","updated_at":"2024-03-08T00:48:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33266","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/33266/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/33266/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/33266/events","html_url":"https://github.com/dotnet/efcore/issues/33266","id":2173302469,"node_id":"I_kwDOAPaMMs6BifbF","number":33266,"title":"EFCore 8.0.2 model building comsumes GB of memory and stalls","user":{"login":"HeseRula","id":143494672,"node_id":"U_kgDOCI2OEA","avatar_url":"https://avatars.githubusercontent.com/u/143494672?v=4","gravatar_id":"","url":"https://api.github.com/users/HeseRula","html_url":"https://github.com/HeseRula","followers_url":"https://api.github.com/users/HeseRula/followers","following_url":"https://api.github.com/users/HeseRula/following{/other_user}","gists_url":"https://api.github.com/users/HeseRula/gists{/gist_id}","starred_url":"https://api.github.com/users/HeseRula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeseRula/subscriptions","organizations_url":"https://api.github.com/users/HeseRula/orgs","repos_url":"https://api.github.com/users/HeseRula/repos","events_url":"https://api.github.com/users/HeseRula/events{/privacy}","received_events_url":"https://api.github.com/users/HeseRula/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-07T08:42:54Z","updated_at":"2025-06-16T08:51:22Z","closed_at":"2024-03-08T00:48:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Something appears to have changed in the model-building in ef 8.0.2 over 8.0.1\r\n\r\nWhen running the following command\r\n\r\n`dotnet ef dbcontext optimize -o Repositories\\EfCore\\CompiledModels -n \"Infrastructure.Repositories.EfCore.Contexts\"`\r\n\r\nthe process now consumes GB's of memory and pretty much just stalls. The model is very complex and does have cyclic references.\r\nWhen taking a memory dump, there are GB's of data in\r\n\r\n`Queue<ValueTuple<Microsoft.EntityFrameworkCore.Metadata.Internal.Property,Microsoft.EntityFrameworkCore.Metadata.Internal.Property,Int32,Int32>>`\r\n\r\nSame thing happens if we call `context.GetService<IDesignTimeModel>().Model` in our code.\r\n\r\nThis has changed since 8.0.1, where it works fine.\r\n\r\nTarget framework is net8.0\r\nEF.core is version 8.0.2\r\nOS version is win10\r\nIDE is Visual Studio Version 17.9.1\r\n\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/33266/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"actor":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-15T23:25:37Z","updated_at":"2024-03-15T23:25:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33274","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/33274/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/33274/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/33274/events","html_url":"https://github.com/dotnet/efcore/issues/33274","id":2176783957,"node_id":"I_kwDOAPaMMs6BvxZV","number":33274,"title":"Model creation performance regresssion from 8.0.1 to 8.0.2","user":{"login":"ascott18","id":5017521,"node_id":"MDQ6VXNlcjUwMTc1MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5017521?v=4","gravatar_id":"","url":"https://api.github.com/users/ascott18","html_url":"https://github.com/ascott18","followers_url":"https://api.github.com/users/ascott18/followers","following_url":"https://api.github.com/users/ascott18/following{/other_user}","gists_url":"https://api.github.com/users/ascott18/gists{/gist_id}","starred_url":"https://api.github.com/users/ascott18/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ascott18/subscriptions","organizations_url":"https://api.github.com/users/ascott18/orgs","repos_url":"https://api.github.com/users/ascott18/repos","events_url":"https://api.github.com/users/ascott18/events{/privacy}","received_events_url":"https://api.github.com/users/ascott18/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1900941630,"node_id":"MDU6TGFiZWwxOTAwOTQxNjMw","url":"https://api.github.com/repos/dotnet/efcore/labels/area-model-building","name":"area-model-building","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-03-08T21:18:15Z","updated_at":"2025-06-16T08:51:20Z","closed_at":"2024-03-15T23:25:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## File a bug\r\n\r\nThe construction of the Model in the below code executes in the following durations on different versions of EF:\r\n\r\n- 8.0.1: **< 1 second**\r\n- 8.0.2: **1 minute 30 seconds**\r\n- 9.0.0-preview.1.24081.2: **2 minutes 50 seconds**\r\n\r\nIt is a vastly simplified model from my real application (the real application has far more intricate relations between models than the linear vertical hierarchy in the below code), but it replicates the same issue for the same reasons: The queue in `Property.GetConversion` grows extremely large:\r\n\r\n![image](https://github.com/dotnet/efcore/assets/5017521/bf8c7060-c3d7-47cd-a5eb-f4644066cb15)\r\n\r\nAgainst my actual application, at some random points that I broke in with the debugger I saw it as large as 2 million items:\r\n![image](https://github.com/dotnet/efcore/assets/5017521/b678a89a-bd0c-4efd-aacf-f889434fde38)\r\n\r\n### Include your code\r\n\r\n```C#\r\n\r\nusing System.ComponentModel.DataAnnotations.Schema;\r\nusing System.Diagnostics;\r\nusing Microsoft.EntityFrameworkCore;\r\n\r\nvar stopwatch = Stopwatch.StartNew();\r\n\r\nvar context = new AppDbContext();\r\ncontext.Model.ToString();\r\n\r\nConsole.WriteLine(stopwatch.Elapsed);\r\n\r\npublic class Tenant\r\n{\r\n\tpublic int TenantId { get; set; }\r\n\r\n\tpublic string Name { get; set; }\r\n}\r\n\r\npublic class ApplicationUser : TenantedBase\r\n{\r\n\tpublic string UserName { get; set; }\r\n}\r\n\r\n[PrimaryKey(nameof(TenantId), nameof(Id))]\r\npublic abstract class TenantedBase\r\n{\r\n\tpublic int Id { get; set; }\r\n\t\r\n\tpublic int TenantId { get; set; }\r\n\tpublic Tenant Tenant { get; set; }\r\n\t\r\n\t[ForeignKey(\"TenantId,ModifiedById\")]\r\n\tpublic ApplicationUser ModifiedBy { get; set; }\r\n\tpublic int? ModifiedById { get; set; }\r\n\r\n\t[ForeignKey(\"TenantId,CreatedById\")]\r\n\tpublic ApplicationUser CreatedBy { get; set; }\r\n\tpublic int? CreatedById { get; set; }\r\n}\r\n\r\npublic class Entity1 :  TenantedBase { }\r\npublic class Entity2 :  TenantedBase { public int Entity1Id {get;set;} [ForeignKey(\"TenantId,Entity1Id\")] public Entity1 Entity1 {get;set;} }\r\npublic class Entity3 :  TenantedBase { public int Entity2Id {get;set;} [ForeignKey(\"TenantId,Entity2Id\")] public Entity2 Entity2 {get;set;} }\r\npublic class Entity4 :  TenantedBase { public int Entity3Id {get;set;} [ForeignKey(\"TenantId,Entity3Id\")] public Entity3 Entity3 {get;set;} }\r\npublic class Entity5 :  TenantedBase { public int Entity4Id {get;set;} [ForeignKey(\"TenantId,Entity4Id\")] public Entity4 Entity4 {get;set;} }\r\npublic class Entity6 :  TenantedBase { public int Entity5Id {get;set;} [ForeignKey(\"TenantId,Entity5Id\")] public Entity5 Entity5 {get;set;} }\r\npublic class Entity7 :  TenantedBase { public int Entity6Id {get;set;} [ForeignKey(\"TenantId,Entity6Id\")] public Entity6 Entity6 {get;set;} }\r\npublic class Entity8 :  TenantedBase { public int Entity7Id {get;set;} [ForeignKey(\"TenantId,Entity7Id\")] public Entity7 Entity7 {get;set;} }\r\npublic class Entity9 :  TenantedBase { public int Entity8Id {get;set;} [ForeignKey(\"TenantId,Entity8Id\")] public Entity8 Entity8 {get;set;} }\r\npublic class Entity10 : TenantedBase { public int Entity9Id {get;set;} [ForeignKey(\"TenantId,Entity9Id\")] public Entity9 Entity9 {get;set;} }\r\npublic class Entity11 : TenantedBase { public int Entity10Id {get;set;} [ForeignKey(\"TenantId,Entity10Id\")] public Entity10 Entity10 {get;set;} }\r\npublic class Entity12 : TenantedBase { public int Entity11Id {get;set;} [ForeignKey(\"TenantId,Entity11Id\")] public Entity11 Entity11 {get;set;} }\r\npublic class Entity13 : TenantedBase { public int Entity12Id {get;set;} [ForeignKey(\"TenantId,Entity12Id\")] public Entity12 Entity12 {get;set;} }\r\npublic class Entity14 : TenantedBase { public int Entity13Id {get;set;} [ForeignKey(\"TenantId,Entity13Id\")] public Entity13 Entity13 {get;set;} }\r\npublic class Entity15 : TenantedBase { public int Entity14Id {get;set;} [ForeignKey(\"TenantId,Entity14Id\")] public Entity14 Entity14 {get;set;} }\r\npublic class Entity16 : TenantedBase { public int Entity15Id {get;set;} [ForeignKey(\"TenantId,Entity15Id\")] public Entity15 Entity15 {get;set;} }\r\npublic class Entity17 : TenantedBase { public int Entity16Id {get;set;} [ForeignKey(\"TenantId,Entity16Id\")] public Entity16 Entity16 {get;set;} }\r\npublic class Entity18 : TenantedBase { public int Entity17Id {get;set;} [ForeignKey(\"TenantId,Entity17Id\")] public Entity17 Entity17 {get;set;} }\r\npublic class Entity19 : TenantedBase { public int Entity18Id {get;set;} [ForeignKey(\"TenantId,Entity18Id\")] public Entity18 Entity18 {get;set;} }\r\npublic class Entity20 : TenantedBase { public int Entity19Id {get;set;} [ForeignKey(\"TenantId,Entity19Id\")] public Entity19 Entity19 {get;set;} }\r\n\r\npublic class AppDbContext : DbContext\r\n{\r\n\tpublic DbSet<ApplicationUser> ApplicationUsers { get; set; }\r\n\tpublic DbSet<Tenant> Tenants { get; set; }\r\n\t\r\n\tpublic DbSet<Entity1> Entity1 { get; set; } \r\n\tpublic DbSet<Entity2> Entity2 { get; set; } \r\n\tpublic DbSet<Entity3> Entity3 { get; set; } \r\n\tpublic DbSet<Entity4> Entity4 { get; set; } \r\n\tpublic DbSet<Entity5> Entity5 { get; set; } \r\n\tpublic DbSet<Entity6> Entity6 { get; set; } \r\n\tpublic DbSet<Entity7> Entity7 { get; set; } \r\n\tpublic DbSet<Entity8> Entity8 { get; set; } \r\n\tpublic DbSet<Entity9> Entity9 { get; set; } \r\n\tpublic DbSet<Entity10> Entity10 { get; set; }\r\n\tpublic DbSet<Entity11> Entity11 { get; set; }\r\n\tpublic DbSet<Entity12> Entity12 { get; set; }\r\n\tpublic DbSet<Entity13> Entity13 { get; set; }\r\n\tpublic DbSet<Entity14> Entity14 { get; set; }\r\n\tpublic DbSet<Entity15> Entity15 { get; set; }\r\n\tpublic DbSet<Entity16> Entity16 { get; set; }\r\n\tpublic DbSet<Entity17> Entity17 { get; set; }\r\n\tpublic DbSet<Entity18> Entity18 { get; set; }\r\n\tpublic DbSet<Entity19> Entity19 { get; set; }\r\n\tpublic DbSet<Entity20> Entity20 { get; set; }\r\n\t\r\n\tprotected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\r\n\t{\r\n\t\toptionsBuilder.UseSqlServer(\"asdf\");\r\n\t}\r\n}\r\n```\r\n\r\n\r\n### Include provider and version information\r\n\r\nEF Core version: 8.0.2\r\nDatabase provider: Relational (SqlServer and Sqlite both have issue)\r\nTarget framework: .NET 8\r\nOperating system: Win 10\r\nIDE: N/A\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/33274/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T07:38:34Z","updated_at":"2024-03-26T07:38:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33399","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/33399/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/33399/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/33399/events","html_url":"https://github.com/dotnet/efcore/issues/33399","id":2206867368,"node_id":"I_kwDOAPaMMs6Dih-o","number":33399,"title":"Performance decrease (10 second delay) in database migration 8.0.0 vs 8.0.3 ","user":{"login":"EvgenyMuryshkin","id":11254187,"node_id":"MDQ6VXNlcjExMjU0MTg3","avatar_url":"https://avatars.githubusercontent.com/u/11254187?v=4","gravatar_id":"","url":"https://api.github.com/users/EvgenyMuryshkin","html_url":"https://github.com/EvgenyMuryshkin","followers_url":"https://api.github.com/users/EvgenyMuryshkin/followers","following_url":"https://api.github.com/users/EvgenyMuryshkin/following{/other_user}","gists_url":"https://api.github.com/users/EvgenyMuryshkin/gists{/gist_id}","starred_url":"https://api.github.com/users/EvgenyMuryshkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EvgenyMuryshkin/subscriptions","organizations_url":"https://api.github.com/users/EvgenyMuryshkin/orgs","repos_url":"https://api.github.com/users/EvgenyMuryshkin/repos","events_url":"https://api.github.com/users/EvgenyMuryshkin/events{/privacy}","received_events_url":"https://api.github.com/users/EvgenyMuryshkin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":130861068,"node_id":"MDU6TGFiZWwxMzA4NjEwNjg=","url":"https://api.github.com/repos/dotnet/efcore/labels/area-perf","name":"area-perf","color":"5319e7","default":false,"description":""},{"id":420187509,"node_id":"MDU6TGFiZWw0MjAxODc1MDk=","url":"https://api.github.com/repos/dotnet/efcore/labels/area-external","name":"area-external","color":"5319e7","default":false,"description":""},{"id":514908713,"node_id":"MDU6TGFiZWw1MTQ5MDg3MTM=","url":"https://api.github.com/repos/dotnet/efcore/labels/regression","name":"regression","color":"ff1fff","default":false,"description":null},{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""},{"id":2272800544,"node_id":"MDU6TGFiZWwyMjcyODAwNTQ0","url":"https://api.github.com/repos/dotnet/efcore/labels/area-sqlserver","name":"area-sqlserver","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/205","html_url":"https://github.com/dotnet/efcore/milestone/205","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/205/labels","id":11582336,"node_id":"MI_kwDOAPaMMs4AsLuA","number":205,"title":"8.0.11","description":null,"creator":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":4,"state":"closed","created_at":"2024-09-14T06:41:33Z","updated_at":"2025-01-23T07:33:07Z","due_on":null,"closed_at":"2024-11-14T11:54:17Z"},"comments":34,"created_at":"2024-03-25T22:43:52Z","updated_at":"2025-06-15T20:00:33Z","closed_at":"2024-10-08T00:14:53Z","author_association":"NONE","type":{"id":1092402,"node_id":"IT_kwDOAIt-yc4AEKsy","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-07-26T10:20:14Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi,\r\n\r\nAfter upgrading from 8.0.0 to 8.0.3, get a large performance decrease during database creation.\r\n\r\nhttps://github.com/EvgenyMuryshkin/EF8PPerf\r\n\r\n![image](https://github.com/dotnet/efcore/assets/11254187/a070471a-5ff2-4a7d-8208-e57870bc2246)\r\n\r\nEF 9 also has the same issue\r\n\r\n![image](https://github.com/dotnet/efcore/assets/11254187/09e66541-9679-4200-bbeb-fa0558df7b6f)\r\n\r\n\r\n### Include provider and version information\r\n.NET 8/.NET 9\r\nEF 8.0.0 => 8.0.3, 9.0.0-preview.2.24128.4\r\nWindows 11 Pro\r\nVS 2022 17.9.4/17.10.0 Preview 2.0\r\n\r\nThank you\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33399/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/33399/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T11:51:08Z","updated_at":"2024-03-26T11:51:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33406","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/33406/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/33406/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/33406/events","html_url":"https://github.com/dotnet/efcore/issues/33406","id":2207968677,"node_id":"I_kwDOAPaMMs6Dmu2l","number":33406,"title":"OutOfMemoryException when scaffolding from database since upgrade to EF Core 8","user":{"login":"GetGol","id":55980723,"node_id":"MDQ6VXNlcjU1OTgwNzIz","avatar_url":"https://avatars.githubusercontent.com/u/55980723?v=4","gravatar_id":"","url":"https://api.github.com/users/GetGol","html_url":"https://github.com/GetGol","followers_url":"https://api.github.com/users/GetGol/followers","following_url":"https://api.github.com/users/GetGol/following{/other_user}","gists_url":"https://api.github.com/users/GetGol/gists{/gist_id}","starred_url":"https://api.github.com/users/GetGol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GetGol/subscriptions","organizations_url":"https://api.github.com/users/GetGol/orgs","repos_url":"https://api.github.com/users/GetGol/repos","events_url":"https://api.github.com/users/GetGol/events{/privacy}","received_events_url":"https://api.github.com/users/GetGol/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-03-26T11:21:50Z","updated_at":"2025-06-16T08:51:06Z","closed_at":"2024-03-26T12:34:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## OutOfMemoryException when scaffolding from database\r\n\r\nThe same database and the same code worked before the upgrade from .net7 to .net8 (including EF Core).\r\n\r\nThe scaffolding process starts as usual and processes some tables etc.. But after a while the process seems to hang or remain in an endless loop. Then no further output is generated. I can then see in the task manager how the process continues to consume CPU resources, whereby the RAM consumption continues to increase until it is completely used up. A few seconds later, the process then terminates with the OutOfMemoryException (as in the output at the end including the stacktrace).\r\n\r\nI have experimented with the parameter \"-tables\" and have found out that the process runs successfully if I omit one of the two tables \"FIFErfBuch\" or \"FITaKontoplanKto\". But I have not yet been able to gain any insight from this.\r\n\r\nI have also tried to debug the process. I have attached myself with VisualStudio and paused the process during the hang phase and looked into the \"callstack\" or \"parallel stack\" window. It looked like it was hanging trying to determine the data type of a database column. Then I let it run for a few seconds and paused it again. According to the callstack, it was still/again stuck on the same column. But since neither a StackOverflowException appears and more and more RAM is consumed, I assume that it is not a thread blocking problem and also not a simple recursion loop.\r\n\r\nI am executing the command in the PackageManagerConsole. Here is the \"-verbose\" output (truncated for readability and body-character limit in github issue):\r\n```\r\nPM> Scaffold-DbContext \"Server=getsql001;Database=master_contura312;Trusted_Connection=True;Integrated Security=True;Encrypt=False;\" Microsoft.EntityFrameworkCore.SqlServer -Project GSDataModelCore -Context GetecoContext -ContextDir DbContexts\\Contura -OutputDir Models\\Contura\\Generated -UseDatabaseNames -NoPluralize -Force -Tables FIKtoDebitorPos, FIKtoKreditorPos, FIKtoSachPos, FIKtoStamm, FITaPKtoDebitor, FITaPKtoKreditor, FITaPKtoPlan, FITnrAllgemein, STAbfragen, STAdressAnsprPartner, STAdressBanken, STAdressBeziehungen, STAdressen, STAdressInfo, STAdressKontakte, STAdressNummern, STAdressTypen, STAdrFreieFelder, STAdrFreieGruppen, STAnreden, STAnsprechpartner, STAnwArcExpFormul, STAnwArcExpKonst, STAnwArcExportSchl, STAnwArcExportSys, STAnwArcFormOrdner, STAnwArcImport, STAnwBeziehungsTypen, STAnwBezugsgruppen, STAnwBezugstexte, STAnwBlob, STAnwEmails, STAnwEmailVersand, STAnwender, STAnwKomponenten, STAnwLokationen, STAnwMailAdressen, STAnwPool, STAnwPoolDaten, STAnwPrjProtSet, STAnwPrjProtSetPos, STAnwPrjVersionen, STAnwProjekte, STAnwProtokoll, STAnwProtokollPar, STAnwProtokollPos, STAnwProtokollSkip, STAnwRptPaket, STAnwRptPaketPos, STAnwTabellen, STAnwTabellenID, STAnwTeam, STAnwTeamMitgl, STAnwTeamPos, STAnwTextBenGrp, STAnwTexte, STAnwTexteInfo, STAnwTextGrpSteu, STAnwTextGruppen, STAppBenutzerConfig, STArcDaten, STArcDatenFkt, STArcFormulare, STArcFormularSchl, STArcFormularVers, STArcImport, STArcInfo, STArcOrdner, STArcPool, STArcPoolDaten, STArcSchlVers, STArcSpeicherplatz, STBanken, STBenGrpProfile, STBenutzer, STBenutzerdaten, STBenutzereinstellungen, STBenutzerFktDaten, STBenutzergruppen, STBenutzerprojekte, STBlz, STBlzBIC, STDialogFunktionen, STDialogGruppen, STDialogTabellen, STDlgTabRelPfad, STEreignisSerie, STFelder, STFreieFelder, STFreieGrpPrgFkt, STFreieGruppen, STFunktionen, STJournal, STJournalDaten, STMeldeLogbuch, STMeldeLogGelesen, STNavigation, STNavigationSubProjekte, STPersAdressdaten, STPlz, STPrjGruppen, STPrjKomponenten, STPrjProtokolle, STPrjSpezialAbfragen, STPrjVersionen, STProgFunkErw, STProgFunkErwGrp, STProgFunkErwLanguage, STProgfunktionen, STProjekte, STRechteGrpFunk, STRechteGruppe, STRechteGruppePos, STSubProjekte, STTabellen, STTabellenPos, STTabFunktionen, STTelerikBenutzer, STTelerikBerichte, STTelerikDateien, STTexte, STAbfPrgFkt, FIFKonsPosBhnr, FIFKonsKnoten, FIUstFormCalcPos, FIUstForm, FIUstFormCalc, FIUstFormTxt, FIUstFormMatrix, FIBHStammAllgemein, FIBHStammPos, FIKtoBuchung, FIFErfAbstKreis, FIBHStatJahr, FIBHStatMonat, FISumSteuer, FIBHSteuAufteilung, FIBHSteuAuftPos, FITaSteuer, FITaSteuSchl, FITaSteuKtoplan, FITaSteuSchlPos, FITaSteuForm, FITaSteuFormPos, FITaSteuKtoPos, FITaSteuKto, FIProfil, FITaKontoplan, FITaKontoplanKto, FIFErfBuch -verbose\r\nUsing project 'Standard\\Database\\GSDataModelCore'.\r\nUsing startup project 'Standard\\Database\\DataModelScaffolding'.\r\nBuild started...\r\nBuild succeeded.\r\nC:\\Program Files\\dotnet\\dotnet.exe exec --depsfile E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\bin\\Debug\\net8.0\\DataModelScaffolding.deps.json --additionalprobingpath E:\\.nuget\\packages --additionalprobingpath \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\NuGetPackages\" --additionalprobingpath \"C:\\Program Files (x86)\\Progress\\ToolboxNuGetPackages\" --additionalprobingpath \"C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder\" --runtimeconfig E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\bin\\Debug\\net8.0\\DataModelScaffolding.runtimeconfig.json E:\\.nuget\\packages\\microsoft.entityframeworkcore.tools\\8.0.3\\tools\\netcoreapp2.0\\any\\ef.dll dbcontext scaffold \"Server=getsql001;Database=master_contura312;Trusted_Connection=True;Integrated Security=True;Encrypt=False;\" Microsoft.EntityFrameworkCore.SqlServer --json --output-dir Models\\Contura\\Generated --context-dir DbContexts\\Contura --context GetecoContext --table FIKtoDebitorPos --table FIKtoKreditorPos --table FIKtoSachPos --table FIKtoStamm --table FITaPKtoDebitor --table FITaPKtoKreditor --table FITaPKtoPlan --table FITnrAllgemein --table STAbfragen --table STAdressAnsprPartner --table STAdressBanken --table STAdressBeziehungen --table STAdressen --table STAdressInfo --table STAdressKontakte --table STAdressNummern --table STAdressTypen --table STAdrFreieFelder --table STAdrFreieGruppen --table STAnreden --table STAnsprechpartner --table STAnwArcExpFormul --table STAnwArcExpKonst --table STAnwArcExportSchl --table STAnwArcExportSys --table STAnwArcFormOrdner --table STAnwArcImport --table STAnwBeziehungsTypen --table STAnwBezugsgruppen --table STAnwBezugstexte --table STAnwBlob --table STAnwEmails --table STAnwEmailVersand --table STAnwender --table STAnwKomponenten --table STAnwLokationen --table STAnwMailAdressen --table STAnwPool --table STAnwPoolDaten --table STAnwPrjProtSet --table STAnwPrjProtSetPos --table STAnwPrjVersionen --table STAnwProjekte --table STAnwProtokoll --table STAnwProtokollPar --table STAnwProtokollPos --table STAnwProtokollSkip --table STAnwRptPaket --table STAnwRptPaketPos --table STAnwTabellen --table STAnwTabellenID --table STAnwTeam --table STAnwTeamMitgl --table STAnwTeamPos --table STAnwTextBenGrp --table STAnwTexte --table STAnwTexteInfo --table STAnwTextGrpSteu --table STAnwTextGruppen --table STAppBenutzerConfig --table STArcDaten --table STArcDatenFkt --table STArcFormulare --table STArcFormularSchl --table STArcFormularVers --table STArcImport --table STArcInfo --table STArcOrdner --table STArcPool --table STArcPoolDaten --table STArcSchlVers --table STArcSpeicherplatz --table STBanken --table STBenGrpProfile --table STBenutzer --table STBenutzerdaten --table STBenutzereinstellungen --table STBenutzerFktDaten --table STBenutzergruppen --table STBenutzerprojekte --table STBlz --table STBlzBIC --table STDialogFunktionen --table STDialogGruppen --table STDialogTabellen --table STDlgTabRelPfad --table STEreignisSerie --table STFelder --table STFreieFelder --table STFreieGrpPrgFkt --table STFreieGruppen --table STFunktionen --table STJournal --table STJournalDaten --table STMeldeLogbuch --table STMeldeLogGelesen --table STNavigation --table STNavigationSubProjekte --table STPersAdressdaten --table STPlz --table STPrjGruppen --table STPrjKomponenten --table STPrjProtokolle --table STPrjSpezialAbfragen --table STPrjVersionen --table STProgFunkErw --table STProgFunkErwGrp --table STProgFunkErwLanguage --table STProgfunktionen --table STProjekte --table STRechteGrpFunk --table STRechteGruppe --table STRechteGruppePos --table STSubProjekte --table STTabellen --table STTabellenPos --table STTabFunktionen --table STTelerikBenutzer --table STTelerikBerichte --table STTelerikDateien --table STTexte --table STAbfPrgFkt --table FIFKonsPosBhnr --table FIFKonsKnoten --table FIUstFormCalcPos --table FIUstForm --table FIUstFormCalc --table FIUstFormTxt --table FIUstFormMatrix --table FIBHStammAllgemein --table FIBHStammPos --table FIKtoBuchung --table FIFErfAbstKreis --table FIBHStatJahr --table FIBHStatMonat --table FISumSteuer --table FIBHSteuAufteilung --table FIBHSteuAuftPos --table FITaSteuer --table FITaSteuSchl --table FITaSteuKtoplan --table FITaSteuSchlPos --table FITaSteuForm --table FITaSteuFormPos --table FITaSteuKtoPos --table FITaSteuKto --table FIProfil --table FITaKontoplan --table FITaKontoplanKto --table FIFErfBuch --use-database-names --force --no-pluralize --verbose --no-color --prefix-output --assembly E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\bin\\Debug\\net8.0\\Geteco.Standard.DataModelCore.dll --project E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelCore\\GSDataModelCore.csproj --startup-assembly E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\bin\\Debug\\net8.0\\DataModelScaffolding.dll --startup-project E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\DataModelScaffolding.csproj --project-dir E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelCore\\ --language C# --configuration Debug --working-dir E:\\tfs\\Sky\\conviva\\2.23\\Test\\App --root-namespace Geteco.Standard.DataModelCore --nullable\r\nUsing assembly 'Geteco.Standard.DataModelCore'.\r\nUsing startup assembly 'DataModelScaffolding'.\r\nUsing application base 'E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding\\bin\\Debug\\net8.0'.\r\nUsing working directory 'E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelScaffolding'.\r\nUsing root namespace 'Geteco.Standard.DataModelCore'.\r\nUsing project directory 'E:\\tfs\\Sky\\conviva\\2.23\\Test\\Standard\\Database\\DataModelCore\\'.\r\nRemaining arguments: .\r\nFinding design-time services referenced by assembly 'DataModelScaffolding'...\r\nFinding design-time services referenced by assembly 'Geteco.Standard.DataModelCore'...\r\nNo referenced design-time services were found.\r\nFinding design-time services for provider 'Microsoft.EntityFrameworkCore.SqlServer'...\r\nUsing design-time services from provider 'Microsoft.EntityFrameworkCore.SqlServer'.\r\nFinding IDesignTimeServices implementations in assembly 'DataModelScaffolding'...\r\nUsing design-time services from class 'ScaffoldingDesignTimeServices'.\r\n'DataModelScaffolding.ScaffoldingDesignTimeServices.ConfigureDesignTimeServices' invoked.\r\n'DataModelScaffolding.ScaffoldingDesignTimeServices.ConfigureDesignTimeServiceFor_ScaffoldDbContext' started.\r\n'DataModelScaffolding.ScaffoldingDesignTimeServices.ConfigureDesignTimeServiceFor_ScaffoldDbContext' finished.\r\nTo protect potentially sensitive information in your connection string, you should move it out of source code. You can avoid scaffolding the connection string by using the Name= syntax to read it from configuration - see https://go.microsoft.com/fwlink/?linkid=2131148. For more guidance on storing connection strings, see https://go.microsoft.com/fwlink/?LinkId=723263.\r\nFound default schema 'DBUSER'.\r\nFound type alias with name 'sys.sysname' which maps to underlying data type nvarchar(128).\r\nFound table with name 'DBUSER.FIBHStammAllgemein'.\r\nFound table with name 'DBUSER.FIBHStammPos'.\r\n...\r\nFound column with table: DBUSER.FIBHStammAllgemein, column name: AnwenderNr, ordinal: 1, data type: sys.int, maximum length: 4, precision: 10, scale: 0, nullable: False, identity: False, default value: (null), computed value: (null), computed value is stored: False.\r\nFound column with table: DBUSER.FIBHStammAllgemein, column name: TeilnNr, ordinal: 2, data type: sys.int, maximum length: 4, precision: 10, scale: 0, nullable: False, identity: False, default value: (null), computed value: (null), computed value is stored: False.\r\n...\r\nFound primary key on table 'PK__FIBHStam__8D4316A784395C2C' with name 'DBUSER.FIBHStammAllgemein'.\r\nFound primary key on table 'PK__FIBHStam__5E71E8F947B843E8' with name 'DBUSER.FIBHStammPos'.\r\n...\r\nFound foreign key on table 'FIProfil_ProfilNr_R1111_1114' with name 'DBUSER.FIBHStammAllgemein', principal table 'DBUSER.FIProfil', delete action NO_ACTION.\r\nFound foreign key on table 'FITnrAllgemein_TeilnNr_R1111_1100' with name 'DBUSER.FIBHStammAllgemein', principal table 'DBUSER.FITnrAllgemein', delete action NO_ACTION.\r\n...\r\nFound foreign key on table 'STTelerikBerichte_BerichtNr_R155_149' with name 'DBUSER.STTelerikDateien', principal table 'DBUSER.STTelerikBerichte', delete action NO_ACTION.\r\nFound foreign key on table 'STTextgruppen_TEXTGRP_R11_3' with name 'DBUSER.STTexte', principal table 'DBUSER.STTextgruppen', delete action NO_ACTION.\r\nSkipping foreign key 'STTextgruppen_TEXTGRP_R11_3' on table 'DBUSER.STTexte' since principal table 'DBUSER.STTextgruppen' was not found in the model. This usually happens when the principal table was not included in the selection set.\r\nSystem.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.\r\n   at System.Collections.Generic.Queue`1.SetCapacity(Int32 capacity)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.GetConversion(Boolean throwOnValueConverterConflict, Boolean throwOnProviderClrTypeConflict)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.GetValueConverter()\r\n   at Microsoft.EntityFrameworkCore.Storage.TypeMappingInfo..ctor(IReadOnlyList`1 principals, Nullable`1 fallbackUnicode, Nullable`1 fallbackSize, Nullable`1 fallbackPrecision, Nullable`1 fallbackScale)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMappingInfo..ctor(IReadOnlyList`1 principals, String storeTypeName, String storeTypeNameBase, Nullable`1 fallbackUnicode, Nullable`1 fallbackFixedLength, Nullable`1 fallbackSize, Nullable`1 fallbackPrecision, Nullable`1 fallbackScale)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMappingSource.FindMapping(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.<>c.<get_TypeMapping>b__93_0(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.get_TypeMapping()\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.Microsoft.EntityFrameworkCore.Metadata.IReadOnlyProperty.FindTypeMapping()\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.FindRelationalTypeMapping(IReadOnlyProperty property)\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.GetColumnType(IReadOnlyProperty property)\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.GetColumnType(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.CreateDefaultColumnMapping(ITypeBase typeBase, ITypeBase mappedType, TableBase defaultTable, TableMappingBase`1 tableMapping, Boolean isTph, Boolean isTpc)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.AddDefaultMappings(RelationalModel databaseModel, IEntityType entityType, IRelationalTypeMappingSource relationalTypeMappingSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.Create(IModel model, IRelationalAnnotationProvider relationalAnnotationProvider, IRelationalTypeMappingSource relationalTypeMappingSource, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.Add(IModel model, IRelationalAnnotationProvider relationalAnnotationProvider, IRelationalTypeMappingSource relationalTypeMappingSource, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelRuntimeInitializer.InitializeModel(IModel model, Boolean designTime, Boolean prevalidation)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)\r\n   at Microsoft.EntityFrameworkCore.Scaffolding.Internal.RelationalScaffoldingModelFactory.Create(DatabaseModel databaseModel, ModelReverseEngineerOptions options)\r\n   at Microsoft.EntityFrameworkCore.Scaffolding.Internal.ReverseEngineerScaffolder.ScaffoldModel(String connectionString, DatabaseModelFactoryOptions databaseOptions, ModelReverseEngineerOptions modelOptions, ModelCodeGenerationOptions codeOptions)\r\n   at Microsoft.EntityFrameworkCore.Design.Internal.DatabaseOperations.ScaffoldContext(String provider, String connectionString, String outputDir, String outputContextDir, String dbContextClassName, IEnumerable`1 schemas, IEnumerable`1 tables, String modelNamespace, String contextNamespace, Boolean useDataAnnotations, Boolean overwriteFiles, Boolean useDatabaseNames, Boolean suppressOnConfiguring, Boolean noPluralize)\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.ScaffoldContextImpl(String provider, String connectionString, String outputDir, String outputDbContextDir, String dbContextClassName, IEnumerable`1 schemaFilters, IEnumerable`1 tableFilters, String modelNamespace, String contextNamespace, Boolean useDataAnnotations, Boolean overwriteFiles, Boolean useDatabaseNames, Boolean suppressOnConfiguring, Boolean noPluralize)\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.ScaffoldContext.<>c__DisplayClass0_0.<.ctor>b__0()\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.<>c__DisplayClass3_0`1.<Execute>b__0()\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action action)\r\nException of type 'System.OutOfMemoryException' was thrown.\r\nPM> \r\n```\r\n\r\n### Include provider and version information\r\n\r\nEF Core version: 8.0.3\r\nDatabase provider: Microsoft.EntityFrameworkCore.SqlServer\r\nTarget framework: .NET 8.0\r\nOperating system: Windows 11 Enterprise\r\nIDE: Visual Studio 2022 17.10.0 Preview 2.0\r\n\r\nUntruncated output in attachment:\r\n[full output.txt](https://github.com/dotnet/efcore/files/14757516/full.output.txt)\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/33406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/33406/timeline","performed_via_github_app":null,"state_reason":"duplicate"}},"event":"cross-referenced"},{"actor":{"login":"ErikEJ","id":4169187,"node_id":"MDQ6VXNlcjQxNjkxODc=","avatar_url":"https://avatars.githubusercontent.com/u/4169187?v=4","gravatar_id":"","url":"https://api.github.com/users/ErikEJ","html_url":"https://github.com/ErikEJ","followers_url":"https://api.github.com/users/ErikEJ/followers","following_url":"https://api.github.com/users/ErikEJ/following{/other_user}","gists_url":"https://api.github.com/users/ErikEJ/gists{/gist_id}","starred_url":"https://api.github.com/users/ErikEJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErikEJ/subscriptions","organizations_url":"https://api.github.com/users/ErikEJ/orgs","repos_url":"https://api.github.com/users/ErikEJ/repos","events_url":"https://api.github.com/users/ErikEJ/events{/privacy}","received_events_url":"https://api.github.com/users/ErikEJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-29T06:52:02Z","updated_at":"2024-03-29T06:52:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247","repository_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools","labels_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247/labels{/name}","comments_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247/comments","events_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247/events","html_url":"https://github.com/ErikEJ/EFCorePowerTools/issues/2247","id":2214294010,"node_id":"I_kwDOB9Yf386D-3H6","number":2247,"title":"Run out of Memory Error","user":{"login":"lijunjiang-amentum","id":162194820,"node_id":"U_kgDOCarlhA","avatar_url":"https://avatars.githubusercontent.com/u/162194820?v=4","gravatar_id":"","url":"https://api.github.com/users/lijunjiang-amentum","html_url":"https://github.com/lijunjiang-amentum","followers_url":"https://api.github.com/users/lijunjiang-amentum/followers","following_url":"https://api.github.com/users/lijunjiang-amentum/following{/other_user}","gists_url":"https://api.github.com/users/lijunjiang-amentum/gists{/gist_id}","starred_url":"https://api.github.com/users/lijunjiang-amentum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijunjiang-amentum/subscriptions","organizations_url":"https://api.github.com/users/lijunjiang-amentum/orgs","repos_url":"https://api.github.com/users/lijunjiang-amentum/repos","events_url":"https://api.github.com/users/lijunjiang-amentum/events{/privacy}","received_events_url":"https://api.github.com/users/lijunjiang-amentum/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":917379646,"node_id":"MDU6TGFiZWw5MTczNzk2NDY=","url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":943652016,"node_id":"MDU6TGFiZWw5NDM2NTIwMTY=","url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/labels/reveng","name":"reveng","color":"d4c5f9","default":false,"description":""},{"id":5459525904,"node_id":"LA_kwDOB9Yf388AAAABRWnBEA","url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/labels/reveng-cli","name":"reveng-cli","color":"6AF2BF","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-03-28T22:52:25Z","updated_at":"2024-04-03T13:30:37Z","closed_at":"2024-03-29T06:54:36Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":131473375,"node_id":"MDEwOlJlcG9zaXRvcnkxMzE0NzMzNzU=","name":"EFCorePowerTools","full_name":"ErikEJ/EFCorePowerTools","private":false,"owner":{"login":"ErikEJ","id":4169187,"node_id":"MDQ6VXNlcjQxNjkxODc=","avatar_url":"https://avatars.githubusercontent.com/u/4169187?v=4","gravatar_id":"","url":"https://api.github.com/users/ErikEJ","html_url":"https://github.com/ErikEJ","followers_url":"https://api.github.com/users/ErikEJ/followers","following_url":"https://api.github.com/users/ErikEJ/following{/other_user}","gists_url":"https://api.github.com/users/ErikEJ/gists{/gist_id}","starred_url":"https://api.github.com/users/ErikEJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErikEJ/subscriptions","organizations_url":"https://api.github.com/users/ErikEJ/orgs","repos_url":"https://api.github.com/users/ErikEJ/repos","events_url":"https://api.github.com/users/ErikEJ/events{/privacy}","received_events_url":"https://api.github.com/users/ErikEJ/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ErikEJ/EFCorePowerTools","description":"Entity Framework Core Power Tools - reverse engineering, migrations and model visualization in Visual Studio & CLI","fork":false,"url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools","forks_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/forks","keys_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/teams","hooks_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/hooks","issue_events_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/events{/number}","events_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/events","assignees_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/assignees{/user}","branches_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/branches{/branch}","tags_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/tags","blobs_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/git/refs{/sha}","trees_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/statuses/{sha}","languages_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/languages","stargazers_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/stargazers","contributors_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/contributors","subscribers_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/subscribers","subscription_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/subscription","commits_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/commits{/sha}","git_commits_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/git/commits{/sha}","comments_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/comments{/number}","issue_comment_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/comments{/number}","contents_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/contents/{+path}","compare_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/merges","archive_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/downloads","issues_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues{/number}","pulls_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/pulls{/number}","milestones_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/milestones{/number}","notifications_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/labels{/name}","releases_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/releases{/id}","deployments_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/deployments","created_at":"2018-04-29T07:04:03Z","updated_at":"2025-11-09T15:08:39Z","pushed_at":"2025-10-27T11:57:45Z","git_url":"git://github.com/ErikEJ/EFCorePowerTools.git","ssh_url":"git@github.com:ErikEJ/EFCorePowerTools.git","clone_url":"https://github.com/ErikEJ/EFCorePowerTools.git","svn_url":"https://github.com/ErikEJ/EFCorePowerTools","homepage":"","size":3470530,"stargazers_count":2436,"watchers_count":2436,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["dbcontext","dotnet","entity-framework","entity-framework-core","hacktoberfest","model-visualization","sql-server","visual-studio","visual-studio-extension"],"visibility":"public","forks":332,"open_issues":4,"watchers":2436,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When I tried to generated 400 entities through the tool in Visual Studio 2022 (17.8.2), It uses all my computer memory. My computer has 32 GB memory. The process take a long time and eventually get \"Run out of memory error\". \r\n\r\nIt works fine with previous version. I don't remember the version no, this issue occurs after I upgrade tool to 2.6.200\r\n\r\nHere is the exception:\r\n\r\nSystem.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.\r\n   at System.Collections.Generic.Queue`1.SetCapacity(Int32 capacity)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.GetConversion(Boolean throwOnValueConverterConflict, Boolean throwOnProviderClrTypeConflict)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.GetValueConverter()\r\n   at Microsoft.EntityFrameworkCore.Storage.TypeMappingInfo..ctor(IReadOnlyList`1 principals, Nullable`1 fallbackUnicode, Nullable`1 fallbackSize, Nullable`1 fallbackPrecision, Nullable`1 fallbackScale)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMappingInfo..ctor(IReadOnlyList`1 principals, String storeTypeName, String storeTypeNameBase, Nullable`1 fallbackUnicode, Nullable`1 fallbackFixedLength, Nullable`1 fallbackSize, Nullable`1 fallbackPrecision, Nullable`1 fallbackScale)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMappingSource.FindMapping(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.<>c.<get_TypeMapping>b__93_0(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Internal.NonCapturingLazyInitializer.EnsureInitialized[TParam,TValue](TValue& target, TParam param, Func`2 valueFactory)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.get_TypeMapping()\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.Microsoft.EntityFrameworkCore.Metadata.IReadOnlyProperty.FindTypeMapping()\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.FindRelationalTypeMapping(IReadOnlyProperty property)\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.GetColumnType(IReadOnlyProperty property)\r\n   at Microsoft.EntityFrameworkCore.RelationalPropertyExtensions.GetColumnType(IProperty property)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.AddDefaultMappings(RelationalModel databaseModel, IEntityType entityType, IRelationalTypeMappingSource relationalTypeMappingSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.Create(IModel model, IRelationalAnnotationProvider relationalAnnotationProvider, IRelationalTypeMappingSource relationalTypeMappingSource, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.RelationalModel.Add(IModel model, IRelationalAnnotationProvider relationalAnnotationProvider, IRelationalTypeMappingSource relationalTypeMappingSource, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelRuntimeInitializer.InitializeModel(IModel model, Boolean designTime, Boolean prevalidation)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)\r\n   at Microsoft.EntityFrameworkCore.Scaffolding.Internal.RelationalScaffoldingModelFactory.Create(DatabaseModel databaseModel, ModelReverseEngineerOptions options)\r\n   at RevEng.Core.ReverseEngineerScaffolder.ScaffoldModel(String connectionString, DatabaseModelFactoryOptions databaseOptions, ModelReverseEngineerOptions modelOptions, ModelCodeGenerationOptions codeOptions, Boolean removeNullableBoolDefaults, Boolean excludeNavigations, Boolean dbContextOnly, Boolean entitiesOnly, Boolean useSchemaFolders, Boolean useSchemaNamespaces) in C:\\Code\\Github\\EFCorePowerTools\\src\\Core\\RevEng.Core.60\\ReverseEngineerScaffolder.cs:line 488\r\n   at RevEng.Core.ReverseEngineerScaffolder.GenerateDbContext(ReverseEngineerCommandOptions options, List`1 schemas, String outputContextDir, String modelNamespace, String contextNamespace, String projectPath, String outputPath) in C:\\Code\\Github\\EFCorePowerTools\\src\\Core\\RevEng.Core.60\\ReverseEngineerScaffolder.cs:line 94\r\n   at RevEng.Core.ReverseEngineerRunner.GenerateFiles(ReverseEngineerCommandOptions options) in C:\\Code\\Github\\EFCorePowerTools\\src\\Core\\RevEng.Core.60\\ReverseEngineerRunner.cs:line 86\r\n\r\n### Provide technical details\r\n\r\n\r\n- EF Core Power Tools version:  2.6.140 and 2.6.200\r\n\r\n- Exact Visual Studio version: (e.g. Visual Studio 2022 17.8.2)\r\n\r\n- Database engine:  SQL Server 2016\r\n\r\n- EF Core version in use:  EF Core 8\r\n\r\n- Is Handlebars templates used: no\r\n\r\n- Is T4 templates used: no. Same error when use T4 template too.\r\n\r\n- Is a SQL Server .dacpac used: no\r\n","reactions":{"url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/issues/2247/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":12291823441,"node_id":"REFE_lADOAPaMMs6AkINYzwAAAALcpldR","url":"https://api.github.com/repos/dotnet/efcore/issues/events/12291823441","actor":{"login":"ErikEJ","id":4169187,"node_id":"MDQ6VXNlcjQxNjkxODc=","avatar_url":"https://avatars.githubusercontent.com/u/4169187?v=4","gravatar_id":"","url":"https://api.github.com/users/ErikEJ","html_url":"https://github.com/ErikEJ","followers_url":"https://api.github.com/users/ErikEJ/followers","following_url":"https://api.github.com/users/ErikEJ/following{/other_user}","gists_url":"https://api.github.com/users/ErikEJ/gists{/gist_id}","starred_url":"https://api.github.com/users/ErikEJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErikEJ/subscriptions","organizations_url":"https://api.github.com/users/ErikEJ/orgs","repos_url":"https://api.github.com/users/ErikEJ/repos","events_url":"https://api.github.com/users/ErikEJ/events{/privacy}","received_events_url":"https://api.github.com/users/ErikEJ/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cbd6deb3802d24770088def60a8925ca66f867f6","commit_url":"https://api.github.com/repos/ErikEJ/EFCorePowerTools/commits/cbd6deb3802d24770088def60a8925ca66f867f6","created_at":"2024-03-29T06:54:36Z","performed_via_github_app":null},{"actor":{"login":"firasdarwish","id":1930361,"node_id":"MDQ6VXNlcjE5MzAzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/1930361?v=4","gravatar_id":"","url":"https://api.github.com/users/firasdarwish","html_url":"https://github.com/firasdarwish","followers_url":"https://api.github.com/users/firasdarwish/followers","following_url":"https://api.github.com/users/firasdarwish/following{/other_user}","gists_url":"https://api.github.com/users/firasdarwish/gists{/gist_id}","starred_url":"https://api.github.com/users/firasdarwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/firasdarwish/subscriptions","organizations_url":"https://api.github.com/users/firasdarwish/orgs","repos_url":"https://api.github.com/users/firasdarwish/repos","events_url":"https://api.github.com/users/firasdarwish/events{/privacy}","received_events_url":"https://api.github.com/users/firasdarwish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T11:16:55Z","updated_at":"2024-04-09T11:16:55Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32598","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/32598/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/32598/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/32598/events","html_url":"https://github.com/dotnet/efcore/pull/32598","id":2038419774,"node_id":"PR_kwDOAPaMMs5h1CY-","number":32598,"title":"[release/8.0] Improve the relationship cycle breaking logic to detect cycles even when not starting on one.","user":{"login":"AndriySvyryd","id":6539701,"node_id":"MDQ6VXNlcjY1Mzk3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6539701?v=4","gravatar_id":"","url":"https://api.github.com/users/AndriySvyryd","html_url":"https://github.com/AndriySvyryd","followers_url":"https://api.github.com/users/AndriySvyryd/followers","following_url":"https://api.github.com/users/AndriySvyryd/following{/other_user}","gists_url":"https://api.github.com/users/AndriySvyryd/gists{/gist_id}","starred_url":"https://api.github.com/users/AndriySvyryd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndriySvyryd/subscriptions","organizations_url":"https://api.github.com/users/AndriySvyryd/orgs","repos_url":"https://api.github.com/users/AndriySvyryd/repos","events_url":"https://api.github.com/users/AndriySvyryd/events{/privacy}","received_events_url":"https://api.github.com/users/AndriySvyryd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/186","html_url":"https://github.com/dotnet/efcore/milestone/186","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/186/labels","id":10201144,"node_id":"MI_kwDOAPaMMs4Am6g4","number":186,"title":"8.0.2","description":null,"creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"closed","created_at":"2023-11-17T09:03:59Z","updated_at":"2024-05-05T12:55:36Z","due_on":null,"closed_at":"2024-04-09T08:40:11Z"},"comments":3,"created_at":"2023-12-12T19:26:33Z","updated_at":"2024-04-09T11:19:05Z","closed_at":"2024-01-04T17:16:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/32598","html_url":"https://github.com/dotnet/efcore/pull/32598","diff_url":"https://github.com/dotnet/efcore/pull/32598.diff","patch_url":"https://github.com/dotnet/efcore/pull/32598.patch","merged_at":"2024-01-04T17:16:42Z"},"body":"Fixes #32422\r\nPort of #32573 and #32593\r\n\r\n### Description\r\n\r\nThe issue here is that when looking for foreign key property configuration we only detected relationship cycles if the initial property was part of the cycle. The fix is to keep updating the marker property as we traverse the relationships in increasing intervals. Additionally, we now detect multiple relationship chains that end with incompatible conversions.\r\n\r\n### Customer impact\r\n\r\nException when trying to use a model that has a relationship cycle with a dangling relationship. The intended workaround of specifying the configuration explicitly doesn't work with migrations as this configuration is not stored.\r\n\r\n### How found\r\n\r\nCustomer report on 8.0.\r\n\r\n### Regression\r\n\r\nYes.\r\n\r\n### Testing\r\n\r\nTests added.\r\n\r\n### Risk\r\n\r\nLow and quirked.\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/32598/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12704983632,"node_id":"LE_lADOAPaMMs6AkINYzwAAAAL1RqpQ","url":"https://api.github.com/repos/dotnet/efcore/issues/events/12704983632","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-05-04T18:09:14Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null}]