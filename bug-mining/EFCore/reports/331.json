{"url":"https://api.github.com/repos/dotnet/efcore/issues/32234","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/32234/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/32234/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/32234/events","html_url":"https://github.com/dotnet/efcore/issues/32234","id":1977483066,"node_id":"I_kwDOAPaMMs513f86","number":32234,"title":"SqliteException \"no such column : rX.value\" when ordering on subquery value in combination with a \"where contains\" when upgrading from 7 to 8.0.0-rc.2.23480.1","user":{"login":"tim-stuyckens-materialise","id":134292323,"node_id":"U_kgDOCAEjYw","avatar_url":"https://avatars.githubusercontent.com/u/134292323?v=4","gravatar_id":"","url":"https://api.github.com/users/tim-stuyckens-materialise","html_url":"https://github.com/tim-stuyckens-materialise","followers_url":"https://api.github.com/users/tim-stuyckens-materialise/followers","following_url":"https://api.github.com/users/tim-stuyckens-materialise/following{/other_user}","gists_url":"https://api.github.com/users/tim-stuyckens-materialise/gists{/gist_id}","starred_url":"https://api.github.com/users/tim-stuyckens-materialise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tim-stuyckens-materialise/subscriptions","organizations_url":"https://api.github.com/users/tim-stuyckens-materialise/orgs","repos_url":"https://api.github.com/users/tim-stuyckens-materialise/repos","events_url":"https://api.github.com/users/tim-stuyckens-materialise/events{/privacy}","received_events_url":"https://api.github.com/users/tim-stuyckens-materialise/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":514908713,"node_id":"MDU6TGFiZWw1MTQ5MDg3MTM=","url":"https://api.github.com/repos/dotnet/efcore/labels/regression","name":"regression","color":"ff1fff","default":false,"description":null},{"id":936619505,"node_id":"MDU6TGFiZWw5MzY2MTk1MDU=","url":"https://api.github.com/repos/dotnet/efcore/labels/customer-reported","name":"customer-reported","color":"a4a5f9","default":false,"description":""},{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""},{"id":1675384372,"node_id":"MDU6TGFiZWwxNjc1Mzg0Mzcy","url":"https://api.github.com/repos/dotnet/efcore/labels/area-query","name":"area-query","color":"32b37b","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/dotnet/efcore/milestones/186","html_url":"https://github.com/dotnet/efcore/milestone/186","labels_url":"https://api.github.com/repos/dotnet/efcore/milestones/186/labels","id":10201144,"node_id":"MI_kwDOAPaMMs4Am6g4","number":186,"title":"8.0.2","description":null,"creator":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":44,"state":"closed","created_at":"2023-11-17T09:03:59Z","updated_at":"2024-05-05T12:55:36Z","due_on":null,"closed_at":"2024-04-09T08:40:11Z"},"comments":9,"created_at":"2023-11-04T19:46:49Z","updated_at":"2025-06-15T19:53:46Z","closed_at":"2024-01-04T15:10:01Z","author_association":"NONE","type":{"id":1092402,"node_id":"IT_kwDOAIt-yc4AEKsy","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T11:45:43Z","updated_at":"2024-07-26T10:20:14Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When upgrading\r\nfrom\r\n```C#\r\n   <PackageReference Include=\"Microsoft.EntityFrameworkCore.Design\" Version=\"7.0.5\">\r\n    <PackageReference Include=\"Microsoft.EntityFrameworkCore.Sqlite\" Version=\"7.0.5\" />\r\n```\r\n to \r\n```C#\r\n    <PackageReference Include=\"Microsoft.EntityFrameworkCore.Design\" Version=\"8.0.0-rc.2.23480.1\">\r\n    <PackageReference Include=\"Microsoft.EntityFrameworkCore.Sqlite\" Version=\"8.0.0-rc.2.23480.1\" />\r\n```\r\n\r\nthe following exception happens when running our test suite when querying \r\n\r\n```An exception occurred while iterating over the results of a query for context type 'Materialise.Limics.Infrastructure.LimicsContext'.\r\n      Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: r4.value'.\r\n         at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()\r\n         at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()\r\n         at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()\r\n         at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)\r\n         at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n         at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n```\r\n\r\nReason is the following part in the query (full query below)\r\n  SELECT **\"r4\"**.\"value\"\r\n              FROM json_each(@__request_RecordDefinitionIds_0) AS **\"r2\"**\r\n\r\nthe  actual test value\" request.RecordDefinitionIds\" in the c# query code is a list with one Guid. Previously this was translated as a regular equals (value was inline, as explained in  https://devblogs.microsoft.com/dotnet/announcing-ef8-preview-4/ )\r\n AND \"t5\".\"RecordDefinitionId\" = 'ACA990DF-C8BC-47FD-9CAF-B2FE4563D5EE' \r\n\r\n\r\n## C# code\r\n\r\n### query\r\n```C#\r\n            var pageNr = Math.Max(0, request.PageNr - 1);\r\n            var iterationValuesQuery = _context.IterationValues\r\n                .Include(x => x.Iteration)\r\n                .ThenInclude(x => x.Record)\r\n                .ThenInclude(x => x.RecordObject)\r\n                .Where(r => request.RecordDefinitionIds.Contains(r.Iteration.Record.RecordDefinitionId));\r\n\r\n            iterationValuesQuery = WhereMatchCriteria(request, iterationValuesQuery);\r\n\r\n            var recordIdsWithMatchCriteriaCountQuery =  iterationValuesQuery\r\n                .GroupBy(x => new { x.IterationId, x.Iteration.RecordId })\r\n                .Where(x => x.Count() >= request.Criteria.Count)\r\n                .Select(x => new\r\n                {\r\n                    x.Key.RecordId,\r\n                    x.Key.IterationId,\r\n                    //for debugging\r\n                    Count = x.Count(),\r\n                    //for sorting\r\n                    MaxTimestamp = x.Select(xx=>xx.Iteration.Timestamp).Max(),\r\n                });\r\n\r\n            var recordIdsWithMatchCriteriaCount = await  recordIdsWithMatchCriteriaCountQuery.OrderBy(x => x.MaxTimestamp)\r\n                .Skip(pageNr * request.PageSize)\r\n                .Take(request.PageSize)\r\n                .ToListAsync(cancellationToken);\r\n```\r\n### Context.OnModelCreating\r\n```C#\r\n       var recordBuilder = modelBuilder.Entity<Record>().ToTable(\"Records\", pdbSchema);\r\n       recordBuilder.HasQueryFilter(x => x.TenantId == _tenantAccessor.GetTenantId());\r\n       recordBuilder.HasMany(x => x.Iterations).WithOne(x => x.Record).IsRequired().OnDelete(DeleteBehavior.ClientCascade);\r\n\r\n       var iterationBuilder = modelBuilder.Entity<Iteration>().ToTable(\"Iterations\", pdbSchema);\r\n       iterationBuilder.HasQueryFilter(x => x.TenantId == _tenantAccessor.GetTenantId());\r\n       iterationBuilder.HasMany(x => x.IterationValues)\r\n           .WithOne(x => x.Iteration).IsRequired().OnDelete(DeleteBehavior.ClientCascade);\r\n       iterationBuilder.HasOne(x => x.Record).WithMany(x => x.Iterations).IsRequired();\r\n\r\n       var iterationValueBuilder = modelBuilder.Entity<IterationValue>().ToTable(\"IterationValues\", pdbSchema);\r\n       iterationValueBuilder.HasQueryFilter(x => x.TenantId == _tenantAccessor.GetTenantId());\r\n\r\n        var recordDefinitionBuilder = modelBuilder.Entity<RecordDefinition>()\r\n            .ToTable(\"RecordDefinitions\", pdbSchema);\r\n        recordDefinitionBuilder.HasMany(x => x.Records)\r\n            .WithOne(x => x.RecordDefinition)\r\n            .OnDelete(DeleteBehavior.ClientNoAction);\r\n```\r\n\r\n### SQL Sqlite 8.0.0-rc.2.23480.1\r\n\r\n```SQL\r\n      SELECT \"t\".\"RecordId\", \"i\".\"IterationId\", COUNT(*) AS \"Count\", (\r\n          SELECT MAX(\"t6\".\"Timestamp\")\r\n          FROM \"IterationValues\" AS \"i4\"\r\n          INNER JOIN (\r\n              SELECT \"i5\".\"Id\", \"i5\".\"DatCre\", \"i5\".\"DatLu\", \"i5\".\"IterationState\", \"i5\".\"Number\", \"i5\".\"RecordId\", \"i5\".\"TenantId\", \"i5\".\"Timestamp\", \"i5\".\"UserCre\", \"i5\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i5\"\r\n              WHERE \"i5\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t4\" ON \"i4\".\"IterationId\" = \"t4\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"r3\".\"Id\", \"r3\".\"DatCre\", \"r3\".\"DatLu\", \"r3\".\"EquipmentId\", \"r3\".\"IterationState\", \"r3\".\"RecordDefinitionId\", \"r3\".\"RecordObjectId\", \"r3\".\"TenantId\", \"r3\".\"UserCre\", \"r3\".\"UserLu\"\r\n              FROM \"Records\" AS \"r3\"\r\n              WHERE \"r3\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t5\" ON \"t4\".\"RecordId\" = \"t5\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"i6\".\"Id\", \"i6\".\"DatCre\", \"i6\".\"DatLu\", \"i6\".\"IterationState\", \"i6\".\"Number\", \"i6\".\"RecordId\", \"i6\".\"TenantId\", \"i6\".\"Timestamp\", \"i6\".\"UserCre\", \"i6\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i6\"\r\n              WHERE \"i6\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t6\" ON \"i4\".\"IterationId\" = \"t6\".\"Id\"\r\n          WHERE \"i4\".\"TenantId\" = @__ef_filter__p_0 AND \"t5\".\"RecordDefinitionId\" IN (\r\n              SELECT \"r4\".\"value\"\r\n              FROM json_each(@__request_RecordDefinitionIds_0) AS \"r4\"\r\n          ) AND \"i\".\"IterationId\" = \"i4\".\"IterationId\" AND \"t\".\"RecordId\" = \"t4\".\"RecordId\") AS \"MaxTimestamp\"\r\n      FROM \"IterationValues\" AS \"i\"\r\n      INNER JOIN (\r\n          SELECT \"i0\".\"Id\", \"i0\".\"RecordId\"\r\n          FROM \"Iterations\" AS \"i0\"\r\n          WHERE \"i0\".\"TenantId\" = @__ef_filter__p_0\r\n      ) AS \"t\" ON \"i\".\"IterationId\" = \"t\".\"Id\"\r\n      INNER JOIN (\r\n          SELECT \"r\".\"Id\", \"r\".\"RecordDefinitionId\"\r\n          FROM \"Records\" AS \"r\"\r\n          WHERE \"r\".\"TenantId\" = @__ef_filter__p_0\r\n      ) AS \"t0\" ON \"t\".\"RecordId\" = \"t0\".\"Id\"\r\n      WHERE \"i\".\"TenantId\" = @__ef_filter__p_0 AND \"t0\".\"RecordDefinitionId\" IN (\r\n          SELECT \"r0\".\"value\"\r\n          FROM json_each(@__request_RecordDefinitionIds_0) AS \"r0\"\r\n      )\r\n      GROUP BY \"i\".\"IterationId\", \"t\".\"RecordId\"\r\n      HAVING COUNT(*) >= @__request_Criteria_Count_1\r\n      ORDER BY (\r\n          SELECT MAX(\"t6\".\"Timestamp\")\r\n          FROM \"IterationValues\" AS \"i4\"\r\n          INNER JOIN (\r\n              SELECT \"i5\".\"Id\", \"i5\".\"DatCre\", \"i5\".\"DatLu\", \"i5\".\"IterationState\", \"i5\".\"Number\", \"i5\".\"RecordId\", \"i5\".\"TenantId\", \"i5\".\"Timestamp\", \"i5\".\"UserCre\", \"i5\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i5\"\r\n              WHERE \"i5\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t4\" ON \"i4\".\"IterationId\" = \"t4\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"r3\".\"Id\", \"r3\".\"DatCre\", \"r3\".\"DatLu\", \"r3\".\"EquipmentId\", \"r3\".\"IterationState\", \"r3\".\"RecordDefinitionId\", \"r3\".\"RecordObjectId\", \"r3\".\"TenantId\", \"r3\".\"UserCre\", \"r3\".\"UserLu\"\r\n              FROM \"Records\" AS \"r3\"\r\n              WHERE \"r3\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t5\" ON \"t4\".\"RecordId\" = \"t5\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"i6\".\"Id\", \"i6\".\"DatCre\", \"i6\".\"DatLu\", \"i6\".\"IterationState\", \"i6\".\"Number\", \"i6\".\"RecordId\", \"i6\".\"TenantId\", \"i6\".\"Timestamp\", \"i6\".\"UserCre\", \"i6\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i6\"\r\n              WHERE \"i6\".\"TenantId\" = @__ef_filter__p_0\r\n          ) AS \"t6\" ON \"i4\".\"IterationId\" = \"t6\".\"Id\"\r\n          WHERE \"i4\".\"TenantId\" = @__ef_filter__p_0 AND \"t5\".\"RecordDefinitionId\" IN (\r\n              SELECT \"r4\".\"value\"\r\n              FROM json_each(@__request_RecordDefinitionIds_0) AS \"r2\"\r\n          ) AND \"i\".\"IterationId\" = \"i4\".\"IterationId\" AND \"t\".\"RecordId\" = \"t4\".\"RecordId\")\r\n      LIMIT @__p_3 OFFSET @__p_2\r\n```\r\n\r\n### Sql sqlite 7.05\r\n\r\n```SQL\r\n      SELECT \"t\".\"RecordId\", \"i\".\"IterationId\", COUNT(*) AS \"Count\", (\r\n          SELECT MAX(\"t6\".\"Timestamp\")\r\n          FROM \"IterationValues\" AS \"i4\"\r\n          INNER JOIN (\r\n              SELECT \"i5\".\"Id\", \"i5\".\"DatCre\", \"i5\".\"DatLu\", \"i5\".\"IterationState\", \"i5\".\"Number\", \"i5\".\"RecordId\", \"i5\".\"TenantId\", \"i5\".\"Timestamp\", \"i5\".\"UserCre\", \"i5\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i5\"\r\n              WHERE \"i5\".\"TenantId\" = @__ef_filter__p_1\r\n          ) AS \"t4\" ON \"i4\".\"IterationId\" = \"t4\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"r1\".\"Id\", \"r1\".\"DatCre\", \"r1\".\"DatLu\", \"r1\".\"EquipmentId\", \"r1\".\"IterationState\", \"r1\".\"RecordDefinitionId\", \"r1\".\"RecordObjectId\", \"r1\".\"TenantId\", \"r1\".\"UserCre\", \"r1\".\"UserLu\"\r\n              FROM \"Records\" AS \"r1\"\r\n              WHERE \"r1\".\"TenantId\" = @__ef_filter__p_2\r\n          ) AS \"t5\" ON \"t4\".\"RecordId\" = \"t5\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"i6\".\"Id\", \"i6\".\"DatCre\", \"i6\".\"DatLu\", \"i6\".\"IterationState\", \"i6\".\"Number\", \"i6\".\"RecordId\", \"i6\".\"TenantId\", \"i6\".\"Timestamp\", \"i6\".\"UserCre\", \"i6\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i6\"\r\n              WHERE \"i6\".\"TenantId\" = @__ef_filter__p_1\r\n          ) AS \"t6\" ON \"i4\".\"IterationId\" = \"t6\".\"Id\"\r\n          WHERE \"i4\".\"TenantId\" = @__ef_filter__p_0 AND \"t5\".\"RecordDefinitionId\" = 'ACA990DF-C8BC-47FD-9CAF-B2FE4563D5EE' AND \"i\".\"IterationId\" = \"i4\".\"IterationId\" AND \"t\".\"RecordId\" = \"t4\".\"RecordId\") AS \"MaxTimestamp\"\r\n      FROM \"IterationValues\" AS \"i\"\r\n      INNER JOIN (\r\n          SELECT \"i0\".\"Id\", \"i0\".\"RecordId\"\r\n          FROM \"Iterations\" AS \"i0\"\r\n          WHERE \"i0\".\"TenantId\" = @__ef_filter__p_1\r\n      ) AS \"t\" ON \"i\".\"IterationId\" = \"t\".\"Id\"\r\n      INNER JOIN (\r\n          SELECT \"r\".\"Id\", \"r\".\"RecordDefinitionId\"\r\n          FROM \"Records\" AS \"r\"\r\n          WHERE \"r\".\"TenantId\" = @__ef_filter__p_2\r\n      ) AS \"t0\" ON \"t\".\"RecordId\" = \"t0\".\"Id\"\r\n      WHERE \"i\".\"TenantId\" = @__ef_filter__p_0 AND \"t0\".\"RecordDefinitionId\" = 'ACA990DF-C8BC-47FD-9CAF-B2FE4563D5EE'\r\n      GROUP BY \"i\".\"IterationId\", \"t\".\"RecordId\"\r\n      HAVING COUNT(*) >= @__request_Criteria_Count_1\r\n      ORDER BY (\r\n          SELECT MAX(\"t6\".\"Timestamp\")\r\n          FROM \"IterationValues\" AS \"i4\"\r\n          INNER JOIN (\r\n              SELECT \"i5\".\"Id\", \"i5\".\"DatCre\", \"i5\".\"DatLu\", \"i5\".\"IterationState\", \"i5\".\"Number\", \"i5\".\"RecordId\", \"i5\".\"TenantId\", \"i5\".\"Timestamp\", \"i5\".\"UserCre\", \"i5\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i5\"\r\n              WHERE \"i5\".\"TenantId\" = @__ef_filter__p_1\r\n          ) AS \"t4\" ON \"i4\".\"IterationId\" = \"t4\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"r1\".\"Id\", \"r1\".\"DatCre\", \"r1\".\"DatLu\", \"r1\".\"EquipmentId\", \"r1\".\"IterationState\", \"r1\".\"RecordDefinitionId\", \"r1\".\"RecordObjectId\", \"r1\".\"TenantId\", \"r1\".\"UserCre\", \"r1\".\"UserLu\"\r\n              FROM \"Records\" AS \"r1\"\r\n              WHERE \"r1\".\"TenantId\" = @__ef_filter__p_2\r\n          ) AS \"t5\" ON \"t4\".\"RecordId\" = \"t5\".\"Id\"\r\n          INNER JOIN (\r\n              SELECT \"i6\".\"Id\", \"i6\".\"DatCre\", \"i6\".\"DatLu\", \"i6\".\"IterationState\", \"i6\".\"Number\", \"i6\".\"RecordId\", \"i6\".\"TenantId\", \"i6\".\"Timestamp\", \"i6\".\"UserCre\", \"i6\".\"UserLu\"\r\n              FROM \"Iterations\" AS \"i6\"\r\n              WHERE \"i6\".\"TenantId\" = @__ef_filter__p_1\r\n          ) AS \"t6\" ON \"i4\".\"IterationId\" = \"t6\".\"Id\"\r\n          WHERE \"i4\".\"TenantId\" = @__ef_filter__p_0 AND \"t5\".\"RecordDefinitionId\" = 'ACA990DF-C8BC-47FD-9CAF-B2FE4563D5EE' AND \"i\".\"IterationId\" = \"i4\".\"IterationId\" AND \"t\".\"RecordId\" = \"t4\".\"RecordId\")\r\n      LIMIT @__p_3 OFFSET @__p_2\r\n```\r\n\r\n### provider and version information\r\n\r\nEF Core version:\r\nDatabase provider: (e.g. Microsoft.EntityFrameworkCore.Sqlite)\r\nTarget framework: (e.g. .NET 8.0)\r\nOperating system:\r\nIDE: 17.8.0 Preview 5.0\r\n\r\n","closed_by":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/32234/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/32234/timeline","performed_via_github_app":null,"state_reason":"completed"}