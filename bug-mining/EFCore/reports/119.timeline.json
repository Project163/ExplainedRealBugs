[{"id":7328424903,"node_id":"LE_lADOAPaMMs5RPPYazwAAAAG0zuPH","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7328424903","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T09:04:26Z","label":{"name":"customer-reported","color":"a4a5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1237935839","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1237935839","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1237935839,"node_id":"IC_kwDOAPaMMs5JyWbf","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T10:00:51Z","updated_at":"2022-09-06T10:00:51Z","body":"Yeah, thanks for flagging this.\r\n\r\nWe reuse the same RelationalDataReader instance across RelationalCommand invocations, since EF 6.0 (part of the query optimizations). RelationalDataReader maintains a reference to its DbDataReader, which is provided each time Initialize is called; but that reference is only removed when the same instance of RelationalDataReader is reused for another query. This isn't a problem for e.g. SqlDataReader, but it's a problem for BufferedDataReader. And since RelationalDataReader is cached all the way to the RelationalConnection, we potentially have 1024 pooled contexts, each with its own RelationalDataReader referencing a BufferedDataReader.\r\n\r\nWe should clear out the reference to the DbDataReader when RelationalDataReader is disposed.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1237935839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7328918981,"node_id":"LE_lADOAPaMMs5RPPYazwAAAAG01m3F","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7328918981","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T10:00:57Z","label":{"name":"type-bug","color":"f7c6c7"},"performed_via_github_app":null},{"id":7328919454,"node_id":"LE_lADOAPaMMs5RPPYazwAAAAG01m-e","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7328919454","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T10:01:01Z","label":{"name":"area-perf","color":"5319e7"},"performed_via_github_app":null},{"id":7328919597,"node_id":"AE_lADOAPaMMs5RPPYazwAAAAG01nAt","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7328919597","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-09-06T10:01:02Z","assignee":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":7329195762,"node_id":"REFE_lADOAPaMMs5RPPYazwAAAAG02qby","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7329195762","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e9e4754545a7da4f2b6a0b10f0d4853c847f0085","commit_url":"https://api.github.com/repos/roji/efcore/commits/e9e4754545a7da4f2b6a0b10f0d4853c847f0085","created_at":"2022-09-06T10:38:09Z","performed_via_github_app":null},{"id":7329197362,"node_id":"REFE_lADOAPaMMs5RPPYazwAAAAG02q0y","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7329197362","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"06a8e7f3117d9b56ced4d4e3cec9df32db1e0560","commit_url":"https://api.github.com/repos/roji/efcore/commits/06a8e7f3117d9b56ced4d4e3cec9df32db1e0560","created_at":"2022-09-06T10:38:23Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T10:39:11Z","updated_at":"2022-09-06T10:39:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/28989","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/28989/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/28989/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/28989/events","html_url":"https://github.com/dotnet/efcore/pull/28989","id":1363078068,"node_id":"PR_kwDOAPaMMs4-bc5D","number":28989,"title":"Clear reference to DbDataReader from RelationalDataReader","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-06T10:39:10Z","updated_at":"2022-09-07T06:43:48Z","closed_at":"2022-09-07T06:43:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/28989","html_url":"https://github.com/dotnet/efcore/pull/28989","diff_url":"https://github.com/dotnet/efcore/pull/28989.diff","patch_url":"https://github.com/dotnet/efcore/pull/28989.patch","merged_at":"2022-09-07T06:43:45Z"},"body":"Fixes #28988\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/28989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/28989/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7329213724,"node_id":"LE_lADOAPaMMs5RPPYazwAAAAG02u0c","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7329213724","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-06T10:40:48Z","label":{"name":"Servicing-consider","color":"bfd4f2"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238183570","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238183570","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238183570,"node_id":"IC_kwDOAPaMMs5JzS6S","user":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T13:52:54Z","updated_at":"2022-09-06T13:52:54Z","body":"I'm wondering about the disposal of _currentResultSet i BufferedDataReader. \r\n\r\nThe memory dump show that the memory is referenced in _currentResultSet and this is not disposed/cleared when BufferedDataReader is Closed / Disposed:\r\n\r\nBufferedDataReader.cs:\r\n````\r\n    public override void Close()\r\n    {\r\n        _bufferedDataRecords = null!;\r\n        _isClosed = true;\r\n\r\n        var reader = _underlyingReader;\r\n        if (reader != null)\r\n        {\r\n            _underlyingReader = null;\r\n            reader.Dispose();\r\n        }\r\n    }\r\n\r\n    protected override void Dispose(bool disposing)\r\n    {\r\n        if (!_disposed\r\n            && disposing\r\n            && !IsClosed)\r\n        {\r\n            Close();\r\n        }\r\n\r\n        _disposed = true;\r\n\r\n        base.Dispose(disposing);\r\n    }\r\n````\r\n\r\nShouldn't _currentResultSet variable also be disposed/set to null? ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238183570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238188582","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238188582","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238188582,"node_id":"IC_kwDOAPaMMs5JzUIm","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T13:56:42Z","updated_at":"2022-09-06T13:56:42Z","body":"My approach in #28989 was simply to sever the reference from RelationalDataReader (which is recycled and therefore referenced from pooled DbContext instances) to DbDataReader. Unless I'm missing something, that means that BufferedDataReader and all of its referenced data (including _currentResultSet) should become eligible for garbage collection once the query's enumerator is disposed.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238188582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238197324","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238197324","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238197324,"node_id":"IC_kwDOAPaMMs5JzWRM","user":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T14:03:16Z","updated_at":"2022-09-06T14:03:16Z","body":"Yes, that will work for PooledDbContext but if you have a long living DbContext the _currentResultSet variable will not be cleared until the next query is executed. \r\n\r\nMaybe no problem. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238197324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238201684","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238201684","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238201684,"node_id":"IC_kwDOAPaMMs5JzXVU","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T14:06:36Z","updated_at":"2022-09-06T14:06:36Z","body":"> Yes, that will work for PooledDbContext but if you have a long living DbContext the _currentResultSet variable will not be cleared until the next query is executed.\r\n\r\nWhy is that? Context pooling shouldn't be relevant here; the moment a query enumerator is disposed (the query finishes evaluating), RelationalDataReader.Dispose() is called, and #28989 that sets RelationalDataReader._reader to null. At this point there should be no more references to the BufferedDataReader and the GC can reclaim it. \r\n\r\nOr are you seeing something different in the code?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238201684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238211654","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238211654","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238211654,"node_id":"IC_kwDOAPaMMs5JzZxG","user":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T14:14:06Z","updated_at":"2022-09-06T14:14:06Z","body":"No, my mistake from not being so familiar with the internals of EF Core. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238211654/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238222491","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238222491","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238222491,"node_id":"IC_kwDOAPaMMs5Jzcab","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T14:21:54Z","updated_at":"2022-09-06T14:21:54Z","body":"No problem, it's great to have another pair of eyes on this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238222491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7335910933,"node_id":"CE_lADOAPaMMs5RPPYazwAAAAG1QR4V","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7335910933","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-09-07T06:43:46Z","state_reason":null,"performed_via_github_app":null},{"id":7335910970,"node_id":"REFE_lADOAPaMMs5RPPYazwAAAAG1QR46","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7335910970","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4bb67a7b56d10f7989f0115b1d978be418018dc8","commit_url":"https://api.github.com/repos/dotnet/efcore/commits/4bb67a7b56d10f7989f0115b1d978be418018dc8","created_at":"2022-09-07T06:43:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238974125","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238974125","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238974125,"node_id":"IC_kwDOAPaMMs5J2T6t","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T06:44:02Z","updated_at":"2022-09-07T06:44:02Z","body":"Reopening to consider for servicing.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238974125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7335912437,"node_id":"REE_lADOAPaMMs5RPPYazwAAAAG1QSP1","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7335912437","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2022-09-07T06:44:03Z","state_reason":"reopened","performed_via_github_app":null},{"id":7335988008,"node_id":"REFE_lADOAPaMMs5RPPYazwAAAAG1Qkso","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7335988008","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"81db41a805d9dd25d5528fb038a8217667157e44","commit_url":"https://api.github.com/repos/roji/efcore/commits/81db41a805d9dd25d5528fb038a8217667157e44","created_at":"2022-09-07T06:57:12Z","performed_via_github_app":null},{"id":7335992485,"node_id":"REFE_lADOAPaMMs5RPPYazwAAAAG1Qlyl","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7335992485","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c5950aad0994637c3db936605091de38dd022149","commit_url":"https://api.github.com/repos/roji/efcore/commits/c5950aad0994637c3db936605091de38dd022149","created_at":"2022-09-07T06:57:55Z","performed_via_github_app":null},{"actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T07:02:52Z","updated_at":"2022-09-07T07:02:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29005","repository_url":"https://api.github.com/repos/dotnet/efcore","labels_url":"https://api.github.com/repos/dotnet/efcore/issues/29005/labels{/name}","comments_url":"https://api.github.com/repos/dotnet/efcore/issues/29005/comments","events_url":"https://api.github.com/repos/dotnet/efcore/issues/29005/events","html_url":"https://github.com/dotnet/efcore/pull/29005","id":1364190997,"node_id":"PR_kwDOAPaMMs4-fIQA","number":29005,"title":"[release/6.0] Clear reference to DbDataReader from RelationalDataReader","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1017558838,"node_id":"MDU6TGFiZWwxMDE3NTU4ODM4","url":"https://api.github.com/repos/dotnet/efcore/labels/Servicing-approved","name":"Servicing-approved","color":"048708","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-07T07:02:52Z","updated_at":"2025-06-13T06:33:21Z","closed_at":"2022-10-04T20:07:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16157746,"node_id":"MDEwOlJlcG9zaXRvcnkxNjE1Nzc0Ng==","name":"efcore","full_name":"dotnet/efcore","private":false,"owner":{"login":"dotnet","id":9141961,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkxNDE5NjE=","avatar_url":"https://avatars.githubusercontent.com/u/9141961?v=4","gravatar_id":"","url":"https://api.github.com/users/dotnet","html_url":"https://github.com/dotnet","followers_url":"https://api.github.com/users/dotnet/followers","following_url":"https://api.github.com/users/dotnet/following{/other_user}","gists_url":"https://api.github.com/users/dotnet/gists{/gist_id}","starred_url":"https://api.github.com/users/dotnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dotnet/subscriptions","organizations_url":"https://api.github.com/users/dotnet/orgs","repos_url":"https://api.github.com/users/dotnet/repos","events_url":"https://api.github.com/users/dotnet/events{/privacy}","received_events_url":"https://api.github.com/users/dotnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dotnet/efcore","description":"EF Core is a modern object-database mapper for .NET. It supports LINQ queries, change tracking, updates, and schema migrations.","fork":false,"url":"https://api.github.com/repos/dotnet/efcore","forks_url":"https://api.github.com/repos/dotnet/efcore/forks","keys_url":"https://api.github.com/repos/dotnet/efcore/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dotnet/efcore/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dotnet/efcore/teams","hooks_url":"https://api.github.com/repos/dotnet/efcore/hooks","issue_events_url":"https://api.github.com/repos/dotnet/efcore/issues/events{/number}","events_url":"https://api.github.com/repos/dotnet/efcore/events","assignees_url":"https://api.github.com/repos/dotnet/efcore/assignees{/user}","branches_url":"https://api.github.com/repos/dotnet/efcore/branches{/branch}","tags_url":"https://api.github.com/repos/dotnet/efcore/tags","blobs_url":"https://api.github.com/repos/dotnet/efcore/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dotnet/efcore/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dotnet/efcore/git/refs{/sha}","trees_url":"https://api.github.com/repos/dotnet/efcore/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dotnet/efcore/statuses/{sha}","languages_url":"https://api.github.com/repos/dotnet/efcore/languages","stargazers_url":"https://api.github.com/repos/dotnet/efcore/stargazers","contributors_url":"https://api.github.com/repos/dotnet/efcore/contributors","subscribers_url":"https://api.github.com/repos/dotnet/efcore/subscribers","subscription_url":"https://api.github.com/repos/dotnet/efcore/subscription","commits_url":"https://api.github.com/repos/dotnet/efcore/commits{/sha}","git_commits_url":"https://api.github.com/repos/dotnet/efcore/git/commits{/sha}","comments_url":"https://api.github.com/repos/dotnet/efcore/comments{/number}","issue_comment_url":"https://api.github.com/repos/dotnet/efcore/issues/comments{/number}","contents_url":"https://api.github.com/repos/dotnet/efcore/contents/{+path}","compare_url":"https://api.github.com/repos/dotnet/efcore/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dotnet/efcore/merges","archive_url":"https://api.github.com/repos/dotnet/efcore/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dotnet/efcore/downloads","issues_url":"https://api.github.com/repos/dotnet/efcore/issues{/number}","pulls_url":"https://api.github.com/repos/dotnet/efcore/pulls{/number}","milestones_url":"https://api.github.com/repos/dotnet/efcore/milestones{/number}","notifications_url":"https://api.github.com/repos/dotnet/efcore/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dotnet/efcore/labels{/name}","releases_url":"https://api.github.com/repos/dotnet/efcore/releases{/id}","deployments_url":"https://api.github.com/repos/dotnet/efcore/deployments","created_at":"2014-01-23T00:52:01Z","updated_at":"2025-11-10T14:21:49Z","pushed_at":"2025-11-10T05:59:58Z","git_url":"git://github.com/dotnet/efcore.git","ssh_url":"git@github.com:dotnet/efcore.git","clone_url":"https://github.com/dotnet/efcore.git","svn_url":"https://github.com/dotnet/efcore","homepage":"https://learn.microsoft.com/ef/","size":215987,"stargazers_count":14455,"watchers_count":14455,"language":"C#","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3324,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2430,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["aspnet-product","c-sharp","database","dotnet-core","dotnet-framework","dotnet-standard","entity-framework","hacktoberfest","orm"],"visibility":"public","forks":3324,"open_issues":2430,"watchers":14455,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/dotnet/efcore/pulls/29005","html_url":"https://github.com/dotnet/efcore/pull/29005","diff_url":"https://github.com/dotnet/efcore/pull/29005.diff","patch_url":"https://github.com/dotnet/efcore/pull/29005.patch","merged_at":"2022-10-04T20:07:42Z"},"body":"Fixes #28988\r\n\r\n**Description**\r\n\r\nIn EF Core 6.0, we started recycling RelationalDataReader instances across RelationalCommand invocations, to optimize the query pipeline and cut down on needless allocations. However, the RelationalDataReader retains its reference to its DbDataReader until a new query is executed; if a BufferedDataReader is used, that can mean needlessly preventing garbage collection of lots of all query data. This is exarcebated by context pooling (where the context is kept around for much longer).\r\n\r\n**Customer impact**\r\n\r\nSignificantly increased memory usage when a retrying execution is used, context pooling is activated and large results are queries from the database.\r\n\r\n**How found**\r\n\r\nCustomer reported on 6.0\r\n\r\n**Regression**\r\n\r\nYes, in 6.0.\r\n\r\n**Testing**\r\n\r\nAdded a test.\r\n\r\n**Risk**\r\n\r\nLow.\r\n\r\nThis is port of #28989 which was already merged for 7.0.\r\n","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/29005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/dotnet/efcore/issues/29005/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238991342","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1238991342","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1238991342,"node_id":"IC_kwDOAPaMMs5J2YHu","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-07T07:04:17Z","updated_at":"2022-09-07T07:04:17Z","body":"@jonnybee I've merged #28989 for 7.0 and submitted #29005 for considering for 6.0.\r\n\r\nCan you please try out [the latest 7.0 daily build](https://github.com/dotnet/efcore/blob/release/7.0/docs/DailyBuilds.md) and confirm that it fixes the issue for you?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1238991342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7336032623,"node_id":"MEE_lADOAPaMMs5RPPYazwAAAAG1Qvlv","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7336032623","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-09-07T07:04:18Z","performed_via_github_app":null},{"id":7336032631,"node_id":"SE_lADOAPaMMs5RPPYazwAAAAG1Qvl3","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7336032631","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-09-07T07:04:18Z","performed_via_github_app":null},{"id":7336033617,"node_id":"LE_lADOAPaMMs5RPPYazwAAAAG1Qv1R","url":"https://api.github.com/repos/dotnet/efcore/issues/events/7336033617","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-09-07T07:04:27Z","label":{"name":"area-query","color":"32b37b"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246610345","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1246610345","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1246610345,"node_id":"IC_kwDOAPaMMs5KTcOp","user":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T11:11:38Z","updated_at":"2022-09-14T11:11:38Z","body":"First of all - I have verified that the fix in main is good for EF Core 7. \r\n\r\nI have tried to create private build from main (release/7.0) and it does compile fine but the assemblies, although compiled for .NET 6, references  Microsoft.Extensions.* v7.0.0 and then fails on assembly load at runtime. \r\n\r\nI have then done further memory profiling with private builds of code in release/6.0 branch and have found on more issue in StateManager: \r\n\r\nAs-Is: after DbContexts has been returned to pool: \r\n![image](https://user-images.githubusercontent.com/3512406/190118316-c5b95d99-04a0-491c-8f31-c275229e54b2.png)\r\n\r\nThen changed StateManager.Clear() method to set IdentityMap(s) properties to null:  \r\n\r\n````\r\npublic virtual void Clear()\r\n{\r\n    Unsubscribe();\r\n    ChangedCount = 0;\r\n    _entityReferenceMap.Clear();\r\n    _referencedUntrackedEntities = null;\r\n \r\n    _identityMaps?.Clear();\r\n    _identityMaps = null!;\r\n    _identityMap0 = null!;\r\n    _identityMap1 = null!;\r\n````\r\n\r\nand I get this result: \r\n![image](https://user-images.githubusercontent.com/3512406/190138875-1911a9fb-3fee-4d57-b0d8-d592301e0fea.png)\r\n\r\nWhich shows that IdentityMaps have now been collected and cleared from memory. \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246610345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246625887","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1246625887","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1246625887,"node_id":"IC_kwDOAPaMMs5KTgBf","user":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T11:26:30Z","updated_at":"2022-09-14T11:26:30Z","body":"> I have tried to create private build from main\r\n\r\nYou shouldn't need to build yourself, rather just use the [daily build feed](https://github.com/dotnet/efcore/blob/release/7.0/docs/DailyBuilds.md).\r\n\r\n> have found on more issue in StateManager:\r\n\r\nThanks! we'll look into this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246625887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajcvickers","id":1430078,"node_id":"MDQ6VXNlcjE0MzAwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1430078?v=4","gravatar_id":"","url":"https://api.github.com/users/ajcvickers","html_url":"https://github.com/ajcvickers","followers_url":"https://api.github.com/users/ajcvickers/followers","following_url":"https://api.github.com/users/ajcvickers/following{/other_user}","gists_url":"https://api.github.com/users/ajcvickers/gists{/gist_id}","starred_url":"https://api.github.com/users/ajcvickers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajcvickers/subscriptions","organizations_url":"https://api.github.com/users/ajcvickers/orgs","repos_url":"https://api.github.com/users/ajcvickers/repos","events_url":"https://api.github.com/users/ajcvickers/events{/privacy}","received_events_url":"https://api.github.com/users/ajcvickers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246632366","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1246632366","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1246632366,"node_id":"IC_kwDOAPaMMs5KThmu","user":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T11:33:00Z","updated_at":"2022-09-14T11:33:00Z","body":"I verified the fix from the daily build feed but tried to test changes in Clear method in StateManager by creating a private build and that failed on assembly load at runtime in my test program. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246632366/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jonnybee","id":3512406,"node_id":"MDQ6VXNlcjM1MTI0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3512406?v=4","gravatar_id":"","url":"https://api.github.com/users/jonnybee","html_url":"https://github.com/jonnybee","followers_url":"https://api.github.com/users/jonnybee/followers","following_url":"https://api.github.com/users/jonnybee/following{/other_user}","gists_url":"https://api.github.com/users/jonnybee/gists{/gist_id}","starred_url":"https://api.github.com/users/jonnybee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonnybee/subscriptions","organizations_url":"https://api.github.com/users/jonnybee/orgs","repos_url":"https://api.github.com/users/jonnybee/repos","events_url":"https://api.github.com/users/jonnybee/events{/privacy}","received_events_url":"https://api.github.com/users/jonnybee/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246817290","html_url":"https://github.com/dotnet/efcore/issues/28988#issuecomment-1246817290","issue_url":"https://api.github.com/repos/dotnet/efcore/issues/28988","id":1246817290,"node_id":"IC_kwDOAPaMMs5KUOwK","user":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T14:05:53Z","updated_at":"2022-09-14T14:05:53Z","body":"@jonnybee can you please open a new issue for the above so we can track it separately from the original issue?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/dotnet/efcore/issues/comments/1246817290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"roji","id":1862641,"node_id":"MDQ6VXNlcjE4NjI2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1862641?v=4","gravatar_id":"","url":"https://api.github.com/users/roji","html_url":"https://github.com/roji","followers_url":"https://api.github.com/users/roji/followers","following_url":"https://api.github.com/users/roji/following{/other_user}","gists_url":"https://api.github.com/users/roji/gists{/gist_id}","starred_url":"https://api.github.com/users/roji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roji/subscriptions","organizations_url":"https://api.github.com/users/roji/orgs","repos_url":"https://api.github.com/users/roji/repos","events_url":"https://api.github.com/users/roji/events{/privacy}","received_events_url":"https://api.github.com/users/roji/received_events","type":"User","user_view_type":"public","site_admin":false}}]