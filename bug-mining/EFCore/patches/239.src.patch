diff --git a/All.sln.DotSettings b/All.sln.DotSettings
index 5d6edfea13..50460d834b 100644
--- a/All.sln.DotSettings
+++ b/All.sln.DotSettings
@@ -135,6 +135,7 @@
 	<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/FORCE_USING_BRACES_STYLE/@EntryValue">ALWAYS_ADD</s:String>
 	<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/FORCE_WHILE_BRACES_STYLE/@EntryValue">ALWAYS_ADD</s:String>
 	<s:Boolean x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/INDENT_NESTED_USINGS_STMT/@EntryValue">False</s:Boolean>
+	<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/INDENT_RAW_LITERAL_STRING/@EntryValue">DO_NOT_CHANGE</s:String>
 	<s:String x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/INITIALIZER_BRACES/@EntryValue">NEXT_LINE</s:String>
 	<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/KEEP_BLANK_LINES_IN_CODE/@EntryValue">1</s:Int64>
 	<s:Int64 x:Key="/Default/CodeStyle/CodeFormatting/CSharpFormat/KEEP_BLANK_LINES_IN_DECLARATIONS/@EntryValue">1</s:Int64>
diff --git a/src/EFCore.Relational/Query/RelationalQueryableMethodTranslatingExpressionVisitor.cs b/src/EFCore.Relational/Query/RelationalQueryableMethodTranslatingExpressionVisitor.cs
index 6d80af4e07..01db9271b8 100644
--- a/src/EFCore.Relational/Query/RelationalQueryableMethodTranslatingExpressionVisitor.cs
+++ b/src/EFCore.Relational/Query/RelationalQueryableMethodTranslatingExpressionVisitor.cs
@@ -539,7 +539,23 @@ protected override ShapedQueryExpression TranslateConcat(ShapedQueryExpression s
             || !TryGetProjection(source, out var projection))
         {
             // If the item can't be translated, we can't translate to an IN expression.
-            // However, attempt to translate as Any since that passes through Where predicate translation, which e.g. does entity equality.
+
+            // We do attempt one thing: if this is a contains over an entity type which has a single key property (non-composite key),
+            // we can project its key property (entity equality/containment) and translate to InExpression over that.
+            if (item is EntityShaperExpression { EntityType: var entityType }
+                && entityType.FindPrimaryKey()?.Properties is [var singleKeyProperty])
+            {
+                var keySelectorParam = Expression.Parameter(source.Type);
+
+                return TranslateContains(
+                    TranslateSelect(
+                        source,
+                        Expression.Lambda(keySelectorParam.CreateEFPropertyExpression(singleKeyProperty), keySelectorParam)),
+                    item.CreateEFPropertyExpression(singleKeyProperty));
+            }
+
+            // Otherwise, attempt to translate as Any since that passes through Where predicate translation. This will e.g. take care of
+            // entity , which e.g. does entity equality/containment for entities with composite keys.
             var anyLambdaParameter = Expression.Parameter(item.Type, "p");
             var anyLambda = Expression.Lambda(
                 Infrastructure.ExpressionExtensions.CreateEqualsExpression(anyLambdaParameter, item),
@@ -1321,6 +1337,9 @@ protected override ShapedQueryExpression TranslateUnion(ShapedQueryExpression so
             return null;
         }
 
+        // First, check if the provider has a native translation for the delete represented by the select expression.
+        // The default relational implementation handles simple, universally-supported cases (i.e. no operators except for predicate).
+        // Providers may override IsValidSelectExpressionForExecuteDelete to add support for more cases via provider-specific DELETE syntax.
         var selectExpression = (SelectExpression)source.QueryExpression;
         if (IsValidSelectExpressionForExecuteDelete(selectExpression, entityShaperExpression, out var tableExpression))
         {
@@ -1357,7 +1376,9 @@ static bool AreOtherNonOwnedEntityTypesInTheTable(IEntityType rootType, ITableBa
             }
         }
 
-        // We need to convert to PK predicate
+        // The provider doesn't natively support the delete.
+        // As a fallback, we place the original query in a Contains subquery, which will get translated via the regular entity equality/
+        // containment mechanism (InExpression for non-composite keys, Any for composite keys)
         var pk = entityType.FindPrimaryKey();
         if (pk == null)
         {
@@ -1370,14 +1391,7 @@ static bool AreOtherNonOwnedEntityTypesInTheTable(IEntityType rootType, ITableBa
 
         var clrType = entityType.ClrType;
         var entityParameter = Expression.Parameter(clrType);
-        var innerParameter = Expression.Parameter(clrType);
-        var predicateBody = Expression.Call(
-            QueryableMethods.AnyWithPredicate.MakeGenericMethod(clrType),
-            source,
-            Expression.Quote(
-                Expression.Lambda(
-                    Infrastructure.ExpressionExtensions.CreateEqualsExpression(innerParameter, entityParameter),
-                    innerParameter)));
+        var predicateBody = Expression.Call(QueryableMethods.Contains.MakeGenericMethod(clrType), source, entityParameter);
 
         var newSource = Expression.Call(
             QueryableMethods.Where.MakeGenericMethod(clrType),
@@ -1481,6 +1495,9 @@ static bool AreOtherNonOwnedEntityTypesInTheTable(IEntityType rootType, ITableBa
             return null;
         }
 
+        // First, check if the provider has a native translation for the update represented by the select expression.
+        // The default relational implementation handles simple, universally-supported cases (i.e. no operators except for predicate).
+        // Providers may override IsValidSelectExpressionForExecuteDelete to add support for more cases via provider-specific UPDATE syntax.
         var selectExpression = (SelectExpression)source.QueryExpression;
         if (IsValidSelectExpressionForExecuteUpdate(selectExpression, entityShaperExpression, out var tableExpression))
         {
@@ -1489,7 +1506,10 @@ static bool AreOtherNonOwnedEntityTypesInTheTable(IEntityType rootType, ITableBa
                 propertyValueLambdaExpressions, remappedUnwrappedLeftExpressions);
         }
 
-        // We need to convert to join with original query using PK
+        // The provider doesn't natively support the update.
+        // As a fallback, we place the original query in a subquery and user an INNER JOIN on the primary key columns.
+        // Unlike with ExecuteDelete, we cannot use a Contains subquery (which would produce the simpler WHERE Id IN (SELECT ...) syntax),
+        // since we allow projecting out to arbitrary shapes (e.g. anonymous types) before the ExecuteUpdate.
         var pk = entityType.FindPrimaryKey();
         if (pk == null)
         {
diff --git a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqlServerTest.cs
index cb16820966..ea96534a9e 100644
--- a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqlServerTest.cs
@@ -92,15 +92,16 @@ public override async Task Delete_GroupBy_Where_Select_First_3(bool async)
 """
 DELETE FROM [a]
 FROM [Animals] AS [a]
-WHERE [a].[CountryId] = 1 AND EXISTS (
-    SELECT 1
+WHERE [a].[CountryId] = 1 AND [a].[Id] IN (
+    SELECT (
+        SELECT TOP(1) [a1].[Id]
+        FROM [Animals] AS [a1]
+        WHERE [a1].[CountryId] = 1 AND [a0].[CountryId] = [a1].[CountryId])
     FROM [Animals] AS [a0]
     WHERE [a0].[CountryId] = 1
     GROUP BY [a0].[CountryId]
-    HAVING COUNT(*) < 3 AND (
-        SELECT TOP(1) [a1].[Id]
-        FROM [Animals] AS [a1]
-        WHERE [a1].[CountryId] = 1 AND [a0].[CountryId] = [a1].[CountryId]) = [a].[Id])
+    HAVING COUNT(*) < 3
+)
 """);
     }
 
@@ -122,16 +123,13 @@ public override async Task Delete_where_hierarchy_subquery(bool async)
 
 DELETE FROM [a]
 FROM [Animals] AS [a]
-WHERE EXISTS (
-    SELECT 1
-    FROM (
-        SELECT [a0].[Id], [a0].[CountryId], [a0].[Discriminator], [a0].[Name], [a0].[Species], [a0].[EagleId], [a0].[IsFlightless], [a0].[Group], [a0].[FoundOn]
-        FROM [Animals] AS [a0]
-        WHERE [a0].[CountryId] = 1 AND [a0].[Name] = N'Great spotted kiwi'
-        ORDER BY [a0].[Name]
-        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
-    ) AS [t]
-    WHERE [t].[Id] = [a].[Id])
+WHERE [a].[Id] IN (
+    SELECT [a0].[Id]
+    FROM [Animals] AS [a0]
+    WHERE [a0].[CountryId] = 1 AND [a0].[Name] = N'Great spotted kiwi'
+    ORDER BY [a0].[Name]
+    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
+)
 """);
     }
 
diff --git a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqlServerTest.cs
index 00fa1a564b..042ba6095d 100644
--- a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqlServerTest.cs
@@ -95,14 +95,15 @@ public override async Task Delete_GroupBy_Where_Select_First_3(bool async)
 """
 DELETE FROM [a]
 FROM [Animals] AS [a]
-WHERE EXISTS (
-    SELECT 1
-    FROM [Animals] AS [a0]
-    GROUP BY [a0].[CountryId]
-    HAVING COUNT(*) < 3 AND (
+WHERE [a].[Id] IN (
+    SELECT (
         SELECT TOP(1) [a1].[Id]
         FROM [Animals] AS [a1]
-        WHERE [a0].[CountryId] = [a1].[CountryId]) = [a].[Id])
+        WHERE [a0].[CountryId] = [a1].[CountryId])
+    FROM [Animals] AS [a0]
+    GROUP BY [a0].[CountryId]
+    HAVING COUNT(*) < 3
+)
 """);
     }
 
@@ -124,16 +125,13 @@ public override async Task Delete_where_hierarchy_subquery(bool async)
 
 DELETE FROM [a]
 FROM [Animals] AS [a]
-WHERE EXISTS (
-    SELECT 1
-    FROM (
-        SELECT [a0].[Id], [a0].[CountryId], [a0].[Discriminator], [a0].[Name], [a0].[Species], [a0].[EagleId], [a0].[IsFlightless], [a0].[Group], [a0].[FoundOn]
-        FROM [Animals] AS [a0]
-        WHERE [a0].[Name] = N'Great spotted kiwi'
-        ORDER BY [a0].[Name]
-        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
-    ) AS [t]
-    WHERE [t].[Id] = [a].[Id])
+WHERE [a].[Id] IN (
+    SELECT [a0].[Id]
+    FROM [Animals] AS [a0]
+    WHERE [a0].[Name] = N'Great spotted kiwi'
+    ORDER BY [a0].[Name]
+    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
+)
 """);
     }
 
diff --git a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqlServerTest.cs
index c1ae36d0fd..72467e0a3b 100644
--- a/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqlServerTest.cs
@@ -235,14 +235,15 @@ public override async Task Delete_Where_predicate_with_GroupBy_aggregate_2(bool
 DELETE FROM [o]
 FROM [Order Details] AS [o]
 INNER JOIN [Orders] AS [o0] ON [o].[OrderID] = [o0].[OrderID]
-WHERE EXISTS (
-    SELECT 1
-    FROM [Orders] AS [o1]
-    GROUP BY [o1].[CustomerID]
-    HAVING COUNT(*) > 9 AND (
+WHERE [o0].[OrderID] IN (
+    SELECT (
         SELECT TOP(1) [o2].[OrderID]
         FROM [Orders] AS [o2]
-        WHERE [o1].[CustomerID] = [o2].[CustomerID] OR ([o1].[CustomerID] IS NULL AND [o2].[CustomerID] IS NULL)) = [o0].[OrderID])
+        WHERE [o1].[CustomerID] = [o2].[CustomerID] OR ([o1].[CustomerID] IS NULL AND [o2].[CustomerID] IS NULL))
+    FROM [Orders] AS [o1]
+    GROUP BY [o1].[CustomerID]
+    HAVING COUNT(*) > 9
+)
 """);
     }
 
@@ -948,15 +949,16 @@ public override async Task Update_Where_GroupBy_First_set_constant_3(bool async)
 UPDATE [c]
 SET [c].[ContactName] = N'Updated'
 FROM [Customers] AS [c]
-WHERE EXISTS (
-    SELECT 1
-    FROM [Orders] AS [o]
-    GROUP BY [o].[CustomerID]
-    HAVING COUNT(*) > 11 AND (
+WHERE [c].[CustomerID] IN (
+    SELECT (
         SELECT TOP(1) [c0].[CustomerID]
         FROM [Orders] AS [o0]
         LEFT JOIN [Customers] AS [c0] ON [o0].[CustomerID] = [c0].[CustomerID]
-        WHERE [o].[CustomerID] = [o0].[CustomerID] OR ([o].[CustomerID] IS NULL AND [o0].[CustomerID] IS NULL)) = [c].[CustomerID])
+        WHERE [o].[CustomerID] = [o0].[CustomerID] OR ([o].[CustomerID] IS NULL AND [o0].[CustomerID] IS NULL))
+    FROM [Orders] AS [o]
+    GROUP BY [o].[CustomerID]
+    HAVING COUNT(*) > 11
+)
 """);
     }
 
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/GearsOfWarQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/GearsOfWarQuerySqlServerTest.cs
index 0a6a56a588..c2d67045a0 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/GearsOfWarQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/GearsOfWarQuerySqlServerTest.cs
@@ -7125,18 +7125,20 @@ public override async Task Query_reusing_parameter_with_inner_query_doesnt_decla
     SELECT [g].[Nickname], [g].[SquadId], [g].[AssignedCityName], [g].[CityOfBirthName], [g].[Discriminator], [g].[FullName], [g].[HasSoulPatch], [g].[LeaderNickname], [g].[LeaderSquadId], [g].[Rank]
     FROM [Gears] AS [g]
     INNER JOIN [Squads] AS [s] ON [g].[SquadId] = [s].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s].[Id] IN (
+        SELECT [s0].[Id]
         FROM [Squads] AS [s0]
-        WHERE [s0].[Id] = @__squadId_0 AND [s0].[Id] = [s].[Id])
+        WHERE [s0].[Id] = @__squadId_0
+    )
     UNION ALL
     SELECT [g0].[Nickname], [g0].[SquadId], [g0].[AssignedCityName], [g0].[CityOfBirthName], [g0].[Discriminator], [g0].[FullName], [g0].[HasSoulPatch], [g0].[LeaderNickname], [g0].[LeaderSquadId], [g0].[Rank]
     FROM [Gears] AS [g0]
     INNER JOIN [Squads] AS [s1] ON [g0].[SquadId] = [s1].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s1].[Id] IN (
+        SELECT [s2].[Id]
         FROM [Squads] AS [s2]
-        WHERE [s2].[Id] = @__squadId_0 AND [s2].[Id] = [s1].[Id])
+        WHERE [s2].[Id] = @__squadId_0
+    )
 ) AS [t]
 ORDER BY [t].[FullName]
 """);
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/NorthwindWhereQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/NorthwindWhereQuerySqlServerTest.cs
index 2bb1762a58..177e961494 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/NorthwindWhereQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/NorthwindWhereQuerySqlServerTest.cs
@@ -1940,10 +1940,11 @@ public override async Task Where_contains_on_navigation(bool async)
 WHERE EXISTS (
     SELECT 1
     FROM [Customers] AS [c]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [o].[OrderID] IN (
+        SELECT [o0].[OrderID]
         FROM [Orders] AS [o0]
-        WHERE [c].[CustomerID] = [o0].[CustomerID] AND [o0].[OrderID] = [o].[OrderID]))
+        WHERE [c].[CustomerID] = [o0].[CustomerID]
+    ))
 """);
     }
 
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/SimpleQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/SimpleQuerySqlServerTest.cs
index 47447b5838..aedd2ba1fc 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/SimpleQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/SimpleQuerySqlServerTest.cs
@@ -131,15 +131,16 @@ public override async Task Unwrap_convert_node_over_projection_when_translating_
 @__currentUserId_0='1'
 
 SELECT CASE
-    WHEN EXISTS (
-        SELECT 1
+    WHEN [u].[Id] IN (
+        SELECT [u0].[Id]
         FROM [Memberships] AS [m]
         INNER JOIN [Users] AS [u0] ON [m].[UserId] = [u0].[Id]
         WHERE [m].[GroupId] IN (
             SELECT [m0].[GroupId]
             FROM [Memberships] AS [m0]
             WHERE [m0].[UserId] = @__currentUserId_0
-        ) AND [u0].[Id] = [u].[Id]) THEN CAST(1 AS bit)
+        )
+    ) THEN CAST(1 AS bit)
     ELSE CAST(0 AS bit)
 END AS [HasAccess]
 FROM [Users] AS [u]
@@ -155,16 +156,18 @@ public override async Task Unwrap_convert_node_over_projection_when_translating_
 @__currentUserId_0='1'
 
 SELECT CASE
-    WHEN EXISTS (
-        SELECT 1
+    WHEN [u].[Id] IN (
+        SELECT [u0].[Id]
         FROM [Memberships] AS [m]
         INNER JOIN [Groups] AS [g] ON [m].[GroupId] = [g].[Id]
         INNER JOIN [Users] AS [u0] ON [m].[UserId] = [u0].[Id]
-        WHERE EXISTS (
-            SELECT 1
+        WHERE [g].[Id] IN (
+            SELECT [g0].[Id]
             FROM [Memberships] AS [m0]
             INNER JOIN [Groups] AS [g0] ON [m0].[GroupId] = [g0].[Id]
-            WHERE [m0].[UserId] = @__currentUserId_0 AND [g0].[Id] = [g].[Id]) AND [u0].[Id] = [u].[Id]) THEN CAST(1 AS bit)
+            WHERE [m0].[UserId] = @__currentUserId_0
+        )
+    ) THEN CAST(1 AS bit)
     ELSE CAST(0 AS bit)
 END AS [HasAccess]
 FROM [Users] AS [u]
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/TPCGearsOfWarQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/TPCGearsOfWarQuerySqlServerTest.cs
index cbfaaae589..d36b57e5a2 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/TPCGearsOfWarQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/TPCGearsOfWarQuerySqlServerTest.cs
@@ -9476,10 +9476,11 @@ UNION ALL
         FROM [Officers] AS [o]
     ) AS [t]
     INNER JOIN [Squads] AS [s] ON [t].[SquadId] = [s].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s].[Id] IN (
+        SELECT [s0].[Id]
         FROM [Squads] AS [s0]
-        WHERE [s0].[Id] = @__squadId_0 AND [s0].[Id] = [s].[Id])
+        WHERE [s0].[Id] = @__squadId_0
+    )
     UNION ALL
     SELECT [t1].[Nickname], [t1].[SquadId], [t1].[AssignedCityName], [t1].[CityOfBirthName], [t1].[FullName], [t1].[HasSoulPatch], [t1].[LeaderNickname], [t1].[LeaderSquadId], [t1].[Rank], [t1].[Discriminator]
     FROM (
@@ -9490,10 +9491,11 @@ UNION ALL
         FROM [Officers] AS [o0]
     ) AS [t1]
     INNER JOIN [Squads] AS [s1] ON [t1].[SquadId] = [s1].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s1].[Id] IN (
+        SELECT [s2].[Id]
         FROM [Squads] AS [s2]
-        WHERE [s2].[Id] = @__squadId_0 AND [s2].[Id] = [s1].[Id])
+        WHERE [s2].[Id] = @__squadId_0
+    )
 ) AS [t0]
 ORDER BY [t0].[FullName]
 """);
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/TPTGearsOfWarQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/TPTGearsOfWarQuerySqlServerTest.cs
index 0a4c12f5e6..1259eee586 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/TPTGearsOfWarQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/TPTGearsOfWarQuerySqlServerTest.cs
@@ -8160,10 +8160,11 @@ public override async Task Query_reusing_parameter_with_inner_query_doesnt_decla
     FROM [Gears] AS [g]
     LEFT JOIN [Officers] AS [o] ON [g].[Nickname] = [o].[Nickname] AND [g].[SquadId] = [o].[SquadId]
     INNER JOIN [Squads] AS [s] ON [g].[SquadId] = [s].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s].[Id] IN (
+        SELECT [s0].[Id]
         FROM [Squads] AS [s0]
-        WHERE [s0].[Id] = @__squadId_0 AND [s0].[Id] = [s].[Id])
+        WHERE [s0].[Id] = @__squadId_0
+    )
     UNION ALL
     SELECT [g0].[Nickname], [g0].[SquadId], [g0].[AssignedCityName], [g0].[CityOfBirthName], [g0].[FullName], [g0].[HasSoulPatch], [g0].[LeaderNickname], [g0].[LeaderSquadId], [g0].[Rank], CASE
         WHEN [o0].[Nickname] IS NOT NULL THEN N'Officer'
@@ -8171,10 +8172,11 @@ UNION ALL
     FROM [Gears] AS [g0]
     LEFT JOIN [Officers] AS [o0] ON [g0].[Nickname] = [o0].[Nickname] AND [g0].[SquadId] = [o0].[SquadId]
     INNER JOIN [Squads] AS [s1] ON [g0].[SquadId] = [s1].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s1].[Id] IN (
+        SELECT [s2].[Id]
         FROM [Squads] AS [s2]
-        WHERE [s2].[Id] = @__squadId_0 AND [s2].[Id] = [s1].[Id])
+        WHERE [s2].[Id] = @__squadId_0
+    )
 ) AS [t]
 ORDER BY [t].[FullName]
 """);
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/TemporalGearsOfWarQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/TemporalGearsOfWarQuerySqlServerTest.cs
index d8b6abb24b..073e889750 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/TemporalGearsOfWarQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/TemporalGearsOfWarQuerySqlServerTest.cs
@@ -143,18 +143,20 @@ public override async Task Query_reusing_parameter_with_inner_query_doesnt_decla
     SELECT [g].[Nickname], [g].[SquadId], [g].[AssignedCityName], [g].[CityOfBirthName], [g].[Discriminator], [g].[FullName], [g].[HasSoulPatch], [g].[LeaderNickname], [g].[LeaderSquadId], [g].[PeriodEnd], [g].[PeriodStart], [g].[Rank]
     FROM [Gears] FOR SYSTEM_TIME AS OF '2010-01-01T00:00:00.0000000' AS [g]
     INNER JOIN [Squads] FOR SYSTEM_TIME AS OF '2010-01-01T00:00:00.0000000' AS [s] ON [g].[SquadId] = [s].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s].[Id] IN (
+        SELECT [s0].[Id]
         FROM [Squads] AS [s0]
-        WHERE [s0].[Id] = @__squadId_0 AND [s0].[Id] = [s].[Id])
+        WHERE [s0].[Id] = @__squadId_0
+    )
     UNION ALL
     SELECT [g0].[Nickname], [g0].[SquadId], [g0].[AssignedCityName], [g0].[CityOfBirthName], [g0].[Discriminator], [g0].[FullName], [g0].[HasSoulPatch], [g0].[LeaderNickname], [g0].[LeaderSquadId], [g0].[PeriodEnd], [g0].[PeriodStart], [g0].[Rank]
     FROM [Gears] FOR SYSTEM_TIME AS OF '2010-01-01T00:00:00.0000000' AS [g0]
     INNER JOIN [Squads] FOR SYSTEM_TIME AS OF '2010-01-01T00:00:00.0000000' AS [s1] ON [g0].[SquadId] = [s1].[Id]
-    WHERE EXISTS (
-        SELECT 1
+    WHERE [s1].[Id] IN (
+        SELECT [s2].[Id]
         FROM [Squads] AS [s2]
-        WHERE [s2].[Id] = @__squadId_0 AND [s2].[Id] = [s1].[Id])
+        WHERE [s2].[Id] = @__squadId_0
+    )
 ) AS [t]
 ORDER BY [t].[FullName]
 """);
diff --git a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqliteTest.cs
index db62b4c500..cb70ca68fd 100644
--- a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/FiltersInheritanceBulkUpdatesSqliteTest.cs
@@ -36,16 +36,13 @@ public override async Task Delete_where_hierarchy_subquery(bool async)
 @__p_0='0'
 
 DELETE FROM "Animals" AS "a"
-WHERE EXISTS (
-    SELECT 1
-    FROM (
-        SELECT "a0"."Id", "a0"."CountryId", "a0"."Discriminator", "a0"."Name", "a0"."Species", "a0"."EagleId", "a0"."IsFlightless", "a0"."Group", "a0"."FoundOn"
-        FROM "Animals" AS "a0"
-        WHERE "a0"."CountryId" = 1 AND "a0"."Name" = 'Great spotted kiwi'
-        ORDER BY "a0"."Name"
-        LIMIT @__p_1 OFFSET @__p_0
-    ) AS "t"
-    WHERE "t"."Id" = "a"."Id")
+WHERE "a"."Id" IN (
+    SELECT "a0"."Id"
+    FROM "Animals" AS "a0"
+    WHERE "a0"."CountryId" = 1 AND "a0"."Name" = 'Great spotted kiwi'
+    ORDER BY "a0"."Name"
+    LIMIT @__p_1 OFFSET @__p_0
+)
 """);
     }
 
@@ -116,16 +113,17 @@ public override async Task Delete_GroupBy_Where_Select_First_3(bool async)
         AssertSql(
 """
 DELETE FROM "Animals" AS "a"
-WHERE "a"."CountryId" = 1 AND EXISTS (
-    SELECT 1
-    FROM "Animals" AS "a0"
-    WHERE "a0"."CountryId" = 1
-    GROUP BY "a0"."CountryId"
-    HAVING COUNT(*) < 3 AND (
+WHERE "a"."CountryId" = 1 AND "a"."Id" IN (
+    SELECT (
         SELECT "a1"."Id"
         FROM "Animals" AS "a1"
         WHERE "a1"."CountryId" = 1 AND "a0"."CountryId" = "a1"."CountryId"
-        LIMIT 1) = "a"."Id")
+        LIMIT 1)
+    FROM "Animals" AS "a0"
+    WHERE "a0"."CountryId" = 1
+    GROUP BY "a0"."CountryId"
+    HAVING COUNT(*) < 3
+)
 """);
     }
 
diff --git a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqliteTest.cs
index 70d3f1bd9c..775e7fd914 100644
--- a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/InheritanceBulkUpdatesSqliteTest.cs
@@ -39,16 +39,13 @@ public override async Task Delete_where_hierarchy_subquery(bool async)
 @__p_0='0'
 
 DELETE FROM "Animals" AS "a"
-WHERE EXISTS (
-    SELECT 1
-    FROM (
-        SELECT "a0"."Id", "a0"."CountryId", "a0"."Discriminator", "a0"."Name", "a0"."Species", "a0"."EagleId", "a0"."IsFlightless", "a0"."Group", "a0"."FoundOn"
-        FROM "Animals" AS "a0"
-        WHERE "a0"."Name" = 'Great spotted kiwi'
-        ORDER BY "a0"."Name"
-        LIMIT @__p_1 OFFSET @__p_0
-    ) AS "t"
-    WHERE "t"."Id" = "a"."Id")
+WHERE "a"."Id" IN (
+    SELECT "a0"."Id"
+    FROM "Animals" AS "a0"
+    WHERE "a0"."Name" = 'Great spotted kiwi'
+    ORDER BY "a0"."Name"
+    LIMIT @__p_1 OFFSET @__p_0
+)
 """);
     }
 
@@ -119,15 +116,16 @@ public override async Task Delete_GroupBy_Where_Select_First_3(bool async)
         AssertSql(
 """
 DELETE FROM "Animals" AS "a"
-WHERE EXISTS (
-    SELECT 1
-    FROM "Animals" AS "a0"
-    GROUP BY "a0"."CountryId"
-    HAVING COUNT(*) < 3 AND (
+WHERE "a"."Id" IN (
+    SELECT (
         SELECT "a1"."Id"
         FROM "Animals" AS "a1"
         WHERE "a0"."CountryId" = "a1"."CountryId"
-        LIMIT 1) = "a"."Id")
+        LIMIT 1)
+    FROM "Animals" AS "a0"
+    GROUP BY "a0"."CountryId"
+    HAVING COUNT(*) < 3
+)
 """);
     }
 
diff --git a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NonSharedModelBulkUpdatesSqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NonSharedModelBulkUpdatesSqliteTest.cs
index 6c9fb62a4e..92f1d4ef8b 100644
--- a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NonSharedModelBulkUpdatesSqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NonSharedModelBulkUpdatesSqliteTest.cs
@@ -71,11 +71,12 @@ public override async Task Delete_predicate_based_on_optional_navigation(bool as
         AssertSql(
 """
 DELETE FROM "Posts" AS "p"
-WHERE EXISTS (
-    SELECT 1
+WHERE "p"."Id" IN (
+    SELECT "p0"."Id"
     FROM "Posts" AS "p0"
     LEFT JOIN "Blogs" AS "b" ON "p0"."BlogId" = "b"."Id"
-    WHERE "b"."Title" IS NOT NULL AND "b"."Title" LIKE 'Arthur%' AND "p0"."Id" = "p"."Id")
+    WHERE "b"."Title" IS NOT NULL AND "b"."Title" LIKE 'Arthur%'
+)
 """);
     }
 
diff --git a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqliteTest.cs
index ada9546650..8b11f496cc 100644
--- a/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/BulkUpdates/NorthwindBulkUpdatesSqliteTest.cs
@@ -236,15 +236,16 @@ public override async Task Delete_Where_predicate_with_GroupBy_aggregate_2(bool
     SELECT 1
     FROM "Order Details" AS "o0"
     INNER JOIN "Orders" AS "o1" ON "o0"."OrderID" = "o1"."OrderID"
-    WHERE EXISTS (
-        SELECT 1
-        FROM "Orders" AS "o2"
-        GROUP BY "o2"."CustomerID"
-        HAVING COUNT(*) > 9 AND (
+    WHERE "o1"."OrderID" IN (
+        SELECT (
             SELECT "o3"."OrderID"
             FROM "Orders" AS "o3"
             WHERE "o2"."CustomerID" = "o3"."CustomerID" OR ("o2"."CustomerID" IS NULL AND "o3"."CustomerID" IS NULL)
-            LIMIT 1) = "o1"."OrderID") AND "o0"."OrderID" = "o"."OrderID" AND "o0"."ProductID" = "o"."ProductID")
+            LIMIT 1)
+        FROM "Orders" AS "o2"
+        GROUP BY "o2"."CustomerID"
+        HAVING COUNT(*) > 9
+    ) AND "o0"."OrderID" = "o"."OrderID" AND "o0"."ProductID" = "o"."ProductID")
 """);
     }
 
@@ -923,16 +924,17 @@ public override async Task Update_Where_GroupBy_First_set_constant_3(bool async)
 """
 UPDATE "Customers" AS "c"
 SET "ContactName" = 'Updated'
-WHERE EXISTS (
-    SELECT 1
-    FROM "Orders" AS "o"
-    GROUP BY "o"."CustomerID"
-    HAVING COUNT(*) > 11 AND (
+WHERE "c"."CustomerID" IN (
+    SELECT (
         SELECT "c0"."CustomerID"
         FROM "Orders" AS "o0"
         LEFT JOIN "Customers" AS "c0" ON "o0"."CustomerID" = "c0"."CustomerID"
         WHERE "o"."CustomerID" = "o0"."CustomerID" OR ("o"."CustomerID" IS NULL AND "o0"."CustomerID" IS NULL)
-        LIMIT 1) = "c"."CustomerID")
+        LIMIT 1)
+    FROM "Orders" AS "o"
+    GROUP BY "o"."CustomerID"
+    HAVING COUNT(*) > 11
+)
 """);
     }
 
@@ -1261,19 +1263,21 @@ public override async Task Update_with_cross_join_left_join_set_constant(bool as
         await base.Update_with_cross_join_left_join_set_constant(async);
 
         AssertExecuteUpdateSql(
-            @"UPDATE ""Customers"" AS ""c""
-SET ""ContactName"" = 'Updated'
+"""
+UPDATE "Customers" AS "c"
+SET "ContactName" = 'Updated'
 FROM (
-    SELECT ""c0"".""CustomerID"", ""c0"".""Address"", ""c0"".""City"", ""c0"".""CompanyName"", ""c0"".""ContactName"", ""c0"".""ContactTitle"", ""c0"".""Country"", ""c0"".""Fax"", ""c0"".""Phone"", ""c0"".""PostalCode"", ""c0"".""Region""
-    FROM ""Customers"" AS ""c0""
-    WHERE ""c0"".""City"" IS NOT NULL AND (""c0"".""City"" LIKE 'S%')
-) AS ""t""
+    SELECT "c0"."CustomerID", "c0"."Address", "c0"."City", "c0"."CompanyName", "c0"."ContactName", "c0"."ContactTitle", "c0"."Country", "c0"."Fax", "c0"."Phone", "c0"."PostalCode", "c0"."Region"
+    FROM "Customers" AS "c0"
+    WHERE "c0"."City" IS NOT NULL AND ("c0"."City" LIKE 'S%')
+) AS "t"
 LEFT JOIN (
-    SELECT ""o"".""OrderID"", ""o"".""CustomerID"", ""o"".""EmployeeID"", ""o"".""OrderDate""
-    FROM ""Orders"" AS ""o""
-    WHERE ""o"".""OrderID"" < 10300
-) AS ""t0"" ON ""c"".""CustomerID"" = ""t0"".""CustomerID""
-WHERE ""c"".""CustomerID"" LIKE 'F%'");
+    SELECT "o"."OrderID", "o"."CustomerID", "o"."EmployeeID", "o"."OrderDate"
+    FROM "Orders" AS "o"
+    WHERE "o"."OrderID" < 10300
+) AS "t0" ON "c"."CustomerID" = "t0"."CustomerID"
+WHERE "c"."CustomerID" LIKE 'F%'
+""");
     }
 
     public override async Task Update_with_cross_join_cross_apply_set_constant(bool async)
diff --git a/test/EFCore.Sqlite.FunctionalTests/Query/GearsOfWarQuerySqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/Query/GearsOfWarQuerySqliteTest.cs
index 857ea4a06c..6518a3b9b2 100644
--- a/test/EFCore.Sqlite.FunctionalTests/Query/GearsOfWarQuerySqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/Query/GearsOfWarQuerySqliteTest.cs
@@ -7071,18 +7071,20 @@ public override async Task Query_reusing_parameter_with_inner_query_doesnt_decla
     SELECT "g"."Nickname", "g"."SquadId", "g"."AssignedCityName", "g"."CityOfBirthName", "g"."Discriminator", "g"."FullName", "g"."HasSoulPatch", "g"."LeaderNickname", "g"."LeaderSquadId", "g"."Rank"
     FROM "Gears" AS "g"
     INNER JOIN "Squads" AS "s" ON "g"."SquadId" = "s"."Id"
-    WHERE EXISTS (
-        SELECT 1
+    WHERE "s"."Id" IN (
+        SELECT "s0"."Id"
         FROM "Squads" AS "s0"
-        WHERE "s0"."Id" = @__squadId_0 AND "s0"."Id" = "s"."Id")
+        WHERE "s0"."Id" = @__squadId_0
+    )
     UNION ALL
     SELECT "g0"."Nickname", "g0"."SquadId", "g0"."AssignedCityName", "g0"."CityOfBirthName", "g0"."Discriminator", "g0"."FullName", "g0"."HasSoulPatch", "g0"."LeaderNickname", "g0"."LeaderSquadId", "g0"."Rank"
     FROM "Gears" AS "g0"
     INNER JOIN "Squads" AS "s1" ON "g0"."SquadId" = "s1"."Id"
-    WHERE EXISTS (
-        SELECT 1
+    WHERE "s1"."Id" IN (
+        SELECT "s2"."Id"
         FROM "Squads" AS "s2"
-        WHERE "s2"."Id" = @__squadId_0 AND "s2"."Id" = "s1"."Id")
+        WHERE "s2"."Id" = @__squadId_0
+    )
 ) AS "t"
 ORDER BY "t"."FullName"
 """);
