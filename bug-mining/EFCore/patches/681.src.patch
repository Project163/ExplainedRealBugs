diff --git a/src/EFCore.Relational/Update/Internal/CommandBatchPreparer.cs b/src/EFCore.Relational/Update/Internal/CommandBatchPreparer.cs
index fdf3c302b1..bf9b3416f7 100644
--- a/src/EFCore.Relational/Update/Internal/CommandBatchPreparer.cs
+++ b/src/EFCore.Relational/Update/Internal/CommandBatchPreparer.cs
@@ -621,10 +621,17 @@ private void Format(ITableIndex index, IReadOnlyModificationCommand source, IRea
             if (_sensitiveLoggingEnabled)
             {
                 builder.Append(": ");
-                var value = values[i];
-                if (value != null)
+                if (values != null)
                 {
-                    builder.Append(values[i]);
+                    var value = values[i];
+                    if (value != null)
+                    {
+                        builder.Append(values[i]);
+                    }
+                    else
+                    {
+                        builder.Append("NULL");
+                    }
                 }
                 else
                 {
diff --git a/test/EFCore.Relational.Tests/Update/CommandBatchPreparerTest.cs b/test/EFCore.Relational.Tests/Update/CommandBatchPreparerTest.cs
index eb3df95a90..9e782b79f7 100644
--- a/test/EFCore.Relational.Tests/Update/CommandBatchPreparerTest.cs
+++ b/test/EFCore.Relational.Tests/Update/CommandBatchPreparerTest.cs
@@ -1211,6 +1211,35 @@ private class DerivedRelatedFakeEntity : RelatedFakeEntity
         public string DerivedValue { get; set; }
     }
 
+    [ConditionalFact]
+    public void BatchCommands_handles_null_values_when_sensitive_logging_enabled()
+    {
+        // Test for issue where null values in FormatValues caused NullReferenceException
+        // hiding the real circular dependency error
+        var model = CreateCyclicFKModel();
+        var configuration = CreateContextServices(model);
+        var stateManager = configuration.GetRequiredService<IStateManager>();
+
+        var fakeEntry = stateManager.GetOrCreateEntry(
+            new FakeEntity { Id = 42, RelatedId = 1 });
+        fakeEntry.SetEntityState(EntityState.Added);
+
+        var relatedFakeEntry = stateManager.GetOrCreateEntry(
+            new RelatedFakeEntity { Id = 1, RelatedId = 42 });
+        relatedFakeEntry.SetEntityState(EntityState.Added);
+
+        var modelData = new UpdateAdapter(stateManager);
+
+        // This should throw InvalidOperationException for circular dependency
+        // NOT NullReferenceException from FormatValues
+        var exception = Assert.Throws<InvalidOperationException>(
+            () => CreateBatches([fakeEntry, relatedFakeEntry], modelData, sensitiveLogging: true));
+
+        // Verify the exception is about circular dependency, not null reference
+        Assert.Contains("circular dependency", exception.Message);
+        Assert.DoesNotContain("Object reference not set", exception.Message);
+    }
+
     private class AnotherFakeEntity
     {
         public int Id { get; set; }
