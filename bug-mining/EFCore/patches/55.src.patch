diff --git a/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs b/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
index 98f1c51809..634aae7f1d 100644
--- a/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
+++ b/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
@@ -845,8 +845,8 @@ protected virtual void GenerateKeyAnnotations(string keyBuilderName, IKey key, I
         var table = StoreObjectIdentifier.Create(entityType, StoreObjectType.Table);
         var tableName = (string?)tableNameAnnotation?.Value ?? table?.Name;
         if (tableNameAnnotation == null
-            && (tableName == null
-                || entityType.BaseType?.GetTableName() == tableName))
+            && entityType.BaseType != null
+            && entityType.BaseType.GetTableName() == tableName)
         {
             return;
         }
diff --git a/src/EFCore.Relational/Extensions/RelationalEntityTypeBuilderExtensions.cs b/src/EFCore.Relational/Extensions/RelationalEntityTypeBuilderExtensions.cs
index 853202cc68..17375d35a1 100644
--- a/src/EFCore.Relational/Extensions/RelationalEntityTypeBuilderExtensions.cs
+++ b/src/EFCore.Relational/Extensions/RelationalEntityTypeBuilderExtensions.cs
@@ -19,6 +19,9 @@ public static partial class RelationalEntityTypeBuilderExtensions
     ///     Configures TPC as the mapping strategy for the derived types. Each type will be mapped to a different database object.
     ///     All properties will be mapped to columns on the corresponding object.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder UseTpcMappingStrategy(this EntityTypeBuilder entityTypeBuilder)
@@ -32,6 +35,9 @@ public static EntityTypeBuilder UseTpcMappingStrategy(this EntityTypeBuilder ent
     ///     Configures TPH as the mapping strategy for the derived types. All types will be mapped to the same database object.
     ///     This is the default mapping strategy.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder UseTphMappingStrategy(this EntityTypeBuilder entityTypeBuilder)
@@ -45,6 +51,9 @@ public static EntityTypeBuilder UseTphMappingStrategy(this EntityTypeBuilder ent
     ///     Configures TPT as the mapping strategy for the derived types. Each type will be mapped to a different database object.
     ///     Only the declared properties will be mapped to columns on the corresponding object.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder UseTptMappingStrategy(this EntityTypeBuilder entityTypeBuilder)
@@ -58,6 +67,9 @@ public static EntityTypeBuilder UseTptMappingStrategy(this EntityTypeBuilder ent
     ///     Configures TPC as the mapping strategy for the derived types. Each type will be mapped to a different database object.
     ///     All properties will be mapped to columns on the corresponding object.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder<TEntity> UseTpcMappingStrategy<TEntity>(this EntityTypeBuilder<TEntity> entityTypeBuilder)
@@ -68,6 +80,9 @@ public static EntityTypeBuilder<TEntity> UseTpcMappingStrategy<TEntity>(this Ent
     ///     Configures TPH as the mapping strategy for the derived types. All types will be mapped to the same database object.
     ///     This is the default mapping strategy.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder<TEntity> UseTphMappingStrategy<TEntity>(this EntityTypeBuilder<TEntity> entityTypeBuilder)
@@ -78,12 +93,60 @@ public static EntityTypeBuilder<TEntity> UseTphMappingStrategy<TEntity>(this Ent
     ///     Configures TPT as the mapping strategy for the derived types. Each type will be mapped to a different database object.
     ///     Only the declared properties will be mapped to columns on the corresponding object.
     /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
     /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
     /// <returns>The same builder instance so that multiple calls can be chained.</returns>
     public static EntityTypeBuilder<TEntity> UseTptMappingStrategy<TEntity>(this EntityTypeBuilder<TEntity> entityTypeBuilder)
         where TEntity : class
         => (EntityTypeBuilder<TEntity>)((EntityTypeBuilder)entityTypeBuilder).UseTptMappingStrategy();
 
+    /// <summary>
+    ///     Sets the hierarchy mapping strategy.
+    /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-inheritance">Entity type hierarchy mapping</see> for more information and examples.
+    /// </remarks>
+    /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
+    /// <param name="strategy">The mapping strategy for the derived types.</param>
+    /// <param name="fromDataAnnotation">Indicates whether the configuration was specified using a data annotation.</param>
+    /// <returns>
+    ///     The same builder instance if the configuration was applied,
+    ///     <see langword="null" /> otherwise.
+    /// </returns>
+    public static IConventionEntityTypeBuilder? UseMappingStrategy(
+        this IConventionEntityTypeBuilder entityTypeBuilder,
+        string? strategy,
+        bool fromDataAnnotation = false)
+    {
+        if (!entityTypeBuilder.CanSetMappingStrategy(strategy, fromDataAnnotation))
+        {
+            return null;
+        }
+
+        entityTypeBuilder.Metadata.SetMappingStrategy(strategy, fromDataAnnotation);
+        return entityTypeBuilder;
+    }
+
+    /// <summary>
+    ///     Returns a value indicating whether the hierarchy mapping strategy can be configured
+    ///     using the specified configuration source.
+    /// </summary>
+    /// <remarks>
+    ///     See <see href="https://aka.ms/efcore-docs-migrations">Database migrations</see> for more information and examples.
+    /// </remarks>
+    /// <param name="entityTypeBuilder">The builder for the entity type being configured.</param>
+    /// <param name="strategy">The mapping strategy for the derived types.</param>
+    /// <param name="fromDataAnnotation">Indicates whether the configuration was specified using a data annotation.</param>
+    /// <returns><see langword="true" /> if the configuration can be applied.</returns>
+    public static bool CanSetMappingStrategy(
+        this IConventionEntityTypeBuilder entityTypeBuilder,
+        string? strategy,
+        bool fromDataAnnotation = false)
+        => entityTypeBuilder.CanSetAnnotation
+            (RelationalAnnotationNames.MappingStrategy, strategy, fromDataAnnotation);
+
     /// <summary>
     ///     Mark the table that this entity type is mapped to as excluded from migrations.
     /// </summary>
diff --git a/src/EFCore.Relational/Extensions/RelationalPropertyExtensions.cs b/src/EFCore.Relational/Extensions/RelationalPropertyExtensions.cs
index e14f264d4a..40d5ae86af 100644
--- a/src/EFCore.Relational/Extensions/RelationalPropertyExtensions.cs
+++ b/src/EFCore.Relational/Extensions/RelationalPropertyExtensions.cs
@@ -1451,7 +1451,7 @@ public static IEnumerable<IReadOnlyRelationalPropertyOverrides> GetOverrides(thi
     /// <param name="property">The property.</param>
     /// <returns>The property facet overrides.</returns>
     public static IEnumerable<IMutableRelationalPropertyOverrides> GetOverrides(this IMutableProperty property)
-        => ((IEnumerable<IMutableRelationalPropertyOverrides>?)RelationalPropertyOverrides.Get(property))
+        => RelationalPropertyOverrides.Get(property)?.Cast<IMutableRelationalPropertyOverrides>()
         ?? Enumerable.Empty<IMutableRelationalPropertyOverrides>();
 
     /// <summary>
@@ -1466,7 +1466,7 @@ public static IEnumerable<IMutableRelationalPropertyOverrides> GetOverrides(this
     /// <param name="property">The property.</param>
     /// <returns>The property facet overrides.</returns>
     public static IEnumerable<IConventionRelationalPropertyOverrides> GetOverrides(this IConventionProperty property)
-        => ((IEnumerable<IConventionRelationalPropertyOverrides>?)RelationalPropertyOverrides.Get(property))
+        => RelationalPropertyOverrides.Get(property)?.Cast<IConventionRelationalPropertyOverrides>()
         ?? Enumerable.Empty<IConventionRelationalPropertyOverrides>();
 
     /// <summary>
@@ -1481,7 +1481,7 @@ public static IEnumerable<IConventionRelationalPropertyOverrides> GetOverrides(t
     /// <param name="property">The property.</param>
     /// <returns>The property facet overrides.</returns>
     public static IEnumerable<IRelationalPropertyOverrides> GetOverrides(this IProperty property)
-        => ((IEnumerable<IRelationalPropertyOverrides>?)RelationalPropertyOverrides.Get(property))
+        => RelationalPropertyOverrides.Get(property)?.Cast<IRelationalPropertyOverrides>()
         ?? Enumerable.Empty<IRelationalPropertyOverrides>();
 
     /// <summary>
diff --git a/src/EFCore.Relational/Metadata/Conventions/EntityTypeHierarchyMappingConvention.cs b/src/EFCore.Relational/Metadata/Conventions/EntityTypeHierarchyMappingConvention.cs
index 0e5d5ef3eb..0b5b3c92df 100644
--- a/src/EFCore.Relational/Metadata/Conventions/EntityTypeHierarchyMappingConvention.cs
+++ b/src/EFCore.Relational/Metadata/Conventions/EntityTypeHierarchyMappingConvention.cs
@@ -40,6 +40,7 @@ public class EntityTypeHierarchyMappingConvention : IModelFinalizingConvention
         IConventionModelBuilder modelBuilder,
         IConventionContext<IConventionModelBuilder> context)
     {
+        var allRoots = new HashSet<IConventionEntityType>();
         var nonTphRoots = new HashSet<IConventionEntityType>();
 
         foreach (var entityType in modelBuilder.Metadata.GetEntityTypes())
@@ -49,15 +50,24 @@ public class EntityTypeHierarchyMappingConvention : IModelFinalizingConvention
                 continue;
             }
 
+            var root = entityType.GetRootType();
+            allRoots.Add(root);
             var mappingStrategy = (string?)entityType[RelationalAnnotationNames.MappingStrategy];
             if (mappingStrategy == null)
             {
-                mappingStrategy = (string?)entityType.GetRootType()[RelationalAnnotationNames.MappingStrategy];
+                mappingStrategy = (string?)root[RelationalAnnotationNames.MappingStrategy];
+                if (mappingStrategy == null
+                    && root.GetDiscriminatorPropertyConfigurationSource() == ConfigurationSource.Explicit)
+                {
+                    mappingStrategy = RelationalAnnotationNames.TphMappingStrategy;
+                    root.Builder.UseMappingStrategy(RelationalAnnotationNames.TphMappingStrategy);
+                    continue;
+                }
             }
             
             if (mappingStrategy == RelationalAnnotationNames.TpcMappingStrategy)
             {
-                nonTphRoots.Add(entityType.GetRootType());
+                nonTphRoots.Add(root);
                 continue;
             }
 
@@ -70,6 +80,7 @@ public class EntityTypeHierarchyMappingConvention : IModelFinalizingConvention
                         || entityType.GetSchema() != entityType.BaseType.GetSchema())
                     {
                         mappingStrategy = RelationalAnnotationNames.TptMappingStrategy;
+                        root.Builder.UseMappingStrategy(mappingStrategy);
                     }
                 }
 
@@ -96,7 +107,7 @@ public class EntityTypeHierarchyMappingConvention : IModelFinalizingConvention
                         }
                     }
 
-                    nonTphRoots.Add(entityType.GetRootType());
+                    nonTphRoots.Add(root);
                     continue;
                 }
             }
@@ -106,13 +117,20 @@ public class EntityTypeHierarchyMappingConvention : IModelFinalizingConvention
                 && (viewName != entityType.BaseType.GetViewName()
                     || entityType.GetViewSchema() != entityType.BaseType.GetViewSchema()))
             {
-                nonTphRoots.Add(entityType.GetRootType());
+                nonTphRoots.Add(root);
+                continue;
             }
         }
 
         foreach (var root in nonTphRoots)
         {
+            allRoots.Remove(root);
             root.Builder.HasNoDiscriminator();
         }
+        
+        foreach (var root in allRoots)
+        {
+            root.Builder.UseMappingStrategy(RelationalAnnotationNames.TphMappingStrategy);
+        }
     }
 }
diff --git a/src/EFCore.Relational/Metadata/Conventions/Infrastructure/RelationalConventionSetBuilder.cs b/src/EFCore.Relational/Metadata/Conventions/Infrastructure/RelationalConventionSetBuilder.cs
index 33d2dfcb62..e3812030b5 100644
--- a/src/EFCore.Relational/Metadata/Conventions/Infrastructure/RelationalConventionSetBuilder.cs
+++ b/src/EFCore.Relational/Metadata/Conventions/Infrastructure/RelationalConventionSetBuilder.cs
@@ -83,6 +83,8 @@ public override ConventionSet CreateConventionSet()
         conventionSet.EntityTypeBaseTypeChangedConventions.Add(checkConstraintConvention);
         conventionSet.EntityTypeBaseTypeChangedConventions.Add(triggerConvention);
 
+        conventionSet.EntityTypeAnnotationChangedConventions.Add(tableNameFromDbSetConvention);
+
         ReplaceConvention(conventionSet.ForeignKeyPropertiesChangedConventions, valueGenerationConvention);
 
         ReplaceConvention(conventionSet.ForeignKeyOwnershipChangedConventions, valueGenerationConvention);
diff --git a/src/EFCore.Relational/Metadata/Conventions/TableNameFromDbSetConvention.cs b/src/EFCore.Relational/Metadata/Conventions/TableNameFromDbSetConvention.cs
index b063958ca3..6c740d98fb 100644
--- a/src/EFCore.Relational/Metadata/Conventions/TableNameFromDbSetConvention.cs
+++ b/src/EFCore.Relational/Metadata/Conventions/TableNameFromDbSetConvention.cs
@@ -12,6 +12,7 @@ namespace Microsoft.EntityFrameworkCore.Metadata.Conventions;
 public class TableNameFromDbSetConvention :
     IEntityTypeAddedConvention,
     IEntityTypeBaseTypeChangedConvention,
+    IEntityTypeAnnotationChangedConvention,
     IModelFinalizingConvention
 {
     private readonly IDictionary<Type, string> _sets;
@@ -63,13 +64,7 @@ public class TableNameFromDbSetConvention :
     /// </summary>
     protected virtual RelationalConventionSetBuilderDependencies RelationalDependencies { get; }
 
-    /// <summary>
-    ///     Called after the base type of an entity type changes.
-    /// </summary>
-    /// <param name="entityTypeBuilder">The builder for the entity type.</param>
-    /// <param name="newBaseType">The new base entity type.</param>
-    /// <param name="oldBaseType">The old base entity type.</param>
-    /// <param name="context">Additional information associated with convention execution.</param>
+    /// <inheritdoc />
     public virtual void ProcessEntityTypeBaseTypeChanged(
         IConventionEntityTypeBuilder entityTypeBuilder,
         IConventionEntityType? newBaseType,
@@ -79,7 +74,9 @@ public class TableNameFromDbSetConvention :
         var entityType = entityTypeBuilder.Metadata;
 
         if (oldBaseType == null
-            && newBaseType != null)
+            && newBaseType != null
+            && (entityType.GetMappingStrategy() ?? RelationalAnnotationNames.TphMappingStrategy)
+                == RelationalAnnotationNames.TphMappingStrategy)
         {
             entityTypeBuilder.HasNoAnnotation(RelationalAnnotationNames.TableName);
         }
@@ -92,24 +89,46 @@ public class TableNameFromDbSetConvention :
         }
     }
 
-    /// <summary>
-    ///     Called after an entity type is added to the model.
-    /// </summary>
-    /// <param name="entityTypeBuilder">The builder for the entity type.</param>
-    /// <param name="context">Additional information associated with convention execution.</param>
+    /// <inheritdoc />
     public virtual void ProcessEntityTypeAdded(
         IConventionEntityTypeBuilder entityTypeBuilder,
         IConventionContext<IConventionEntityTypeBuilder> context)
     {
         var entityType = entityTypeBuilder.Metadata;
-        if (entityType.BaseType == null
-            && !entityType.HasSharedClrType
+        if (!entityType.HasSharedClrType
+            && (entityType.BaseType == null
+                || (entityType.GetMappingStrategy() ?? RelationalAnnotationNames.TphMappingStrategy)
+                    != RelationalAnnotationNames.TphMappingStrategy)
             && _sets.TryGetValue(entityType.ClrType, out var setName))
         {
             entityTypeBuilder.ToTable(setName);
         }
     }
 
+    /// <inheritdoc />
+    public virtual void ProcessEntityTypeAnnotationChanged(
+        IConventionEntityTypeBuilder entityTypeBuilder,
+        string name,
+        IConventionAnnotation? annotation,
+        IConventionAnnotation? oldAnnotation,
+        IConventionContext<IConventionAnnotation> context)
+    {
+        if (name == RelationalAnnotationNames.MappingStrategy
+            && annotation != null
+            && (entityTypeBuilder.Metadata.GetMappingStrategy() ?? RelationalAnnotationNames.TphMappingStrategy)
+                != RelationalAnnotationNames.TphMappingStrategy)
+        {
+            foreach (var deriverEntityType in entityTypeBuilder.Metadata.GetDerivedTypesInclusive())
+            {
+                if (!deriverEntityType.HasSharedClrType
+                    && _sets.TryGetValue(deriverEntityType.ClrType, out var setName))
+                {
+                    deriverEntityType.Builder.ToTable(setName);
+                }
+            }
+        }
+    }
+
     /// <inheritdoc />
     public virtual void ProcessModelFinalizing(
         IConventionModelBuilder modelBuilder,
diff --git a/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.cs b/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.cs
index d507f8515a..09cb794579 100644
--- a/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.cs
+++ b/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.cs
@@ -18,6 +18,7 @@ public class CSharpMigrationsGeneratorTest
 {
     private static readonly string _nl = Environment.NewLine;
     private static readonly string _toTable = _nl + @"entityTypeBuilder.ToTable(""WithAnnotations"")";
+    private static readonly string _toNullTable = _nl + @"entityTypeBuilder.ToTable((string)null)";
 
     [ConditionalFact]
     public void Test_new_annotations_handled_for_entity_types()
@@ -139,19 +140,22 @@ public void Test_new_annotations_handled_for_entity_types()
 #pragma warning disable CS0612 // Type or member is obsolete
                 CoreAnnotationNames.DefiningQuery,
 #pragma warning restore CS0612 // Type or member is obsolete
-                (Expression.Lambda(Expression.Constant(null)), "")
+                (Expression.Lambda(Expression.Constant(null)), _toNullTable)
             },
             {
                 RelationalAnnotationNames.ViewName,
-                ("MyView", _nl + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToView) + @"(""MyView"")")
+                ("MyView", _toNullTable + ";" + _nl + _nl
+                    + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToView) + @"(""MyView"")")
             },
             {
                 RelationalAnnotationNames.FunctionName,
-                (null, _nl + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToFunction) + @"(null)")
+                (null, _toNullTable + ";" + _nl + _nl
+                    + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToFunction) + @"(null)")
             },
             {
                 RelationalAnnotationNames.SqlQuery,
-                (null, _nl + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToSqlQuery) + @"(null)")
+                (null, _toNullTable + ";" + _nl + _nl
+                    + "entityTypeBuilder." + nameof(RelationalEntityTypeBuilderExtensions.ToSqlQuery) + @"(null)")
             }
         };
 
diff --git a/test/EFCore.Design.Tests/Migrations/ModelSnapshotSqlServerTest.cs b/test/EFCore.Design.Tests/Migrations/ModelSnapshotSqlServerTest.cs
index 3645ca93e4..109664c73e 100644
--- a/test/EFCore.Design.Tests/Migrations/ModelSnapshotSqlServerTest.cs
+++ b/test/EFCore.Design.Tests/Migrations/ModelSnapshotSqlServerTest.cs
@@ -215,10 +215,13 @@ public enum TestEnum
         Value2
     }
 
-    private class BaseEntity
+    private abstract class AbstractBase
     {
         public int Id { get; set; }
-
+    }
+    
+    private class BaseEntity : AbstractBase
+    {
         public string Discriminator { get; set; }
     }
 
@@ -455,11 +458,12 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPT()
                 builder.Entity<DerivedEntity>()
                     .ToTable("DerivedEntity", "foo");
                 builder.Entity<BaseEntity>();
+                builder.Entity<AbstractBase>();
             },
             AddBoilerPlate(
                 GetHeading()
                 + @"
-            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity"", b =>
+            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase"", b =>
                 {
                     b.Property<int>(""Id"")
                         .ValueGeneratedOnAdd()
@@ -467,11 +471,17 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPT()
 
                     SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>(""Id""), 1L, 1);
 
-                    b.Property<string>(""Discriminator"")
-                        .HasColumnType(""nvarchar(max)"");
-
                     b.HasKey(""Id"");
 
+                    b.ToTable(""AbstractBase"");
+
+                    b.UseTptMappingStrategy();
+                });
+
+            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity"", b =>
+                {
+                    b.HasBaseType(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase"");
+
                     b.ToTable(""BaseEntity"");
                 });
 
@@ -493,14 +503,21 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPT()
                         .OnDelete(DeleteBehavior.ClientCascade)
                         .IsRequired();
                 });"),
-            o =>
+            model =>
             {
-                Assert.Equal(4, o.GetAnnotations().Count());
+                Assert.Equal(4, model.GetAnnotations().Count());
+                Assert.Equal(3, model.GetEntityTypes().Count());
 
-                Assert.Equal(
-                    "DerivedEntity",
-                    o.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity")
-                        .GetTableName());
+                var abstractBase = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase");
+                Assert.Equal("AbstractBase", abstractBase.GetTableName());
+                Assert.Equal("TPT", abstractBase.GetMappingStrategy());
+
+                var baseType = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity");
+                Assert.Equal("BaseEntity", baseType.GetTableName());
+
+                var derived = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity");
+                Assert.Equal("DerivedEntity", derived.GetTableName());
+                Assert.Equal("foo", derived.GetSchema());
             });
 
     [ConditionalFact]
@@ -529,6 +546,8 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPT_with_one_exclu
                     b.HasKey(""Id"");
 
                     b.ToTable(""BaseEntity"");
+
+                    b.UseTptMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity"", b =>
@@ -576,6 +595,8 @@ public void Views_are_stored_in_the_model_snapshot()
 
                     b.HasKey(""Id"");
 
+                    b.ToTable((string)null);
+
                     b.ToView(""EntityWithOneProperty"", (string)null);
                 });"),
             o => Assert.Equal("EntityWithOneProperty", o.GetEntityTypes().Single().GetViewName()));
@@ -596,6 +617,8 @@ public void Views_with_schemas_are_stored_in_the_model_snapshot()
 
                     b.HasKey(""Id"");
 
+                    b.ToTable((string)null);
+
                     b.ToView(""EntityWithOneProperty"", ""ViewSchema"");
                 });"),
             o =>
@@ -612,12 +635,13 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPC()
                 builder.Entity<DerivedEntity>()
                     .ToTable("DerivedEntity", "foo")
                     .ToView("DerivedView", "foo");
-                builder.Entity<BaseEntity>().UseTpcMappingStrategy();
+                builder.Entity<BaseEntity>();
+                builder.Entity<AbstractBase>().UseTpcMappingStrategy();
             },
             AddBoilerPlate(
                 GetHeading()
                 + @"
-            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity"", b =>
+            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase"", b =>
                 {
                     b.Property<int>(""Id"")
                         .ValueGeneratedOnAdd()
@@ -625,16 +649,20 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPC()
 
                     SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>(""Id""), 1L, 1);
 
-                    b.Property<string>(""Discriminator"")
-                        .HasColumnType(""nvarchar(max)"");
-
                     b.HasKey(""Id"");
 
-                    b.ToTable(""BaseEntity"");
+                    b.ToTable((string)null);
 
                     b.UseTpcMappingStrategy();
                 });
 
+            modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity"", b =>
+                {
+                    b.HasBaseType(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase"");
+
+                    b.ToTable(""BaseEntity"");
+                });
+
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity"", b =>
                 {
                     b.HasBaseType(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity"");
@@ -646,11 +674,21 @@ public virtual void Entities_are_stored_in_model_snapshot_for_TPC()
 
                     b.ToView(""DerivedView"", ""foo"");
                 });"),
-            o =>
+            model =>
             {
-                Assert.Equal(4, o.GetAnnotations().Count());
+                Assert.Equal(4, model.GetAnnotations().Count());
+                Assert.Equal(3, model.GetEntityTypes().Count());
+
+                var abstractBase = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AbstractBase");
+                Assert.Null(abstractBase.GetTableName());
+                Assert.Null(abstractBase.GetViewName());
+                Assert.Equal("TPC", abstractBase.GetMappingStrategy());
 
-                var derived = o.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity");
+                var baseType = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+BaseEntity");
+                Assert.Equal("BaseEntity", baseType.GetTableName());
+                Assert.Null(baseType.GetViewName());
+
+                var derived = model.FindEntityType("Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity");
                 Assert.Equal("DerivedEntity", derived.GetTableName());
                 Assert.Equal("DerivedView", derived.GetViewName());
             });
@@ -979,6 +1017,8 @@ public virtual void Entity_splitting_is_stored_in_snapshot_with_views()
 
                     b.HasKey(""Id"");
 
+                    b.ToTable((string)null);
+
                     b.ToView(""EntityWithOneProperty"", null, v =>
                         {
                             v.Property(""Shadow"");
@@ -1002,6 +1042,8 @@ public virtual void Entity_splitting_is_stored_in_snapshot_with_views()
 
                             b1.HasKey(""Id"");
 
+                            b1.ToTable((string)null);
+
                             b1.ToView(""EntityWithOneProperty"", null, v =>
                                 {
                                     v.Property(""AlternateId"")
@@ -1132,6 +1174,8 @@ public void Entity_types_mapped_to_functions_are_stored_in_the_model_snapshot()
                     b.Property<string>(""Something"")
                         .HasColumnType(""nvarchar(max)"");
 
+                    b.ToTable((string)null);
+
                     b.ToFunction(""GetCount"");
                 });"),
             o => Assert.Equal("GetCount", o.GetEntityTypes().Single().GetFunctionName()));
@@ -1150,6 +1194,8 @@ public void Entity_types_mapped_to_queries_are_stored_in_the_model_snapshot()
 
                     b.HasKey(""Id"");
 
+                    b.ToTable((string)null);
+
                     b.ToSqlQuery(""query"");
                 });"),
             o => Assert.Equal("query", o.GetEntityTypes().Single().GetSqlQuery()));
@@ -1264,6 +1310,8 @@ public virtual void CheckConstraint_is_only_stored_in_snapshot_once_for_TPH()
                     b.ToTable(""BaseEntity"");
 
                     b.HasDiscriminator<string>(""Discriminator"").HasValue(""BaseEntity"");
+
+                    b.UseTphMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+DerivedEntity"", b =>
@@ -1567,6 +1615,8 @@ public virtual void BaseType_is_stored_in_snapshot()
                     b.ToTable(""BaseEntity"");
 
                     b.HasDiscriminator<string>(""Discriminator"").HasValue(""BaseEntity"");
+
+                    b.UseTphMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AnotherDerivedEntity"", b =>
@@ -1634,6 +1684,8 @@ public virtual void Discriminator_annotations_are_stored_in_snapshot()
                     b.ToTable(""BaseEntity"");
 
                     b.HasDiscriminator<string>(""Discriminator"").IsComplete(true).HasValue(""BaseEntity"");
+
+                    b.UseTphMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AnotherDerivedEntity"", b =>
@@ -1707,6 +1759,8 @@ public virtual void Converted_discriminator_annotations_are_stored_in_snapshot()
                     b.ToTable(""BaseEntityWithStructDiscriminator"");
 
                     b.HasDiscriminator<string>(""Discriminator"").IsComplete(true).HasValue(""Base"");
+
+                    b.UseTphMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+AnotherDerivedEntityWithStructDiscriminator"", b =>
@@ -3368,6 +3422,8 @@ protected override void BuildModel(ModelBuilder modelBuilder)
 
                             b1.HasKey(""TestOwnerId"", ""Id"");
 
+                            b1.ToTable((string)null);
+
                             b1.ToView(""OwnedView"", (string)null);
 
                             b1.WithOwner()
@@ -5810,6 +5866,8 @@ public virtual void Do_not_generate_entity_type_builder_again_if_no_foreign_key_
                     b.ToTable(""BaseType"");
 
                     b.HasDiscriminator<string>(""Discriminator"").HasValue(""BaseType"");
+
+                    b.UseTphMappingStrategy();
                 });
 
             modelBuilder.Entity(""Microsoft.EntityFrameworkCore.Migrations.ModelSnapshotSqlServerTest+EntityWithOneProperty"", b =>
diff --git a/test/EFCore.Design.Tests/Scaffolding/Internal/CSharpRuntimeModelCodeGeneratorTest.cs b/test/EFCore.Design.Tests/Scaffolding/Internal/CSharpRuntimeModelCodeGeneratorTest.cs
index e7bb3a7ec0..ded382af52 100644
--- a/test/EFCore.Design.Tests/Scaffolding/Internal/CSharpRuntimeModelCodeGeneratorTest.cs
+++ b/test/EFCore.Design.Tests/Scaffolding/Internal/CSharpRuntimeModelCodeGeneratorTest.cs
@@ -1048,6 +1048,7 @@ public static void CreateAnnotations(RuntimeEntityType runtimeEntityType)
         {
             runtimeEntityType.AddAnnotation(""DiscriminatorMappingComplete"", false);
             runtimeEntityType.AddAnnotation(""Relational:FunctionName"", null);
+            runtimeEntityType.AddAnnotation(""Relational:MappingStrategy"", ""TPH"");
             runtimeEntityType.AddAnnotation(""Relational:Schema"", null);
             runtimeEntityType.AddAnnotation(""Relational:SqlQuery"", null);
             runtimeEntityType.AddAnnotation(""Relational:TableName"", ""PrincipalDerived"");
@@ -1166,6 +1167,7 @@ public static RuntimeSkipNavigation CreateSkipNavigation1(RuntimeEntityType decl
         public static void CreateAnnotations(RuntimeEntityType runtimeEntityType)
         {
             runtimeEntityType.AddAnnotation(""Relational:FunctionName"", null);
+            runtimeEntityType.AddAnnotation(""Relational:MappingStrategy"", ""TPT"");
             runtimeEntityType.AddAnnotation(""Relational:Schema"", ""mySchema"");
             runtimeEntityType.AddAnnotation(""Relational:SqlQuery"", null);
             runtimeEntityType.AddAnnotation(""Relational:TableName"", ""PrincipalBase"");
diff --git a/test/EFCore.Relational.Specification.Tests/EntitySplittingTestBase.cs b/test/EFCore.Relational.Specification.Tests/EntitySplittingTestBase.cs
index 8bb4e5698c..7adb3cc277 100644
--- a/test/EFCore.Relational.Specification.Tests/EntitySplittingTestBase.cs
+++ b/test/EFCore.Relational.Specification.Tests/EntitySplittingTestBase.cs
@@ -63,15 +63,21 @@ protected virtual void OnModelCreating(ModelBuilder modelBuilder)
             });
     }
 
-    protected async Task InitializeAsync(Action<ModelBuilder> onModelCreating, bool sensitiveLogEnabled = true)
-        => ContextFactory = await InitializeAsync<EntitySplittingContext>(
+    protected async Task InitializeAsync(
+        Action<ModelBuilder> onModelCreating,
+        Action<DbContextOptionsBuilder> onConfiguring = null,
+        Action<EntitySplittingContext> seed = null,
+        bool sensitiveLogEnabled = true)
+        => ContextFactory = await InitializeAsync(
             onModelCreating,
+            seed: seed,
             shouldLogCategory: _ => true,
             onConfiguring: options =>
             {
                 options.ConfigureWarnings(w => w.Log(RelationalEventId.OptionalDependentWithAllNullPropertiesWarning))
                     .ConfigureWarnings(w => w.Log(RelationalEventId.OptionalDependentWithoutIdentifyingPropertyWarning))
                     .EnableSensitiveDataLogging(sensitiveLogEnabled);
+                onConfiguring?.Invoke(options);
             }
         );
 
diff --git a/test/EFCore.Relational.Specification.Tests/Query/TPCGearsOfWarQueryRelationalFixture.cs b/test/EFCore.Relational.Specification.Tests/Query/TPCGearsOfWarQueryRelationalFixture.cs
index f05df02116..fd03855e56 100644
--- a/test/EFCore.Relational.Specification.Tests/Query/TPCGearsOfWarQueryRelationalFixture.cs
+++ b/test/EFCore.Relational.Specification.Tests/Query/TPCGearsOfWarQueryRelationalFixture.cs
@@ -20,8 +20,7 @@ protected override bool ShouldLogCategory(string logCategory)
 
     public override DbContextOptionsBuilder AddOptions(DbContextOptionsBuilder builder)
         => base.AddOptions(builder).ConfigureWarnings(
-            w =>
-                w.Log(RelationalEventId.ForeignKeyTpcPrincipalWarning));
+            w => w.Log(RelationalEventId.ForeignKeyTpcPrincipalWarning));
 
     protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext context)
     {
@@ -31,12 +30,8 @@ protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext con
         modelBuilder.Entity<Faction>().UseTpcMappingStrategy();
         modelBuilder.Entity<LocustLeader>().UseTpcMappingStrategy();
 
-        modelBuilder.Entity<Gear>().ToTable("Gears");
-        modelBuilder.Entity<Officer>().ToTable("Officers");
-
         modelBuilder.Entity<LocustHorde>().ToTable("LocustHordes");
 
-        modelBuilder.Entity<LocustLeader>().ToTable("LocustLeaders");
         modelBuilder.Entity<LocustCommander>().ToTable("LocustCommanders");
     }
 }
diff --git a/test/EFCore.Relational.Specification.Tests/Query/TPCInheritanceQueryFixture.cs b/test/EFCore.Relational.Specification.Tests/Query/TPCInheritanceQueryFixture.cs
index a2139b79b1..333f775354 100644
--- a/test/EFCore.Relational.Specification.Tests/Query/TPCInheritanceQueryFixture.cs
+++ b/test/EFCore.Relational.Specification.Tests/Query/TPCInheritanceQueryFixture.cs
@@ -20,7 +20,7 @@ protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext con
     {
         base.OnModelCreating(modelBuilder, context);
 
-        // Configure TPT for hierarchies
+        // Configure TPC for hierarchies
         modelBuilder.Entity<Plant>().UseTpcMappingStrategy();
         modelBuilder.Entity<Animal>().UseTpcMappingStrategy();
         modelBuilder.Entity<Drink>().UseTpcMappingStrategy();
@@ -31,12 +31,10 @@ protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext con
         modelBuilder.Entity<Country>().Property(e => e.Id).ValueGeneratedNever();
 
         modelBuilder.Entity<Bird>().ToTable("Birds");
-        modelBuilder.Entity<Eagle>().ToTable("Eagle");
         modelBuilder.Entity<Kiwi>().ToTable("Kiwi");
         modelBuilder.Entity<Animal>().Property(e => e.Species).HasMaxLength(100);
         modelBuilder.Entity<Eagle>().HasMany(e => e.Prey).WithOne().HasForeignKey(e => e.EagleId).IsRequired(false);
 
-        modelBuilder.Entity<Drink>().ToTable("Drinks");
         modelBuilder.Entity<Coke>().ToTable("Coke");
         modelBuilder.Entity<Lilt>().ToTable("Lilt");
         modelBuilder.Entity<Tea>().ToTable("Tea");
diff --git a/test/EFCore.Relational.Specification.Tests/Query/TPTGearsOfWarQueryRelationalFixture.cs b/test/EFCore.Relational.Specification.Tests/Query/TPTGearsOfWarQueryRelationalFixture.cs
index 02a0a44096..b6a64a0ea0 100644
--- a/test/EFCore.Relational.Specification.Tests/Query/TPTGearsOfWarQueryRelationalFixture.cs
+++ b/test/EFCore.Relational.Specification.Tests/Query/TPTGearsOfWarQueryRelationalFixture.cs
@@ -22,13 +22,10 @@ protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext con
     {
         base.OnModelCreating(modelBuilder, context);
 
-        modelBuilder.Entity<Gear>().ToTable("Gears");
-        modelBuilder.Entity<Officer>().ToTable("Officers");
+        modelBuilder.Entity<Gear>().UseTptMappingStrategy();
 
-        modelBuilder.Entity<Faction>().ToTable("Factions");
         modelBuilder.Entity<LocustHorde>().ToTable("LocustHordes");
 
-        modelBuilder.Entity<LocustLeader>().ToTable("LocustLeaders");
         modelBuilder.Entity<LocustCommander>().ToTable("LocustCommanders");
     }
 }
diff --git a/test/EFCore.Relational.Specification.Tests/Query/TPTInheritanceQueryFixture.cs b/test/EFCore.Relational.Specification.Tests/Query/TPTInheritanceQueryFixture.cs
index 117da367aa..385a84d0c6 100644
--- a/test/EFCore.Relational.Specification.Tests/Query/TPTInheritanceQueryFixture.cs
+++ b/test/EFCore.Relational.Specification.Tests/Query/TPTInheritanceQueryFixture.cs
@@ -20,20 +20,16 @@ protected override void OnModelCreating(ModelBuilder modelBuilder, DbContext con
     {
         base.OnModelCreating(modelBuilder, context);
 
-        modelBuilder.Entity<Plant>().ToTable("Plants");
         modelBuilder.Entity<Flower>().ToTable("Flowers");
         modelBuilder.Entity<Rose>().ToTable("Roses");
         modelBuilder.Entity<Daisy>().ToTable("Daisies");
         modelBuilder.Entity<Country>().Property(e => e.Id).ValueGeneratedNever();
 
-        modelBuilder.Entity<Animal>().ToTable("Animals");
         modelBuilder.Entity<Bird>().ToTable("Birds");
-        modelBuilder.Entity<Eagle>().ToTable("Eagle");
         modelBuilder.Entity<Kiwi>().ToTable("Kiwi");
         modelBuilder.Entity<Animal>().Property(e => e.Species).HasMaxLength(100);
         modelBuilder.Entity<Eagle>().HasMany(e => e.Prey).WithOne().HasForeignKey(e => e.EagleId).IsRequired(false);
 
-        modelBuilder.Entity<Drink>().ToTable("Drinks");
         modelBuilder.Entity<Coke>().ToTable("Coke");
         modelBuilder.Entity<Lilt>().ToTable("Lilt");
         modelBuilder.Entity<Tea>().ToTable("Tea");
diff --git a/test/EFCore.Specification.Tests/TestModels/GearsOfWarModel/GearsOfWarContext.cs b/test/EFCore.Specification.Tests/TestModels/GearsOfWarModel/GearsOfWarContext.cs
index 07b412e130..906c9a6734 100644
--- a/test/EFCore.Specification.Tests/TestModels/GearsOfWarModel/GearsOfWarContext.cs
+++ b/test/EFCore.Specification.Tests/TestModels/GearsOfWarModel/GearsOfWarContext.cs
@@ -11,6 +11,7 @@ public GearsOfWarContext(DbContextOptions options)
     }
 
     public DbSet<Gear> Gears { get; set; }
+    public DbSet<Officer> Officers { get; set; }
     public DbSet<Squad> Squads { get; set; }
     public DbSet<CogTag> Tags { get; set; }
     public DbSet<Weapon> Weapons { get; set; }
diff --git a/test/EFCore.SqlServer.FunctionalTests/EntitySplittingSqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/EntitySplittingSqlServerTest.cs
index 881e49d40e..73bbaf2ddd 100644
--- a/test/EFCore.SqlServer.FunctionalTests/EntitySplittingSqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/EntitySplittingSqlServerTest.cs
@@ -9,12 +9,59 @@ public EntitySplittingSqlServerTest(ITestOutputHelper testOutputHelper)
         : base(testOutputHelper)
     {
     }
-
-    protected override ITestStoreFactory TestStoreFactory
-        => SqlServerTestStoreFactory.Instance;
     
-    protected override void OnModelCreating(ModelBuilder modelBuilder)
+    [ConditionalFact(Skip = "Entity splitting query Issue #620")]
+    public virtual async Task Can_roundtrip_with_triggers()
     {
-        base.OnModelCreating(modelBuilder);
+        await InitializeAsync(modelBuilder =>
+            {
+                OnModelCreating(modelBuilder);
+                
+                modelBuilder.Entity<MeterReading>(
+                    ob =>
+                    {
+                        ob.SplitToTable(
+                            "MeterReadingDetails", t =>
+                            {
+                                t.HasTrigger("MeterReadingsDetails_Trigger");
+                            });
+                    });
+            },
+            sensitiveLogEnabled: false,
+            seed: c =>
+                {
+                    c.Database.ExecuteSqlRaw($@"
+CREATE OR ALTER TRIGGER [MeterReadingsDetails_Trigger]
+ON [MeterReadingDetails]
+FOR INSERT, UPDATE, DELETE AS
+BEGIN
+	IF @@ROWCOUNT = 0
+		return
+END");
+                });
+
+        await using (var context = CreateContext())
+        {
+            var meterReading = new MeterReading { ReadingStatus = MeterReadingStatus.NotAccesible, CurrentRead = "100" };
+
+            context.Add(meterReading);
+
+            TestSqlLoggerFactory.Clear();
+
+            await context.SaveChangesAsync();
+
+            Assert.Empty(TestSqlLoggerFactory.Log.Where(l => l.Level == LogLevel.Warning));
+        }
+
+        await using (var context = CreateContext())
+        {
+            var reading = await context.MeterReadings.SingleAsync();
+
+            Assert.Equal(MeterReadingStatus.NotAccesible, reading.ReadingStatus);
+            Assert.Equal("100", reading.CurrentRead);
+        }
     }
+
+    protected override ITestStoreFactory TestStoreFactory
+        => SqlServerTestStoreFactory.Instance;
 }
diff --git a/test/EFCore.SqlServer.FunctionalTests/SqlServerTriggersTest.cs b/test/EFCore.SqlServer.FunctionalTests/SqlServerTriggersTest.cs
index 344e5b10b1..ba68ce6832 100644
--- a/test/EFCore.SqlServer.FunctionalTests/SqlServerTriggersTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/SqlServerTriggersTest.cs
@@ -1,8 +1,6 @@
 // Licensed to the .NET Foundation under one or more agreements.
 // The .NET Foundation licenses this file to you under the MIT license.
 
-
-
 // ReSharper disable ParameterOnlyUsedForPreconditionCheck.Local
 // ReSharper disable InconsistentNaming
 namespace Microsoft.EntityFrameworkCore;
diff --git a/test/EFCore.SqlServer.Tests/ModelBuilding/SqlServerTestModelBuilderExtensions.cs b/test/EFCore.SqlServer.Tests/ModelBuilding/SqlServerTestModelBuilderExtensions.cs
index 030428c099..68826a9ad6 100644
--- a/test/EFCore.SqlServer.Tests/ModelBuilding/SqlServerTestModelBuilderExtensions.cs
+++ b/test/EFCore.SqlServer.Tests/ModelBuilding/SqlServerTestModelBuilderExtensions.cs
@@ -64,18 +64,18 @@ public static class SqlServerTestModelBuilderExtensions
 
     public static RelationalModelBuilderTest.TestTableBuilder<TEntity> IsTemporal<TEntity>(
         this RelationalModelBuilderTest.TestTableBuilder<TEntity> builder,
-        Action<SqlServerModelBuilderGenericTest.TestTemporalTableBuilder<TEntity>> buildAction)
+        Action<SqlServerModelBuilderTestBase.TestTemporalTableBuilder<TEntity>> buildAction)
         where TEntity : class
     {
         switch (builder)
         {
             case IInfrastructure<TableBuilder<TEntity>> genericBuilder:
                 genericBuilder.Instance.IsTemporal(
-                    b => buildAction(new SqlServerModelBuilderGenericTest.GenericTestTemporalTableBuilder<TEntity>(b)));
+                    b => buildAction(new SqlServerModelBuilderTestBase.GenericTestTemporalTableBuilder<TEntity>(b)));
                 break;
             case IInfrastructure<TableBuilder> nongenericBuilder:
                 nongenericBuilder.Instance.IsTemporal(
-                    b => buildAction(new SqlServerModelBuilderGenericTest.NonGenericTestTemporalTableBuilder<TEntity>(b)));
+                    b => buildAction(new SqlServerModelBuilderTestBase.NonGenericTestTemporalTableBuilder<TEntity>(b)));
                 break;
         }
 
