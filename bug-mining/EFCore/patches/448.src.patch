diff --git a/EFCore.sln.DotSettings b/EFCore.sln.DotSettings
index 6881961da9..6735b44a6f 100644
--- a/EFCore.sln.DotSettings
+++ b/EFCore.sln.DotSettings
@@ -216,6 +216,7 @@ The .NET Foundation licenses this file to you under the MIT license.&#xD;
 	<s:String x:Key="/Default/CodeStyle/Naming/CSharpNaming/PredefinedNamingRules/=PrivateStaticReadonly/@EntryIndexedValue">&lt;Policy Inspect="True" Prefix="" Suffix="" Style="AaBb" /&gt;</s:String>
 	<s:String x:Key="/Default/CodeStyle/Naming/CSharpNaming/UserRules/=042e7460_002D3ec6_002D4f1c_002D87c3_002Dfc91240d4c90/@EntryIndexedValue">&lt;Policy&gt;&lt;Descriptor Staticness="Static, Instance" AccessRightKinds="Public" Description="Test Methods"&gt;&lt;ElementKinds&gt;&lt;Kind Name="TEST_MEMBER" /&gt;&lt;/ElementKinds&gt;&lt;/Descriptor&gt;&lt;Policy Inspect="True" Prefix="" Suffix="" Style="Aa_bb" /&gt;&lt;/Policy&gt;</s:String>
 	<s:String x:Key="/Default/CodeStyle/Naming/CSharpNaming/Abbreviations/=EF/@EntryIndexedValue">EF</s:String>
+	<s:String x:Key="/Default/CodeStyle/Naming/CSharpNaming/UserRules/=15b5b1f1_002D457c_002D4ca6_002Db278_002D5615aedc07d3/@EntryIndexedValue">&lt;Policy&gt;&lt;Descriptor Staticness="Static" AccessRightKinds="Private" Description="Static readonly fields (private)"&gt;&lt;ElementKinds&gt;&lt;Kind Name="READONLY_FIELD" /&gt;&lt;/ElementKinds&gt;&lt;/Descriptor&gt;&lt;Policy Inspect="True" Prefix="" Suffix="" Style="AaBb" /&gt;&lt;/Policy&gt;</s:String>
 	<s:String x:Key="/Default/CodeStyle/Naming/JavaScriptNaming/UserRules/=JS_005FBLOCK_005FSCOPE_005FCONSTANT/@EntryIndexedValue">&lt;Policy Inspect="True" Prefix="" Suffix="" Style="aaBb" /&gt;</s:String>
 	<s:String x:Key="/Default/CodeStyle/Naming/JavaScriptNaming/UserRules/=JS_005FBLOCK_005FSCOPE_005FFUNCTION/@EntryIndexedValue">&lt;Policy Inspect="True" Prefix="" Suffix="" Style="aaBb" /&gt;</s:String>
 	<s:String x:Key="/Default/CodeStyle/Naming/JavaScriptNaming/UserRules/=JS_005FBLOCK_005FSCOPE_005FVARIABLE/@EntryIndexedValue">&lt;Policy Inspect="True" Prefix="" Suffix="" Style="aaBb" /&gt;</s:String>
@@ -280,6 +281,7 @@ The .NET Foundation licenses this file to you under the MIT license.&#xD;
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002ECSharp_002ECodeStyle_002ESettingsUpgrade_002ECSharpPlaceAttributeOnSameLineMigration/@EntryIndexedValue">True</s:Boolean>
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002ECSharp_002ECodeStyle_002ESettingsUpgrade_002EMigrateBlankLinesAroundFieldToBlankLinesAroundProperty/@EntryIndexedValue">True</s:Boolean>
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002ECSharp_002ECodeStyle_002ESettingsUpgrade_002EMigrateThisQualifierSettings/@EntryIndexedValue">True</s:Boolean>
+	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002ECSharp_002ECodeStyle_002ESettingsUpgrade_002EPredefinedNamingRulesToUserRulesUpgrade/@EntryIndexedValue">True</s:Boolean>
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002EJavaScript_002ECodeStyle_002ESettingsUpgrade_002EJsCodeFormatterSettingsUpgrader/@EntryIndexedValue">True</s:Boolean>
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002EJavaScript_002ECodeStyle_002ESettingsUpgrade_002EJsParsFormattingSettingsUpgrader/@EntryIndexedValue">True</s:Boolean>
 	<s:Boolean x:Key="/Default/Environment/SettingsMigration/IsMigratorApplied/=JetBrains_002EReSharper_002EPsi_002EJavaScript_002ECodeStyle_002ESettingsUpgrade_002EJsWrapperSettingsUpgrader/@EntryIndexedValue">True</s:Boolean>
diff --git a/src/EFCore.SqlServer/Query/Internal/SqlServerJsonPostprocessor.cs b/src/EFCore.SqlServer/Query/Internal/SqlServerJsonPostprocessor.cs
index 161875f7a8..2990fa18ec 100644
--- a/src/EFCore.SqlServer/Query/Internal/SqlServerJsonPostprocessor.cs
+++ b/src/EFCore.SqlServer/Query/Internal/SqlServerJsonPostprocessor.cs
@@ -10,11 +10,14 @@
 namespace Microsoft.EntityFrameworkCore.SqlServer.Query.Internal;
 
 /// <summary>
-///     Converts <see cref="SqlServerOpenJsonExpression" /> expressions with WITH (the default) to OPENJSON without WITH under the following
-///     conditions:
-///     * When an ordering still exists on the [key] column, i.e. when the ordering of the original JSON array needs to be preserved
-///       (e.g. limit/offset).
-///     * When the column type in the WITH clause is a SQL Server "CLR type" - these are incompatible with WITH (e.g. hierarchy id).
+///     Performs various post-processing rewriting to account for SQL Server JSON quirks.
+///     1. Converts <see cref="SqlServerOpenJsonExpression" /> expressions with WITH (the default) to OPENJSON without WITH under the
+///        following conditions:
+///         * When an ordering still exists on the [key] column, i.e. when the ordering of the original JSON array needs to be preserved
+///           (e.g. limit/offset).
+///         * When the column type in the WITH clause is a SQL Server "CLR type" - these are incompatible with WITH (e.g. hierarchy id).
+///     2. Rewrite JsonScalarExpression (JSON_VALUE()) to OPENJSON for when JSON_VALUE() isn't compatible with the type (e.g. binary data
+///        which needs to be base64-decoded).
 /// </summary>
 /// <remarks>
 ///     This is an internal API that supports the Entity Framework Core infrastructure and not subject to
@@ -22,11 +25,13 @@ namespace Microsoft.EntityFrameworkCore.SqlServer.Query.Internal;
 ///     any release. You should only use it directly in your code with extreme caution and knowing that
 ///     doing so can result in application failures when updating to a new Entity Framework Core release.
 /// </remarks>
-public class SqlServerJsonPostprocessor : ExpressionVisitor
+public sealed class SqlServerJsonPostprocessor(
+    IRelationalTypeMappingSource typeMappingSource,
+    ISqlExpressionFactory sqlExpressionFactory,
+    SqlAliasManager sqlAliasManager)
+    : ExpressionVisitor
 {
-    private readonly IRelationalTypeMappingSource _typeMappingSource;
-    private readonly ISqlExpressionFactory _sqlExpressionFactory;
-
+    private readonly List<OuterApplyExpression> _openjsonOuterAppliesToAdd = new();
     private readonly Dictionary<(string, string), ColumnInfo> _columnsToRewrite = new();
 
     private RelationalTypeMapping? _nvarcharMaxTypeMapping;
@@ -37,20 +42,7 @@ public class SqlServerJsonPostprocessor : ExpressionVisitor
     ///     any release. You should only use it directly in your code with extreme caution and knowing that
     ///     doing so can result in application failures when updating to a new Entity Framework Core release.
     /// </summary>
-    public SqlServerJsonPostprocessor(
-        IRelationalTypeMappingSource typeMappingSource,
-        ISqlExpressionFactory sqlExpressionFactory)
-    {
-        (_typeMappingSource, _sqlExpressionFactory) = (typeMappingSource, sqlExpressionFactory);
-    }
-
-    /// <summary>
-    ///     This is an internal API that supports the Entity Framework Core infrastructure and not subject to
-    ///     the same compatibility standards as public APIs. It may be changed or removed without notice in
-    ///     any release. You should only use it directly in your code with extreme caution and knowing that
-    ///     doing so can result in application failures when updating to a new Entity Framework Core release.
-    /// </summary>
-    public virtual Expression Process(Expression expression)
+    public Expression Process(Expression expression)
     {
         _columnsToRewrite.Clear();
 
@@ -129,39 +121,60 @@ public virtual Expression Process(Expression expression)
                     }
                 }
 
+                var result = selectExpression;
+
                 // In the common case, we do not have to rewrite any OPENJSON tables.
                 if (columnsToRewrite is null)
                 {
                     Check.DebugAssert(newTables is null, "newTables must be null if columnsToRewrite is null");
-                    return base.Visit(selectExpression);
-                }
 
-                var newSelectExpression = newTables is not null
-                    ? selectExpression.Update(
-                        selectExpression.Projection,
-                        newTables,
-                        selectExpression.Predicate,
-                        selectExpression.GroupBy,
-                        selectExpression.Having,
-                        selectExpression.Orderings,
-                        selectExpression.Limit,
-                        selectExpression.Offset)
-                    : selectExpression;
-
-                // when we mark columns for rewrite we don't yet have the updated SelectExpression, so we store the info in temporary dictionary
-                // and now that we have created new SelectExpression we add it to the proper dictionary that we will use for rewrite
-                foreach (var columnToRewrite in columnsToRewrite)
-                {
-                    _columnsToRewrite.Add(columnToRewrite.Key, columnToRewrite.Value);
+                    result = (SelectExpression)base.Visit(result);
                 }
+                else
+                {
+                    if (newTables is not null)
+                    {
+                        result = selectExpression.Update(
+                            selectExpression.Projection,
+                            newTables,
+                            selectExpression.Predicate,
+                            selectExpression.GroupBy,
+                            selectExpression.Having,
+                            selectExpression.Orderings,
+                            selectExpression.Limit,
+                            selectExpression.Offset);
+                    }
 
-                // Record the OPENJSON expression and its projected column(s), along with the store type we just removed from the WITH
-                // clause. Then visit the select expression, adding a cast around the matching ColumnExpressions.
-                var result = base.Visit(newSelectExpression);
+                    // when we mark columns for rewrite we don't yet have the updated SelectExpression, so we store the info in temporary dictionary
+                    // and now that we have created new SelectExpression we add it to the proper dictionary that we will use for rewrite
+                    foreach (var columnToRewrite in columnsToRewrite)
+                    {
+                        _columnsToRewrite.Add(columnToRewrite.Key, columnToRewrite.Value);
+                    }
+
+                    // Record the OPENJSON expression and its projected column(s), along with the store type we just removed from the WITH
+                    // clause. Then visit the select expression, adding a cast around the matching ColumnExpressions.
+                    result = (SelectExpression)base.Visit(result);
 
-                foreach (var columnsToRewriteKey in columnsToRewrite.Keys)
+                    foreach (var columnsToRewriteKey in columnsToRewrite.Keys)
+                    {
+                        _columnsToRewrite.Remove(columnsToRewriteKey);
+                    }
+                }
+
+                if (_openjsonOuterAppliesToAdd.Count > 0)
                 {
-                    _columnsToRewrite.Remove(columnsToRewriteKey);
+                    result = result.Update(
+                        result.Projection,
+                        [.. result.Tables, .. _openjsonOuterAppliesToAdd],
+                        result.Predicate,
+                        result.GroupBy,
+                        result.Having,
+                        result.Orderings,
+                        result.Limit,
+                        result.Offset);
+
+                    _openjsonOuterAppliesToAdd.Clear();
                 }
 
                 return result;
@@ -198,6 +211,31 @@ public virtual Expression Process(Expression expression)
                     jsonScalarExpression.IsNullable);
             }
 
+            // Some SQL Server types cannot be reliably parsed with JSON_VALUE(): binary/varbinary are encoded in base64 in the JSON,
+            // but JSON_VALUE() returns a string and there's no SQL Server function to parse base64. However, OPENJSON/WITH does do base64
+            // decoding.
+            // So here we identify problematic JsonScalarExpressions (which translate to JSON_VALUE), and transform them to OUTER APPLY:
+            // JSON_VALUE([b].[Json], '$.Foo.Bar') -> CROSS APPLY OPENJSON([b].[Json]) WITH ([Bar] int '$.Foo.Bar') AS [b].
+            case JsonScalarExpression { TypeMapping.StoreTypeNameBase: "varbinary" or "binary" } jsonScalar:
+            {
+                var name = jsonScalar.Path.LastOrDefault(ps => ps.PropertyName is not null).PropertyName
+                           ?? (jsonScalar.Json as ColumnExpression)?.Name
+                           ?? "Json";
+
+                var tableAlias = sqlAliasManager.GenerateTableAlias(name);
+                var join =
+                    new OuterApplyExpression(
+                        new SqlServerOpenJsonExpression(
+                            tableAlias, jsonScalar.Json, path: null,
+                            columnInfos: [new(name, jsonScalar.TypeMapping, jsonScalar.Path)]));
+
+                // We record the new OUTER APPLY in _openWithOuterAppliesToAdd (it gets added after visiting the SelectExpression above),
+                // and return a ColumnExpression referencing that new OUTER APPLY.
+                _openjsonOuterAppliesToAdd.Add(join);
+                return new ColumnExpression(name, tableAlias, jsonScalar.Type, jsonScalar.TypeMapping,
+                    jsonScalar.IsNullable);
+            }
+
             default:
                 return base.Visit(expression);
         }
@@ -240,9 +278,9 @@ SqlExpression RewriteOpenJsonColumn(ColumnExpression columnExpression, ColumnInf
                 // nvarchar(max); add a CAST to convert.
                 if (columnInfo.TypeMapping.StoreType != "nvarchar(max)")
                 {
-                    _nvarcharMaxTypeMapping ??= _typeMappingSource.FindMapping("nvarchar(max)");
+                    _nvarcharMaxTypeMapping ??= typeMappingSource.FindMapping("nvarchar(max)");
 
-                    rewrittenColumn = _sqlExpressionFactory.Convert(
+                    rewrittenColumn = sqlExpressionFactory.Convert(
                         rewrittenColumn,
                         columnExpression.Type,
                         columnInfo.TypeMapping);
diff --git a/src/EFCore.SqlServer/Query/Internal/SqlServerQueryTranslationPostprocessor.cs b/src/EFCore.SqlServer/Query/Internal/SqlServerQueryTranslationPostprocessor.cs
index 39ac30caf0..54ac790731 100644
--- a/src/EFCore.SqlServer/Query/Internal/SqlServerQueryTranslationPostprocessor.cs
+++ b/src/EFCore.SqlServer/Query/Internal/SqlServerQueryTranslationPostprocessor.cs
@@ -33,7 +33,7 @@ public class SqlServerQueryTranslationPostprocessor : RelationalQueryTranslation
         : base(dependencies, relationalDependencies, queryCompilationContext)
     {
         _jsonPostprocessor = new SqlServerJsonPostprocessor(
-            relationalDependencies.TypeMappingSource, relationalDependencies.SqlExpressionFactory);
+            relationalDependencies.TypeMappingSource, relationalDependencies.SqlExpressionFactory, queryCompilationContext.SqlAliasManager);
     }
 
     /// <summary>
diff --git a/test/EFCore.Relational.Specification.Tests/Query/JsonQueryTestBase.cs b/test/EFCore.Relational.Specification.Tests/Query/JsonQueryTestBase.cs
index 0015346d14..fe1bd962f9 100644
--- a/test/EFCore.Relational.Specification.Tests/Query/JsonQueryTestBase.cs
+++ b/test/EFCore.Relational.Specification.Tests/Query/JsonQueryTestBase.cs
@@ -2262,6 +2262,14 @@ public virtual Task Json_predicate_on_byte(bool async)
             async,
             ss => ss.Set<JsonEntityAllTypes>().Where(x => x.Reference.TestByte != 3));
 
+    [ConditionalTheory]
+    [MemberData(nameof(IsAsyncData))]
+    public virtual Task Json_predicate_on_byte_array(bool async)
+        => AssertQuery(
+            async,
+            ss => ss.Set<JsonEntityAllTypes>().Where(x => x.Reference.TestByteArray != new byte[] { 1, 2, 3 }),
+            ss => ss.Set<JsonEntityAllTypes>().Where(x => !x.Reference.TestByteArray.SequenceEqual(new byte[] { 1, 2, 3 })));
+
     [ConditionalTheory]
     [MemberData(nameof(IsAsyncData))]
     public virtual Task Json_predicate_on_character(bool async)
diff --git a/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonOwnedAllTypes.cs b/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonOwnedAllTypes.cs
index 85558f64b3..1e53672004 100644
--- a/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonOwnedAllTypes.cs
+++ b/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonOwnedAllTypes.cs
@@ -34,6 +34,7 @@ public class JsonOwnedAllTypes
     public float TestSingle { get; set; }
     public bool TestBoolean { get; set; }
     public byte TestByte { get; set; }
+    public byte[] TestByteArray { get; set; }
     public Guid TestGuid { get; set; }
     public ushort TestUnsignedInt16 { get; set; }
     public uint TestUnsignedInt32 { get; set; }
diff --git a/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonQueryData.cs b/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonQueryData.cs
index c8b39a3249..4d50437b49 100644
--- a/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonQueryData.cs
+++ b/test/EFCore.Relational.Specification.Tests/TestModels/JsonQuery/JsonQueryData.cs
@@ -706,6 +706,7 @@ public static IReadOnlyList<JsonEntityAllTypes> CreateJsonEntitiesAllTypes()
             TestSingle = -1.234F,
             TestBoolean = true,
             TestByte = 255,
+            TestByteArray = [1, 2, 3],
             TestGuid = new Guid("12345678-1234-4321-7777-987654321000"),
             TestUnsignedInt16 = 1234,
             TestUnsignedInt32 = 1234565789U,
@@ -825,6 +826,7 @@ public static IReadOnlyList<JsonEntityAllTypes> CreateJsonEntitiesAllTypes()
             TestSingle = -1.24F,
             TestBoolean = true,
             TestByte = 25,
+            TestByteArray = [1, 2, 4],
             TestGuid = new Guid("12345678-1243-4321-7777-987654321000"),
             TestUnsignedInt16 = 134,
             TestUnsignedInt32 = 123565789U,
@@ -939,6 +941,7 @@ public static IReadOnlyList<JsonEntityAllTypes> CreateJsonEntitiesAllTypes()
             TestSingle = -1.4F,
             TestBoolean = false,
             TestByte = 25,
+            TestByteArray = [],
             TestGuid = new Guid("00000000-0000-0000-0000-000000000000"),
             TestUnsignedInt16 = 12,
             TestUnsignedInt32 = 12345U,
@@ -1053,6 +1056,7 @@ public static IReadOnlyList<JsonEntityAllTypes> CreateJsonEntitiesAllTypes()
             TestSingle = -1.4F,
             TestBoolean = false,
             TestByte = 25,
+            TestByteArray = null,
             TestGuid = new Guid("00000000-0000-0000-0000-000000100000"),
             TestUnsignedInt16 = 1,
             TestUnsignedInt32 = 1245U,
diff --git a/test/EFCore.SqlServer.FunctionalTests/Query/JsonQuerySqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Query/JsonQuerySqlServerTest.cs
index efc4c26b77..1683196733 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Query/JsonQuerySqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Query/JsonQuerySqlServerTest.cs
@@ -2297,6 +2297,19 @@ public override async Task Json_predicate_on_byte(bool async)
 """);
     }
 
+    public override async Task Json_predicate_on_byte_array(bool async)
+    {
+        await base.Json_predicate_on_byte_array(async);
+
+        AssertSql(
+            """
+SELECT [j].[Id], [j].[TestBooleanCollection], [j].[TestBooleanCollectionCollection], [j].[TestByteCollection], [j].[TestCharacterCollection], [j].[TestCharacterCollectionCollection], [j].[TestDateTimeCollection], [j].[TestDateTimeOffsetCollection], [j].[TestDecimalCollection], [j].[TestDefaultStringCollection], [j].[TestDefaultStringCollectionCollection], [j].[TestDoubleCollection], [j].[TestDoubleCollectionCollection], [j].[TestEnumCollection], [j].[TestEnumWithIntConverterCollection], [j].[TestGuidCollection], [j].[TestInt16Collection], [j].[TestInt16CollectionCollection], [j].[TestInt32Collection], [j].[TestInt32CollectionCollection], [j].[TestInt64Collection], [j].[TestInt64CollectionCollection], [j].[TestMaxLengthStringCollection], [j].[TestMaxLengthStringCollectionCollection], [j].[TestNullableEnumCollection], [j].[TestNullableEnumCollectionCollection], [j].[TestNullableEnumWithConverterThatHandlesNullsCollection], [j].[TestNullableEnumWithIntConverterCollection], [j].[TestNullableEnumWithIntConverterCollectionCollection], [j].[TestNullableInt32Collection], [j].[TestNullableInt32CollectionCollection], [j].[TestSignedByteCollection], [j].[TestSingleCollection], [j].[TestSingleCollectionCollection], [j].[TestTimeSpanCollection], [j].[TestUnsignedInt16Collection], [j].[TestUnsignedInt32Collection], [j].[TestUnsignedInt64Collection], [j].[Collection], [j].[Reference]
+FROM [JsonEntitiesAllTypes] AS [j]
+OUTER APPLY OPENJSON([j].[Reference]) WITH ([TestByteArray] varbinary(max) '$.TestByteArray') AS [t]
+WHERE [t].[TestByteArray] <> 0x010203 OR [t].[TestByteArray] IS NULL
+""");
+    }
+
     public override async Task Json_predicate_on_character(bool async)
     {
         await base.Json_predicate_on_character(async);
diff --git a/test/EFCore.SqlServer.FunctionalTests/Update/JsonUpdateSqlServerTest.cs b/test/EFCore.SqlServer.FunctionalTests/Update/JsonUpdateSqlServerTest.cs
index eefe450461..a966681a35 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Update/JsonUpdateSqlServerTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Update/JsonUpdateSqlServerTest.cs
@@ -1200,8 +1200,8 @@ public override async Task Edit_two_properties_on_same_entity_updates_the_entire
 
         AssertSql(
             """
-@p0='{"TestBoolean":false,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":25,"TestByteCollection":null,"TestCharacter":"h","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2323-04-03","TestDateOnlyCollection":["3234-01-23","4331-01-21"],"TestDateTime":"2100-11-11T12:34:56","TestDateTimeCollection":["2000-01-01T12:34:56","3000-01-01T12:34:56"],"TestDateTimeOffset":"2200-11-11T12:34:56-05:00","TestDateTimeOffsetCollection":["2000-01-01T12:34:56-08:00"],"TestDecimal":-123450.01,"TestDecimalCollection":[-1234567890.01],"TestDefaultString":"MyDefaultStringInCollection1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.2345,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"00000000-0000-0000-0000-000000000000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-12,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Baz","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Two","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":-3,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":90,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-18,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.4,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"05:07:08.0000000","TestTimeOnlyCollection":["13:42:23.0000000","07:17:25.0000000"],"TestTimeSpan":"6:05:04.003","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":12,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":12345,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567867,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3205)
-@p1='{"TestBoolean":true,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":255,"TestByteCollection":null,"TestCharacter":"a","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2023-10-10","TestDateOnlyCollection":["1234-01-23","4321-01-21"],"TestDateTime":"2000-01-01T12:34:56","TestDateTimeCollection":["2000-01-01T12:34:56","3000-01-01T12:34:56"],"TestDateTimeOffset":"2000-01-01T12:34:56-08:00","TestDateTimeOffsetCollection":["2000-01-01T12:34:56-08:00"],"TestDecimal":-1234567890.01,"TestDecimalCollection":[-1234567890.01],"TestDefaultString":"MyDefaultStringInReference1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.23456789,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"12345678-1234-4321-7777-987654321000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-1234,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Foo","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Three","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":2,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":78,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-128,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.234,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"11:12:13.0000000","TestTimeOnlyCollection":["11:42:23.0000000","07:17:27.0000000"],"TestTimeSpan":"10:09:08.007","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":1234,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":1234565789,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567890123456789,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3235)
+@p0='{"TestBoolean":false,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":25,"TestByteArray":"","TestByteCollection":null,"TestCharacter":"h","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2323-04-03","TestDateOnlyCollection":["3234-01-23","4331-01-21"],"TestDateTime":"2100-11-11T12:34:56","TestDateTimeCollection":["2000-01-01T12:34:56","3000-01-01T12:34:56"],"TestDateTimeOffset":"2200-11-11T12:34:56-05:00","TestDateTimeOffsetCollection":["2000-01-01T12:34:56-08:00"],"TestDecimal":-123450.01,"TestDecimalCollection":[-1234567890.01],"TestDefaultString":"MyDefaultStringInCollection1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.2345,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"00000000-0000-0000-0000-000000000000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-12,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Baz","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Two","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":-3,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":90,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-18,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.4,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"05:07:08.0000000","TestTimeOnlyCollection":["13:42:23.0000000","07:17:25.0000000"],"TestTimeSpan":"6:05:04.003","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":12,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":12345,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567867,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3224)
+@p1='{"TestBoolean":true,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":255,"TestByteArray":"AQID","TestByteCollection":null,"TestCharacter":"a","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2023-10-10","TestDateOnlyCollection":["1234-01-23","4321-01-21"],"TestDateTime":"2000-01-01T12:34:56","TestDateTimeCollection":["2000-01-01T12:34:56","3000-01-01T12:34:56"],"TestDateTimeOffset":"2000-01-01T12:34:56-08:00","TestDateTimeOffsetCollection":["2000-01-01T12:34:56-08:00"],"TestDecimal":-1234567890.01,"TestDecimalCollection":[-1234567890.01],"TestDefaultString":"MyDefaultStringInReference1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.23456789,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"12345678-1234-4321-7777-987654321000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-1234,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Foo","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Three","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":2,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":78,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-128,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.234,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"11:12:13.0000000","TestTimeOnlyCollection":["11:42:23.0000000","07:17:27.0000000"],"TestTimeSpan":"10:09:08.007","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":1234,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":1234565789,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567890123456789,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3258)
 @p2='1'
 
 SET IMPLICIT_TRANSACTIONS OFF;
@@ -2412,9 +2412,9 @@ public override async Task Add_and_update_nested_optional_primitive_collection(b
 
         string parameterSize = value switch
         {
-            true => "2046",
-            false => "2043",
-            _ => "2045"
+            true => "2067",
+            false => "2064",
+            _ => "2066"
         };
 
         string updateParameter = value switch
@@ -2425,7 +2425,7 @@ public override async Task Add_and_update_nested_optional_primitive_collection(b
         };
 
         AssertSql(
-            @"@p0='[{""TestBoolean"":false,""TestBooleanCollection"":[],""TestBooleanCollectionCollection"":[],""TestByte"":0,""TestByteCollection"":null,""TestCharacter"":""\u0000"",""TestCharacterCollection"":" + characterCollection + @",""TestCharacterCollectionCollection"":[],""TestDateOnly"":""0001-01-01"",""TestDateOnlyCollection"":[],""TestDateTime"":""0001-01-01T00:00:00"",""TestDateTimeCollection"":[],""TestDateTimeOffset"":""0001-01-01T00:00:00+00:00"",""TestDateTimeOffsetCollection"":[],""TestDecimal"":0,""TestDecimalCollection"":[],""TestDefaultString"":null,""TestDefaultStringCollection"":[],""TestDefaultStringCollectionCollection"":null,""TestDouble"":0,""TestDoubleCollection"":[],""TestDoubleCollectionCollection"":[],""TestEnum"":0,""TestEnumCollection"":[],""TestEnumWithIntConverter"":0,""TestEnumWithIntConverterCollection"":[],""TestGuid"":""00000000-0000-0000-0000-000000000000"",""TestGuidCollection"":[],""TestInt16"":0,""TestInt16Collection"":[],""TestInt16CollectionCollection"":null,""TestInt32"":0,""TestInt32Collection"":[],""TestInt32CollectionCollection"":[],""TestInt64"":0,""TestInt64Collection"":[],""TestInt64CollectionCollection"":[],""TestMaxLengthString"":null,""TestMaxLengthStringCollection"":[],""TestMaxLengthStringCollectionCollection"":null,""TestNullableEnum"":null,""TestNullableEnumCollection"":[],""TestNullableEnumCollectionCollection"":[],""TestNullableEnumWithConverterThatHandlesNulls"":null,""TestNullableEnumWithConverterThatHandlesNullsCollection"":[],""TestNullableEnumWithIntConverter"":null,""TestNullableEnumWithIntConverterCollection"":[],""TestNullableEnumWithIntConverterCollectionCollection"":[[[-3]]],""TestNullableInt32"":null,""TestNullableInt32Collection"":[],""TestNullableInt32CollectionCollection"":[[99]],""TestSignedByte"":0,""TestSignedByteCollection"":[],""TestSingle"":0,""TestSingleCollection"":[],""TestSingleCollectionCollection"":[[1.1,1.2]],""TestTimeOnly"":""00:00:00.0000000"",""TestTimeOnlyCollection"":[],""TestTimeSpan"":""0:00:00"",""TestTimeSpanCollection"":[],""TestUnsignedInt16"":0,""TestUnsignedInt16Collection"":[],""TestUnsignedInt32"":0,""TestUnsignedInt32Collection"":[],""TestUnsignedInt64"":0,""TestUnsignedInt64Collection"":[]}]' (Nullable = false) (Size = " + parameterSize + @")
+            @"@p0='[{""TestBoolean"":false,""TestBooleanCollection"":[],""TestBooleanCollectionCollection"":[],""TestByte"":0,""TestByteArray"":null,""TestByteCollection"":null,""TestCharacter"":""\u0000"",""TestCharacterCollection"":" + characterCollection + @",""TestCharacterCollectionCollection"":[],""TestDateOnly"":""0001-01-01"",""TestDateOnlyCollection"":[],""TestDateTime"":""0001-01-01T00:00:00"",""TestDateTimeCollection"":[],""TestDateTimeOffset"":""0001-01-01T00:00:00+00:00"",""TestDateTimeOffsetCollection"":[],""TestDecimal"":0,""TestDecimalCollection"":[],""TestDefaultString"":null,""TestDefaultStringCollection"":[],""TestDefaultStringCollectionCollection"":null,""TestDouble"":0,""TestDoubleCollection"":[],""TestDoubleCollectionCollection"":[],""TestEnum"":0,""TestEnumCollection"":[],""TestEnumWithIntConverter"":0,""TestEnumWithIntConverterCollection"":[],""TestGuid"":""00000000-0000-0000-0000-000000000000"",""TestGuidCollection"":[],""TestInt16"":0,""TestInt16Collection"":[],""TestInt16CollectionCollection"":null,""TestInt32"":0,""TestInt32Collection"":[],""TestInt32CollectionCollection"":[],""TestInt64"":0,""TestInt64Collection"":[],""TestInt64CollectionCollection"":[],""TestMaxLengthString"":null,""TestMaxLengthStringCollection"":[],""TestMaxLengthStringCollectionCollection"":null,""TestNullableEnum"":null,""TestNullableEnumCollection"":[],""TestNullableEnumCollectionCollection"":[],""TestNullableEnumWithConverterThatHandlesNulls"":null,""TestNullableEnumWithConverterThatHandlesNullsCollection"":[],""TestNullableEnumWithIntConverter"":null,""TestNullableEnumWithIntConverterCollection"":[],""TestNullableEnumWithIntConverterCollectionCollection"":[[[-3]]],""TestNullableInt32"":null,""TestNullableInt32Collection"":[],""TestNullableInt32CollectionCollection"":[[99]],""TestSignedByte"":0,""TestSignedByteCollection"":[],""TestSingle"":0,""TestSingleCollection"":[],""TestSingleCollectionCollection"":[[1.1,1.2]],""TestTimeOnly"":""00:00:00.0000000"",""TestTimeOnlyCollection"":[],""TestTimeSpan"":""0:00:00"",""TestTimeSpanCollection"":[],""TestUnsignedInt16"":0,""TestUnsignedInt16Collection"":[],""TestUnsignedInt32"":0,""TestUnsignedInt32Collection"":[],""TestUnsignedInt64"":0,""TestUnsignedInt64Collection"":[]}]' (Nullable = false) (Size = " + parameterSize + @")
 @p1='7624'
 @p2='[]' (Size = 4000)
 @p3='[]' (Size = 4000)
diff --git a/test/EFCore.Sqlite.FunctionalTests/Query/JsonQuerySqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/Query/JsonQuerySqliteTest.cs
index d5220a5c28..d0432c6634 100644
--- a/test/EFCore.Sqlite.FunctionalTests/Query/JsonQuerySqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/Query/JsonQuerySqliteTest.cs
@@ -4,6 +4,7 @@
 using Microsoft.Data.Sqlite;
 using Microsoft.EntityFrameworkCore.Sqlite.Internal;
 using Microsoft.EntityFrameworkCore.TestModels.JsonQuery;
+using Xunit.Sdk;
 
 namespace Microsoft.EntityFrameworkCore.Query;
 
@@ -258,6 +259,10 @@ public override async Task Json_predicate_on_bool_converted_to_string_Y_N(bool a
 """);
     }
 
+    // #33522
+    public override Task Json_predicate_on_byte_array(bool async)
+        => Assert.ThrowsAsync<EqualException>(() => base.Json_predicate_on_byte_array(async));
+
     public override async Task Json_collection_in_projection_with_anonymous_projection_of_scalars(bool async)
         => Assert.Equal(
             SqliteStrings.ApplyNotSupported,
diff --git a/test/EFCore.Sqlite.FunctionalTests/Update/JsonUpdateSqliteTest.cs b/test/EFCore.Sqlite.FunctionalTests/Update/JsonUpdateSqliteTest.cs
index dbdc0f4e9a..d3c6293042 100644
--- a/test/EFCore.Sqlite.FunctionalTests/Update/JsonUpdateSqliteTest.cs
+++ b/test/EFCore.Sqlite.FunctionalTests/Update/JsonUpdateSqliteTest.cs
@@ -1146,8 +1146,8 @@ public override async Task Edit_two_properties_on_same_entity_updates_the_entire
 
         AssertSql(
             """
-@p0='{"TestBoolean":false,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":25,"TestByteCollection":null,"TestCharacter":"h","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2323-04-03","TestDateOnlyCollection":["3234-01-23","4331-01-21"],"TestDateTime":"2100-11-11 12:34:56","TestDateTimeCollection":["2000-01-01 12:34:56","3000-01-01 12:34:56"],"TestDateTimeOffset":"2200-11-11 12:34:56-05:00","TestDateTimeOffsetCollection":["2000-01-01 12:34:56-08:00"],"TestDecimal":"-123450.01","TestDecimalCollection":["-1234567890.01"],"TestDefaultString":"MyDefaultStringInCollection1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.2345,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"00000000-0000-0000-0000-000000000000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-12,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Baz","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Two","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":-3,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":90,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-18,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.4,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"05:07:08.0000000","TestTimeOnlyCollection":["13:42:23.0000000","07:17:25.0000000"],"TestTimeSpan":"6:05:04.003","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":12,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":12345,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567867,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3209)
-@p1='{"TestBoolean":true,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":255,"TestByteCollection":null,"TestCharacter":"a","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2023-10-10","TestDateOnlyCollection":["1234-01-23","4321-01-21"],"TestDateTime":"2000-01-01 12:34:56","TestDateTimeCollection":["2000-01-01 12:34:56","3000-01-01 12:34:56"],"TestDateTimeOffset":"2000-01-01 12:34:56-08:00","TestDateTimeOffsetCollection":["2000-01-01 12:34:56-08:00"],"TestDecimal":"-1234567890.01","TestDecimalCollection":["-1234567890.01"],"TestDefaultString":"MyDefaultStringInReference1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.23456789,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"12345678-1234-4321-7777-987654321000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-1234,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Foo","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Three","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":2,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":78,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-128,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.234,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"11:12:13.0000000","TestTimeOnlyCollection":["11:42:23.0000000","07:17:27.0000000"],"TestTimeSpan":"10:09:08.007","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":1234,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":1234565789,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567890123456789,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3239)
+@p0='{"TestBoolean":false,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":25,"TestByteArray":"","TestByteCollection":null,"TestCharacter":"h","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2323-04-03","TestDateOnlyCollection":["3234-01-23","4331-01-21"],"TestDateTime":"2100-11-11 12:34:56","TestDateTimeCollection":["2000-01-01 12:34:56","3000-01-01 12:34:56"],"TestDateTimeOffset":"2200-11-11 12:34:56-05:00","TestDateTimeOffsetCollection":["2000-01-01 12:34:56-08:00"],"TestDecimal":"-123450.01","TestDecimalCollection":["-1234567890.01"],"TestDefaultString":"MyDefaultStringInCollection1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.2345,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"00000000-0000-0000-0000-000000000000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-12,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Baz","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Two","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":-3,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":90,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-18,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.4,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"05:07:08.0000000","TestTimeOnlyCollection":["13:42:23.0000000","07:17:25.0000000"],"TestTimeSpan":"6:05:04.003","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":12,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":12345,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567867,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3228)
+@p1='{"TestBoolean":true,"TestBooleanCollection":[true,false],"TestBooleanCollectionCollection":[[true],null,[true,false]],"TestByte":255,"TestByteArray":"010203","TestByteCollection":null,"TestCharacter":"a","TestCharacterCollection":["A","B","\u0022"],"TestCharacterCollectionCollection":[["A","B","C"],null,["D","E","F"]],"TestDateOnly":"2023-10-10","TestDateOnlyCollection":["1234-01-23","4321-01-21"],"TestDateTime":"2000-01-01 12:34:56","TestDateTimeCollection":["2000-01-01 12:34:56","3000-01-01 12:34:56"],"TestDateTimeOffset":"2000-01-01 12:34:56-08:00","TestDateTimeOffsetCollection":["2000-01-01 12:34:56-08:00"],"TestDecimal":"-1234567890.01","TestDecimalCollection":["-1234567890.01"],"TestDefaultString":"MyDefaultStringInReference1","TestDefaultStringCollection":["S1","\u0022S2\u0022","S3"],"TestDefaultStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestDouble":-1.23456789,"TestDoubleCollection":[-1.23456789,1.23456789,0],"TestDoubleCollectionCollection":[[-1.23456789,-1.23456789],null,[1.23456789]],"TestEnum":-1,"TestEnumCollection":[-1,-3,-7],"TestEnumWithIntConverter":2,"TestEnumWithIntConverterCollection":[-1,-3,-7],"TestGuid":"12345678-1234-4321-7777-987654321000","TestGuidCollection":["12345678-1234-4321-7777-987654321000"],"TestInt16":-1234,"TestInt16Collection":[-32768,0,32767],"TestInt16CollectionCollection":[[-32768,0,32767],null,[-32768,0,32767]],"TestInt32":32,"TestInt32Collection":[-2147483648,0,2147483647],"TestInt32CollectionCollection":[[-2147483648,0,2147483647],null,[-2147483648,0,2147483647]],"TestInt64":64,"TestInt64Collection":[-9223372036854775808,0,9223372036854775807],"TestInt64CollectionCollection":[[-9223372036854775808,0,9223372036854775807],null,[-9223372036854775808,0,9223372036854775807]],"TestMaxLengthString":"Foo","TestMaxLengthStringCollection":["S1","S2","S3"],"TestMaxLengthStringCollectionCollection":[["S11","S12","S13"],null,["S21",null,"S23"]],"TestNullableEnum":-1,"TestNullableEnumCollection":[-1,null,-3,-7],"TestNullableEnumCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableEnumWithConverterThatHandlesNulls":"Three","TestNullableEnumWithConverterThatHandlesNullsCollection":[-1,null,-7],"TestNullableEnumWithIntConverter":2,"TestNullableEnumWithIntConverterCollection":[-1,null,-3,-7],"TestNullableEnumWithIntConverterCollectionCollection":[[null,[-1,null,-3,-7],null,[-1,null,-3,-7]],null],"TestNullableInt32":78,"TestNullableInt32Collection":[null,-2147483648,0,null,2147483647,null],"TestNullableInt32CollectionCollection":[null,[-2147483648,null,2147483647,null],null,[-2147483648,0,2147483647]],"TestSignedByte":-128,"TestSignedByteCollection":[-128,0,127],"TestSingle":-1.234,"TestSingleCollection":[-1.234,0,-1.234],"TestSingleCollectionCollection":[[-1.234,0,-1.234],null,[-1.234,0,-1.234]],"TestTimeOnly":"11:12:13.0000000","TestTimeOnlyCollection":["11:42:23.0000000","07:17:27.0000000"],"TestTimeSpan":"10:09:08.007","TestTimeSpanCollection":["10:09:08.007","-9:50:51.993"],"TestUnsignedInt16":1234,"TestUnsignedInt16Collection":[0,0,65535],"TestUnsignedInt32":1234565789,"TestUnsignedInt32Collection":[0,0,4294967295],"TestUnsignedInt64":1234567890123456789,"TestUnsignedInt64Collection":[0,0,18446744073709551615]}' (Nullable = false) (Size = 3264)
 @p2='1'
 
 UPDATE "JsonEntitiesAllTypes" SET "Collection" = json_set("Collection", '$[0]', json(@p0)), "Reference" = @p1
@@ -2295,9 +2295,9 @@ public override async Task Add_and_update_nested_optional_primitive_collection(b
 
         string parameterSize = value switch
         {
-            true => "2050",
-            false => "2047",
-            _ => "2049"
+            true => "2071",
+            false => "2068",
+            _ => "2070"
         };
 
         string updateParameter = value switch
@@ -2308,7 +2308,7 @@ public override async Task Add_and_update_nested_optional_primitive_collection(b
         };
 
         AssertSql(
-            @"@p0='[{""TestBoolean"":false,""TestBooleanCollection"":[],""TestBooleanCollectionCollection"":[],""TestByte"":0,""TestByteCollection"":null,""TestCharacter"":""\u0000"",""TestCharacterCollection"":" + characterCollection + @",""TestCharacterCollectionCollection"":[],""TestDateOnly"":""0001-01-01"",""TestDateOnlyCollection"":[],""TestDateTime"":""0001-01-01 00:00:00"",""TestDateTimeCollection"":[],""TestDateTimeOffset"":""0001-01-01 00:00:00+00:00"",""TestDateTimeOffsetCollection"":[],""TestDecimal"":""0.0"",""TestDecimalCollection"":[],""TestDefaultString"":null,""TestDefaultStringCollection"":[],""TestDefaultStringCollectionCollection"":null,""TestDouble"":0,""TestDoubleCollection"":[],""TestDoubleCollectionCollection"":[],""TestEnum"":0,""TestEnumCollection"":[],""TestEnumWithIntConverter"":0,""TestEnumWithIntConverterCollection"":[],""TestGuid"":""00000000-0000-0000-0000-000000000000"",""TestGuidCollection"":[],""TestInt16"":0,""TestInt16Collection"":[],""TestInt16CollectionCollection"":null,""TestInt32"":0,""TestInt32Collection"":[],""TestInt32CollectionCollection"":[],""TestInt64"":0,""TestInt64Collection"":[],""TestInt64CollectionCollection"":[],""TestMaxLengthString"":null,""TestMaxLengthStringCollection"":[],""TestMaxLengthStringCollectionCollection"":null,""TestNullableEnum"":null,""TestNullableEnumCollection"":[],""TestNullableEnumCollectionCollection"":[],""TestNullableEnumWithConverterThatHandlesNulls"":null,""TestNullableEnumWithConverterThatHandlesNullsCollection"":[],""TestNullableEnumWithIntConverter"":null,""TestNullableEnumWithIntConverterCollection"":[],""TestNullableEnumWithIntConverterCollectionCollection"":[[[-3]]],""TestNullableInt32"":null,""TestNullableInt32Collection"":[],""TestNullableInt32CollectionCollection"":[[99]],""TestSignedByte"":0,""TestSignedByteCollection"":[],""TestSingle"":0,""TestSingleCollection"":[],""TestSingleCollectionCollection"":[[1.1,1.2]],""TestTimeOnly"":""00:00:00.0000000"",""TestTimeOnlyCollection"":[],""TestTimeSpan"":""0:00:00"",""TestTimeSpanCollection"":[],""TestUnsignedInt16"":0,""TestUnsignedInt16Collection"":[],""TestUnsignedInt32"":0,""TestUnsignedInt32Collection"":[],""TestUnsignedInt64"":0,""TestUnsignedInt64Collection"":[]}]' (Nullable = false) (Size = " + parameterSize + @")
+            @"@p0='[{""TestBoolean"":false,""TestBooleanCollection"":[],""TestBooleanCollectionCollection"":[],""TestByte"":0,""TestByteArray"":null,""TestByteCollection"":null,""TestCharacter"":""\u0000"",""TestCharacterCollection"":" + characterCollection + @",""TestCharacterCollectionCollection"":[],""TestDateOnly"":""0001-01-01"",""TestDateOnlyCollection"":[],""TestDateTime"":""0001-01-01 00:00:00"",""TestDateTimeCollection"":[],""TestDateTimeOffset"":""0001-01-01 00:00:00+00:00"",""TestDateTimeOffsetCollection"":[],""TestDecimal"":""0.0"",""TestDecimalCollection"":[],""TestDefaultString"":null,""TestDefaultStringCollection"":[],""TestDefaultStringCollectionCollection"":null,""TestDouble"":0,""TestDoubleCollection"":[],""TestDoubleCollectionCollection"":[],""TestEnum"":0,""TestEnumCollection"":[],""TestEnumWithIntConverter"":0,""TestEnumWithIntConverterCollection"":[],""TestGuid"":""00000000-0000-0000-0000-000000000000"",""TestGuidCollection"":[],""TestInt16"":0,""TestInt16Collection"":[],""TestInt16CollectionCollection"":null,""TestInt32"":0,""TestInt32Collection"":[],""TestInt32CollectionCollection"":[],""TestInt64"":0,""TestInt64Collection"":[],""TestInt64CollectionCollection"":[],""TestMaxLengthString"":null,""TestMaxLengthStringCollection"":[],""TestMaxLengthStringCollectionCollection"":null,""TestNullableEnum"":null,""TestNullableEnumCollection"":[],""TestNullableEnumCollectionCollection"":[],""TestNullableEnumWithConverterThatHandlesNulls"":null,""TestNullableEnumWithConverterThatHandlesNullsCollection"":[],""TestNullableEnumWithIntConverter"":null,""TestNullableEnumWithIntConverterCollection"":[],""TestNullableEnumWithIntConverterCollectionCollection"":[[[-3]]],""TestNullableInt32"":null,""TestNullableInt32Collection"":[],""TestNullableInt32CollectionCollection"":[[99]],""TestSignedByte"":0,""TestSignedByteCollection"":[],""TestSingle"":0,""TestSingleCollection"":[],""TestSingleCollectionCollection"":[[1.1,1.2]],""TestTimeOnly"":""00:00:00.0000000"",""TestTimeOnlyCollection"":[],""TestTimeSpan"":""0:00:00"",""TestTimeSpanCollection"":[],""TestUnsignedInt16"":0,""TestUnsignedInt16Collection"":[],""TestUnsignedInt32"":0,""TestUnsignedInt32Collection"":[],""TestUnsignedInt64"":0,""TestUnsignedInt64Collection"":[]}]' (Nullable = false) (Size = " + parameterSize + @")
 @p1='7624'
 @p2='[]' (Size = 2)
 @p3='[]' (Size = 2)
