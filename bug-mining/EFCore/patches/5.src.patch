diff --git a/src/EFCore.Analyzers/Properties/AnalyzerStrings.Designer.cs b/src/EFCore.Analyzers/Properties/AnalyzerStrings.Designer.cs
index 74922826a4..e7e369733d 100644
--- a/src/EFCore.Analyzers/Properties/AnalyzerStrings.Designer.cs
+++ b/src/EFCore.Analyzers/Properties/AnalyzerStrings.Designer.cs
@@ -1,6 +1,7 @@
 ï»¿//------------------------------------------------------------------------------
 // <auto-generated>
 //     This code was generated by a tool.
+//     Runtime Version:4.0.30319.42000
 //
 //     Changes to this file may cause incorrect behavior and will be lost if
 //     the code is regenerated.
@@ -11,32 +12,46 @@ namespace Microsoft.EntityFrameworkCore {
     using System;
     
     
-    [System.CodeDom.Compiler.GeneratedCodeAttribute("System.Resources.Tools.StronglyTypedResourceBuilder", "4.0.0.0")]
-    [System.Diagnostics.DebuggerNonUserCodeAttribute()]
-    [System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
+    /// <summary>
+    ///   A strongly-typed resource class, for looking up localized strings, etc.
+    /// </summary>
+    // This class was auto-generated by the StronglyTypedResourceBuilder
+    // class via a tool like ResGen or Visual Studio.
+    // To add or remove a member, edit your .ResX file then rerun ResGen
+    // with the /str option, or rebuild your VS project.
+    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Resources.Tools.StronglyTypedResourceBuilder", "17.0.0.0")]
+    [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
+    [global::System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
     public class AnalyzerStrings {
         
-        private static System.Resources.ResourceManager resourceMan;
+        private static global::System.Resources.ResourceManager resourceMan;
         
-        private static System.Globalization.CultureInfo resourceCulture;
+        private static global::System.Globalization.CultureInfo resourceCulture;
         
-        [System.Diagnostics.CodeAnalysis.SuppressMessageAttribute("Microsoft.Performance", "CA1811:AvoidUncalledPrivateCode")]
+        [global::System.Diagnostics.CodeAnalysis.SuppressMessageAttribute("Microsoft.Performance", "CA1811:AvoidUncalledPrivateCode")]
         internal AnalyzerStrings() {
         }
         
-        [System.ComponentModel.EditorBrowsableAttribute(System.ComponentModel.EditorBrowsableState.Advanced)]
-        public static System.Resources.ResourceManager ResourceManager {
+        /// <summary>
+        ///   Returns the cached ResourceManager instance used by this class.
+        /// </summary>
+        [global::System.ComponentModel.EditorBrowsableAttribute(global::System.ComponentModel.EditorBrowsableState.Advanced)]
+        public static global::System.Resources.ResourceManager ResourceManager {
             get {
-                if (object.Equals(null, resourceMan)) {
-                    System.Resources.ResourceManager temp = new System.Resources.ResourceManager("Microsoft.EntityFrameworkCore.Properties.AnalyzerStrings", typeof(AnalyzerStrings).Assembly);
+                if (object.ReferenceEquals(resourceMan, null)) {
+                    global::System.Resources.ResourceManager temp = new global::System.Resources.ResourceManager("Microsoft.EntityFrameworkCore.Properties.AnalyzerStrings", typeof(AnalyzerStrings).Assembly);
                     resourceMan = temp;
                 }
                 return resourceMan;
             }
         }
         
-        [System.ComponentModel.EditorBrowsableAttribute(System.ComponentModel.EditorBrowsableState.Advanced)]
-        public static System.Globalization.CultureInfo Culture {
+        /// <summary>
+        ///   Overrides the current thread's CurrentUICulture property for all
+        ///   resource lookups using this strongly typed resource class.
+        /// </summary>
+        [global::System.ComponentModel.EditorBrowsableAttribute(global::System.ComponentModel.EditorBrowsableState.Advanced)]
+        public static global::System.Globalization.CultureInfo Culture {
             get {
                 return resourceCulture;
             }
@@ -45,22 +60,31 @@ public class AnalyzerStrings {
             }
         }
         
-        public static string UninitializedDbSetWarningSuppressionJustification {
-            get {
-                return ResourceManager.GetString("UninitializedDbSetWarningSuppressionJustification", resourceCulture);
-            }
-        }
-        
+        /// <summary>
+        ///   Looks up a localized string similar to {0} is an internal API that supports the Entity Framework Core infrastructure and not subject to the same compatibility standards as public APIs. It may be changed or removed without notice in any release..
+        /// </summary>
         public static string InternalUsageMessageFormat {
             get {
                 return ResourceManager.GetString("InternalUsageMessageFormat", resourceCulture);
             }
         }
         
+        /// <summary>
+        ///   Looks up a localized string similar to Internal EF Core API usage..
+        /// </summary>
         public static string InternalUsageTitle {
             get {
                 return ResourceManager.GetString("InternalUsageTitle", resourceCulture);
             }
         }
+        
+        /// <summary>
+        ///   Looks up a localized string similar to DbSet properties on DbContext subclasses are automatically populated by the DbContext constructor..
+        /// </summary>
+        public static string UninitializedDbSetWarningSuppressionJustification {
+            get {
+                return ResourceManager.GetString("UninitializedDbSetWarningSuppressionJustification", resourceCulture);
+            }
+        }
     }
 }
diff --git a/src/EFCore.Relational/Migrations/MigrationsSqlGenerator.cs b/src/EFCore.Relational/Migrations/MigrationsSqlGenerator.cs
index 351f705900..f08c9c6911 100644
--- a/src/EFCore.Relational/Migrations/MigrationsSqlGenerator.cs
+++ b/src/EFCore.Relational/Migrations/MigrationsSqlGenerator.cs
@@ -861,7 +861,7 @@ protected virtual IUpdateSqlGenerator SqlGenerator
         {
             throw new InvalidOperationException(
                 RelationalStrings.InsertDataOperationValuesCountMismatch(
-                    operation.Values.GetLength(1), operation.Columns.Length, FormatTable(operation.Table, operation.Schema)));
+                    operation.Values.GetLength(1), operation.Columns.Length, FormatTable(operation.Table, operation.Schema ?? model?.GetDefaultSchema())));
         }
 
         if (operation.ColumnTypes != null
@@ -869,7 +869,7 @@ protected virtual IUpdateSqlGenerator SqlGenerator
         {
             throw new InvalidOperationException(
                 RelationalStrings.InsertDataOperationTypesCountMismatch(
-                    operation.ColumnTypes.Length, operation.Columns.Length, FormatTable(operation.Table, operation.Schema)));
+                    operation.ColumnTypes.Length, operation.Columns.Length, FormatTable(operation.Table, operation.Schema ?? model?.GetDefaultSchema())));
         }
 
         if (operation.ColumnTypes == null
@@ -877,7 +877,7 @@ protected virtual IUpdateSqlGenerator SqlGenerator
         {
             throw new InvalidOperationException(
                 RelationalStrings.InsertDataOperationNoModel(
-                    FormatTable(operation.Table, operation.Schema)));
+                    FormatTable(operation.Table, operation.Schema ?? model?.GetDefaultSchema())));
         }
 
         var propertyMappings = operation.ColumnTypes == null
@@ -887,7 +887,7 @@ protected virtual IUpdateSqlGenerator SqlGenerator
         for (var i = 0; i < operation.Values.GetLength(0); i++)
         {
             var modificationCommand = Dependencies.ModificationCommandFactory.CreateModificationCommand(
-                new ModificationCommandParameters(operation.Table, operation.Schema, SensitiveLoggingEnabled));
+                new ModificationCommandParameters(operation.Table, operation.Schema ?? model?.GetDefaultSchema(), SensitiveLoggingEnabled));
             for (var j = 0; j < operation.Columns.Length; j++)
             {
                 var name = operation.Columns[j];
@@ -1142,7 +1142,7 @@ private static string FormatTable(string table, string? schema)
         string? schema,
         IModel? model)
     {
-        var table = model?.GetRelationalModel().FindTable(tableName, schema);
+        var table = model?.GetRelationalModel().FindTable(tableName, schema ?? model.GetDefaultSchema());
         if (table == null)
         {
             throw new InvalidOperationException(
diff --git a/src/EFCore.SqlServer/Migrations/SqlServerMigrationsSqlGenerator.cs b/src/EFCore.SqlServer/Migrations/SqlServerMigrationsSqlGenerator.cs
index d1c3360784..255e4fdc68 100644
--- a/src/EFCore.SqlServer/Migrations/SqlServerMigrationsSqlGenerator.cs
+++ b/src/EFCore.SqlServer/Migrations/SqlServerMigrationsSqlGenerator.cs
@@ -1374,7 +1374,7 @@ protected override void Generate(SqlOperation operation, IModel? model, Migratio
         MigrationCommandListBuilder builder,
         bool terminate = true)
     {
-        GenerateIdentityInsert(builder, operation, on: true);
+        GenerateIdentityInsert(builder, operation, on: true, model);
 
         var sqlBuilder = new StringBuilder();
         ((SqlServerUpdateSqlGenerator)Dependencies.UpdateSqlGenerator).AppendBulkInsertOperation(
@@ -1395,7 +1395,7 @@ protected override void Generate(SqlOperation operation, IModel? model, Migratio
             builder.Append(sqlBuilder.ToString());
         }
 
-        GenerateIdentityInsert(builder, operation, on: false);
+        GenerateIdentityInsert(builder, operation, on: false, model);
 
         if (terminate)
         {
@@ -1403,7 +1403,7 @@ protected override void Generate(SqlOperation operation, IModel? model, Migratio
         }
     }
 
-    private void GenerateIdentityInsert(MigrationCommandListBuilder builder, InsertDataOperation operation, bool on)
+    private void GenerateIdentityInsert(MigrationCommandListBuilder builder, InsertDataOperation operation, bool on, IModel? model)
     {
         var stringTypeMapping = Dependencies.TypeMappingSource.GetMapping(typeof(string));
 
@@ -1414,14 +1414,14 @@ private void GenerateIdentityInsert(MigrationCommandListBuilder builder, InsertD
             .Append(") AND [object_id] = OBJECT_ID(")
             .Append(
                 stringTypeMapping.GenerateSqlLiteral(
-                    Dependencies.SqlGenerationHelper.DelimitIdentifier(operation.Table, operation.Schema)))
+                    Dependencies.SqlGenerationHelper.DelimitIdentifier(operation.Table, operation.Schema ?? model?.GetDefaultSchema())))
             .AppendLine("))");
 
         using (builder.Indent())
         {
             builder
                 .Append("SET IDENTITY_INSERT ")
-                .Append(Dependencies.SqlGenerationHelper.DelimitIdentifier(operation.Table, operation.Schema))
+                .Append(Dependencies.SqlGenerationHelper.DelimitIdentifier(operation.Table, operation.Schema ?? model?.GetDefaultSchema()))
                 .Append(on ? " ON" : " OFF")
                 .AppendLine(Dependencies.SqlGenerationHelper.StatementTerminator);
         }
diff --git a/test/EFCore.Relational.Specification.Tests/Migrations/MigrationsSqlGeneratorTestBase.cs b/test/EFCore.Relational.Specification.Tests/Migrations/MigrationsSqlGeneratorTestBase.cs
index 5f5f4c6160..423e4293fe 100644
--- a/test/EFCore.Relational.Specification.Tests/Migrations/MigrationsSqlGeneratorTestBase.cs
+++ b/test/EFCore.Relational.Specification.Tests/Migrations/MigrationsSqlGeneratorTestBase.cs
@@ -303,7 +303,7 @@ public virtual void InsertDataOperation_throws_for_unsupported_column_types()
     [ConditionalFact]
     public void InsertDataOperation_throws_for_values_count_mismatch()
         => Assert.Equal(
-            RelationalStrings.InsertDataOperationValuesCountMismatch(1, 2, "People"),
+            RelationalStrings.InsertDataOperationValuesCountMismatch(1, 2, "dbo.People"),
             Assert.Throws<InvalidOperationException>(
                 () =>
                     Generate(
@@ -333,7 +333,7 @@ public void InsertDataOperation_throws_for_types_count_mismatch()
     [ConditionalFact]
     public void InsertDataOperation_throws_for_missing_entity_type()
         => Assert.Equal(
-            RelationalStrings.DataOperationNoTable("dbo.People"),
+            RelationalStrings.DataOperationNoTable("dbo1.People"),
             Assert.Throws<InvalidOperationException>(
                 () =>
                     Generate(
@@ -341,7 +341,7 @@ public void InsertDataOperation_throws_for_missing_entity_type()
                         new InsertDataOperation
                         {
                             Table = "People",
-                            Schema = "dbo",
+                            Schema = "dbo1",
                             Columns = new[] { "First Name" },
                             Values = new object[,] { { "John" } }
                         })).Message);
@@ -695,7 +695,7 @@ public virtual void DefaultValue_with_line_breaks(bool isUnicode)
             });
 
     private static void CreateGotModel(ModelBuilder b)
-        => b.Entity(
+        => b.HasDefaultSchema("dbo").Entity(
             "Person", pb =>
             {
                 pb.ToTable("People");
diff --git a/test/EFCore.SqlServer.FunctionalTests/Migrations/SqlServerMigrationsSqlGeneratorTest.cs b/test/EFCore.SqlServer.FunctionalTests/Migrations/SqlServerMigrationsSqlGeneratorTest.cs
index e3c5b3e16b..37801b9955 100644
--- a/test/EFCore.SqlServer.FunctionalTests/Migrations/SqlServerMigrationsSqlGeneratorTest.cs
+++ b/test/EFCore.SqlServer.FunctionalTests/Migrations/SqlServerMigrationsSqlGeneratorTest.cs
@@ -750,12 +750,12 @@ public override void InsertDataOperation_required_args()
         base.InsertDataOperation_required_args();
 
         AssertSql(
-            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] ON;
-INSERT INTO [People] ([First Name])
+            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] ON;
+INSERT INTO [dbo].[People] ([First Name])
 VALUES (N'John');
-IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] OFF;
+IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] OFF;
 ");
     }
 
@@ -764,12 +764,12 @@ public override void InsertDataOperation_required_args_composite()
         base.InsertDataOperation_required_args_composite();
 
         AssertSql(
-            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name', N'Last Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] ON;
-INSERT INTO [People] ([First Name], [Last Name])
+            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name', N'Last Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] ON;
+INSERT INTO [dbo].[People] ([First Name], [Last Name])
 VALUES (N'John', N'Snow');
-IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name', N'Last Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] OFF;
+IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name', N'Last Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] OFF;
 ");
     }
 
@@ -778,13 +778,13 @@ public override void InsertDataOperation_required_args_multiple_rows()
         base.InsertDataOperation_required_args_multiple_rows();
 
         AssertSql(
-            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] ON;
-INSERT INTO [People] ([First Name])
+            @"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] ON;
+INSERT INTO [dbo].[People] ([First Name])
 VALUES (N'John'),
 (N'Daenerys');
-IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[People]'))
-    SET IDENTITY_INSERT [People] OFF;
+IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'First Name') AND [object_id] = OBJECT_ID(N'[dbo].[People]'))
+    SET IDENTITY_INSERT [dbo].[People] OFF;
 ");
     }
 
