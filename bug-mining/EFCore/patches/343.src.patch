diff --git a/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs b/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
index f05da43282..77f1aa7134 100644
--- a/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
+++ b/src/EFCore.Design/Migrations/Design/CSharpSnapshotGenerator.cs
@@ -527,8 +527,7 @@ public virtual void Generate(string modelBuilderName, IModel model, IndentedStri
     }
 
     private ValueConverter? FindValueConverter(IProperty property)
-        => property.GetValueConverter()
-            ?? property.GetTypeMapping().Converter;
+        => property.GetTypeMapping().Converter;
 
     /// <summary>
     ///     Generates code for <see cref="IComplexProperty" /> objects.
diff --git a/src/EFCore.Design/Migrations/Design/MigrationsCodeGenerator.cs b/src/EFCore.Design/Migrations/Design/MigrationsCodeGenerator.cs
index 9445044657..e558a9823c 100644
--- a/src/EFCore.Design/Migrations/Design/MigrationsCodeGenerator.cs
+++ b/src/EFCore.Design/Migrations/Design/MigrationsCodeGenerator.cs
@@ -223,8 +223,7 @@ private IEnumerable<string> GetAnnotationNamespaces(IEnumerable<IAnnotatable> it
                 .SelectMany(a => GetProviderType(a.Annotatable, a.Annotation.Value!.GetType()).GetNamespaces()));
 
     private ValueConverter? FindValueConverter(IProperty property)
-        => (property.FindTypeMapping()
-            ?? Dependencies.RelationalTypeMappingSource.FindMapping(property))?.Converter;
+        => property.GetTypeMapping().Converter;
 
     private Type GetProviderType(IAnnotatable annotatable, Type valueType)
         => annotatable is IProperty property
diff --git a/src/EFCore.Design/Migrations/Design/MigrationsCodeGeneratorDependencies.cs b/src/EFCore.Design/Migrations/Design/MigrationsCodeGeneratorDependencies.cs
index 2f5097b0e1..d90079599a 100644
--- a/src/EFCore.Design/Migrations/Design/MigrationsCodeGeneratorDependencies.cs
+++ b/src/EFCore.Design/Migrations/Design/MigrationsCodeGeneratorDependencies.cs
@@ -41,13 +41,16 @@ public sealed record MigrationsCodeGeneratorDependencies
         IRelationalTypeMappingSource relationalTypeMappingSource,
         IAnnotationCodeGenerator annotationCodeGenerator)
     {
+#pragma warning disable CS0612 // Type or member is obsolete
         RelationalTypeMappingSource = relationalTypeMappingSource;
+#pragma warning restore CS0612 // Type or member is obsolete
         AnnotationCodeGenerator = annotationCodeGenerator;
     }
 
     /// <summary>
     ///     The type mapper.
     /// </summary>
+    [Obsolete]
     public IRelationalTypeMappingSource RelationalTypeMappingSource { get; init; }
 
     /// <summary>
diff --git a/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.ModelSnapshot.cs b/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.ModelSnapshot.cs
index 1d52aea804..f59983973b 100644
--- a/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.ModelSnapshot.cs
+++ b/test/EFCore.Design.Tests/Migrations/Design/CSharpMigrationsGeneratorTest.ModelSnapshot.cs
@@ -140,7 +140,6 @@ public void Snapshot_with_default_values_are_round_tripped()
                 eb.Property(e => e.Decimal).HasDefaultValue(decimal.MinValue);
                 eb.Property(e => e.Double).HasDefaultValue(double.MinValue); //double.NegativeInfinity
                 eb.Property(e => e.Enum).HasDefaultValue(Enum1.Default);
-                eb.Property(e => e.NullableEnum).HasDefaultValue(Enum1.Default).HasConversion<string>();
                 eb.Property(e => e.Guid).HasDefaultValue(Guid.NewGuid());
                 eb.Property(e => e.Int16).HasDefaultValue(short.MaxValue);
                 eb.Property(e => e.Int32).HasDefaultValue(int.MaxValue);
@@ -5300,7 +5299,8 @@ public virtual void Property_enum_type_is_stored_in_snapshot_with_custom_convers
     [ConditionalFact]
     public virtual void Property_of_nullable_enum()
         => Test(
-            builder => builder.Entity<EntityWithNullableEnumType>().Property(e => e.Day),
+            builder => builder.Entity<EntityWithNullableEnumType>().Property(e => e.Day)
+                .HasConversion(d => d, d => d),
             AddBoilerPlate(
                 GetHeading()
                 + """
diff --git a/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/AnonymousArraySeedContext.cs b/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/AnonymousArraySeedContext.cs
index ca0c571e39..aedcc20dd4 100644
--- a/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/AnonymousArraySeedContext.cs
+++ b/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/AnonymousArraySeedContext.cs
@@ -142,7 +142,7 @@ protected override void BuildModel(ModelBuilder modelBuilder)
                         .ValueGeneratedOnAdd()
                         .HasColumnType(""int"");
 
-                    b.Property<HierarchyId>(""HierarchyId"")
+                    b.Property<SqlHierarchyId?>(""HierarchyId"")
                         .HasColumnType(""hierarchyid"");
 
                     b.Property<string>(""Name"")
diff --git a/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/TypedArraySeedContext.cs b/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/TypedArraySeedContext.cs
index f31fe760df..2a9d39e300 100644
--- a/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/TypedArraySeedContext.cs
+++ b/test/EFCore.SqlServer.HierarchyId.Tests/TestModels/Migrations/TypedArraySeedContext.cs
@@ -144,7 +144,7 @@ protected override void BuildModel(ModelBuilder modelBuilder)
                         .ValueGeneratedOnAdd()
                         .HasColumnType(""int"");
 
-                    b.Property<HierarchyId>(""HierarchyId"")
+                    b.Property<SqlHierarchyId?>(""HierarchyId"")
                         .HasColumnType(""hierarchyid"");
 
                     b.Property<string>(""Name"")
