diff --git a/src/EFCore.Design/Design/Internal/MigrationsOperations.cs b/src/EFCore.Design/Design/Internal/MigrationsOperations.cs
index e841e680ac..88a7603b5f 100644
--- a/src/EFCore.Design/Design/Internal/MigrationsOperations.cs
+++ b/src/EFCore.Design/Design/Internal/MigrationsOperations.cs
@@ -287,13 +287,19 @@ private void EnsureMigrationsAssembly(IServiceProvider services)
         var assemblyName = _assembly.GetName();
         var options = services.GetRequiredService<IDbContextOptions>();
         var contextType = services.GetRequiredService<ICurrentDbContext>().Context.GetType();
-        var migrationsAssemblyName = RelationalOptionsExtension.Extract(options).MigrationsAssembly
-            ?? contextType.Assembly.GetName().Name;
-        if (assemblyName.Name != migrationsAssemblyName
-            && assemblyName.FullName != migrationsAssemblyName)
+        var optionsExtension = RelationalOptionsExtension.Extract(options);
+        if (optionsExtension.MigrationsAssemblyObject == null
+            || optionsExtension.MigrationsAssemblyObject != _assembly)
         {
-            throw new OperationException(
-                DesignStrings.MigrationsAssemblyMismatch(assemblyName.Name, migrationsAssemblyName));
+            var migrationsAssemblyName = optionsExtension.MigrationsAssembly
+                ?? optionsExtension.MigrationsAssemblyObject?.GetName().Name
+                ?? contextType.Assembly.GetName().Name;
+            if (assemblyName.Name != migrationsAssemblyName
+                && assemblyName.FullName != migrationsAssemblyName)
+            {
+                throw new OperationException(
+                    DesignStrings.MigrationsAssemblyMismatch(assemblyName.Name, migrationsAssemblyName));
+            }
         }
     }
 }
diff --git a/src/EFCore.Relational/Migrations/Internal/MigrationsAssembly.cs b/src/EFCore.Relational/Migrations/Internal/MigrationsAssembly.cs
index bfbfa0af56..9b0c75444c 100644
--- a/src/EFCore.Relational/Migrations/Internal/MigrationsAssembly.cs
+++ b/src/EFCore.Relational/Migrations/Internal/MigrationsAssembly.cs
@@ -31,8 +31,9 @@ public class MigrationsAssembly : IMigrationsAssembly
     {
         _contextType = currentContext.Context.GetType();
 
-        var assemblyName = RelationalOptionsExtension.Extract(options).MigrationsAssembly;
-        var assemblyObject = RelationalOptionsExtension.Extract(options).MigrationsAssemblyObject;
+        var optionsExtension = RelationalOptionsExtension.Extract(options);
+        var assemblyName = optionsExtension.MigrationsAssembly;
+        var assemblyObject = optionsExtension.MigrationsAssemblyObject;
 
         Assembly = assemblyName == null
             ? assemblyObject ?? _contextType.Assembly
diff --git a/test/EFCore.Design.Tests/Design/Internal/MigrationsOperationsTest.cs b/test/EFCore.Design.Tests/Design/Internal/MigrationsOperationsTest.cs
index dba09218fe..5e02c2ca91 100644
--- a/test/EFCore.Design.Tests/Design/Internal/MigrationsOperationsTest.cs
+++ b/test/EFCore.Design.Tests/Design/Internal/MigrationsOperationsTest.cs
@@ -22,5 +22,34 @@ public void Can_pass_null_args()
             args: null);
     }
 
+    [ConditionalFact]
+    public void Can_use_migrations_assembly()
+    {
+        // Even though newer versions of the tools will pass an empty array
+        // older versions of the tools can pass null args.
+        var assembly = MockAssembly.Create(typeof(AssemblyTestContext));
+        var migrationsAssembly = MockAssembly.Create();
+        AssemblyTestContext.MigrationsAssembly = migrationsAssembly;
+        var testOperations = new TestMigrationsOperations(
+            new TestOperationReporter(),
+            assembly,
+            assembly,
+            "projectDir",
+            "RootNamespace",
+            "C#",
+            nullable: false,
+            args: null);
+
+        testOperations.AddMigration("Test", null, null, null, dryRun: true);
+    }
+
     private class TestContext : DbContext;
+
+    private class AssemblyTestContext : DbContext
+    {
+        public static Assembly MigrationsAssembly { get; set; }
+
+        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
+            => optionsBuilder.UseSqlServer(o => o.MigrationsAssembly(MigrationsAssembly));
+    }
 }
