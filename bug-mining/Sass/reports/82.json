{"url":"https://api.github.com/repos/sass/sass/issues/3846","repository_url":"https://api.github.com/repos/sass/sass","labels_url":"https://api.github.com/repos/sass/sass/issues/3846/labels{/name}","comments_url":"https://api.github.com/repos/sass/sass/issues/3846/comments","events_url":"https://api.github.com/repos/sass/sass/issues/3846/events","html_url":"https://github.com/sass/sass/issues/3846","id":2257275139,"node_id":"I_kwDOAA4wNc6Gi0kD","number":3846,"title":"Make interleaved declaration semantics CSS-compatible","user":{"login":"nex3","id":188,"node_id":"MDQ6VXNlcjE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/188?v=4","gravatar_id":"","url":"https://api.github.com/users/nex3","html_url":"https://github.com/nex3","followers_url":"https://api.github.com/users/nex3/followers","following_url":"https://api.github.com/users/nex3/following{/other_user}","gists_url":"https://api.github.com/users/nex3/gists{/gist_id}","starred_url":"https://api.github.com/users/nex3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nex3/subscriptions","organizations_url":"https://api.github.com/users/nex3/orgs","repos_url":"https://api.github.com/users/nex3/repos","events_url":"https://api.github.com/users/nex3/events{/privacy}","received_events_url":"https://api.github.com/users/nex3/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":134810,"node_id":"MDU6TGFiZWwxMzQ4MTA=","url":"https://api.github.com/repos/sass/sass/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":599591,"node_id":"MDU6TGFiZWw1OTk1OTE=","url":"https://api.github.com/repos/sass/sass/labels/CSS%20compatibility","name":"CSS compatibility","color":"ededed","default":false,"description":"Support the CSS spec"},{"id":73823613,"node_id":"MDU6TGFiZWw3MzgyMzYxMw==","url":"https://api.github.com/repos/sass/sass/labels/requires%20deprecation","name":"requires deprecation","color":"fbca04","default":false,"description":"Blocked on a deprecation cycle"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-22T19:09:46Z","updated_at":"2025-08-29T00:09:30Z","closed_at":"2025-08-28T23:26:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"- [x] Proposal (https://github.com/sass/sass/pull/3848)\n- [x] Update full spec (https://github.com/sass/sass/pull/3885)\n- **Deprecation**\n  - [x] Dart Sass (https://github.com/sass/dart-sass/pull/2267)\n  - [x] Tests (https://github.com/sass/sass-spec/pull/2002)\n  - [x] Website (https://github.com/sass/sass-site/pull/1101)\n- **Breaking change**\n  - [x] Dart Sass (https://github.com/sass/dart-sass/pull/2629)\n  - [x] Tests (https://github.com/sass/sass-spec/pull/2075)\n  - [x] Website (https://github.com/sass/sass-site/pull/1452)\n\n---\n\nhttps://github.com/w3c/csswg-drafts/issues/8738 changes the behavior of declarations interleaved with nested rules away from behavior that matches Sass's historic behavior (hoisting all properties to the original nested rule), and instead treats those behaviors as logically appearing after the nested rule. For example, the source:\n\n```scss\na {\n  color: red;\n  @media screen {color: blue}\n  color: green;\n}\n```\n\ncurrently compiles to:\n\n```scss\na {\n  color: red;\n  color: green;\n}\n\n@media screen {\n  a {\n    color: blue;\n  }\n}\n```\n\nbut the CSS semantics are now equivalent to:\n\n```scss\na {\n  color: red;\n}\n\n@media screen {\n  a {\n    color: blue;\n  }\n}\n\na {\n  color: green;\n}\n```\n\n...which is meaningfully different. Reportedly, Chrome will be implementing the new semantics soon.\n\nAlthough our approach to full compatibility with plain CSS nesting semantics is generally fairly cautious due to Sass's strong existing semantic grounding (see https://github.com/sass/sass/issues/3030), in this case the set of styles that will need to change is fairly narrow and a workaround is easy (wrapping the properties in `& { ... }`), so it's worth changing this behavior eagerly.","closed_by":{"login":"nex3","id":188,"node_id":"MDQ6VXNlcjE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/188?v=4","gravatar_id":"","url":"https://api.github.com/users/nex3","html_url":"https://github.com/nex3","followers_url":"https://api.github.com/users/nex3/followers","following_url":"https://api.github.com/users/nex3/following{/other_user}","gists_url":"https://api.github.com/users/nex3/gists{/gist_id}","starred_url":"https://api.github.com/users/nex3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nex3/subscriptions","organizations_url":"https://api.github.com/users/nex3/orgs","repos_url":"https://api.github.com/users/nex3/repos","events_url":"https://api.github.com/users/nex3/events{/privacy}","received_events_url":"https://api.github.com/users/nex3/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sass/sass/issues/3846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sass/sass/issues/3846/timeline","performed_via_github_app":null,"state_reason":"completed"}