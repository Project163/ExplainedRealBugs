{"url":"https://api.github.com/repos/sass/sass/issues/626","repository_url":"https://api.github.com/repos/sass/sass","labels_url":"https://api.github.com/repos/sass/sass/issues/626/labels{/name}","comments_url":"https://api.github.com/repos/sass/sass/issues/626/comments","events_url":"https://api.github.com/repos/sass/sass/issues/626/events","html_url":"https://github.com/sass/sass/issues/626","id":9922405,"node_id":"MDU6SXNzdWU5OTIyNDA1","number":626,"title":"Dynamic mixin invocation","user":{"login":"Snugug","id":377188,"node_id":"MDQ6VXNlcjM3NzE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/377188?v=4","gravatar_id":"","url":"https://api.github.com/users/Snugug","html_url":"https://github.com/Snugug","followers_url":"https://api.github.com/users/Snugug/followers","following_url":"https://api.github.com/users/Snugug/following{/other_user}","gists_url":"https://api.github.com/users/Snugug/gists{/gist_id}","starred_url":"https://api.github.com/users/Snugug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Snugug/subscriptions","organizations_url":"https://api.github.com/users/Snugug/orgs","repos_url":"https://api.github.com/users/Snugug/repos","events_url":"https://api.github.com/users/Snugug/events{/privacy}","received_events_url":"https://api.github.com/users/Snugug/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":134810,"node_id":"MDU6TGFiZWwxMzQ4MTA=","url":"https://api.github.com/repos/sass/sass/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":70573316,"node_id":"MDU6TGFiZWw3MDU3MzMxNg==","url":"https://api.github.com/repos/sass/sass/labels/planned","name":"planned","color":"10ff88","default":false,"description":"We would like to add this feature at some point"},{"id":73823613,"node_id":"MDU6TGFiZWw3MzgyMzYxMw==","url":"https://api.github.com/repos/sass/sass/labels/requires%20deprecation","name":"requires deprecation","color":"fbca04","default":false,"description":"Blocked on a deprecation cycle"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":178,"created_at":"2013-01-13T14:45:22Z","updated_at":"2024-07-18T22:33:20Z","closed_at":"2023-10-10T23:15:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"- [x] [Proposal](https://github.com/sass/sass/blob/main/proposal/first-class-mixins.d.ts.md) (https://github.com/sass/sass/pull/3626)\r\n- [x] [Dart Sass](https://github.com/sass/dart-sass/issues/2046) (https://github.com/sass/dart-sass/pull/2073)\r\n- [x] [Embedded Host](https://github.com/sass/embedded-host-node/issues/252) (https://github.com/sass/embedded-host-node/pull/253)\r\n- [x] [Tests](https://github.com/sass/sass-spec/issues/1927) (https://github.com/sass/sass-spec/pull/1933)\r\n- [x] [Documentation](https://github.com/sass/sass-site/issues/786) (https://github.com/sass/sass-site/pull/852)\r\n- [x] Update embedded protocol (https://github.com/sass/sass/pull/3674#pullrequestreview-1649506065)\r\n- [ ] Update canonical spec (https://github.com/sass/sass/pull/3711)\r\n\r\n---\r\n\r\nOne of the largest stumbling blocks that contributors face right now is being able to cleanly build extendable systems using Sass. While the zip/index method currently proposed as a best practice works OK for variables, it simply does not work for mixins or functions. While we could build a lookup function/mixin for dealing with this, if we are looking to have 3rd party add-ons to a system we've made, the writing of that lookup function/mixin needs to be passed off to the end user, creating a terrible end user experience especially for inexperienced users. As system contributors, we need a way to develop APIs for our systems in a way that is contained from within our extensions. The only way I can see this being accomplished is through mixin and function interpolation.\r\n\r\nWe are currently running into this problem with attempting to create an Output API for the next generation of [Susy](https://github.com/ericam/susy), one of the most widely used Compass extensions available (between the two versions, it's something like the 2nd most installed Sass/Compass gem that's not Sass or Compass itself; right behind Bootstrap). While we can create a lookup function/mixin for people to contribute output styles, it leaves the burden on the end user to do it if there are output styles created in contrib. We are thus left with the following user experience, which IMO is terrible:\r\n### Inside Extension\r\n\r\n``` scss\r\n$output-styles: isolation, float;\r\n\r\n@mixin output-list($input, $output) {\r\n  @if $output == 'isolation' {\r\n    @include isolation($input);\r\n  }\r\n  @else if $output == 'float' {\r\n    @include float($input);\r\n  }\r\n}\r\n\r\n@mixin isolation($input) {…}\r\n@mixin float($input) {…}\r\n```\r\n### Inside non-core Output Style\r\n\r\n``` scss\r\n$output-styles: append($output-styles, 'table');\r\n\r\n@mixin table($input) {…}\r\n```\r\n### Inside User's file\r\n\r\nWould need to write to use non-core Output style, a bit too technical for most users\r\n\r\n``` scss\r\n@debug $output-styles;\r\n```\r\n\r\nRead output styles from debug. Only really works from Command Line, not from GUI apps which many many people use.\r\n\r\n``` bash\r\nDEBUG: \"isolation\", \"float\", \"table\"\r\n```\r\n\r\n``` scss\r\n@mixin output-list($input, $output) {\r\n  @if $output == 'isolation' {\r\n    @include isolation($input);\r\n  }\r\n  @else if $output == 'float' {\r\n    @include float($input);\r\n  }\r\n@else if $output == 'table' {\r\n    @include table($input);\r\n  }\r\n}\r\n```\r\n\r\nWhat we'd much _much_ rather prefer is to do the following.\r\n### Inside Extension\r\n\r\n``` scss\r\n$output-styles: 'isolation', 'float';\r\n\r\n@mixin output-styles($input, $output) {\r\n  @each $style in $output-styles {\r\n    @if $output == $style {\r\n      @mixin #{unquote($style)}($input);\r\n    }\r\n  }\r\n}\r\n\r\n@mixin isolation($input) {…}\r\n@mixin float($input) {…}\r\n```\r\n### Inside non-core Output Style\r\n\r\n``` scss\r\n$output-styles: append($output-styles, 'table');\r\n\r\n@mixin table($input) {…}\r\n```\r\n### Inside User's file\r\n\r\nNOTHING! They'd just need to use the system like they'd expect to be able to without any setup! Everyone's happy!\r\n","closed_by":{"login":"nex3","id":188,"node_id":"MDQ6VXNlcjE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/188?v=4","gravatar_id":"","url":"https://api.github.com/users/nex3","html_url":"https://github.com/nex3","followers_url":"https://api.github.com/users/nex3/followers","following_url":"https://api.github.com/users/nex3/following{/other_user}","gists_url":"https://api.github.com/users/nex3/gists{/gist_id}","starred_url":"https://api.github.com/users/nex3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nex3/subscriptions","organizations_url":"https://api.github.com/users/nex3/orgs","repos_url":"https://api.github.com/users/nex3/repos","events_url":"https://api.github.com/users/nex3/events{/privacy}","received_events_url":"https://api.github.com/users/nex3/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sass/sass/issues/626/reactions","total_count":62,"+1":50,"-1":0,"laugh":0,"hooray":5,"confused":0,"heart":7,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sass/sass/issues/626/timeline","performed_via_github_app":null,"state_reason":"completed"}