diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index cfda5a0..dfe65f9 100644
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -72,10 +72,10 @@ jobs:
 
     steps:
       - uses: actions/checkout@v3
-      - uses: arduino/setup-protoc@v1
-        with: { version: "3.x", repo-token: "${{ github.token }}" }
+      - uses: bufbuild/buf-setup-action@v1.26.1
+        with: {github_token: "${{ github.token }}"}
       - name: Generate protobuf code
-        run: protoc --js_out=/tmp spec/embedded_sass.proto
+        run: buf generate
 
   embedded_protocol_versions:
     name: "Validate Embedded Protocol versions"
diff --git a/.gitignore b/.gitignore
index a62ab0b..1d91435 100644
--- a/.gitignore
+++ b/.gitignore
@@ -96,3 +96,4 @@ typings/
 # End of https://www.gitignore.io/api/node
 
 /docs
+/gen
diff --git a/buf.gen.yaml b/buf.gen.yaml
new file mode 100644
index 0000000..df20055
--- /dev/null
+++ b/buf.gen.yaml
@@ -0,0 +1,4 @@
+version: v1
+plugins:
+- plugin: buf.build/bufbuild/es
+  out: gen
diff --git a/buf.work.yaml b/buf.work.yaml
new file mode 100644
index 0000000..3059d60
--- /dev/null
+++ b/buf.work.yaml
@@ -0,0 +1,2 @@
+version: v1
+directories: [spec]
