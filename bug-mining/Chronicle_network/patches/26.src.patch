diff --git a/pom.xml b/pom.xml
index ec4aea713e..3375d9f562 100755
--- a/pom.xml
+++ b/pom.xml
@@ -74,6 +74,22 @@
             <artifactId>chronicle-wire</artifactId>
         </dependency>
 
+        <dependency>
+            <groupId>com.koloboke</groupId>
+            <artifactId>koloboke-api-jdk8</artifactId>
+        </dependency>
+
+        <dependency>
+            <groupId>com.koloboke</groupId>
+            <artifactId>koloboke-impl-common-jdk8</artifactId>
+        </dependency>
+
+        <dependency>
+            <groupId>com.koloboke</groupId>
+            <artifactId>koloboke-compile</artifactId>
+        </dependency>
+
+
         <!-- test dependencies -->
 
         <dependency>
diff --git a/src/main/java/net/openhft/chronicle/network/connection/PrimitiveLongObjMap.java b/src/main/java/net/openhft/chronicle/network/connection/PrimitiveLongObjMap.java
new file mode 100644
index 0000000000..8e6c496de7
--- /dev/null
+++ b/src/main/java/net/openhft/chronicle/network/connection/PrimitiveLongObjMap.java
@@ -0,0 +1,32 @@
+package net.openhft.chronicle.network.connection;
+
+import com.koloboke.compile.KolobokeMap;
+import com.koloboke.function.LongObjConsumer;
+
+import java.util.Collection;
+
+@KolobokeMap
+public abstract class PrimitiveLongObjMap<V>  {
+
+    public static <V> PrimitiveLongObjMap<V> withExpectedSize(int expectedSize) {
+        final KolobokePrimitiveLongObjMap<V> map = new KolobokePrimitiveLongObjMap<>(expectedSize);
+        return map;
+    }
+
+    public abstract V put(long key, V value);
+
+    public abstract void justPut(long key, V value);
+
+    public abstract V get(long key);
+
+    public abstract V remove(long key);
+
+    public abstract boolean justRemove(long key);
+
+    public abstract void clear();
+
+    public abstract Collection<V> values();
+
+    public abstract void forEach(LongObjConsumer<? super V> longObjConsumer);
+
+}
\ No newline at end of file
diff --git a/src/main/java/net/openhft/chronicle/network/connection/TcpChannelHub.java b/src/main/java/net/openhft/chronicle/network/connection/TcpChannelHub.java
index 3b20f28819..ec880b22d6 100644
--- a/src/main/java/net/openhft/chronicle/network/connection/TcpChannelHub.java
+++ b/src/main/java/net/openhft/chronicle/network/connection/TcpChannelHub.java
@@ -16,6 +16,9 @@
 
 package net.openhft.chronicle.network.connection;
 
+import com.koloboke.collect.map.LongObjMap;
+import com.koloboke.collect.map.hash.HashLongObjMapFactory;
+import com.koloboke.collect.map.hash.HashLongObjMaps;
 import net.openhft.chronicle.bytes.Bytes;
 import net.openhft.chronicle.bytes.BytesUtil;
 import net.openhft.chronicle.bytes.ConnectionDroppedException;
@@ -1012,15 +1015,15 @@ public final class TcpChannelHub implements Closeable {
     /**
      * uses a single read thread, to process messages to waiting threads based on their {@code tid}
      */
-    class TcpSocketConsumer implements EventHandler {
+    final class TcpSocketConsumer implements EventHandler {
         @NotNull
-        private final Map<Long, Object> map = new ConcurrentHashMap<>();
-        private final Map<Long, Object> omap = new ConcurrentHashMap<>();
+        private final PrimitiveLongObjMap<Object> map = PrimitiveLongObjMap.withExpectedSize(32);
+        private final PrimitiveLongObjMap<Object> omap = PrimitiveLongObjMap.withExpectedSize(32);
         @NotNull
         private final ExecutorService service;
         @NotNull
         private final ThreadLocal<Wire> syncInWireThreadLocal = withInitial(() -> {
-            Wire wire = wireType.apply(elasticByteBuffer());
+            final Wire wire = wireType.apply(elasticByteBuffer());
             assert wire.startUse();
             return wire;
         });
@@ -1209,7 +1212,7 @@ public final class TcpChannelHub implements Closeable {
          * @param tid the unique identifier for the subscription
          */
         public void unsubscribe(long tid) {
-            map.remove(tid);
+            map.justRemove(tid);
         }
 
         /**
@@ -1419,9 +1422,8 @@ public final class TcpChannelHub implements Closeable {
                             throw new AssertionError("Found tid=" + tid + " in the old map.");
                         }
                     } else {
-                        if (isReady && (o instanceof Bytes || o instanceof
-                                AsyncTemporarySubscription)) {
-                            omap.put(tid, map.remove(tid));
+                        if (isReady && (o instanceof Bytes || o instanceof AsyncTemporarySubscription)) {
+                            omap.justPut(tid, map.remove(tid));
                             isLastMessageForThisTid = true;
                         }
                         break;
@@ -1476,7 +1478,7 @@ public final class TcpChannelHub implements Closeable {
                 } catch (Exception e) {
                     if (LOG.isDebugEnabled())
                         Jvm.debug().on(getClass(), "Removing " + tid + " " + o, e);
-                    omap.remove(tid);
+                    omap.justRemove(tid);
                 }
             }
 
@@ -1820,16 +1822,16 @@ public final class TcpChannelHub implements Closeable {
         }
 
         private void keepSubscriptionsAndClearEverythingElse() {
-
             tid = 0;
             omap.clear();
 
-            @NotNull final Set<Long> keys = new HashSet<>(map.keySet());
+            final Set<Long> keys = new HashSet<>();
+            map.forEach((k, v) -> keys.add(k));
 
             keys.forEach(k -> {
                 final Object o = map.get(k);
                 if (o instanceof Bytes || o instanceof AsyncTemporarySubscription)
-                    map.remove(k);
+                    map.justRemove(k);
             });
         }
 
