{"url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172","repository_url":"https://api.github.com/repos/OpenHFT/Chronicle-Network","labels_url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172/labels{/name}","comments_url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172/comments","events_url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172/events","html_url":"https://github.com/OpenHFT/Chronicle-Network/issues/172","id":1138020804,"node_id":"I_kwDOAb8dqs5D1NHE","number":172,"title":"Connection reset exceptions are no longer reliably suppressed","user":{"login":"nicktindall","id":861395,"node_id":"MDQ6VXNlcjg2MTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/861395?v=4","gravatar_id":"","url":"https://api.github.com/users/nicktindall","html_url":"https://github.com/nicktindall","followers_url":"https://api.github.com/users/nicktindall/followers","following_url":"https://api.github.com/users/nicktindall/following{/other_user}","gists_url":"https://api.github.com/users/nicktindall/gists{/gist_id}","starred_url":"https://api.github.com/users/nicktindall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicktindall/subscriptions","organizations_url":"https://api.github.com/users/nicktindall/orgs","repos_url":"https://api.github.com/users/nicktindall/repos","events_url":"https://api.github.com/users/nicktindall/events{/privacy}","received_events_url":"https://api.github.com/users/nicktindall/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-02-15T00:46:01Z","updated_at":"2022-03-09T09:25:00Z","closed_at":"2022-02-17T10:28:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We have code in TCPEventHandler to log connection reset errors at TRACE level, where other connection errors are logged at DEBUG or WARN. There is no specific exception for connection reset so we inspect `IOException`s to see if they look like one of the exceptions thrown when reading from/writing to a reset connection.\r\n\r\nhttps://github.com/OpenHFT/Chronicle-Network/blob/76ffaf7b06811254c3dc61c408d2cf881d8eef48/src/main/java/net/openhft/chronicle/network/TcpEventHandler.java#L478\r\n\r\nIn JDKs 13 and above, a new one of these has been introduced.\r\nhttps://github.com/openjdk/jdk/commit/3a4d5db248d74020b7448b64c9f0fc072fc80470\r\n\r\nWe should detect that as well so we don't log spurious warnings.\r\n","closed_by":{"login":"hft-team-city","id":7127206,"node_id":"MDQ6VXNlcjcxMjcyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/7127206?v=4","gravatar_id":"","url":"https://api.github.com/users/hft-team-city","html_url":"https://github.com/hft-team-city","followers_url":"https://api.github.com/users/hft-team-city/followers","following_url":"https://api.github.com/users/hft-team-city/following{/other_user}","gists_url":"https://api.github.com/users/hft-team-city/gists{/gist_id}","starred_url":"https://api.github.com/users/hft-team-city/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hft-team-city/subscriptions","organizations_url":"https://api.github.com/users/hft-team-city/orgs","repos_url":"https://api.github.com/users/hft-team-city/repos","events_url":"https://api.github.com/users/hft-team-city/events{/privacy}","received_events_url":"https://api.github.com/users/hft-team-city/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/OpenHFT/Chronicle-Network/issues/172/timeline","performed_via_github_app":null,"state_reason":"completed"}