{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403","repository_url":"https://api.github.com/repos/onevcat/Kingfisher","labels_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403/labels{/name}","comments_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403/comments","events_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403/events","html_url":"https://github.com/onevcat/Kingfisher/issues/2403","id":3168382276,"node_id":"I_kwDOAf70wM682a1E","number":2403,"title":"Mismatch between documentation and implementation of loadDiskFileSynchronously","user":{"login":"pinkjuice66","id":44376599,"node_id":"MDQ6VXNlcjQ0Mzc2NTk5","avatar_url":"https://avatars.githubusercontent.com/u/44376599?v=4","gravatar_id":"","url":"https://api.github.com/users/pinkjuice66","html_url":"https://github.com/pinkjuice66","followers_url":"https://api.github.com/users/pinkjuice66/followers","following_url":"https://api.github.com/users/pinkjuice66/following{/other_user}","gists_url":"https://api.github.com/users/pinkjuice66/gists{/gist_id}","starred_url":"https://api.github.com/users/pinkjuice66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pinkjuice66/subscriptions","organizations_url":"https://api.github.com/users/pinkjuice66/orgs","repos_url":"https://api.github.com/users/pinkjuice66/repos","events_url":"https://api.github.com/users/pinkjuice66/events{/privacy}","received_events_url":"https://api.github.com/users/pinkjuice66/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-06-23T14:19:20Z","updated_at":"2025-07-14T16:06:59Z","closed_at":"2025-07-14T16:06:59Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"[The documentation for `loadDiskFileSynchronously`](https://github.com/onevcat/Kingfisher/blob/a9953d8c3d4bf59e13c6fa6e1eca15644b8af366/Sources/General/KFOptionsSetter.swift#L295C1-L296C1) states that it uses its own dispatch queue by default.  \nHowever, this is not the case when using `KFImage`, which sets `loadDiskFileSynchronously` to `true` [by default](https://github.com/onevcat/Kingfisher/blob/a9953d8c3d4bf59e13c6fa6e1eca15644b8af366/Sources/SwiftUI/ImageContext.swift#L39C1-L40C1).\n\nI don't think setting it to `false` by default is a good idea, since it blocks the thread while accessing the disk.  \n\nIf this behavior is intentional (e.g. to prevent flickering in SwiftUI), it should be clearly documented, especially the reason for this exception.","closed_by":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/2403/timeline","performed_via_github_app":null,"state_reason":"completed"}