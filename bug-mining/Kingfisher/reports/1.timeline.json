[{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/694340014","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-694340014","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":694340014,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDM0MDAxNA==","user":{"login":"cburnham4","id":13301782,"node_id":"MDQ6VXNlcjEzMzAxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/13301782?v=4","gravatar_id":"","url":"https://api.github.com/users/cburnham4","html_url":"https://github.com/cburnham4","followers_url":"https://api.github.com/users/cburnham4/followers","following_url":"https://api.github.com/users/cburnham4/following{/other_user}","gists_url":"https://api.github.com/users/cburnham4/gists{/gist_id}","starred_url":"https://api.github.com/users/cburnham4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cburnham4/subscriptions","organizations_url":"https://api.github.com/users/cburnham4/orgs","repos_url":"https://api.github.com/users/cburnham4/repos","events_url":"https://api.github.com/users/cburnham4/events{/privacy}","received_events_url":"https://api.github.com/users/cburnham4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T16:14:43Z","updated_at":"2020-09-17T16:16:09Z","body":"We are also getting the same issue and are using version \"5.14.1\" via carthage when canceling image requests within prepareForReuse()\r\n\r\n> Crashed: com.apple.main-thread\r\n0  CFNetwork                      0x199af5434 _CFStreamErrorFromCFError + 3360\r\n1  CFNetwork                      0x199af5630 _CFStreamErrorFromCFError + 3868\r\n2  CFNetwork                      0x199bfe8fc _CFHTTPServerResponseEnqueue + 55568\r\n3  CFNetwork                      0x199adf2ec _CFURLConnectionCopyTimingData + 7676\r\n4  CFNetwork                      0x199a26b70 (Missing)\r\n5  libswiftFoundation.dylib       0x1cd6cb688 $s10Foundation10URLRequestV36_unconditionallyBridgeFromObjectiveCyACSo12NSURLRequestCSgFZ + 68\r\n6  Kingfisher                     0x104fbde5c SessionDelegate.remove(_:) + 93 (SessionDelegate.swift:93)\r\n7  Kingfisher                     0x104fbdd40 closure #1 in SessionDelegate.add(_:url:callback:) + 75 (SessionDelegate.swift:75)\r\n8  Kingfisher                     0x104fc2564 partial apply for thunk for @escaping @callee_guaranteed (@guaranteed SessionDelegate, @unowned Int, @in_guaranteed SessionDataTask.TaskCallback) -> () + 4318127460 (<compiler-generated>:4318127460)\r\n9  Kingfisher                     0x104f6075c specialized closure #1 in Delegate.delegate<A>(on:block:) + 39 (Delegate.swift:39)\r\n10 Kingfisher                     0x104fc25e8 partial apply for specialized closure #1 in Delegate.delegate<A>(on:block:) + 4318127592 (<compiler-generated>:4318127592)\r\n11 Kingfisher                     0x104fc7684 SessionDataTask.cancel(token:) + 4318148228 (SessionDataTask.swift:4318148228)\r\n12 Kingfisher                     0x104fb4b88 KingfisherWrapper<A>.cancelDownloadTask() + 4318071688 (ImageView+Kingfisher.swift:4318071688)\r\n13 RecoverCoreUI                  0x1049e2cfc MessageCell.prepareForReuse() + 202 (MessageCell.swift:202)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/694340014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cburnham4","id":13301782,"node_id":"MDQ6VXNlcjEzMzAxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/13301782?v=4","gravatar_id":"","url":"https://api.github.com/users/cburnham4","html_url":"https://github.com/cburnham4","followers_url":"https://api.github.com/users/cburnham4/followers","following_url":"https://api.github.com/users/cburnham4/following{/other_user}","gists_url":"https://api.github.com/users/cburnham4/gists{/gist_id}","starred_url":"https://api.github.com/users/cburnham4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cburnham4/subscriptions","organizations_url":"https://api.github.com/users/cburnham4/orgs","repos_url":"https://api.github.com/users/cburnham4/repos","events_url":"https://api.github.com/users/cburnham4/events{/privacy}","received_events_url":"https://api.github.com/users/cburnham4/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3778815939,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc3ODgxNTkzOQ==","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3778815939","actor":{"login":"escaping","id":59920100,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5OTIwMTAw","avatar_url":"https://avatars.githubusercontent.com/u/59920100?v=4","gravatar_id":"","url":"https://api.github.com/users/escaping","html_url":"https://github.com/escaping","followers_url":"https://api.github.com/users/escaping/followers","following_url":"https://api.github.com/users/escaping/following{/other_user}","gists_url":"https://api.github.com/users/escaping/gists{/gist_id}","starred_url":"https://api.github.com/users/escaping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/escaping/subscriptions","organizations_url":"https://api.github.com/users/escaping/orgs","repos_url":"https://api.github.com/users/escaping/repos","events_url":"https://api.github.com/users/escaping/events{/privacy}","received_events_url":"https://api.github.com/users/escaping/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-17T16:15:16Z","performed_via_github_app":null},{"id":3778815943,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc3ODgxNTk0Mw==","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3778815943","actor":{"login":"guaranteed","id":24659476,"node_id":"MDQ6VXNlcjI0NjU5NDc2","avatar_url":"https://avatars.githubusercontent.com/u/24659476?v=4","gravatar_id":"","url":"https://api.github.com/users/guaranteed","html_url":"https://github.com/guaranteed","followers_url":"https://api.github.com/users/guaranteed/followers","following_url":"https://api.github.com/users/guaranteed/following{/other_user}","gists_url":"https://api.github.com/users/guaranteed/gists{/gist_id}","starred_url":"https://api.github.com/users/guaranteed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guaranteed/subscriptions","organizations_url":"https://api.github.com/users/guaranteed/orgs","repos_url":"https://api.github.com/users/guaranteed/repos","events_url":"https://api.github.com/users/guaranteed/events{/privacy}","received_events_url":"https://api.github.com/users/guaranteed/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-17T16:15:16Z","performed_via_github_app":null},{"id":3778815945,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM3Nzg4MTU5NDU=","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3778815945","actor":{"login":"guaranteed","id":24659476,"node_id":"MDQ6VXNlcjI0NjU5NDc2","avatar_url":"https://avatars.githubusercontent.com/u/24659476?v=4","gravatar_id":"","url":"https://api.github.com/users/guaranteed","html_url":"https://github.com/guaranteed","followers_url":"https://api.github.com/users/guaranteed/followers","following_url":"https://api.github.com/users/guaranteed/following{/other_user}","gists_url":"https://api.github.com/users/guaranteed/gists{/gist_id}","starred_url":"https://api.github.com/users/guaranteed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guaranteed/subscriptions","organizations_url":"https://api.github.com/users/guaranteed/orgs","repos_url":"https://api.github.com/users/guaranteed/repos","events_url":"https://api.github.com/users/guaranteed/events{/privacy}","received_events_url":"https://api.github.com/users/guaranteed/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-17T16:15:16Z","performed_via_github_app":null},{"id":3778815953,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mzc3ODgxNTk1Mw==","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3778815953","actor":{"login":"unowned","id":61604726,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxNjA0NzI2","avatar_url":"https://avatars.githubusercontent.com/u/61604726?v=4","gravatar_id":"","url":"https://api.github.com/users/unowned","html_url":"https://github.com/unowned","followers_url":"https://api.github.com/users/unowned/followers","following_url":"https://api.github.com/users/unowned/following{/other_user}","gists_url":"https://api.github.com/users/unowned/gists{/gist_id}","starred_url":"https://api.github.com/users/unowned/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unowned/subscriptions","organizations_url":"https://api.github.com/users/unowned/orgs","repos_url":"https://api.github.com/users/unowned/repos","events_url":"https://api.github.com/users/unowned/events{/privacy}","received_events_url":"https://api.github.com/users/unowned/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-17T16:15:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/694434412","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-694434412","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":694434412,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQzNDQxMg==","user":{"login":"jgarcia-mirego","id":69209458,"node_id":"MDQ6VXNlcjY5MjA5NDU4","avatar_url":"https://avatars.githubusercontent.com/u/69209458?v=4","gravatar_id":"","url":"https://api.github.com/users/jgarcia-mirego","html_url":"https://github.com/jgarcia-mirego","followers_url":"https://api.github.com/users/jgarcia-mirego/followers","following_url":"https://api.github.com/users/jgarcia-mirego/following{/other_user}","gists_url":"https://api.github.com/users/jgarcia-mirego/gists{/gist_id}","starred_url":"https://api.github.com/users/jgarcia-mirego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgarcia-mirego/subscriptions","organizations_url":"https://api.github.com/users/jgarcia-mirego/orgs","repos_url":"https://api.github.com/users/jgarcia-mirego/repos","events_url":"https://api.github.com/users/jgarcia-mirego/events{/privacy}","received_events_url":"https://api.github.com/users/jgarcia-mirego/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T18:58:02Z","updated_at":"2020-09-17T18:58:02Z","body":"We are using 5.14.0 via CocoaPods","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/694434412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jgarcia-mirego","id":69209458,"node_id":"MDQ6VXNlcjY5MjA5NDU4","avatar_url":"https://avatars.githubusercontent.com/u/69209458?v=4","gravatar_id":"","url":"https://api.github.com/users/jgarcia-mirego","html_url":"https://github.com/jgarcia-mirego","followers_url":"https://api.github.com/users/jgarcia-mirego/followers","following_url":"https://api.github.com/users/jgarcia-mirego/following{/other_user}","gists_url":"https://api.github.com/users/jgarcia-mirego/gists{/gist_id}","starred_url":"https://api.github.com/users/jgarcia-mirego/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgarcia-mirego/subscriptions","organizations_url":"https://api.github.com/users/jgarcia-mirego/orgs","repos_url":"https://api.github.com/users/jgarcia-mirego/repos","events_url":"https://api.github.com/users/jgarcia-mirego/events{/privacy}","received_events_url":"https://api.github.com/users/jgarcia-mirego/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"heltoft","id":9364318,"node_id":"MDQ6VXNlcjkzNjQzMTg=","avatar_url":"https://avatars.githubusercontent.com/u/9364318?v=4","gravatar_id":"","url":"https://api.github.com/users/heltoft","html_url":"https://github.com/heltoft","followers_url":"https://api.github.com/users/heltoft/followers","following_url":"https://api.github.com/users/heltoft/following{/other_user}","gists_url":"https://api.github.com/users/heltoft/gists{/gist_id}","starred_url":"https://api.github.com/users/heltoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heltoft/subscriptions","organizations_url":"https://api.github.com/users/heltoft/orgs","repos_url":"https://api.github.com/users/heltoft/repos","events_url":"https://api.github.com/users/heltoft/events{/privacy}","received_events_url":"https://api.github.com/users/heltoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T15:13:03Z","updated_at":"2020-09-28T15:13:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537","repository_url":"https://api.github.com/repos/onevcat/Kingfisher","labels_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537/labels{/name}","comments_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537/comments","events_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537/events","html_url":"https://github.com/onevcat/Kingfisher/pull/1537","id":710356422,"node_id":"MDExOlB1bGxSZXF1ZXN0NDk0MjE5MjEw","number":1537,"title":"Cancel moved to avoid crash","user":{"login":"heltoft","id":9364318,"node_id":"MDQ6VXNlcjkzNjQzMTg=","avatar_url":"https://avatars.githubusercontent.com/u/9364318?v=4","gravatar_id":"","url":"https://api.github.com/users/heltoft","html_url":"https://github.com/heltoft","followers_url":"https://api.github.com/users/heltoft/followers","following_url":"https://api.github.com/users/heltoft/following{/other_user}","gists_url":"https://api.github.com/users/heltoft/gists{/gist_id}","starred_url":"https://api.github.com/users/heltoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heltoft/subscriptions","organizations_url":"https://api.github.com/users/heltoft/orgs","repos_url":"https://api.github.com/users/heltoft/repos","events_url":"https://api.github.com/users/heltoft/events{/privacy}","received_events_url":"https://api.github.com/users/heltoft/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-09-28T15:13:02Z","updated_at":"2020-09-29T13:11:26Z","closed_at":"2020-09-29T13:11:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":33486016,"node_id":"MDEwOlJlcG9zaXRvcnkzMzQ4NjAxNg==","name":"Kingfisher","full_name":"onevcat/Kingfisher","private":false,"owner":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/onevcat/Kingfisher","description":"A lightweight, pure-Swift library for downloading and caching images from the web.","fork":false,"url":"https://api.github.com/repos/onevcat/Kingfisher","forks_url":"https://api.github.com/repos/onevcat/Kingfisher/forks","keys_url":"https://api.github.com/repos/onevcat/Kingfisher/keys{/key_id}","collaborators_url":"https://api.github.com/repos/onevcat/Kingfisher/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/onevcat/Kingfisher/teams","hooks_url":"https://api.github.com/repos/onevcat/Kingfisher/hooks","issue_events_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events{/number}","events_url":"https://api.github.com/repos/onevcat/Kingfisher/events","assignees_url":"https://api.github.com/repos/onevcat/Kingfisher/assignees{/user}","branches_url":"https://api.github.com/repos/onevcat/Kingfisher/branches{/branch}","tags_url":"https://api.github.com/repos/onevcat/Kingfisher/tags","blobs_url":"https://api.github.com/repos/onevcat/Kingfisher/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/onevcat/Kingfisher/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/onevcat/Kingfisher/git/refs{/sha}","trees_url":"https://api.github.com/repos/onevcat/Kingfisher/git/trees{/sha}","statuses_url":"https://api.github.com/repos/onevcat/Kingfisher/statuses/{sha}","languages_url":"https://api.github.com/repos/onevcat/Kingfisher/languages","stargazers_url":"https://api.github.com/repos/onevcat/Kingfisher/stargazers","contributors_url":"https://api.github.com/repos/onevcat/Kingfisher/contributors","subscribers_url":"https://api.github.com/repos/onevcat/Kingfisher/subscribers","subscription_url":"https://api.github.com/repos/onevcat/Kingfisher/subscription","commits_url":"https://api.github.com/repos/onevcat/Kingfisher/commits{/sha}","git_commits_url":"https://api.github.com/repos/onevcat/Kingfisher/git/commits{/sha}","comments_url":"https://api.github.com/repos/onevcat/Kingfisher/comments{/number}","issue_comment_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments{/number}","contents_url":"https://api.github.com/repos/onevcat/Kingfisher/contents/{+path}","compare_url":"https://api.github.com/repos/onevcat/Kingfisher/compare/{base}...{head}","merges_url":"https://api.github.com/repos/onevcat/Kingfisher/merges","archive_url":"https://api.github.com/repos/onevcat/Kingfisher/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/onevcat/Kingfisher/downloads","issues_url":"https://api.github.com/repos/onevcat/Kingfisher/issues{/number}","pulls_url":"https://api.github.com/repos/onevcat/Kingfisher/pulls{/number}","milestones_url":"https://api.github.com/repos/onevcat/Kingfisher/milestones{/number}","notifications_url":"https://api.github.com/repos/onevcat/Kingfisher/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/onevcat/Kingfisher/labels{/name}","releases_url":"https://api.github.com/repos/onevcat/Kingfisher/releases{/id}","deployments_url":"https://api.github.com/repos/onevcat/Kingfisher/deployments","created_at":"2015-04-06T14:26:21Z","updated_at":"2025-11-10T12:47:23Z","pushed_at":"2025-10-27T13:30:31Z","git_url":"git://github.com/onevcat/Kingfisher.git","ssh_url":"git@github.com:onevcat/Kingfisher.git","clone_url":"https://github.com/onevcat/Kingfisher.git","svn_url":"https://github.com/onevcat/Kingfisher","homepage":"","size":7073,"stargazers_count":24120,"watchers_count":24120,"language":"Swift","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2732,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":171,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","filters","image","image-processor","ios","kingfisher","macos","swift","xcode"],"visibility":"public","forks":2732,"open_issues":171,"watchers":24120,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/onevcat/Kingfisher/pulls/1537","html_url":"https://github.com/onevcat/Kingfisher/pull/1537","diff_url":"https://github.com/onevcat/Kingfisher/pull/1537.diff","patch_url":"https://github.com/onevcat/Kingfisher/pull/1537.patch","merged_at":"2020-09-29T13:11:25Z"},"body":"I maintain a couple of apps that uses your library to great success.\r\nHowever there are an annoying crash that happens in both apps - even though the actual implementation of cancelling download tasks is very different in the apps.\r\n\r\nA simple way it can be replicated would be to do this:\r\n`func collectionView(_ collectionView: UICollectionView, didEndDisplaying cell: UICollectionViewCell, forItemAt indexPath: IndexPath) {\r\n        if let cell = cell as? TestCell {\r\n            cell.imageView.kf.cancelDownloadTask()\r\n        }\r\n    }`\r\n\r\nIn that case - if you have a long list - so you can get your scrolling velocity high and maintain that velocity it will eventually crash.\r\n\r\nFrom my debugging the cause seems to be that since the underlying _URLSessionDataTask_ is cancelled prior to the callback then it can actually have become nil when we are later using the task in the callback.\r\n\r\nI have tested this solution in both my apps and the crash has disappeared and I have seen no side-effects from this change.\r\n\r\nIt seems that since I actually began the investigation of this, an issue (https://github.com/onevcat/Kingfisher/issues/1511) has been opened from a different user regarding the same problem I have tried to solve here. At least, when inspecting their crash logs it looks very similar to what I experience in my apps where it crashes in _SessionDelegate.remove()_ by _URLRequest._unconditionallyBridgeFromObjectiveC(_:)_\r\n\r\nLet me know what you think.","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1537/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/700736032","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-700736032","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":700736032,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDczNjAzMg==","user":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T14:17:39Z","updated_at":"2020-09-29T14:17:39Z","body":"Tried to fix in 5.15.5. If anyone can confirm it.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/700736032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/716801678","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-716801678","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":716801678,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjgwMTY3OA==","user":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T20:24:05Z","updated_at":"2020-10-26T20:29:37Z","body":"We encountered this same crash when cancelling a bunch of image requests. Our stack trace looks like:\r\n\r\n```\r\nThread 0 Crashed:\r\n0   CFNetwork                            0x00000001b74573d8 HTTPMessage::commonInitialization(unsigned char, HTTPMessage const*) + 436 (HTTPParser.cpp:64)\r\n1   CFNetwork                            0x00000001b74573bc HTTPMessage::commonInitialization(unsigned char, HTTPMessage const*) + 408 (CFObject.h:189)\r\n2   CFNetwork                            0x00000001b74575b0 HTTPMessage::HTTPMessage(HTTPMessage const*) + 108 (HTTPMessage.cpp:35)\r\n3   CFNetwork                            0x00000001b7560440 HTTPRequestMessage::HTTPRequestMessage(HTTPRequestMessage const*) + 36 (HTTPRequestMessage.cpp:10)\r\n4   CFNetwork                            0x00000001b7442610 URLRequest::initialize(URLRequest const*, unsigned char) + 560 (HTTPRequest.cpp:54)\r\n5   CFNetwork                            0x00000001b7392eb8 -[NSURLRequest mutableCopyWithZone:] + 80 (NSURLRequest.mm:534)\r\n6   libswiftFoundation.dylib             0x00000001cac731d8 static URLRequest._unconditionallyBridgeFromObjectiveC(_:) + 64 (URLRequest.swift:45)\r\n7   HuluAPI                              0x0000000101e3e9cc _hidden#6805_ + 212 (__hidden#6906_:93)\r\n8   HuluAPI                              0x0000000101e3e8b4 _hidden#6804_ + 892 (__hidden#6906_:75)\r\n9   HuluAPI                              0x0000000101e41edc _hidden#6838_ + 60 (__hidden#591_:0)\r\n10  HuluAPI                              0x0000000101e41fa4 _hidden#6839_ + 96 (__hidden#725_:39)\r\n11  HuluAPI                              0x0000000101e3b4a4 __hidden#5908_ + 32 (__hidden#725_:44)\r\n12  HuluAPI                              0x0000000101e3b4a4 _hidden#2197_ + 328 (__hidden#6781_:107)\r\n13  HuluAPI                              0x0000000101df19ac __hidden#2553_ + 8 (__hidden#2554_:73)\r\n14  HuluAPI                              0x0000000101df19ac KingfisherWrapper<A>.cancelDownloadTask() + 32 (__hidden#2331_:249)\r\n```\r\n\r\nFrom the email chain we had with DTS:\r\n```\r\nIn the backtrace above we see the last two frames end with creating a new HTTPMessage.  What happens in \r\nHTTPMessage::commonInitialization is that a new HTTPParser object is created based on the original that is\r\npassed into HTTPMessage.  This runs into a race condition with a NSURLSession task when the copy takes \r\nplace for HTTPParser.  The issue does not exist in iOS 14 / tvOS 14 because a lock was placed around the\r\ncreation of the new HTTPParser object. \r\n\r\nSo, how do you workaround this in iOS 13 / tvOS 13 for the use case you have described?  You can still cancel\r\n the task, but canâ€™t call properties on the original task until it has completely cancelled.  This is the result of \r\nthe crash and KERN_INVALID_ADDRESS exception you are getting.  Examples of such properties to stay away \r\nfrom before the request is cancelled would be currentRequest or originalRequest as these will cause this issue.\r\nI would take a look at the Kingfisher library for any instances where task properties are used before the task is \r\ncompletely cancelled.  Look for the usage of currentRequest or originalRequest specifically.\r\n```\r\n\r\nI'm seeing references to `URLRequest.originalRequest` in `SessionDelegate.swift` (where it uses `originalRequest.url` as a `tasks` lookup key), this looks to be the source of the race condition crash. Since `URLRequest` is `Hashable`, can we use the entire request object as the dictionary key, instead of inspecting `originalRequest.url`?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/716801678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3926393184,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM5MjYzOTMxODQ=","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3926393184","actor":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e7cb28d5977a1e7f4545bceee7213f67995f3731","commit_url":"https://api.github.com/repos/onevcat/Kingfisher/commits/e7cb28d5977a1e7f4545bceee7213f67995f3731","created_at":"2020-10-27T14:54:20Z","performed_via_github_app":null},{"actor":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T14:54:46Z","updated_at":"2020-10-27T14:54:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558","repository_url":"https://api.github.com/repos/onevcat/Kingfisher","labels_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558/labels{/name}","comments_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558/comments","events_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558/events","html_url":"https://github.com/onevcat/Kingfisher/pull/1558","id":730527522,"node_id":"MDExOlB1bGxSZXF1ZXN0NTEwODE2OTI5","number":1558,"title":"Avoid racing for accessing originalRequest","user":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-10-27T14:54:45Z","updated_at":"2020-10-28T14:08:35Z","closed_at":"2020-10-28T14:08:34Z","author_association":"OWNER","active_lock_reason":null,"draft":false,"repository":{"id":33486016,"node_id":"MDEwOlJlcG9zaXRvcnkzMzQ4NjAxNg==","name":"Kingfisher","full_name":"onevcat/Kingfisher","private":false,"owner":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/onevcat/Kingfisher","description":"A lightweight, pure-Swift library for downloading and caching images from the web.","fork":false,"url":"https://api.github.com/repos/onevcat/Kingfisher","forks_url":"https://api.github.com/repos/onevcat/Kingfisher/forks","keys_url":"https://api.github.com/repos/onevcat/Kingfisher/keys{/key_id}","collaborators_url":"https://api.github.com/repos/onevcat/Kingfisher/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/onevcat/Kingfisher/teams","hooks_url":"https://api.github.com/repos/onevcat/Kingfisher/hooks","issue_events_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events{/number}","events_url":"https://api.github.com/repos/onevcat/Kingfisher/events","assignees_url":"https://api.github.com/repos/onevcat/Kingfisher/assignees{/user}","branches_url":"https://api.github.com/repos/onevcat/Kingfisher/branches{/branch}","tags_url":"https://api.github.com/repos/onevcat/Kingfisher/tags","blobs_url":"https://api.github.com/repos/onevcat/Kingfisher/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/onevcat/Kingfisher/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/onevcat/Kingfisher/git/refs{/sha}","trees_url":"https://api.github.com/repos/onevcat/Kingfisher/git/trees{/sha}","statuses_url":"https://api.github.com/repos/onevcat/Kingfisher/statuses/{sha}","languages_url":"https://api.github.com/repos/onevcat/Kingfisher/languages","stargazers_url":"https://api.github.com/repos/onevcat/Kingfisher/stargazers","contributors_url":"https://api.github.com/repos/onevcat/Kingfisher/contributors","subscribers_url":"https://api.github.com/repos/onevcat/Kingfisher/subscribers","subscription_url":"https://api.github.com/repos/onevcat/Kingfisher/subscription","commits_url":"https://api.github.com/repos/onevcat/Kingfisher/commits{/sha}","git_commits_url":"https://api.github.com/repos/onevcat/Kingfisher/git/commits{/sha}","comments_url":"https://api.github.com/repos/onevcat/Kingfisher/comments{/number}","issue_comment_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments{/number}","contents_url":"https://api.github.com/repos/onevcat/Kingfisher/contents/{+path}","compare_url":"https://api.github.com/repos/onevcat/Kingfisher/compare/{base}...{head}","merges_url":"https://api.github.com/repos/onevcat/Kingfisher/merges","archive_url":"https://api.github.com/repos/onevcat/Kingfisher/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/onevcat/Kingfisher/downloads","issues_url":"https://api.github.com/repos/onevcat/Kingfisher/issues{/number}","pulls_url":"https://api.github.com/repos/onevcat/Kingfisher/pulls{/number}","milestones_url":"https://api.github.com/repos/onevcat/Kingfisher/milestones{/number}","notifications_url":"https://api.github.com/repos/onevcat/Kingfisher/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/onevcat/Kingfisher/labels{/name}","releases_url":"https://api.github.com/repos/onevcat/Kingfisher/releases{/id}","deployments_url":"https://api.github.com/repos/onevcat/Kingfisher/deployments","created_at":"2015-04-06T14:26:21Z","updated_at":"2025-11-10T12:47:23Z","pushed_at":"2025-10-27T13:30:31Z","git_url":"git://github.com/onevcat/Kingfisher.git","ssh_url":"git@github.com:onevcat/Kingfisher.git","clone_url":"https://github.com/onevcat/Kingfisher.git","svn_url":"https://github.com/onevcat/Kingfisher","homepage":"","size":7073,"stargazers_count":24120,"watchers_count":24120,"language":"Swift","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2732,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":171,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cache","filters","image","image-processor","ios","kingfisher","macos","swift","xcode"],"visibility":"public","forks":2732,"open_issues":171,"watchers":24120,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/onevcat/Kingfisher/pulls/1558","html_url":"https://github.com/onevcat/Kingfisher/pull/1558","diff_url":"https://github.com/onevcat/Kingfisher/pull/1558.diff","patch_url":"https://github.com/onevcat/Kingfisher/pull/1558.patch","merged_at":"2020-10-28T14:08:34Z"},"body":"This patch adds/adjusts some lock behaviors. This should help to avoid racing for accessing originalRequest properties and fix #1511","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1558/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/717301210","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-717301210","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":717301210,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzMwMTIxMA==","user":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T14:55:17Z","updated_at":"2020-10-27T14:55:17Z","body":"@danielbyon-hulu Ummm, that is really hidden pitfall. Nice to hear that it is fixed in iOS 14.\r\n\r\nWe cannot use the request directly as the key. The current implementation is an optimization to prevent multiple downloading from the same URL. Changing an object identifier key (the hash of request, etc) would break this feature.\r\n\r\nMay I know is it possible for you to build a stable reproducible sample? So we can use that to check whether a fix works or not.\r\n\r\nAnyway, I tried to adjust some locks to make sure the accessing of `URLRequest.originalRequest` properties not happening at the same time as `cancel`. You can find these changes in #1558\r\n\r\nAny feedback is welcome!\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/717301210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3926398664,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzkyNjM5ODY2NA==","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3926398664","actor":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-10-27T14:55:17Z","performed_via_github_app":null},{"id":3926398666,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5MjYzOTg2NjY=","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3926398666","actor":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-10-27T14:55:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/717436546","html_url":"https://github.com/onevcat/Kingfisher/issues/1511#issuecomment-717436546","issue_url":"https://api.github.com/repos/onevcat/Kingfisher/issues/1511","id":717436546,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzQzNjU0Ng==","user":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T18:22:49Z","updated_at":"2020-10-27T18:23:08Z","body":"Unfortunately, we've only ever seen this crash in NewRelic monitoring, we've never been able to repro locally.\r\n\r\nI looked at your PR and added comments.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/onevcat/Kingfisher/issues/comments/717436546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielbyon-hulu","id":73498920,"node_id":"MDQ6VXNlcjczNDk4OTIw","avatar_url":"https://avatars.githubusercontent.com/u/73498920?v=4","gravatar_id":"","url":"https://api.github.com/users/danielbyon-hulu","html_url":"https://github.com/danielbyon-hulu","followers_url":"https://api.github.com/users/danielbyon-hulu/followers","following_url":"https://api.github.com/users/danielbyon-hulu/following{/other_user}","gists_url":"https://api.github.com/users/danielbyon-hulu/gists{/gist_id}","starred_url":"https://api.github.com/users/danielbyon-hulu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielbyon-hulu/subscriptions","organizations_url":"https://api.github.com/users/danielbyon-hulu/orgs","repos_url":"https://api.github.com/users/danielbyon-hulu/repos","events_url":"https://api.github.com/users/danielbyon-hulu/events{/privacy}","received_events_url":"https://api.github.com/users/danielbyon-hulu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3931458497,"node_id":"MDExOkNsb3NlZEV2ZW50MzkzMTQ1ODQ5Nw==","url":"https://api.github.com/repos/onevcat/Kingfisher/issues/events/3931458497","actor":{"login":"onevcat","id":1019875,"node_id":"MDQ6VXNlcjEwMTk4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1019875?v=4","gravatar_id":"","url":"https://api.github.com/users/onevcat","html_url":"https://github.com/onevcat","followers_url":"https://api.github.com/users/onevcat/followers","following_url":"https://api.github.com/users/onevcat/following{/other_user}","gists_url":"https://api.github.com/users/onevcat/gists{/gist_id}","starred_url":"https://api.github.com/users/onevcat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onevcat/subscriptions","organizations_url":"https://api.github.com/users/onevcat/orgs","repos_url":"https://api.github.com/users/onevcat/repos","events_url":"https://api.github.com/users/onevcat/events{/privacy}","received_events_url":"https://api.github.com/users/onevcat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-10-28T14:08:34Z","state_reason":null,"performed_via_github_app":null}]