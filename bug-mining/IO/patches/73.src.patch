diff --git a/src/test/org/apache/commons/io/FileCleaningTrackerTestCase.java b/src/test/org/apache/commons/io/FileCleaningTrackerTestCase.java
index 388fd0775..8a5f97dec 100644
--- a/src/test/org/apache/commons/io/FileCleaningTrackerTestCase.java
+++ b/src/test/org/apache/commons/io/FileCleaningTrackerTestCase.java
@@ -19,6 +19,7 @@
 import java.io.File;
 import java.io.RandomAccessFile;
 import java.lang.ref.ReferenceQueue;
+import java.lang.ref.SoftReference;
 import java.util.ArrayList;
 import java.util.List;
 
@@ -280,11 +281,12 @@ public void testFileCleanerExitWhenFinished2() throws Exception {
     //-----------------------------------------------------------------------
     private void waitUntilTrackCount() throws Exception {
         int count = 0;
+        SoftReference<?> ref = new SoftReference<Object>(new Object());
         while(theInstance.getTrackCount() != 0 && count++ < 5) {
             List<String> list = new ArrayList<String>();
             try {
                 long i = 0;
-                while (true && theInstance.getTrackCount() != 0) {
+                while (ref.get() != null) {
                     list.add("A Big String A Big String A Big String A Big String A Big String A Big String A Big String A Big String A Big String A Big String " + (i++));
                 }
             } catch (Throwable ignored) {
@@ -293,6 +295,7 @@ private void waitUntilTrackCount() throws Exception {
             list = null;
             System.gc(); 
             Thread.sleep(1000);
+            ref = new SoftReference<Object>(new Object());
         }
         if (theInstance.getTrackCount() != 0) {
             throw new IllegalStateException("Your JVM is not releasing SoftReference, try running the testcase with less memory (-Xmx)");
