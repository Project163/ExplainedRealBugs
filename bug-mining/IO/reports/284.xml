<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:28:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IO-751] When deleting symlinks, File/PathUtils.deleteDirectory() changes file permissions of the target</title>
                <link>https://issues.apache.org/jira/browse/IO-751</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;When &lt;tt&gt;FileUtils.deleteDirectory(...)&lt;/tt&gt; and &lt;tt&gt;PathUtils.deleteDirectory(...)&lt;/tt&gt; encounter a symlink while recursively deleting, the default behaviour is to delete the symlink, but leave the target of the symlink alone. This works for the most part: the symlink is correctly deleted, and the target is not deleted or recursed into.&lt;/p&gt;

&lt;p&gt;However, the methods &lt;em&gt;alter the file permissions of the target&lt;/em&gt;:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;FileUtils.deleteDirectory(file)&lt;/tt&gt; &lt;em&gt;removes&lt;/em&gt; all write permissions from the target&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;PathUtils.deleteDirectory(path, StandardDeleteOption.OVERRIDE_READ_ONLY)&lt;/tt&gt; &lt;em&gt;removes&lt;/em&gt; all write permissions, and &lt;em&gt;adds&lt;/em&gt; all execute permissions (even if the target is a file, not a directory)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;PathUtils.deleteDirectory(path)&lt;/tt&gt; works correctly and does not change the target&apos;s permissions&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A JUnit 4 test case that demonstrates the behaviour of all three methods is attached.&lt;/p&gt;

&lt;p&gt;The behaviour is unexpected (the Javadocs give no hint), inconvenient (it leaves the owner of the target without write permission) and potentially dangerous (it adds execute permissions for anyone).&lt;/p&gt;

&lt;p&gt;It appears the implementation assumes it can freely modify permissions because it is going to delete the file/directory anyway, and the case of symlinks was simply not considered. The handling of write permissions is particularly puzzling. I could understand  why an implementation would &lt;em&gt;add&lt;/em&gt; write permission, but why &lt;em&gt;remove&lt;/em&gt; it?&lt;/p&gt;</description>
                <environment>&lt;p&gt;macOS 11.5.2&lt;br/&gt;
OpenJDK 11&lt;/p&gt;</environment>
        <key id="13403373">IO-751</key>
            <summary>When deleting symlinks, File/PathUtils.deleteDirectory() changes file permissions of the target</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cygri">Richard Cyganiak</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Sep 2021 15:47:13 +0000</created>
                <updated>Sat, 12 Feb 2022 00:11:21 +0000</updated>
                            <resolved>Sat, 12 Feb 2022 00:11:21 +0000</resolved>
                                    <version>2.11.0</version>
                                    <fixVersion>2.12.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17420325" author="garydgregory" created="Sun, 26 Sep 2021 16:18:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cygri&quot; class=&quot;user-hover&quot; rel=&quot;cygri&quot;&gt;cygri&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;May you please retry your use cases with git master or a SNAPSHOT build and report back here?&lt;/p&gt;

&lt;p&gt;You bring up several issues, so let&apos;s make sure we clearly distinguish each.&lt;/p&gt;

&lt;p&gt;TY!&lt;/p&gt;</comment>
                            <comment id="17420331" author="garydgregory" created="Sun, 26 Sep 2021 17:09:39 +0000"  >&lt;p&gt;This is a possibility depending on the interpretation of read ONLY we want to take:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/src/main/java/org/apache/commons/io/file/PathUtils.java b/src/main/java/org/apache/commons/io/file/PathUtils.java
index 9d65243..3ce14c8 100644
--- a/src/main/java/org/apache/commons/io/file/PathUtils.java
+++ b/src/main/java/org/apache/commons/io/file/PathUtils.java
@@ -1169,9 +1169,9 @@
             // java.lang.IllegalArgumentException: &apos;unix:readonly&apos; not recognized
             final PosixFileAttributes readAttributes = posixFileAttributeView.readAttributes();
             final Set&amp;lt;PosixFilePermission&amp;gt; permissions = readAttributes.permissions();
-            permissions.remove(PosixFilePermission.OWNER_WRITE);
-            permissions.remove(PosixFilePermission.GROUP_WRITE);
-            permissions.remove(PosixFilePermission.OTHERS_WRITE);
+            permissions.add(PosixFilePermission.OWNER_READ);
+            permissions.add(PosixFilePermission.GROUP_READ);
+            permissions.add(PosixFilePermission.OTHERS_READ);
             try {
                 return Files.setPosixFilePermissions(path, permissions);
             } catch (final IOException e) {
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17420340" author="garydgregory" created="Sun, 26 Sep 2021 17:28:43 +0000"  >&lt;p&gt;Hm, now I&apos;m thinking that the following is more appropriate:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/src/main/java/org/apache/commons/io/file/PathUtils.java b/src/main/java/org/apache/commons/io/file/PathUtils.java
index 9d65243..f9968c2 100644
--- a/src/main/java/org/apache/commons/io/file/PathUtils.java
+++ b/src/main/java/org/apache/commons/io/file/PathUtils.java
@@ -1169,6 +1169,9 @@
             // java.lang.IllegalArgumentException: &apos;unix:readonly&apos; not recognized
             final PosixFileAttributes readAttributes = posixFileAttributeView.readAttributes();
             final Set&amp;lt;PosixFilePermission&amp;gt; permissions = readAttributes.permissions();
+            permissions.add(PosixFilePermission.OWNER_READ);
+            permissions.add(PosixFilePermission.GROUP_READ);
+            permissions.add(PosixFilePermission.OTHERS_READ);
             permissions.remove(PosixFilePermission.OWNER_WRITE);
             permissions.remove(PosixFilePermission.GROUP_WRITE);
             permissions.remove(PosixFilePermission.OTHERS_WRITE);
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But this is mostly orthogonal to the delete directory and symlink APIs issues you raised.&lt;/p&gt;</comment>
                            <comment id="17420353" author="garydgregory" created="Sun, 26 Sep 2021 18:05:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cygri&quot; class=&quot;user-hover&quot; rel=&quot;cygri&quot;&gt;cygri&lt;/a&gt;&lt;br/&gt;
 BTW, your example test code does not compile in our project. You are likely using APIs newer than Java 8 (looks like Java 11). We also use JUnit 5, not 3 or 4, or whatever older version you are using. The best option is to always provide a PR on GitHub; or at least a patch file you can verify by running &lt;tt&gt;mvn&lt;/tt&gt; from the command line.&lt;/p&gt;</comment>
                            <comment id="17420363" author="garydgregory" created="Sun, 26 Sep 2021 18:49:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cygri&quot; class=&quot;user-hover&quot; rel=&quot;cygri&quot;&gt;cygri&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please see &lt;span class=&quot;error&quot;&gt;&amp;#91;^commons-io.patch:&amp;#93;&lt;/span&gt;&#160;a Commons IO version of your test. It does not run on Windows as I imagine you version doesn&apos;t either. So not matter what you&apos;ll need to adapt it to make sure all of our builds pass, which GitHub will check if you create a PR.&lt;/p&gt;</comment>
                            <comment id="17420592" author="cygri" created="Mon, 27 Sep 2021 09:09:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; A fresh build from master does not work either.&lt;/p&gt;

&lt;p&gt;I believe prefixing the tests with this line would make them be skipped when run on non-POSIX OSes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    assumeTrue(FileSystems.getDefault().supportedFileAttributeViews().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;posix&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looking into the code, I see at least two problems here:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The intended semantics of &lt;tt&gt;PathUtils.setReadOnly(p, false)&lt;/tt&gt; is not clear on POSIX operating systems. They don&apos;t have a read-only flag that could be set to false. When I look at calls to this method from within the Commons IO codebase, the assumed semantics seems to be: &#8220;If the given file cannot be deleted due to file permissions, then change the permissions so that the file can be deleted.&#8221; But your proposed change above looks like you have a different semantics in mind, because read permissions do not influence whether a file can be deleted.&lt;/li&gt;
	&lt;li&gt;Regardless of the intended semantics, the current implementation is broken. It ignores the &lt;tt&gt;readOnly&lt;/tt&gt; flag on POSIX systems and just treats it as &lt;tt&gt;true&lt;/tt&gt;.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;A possible way to address both problems:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Make &lt;tt&gt;PathUtils.setReadOnly(...)&lt;/tt&gt; have no effect at all on POSIX system. After all, these systems don&apos;t have a read-only attribute that could be set or unset.&lt;/li&gt;
	&lt;li&gt;Update Javadocs around &lt;tt&gt;StandardDeleteOptions.OVERRIDE_READ_ONLY&lt;/tt&gt; to make clear the flag has no effect at all on systems that don&apos;t support a read-only flag.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17421533" author="garydgregory" created="Tue, 28 Sep 2021 17:18:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Make PathUtils.setReadOnly(...) have no effect at all on POSIX system. After all, these systems don&apos;t have a read-only attribute that could be set or unset.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That does not seem acceptable IMO; as a user of the API, I do not care HOW the underlying file system implements read-only, I just want my file to be readable and writable (or not).&#160;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Read-only true: Allow reading, forbid writing.&lt;/li&gt;
	&lt;li&gt;Read-only false: Allow reading, allow writing.&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So for POSIX (in git master now), the semantics of read are now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; PosixFileAttributes readAttributes = posixFileAttributeView.readAttributes();
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Set&amp;lt;PosixFilePermission&amp;gt; permissions = readAttributes.permissions();
            permissions.add(PosixFilePermission.OWNER_READ);
            permissions.add(PosixFilePermission.GROUP_READ);
            permissions.add(PosixFilePermission.OTHERS_READ);
            List&amp;lt;PosixFilePermission&amp;gt; writePermissions = Arrays.asList(PosixFilePermission.OWNER_WRITE, PosixFilePermission.GROUP_WRITE,
                PosixFilePermission.OTHERS_WRITE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (readOnly) {
                permissions.removeAll(writePermissions);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                permissions.addAll(writePermissions);
            }
            ...
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Files.setPosixFilePermissions(path, permissions);
            ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17421535" author="garydgregory" created="Tue, 28 Sep 2021 17:21:57 +0000"  >&lt;blockquote&gt;
&lt;p&gt;PathUtils.deleteDirectory(path, StandardDeleteOption.OVERRIDE_READ_ONLY) removes all write permissions, and adds all execute permissions (even if the target is a file, not a directory)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sounds like a bug...&lt;/p&gt;</comment>
                            <comment id="17422068" author="cygri" created="Wed, 29 Sep 2021 11:26:57 +0000"  >&lt;p&gt;So you say the semantics of &lt;tt&gt;PathUtils.setReadOnly&lt;/tt&gt; are:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Read-only false: Allow reading, allow writing&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok. This seems to fix half of the problem. On to the other half.&lt;/p&gt;

&lt;p&gt;I believe that &lt;tt&gt;StandardDeleteOptions.OVERRIDE_READ_ONLY&lt;/tt&gt; does not work at all on POSIX file systems.&lt;/p&gt;

&lt;p&gt;The implementation (in &lt;tt&gt;DeletingPathVisitor&lt;/tt&gt;, &lt;tt&gt;CleaningPathVisitor&lt;/tt&gt;, &lt;tt&gt;PathUtils.deleteFile&lt;/tt&gt;, and possibly elsewhere) assumes that to delete a file, it is necessary to be allowed to write to the file (achieved by calling &lt;tt&gt;PathUtils.setReadOnly(p, false, ...)&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;This assumption is not true on POSIX file systems. There, to delete a file you need write and execute permission &lt;em&gt;on the directory&lt;/em&gt; that contains the file. I don&apos;t think you need write permission on the file at all, nor be the owner of the file.&lt;/p&gt;

&lt;p&gt;The same applies when deleting directories and symlinks.&lt;/p&gt;

&lt;p&gt;In other words, the call to &lt;tt&gt;PathUtils.setReadOnly(p, false, ...)&lt;/tt&gt; before deleting a resource does not achieve the intended purpose, because it&apos;s the &lt;em&gt;parent&apos;s&lt;/em&gt; permissions that matter. It also has an unintended side effect in case the resource is a symlink, because the call changes the permissions of the symlink&apos;s &lt;em&gt;target&lt;/em&gt; before deleting the symlink itself, and this leaves an unrelated resource that we were not trying to delete in an altered state.&lt;/p&gt;</comment>
                            <comment id="17436300" author="garydgregory" created="Sat, 30 Oct 2021 12:14:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cygri&quot; class=&quot;user-hover&quot; rel=&quot;cygri&quot;&gt;cygri&lt;/a&gt;Would you be able to provide a PR on GitHub to address this issue?&lt;/p&gt;</comment>
                            <comment id="17436354" author="garydgregory" created="Sat, 30 Oct 2021 17:43:35 +0000"  >&lt;p&gt;FYI I added this new and disabled test: &lt;tt&gt;org.apache.commons.io.DeleteDirectoryTest&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17456929" author="chadwilson" created="Fri, 10 Dec 2021 07:44:37 +0000"  >&lt;p&gt;Thanks for the work here.&lt;/p&gt;

&lt;p&gt;It looks like an attempt to address this might have been made to fix this in &lt;a href=&quot;https://github.com/apache/commons-io/commit/62925e3084c9e72ae4659c00364a490252368326#diff-480762ed7e0cb6175cb14bd289b7167eeac7ae35cf253725155eed73398da621&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-io/commit/62925e3084c9e72ae4659c00364a490252368326#diff-480762ed7e0cb6175cb14bd289b7167eeac7ae35cf253725155eed73398da621&lt;/a&gt;&#160; planned for 2.12.0&lt;/p&gt;

&lt;p&gt;Is it possible to clarify which of the above discussed issues this attempts to fix?&lt;/p&gt;</comment>
                            <comment id="17467945" author="chadwilson" created="Mon, 3 Jan 2022 12:00:38 +0000"  >&lt;p&gt;Apologies for the chaser &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; , but is there any confirmation that we believe this to be fixed in the above commit, or a plan to release this fix? I&apos;d prefer not to rollback, but this is causing some issues at &lt;a href=&quot;https://github.com/gocd/gocd/issues/9927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gocd/gocd/issues/9927&lt;/a&gt; I&apos;d like to close if possible.&lt;/p&gt;</comment>
                            <comment id="17468001" author="garydgregory" created="Mon, 3 Jan 2022 14:06:30 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chadwilson&quot; class=&quot;user-hover&quot; rel=&quot;chadwilson&quot;&gt;chadwilson&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please try git master or a snapshot build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I hope to release this month but I am caught up in Log4j work ATM.&lt;/p&gt;</comment>
                            <comment id="17469986" author="chadwilson" created="Thu, 6 Jan 2022 15:52:11 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; - I&apos;ll take that as confirmation that you believe it to be fixed by the above commit. Perhaps this bug be closed with a target Fix Version to add a bit more clarity? At the moment it looks like it might still be a work in progress.&lt;/p&gt;

&lt;p&gt;Completely understand if you&apos;re helping out on/distracted by Log4J work right now. Keep up the good fight, you folks with the ASF are doing a great job.&lt;/p&gt;</comment>
                            <comment id="17470252" author="garydgregory" created="Thu, 6 Jan 2022 23:56:14 +0000"  >&lt;p&gt;Thank you for the encouragement &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chadwilson&quot; class=&quot;user-hover&quot; rel=&quot;chadwilson&quot;&gt;chadwilson&lt;/a&gt;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I would prefer to mark this issue as resolved with a fix version after you confirm that you&apos;ve tried a snapshot build (or a local build) and confirm that your use case is handled. Otherwise, the issue will end up flip-flopping between states, and that&apos;s more confusing IMO.&lt;/p&gt;</comment>
                            <comment id="17471191" author="chadwilson" created="Sat, 8 Jan 2022 17:36:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; - so far the change linked above planned for 2.12.0 does appear to fix the reported issue in GoCD, and turn a failing test green. &lt;a href=&quot;https://github.com/gocd/gocd/pull/10067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gocd/gocd/pull/10067&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m running the entire test suite to validate it doesn&apos;t appear to cause any other regressions, but looks positive so far.&lt;/p&gt;</comment>
                            <comment id="17487776" author="garydgregory" created="Sun, 6 Feb 2022 22:14:35 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chadwilson&quot; class=&quot;user-hover&quot; rel=&quot;chadwilson&quot;&gt;chadwilson&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can this ticket be closed?&lt;/p&gt;</comment>
                            <comment id="17487816" author="chadwilson" created="Mon, 7 Feb 2022 01:22:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; - yes, as far as I can tell our specific issue seems to be fixed on 2.12-SNAPSHOT. There are some other unrelated issues with 2.12-SNAPSHOT as discussed on GitHub that will prevent us upgrading, but this specific issue appears to be resolved, at least in the cases I added to our regression tests.&lt;/p&gt;

&lt;p&gt;Would be great if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cygri&quot; class=&quot;user-hover&quot; rel=&quot;cygri&quot;&gt;cygri&lt;/a&gt; is in a position to verify from his perspective though, since seems he&apos;d done quite thorough investigation into the issue and edge cases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13034171" name="DeleteDirectoryTest.java" size="2660" author="cygri" created="Sun, 26 Sep 2021 15:32:47 +0000"/>
                            <attachment id="13034175" name="commons-io.patch" size="4255" author="ggregory" created="Sun, 26 Sep 2021 18:48:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vaso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>