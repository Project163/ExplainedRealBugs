<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:28:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IO-773] RegexFileFilter is no longer Serializable</title>
                <link>https://issues.apache.org/jira/browse/IO-773</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;org.apache.commons.io.filefilter.RegexFileFilter cannot be serialized b/c org.apache.commons.io.filefilter.RegexFileFilter.pathToString Function&lt;/p&gt;</description>
                <environment></environment>
        <key id="13449959">IO-773</key>
            <summary>RegexFileFilter is no longer Serializable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dr.z">Dominik Reinarz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jun 2022 08:55:41 +0000</created>
                <updated>Thu, 23 Jun 2022 12:38:30 +0000</updated>
                            <resolved>Thu, 23 Jun 2022 12:38:30 +0000</resolved>
                                    <version>2.10.0</version>
                    <version>2.11.0</version>
                                    <fixVersion>2.12.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17553997" author="dr.z" created="Tue, 14 Jun 2022 09:01:03 +0000"  >&lt;p&gt;&#160;java.io.NotSerializableException: org.apache.commons.io.filefilter.RegexFileFilter$$Lambda$2302/0x00000008021533e8&lt;br/&gt;
at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)&lt;/p&gt;</comment>
                            <comment id="17554103" author="garydgregory" created="Tue, 14 Jun 2022 13:39:22 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dr.z&quot; class=&quot;user-hover&quot; rel=&quot;dr.z&quot;&gt;dr.z&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;Please try with git master or a 2.12.0-SNAPSHOT build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/2.12.0-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/2.12.0-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;RegexFileFilter#RegexFileFilter(Pattern)&lt;/tt&gt;&#160;now creates a serializable lambda, so other constructors that call it will create a serializable instance.&lt;/p&gt;

&lt;p&gt;If you call &lt;tt&gt;RegexFileFilter#RegexFileFilter(Pattern, Function&amp;lt;Path, String&amp;gt;)&lt;/tt&gt;, you&apos;ll have to make the lambda serializable before passing it in.&lt;/p&gt;</comment>
                            <comment id="17554130" author="dr.z" created="Tue, 14 Jun 2022 14:26:26 +0000"  >&lt;p&gt;2.12.0-SNAPSHOT build works! Thanks for the quick fix!&lt;/p&gt;</comment>
                            <comment id="17554163" author="garydgregory" created="Tue, 14 Jun 2022 15:27:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dr.z&quot; class=&quot;user-hover&quot; rel=&quot;dr.z&quot;&gt;dr.z&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Good news, thank you for testing your use case.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17554397" author="dr.z" created="Wed, 15 Jun 2022 06:19:05 +0000"  >&lt;p&gt;Maybe RegexFileFilter#RegexFileFilter(Pattern, Function&amp;lt;Path, String&amp;gt;) should only accept serializable lambdas?&lt;/p&gt;</comment>
                            <comment id="17554401" author="dr.z" created="Wed, 15 Jun 2022 06:26:57 +0000"  >&lt;p&gt;Passing a serializable lambda should work with 2.12.0?&lt;/p&gt;

&lt;p&gt;if I use RegexFileFilter(pattern, (Function&amp;lt;Path, String&amp;gt; &amp;amp; Serializable) p -&amp;gt; p.getFileName().toString()):&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field org.apache.commons.io.filefilter.RegexFileFilter.pathToString of type java.util.function.Function in instance of org.apache.commons.io.filefilter.RegexFileFilter&lt;br/&gt;
&#160; &#160; at java.base/java.io.ObjectStreamClass$FieldReflector.setObjFieldValues&lt;/p&gt;

&lt;p&gt;also see &lt;a href=&quot;https://mail.openjdk.org/pipermail/core-libs-dev/2019-March/059283.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mail.openjdk.org/pipermail/core-libs-dev/2019-March/059283.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17554449" author="dr.z" created="Wed, 15 Jun 2022 07:59:59 +0000"  >&lt;p&gt;our issue is fixed, but call to &lt;tt&gt;RegexFileFilter#RegexFileFilter(Pattern, Function&amp;lt;Path, String&amp;gt;) with a SerializableLambda will not work, see comments above&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17554739" author="garydgregory" created="Wed, 15 Jun 2022 17:59:46 +0000"  >&lt;p&gt;The problem in the link shows up on reading, not writing? I wonder if this is or will be fixed in a future version of Java...&lt;/p&gt;</comment>
                            <comment id="17557427" author="dr.z" created="Wed, 22 Jun 2022 12:43:57 +0000"  >&lt;p&gt;Call will work, if &#160;serializable lambda is available on both sides of the serialization. I guess this can be closed for good.&lt;br/&gt;
(Maybe additional comment?)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13380861">IO-733</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z137tc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>