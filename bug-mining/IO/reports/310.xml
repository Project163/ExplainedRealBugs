<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:28:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IO-386] FileUtils.doCopyFile uses different methods to check the file sizes</title>
                <link>https://issues.apache.org/jira/browse/IO-386</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;FileUtils.doCopyFile uses FileChannel.size() to measure the input file length at the start, and File.length() to compare the lengths at the end.&lt;/p&gt;

&lt;p&gt;This is inconsistent.&lt;br/&gt;
If there is a good reason for this it should be documented, otherwise it should probably use the same method for all the checks.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Note: is FileChannel.size() accurate if the file has not been flushed?&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650510">IO-386</key>
            <summary>FileUtils.doCopyFile uses different methods to check the file sizes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Jun 2013 13:37:57 +0000</created>
                <updated>Mon, 8 Aug 2022 14:33:43 +0000</updated>
                            <resolved>Mon, 8 Aug 2022 14:33:43 +0000</resolved>
                                                    <fixVersion>2.12.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13673848" author="sebb@apache.org" created="Tue, 4 Jun 2013 00:19:56 +0000"  >&lt;p&gt;A related issue: &lt;br/&gt;
Why is the input file size refetched at the end? &lt;br/&gt;
Why not re-use the original value?&lt;/p&gt;</comment>
                            <comment id="16075820" author="b.eckenfels" created="Thu, 6 Jul 2017 02:34:58 +0000"  >&lt;p&gt;After discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-544&quot; title=&quot;Should FileUtils.copyFile be flushed and synced before comparing file sizes?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-544&quot;&gt;&lt;del&gt;IO-544&lt;/del&gt;&lt;/a&gt; I also wonder if the transferFrom returning 0 case does not need a few retries to avoid the length difference exception&lt;/p&gt;</comment>
                            <comment id="16285761" author="zhipengxu" created="Mon, 11 Dec 2017 10:59:40 +0000"  >&lt;p&gt;Can we save the length before copy really start and compare it with the new generated file ? &lt;br/&gt;
Does it really cannot be fixed?&lt;/p&gt;</comment>
                            <comment id="16285804" author="b.eckenfels" created="Mon, 11 Dec 2017 11:39:17 +0000"  >&lt;p&gt;You probably can compare it with the size at the beginning. Both seems to be rather strange, but comparing with the size after copy is less likely to fail when the file has changed meanwhile. If this is good or bad is a different question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Can you tell us what you need to get fixed?&lt;/p&gt;</comment>
                            <comment id="16810876" author="garydgregory" created="Fri, 5 Apr 2019 14:19:07 +0000"  >&lt;p&gt;Won&apos;t this become moot if we call &lt;tt&gt;Files.copy(Path,Path,CopyOptions)&lt;/tt&gt; within this API?&lt;/p&gt;</comment>
                            <comment id="17576813" author="garydgregory" created="Mon, 8 Aug 2022 14:33:43 +0000"  >&lt;p&gt;We use &lt;tt&gt;Files.copy(Path,Path,CopyOptions)&lt;/tt&gt; and the implementation no longer checks for length of &lt;tt&gt;File&lt;/tt&gt; objects.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12714251">IO-443</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13084921">IO-544</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13226384">IO-604</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l2r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>