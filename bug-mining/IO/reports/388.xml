<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:29:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IO-860] Missing reserved file names in FileSystem.WINDOWS (superscript digits for COM and LPT) </title>
                <link>https://issues.apache.org/jira/browse/IO-860</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;Per Microsoft documentation, the following filenames are also reserved filenames: LPT&#185;, LPT&#178;, LPT&#179;, COM&#185;, COM&#178; and COM&#179;.&lt;br/&gt;
As far as I can tell, only the non-superscript filenames are marked as illegal in the FileSystem.WINDOWS enum. These six filenames should also be added as reserved filenames, as they can not be used for regular files. (e.g. trying to create a file called COM&#179; will fail).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Quote from the &lt;a href=&quot;https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#file-and-directory-names&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;microsoft documentation&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Windows recognizes the 8-bit ISO/IEC 8859-1
 superscript digits &#185;, &#178;, and &#179; as digits and treats them as valid parts
 of COM# and LPT# device names, making them reserved in every directory. &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Testing code to reproduce: (there should be no output)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.io.FileSystem;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FilenameTest {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;[] digitsWithSuperScript = {&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;3&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;4&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;5&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;6&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;7&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;8&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&#185;&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&#178;&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&#179;&apos;&lt;/span&gt;};

        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filenamesPrefix : &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;LPT&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;COM&quot;&lt;/span&gt;}) {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; digit : digitsWithSuperScript) {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = filenamesPrefix + digit;
                checkFilename(filename, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
                &lt;span class=&quot;code-comment&quot;&gt;// Base filename should be reserved
&lt;/span&gt;                checkFilename(filename + &lt;span class=&quot;code-quote&quot;&gt;&quot;.tar.gz&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
                &lt;span class=&quot;code-comment&quot;&gt;// Extensions should be ignored
&lt;/span&gt;                checkFilename(filename + &lt;span class=&quot;code-quote&quot;&gt;&quot;.txt&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
                &lt;span class=&quot;code-comment&quot;&gt;// Non-extension suffixes are ok.
&lt;/span&gt;                checkFilename(filename + &lt;span class=&quot;code-quote&quot;&gt;&quot;additional_text&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; reservedFileName : &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;CON&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;PRN&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;AUX&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;NUL&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;CONIN$&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;CONOUT$&quot;&lt;/span&gt;}) {
            &lt;span class=&quot;code-comment&quot;&gt;// Base filename should be reserved
&lt;/span&gt;            checkFilename(reservedFileName, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            &lt;span class=&quot;code-comment&quot;&gt;// Extensions should be ignored
&lt;/span&gt;            checkFilename(reservedFileName + &lt;span class=&quot;code-quote&quot;&gt;&quot;.tar.gz&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            &lt;span class=&quot;code-comment&quot;&gt;// Non-extension suffixes are ok.
&lt;/span&gt;            checkFilename(reservedFileName + &lt;span class=&quot;code-quote&quot;&gt;&quot;additional_text&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        }
    }

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void checkFilename(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isReserved) {
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isReservedAccordingToAPI = FileSystem.WINDOWS.isReservedFileName(filename);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isReserved != isReservedAccordingToAPI) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isReserved) {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.printf(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt; is reserved according to the spec but not according to FileSystem.isReservedFileName%n&quot;&lt;/span&gt;, filename);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.printf(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt; is not reserved according to the spec but is according to FileSystem.isReservedFileName%n&quot;&lt;/span&gt;, filename);
            }
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// Spec and API match
&lt;/span&gt;        }
    }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Link to relevant code:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-io/blob/ec0fd2c98f0bf94d6d87c6adf237430e606e2e23/src/main/java/org/apache/commons/io/FileSystem.java#L91C16-L92C116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-io/blob/ec0fd2c98f0bf94d6d87c6adf237430e606e2e23/src/main/java/org/apache/commons/io/FileSystem.java#L91C16-L92C116&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13596647">IO-860</key>
            <summary>Missing reserved file names in FileSystem.WINDOWS (superscript digits for COM and LPT) </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="stefan.esq">Stefan Feenstra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Oct 2024 19:45:37 +0000</created>
                <updated>Thu, 24 Oct 2024 22:54:47 +0000</updated>
                            <resolved>Thu, 24 Oct 2024 22:54:47 +0000</resolved>
                                    <version>2.17.0</version>
                                    <fixVersion>2.18.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17892619" author="garydgregory" created="Thu, 24 Oct 2024 21:15:44 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefan.esq&quot; class=&quot;user-hover&quot; rel=&quot;stefan.esq&quot;&gt;stefan.esq&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;The link to Microsoft you gave points to this ticket. Would you please fix that?&lt;/p&gt;

&lt;p&gt;Ty!&lt;/p&gt;</comment>
                            <comment id="17892620" author="stefan.esq" created="Thu, 24 Oct 2024 21:22:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; Sorry about that, I am not sure how that happened. The link should point to the correct page now.&lt;/p&gt;</comment>
                            <comment id="17892624" author="stefan.esq" created="Thu, 24 Oct 2024 21:56:50 +0000"  >&lt;p&gt;Also not sure about one further discrepancy. &lt;br/&gt;
According to the same documentation a filename should not end with a dot. &lt;/p&gt;

&lt;p&gt;In practice, it appears that applications like Java, windows file explorer etc will allow you to open or save a file with a dot at the end - however the created/read file will not contain the dot at the end of the filename,&lt;br/&gt;
In fact, if a file is present on the disk ending with a dot (This can be done by using the \\?\ prefix) most APIs will say the file does not exist when trying to open it.&lt;/p&gt;

&lt;p&gt;I am not sure if Commons IO should mark these filenames as invalid? This could potentially cause problems in applications?&lt;br/&gt;
Example code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt. exists: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt.&quot;&lt;/span&gt;).exists());
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt exists: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt&quot;&lt;/span&gt;).exists());

        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (FileOutputStream fos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt.&quot;&lt;/span&gt;)) {
            fos.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;.getBytes());
        }

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt. exists: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt.&quot;&lt;/span&gt;).exists());
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt exists: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.txt&quot;&lt;/span&gt;).exists());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One would expect only the first file to exist after the code is ran, the actual output is however:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
test.txt. exists: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
test.txt exists: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
test.txt. exists: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
test.txt exists: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="17892632" author="garydgregory" created="Thu, 24 Oct 2024 22:54:47 +0000"  >&lt;p&gt;Fixed in git master and snapshot builds in &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/commons-io/commons-io/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1s728:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>