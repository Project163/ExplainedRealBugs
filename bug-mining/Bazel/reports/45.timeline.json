[{"id":9488680909,"node_id":"LE_lADOATz7jc5oV6wNzwAAAAI1kcfN","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9488680909","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-09T22:42:58Z","label":{"name":"type: bug","color":"0052cc"},"performed_via_github_app":null},{"id":9488680913,"node_id":"LE_lADOATz7jc5oV6wNzwAAAAI1kcfR","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9488680913","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-09T22:42:58Z","label":{"name":"untriaged","color":"c34ddd"},"performed_via_github_app":null},{"id":9488680962,"node_id":"AE_lADOATz7jc5oV6wNzwAAAAI1kcgC","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9488680962","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-06-09T22:42:59Z","assignee":{"login":"Pavank1992","id":127178870,"node_id":"U_kgDOB5SYdg","avatar_url":"https://avatars.githubusercontent.com/u/127178870?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavank1992","html_url":"https://github.com/Pavank1992","followers_url":"https://api.github.com/users/Pavank1992/followers","following_url":"https://api.github.com/users/Pavank1992/following{/other_user}","gists_url":"https://api.github.com/users/Pavank1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavank1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavank1992/subscriptions","organizations_url":"https://api.github.com/users/Pavank1992/orgs","repos_url":"https://api.github.com/users/Pavank1992/repos","events_url":"https://api.github.com/users/Pavank1992/events{/privacy}","received_events_url":"https://api.github.com/users/Pavank1992/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":9488680997,"node_id":"AE_lADOATz7jc5oV6wNzwAAAAI1kcgl","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9488680997","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-06-09T22:42:59Z","assignee":{"login":"sgowroji","id":48122892,"node_id":"MDQ6VXNlcjQ4MTIyODky","avatar_url":"https://avatars.githubusercontent.com/u/48122892?v=4","gravatar_id":"","url":"https://api.github.com/users/sgowroji","html_url":"https://github.com/sgowroji","followers_url":"https://api.github.com/users/sgowroji/followers","following_url":"https://api.github.com/users/sgowroji/following{/other_user}","gists_url":"https://api.github.com/users/sgowroji/gists{/gist_id}","starred_url":"https://api.github.com/users/sgowroji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgowroji/subscriptions","organizations_url":"https://api.github.com/users/sgowroji/orgs","repos_url":"https://api.github.com/users/sgowroji/repos","events_url":"https://api.github.com/users/sgowroji/events{/privacy}","received_events_url":"https://api.github.com/users/sgowroji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":9497280866,"node_id":"LE_lADOATz7jc5oV6wNzwAAAAI2FQFi","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9497280866","actor":{"login":"Pavank1992","id":127178870,"node_id":"U_kgDOB5SYdg","avatar_url":"https://avatars.githubusercontent.com/u/127178870?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavank1992","html_url":"https://github.com/Pavank1992","followers_url":"https://api.github.com/users/Pavank1992/followers","following_url":"https://api.github.com/users/Pavank1992/following{/other_user}","gists_url":"https://api.github.com/users/Pavank1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavank1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavank1992/subscriptions","organizations_url":"https://api.github.com/users/Pavank1992/orgs","repos_url":"https://api.github.com/users/Pavank1992/repos","events_url":"https://api.github.com/users/Pavank1992/events{/privacy}","received_events_url":"https://api.github.com/users/Pavank1992/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-12T04:25:47Z","label":{"name":"team-Remote-Exec","color":"f1f442"},"performed_via_github_app":null},{"id":9497281193,"node_id":"UNE_lADOATz7jc5oV6wNzwAAAAI2FQKp","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9497281193","actor":{"login":"Pavank1992","id":127178870,"node_id":"U_kgDOB5SYdg","avatar_url":"https://avatars.githubusercontent.com/u/127178870?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavank1992","html_url":"https://github.com/Pavank1992","followers_url":"https://api.github.com/users/Pavank1992/followers","following_url":"https://api.github.com/users/Pavank1992/following{/other_user}","gists_url":"https://api.github.com/users/Pavank1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavank1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavank1992/subscriptions","organizations_url":"https://api.github.com/users/Pavank1992/orgs","repos_url":"https://api.github.com/users/Pavank1992/repos","events_url":"https://api.github.com/users/Pavank1992/events{/privacy}","received_events_url":"https://api.github.com/users/Pavank1992/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2023-06-12T04:25:52Z","assignee":{"login":"sgowroji","id":48122892,"node_id":"MDQ6VXNlcjQ4MTIyODky","avatar_url":"https://avatars.githubusercontent.com/u/48122892?v=4","gravatar_id":"","url":"https://api.github.com/users/sgowroji","html_url":"https://github.com/sgowroji","followers_url":"https://api.github.com/users/sgowroji/followers","following_url":"https://api.github.com/users/sgowroji/following{/other_user}","gists_url":"https://api.github.com/users/sgowroji/gists{/gist_id}","starred_url":"https://api.github.com/users/sgowroji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgowroji/subscriptions","organizations_url":"https://api.github.com/users/sgowroji/orgs","repos_url":"https://api.github.com/users/sgowroji/repos","events_url":"https://api.github.com/users/sgowroji/events{/privacy}","received_events_url":"https://api.github.com/users/sgowroji/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":9497281202,"node_id":"UNE_lADOATz7jc5oV6wNzwAAAAI2FQKy","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9497281202","actor":{"login":"Pavank1992","id":127178870,"node_id":"U_kgDOB5SYdg","avatar_url":"https://avatars.githubusercontent.com/u/127178870?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavank1992","html_url":"https://github.com/Pavank1992","followers_url":"https://api.github.com/users/Pavank1992/followers","following_url":"https://api.github.com/users/Pavank1992/following{/other_user}","gists_url":"https://api.github.com/users/Pavank1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavank1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavank1992/subscriptions","organizations_url":"https://api.github.com/users/Pavank1992/orgs","repos_url":"https://api.github.com/users/Pavank1992/repos","events_url":"https://api.github.com/users/Pavank1992/events{/privacy}","received_events_url":"https://api.github.com/users/Pavank1992/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unassigned","commit_id":null,"commit_url":null,"created_at":"2023-06-12T04:25:52Z","assignee":{"login":"Pavank1992","id":127178870,"node_id":"U_kgDOB5SYdg","avatar_url":"https://avatars.githubusercontent.com/u/127178870?v=4","gravatar_id":"","url":"https://api.github.com/users/Pavank1992","html_url":"https://github.com/Pavank1992","followers_url":"https://api.github.com/users/Pavank1992/followers","following_url":"https://api.github.com/users/Pavank1992/following{/other_user}","gists_url":"https://api.github.com/users/Pavank1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Pavank1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pavank1992/subscriptions","organizations_url":"https://api.github.com/users/Pavank1992/orgs","repos_url":"https://api.github.com/users/Pavank1992/repos","events_url":"https://api.github.com/users/Pavank1992/events{/privacy}","received_events_url":"https://api.github.com/users/Pavank1992/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1587819144","html_url":"https://github.com/bazelbuild/bazel/issues/18632#issuecomment-1587819144","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18632","id":1587819144,"node_id":"IC_kwDOATz7jc5epDKI","user":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-12T18:02:32Z","updated_at":"2023-06-12T18:02:32Z","body":"Reproduced locally in the Bazel repo with the patch below.\r\n\r\n- This `cc_toolchain_suite` works with both local and remote configurations, after following the [msys2 setup instructions](https://www.msys2.org/), including installing `mingw-w64-ucrt-x86_64-gcc` in step 6.\r\n- Build with `bazel build --crosstool_top=//platforms/windows_x64/cc:toolchain //src/tools/singlejar`.\r\n\r\n<details><pre>\r\ndiff --git a/platforms/windows_x64/cc/BUILD b/platforms/windows_x64/cc/BUILD\r\nnew file mode 100644\r\nindex 0000000..0a9ac89\r\n--- /dev/null\r\n+++ b/platforms/windows_x64/cc/BUILD\r\n@@ -0,0 +1,65 @@\r\n+load(\":windows_cc_toolchain_config.bzl\", \"cc_toolchain_config\")\r\n+\r\n+package(default_visibility = [\"//visibility:public\"])\r\n+\r\n+cc_toolchain_suite(\r\n+    name = \"toolchain\",\r\n+    toolchains = {\r\n+        \"x64_windows|ucrt64-gcc\": \":cc-compiler-x64_windows_ucrt64-gcc\",\r\n+        \"x64_windows\": \":cc-compiler-x64_windows_ucrt64-gcc\",\r\n+    },\r\n+)\r\n+\r\n+cc_toolchain(\r\n+    name = \"cc-compiler-x64_windows_ucrt64-gcc\",\r\n+    all_files = \":empty\",\r\n+    ar_files = \":empty\",\r\n+    as_files = \":empty\",\r\n+    compiler_files = \":empty\",\r\n+    dwp_files = \":empty\",\r\n+    linker_files = \":empty\",\r\n+    objcopy_files = \":empty\",\r\n+    strip_files = \":empty\",\r\n+    supports_param_files = False,\r\n+    toolchain_config = \":x64_windows_ucrt64-gcc\",\r\n+    toolchain_identifier = \"x64_windows_ucrt64-gcc\",\r\n+)\r\n+\r\n+cc_toolchain_config(\r\n+    name = \"x64_windows_ucrt64-gcc\",\r\n+    abi_libc_version = \"unknown\",\r\n+    abi_version = \"unknown\",\r\n+    compiler = \"ucrt64-gcc\",\r\n+    cpu = \"x64_windows\",\r\n+    cxx_builtin_include_directories = [\r\n+        \"C:/msys64/ucrt64/include/c++/13.1.0\",\r\n+        \"C:/msys64/ucrt64/include/c++/13.1.0/x86_64-w64-mingw32\",\r\n+        \"C:/msys64/ucrt64/include/c++/13.1.0/backward\",\r\n+        \"C:/msys64/ucrt64/lib/gcc/x86_64-w64-mingw32/13.1.0/include\",\r\n+        \"C:/msys64/ucrt64/include\",\r\n+        \"C:/msys64/ucrt64/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed\",\r\n+    ],\r\n+    dbg_mode_debug_flag = \"/DEBUG:FULL\",\r\n+    fastbuild_mode_debug_flag = \"/DEBUG:FASTLINK\",\r\n+    host_system_name = \"x86_64-w64-mingw32\",\r\n+    target_libc = \"ucrt64\",\r\n+    target_system_name = \"x86_64-w64-mingw32\",\r\n+    tool_bin_path = \"c:/msys64/ucrt64/bin\",\r\n+    tool_paths = {\r\n+        \"ar\": \"C:/msys64/ucrt64/bin/ar.exe\",\r\n+        \"ld\": \"C:/msys64/ucrt64/bin/ld.exe\",\r\n+        \"cpp\": \"C:/msys64/ucrt64/bin/cpp.exe\",\r\n+        \"gcc\": \"C:/msys64/ucrt64/bin/gcc.exe\",\r\n+        \"gcov\": \"C:/msys64/ucrt64/bin/gcov.exe\",\r\n+        \"nm\": \"C:/msys64/ucrt64/bin/nm.exe\",\r\n+        \"objcopy\": \"C:/msys64/ucrt64/bin/ar.exe\",\r\n+        \"objdump\": \"C:/msys64/ucrt64/bin/objdump.exe\",\r\n+        \"strip\": \"C:/msys64/ucrt64/bin/strip.exe\",\r\n+        \"llvm-cov\": \"C:/msys64/usr/bin/false.exe\",\r\n+    },\r\n+)\r\n+\r\n+filegroup(\r\n+    name = \"empty\",\r\n+    srcs = [],\r\n+)\r\ndiff --git a/platforms/windows_x64/cc/windows_cc_toolchain_config.bzl b/platforms/windows_x64/cc/windows_cc_toolchain_config.bzl\r\nnew file mode 100644\r\nindex 0000000..f3e2d30\r\n--- /dev/null\r\n+++ b/platforms/windows_x64/cc/windows_cc_toolchain_config.bzl\r\n@@ -0,0 +1,1394 @@\r\n+# Copyright 2019 The Bazel Authors. All rights reserved.\r\n+#\r\n+# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+# you may not use this file except in compliance with the License.\r\n+# You may obtain a copy of the License at\r\n+#\r\n+#    http://www.apache.org/licenses/LICENSE-2.0\r\n+#\r\n+# Unless required by applicable law or agreed to in writing, software\r\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+# See the License for the specific language governing permissions and\r\n+# limitations under the License.\r\n+\r\n+\"\"\"A Starlark cc_toolchain configuration rule for Windows\"\"\"\r\n+\r\n+load(\r\n+    \"@bazel_tools//tools/cpp:cc_toolchain_config_lib.bzl\",\r\n+    \"action_config\",\r\n+    \"artifact_name_pattern\",\r\n+    \"env_entry\",\r\n+    \"env_set\",\r\n+    \"feature\",\r\n+    \"flag_group\",\r\n+    \"flag_set\",\r\n+    \"tool\",\r\n+    \"tool_path\",\r\n+    \"variable_with_value\",\r\n+    \"with_feature_set\",\r\n+)\r\n+load(\"@bazel_tools//tools/build_defs/cc:action_names.bzl\", \"ACTION_NAMES\")\r\n+\r\n+all_compile_actions = [\r\n+    ACTION_NAMES.c_compile,\r\n+    ACTION_NAMES.cpp_compile,\r\n+    ACTION_NAMES.linkstamp_compile,\r\n+    ACTION_NAMES.assemble,\r\n+    ACTION_NAMES.preprocess_assemble,\r\n+    ACTION_NAMES.cpp_header_parsing,\r\n+    ACTION_NAMES.cpp_module_compile,\r\n+    ACTION_NAMES.cpp_module_codegen,\r\n+    ACTION_NAMES.clif_match,\r\n+    ACTION_NAMES.lto_backend,\r\n+]\r\n+\r\n+all_cpp_compile_actions = [\r\n+    ACTION_NAMES.cpp_compile,\r\n+    ACTION_NAMES.linkstamp_compile,\r\n+    ACTION_NAMES.cpp_header_parsing,\r\n+    ACTION_NAMES.cpp_module_compile,\r\n+    ACTION_NAMES.cpp_module_codegen,\r\n+    ACTION_NAMES.clif_match,\r\n+]\r\n+\r\n+preprocessor_compile_actions = [\r\n+    ACTION_NAMES.c_compile,\r\n+    ACTION_NAMES.cpp_compile,\r\n+    ACTION_NAMES.linkstamp_compile,\r\n+    ACTION_NAMES.preprocess_assemble,\r\n+    ACTION_NAMES.cpp_header_parsing,\r\n+    ACTION_NAMES.cpp_module_compile,\r\n+    ACTION_NAMES.clif_match,\r\n+]\r\n+\r\n+codegen_compile_actions = [\r\n+    ACTION_NAMES.c_compile,\r\n+    ACTION_NAMES.cpp_compile,\r\n+    ACTION_NAMES.linkstamp_compile,\r\n+    ACTION_NAMES.assemble,\r\n+    ACTION_NAMES.preprocess_assemble,\r\n+    ACTION_NAMES.cpp_module_codegen,\r\n+    ACTION_NAMES.lto_backend,\r\n+]\r\n+\r\n+all_link_actions = [\r\n+    ACTION_NAMES.cpp_link_executable,\r\n+    ACTION_NAMES.cpp_link_dynamic_library,\r\n+    ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+]\r\n+\r\n+def _use_msvc_toolchain(ctx):\r\n+    return ctx.attr.cpu in [\"x64_windows\", \"arm64_windows\"] and (ctx.attr.compiler == \"msvc-cl\" or ctx.attr.compiler == \"clang-cl\")\r\n+\r\n+def _impl(ctx):\r\n+    if _use_msvc_toolchain(ctx):\r\n+        artifact_name_patterns = [\r\n+            artifact_name_pattern(\r\n+                category_name = \"object_file\",\r\n+                prefix = \"\",\r\n+                extension = \".obj\",\r\n+            ),\r\n+            artifact_name_pattern(\r\n+                category_name = \"static_library\",\r\n+                prefix = \"\",\r\n+                extension = \".lib\",\r\n+            ),\r\n+            artifact_name_pattern(\r\n+                category_name = \"alwayslink_static_library\",\r\n+                prefix = \"\",\r\n+                extension = \".lo.lib\",\r\n+            ),\r\n+            artifact_name_pattern(\r\n+                category_name = \"executable\",\r\n+                prefix = \"\",\r\n+                extension = \".exe\",\r\n+            ),\r\n+            artifact_name_pattern(\r\n+                category_name = \"dynamic_library\",\r\n+                prefix = \"\",\r\n+                extension = \".dll\",\r\n+            ),\r\n+            artifact_name_pattern(\r\n+                category_name = \"interface_library\",\r\n+                prefix = \"\",\r\n+                extension = \".if.lib\",\r\n+            ),\r\n+        ]\r\n+    else:\r\n+        artifact_name_patterns = [\r\n+            artifact_name_pattern(\r\n+                category_name = \"executable\",\r\n+                prefix = \"\",\r\n+                extension = \".exe\",\r\n+            ),\r\n+        ]\r\n+\r\n+    if _use_msvc_toolchain(ctx):\r\n+        cpp_link_nodeps_dynamic_library_action = action_config(\r\n+            action_name = ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+            implies = [\r\n+                \"nologo\",\r\n+                \"shared_flag\",\r\n+                \"linkstamps\",\r\n+                \"output_execpath_flags\",\r\n+                \"input_param_flags\",\r\n+                \"user_link_flags\",\r\n+                \"linker_subsystem_flag\",\r\n+                \"linker_param_file\",\r\n+                \"msvc_env\",\r\n+                \"no_stripping\",\r\n+                \"has_configured_linker_path\",\r\n+                \"def_file\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_link_path)],\r\n+        )\r\n+\r\n+        cpp_link_static_library_action = action_config(\r\n+            action_name = ACTION_NAMES.cpp_link_static_library,\r\n+            implies = [\r\n+                \"nologo\",\r\n+                \"archiver_flags\",\r\n+                \"input_param_flags\",\r\n+                \"linker_param_file\",\r\n+                \"msvc_env\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_lib_path)],\r\n+        )\r\n+\r\n+        assemble_action = action_config(\r\n+            action_name = ACTION_NAMES.assemble,\r\n+            implies = [\r\n+                \"compiler_input_flags\",\r\n+                \"compiler_output_flags\",\r\n+                \"nologo\",\r\n+                \"msvc_env\",\r\n+                \"sysroot\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_ml_path)],\r\n+        )\r\n+\r\n+        preprocess_assemble_action = action_config(\r\n+            action_name = ACTION_NAMES.preprocess_assemble,\r\n+            implies = [\r\n+                \"compiler_input_flags\",\r\n+                \"compiler_output_flags\",\r\n+                \"nologo\",\r\n+                \"msvc_env\",\r\n+                \"sysroot\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_ml_path)],\r\n+        )\r\n+\r\n+        c_compile_action = action_config(\r\n+            action_name = ACTION_NAMES.c_compile,\r\n+            implies = [\r\n+                \"compiler_input_flags\",\r\n+                \"compiler_output_flags\",\r\n+                \"nologo\",\r\n+                \"msvc_env\",\r\n+                \"parse_showincludes\",\r\n+                \"user_compile_flags\",\r\n+                \"sysroot\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_cl_path)],\r\n+        )\r\n+\r\n+        linkstamp_compile_action = action_config(\r\n+            action_name = ACTION_NAMES.linkstamp_compile,\r\n+            implies = [\r\n+                \"compiler_input_flags\",\r\n+                \"compiler_output_flags\",\r\n+                \"default_compile_flags\",\r\n+                \"nologo\",\r\n+                \"msvc_env\",\r\n+                \"parse_showincludes\",\r\n+                \"user_compile_flags\",\r\n+                \"sysroot\",\r\n+                \"unfiltered_compile_flags\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_cl_path)],\r\n+        )\r\n+\r\n+        cpp_compile_action = action_config(\r\n+            action_name = ACTION_NAMES.cpp_compile,\r\n+            implies = [\r\n+                \"compiler_input_flags\",\r\n+                \"compiler_output_flags\",\r\n+                \"nologo\",\r\n+                \"msvc_env\",\r\n+                \"parse_showincludes\",\r\n+                \"user_compile_flags\",\r\n+                \"sysroot\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_cl_path)],\r\n+        )\r\n+\r\n+        cpp_link_executable_action = action_config(\r\n+            action_name = ACTION_NAMES.cpp_link_executable,\r\n+            implies = [\r\n+                \"nologo\",\r\n+                \"linkstamps\",\r\n+                \"output_execpath_flags\",\r\n+                \"input_param_flags\",\r\n+                \"user_link_flags\",\r\n+                \"linker_subsystem_flag\",\r\n+                \"linker_param_file\",\r\n+                \"msvc_env\",\r\n+                \"no_stripping\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_link_path)],\r\n+        )\r\n+\r\n+        cpp_link_dynamic_library_action = action_config(\r\n+            action_name = ACTION_NAMES.cpp_link_dynamic_library,\r\n+            implies = [\r\n+                \"nologo\",\r\n+                \"shared_flag\",\r\n+                \"linkstamps\",\r\n+                \"output_execpath_flags\",\r\n+                \"input_param_flags\",\r\n+                \"user_link_flags\",\r\n+                \"linker_subsystem_flag\",\r\n+                \"linker_param_file\",\r\n+                \"msvc_env\",\r\n+                \"no_stripping\",\r\n+                \"has_configured_linker_path\",\r\n+                \"def_file\",\r\n+            ],\r\n+            tools = [tool(path = ctx.attr.msvc_link_path)],\r\n+        )\r\n+\r\n+        action_configs = [\r\n+            assemble_action,\r\n+            preprocess_assemble_action,\r\n+            c_compile_action,\r\n+            linkstamp_compile_action,\r\n+            cpp_compile_action,\r\n+            cpp_link_executable_action,\r\n+            cpp_link_dynamic_library_action,\r\n+            cpp_link_nodeps_dynamic_library_action,\r\n+            cpp_link_static_library_action,\r\n+        ]\r\n+    else:\r\n+        action_configs = []\r\n+\r\n+    if _use_msvc_toolchain(ctx):\r\n+        msvc_link_env_feature = feature(\r\n+            name = \"msvc_link_env\",\r\n+            env_sets = [\r\n+                env_set(\r\n+                    actions = all_link_actions +\r\n+                              [ACTION_NAMES.cpp_link_static_library],\r\n+                    env_entries = [env_entry(key = \"LIB\", value = ctx.attr.msvc_env_lib)],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        shared_flag_feature = feature(\r\n+            name = \"shared_flag\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                    ],\r\n+                    flag_groups = [flag_group(flags = [\"/DLL\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        determinism_feature = feature(\r\n+            name = \"determinism\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\r\n+                                \"/wd4117\",\r\n+                                \"-D__DATE__=\\\"redacted\\\"\",\r\n+                                \"-D__TIMESTAMP__=\\\"redacted\\\"\",\r\n+                                \"-D__TIME__=\\\"redacted\\\"\",\r\n+                            ] + ([\"-Wno-builtin-macro-redefined\"] if ctx.attr.compiler == \"clang-cl\" else []),\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        sysroot_feature = feature(\r\n+            name = \"sysroot\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.cpp_link_executable,\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"--sysroot=%{sysroot}\"],\r\n+                            iterate_over = \"sysroot\",\r\n+                            expand_if_available = \"sysroot\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        unfiltered_compile_flags_feature = feature(\r\n+            name = \"unfiltered_compile_flags\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"%{unfiltered_compile_flags}\"],\r\n+                            iterate_over = \"unfiltered_compile_flags\",\r\n+                            expand_if_available = \"unfiltered_compile_flags\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        archive_param_file_feature = feature(\r\n+            name = \"archive_param_file\",\r\n+            enabled = True,\r\n+        )\r\n+\r\n+        compiler_param_file_feature = feature(\r\n+            name = \"compiler_param_file\",\r\n+        )\r\n+\r\n+        copy_dynamic_libraries_to_binary_feature = feature(\r\n+            name = \"copy_dynamic_libraries_to_binary\",\r\n+        )\r\n+\r\n+        input_param_flags_feature = feature(\r\n+            name = \"input_param_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/IMPLIB:%{interface_library_output_path}\"],\r\n+                            expand_if_available = \"interface_library_output_path\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"%{libopts}\"],\r\n+                            iterate_over = \"libopts\",\r\n+                            expand_if_available = \"libopts\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions +\r\n+                              [ACTION_NAMES.cpp_link_static_library],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            iterate_over = \"libraries_to_link\",\r\n+                            flag_groups = [\r\n+                                flag_group(\r\n+                                    iterate_over = \"libraries_to_link.object_files\",\r\n+                                    flag_groups = [flag_group(flags = [\"%{libraries_to_link.object_files}\"])],\r\n+                                    expand_if_equal = variable_with_value(\r\n+                                        name = \"libraries_to_link.type\",\r\n+                                        value = \"object_file_group\",\r\n+                                    ),\r\n+                                ),\r\n+                                flag_group(\r\n+                                    flag_groups = [flag_group(flags = [\"%{libraries_to_link.name}\"])],\r\n+                                    expand_if_equal = variable_with_value(\r\n+                                        name = \"libraries_to_link.type\",\r\n+                                        value = \"object_file\",\r\n+                                    ),\r\n+                                ),\r\n+                                flag_group(\r\n+                                    flag_groups = [flag_group(flags = [\"%{libraries_to_link.name}\"])],\r\n+                                    expand_if_equal = variable_with_value(\r\n+                                        name = \"libraries_to_link.type\",\r\n+                                        value = \"interface_library\",\r\n+                                    ),\r\n+                                ),\r\n+                                flag_group(\r\n+                                    flag_groups = [\r\n+                                        flag_group(\r\n+                                            flags = [\"%{libraries_to_link.name}\"],\r\n+                                            expand_if_false = \"libraries_to_link.is_whole_archive\",\r\n+                                        ),\r\n+                                        flag_group(\r\n+                                            flags = [\"/WHOLEARCHIVE:%{libraries_to_link.name}\"],\r\n+                                            expand_if_true = \"libraries_to_link.is_whole_archive\",\r\n+                                        ),\r\n+                                    ],\r\n+                                    expand_if_equal = variable_with_value(\r\n+                                        name = \"libraries_to_link.type\",\r\n+                                        value = \"static_library\",\r\n+                                    ),\r\n+                                ),\r\n+                            ],\r\n+                            expand_if_available = \"libraries_to_link\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        fastbuild_feature = feature(\r\n+            name = \"fastbuild\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/Od\", \"/Z7\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [ctx.attr.fastbuild_mode_debug_flag, \"/INCREMENTAL:NO\"],\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+            implies = [\"generate_pdb_file\"],\r\n+        )\r\n+\r\n+        user_compile_flags_feature = feature(\r\n+            name = \"user_compile_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"%{user_compile_flags}\"],\r\n+                            iterate_over = \"user_compile_flags\",\r\n+                            expand_if_available = \"user_compile_flags\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        archiver_flags_feature = feature(\r\n+            name = \"archiver_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.cpp_link_static_library],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/OUT:%{output_execpath}\"],\r\n+                            expand_if_available = \"output_execpath\",\r\n+                        ),\r\n+                        flag_group(\r\n+                            flags = ctx.attr.archiver_flags,\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        default_link_flags_feature = feature(\r\n+            name = \"default_link_flags\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = ctx.attr.default_link_flags)],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        static_link_msvcrt_feature = feature(\r\n+            name = \"static_link_msvcrt\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/MT\"])],\r\n+                    with_features = [with_feature_set(not_features = [\"dbg\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/MTd\"])],\r\n+                    with_features = [with_feature_set(features = [\"dbg\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/DEFAULTLIB:libcmt.lib\"])],\r\n+                    with_features = [with_feature_set(not_features = [\"dbg\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/DEFAULTLIB:libcmtd.lib\"])],\r\n+                    with_features = [with_feature_set(features = [\"dbg\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        dynamic_link_msvcrt_feature = feature(\r\n+            name = \"dynamic_link_msvcrt\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/MD\"])],\r\n+                    with_features = [with_feature_set(not_features = [\"dbg\", \"static_link_msvcrt\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/MDd\"])],\r\n+                    with_features = [with_feature_set(features = [\"dbg\"], not_features = [\"static_link_msvcrt\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/DEFAULTLIB:msvcrt.lib\"])],\r\n+                    with_features = [with_feature_set(not_features = [\"dbg\", \"static_link_msvcrt\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/DEFAULTLIB:msvcrtd.lib\"])],\r\n+                    with_features = [with_feature_set(features = [\"dbg\"], not_features = [\"static_link_msvcrt\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        dbg_feature = feature(\r\n+            name = \"dbg\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/Od\", \"/Z7\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [ctx.attr.dbg_mode_debug_flag, \"/INCREMENTAL:NO\"],\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+            implies = [\"generate_pdb_file\"],\r\n+        )\r\n+\r\n+        opt_feature = feature(\r\n+            name = \"opt\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/O2\"])],\r\n+                ),\r\n+            ],\r\n+            implies = [\"frame_pointer\"],\r\n+        )\r\n+\r\n+        supports_interface_shared_libraries_feature = feature(\r\n+            name = \"supports_interface_shared_libraries\",\r\n+            enabled = True,\r\n+        )\r\n+\r\n+        user_link_flags_feature = feature(\r\n+            name = \"user_link_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"%{user_link_flags}\"],\r\n+                            iterate_over = \"user_link_flags\",\r\n+                            expand_if_available = \"user_link_flags\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        default_compile_flags_feature = feature(\r\n+            name = \"default_compile_flags\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.lto_backend,\r\n+                        ACTION_NAMES.clif_match,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\r\n+                                \"/DCOMPILER_MSVC\",\r\n+                                \"/DNOMINMAX\",\r\n+                                \"/D_WIN32_WINNT=0x0601\",\r\n+                                \"/D_CRT_SECURE_NO_DEPRECATE\",\r\n+                                \"/D_CRT_SECURE_NO_WARNINGS\",\r\n+                                \"/bigobj\",\r\n+                                \"/Zm500\",\r\n+                                \"/EHsc\",\r\n+                                \"/wd4351\",\r\n+                                \"/wd4291\",\r\n+                                \"/wd4250\",\r\n+                                \"/wd4996\",\r\n+                            ],\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        msvc_compile_env_feature = feature(\r\n+            name = \"msvc_compile_env\",\r\n+            env_sets = [\r\n+                env_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                    ],\r\n+                    env_entries = [env_entry(key = \"INCLUDE\", value = ctx.attr.msvc_env_include)],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        preprocessor_defines_feature = feature(\r\n+            name = \"preprocessor_defines\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/D%{preprocessor_defines}\"],\r\n+                            iterate_over = \"preprocessor_defines\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        generate_pdb_file_feature = feature(\r\n+            name = \"generate_pdb_file\",\r\n+        )\r\n+\r\n+        output_execpath_flags_feature = feature(\r\n+            name = \"output_execpath_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/OUT:%{output_execpath}\"],\r\n+                            expand_if_available = \"output_execpath\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        disable_assertions_feature = feature(\r\n+            name = \"disable_assertions\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/DNDEBUG\"])],\r\n+                    with_features = [with_feature_set(features = [\"opt\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        has_configured_linker_path_feature = feature(name = \"has_configured_linker_path\")\r\n+\r\n+        supports_dynamic_linker_feature = feature(name = \"supports_dynamic_linker\", enabled = True)\r\n+\r\n+        no_stripping_feature = feature(name = \"no_stripping\")\r\n+\r\n+        linker_param_file_feature = feature(\r\n+            name = \"linker_param_file\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions +\r\n+                              [ACTION_NAMES.cpp_link_static_library],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"@%{linker_param_file}\"],\r\n+                            expand_if_available = \"linker_param_file\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        ignore_noisy_warnings_feature = feature(\r\n+            name = \"ignore_noisy_warnings\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.cpp_link_static_library],\r\n+                    flag_groups = [flag_group(flags = [\"/ignore:4221\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        no_legacy_features_feature = feature(name = \"no_legacy_features\")\r\n+\r\n+        parse_showincludes_feature = feature(\r\n+            name = \"parse_showincludes\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                    ],\r\n+                    flag_groups = [flag_group(flags = [\"/showIncludes\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        treat_warnings_as_errors_feature = feature(\r\n+            name = \"treat_warnings_as_errors\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile] + all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/WX\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        windows_export_all_symbols_feature = feature(name = \"windows_export_all_symbols\")\r\n+\r\n+        no_windows_export_all_symbols_feature = feature(name = \"no_windows_export_all_symbols\")\r\n+\r\n+        include_paths_feature = feature(\r\n+            name = \"include_paths\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/I%{quote_include_paths}\"],\r\n+                            iterate_over = \"quote_include_paths\",\r\n+                        ),\r\n+                        flag_group(\r\n+                            flags = [\"/I%{include_paths}\"],\r\n+                            iterate_over = \"include_paths\",\r\n+                        ),\r\n+                        flag_group(\r\n+                            flags = [\"/I%{system_include_paths}\"],\r\n+                            iterate_over = \"system_include_paths\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        linkstamps_feature = feature(\r\n+            name = \"linkstamps\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"%{linkstamp_paths}\"],\r\n+                            iterate_over = \"linkstamp_paths\",\r\n+                            expand_if_available = \"linkstamp_paths\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        targets_windows_feature = feature(\r\n+            name = \"targets_windows\",\r\n+            enabled = True,\r\n+            implies = [\"copy_dynamic_libraries_to_binary\"],\r\n+        )\r\n+\r\n+        linker_subsystem_flag_feature = feature(\r\n+            name = \"linker_subsystem_flag\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/SUBSYSTEM:CONSOLE\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        frame_pointer_feature = feature(\r\n+            name = \"frame_pointer\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/Oy-\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        compiler_output_flags_feature = feature(\r\n+            name = \"compiler_output_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.assemble],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flag_groups = [\r\n+                                flag_group(\r\n+                                    flags = [\"/Fo%{output_file}\", \"/Zi\"],\r\n+                                    expand_if_available = \"output_file\",\r\n+                                    expand_if_not_available = \"output_assembly_file\",\r\n+                                ),\r\n+                            ],\r\n+                            expand_if_not_available = \"output_preprocess_file\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flag_groups = [\r\n+                                flag_group(\r\n+                                    flags = [\"/Fo%{output_file}\"],\r\n+                                    expand_if_not_available = \"output_preprocess_file\",\r\n+                                ),\r\n+                            ],\r\n+                            expand_if_available = \"output_file\",\r\n+                            expand_if_not_available = \"output_assembly_file\",\r\n+                        ),\r\n+                        flag_group(\r\n+                            flag_groups = [\r\n+                                flag_group(\r\n+                                    flags = [\"/Fa%{output_file}\"],\r\n+                                    expand_if_available = \"output_assembly_file\",\r\n+                                ),\r\n+                            ],\r\n+                            expand_if_available = \"output_file\",\r\n+                        ),\r\n+                        flag_group(\r\n+                            flag_groups = [\r\n+                                flag_group(\r\n+                                    flags = [\"/P\", \"/Fi%{output_file}\"],\r\n+                                    expand_if_available = \"output_preprocess_file\",\r\n+                                ),\r\n+                            ],\r\n+                            expand_if_available = \"output_file\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        nologo_feature = feature(\r\n+            name = \"nologo\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.cpp_link_executable,\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_static_library,\r\n+                    ],\r\n+                    flag_groups = [flag_group(flags = [\"/nologo\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        smaller_binary_feature = feature(\r\n+            name = \"smaller_binary\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"/Gy\", \"/Gw\"])],\r\n+                    with_features = [with_feature_set(features = [\"opt\"])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"/OPT:ICF\", \"/OPT:REF\"])],\r\n+                    with_features = [with_feature_set(features = [\"opt\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        compiler_input_flags_feature = feature(\r\n+            name = \"compiler_input_flags\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                    ],\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/c\", \"%{source_file}\"],\r\n+                            expand_if_available = \"source_file\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        def_file_feature = feature(\r\n+            name = \"def_file\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [\r\n+                        flag_group(\r\n+                            flags = [\"/DEF:%{def_file_path}\", \"/ignore:4070\"],\r\n+                            expand_if_available = \"def_file_path\",\r\n+                        ),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        msvc_env_feature = feature(\r\n+            name = \"msvc_env\",\r\n+            env_sets = [\r\n+                env_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.cpp_link_executable,\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_static_library,\r\n+                    ],\r\n+                    env_entries = [\r\n+                        env_entry(key = \"PATH\", value = ctx.attr.msvc_env_path),\r\n+                        env_entry(key = \"TMP\", value = ctx.attr.msvc_env_tmp),\r\n+                        env_entry(key = \"TEMP\", value = ctx.attr.msvc_env_tmp),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+            implies = [\"msvc_compile_env\", \"msvc_link_env\"],\r\n+        )\r\n+        features = [\r\n+            no_legacy_features_feature,\r\n+            nologo_feature,\r\n+            has_configured_linker_path_feature,\r\n+            no_stripping_feature,\r\n+            targets_windows_feature,\r\n+            copy_dynamic_libraries_to_binary_feature,\r\n+            default_compile_flags_feature,\r\n+            msvc_env_feature,\r\n+            msvc_compile_env_feature,\r\n+            msvc_link_env_feature,\r\n+            include_paths_feature,\r\n+            preprocessor_defines_feature,\r\n+            parse_showincludes_feature,\r\n+            generate_pdb_file_feature,\r\n+            shared_flag_feature,\r\n+            linkstamps_feature,\r\n+            output_execpath_flags_feature,\r\n+            archiver_flags_feature,\r\n+            input_param_flags_feature,\r\n+            linker_subsystem_flag_feature,\r\n+            user_link_flags_feature,\r\n+            default_link_flags_feature,\r\n+            linker_param_file_feature,\r\n+            static_link_msvcrt_feature,\r\n+            dynamic_link_msvcrt_feature,\r\n+            dbg_feature,\r\n+            fastbuild_feature,\r\n+            opt_feature,\r\n+            frame_pointer_feature,\r\n+            disable_assertions_feature,\r\n+            determinism_feature,\r\n+            treat_warnings_as_errors_feature,\r\n+            smaller_binary_feature,\r\n+            ignore_noisy_warnings_feature,\r\n+            user_compile_flags_feature,\r\n+            sysroot_feature,\r\n+            unfiltered_compile_flags_feature,\r\n+            archive_param_file_feature,\r\n+            compiler_param_file_feature,\r\n+            compiler_output_flags_feature,\r\n+            compiler_input_flags_feature,\r\n+            def_file_feature,\r\n+            windows_export_all_symbols_feature,\r\n+            no_windows_export_all_symbols_feature,\r\n+            supports_dynamic_linker_feature,\r\n+            supports_interface_shared_libraries_feature,\r\n+        ]\r\n+    else:\r\n+        targets_windows_feature = feature(\r\n+            name = \"targets_windows\",\r\n+            implies = [\"copy_dynamic_libraries_to_binary\"],\r\n+            enabled = True,\r\n+        )\r\n+\r\n+        copy_dynamic_libraries_to_binary_feature = feature(name = \"copy_dynamic_libraries_to_binary\")\r\n+\r\n+        gcc_env_feature = feature(\r\n+            name = \"gcc_env\",\r\n+            enabled = True,\r\n+            env_sets = [\r\n+                env_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.c_compile,\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.assemble,\r\n+                        ACTION_NAMES.preprocess_assemble,\r\n+                        ACTION_NAMES.cpp_link_executable,\r\n+                        ACTION_NAMES.cpp_link_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                        ACTION_NAMES.cpp_link_static_library,\r\n+                    ],\r\n+                    env_entries = [\r\n+                        env_entry(key = \"PATH\", value = ctx.attr.tool_bin_path),\r\n+                    ],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        default_compile_flags_feature = feature(\r\n+            name = \"default_compile_flags\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [\r\n+                        ACTION_NAMES.linkstamp_compile,\r\n+                        ACTION_NAMES.cpp_compile,\r\n+                        ACTION_NAMES.cpp_header_parsing,\r\n+                        ACTION_NAMES.cpp_module_compile,\r\n+                        ACTION_NAMES.cpp_module_codegen,\r\n+                        ACTION_NAMES.lto_backend,\r\n+                        ACTION_NAMES.clif_match,\r\n+                    ],\r\n+                    flag_groups = [flag_group(flags = [\"-std=c++14\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        default_link_flags_feature = feature(\r\n+            name = \"default_link_flags\",\r\n+            enabled = True,\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"-lstdc++\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        supports_dynamic_linker_feature = feature(\r\n+            name = \"supports_dynamic_linker\",\r\n+            enabled = True,\r\n+        )\r\n+\r\n+        dbg_feature = feature(\r\n+            name = \"dbg\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\"-g\", \"-Og\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        opt_feature = feature(\r\n+            name = \"opt\",\r\n+            flag_sets = [\r\n+                flag_set(\r\n+                    actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                    flag_groups = [flag_group(flags = [\r\n+                        \"-g0\",\r\n+                        \"-O3\",\r\n+                        \"-DNDEBUG\",\r\n+                        \"-ffunction-sections\",\r\n+                        \"-fdata-sections\",\r\n+                    ])],\r\n+                ),\r\n+                flag_set(\r\n+                    actions = all_link_actions,\r\n+                    flag_groups = [flag_group(flags = [\"-Wl,--gc-sections\"])],\r\n+                ),\r\n+            ],\r\n+        )\r\n+\r\n+        if ctx.attr.cpu == \"x64_windows\" and ctx.attr.compiler == \"mingw-gcc\":\r\n+            archive_param_file_feature = feature(\r\n+                name = \"archive_param_file\",\r\n+                enabled = True,\r\n+            )\r\n+\r\n+            compiler_param_file_feature = feature(\r\n+                name = \"compiler_param_file\",\r\n+            )\r\n+\r\n+            features = [\r\n+                targets_windows_feature,\r\n+                copy_dynamic_libraries_to_binary_feature,\r\n+                gcc_env_feature,\r\n+                default_compile_flags_feature,\r\n+                archive_param_file_feature,\r\n+                compiler_param_file_feature,\r\n+                default_link_flags_feature,\r\n+                supports_dynamic_linker_feature,\r\n+                dbg_feature,\r\n+                opt_feature,\r\n+            ]\r\n+        else:\r\n+            supports_pic_feature = feature(\r\n+                name = \"supports_pic\",\r\n+                enabled = True,\r\n+            )\r\n+\r\n+            sysroot_feature = feature(\r\n+                name = \"sysroot\",\r\n+                enabled = True,\r\n+                flag_sets = [\r\n+                    flag_set(\r\n+                        actions = [\r\n+                            ACTION_NAMES.preprocess_assemble,\r\n+                            ACTION_NAMES.linkstamp_compile,\r\n+                            ACTION_NAMES.c_compile,\r\n+                            ACTION_NAMES.cpp_compile,\r\n+                            ACTION_NAMES.cpp_header_parsing,\r\n+                            ACTION_NAMES.cpp_module_compile,\r\n+                            ACTION_NAMES.cpp_module_codegen,\r\n+                            ACTION_NAMES.lto_backend,\r\n+                            ACTION_NAMES.clif_match,\r\n+                            ACTION_NAMES.cpp_link_executable,\r\n+                            ACTION_NAMES.cpp_link_dynamic_library,\r\n+                            ACTION_NAMES.cpp_link_nodeps_dynamic_library,\r\n+                        ],\r\n+                        flag_groups = [\r\n+                            flag_group(\r\n+                                flags = [\"--sysroot=%{sysroot}\"],\r\n+                                expand_if_available = \"sysroot\",\r\n+                            ),\r\n+                        ],\r\n+                    ),\r\n+                ],\r\n+            )\r\n+\r\n+            fdo_optimize_feature = feature(\r\n+                name = \"fdo_optimize\",\r\n+                flag_sets = [\r\n+                    flag_set(\r\n+                        actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                        flag_groups = [\r\n+                            flag_group(\r\n+                                flags = [\r\n+                                    \"-fprofile-use=%{fdo_profile_path}\",\r\n+                                    \"-fprofile-correction\",\r\n+                                ],\r\n+                                expand_if_available = \"fdo_profile_path\",\r\n+                            ),\r\n+                        ],\r\n+                    ),\r\n+                ],\r\n+                provides = [\"profile\"],\r\n+            )\r\n+\r\n+            treat_warnings_as_errors_feature = feature(\r\n+                name = \"treat_warnings_as_errors\",\r\n+                flag_sets = [\r\n+                    flag_set(\r\n+                        actions = [ACTION_NAMES.c_compile, ACTION_NAMES.cpp_compile],\r\n+                        flag_groups = [flag_group(flags = [\"-Werror\"])],\r\n+                    ),\r\n+                    flag_set(\r\n+                        actions = all_link_actions,\r\n+                        flag_groups = [flag_group(flags = [\"-Wl,-fatal-warnings\"])],\r\n+                    ),\r\n+                ],\r\n+            )\r\n+\r\n+            user_compile_flags_feature = feature(\r\n+                name = \"user_compile_flags\",\r\n+                enabled = True,\r\n+                flag_sets = [\r\n+                    flag_set(\r\n+                        actions = [\r\n+                            ACTION_NAMES.assemble,\r\n+                            ACTION_NAMES.preprocess_assemble,\r\n+                            ACTION_NAMES.linkstamp_compile,\r\n+                            ACTION_NAMES.c_compile,\r\n+                            ACTION_NAMES.cpp_compile,\r\n+                            ACTION_NAMES.cpp_header_parsing,\r\n+                            ACTION_NAMES.cpp_module_compile,\r\n+                            ACTION_NAMES.cpp_module_codegen,\r\n+                            ACTION_NAMES.lto_backend,\r\n+                            ACTION_NAMES.clif_match,\r\n+                        ],\r\n+                        flag_groups = [\r\n+                            flag_group(\r\n+                                flags = [\"%{user_compile_flags}\"],\r\n+                                iterate_over = \"user_compile_flags\",\r\n+                                expand_if_available = \"user_compile_flags\",\r\n+                            ),\r\n+                        ],\r\n+                    ),\r\n+                ],\r\n+            )\r\n+\r\n+            features = [\r\n+                targets_windows_feature,\r\n+                copy_dynamic_libraries_to_binary_feature,\r\n+                gcc_env_feature,\r\n+                supports_pic_feature,\r\n+                default_compile_flags_feature,\r\n+                default_link_flags_feature,\r\n+                fdo_optimize_feature,\r\n+                supports_dynamic_linker_feature,\r\n+                dbg_feature,\r\n+                opt_feature,\r\n+                user_compile_flags_feature,\r\n+                treat_warnings_as_errors_feature,\r\n+                sysroot_feature,\r\n+            ]\r\n+\r\n+    tool_paths = [\r\n+        tool_path(name = name, path = path)\r\n+        for name, path in ctx.attr.tool_paths.items()\r\n+    ]\r\n+\r\n+    return cc_common.create_cc_toolchain_config_info(\r\n+        ctx = ctx,\r\n+        features = features,\r\n+        action_configs = action_configs,\r\n+        artifact_name_patterns = artifact_name_patterns,\r\n+        cxx_builtin_include_directories = ctx.attr.cxx_builtin_include_directories,\r\n+        toolchain_identifier = ctx.attr.toolchain_identifier,\r\n+        host_system_name = ctx.attr.host_system_name,\r\n+        target_system_name = ctx.attr.target_system_name,\r\n+        target_cpu = ctx.attr.cpu,\r\n+        target_libc = ctx.attr.target_libc,\r\n+        compiler = ctx.attr.compiler,\r\n+        abi_version = ctx.attr.abi_version,\r\n+        abi_libc_version = ctx.attr.abi_libc_version,\r\n+        tool_paths = tool_paths,\r\n+    )\r\n+\r\n+cc_toolchain_config = rule(\r\n+    implementation = _impl,\r\n+    attrs = {\r\n+        \"cpu\": attr.string(mandatory = True),\r\n+        \"compiler\": attr.string(),\r\n+        \"toolchain_identifier\": attr.string(),\r\n+        \"host_system_name\": attr.string(),\r\n+        \"target_system_name\": attr.string(),\r\n+        \"target_libc\": attr.string(),\r\n+        \"abi_version\": attr.string(),\r\n+        \"abi_libc_version\": attr.string(),\r\n+        \"tool_paths\": attr.string_dict(),\r\n+        \"cxx_builtin_include_directories\": attr.string_list(),\r\n+        \"archiver_flags\": attr.string_list(default = []),\r\n+        \"default_link_flags\": attr.string_list(default = []),\r\n+        \"msvc_env_tmp\": attr.string(default = \"msvc_not_found\"),\r\n+        \"msvc_env_path\": attr.string(default = \"msvc_not_found\"),\r\n+        \"msvc_env_include\": attr.string(default = \"msvc_not_found\"),\r\n+        \"msvc_env_lib\": attr.string(default = \"msvc_not_found\"),\r\n+        \"msvc_cl_path\": attr.string(default = \"vc_installation_error.bat\"),\r\n+        \"msvc_ml_path\": attr.string(default = \"vc_installation_error.bat\"),\r\n+        \"msvc_link_path\": attr.string(default = \"vc_installation_error.bat\"),\r\n+        \"msvc_lib_path\": attr.string(default = \"vc_installation_error.bat\"),\r\n+        \"dbg_mode_debug_flag\": attr.string(),\r\n+        \"fastbuild_mode_debug_flag\": attr.string(),\r\n+        \"tool_bin_path\": attr.string(default = \"not_found\"),\r\n+    },\r\n+    provides = [CcToolchainConfigInfo],\r\n+)\r\n</details></pre>\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1587819144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1587823090","html_url":"https://github.com/bazelbuild/bazel/issues/18632#issuecomment-1587823090","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18632","id":1587823090,"node_id":"IC_kwDOATz7jc5epEHy","user":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-12T18:04:52Z","updated_at":"2023-06-12T18:04:52Z","body":"It looks like MSVC, GCC, and Clang all have a non-standard extension where `##__VA_ARGS__` (with leading `##`) will elide the previous comma if there are no arguments. So that would fix the problem and would be widely compatible.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1587823090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1588916442","html_url":"https://github.com/bazelbuild/bazel/issues/18632#issuecomment-1588916442","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18632","id":1588916442,"node_id":"IC_kwDOATz7jc5etPDa","user":{"login":"meisterT","id":418721,"node_id":"MDQ6VXNlcjQxODcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/418721?v=4","gravatar_id":"","url":"https://api.github.com/users/meisterT","html_url":"https://github.com/meisterT","followers_url":"https://api.github.com/users/meisterT/followers","following_url":"https://api.github.com/users/meisterT/following{/other_user}","gists_url":"https://api.github.com/users/meisterT/gists{/gist_id}","starred_url":"https://api.github.com/users/meisterT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meisterT/subscriptions","organizations_url":"https://api.github.com/users/meisterT/orgs","repos_url":"https://api.github.com/users/meisterT/repos","events_url":"https://api.github.com/users/meisterT/events{/privacy}","received_events_url":"https://api.github.com/users/meisterT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T09:34:10Z","updated_at":"2023-06-13T09:34:10Z","body":"@jayconrod sounds good, do you want to send a PR?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1588916442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"meisterT","id":418721,"node_id":"MDQ6VXNlcjQxODcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/418721?v=4","gravatar_id":"","url":"https://api.github.com/users/meisterT","html_url":"https://github.com/meisterT","followers_url":"https://api.github.com/users/meisterT/followers","following_url":"https://api.github.com/users/meisterT/following{/other_user}","gists_url":"https://api.github.com/users/meisterT/gists{/gist_id}","starred_url":"https://api.github.com/users/meisterT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meisterT/subscriptions","organizations_url":"https://api.github.com/users/meisterT/orgs","repos_url":"https://api.github.com/users/meisterT/repos","events_url":"https://api.github.com/users/meisterT/events{/privacy}","received_events_url":"https://api.github.com/users/meisterT/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9513613777,"node_id":"MEE_lADOATz7jc5oV6wNzwAAAAI3DjnR","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9513613777","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-13T09:34:10Z","performed_via_github_app":null},{"id":9513613790,"node_id":"SE_lADOATz7jc5oV6wNzwAAAAI3Djne","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9513613790","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-13T09:34:10Z","performed_via_github_app":null},{"id":9513617317,"node_id":"UNLE_lADOATz7jc5oV6wNzwAAAAI3Dkel","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9513617317","actor":{"login":"coeuvre","id":5947531,"node_id":"MDQ6VXNlcjU5NDc1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/5947531?v=4","gravatar_id":"","url":"https://api.github.com/users/coeuvre","html_url":"https://github.com/coeuvre","followers_url":"https://api.github.com/users/coeuvre/followers","following_url":"https://api.github.com/users/coeuvre/following{/other_user}","gists_url":"https://api.github.com/users/coeuvre/gists{/gist_id}","starred_url":"https://api.github.com/users/coeuvre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coeuvre/subscriptions","organizations_url":"https://api.github.com/users/coeuvre/orgs","repos_url":"https://api.github.com/users/coeuvre/repos","events_url":"https://api.github.com/users/coeuvre/events{/privacy}","received_events_url":"https://api.github.com/users/coeuvre/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-06-13T09:34:25Z","label":{"name":"untriaged","color":"c34ddd"},"performed_via_github_app":null},{"id":9513617329,"node_id":"LE_lADOATz7jc5oV6wNzwAAAAI3Dkex","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9513617329","actor":{"login":"coeuvre","id":5947531,"node_id":"MDQ6VXNlcjU5NDc1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/5947531?v=4","gravatar_id":"","url":"https://api.github.com/users/coeuvre","html_url":"https://github.com/coeuvre","followers_url":"https://api.github.com/users/coeuvre/followers","following_url":"https://api.github.com/users/coeuvre/following{/other_user}","gists_url":"https://api.github.com/users/coeuvre/gists{/gist_id}","starred_url":"https://api.github.com/users/coeuvre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coeuvre/subscriptions","organizations_url":"https://api.github.com/users/coeuvre/orgs","repos_url":"https://api.github.com/users/coeuvre/repos","events_url":"https://api.github.com/users/coeuvre/events{/privacy}","received_events_url":"https://api.github.com/users/coeuvre/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-06-13T09:34:25Z","label":{"name":"P2","color":"e99695"},"performed_via_github_app":null},{"id":9519872419,"node_id":"REFE_lADOATz7jc5oV6wNzwAAAAI3bbmj","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9519872419","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c3028367e1882061e19804f2ab29ada2b80221ef","commit_url":"https://api.github.com/repos/EngFlow/bazel/commits/c3028367e1882061e19804f2ab29ada2b80221ef","created_at":"2023-06-13T18:48:04Z","performed_via_github_app":null},{"actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T18:50:27Z","updated_at":"2023-06-13T18:50:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660/events","html_url":"https://github.com/bazelbuild/bazel/pull/18660","id":1755471678,"node_id":"PR_kwDOATz7jc5S6yqq","number":18660,"title":"singlejar: fixes to build with msys2 on Windows","user":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1020663976,"node_id":"MDU6TGFiZWwxMDIwNjYzOTc2","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Rules-Java","name":"team-Rules-Java","color":"f1f442","default":false,"description":"Issues for Java rules"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-06-13T18:50:27Z","updated_at":"2023-06-15T04:43:20Z","closed_at":"2023-06-15T04:20:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bazelbuild/bazel/pulls/18660","html_url":"https://github.com/bazelbuild/bazel/pull/18660","diff_url":"https://github.com/bazelbuild/bazel/pull/18660.diff","patch_url":"https://github.com/bazelbuild/bazel/pull/18660.patch","merged_at":null},"body":"singlejar is a C++ tool that Bazel builds for the executor platform. This change resolves some compile-time errors on Windows with msys2.\r\n\r\nIn src/tools/singlejar/diag.h, use `##__VA_ARGS__` instead of `__VA_ARGS__`. This uses a language extension implemented in MSVC, GCC, and Clang that elides the leading comma when there are no arguments. MSVC did this implicitly without `##`, which is why this compiles now.\r\n\r\nIn src/main/util/numbers.h, include `<cstdint>` for `int32_t`.\r\n\r\nFixes #18632","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18660/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1589854269","html_url":"https://github.com/bazelbuild/bazel/issues/18632#issuecomment-1589854269","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/18632","id":1589854269,"node_id":"IC_kwDOATz7jc5ew0A9","user":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-13T18:51:26Z","updated_at":"2023-06-13T18:51:26Z","body":"Thanks, I think #18660 should fix it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/1589854269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jayconrod","id":164791,"node_id":"MDQ6VXNlcjE2NDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/164791?v=4","gravatar_id":"","url":"https://api.github.com/users/jayconrod","html_url":"https://github.com/jayconrod","followers_url":"https://api.github.com/users/jayconrod/followers","following_url":"https://api.github.com/users/jayconrod/following{/other_user}","gists_url":"https://api.github.com/users/jayconrod/gists{/gist_id}","starred_url":"https://api.github.com/users/jayconrod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayconrod/subscriptions","organizations_url":"https://api.github.com/users/jayconrod/orgs","repos_url":"https://api.github.com/users/jayconrod/repos","events_url":"https://api.github.com/users/jayconrod/events{/privacy}","received_events_url":"https://api.github.com/users/jayconrod/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9535409186,"node_id":"CE_lADOATz7jc5oV6wNzwAAAAI4Wswi","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9535409186","actor":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5dc1293a7b0bb463a81a6d3850e32ef7866a4c41","commit_url":"https://api.github.com/repos/bazelbuild/bazel/commits/5dc1293a7b0bb463a81a6d3850e32ef7866a4c41","created_at":"2023-06-15T04:20:15Z","state_reason":null,"performed_via_github_app":null},{"id":9626265203,"node_id":"REFE_lADOATz7jc5oV6wNzwAAAAI9xSZz","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/9626265203","actor":{"login":"traversaro","id":1857049,"node_id":"MDQ6VXNlcjE4NTcwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/1857049?v=4","gravatar_id":"","url":"https://api.github.com/users/traversaro","html_url":"https://github.com/traversaro","followers_url":"https://api.github.com/users/traversaro/followers","following_url":"https://api.github.com/users/traversaro/following{/other_user}","gists_url":"https://api.github.com/users/traversaro/gists{/gist_id}","starred_url":"https://api.github.com/users/traversaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/traversaro/subscriptions","organizations_url":"https://api.github.com/users/traversaro/orgs","repos_url":"https://api.github.com/users/traversaro/repos","events_url":"https://api.github.com/users/traversaro/events{/privacy}","received_events_url":"https://api.github.com/users/traversaro/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"407d793fce8a11eef96bcf10a4e445385be578f2","commit_url":"https://api.github.com/repos/traversaro/bazel/commits/407d793fce8a11eef96bcf10a4e445385be578f2","created_at":"2023-06-24T12:51:36Z","performed_via_github_app":null}]