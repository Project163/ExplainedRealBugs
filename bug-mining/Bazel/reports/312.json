{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731/events","html_url":"https://github.com/bazelbuild/bazel/issues/25731","id":2957734329,"node_id":"I_kwDOATz7jc6wS3G5","number":25731,"title":"NPE: no metadata for BasicActionInput","user":{"login":"benjaminp","id":219470,"node_id":"MDQ6VXNlcjIxOTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/219470?v=4","gravatar_id":"","url":"https://api.github.com/users/benjaminp","html_url":"https://github.com/benjaminp","followers_url":"https://api.github.com/users/benjaminp/followers","following_url":"https://api.github.com/users/benjaminp/following{/other_user}","gists_url":"https://api.github.com/users/benjaminp/gists{/gist_id}","starred_url":"https://api.github.com/users/benjaminp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benjaminp/subscriptions","organizations_url":"https://api.github.com/users/benjaminp/orgs","repos_url":"https://api.github.com/users/benjaminp/repos","events_url":"https://api.github.com/users/benjaminp/events{/privacy}","received_events_url":"https://api.github.com/users/benjaminp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503259,"node_id":"MDU6TGFiZWwxMDY1MDMyNTk=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20bug","name":"type: bug","color":"0052cc","default":false,"description":null},{"id":192364134,"node_id":"MDU6TGFiZWwxOTIzNjQxMzQ=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/P1","name":"P1","color":"d93f0b","default":false,"description":"I'll work on this now. (Assignee required)"},{"id":1193207358,"node_id":"MDU6TGFiZWwxMTkzMjA3MzU4","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Remote-Exec","name":"team-Remote-Exec","color":"f1f442","default":false,"description":"Issues and PRs for the Execution (Remote) team"}],"state":"closed","locked":false,"assignee":{"login":"tjgq","id":4370077,"node_id":"MDQ6VXNlcjQzNzAwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4370077?v=4","gravatar_id":"","url":"https://api.github.com/users/tjgq","html_url":"https://github.com/tjgq","followers_url":"https://api.github.com/users/tjgq/followers","following_url":"https://api.github.com/users/tjgq/following{/other_user}","gists_url":"https://api.github.com/users/tjgq/gists{/gist_id}","starred_url":"https://api.github.com/users/tjgq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjgq/subscriptions","organizations_url":"https://api.github.com/users/tjgq/orgs","repos_url":"https://api.github.com/users/tjgq/repos","events_url":"https://api.github.com/users/tjgq/events{/privacy}","received_events_url":"https://api.github.com/users/tjgq/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"tjgq","id":4370077,"node_id":"MDQ6VXNlcjQzNzAwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4370077?v=4","gravatar_id":"","url":"https://api.github.com/users/tjgq","html_url":"https://github.com/tjgq","followers_url":"https://api.github.com/users/tjgq/followers","following_url":"https://api.github.com/users/tjgq/following{/other_user}","gists_url":"https://api.github.com/users/tjgq/gists{/gist_id}","starred_url":"https://api.github.com/users/tjgq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjgq/subscriptions","organizations_url":"https://api.github.com/users/tjgq/orgs","repos_url":"https://api.github.com/users/tjgq/repos","events_url":"https://api.github.com/users/tjgq/events{/privacy}","received_events_url":"https://api.github.com/users/tjgq/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2025-03-29T04:29:49Z","updated_at":"2025-04-02T12:35:26Z","closed_at":"2025-04-02T12:35:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\n$ bazel version\n9.0.0-pre.20250324.2\n$ touch MODULE.bazel\n$ cat > BUILD\nsh_test(\n    name = \"x\",\n    srcs = [\"x.sh\"],\n)\n$ touch x.sh\n$ chmod u+x x.sh\n$ bazel test --test_summary=testcase //:x --disk_cache=/tmp/cache\n$ bazel clean\n$ bazel test --test_summary=testcase //:x --disk_cache=/tmp/cache --remote_download_minimal\nINFO: Invocation ID: 8c24dd3c-8d32-4f0f-82e5-5184a181653c\nINFO: Analyzed target //:x (59 packages loaded, 456 targets configured).\n\nFATAL: bazel crashed due to an internal error. Printing stack trace:\njava.lang.RuntimeException: Unrecoverable error while evaluating node 'UnshareableActionLookupData{actionLookupKey=ConfiguredTargetKey{label=//:x, config=BuildConfigurationKey[bf7816cde04a7abb9f138ea623be08769af0b6e1f4f80d89fb978657d1fda6f3]}, actionIndex=5}' (requested by nodes 'TestCompletionKey{configuredTargetKey=ConfiguredTargetKey{label=//:x, config=BuildConfigurationKey[bf7816cde04a7abb9f138ea623be08769af0b6e1f4f80d89fb978657d1fda6f3]}, topLevelArtifactContext=com.google.devtools.build.lib.analysis.TopLevelArtifactContext@8e505a0e, exclusiveTesting=false}')\n \tat com.google.devtools.build.skyframe.AbstractParallelEvaluator$Evaluate.run(AbstractParallelEvaluator.java:551)\n\tat com.google.devtools.build.lib.concurrent.AbstractQueueVisitor$WrappedRunnable.run(AbstractQueueVisitor.java:435)\n\tat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.compute(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.compute(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinTask$InterruptibleTask.exec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\nCaused by: java.lang.NullPointerException: no metadata for BasicActionInput: bazel-out/k8-fastbuild/testlogs/x/test.xml\n\tat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:1008)\n\tat com.google.devtools.build.lib.remote.AbstractActionInputPrefetcher.prefetchFile(AbstractActionInputPrefetcher.java:381)\n\tat com.google.devtools.build.lib.remote.AbstractActionInputPrefetcher.prefetchFilesInterruptibly(AbstractActionInputPrefetcher.java:337)\n\tat com.google.devtools.build.lib.remote.AbstractActionInputPrefetcher.prefetchFiles(AbstractActionInputPrefetcher.java:279)\n\tat com.google.devtools.build.lib.remote.RemoteActionFileSystem.downloadFileIfRemote(RemoteActionFileSystem.java:785)\n\tat com.google.devtools.build.lib.remote.RemoteActionFileSystem.getInputStream(RemoteActionFileSystem.java:385)\n\tat com.google.devtools.build.lib.vfs.Path.getInputStream(Path.java:790)\n\tat com.google.devtools.build.lib.analysis.test.TestStrategy.parseTestResult(TestStrategy.java:352)\n\tat com.google.devtools.build.lib.exec.StandaloneTestStrategy.runTestAttempt(StandaloneTestStrategy.java:880)\n\tat com.google.devtools.build.lib.exec.StandaloneTestStrategy.beginTestAttempt(StandaloneTestStrategy.java:325)\n\tat com.google.devtools.build.lib.exec.StandaloneTestStrategy$StandaloneTestRunnerSpawn.execute(StandaloneTestStrategy.java:581)\n\tat com.google.devtools.build.lib.analysis.test.TestRunnerAction.executeAllAttempts(TestRunnerAction.java:1208)\n\tat com.google.devtools.build.lib.analysis.test.TestRunnerAction.execute(TestRunnerAction.java:1020)\n\tat com.google.devtools.build.lib.analysis.test.TestRunnerAction.execute(TestRunnerAction.java:997)\n\tat com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.executeAction(SkyframeActionExecutor.java:1189)\n\tat com.google.devtools.build.lib.skyframe.SkyframeActionExecutor$ActionRunner.run(SkyframeActionExecutor.java:1094)\n\tat com.google.devtools.build.lib.skyframe.ActionExecutionState.runStateMachine(ActionExecutionState.java:166)\n\tat com.google.devtools.build.lib.skyframe.ActionExecutionState.getResultOrDependOnFuture(ActionExecutionState.java:95)\n\tat com.google.devtools.build.lib.skyframe.SkyframeActionExecutor.executeAction(SkyframeActionExecutor.java:590)\n\tat com.google.devtools.build.lib.skyframe.ActionExecutionFunction.checkCacheAndExecuteIfNeeded(ActionExecutionFunction.java:832)\n\tat com.google.devtools.build.lib.skyframe.ActionExecutionFunction.computeInternal(ActionExecutionFunction.java:339)\n\tat com.google.devtools.build.lib.skyframe.ActionExecutionFunction.compute(ActionExecutionFunction.java:203)\n\tat com.google.devtools.build.skyframe.AbstractParallelEvaluator$Evaluate.run(AbstractParallelEvaluator.java:471)\n\t... 8 more\n```","closed_by":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/25731/timeline","performed_via_github_app":null,"state_reason":"completed"}