{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330/events","html_url":"https://github.com/bazelbuild/bazel/issues/19330","id":1865899028,"node_id":"I_kwDOATz7jc5vN1wU","number":19330,"title":"incompatible_visibility_private_attributes_at_definition","user":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":326877766,"node_id":"MDU6TGFiZWwzMjY4Nzc3NjY=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20process","name":"type: process","color":"0052cc","default":false,"description":null},{"id":1020660688,"node_id":"MDU6TGFiZWwxMDIwNjYwNjg4","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Configurability","name":"team-Configurability","color":"f1f442","default":false,"description":"platforms, toolchains, cquery, select(), config transitions"},{"id":1080536511,"node_id":"MDU6TGFiZWwxMDgwNTM2NTEx","url":"https://api.github.com/repos/bazelbuild/bazel/labels/incompatible-change","name":"incompatible-change","color":"5319e7","default":false,"description":"Incompatible/breaking change"},{"id":4478731794,"node_id":"LA_kwDOATz7jc8AAAABCvQGEg","url":"https://api.github.com/repos/bazelbuild/bazel/labels/migration-ready","name":"migration-ready","color":"069173","default":false,"description":"Incompatible flag is ready for migration with Bazel rolling releases or Bazel@last_green"},{"id":5104989853,"node_id":"LA_kwDOATz7jc8AAAABMEf2nQ","url":"https://api.github.com/repos/bazelbuild/bazel/labels/breaking-change-7.0","name":"breaking-change-7.0","color":"D93F0B","default":false,"description":"Incompatible flags to be flipped in Bazel 7.0"}],"state":"closed","locked":false,"assignee":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2023-08-24T21:17:33Z","updated_at":"2023-09-29T19:19:02Z","closed_at":"2023-09-29T19:19:02Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With this flag enabled, the visibility of a target referenced in a private attribute of a rule is first checked relative to the package that contains the rule definition. If it is visible from the definition, it no longer needs to be visible from the rule usage.\r\n\r\nThis allows rule authors to limit the visibility of tools and `config_settings` used internally by a rule. Previously, these targets usually had to have public visibility so that the rule could be used everywhere.\r\n\r\nThe change can be temporarily disabled via `--noincompatible_visibility_private_attributes_at_definition`. \r\n\r\n**Migration:** \r\n* Since visibility is still checked relative to the target as a fallback, this change should not result in any new visibility errors.\r\n* If you want to limit the packages that can *use* a given rule, use [load visibility](https://bazel.build/concepts/visibility#load-visibility) instead.","closed_by":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/19330/timeline","performed_via_github_app":null,"state_reason":"completed"}