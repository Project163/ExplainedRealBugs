{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217/events","html_url":"https://github.com/bazelbuild/bazel/issues/26217","id":3114998644,"node_id":"I_kwDOATz7jc65qxt0","number":26217,"title":"Modules obtained from registries should fall back to copying MODULE.bazel from the registry","user":{"login":"gholms","id":92943,"node_id":"MDQ6VXNlcjkyOTQz","avatar_url":"https://avatars.githubusercontent.com/u/92943?v=4","gravatar_id":"","url":"https://api.github.com/users/gholms","html_url":"https://github.com/gholms","followers_url":"https://api.github.com/users/gholms/followers","following_url":"https://api.github.com/users/gholms/following{/other_user}","gists_url":"https://api.github.com/users/gholms/gists{/gist_id}","starred_url":"https://api.github.com/users/gholms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gholms/subscriptions","organizations_url":"https://api.github.com/users/gholms/orgs","repos_url":"https://api.github.com/users/gholms/repos","events_url":"https://api.github.com/users/gholms/events{/privacy}","received_events_url":"https://api.github.com/users/gholms/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503261,"node_id":"MDU6TGFiZWwxMDY1MDMyNjE=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20feature%20request","name":"type: feature request","color":"0052cc","default":false,"description":null},{"id":192364134,"node_id":"MDU6TGFiZWwxOTIzNjQxMzQ=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/P1","name":"P1","color":"d93f0b","default":false,"description":"I'll work on this now. (Assignee required)"},{"id":1020663381,"node_id":"MDU6TGFiZWwxMDIwNjYzMzgx","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-ExternalDeps","name":"team-ExternalDeps","color":"f1f442","default":false,"description":"External dependency handling, remote repositiories, WORKSPACE file."}],"state":"closed","locked":false,"assignee":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":7,"created_at":"2025-06-03T18:25:05Z","updated_at":"2025-10-20T22:22:21Z","closed_at":"2025-07-01T19:16:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description of the feature request:\n\n\nFor modules representing projects which lack MODULE.bazel files, module maintainers have to carry patch files or `overlay/MODULE.bazel` symlinks so `http_archive` and friends take care of injecting them into repos.  Since the registry already needs to contain MODULE.bazel anyway, this amounts to needless busywork for nearly every module in the BCR.  When a module comes from a registry, bazel should fall back to copying or symlinking the MODULE.bazel file it got from the registry if none exists after repository rules finish.\n\n### Which category does this issue belong to?\n\nExternal Dependency\n\n### What underlying problem are you trying to solve with this feature?\n\n\nNeedless busywork for most modules' maintainers.\n\n### Which operating system are you running Bazel on?\n\n\nUbuntu 20.04\n\n### What is the output of `bazel info release`?\n\n\nrelease 7.6.1\n\n### If `bazel info release` returns `development version` or `(@non-git)`, tell us how you built Bazel.\n\n\n_No response_\n\n### What's the output of `git remote get-url origin; git rev-parse HEAD` ?\n\n\n```text\n\n```\n\n### Have you found anything relevant by searching the web?\n\n_No response_\n\n### Any other information, logs, or outputs that you want to share?\n\n_No response_","closed_by":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/26217/timeline","performed_via_github_app":null,"state_reason":"completed"}