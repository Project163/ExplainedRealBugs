[{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069867995","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2069867995","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2069867995,"node_id":"IC_kwDOATz7jc57X63b","user":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T15:22:11Z","updated_at":"2024-04-22T15:22:11Z","body":"Cc @joeleba ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069867995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12561726250,"node_id":"MEE_lADOATz7jc6GhIRIzwAAAALsvLsq","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12561726250","actor":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:22:12Z","performed_via_github_app":null},{"id":12561726259,"node_id":"SE_lADOATz7jc6GhIRIzwAAAALsvLsz","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12561726259","actor":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:22:12Z","performed_via_github_app":null},{"id":12561729674,"node_id":"LE_lADOATz7jc6GhIRIzwAAAALsvMiK","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12561729674","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:22:25Z","label":{"name":"team-Core","color":"f1f442"},"performed_via_github_app":null},{"actor":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T15:23:29Z","updated_at":"2024-04-22T15:23:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/examples/issues/421","repository_url":"https://api.github.com/repos/bazelbuild/examples","labels_url":"https://api.github.com/repos/bazelbuild/examples/issues/421/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/examples/issues/421/comments","events_url":"https://api.github.com/repos/bazelbuild/examples/issues/421/events","html_url":"https://github.com/bazelbuild/examples/issues/421","id":2178295275,"node_id":"I_kwDOAg7Zy86B1iXr","number":421,"title":"[Bazel CI] aspect_rules_js no such file error or directory with Bazel@HEAD in CI","user":{"login":"sgowroji","id":48122892,"node_id":"MDQ6VXNlcjQ4MTIyODky","avatar_url":"https://avatars.githubusercontent.com/u/48122892?v=4","gravatar_id":"","url":"https://api.github.com/users/sgowroji","html_url":"https://github.com/sgowroji","followers_url":"https://api.github.com/users/sgowroji/followers","following_url":"https://api.github.com/users/sgowroji/following{/other_user}","gists_url":"https://api.github.com/users/sgowroji/gists{/gist_id}","starred_url":"https://api.github.com/users/sgowroji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgowroji/subscriptions","organizations_url":"https://api.github.com/users/sgowroji/orgs","repos_url":"https://api.github.com/users/sgowroji/repos","events_url":"https://api.github.com/users/sgowroji/events{/privacy}","received_events_url":"https://api.github.com/users/sgowroji/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2024-03-11T06:00:48Z","updated_at":"2024-05-07T03:55:32Z","closed_at":"2024-05-07T03:55:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":34527691,"node_id":"MDEwOlJlcG9zaXRvcnkzNDUyNzY5MQ==","name":"examples","full_name":"bazelbuild/examples","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/examples","description":"Examples for Bazel","fork":false,"url":"https://api.github.com/repos/bazelbuild/examples","forks_url":"https://api.github.com/repos/bazelbuild/examples/forks","keys_url":"https://api.github.com/repos/bazelbuild/examples/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/examples/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/examples/teams","hooks_url":"https://api.github.com/repos/bazelbuild/examples/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/examples/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/examples/events","assignees_url":"https://api.github.com/repos/bazelbuild/examples/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/examples/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/examples/tags","blobs_url":"https://api.github.com/repos/bazelbuild/examples/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/examples/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/examples/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/examples/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/examples/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/examples/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/examples/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/examples/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/examples/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/examples/subscription","commits_url":"https://api.github.com/repos/bazelbuild/examples/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/examples/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/examples/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/examples/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/examples/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/examples/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/examples/merges","archive_url":"https://api.github.com/repos/bazelbuild/examples/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/examples/downloads","issues_url":"https://api.github.com/repos/bazelbuild/examples/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/examples/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/examples/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/examples/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/examples/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/examples/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/examples/deployments","created_at":"2015-04-24T15:53:03Z","updated_at":"2025-11-09T20:12:26Z","pushed_at":"2025-11-06T22:46:43Z","git_url":"git://github.com/bazelbuild/examples.git","ssh_url":"git@github.com:bazelbuild/examples.git","clone_url":"https://github.com/bazelbuild/examples.git","svn_url":"https://github.com/bazelbuild/examples","homepage":"http://bazel.build","size":3166,"stargazers_count":913,"watchers_count":913,"language":"Starlark","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":551,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":70,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","examples"],"visibility":"public","forks":551,"open_issues":70,"watchers":913,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"CI: https://buildkite.com/bazel/bazel-at-head-plus-downstream/builds/3711#018e2bad-eced-489f-aa96-d3974826f324\n\n Platform: MacOS\n\n Logs: \n```\nERROR: \u001B[0m/Users/buildkite/builds/bk-imacpro-17/bazel-org-repo-root/examples/frontend/BUILD.bazel:10:22: Copying directory aspect_rules_js~~npm~npm__typescript__4.9.3/package [for tool] failed: Exec failed due to IOException: /private/var/tmp/_bazel_buildkite/234bc2f97ee57c6cd035cc0acf2083ba/execroot/_main/external/aspect_rules_js~~npm~npm__typescript__4.9.3/package (No such file or directory)\nERROR: \u001B[0m/Users/buildkite/builds/bk-imacpro-17/bazel-org-repo-root/examples/frontend/BUILD.bazel:10:22: Copying directory aspect_rules_js~~npm~npm__he__1.2.0/package [for tool] failed: Exec failed due to IOException: /private/var/tmp/_bazel_buildkite/234bc2f97ee57c6cd035cc0acf2083ba/execroot/_main/external/aspect_rules_js~~npm~npm__he__1.2.0/package (No such file or directory)\nERROR: \u001B[0m/Users/buildkite/builds/bk-imacpro-17/bazel-org-repo-root/examples/frontend/vue/libraries/simple/BUILD.bazel:55:12 Copying files to directory vue/libraries/simple/simple failed: Exec failed due to IOException: /private/var/tmp/_bazel_buildkite/234bc2f97ee57c6cd035cc0acf2083ba/execroot/_main/external/aspect_rules_js~~npm~npm__typescript__4.9.3/package (No such file or directory)\nERROR: \u001BBuild did NOT complete successfully\n\n``` \n Culprit: \n\n Steps:\n  ``` \n git clone https://github.com/bazelbuild/examples\ngit reset 7285d2e400b04f81df4d9edcad5a8fc8d43c607c  --hard\nexport USE_BAZEL_VERSION=3697397569e25a29a828fb46b26302876d372e26\nbazel build ... \n ``` \n CC Greenteam @wyverald\n ","reactions":{"url":"https://api.github.com/repos/bazelbuild/examples/issues/421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/examples/issues/421/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069923060","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2069923060","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2069923060,"node_id":"IC_kwDOATz7jc57YIT0","user":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T15:35:34Z","updated_at":"2024-04-22T15:37:34Z","body":"Thanks for filing the bug. I'll look into this. Incidentally I was looking at https://github.com/aspect-build/rules_js/issues/1412 today and was about to ask for a minimal repro.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069923060/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069945384","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2069945384","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2069945384,"node_id":"IC_kwDOATz7jc57YNwo","user":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T15:41:27Z","updated_at":"2024-04-22T15:41:27Z","body":"@bazel-io flag","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2069945384/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12562036167,"node_id":"MEE_lADOATz7jc6GhIRIzwAAAALswXXH","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12562036167","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:41:28Z","performed_via_github_app":null},{"id":12562036176,"node_id":"SE_lADOATz7jc6GhIRIzwAAAALswXXQ","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12562036176","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:41:29Z","performed_via_github_app":null},{"id":12562039123,"node_id":"LE_lADOATz7jc6GhIRIzwAAAALswYFT","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12562039123","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-22T15:41:42Z","label":{"name":"potential release blocker","color":"d4c5f9"},"performed_via_github_app":null},{"id":12563029333,"node_id":"AE_lADOATz7jc6GhIRIzwAAAALs0J1V","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12563029333","actor":{"login":"brentleyjones","id":158658,"node_id":"MDQ6VXNlcjE1ODY1OA==","avatar_url":"https://avatars.githubusercontent.com/u/158658?v=4","gravatar_id":"","url":"https://api.github.com/users/brentleyjones","html_url":"https://github.com/brentleyjones","followers_url":"https://api.github.com/users/brentleyjones/followers","following_url":"https://api.github.com/users/brentleyjones/following{/other_user}","gists_url":"https://api.github.com/users/brentleyjones/gists{/gist_id}","starred_url":"https://api.github.com/users/brentleyjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brentleyjones/subscriptions","organizations_url":"https://api.github.com/users/brentleyjones/orgs","repos_url":"https://api.github.com/users/brentleyjones/repos","events_url":"https://api.github.com/users/brentleyjones/events{/privacy}","received_events_url":"https://api.github.com/users/brentleyjones/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-04-22T16:57:07Z","assignee":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2070808226","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2070808226","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2070808226,"node_id":"IC_kwDOATz7jc57bgai","user":{"login":"iancha1992","id":132618328,"node_id":"U_kgDOB-eYWA","avatar_url":"https://avatars.githubusercontent.com/u/132618328?v=4","gravatar_id":"","url":"https://api.github.com/users/iancha1992","html_url":"https://github.com/iancha1992","followers_url":"https://api.github.com/users/iancha1992/followers","following_url":"https://api.github.com/users/iancha1992/following{/other_user}","gists_url":"https://api.github.com/users/iancha1992/gists{/gist_id}","starred_url":"https://api.github.com/users/iancha1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iancha1992/subscriptions","organizations_url":"https://api.github.com/users/iancha1992/orgs","repos_url":"https://api.github.com/users/iancha1992/repos","events_url":"https://api.github.com/users/iancha1992/events{/privacy}","received_events_url":"https://api.github.com/users/iancha1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T19:43:59Z","updated_at":"2024-04-22T19:43:59Z","body":"@bazel-io fork 7.2.0","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2070808226/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iancha1992","id":132618328,"node_id":"U_kgDOB-eYWA","avatar_url":"https://avatars.githubusercontent.com/u/132618328?v=4","gravatar_id":"","url":"https://api.github.com/users/iancha1992","html_url":"https://github.com/iancha1992","followers_url":"https://api.github.com/users/iancha1992/followers","following_url":"https://api.github.com/users/iancha1992/following{/other_user}","gists_url":"https://api.github.com/users/iancha1992/gists{/gist_id}","starred_url":"https://api.github.com/users/iancha1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iancha1992/subscriptions","organizations_url":"https://api.github.com/users/iancha1992/orgs","repos_url":"https://api.github.com/users/iancha1992/repos","events_url":"https://api.github.com/users/iancha1992/events{/privacy}","received_events_url":"https://api.github.com/users/iancha1992/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12564893457,"node_id":"MEE_lADOATz7jc6GhIRIzwAAAALs7Q8R","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12564893457","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-04-22T19:44:00Z","performed_via_github_app":null},{"id":12564893464,"node_id":"SE_lADOATz7jc6GhIRIzwAAAALs7Q8Y","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12564893464","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-22T19:44:00Z","performed_via_github_app":null},{"id":12564895888,"node_id":"UNLE_lADOATz7jc6GhIRIzwAAAALs7RiQ","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12564895888","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-04-22T19:44:14Z","label":{"name":"potential release blocker","color":"d4c5f9"},"performed_via_github_app":null},{"actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-22T19:44:14Z","updated_at":"2024-04-22T19:44:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079/events","html_url":"https://github.com/bazelbuild/bazel/issues/22079","id":2257333029,"node_id":"I_kwDOATz7jc6GjCsl","number":22079,"title":"[7.2.0] [Skymeld] Symlink planting for external repos races against action execution","user":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bazelbuild/bazel/milestones/68","html_url":"https://github.com/bazelbuild/bazel/milestone/68","labels_url":"https://api.github.com/repos/bazelbuild/bazel/milestones/68/labels","id":10584745,"node_id":"MI_kwDOATz7jc4AoYKp","number":68,"title":"7.2.0 release blockers","description":"Issues that should be fixed before 7.2.0 release.","creator":{"login":"Wyverald","id":453203,"node_id":"MDQ6VXNlcjQ1MzIwMw==","avatar_url":"https://avatars.githubusercontent.com/u/453203?v=4","gravatar_id":"","url":"https://api.github.com/users/Wyverald","html_url":"https://github.com/Wyverald","followers_url":"https://api.github.com/users/Wyverald/followers","following_url":"https://api.github.com/users/Wyverald/following{/other_user}","gists_url":"https://api.github.com/users/Wyverald/gists{/gist_id}","starred_url":"https://api.github.com/users/Wyverald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wyverald/subscriptions","organizations_url":"https://api.github.com/users/Wyverald/orgs","repos_url":"https://api.github.com/users/Wyverald/repos","events_url":"https://api.github.com/users/Wyverald/events{/privacy}","received_events_url":"https://api.github.com/users/Wyverald/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":188,"state":"closed","created_at":"2024-02-21T00:11:06Z","updated_at":"2024-06-10T14:12:00Z","due_on":"2024-06-05T07:00:00Z","closed_at":"2024-06-10T14:12:00Z"},"comments":1,"created_at":"2024-04-22T19:44:14Z","updated_at":"2024-04-26T18:13:12Z","closed_at":"2024-04-26T18:13:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Forked from #22073","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22079/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-23T11:48:25Z","updated_at":"2024-04-23T11:48:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886/events","html_url":"https://github.com/bazelbuild/bazel/issues/20886","id":2080179767,"node_id":"I_kwDOATz7jc57_QY3","number":20886,"title":"\"dangling symbolic link\" flakes after upgrading to Bazel 7","user":{"login":"dbolduc","id":23088558,"node_id":"MDQ6VXNlcjIzMDg4NTU4","avatar_url":"https://avatars.githubusercontent.com/u/23088558?v=4","gravatar_id":"","url":"https://api.github.com/users/dbolduc","html_url":"https://github.com/dbolduc","followers_url":"https://api.github.com/users/dbolduc/followers","following_url":"https://api.github.com/users/dbolduc/following{/other_user}","gists_url":"https://api.github.com/users/dbolduc/gists{/gist_id}","starred_url":"https://api.github.com/users/dbolduc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbolduc/subscriptions","organizations_url":"https://api.github.com/users/dbolduc/orgs","repos_url":"https://api.github.com/users/dbolduc/repos","events_url":"https://api.github.com/users/dbolduc/events{/privacy}","received_events_url":"https://api.github.com/users/dbolduc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503259,"node_id":"MDU6TGFiZWwxMDY1MDMyNTk=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20bug","name":"type: bug","color":"0052cc","default":false,"description":null},{"id":601152907,"node_id":"MDU6TGFiZWw2MDExNTI5MDc=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/more%20data%20needed","name":"more data needed","color":"bfdadc","default":false,"description":null},{"id":1020665933,"node_id":"MDU6TGFiZWwxMDIwNjY1OTMz","url":"https://api.github.com/repos/bazelbuild/bazel/labels/untriaged","name":"untriaged","color":"c34ddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":58,"created_at":"2024-01-13T08:21:07Z","updated_at":"2024-04-26T09:44:10Z","closed_at":"2024-04-26T09:44:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description of the bug:\n\n\nhttps://github.com/googleapis/google-cloud-cpp/issues/13444\r\n\r\nAfter upgrading to Bazel 7, we have started seeing transient failures in our CI. These have all been from [`io_opentelemetry_cpp`](https://github.com/open-telemetry/opentelemetry-cpp).\r\n\r\n```\r\nERROR: /h/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/external/io_opentelemetry_cpp/sdk/src/common/BUILD:6:11: output 'external/io_opentelemetry_cpp/sdk/src/common/_virtual_includes/random/src/common/random.h' is a dangling symbolic link\r\nERROR: /h/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/external/io_opentelemetry_cpp/sdk/src/trace/BUILD:6:11: output 'external/io_opentelemetry_cpp/sdk/src/trace/_virtual_includes/trace/src/trace/span.h' is a dangling symbolic link\r\n...etc...\r\nERROR: /h/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/external/io_opentelemetry_cpp/api/BUILD:13:11: Symlinking virtual headers for api failed: not all outputs were created or valid\r\nERROR: /h/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/external/io_opentelemetry_cpp/sdk/BUILD:6:11: Symlinking virtual headers for headers failed: not all outputs were created or valid\r\n```\r\n\r\nMy naive guess is that it has something to do with how that repo uses `include_prefix`: https://github.com/open-telemetry/opentelemetry-cpp/blob/c4f39f2be8109fd1a3e047677c09cf47954b92db/sdk/src/trace/BUILD#L10\n\n### Which category does this issue belong to?\n\n\nExternal Dependency\n\n### What's the simplest, easiest way to reproduce this bug? Please provide a minimal example if possible.\n\n\nNot sure, but I can supply more logs and test solutions (within reason).\n\n### Which operating system are you running Bazel on?\n\n\nLinux\n\n### What is the output of `bazel info release`?\n\n\nrelease 7.0.0\n\n### If `bazel info release` returns `development version` or `(@non-git)`, tell us how you built Bazel.\n\n\n_No response_\n\n### What's the output of `git remote get-url origin; git rev-parse master; git rev-parse HEAD` ?\n\n\n_No response_\n\n### Is this a regression? If yes, please try to identify the Bazel commit where the bug was introduced.\n\n\nIt probably has to do with \"build without the bytes\"\n\n### Have you found anything relevant by searching the web?\n\nhttps://github.com/bazelbuild/bazel/issues/19143 seems like a similar issue.\n\n### Any other information, logs, or outputs that you want to share?\n\n_No response_","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886/reactions","total_count":11,"+1":11,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/20886/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2072086718","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2072086718","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2072086718,"node_id":"IC_kwDOATz7jc57gYi-","user":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-23T11:48:57Z","updated_at":"2024-04-23T11:48:57Z","body":"It's not unlikely that this is also the cause of https://github.com/bazelbuild/bazel/issues/20886.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2072086718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2074882000","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2074882000","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2074882000,"node_id":"IC_kwDOATz7jc57rC_Q","user":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-24T12:54:27Z","updated_at":"2024-04-24T12:54:27Z","body":"Update: I expect to have a fix submitted sometime this week.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2074882000/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12610656081,"node_id":"CE_lADOATz7jc6GhIRIzwAAAALvp1dR","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12610656081","actor":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"52adf0b3d14d4af60ece33c95b94be058bafb41b","commit_url":"https://api.github.com/repos/bazelbuild/bazel/commits/52adf0b3d14d4af60ece33c95b94be058bafb41b","created_at":"2024-04-25T15:14:30Z","state_reason":null,"performed_via_github_app":null},{"id":12610656136,"node_id":"REFE_lADOATz7jc6GhIRIzwAAAALvp1eI","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12610656136","actor":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"52adf0b3d14d4af60ece33c95b94be058bafb41b","commit_url":"https://api.github.com/repos/bazelbuild/bazel/commits/52adf0b3d14d4af60ece33c95b94be058bafb41b","created_at":"2024-04-25T15:14:30Z","performed_via_github_app":null},{"id":12610674408,"node_id":"REFE_lADOATz7jc6GhIRIzwAAAALvp57o","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12610674408","actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"78385dfd12d5a05145a383a935c893e8e7ceb81d","commit_url":"https://api.github.com/repos/bazel-io/bazel/commits/78385dfd12d5a05145a383a935c893e8e7ceb81d","created_at":"2024-04-25T15:15:26Z","performed_via_github_app":null},{"actor":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-25T15:15:27Z","updated_at":"2024-04-25T15:15:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127/events","html_url":"https://github.com/bazelbuild/bazel/pull/22127","id":2263874633,"node_id":"PR_kwDOATz7jc5tvcY0","number":22127,"title":"[7.2.0] Fix a race condition in IncrementalPackageRoots.","user":{"login":"bazel-io","id":15028808,"node_id":"MDQ6VXNlcjE1MDI4ODA4","avatar_url":"https://avatars.githubusercontent.com/u/15028808?v=4","gravatar_id":"","url":"https://api.github.com/users/bazel-io","html_url":"https://github.com/bazel-io","followers_url":"https://api.github.com/users/bazel-io/followers","following_url":"https://api.github.com/users/bazel-io/following{/other_user}","gists_url":"https://api.github.com/users/bazel-io/gists{/gist_id}","starred_url":"https://api.github.com/users/bazel-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazel-io/subscriptions","organizations_url":"https://api.github.com/users/bazel-io/orgs","repos_url":"https://api.github.com/users/bazel-io/repos","events_url":"https://api.github.com/users/bazel-io/events{/privacy}","received_events_url":"https://api.github.com/users/bazel-io/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1182274167,"node_id":"MDU6TGFiZWwxMTgyMjc0MTY3","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Core","name":"team-Core","color":"f1f442","default":false,"description":"Skyframe, bazel query, BEP, options parsing, bazelrc"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-25T15:15:26Z","updated_at":"2024-04-26T10:00:30Z","closed_at":"2024-04-26T10:00:14Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bazelbuild/bazel/pulls/22127","html_url":"https://github.com/bazelbuild/bazel/pull/22127","diff_url":"https://github.com/bazelbuild/bazel/pull/22127.diff","patch_url":"https://github.com/bazelbuild/bazel/pull/22127.patch","merged_at":"2024-04-26T10:00:14Z"},"body":"Consider the following scenario:\n\n- Top level targets `A` and `B`\n- To execute actions in `A`, we need to plant symlinks for `NestedSet<Package>: [A1, C1, [D1]]`,\n- To execute actions in `B`, we need to plant symlinks for `NestedSet<Package>: [B1, C1, [D1]]`\n\nIn the end, we expect to see symlinks to `A1`, `B1`, `C1` and `D1`.\n\n**What went wrong**\n\nWith the current code, there are 2 possible race conditions:\n\n1. Transitive NestedSet level:\n- Start to plant symlinks for `A`\n- `NestedSet [D1]` added to `handledPackageNestedSets`. _No symlink planted yet_.\n- Start to plant symlinks for `B`\n- `NestedSet [D1]` seen as \"handled\" and immediately skipped. Planted `B1` and `C1`. `B` moves on to execution.\n=> actions from `B` that requires `D1` would fail (no such file or directory).\n\n2. Individual symlink level:\n- Start to plant symlinks for `A`\n- `C1` added to `lazilyPlantedSymlinks`. _No symlink planted yet_.\n- Start to plant symlinks for `B`\n- `C1` already seen in `lazilyPlantedSymlinks` and immediately skipped. Planted `B1` and `D1`. `B` moves on to execution.\n=> actions from `B` that requires `C1` would fail (no such file or directory).\n\n**The Solution**\n\nIn order to prevent this race condition, we can plant the symlinks for top level targets `A` and `B` sequentially. This gives us the guarantee that: for an action `foo` under a top level target `A`, `foo` is only executed when all the necessary symlinks for `A` are already planted.\n\nThe above scenario would look like:\n- Start to plant symlinks for `A`\n- The `TopLevelTargetReadyForSymlinkPlanting` event for `B` arrived and is held in the sequential event queue\n- Plant all symlinks. `lazilyPlantedSymlinks: [A1, C1, D1]`. `A` moves on to execution.\n- Start to plant symlinks for `B`\n- `NestedSet [D1]` already seen in `handledPackageNestedSets` and immediately skipped.\n- `C1` already seen in `lazilyPlantedSymlinks` and immediately skipped.\n- Planted `B1`. `B` moves on to execution.\n\nAs an (hopefully not premature) optimization, the symlinks under a single top level target are planted in parallel.\n\nFixes #22073\n\nVerified locally with something similar to the repro in https://github.com/bazelbuild/bazel/issues/22073#issue-2256831560.\n\nPiperOrigin-RevId: 628080361\nChange-Id: Ic6c1a6606d26400c46aa98bfeddc844abd075d0a\n\nCommit https://github.com/bazelbuild/bazel/commit/52adf0b3d14d4af60ece33c95b94be058bafb41b","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22127/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12621507669,"node_id":"REFE_lADOATz7jc6GhIRIzwAAAALwTOxV","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12621507669","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5734d2a50e936a48975ad706640311abc2acf397","commit_url":"https://api.github.com/repos/bazelbuild/bazel/commits/5734d2a50e936a48975ad706640311abc2acf397","created_at":"2024-04-26T10:00:14Z","performed_via_github_app":null},{"id":12781271317,"node_id":"REFE_lADOATz7jc6GhIRIzwAAAAL50rkV","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/12781271317","actor":{"login":"Kila2","id":7580754,"node_id":"MDQ6VXNlcjc1ODA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7580754?v=4","gravatar_id":"","url":"https://api.github.com/users/Kila2","html_url":"https://github.com/Kila2","followers_url":"https://api.github.com/users/Kila2/followers","following_url":"https://api.github.com/users/Kila2/following{/other_user}","gists_url":"https://api.github.com/users/Kila2/gists{/gist_id}","starred_url":"https://api.github.com/users/Kila2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kila2/subscriptions","organizations_url":"https://api.github.com/users/Kila2/orgs","repos_url":"https://api.github.com/users/Kila2/repos","events_url":"https://api.github.com/users/Kila2/events{/privacy}","received_events_url":"https://api.github.com/users/Kila2/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f87bc9fae3104a64a5b5e820d6d85fca68557704","commit_url":"https://api.github.com/repos/Kila2/bazel/commits/f87bc9fae3104a64a5b5e820d6d85fca68557704","created_at":"2024-05-13T05:01:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2113628055","html_url":"https://github.com/bazelbuild/bazel/issues/22073#issuecomment-2113628055","issue_url":"https://api.github.com/repos/bazelbuild/bazel/issues/22073","id":2113628055,"node_id":"IC_kwDOATz7jc59-2eX","user":{"login":"iancha1992","id":132618328,"node_id":"U_kgDOB-eYWA","avatar_url":"https://avatars.githubusercontent.com/u/132618328?v=4","gravatar_id":"","url":"https://api.github.com/users/iancha1992","html_url":"https://github.com/iancha1992","followers_url":"https://api.github.com/users/iancha1992/followers","following_url":"https://api.github.com/users/iancha1992/following{/other_user}","gists_url":"https://api.github.com/users/iancha1992/gists{/gist_id}","starred_url":"https://api.github.com/users/iancha1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iancha1992/subscriptions","organizations_url":"https://api.github.com/users/iancha1992/orgs","repos_url":"https://api.github.com/users/iancha1992/repos","events_url":"https://api.github.com/users/iancha1992/events{/privacy}","received_events_url":"https://api.github.com/users/iancha1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-15T23:10:44Z","updated_at":"2024-05-15T23:10:44Z","body":"A fix for this issue has been included in [Bazel 7.2.0 RC1](https://github.com/bazelbuild/bazel/releases/tag/7.2.0rc1). Please test out the release candidate and report any issues as soon as possible.\r\nIf you're using Bazelisk, you can point to the latest RC by setting USE_BAZEL_VERSION=7.2.0rc1. Thanks!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments/2113628055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iancha1992","id":132618328,"node_id":"U_kgDOB-eYWA","avatar_url":"https://avatars.githubusercontent.com/u/132618328?v=4","gravatar_id":"","url":"https://api.github.com/users/iancha1992","html_url":"https://github.com/iancha1992","followers_url":"https://api.github.com/users/iancha1992/followers","following_url":"https://api.github.com/users/iancha1992/following{/other_user}","gists_url":"https://api.github.com/users/iancha1992/gists{/gist_id}","starred_url":"https://api.github.com/users/iancha1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iancha1992/subscriptions","organizations_url":"https://api.github.com/users/iancha1992/orgs","repos_url":"https://api.github.com/users/iancha1992/repos","events_url":"https://api.github.com/users/iancha1992/events{/privacy}","received_events_url":"https://api.github.com/users/iancha1992/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13235695724,"node_id":"REFE_lADOATz7jc6GhIRIzwAAAAMU6LBs","url":"https://api.github.com/repos/bazelbuild/bazel/issues/events/13235695724","actor":{"login":"sfc-gh-mgalindo","id":167141635,"node_id":"U_kgDOCfZhAw","avatar_url":"https://avatars.githubusercontent.com/u/167141635?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-mgalindo","html_url":"https://github.com/sfc-gh-mgalindo","followers_url":"https://api.github.com/users/sfc-gh-mgalindo/followers","following_url":"https://api.github.com/users/sfc-gh-mgalindo/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-mgalindo/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-mgalindo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-mgalindo/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-mgalindo/orgs","repos_url":"https://api.github.com/users/sfc-gh-mgalindo/repos","events_url":"https://api.github.com/users/sfc-gh-mgalindo/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-mgalindo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"470bf8164ca279c9ae237279ad01d5ad6cc9add7","commit_url":"https://api.github.com/repos/Snowflake-Labs/bazel/commits/470bf8164ca279c9ae237279ad01d5ad6cc9add7","created_at":"2024-06-21T00:02:10Z","performed_via_github_app":null},{"actor":{"login":"joeleba","id":10117525,"node_id":"MDQ6VXNlcjEwMTE3NTI1","avatar_url":"https://avatars.githubusercontent.com/u/10117525?v=4","gravatar_id":"","url":"https://api.github.com/users/joeleba","html_url":"https://github.com/joeleba","followers_url":"https://api.github.com/users/joeleba/followers","following_url":"https://api.github.com/users/joeleba/following{/other_user}","gists_url":"https://api.github.com/users/joeleba/gists{/gist_id}","starred_url":"https://api.github.com/users/joeleba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeleba/subscriptions","organizations_url":"https://api.github.com/users/joeleba/orgs","repos_url":"https://api.github.com/users/joeleba/repos","events_url":"https://api.github.com/users/joeleba/events{/privacy}","received_events_url":"https://api.github.com/users/joeleba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T09:00:30Z","updated_at":"2024-09-25T09:00:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743/events","html_url":"https://github.com/bazelbuild/bazel/issues/23743","id":2546357000,"node_id":"I_kwDOATz7jc6XxlMI","number":23743,"title":"\"No such file or directory\" when upgrading from v6.5.0 to 7.x.x","user":{"login":"swarren12","id":33803336,"node_id":"MDQ6VXNlcjMzODAzMzM2","avatar_url":"https://avatars.githubusercontent.com/u/33803336?v=4","gravatar_id":"","url":"https://api.github.com/users/swarren12","html_url":"https://github.com/swarren12","followers_url":"https://api.github.com/users/swarren12/followers","following_url":"https://api.github.com/users/swarren12/following{/other_user}","gists_url":"https://api.github.com/users/swarren12/gists{/gist_id}","starred_url":"https://api.github.com/users/swarren12/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swarren12/subscriptions","organizations_url":"https://api.github.com/users/swarren12/orgs","repos_url":"https://api.github.com/users/swarren12/repos","events_url":"https://api.github.com/users/swarren12/events{/privacy}","received_events_url":"https://api.github.com/users/swarren12/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503259,"node_id":"MDU6TGFiZWwxMDY1MDMyNTk=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20bug","name":"type: bug","color":"0052cc","default":false,"description":null},{"id":1020665933,"node_id":"MDU6TGFiZWwxMDIwNjY1OTMz","url":"https://api.github.com/repos/bazelbuild/bazel/labels/untriaged","name":"untriaged","color":"c34ddd","default":false,"description":""},{"id":1182274167,"node_id":"MDU6TGFiZWwxMTgyMjc0MTY3","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Core","name":"team-Core","color":"f1f442","default":false,"description":"Skyframe, bazel query, BEP, options parsing, bazelrc"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2024-09-24T20:39:49Z","updated_at":"2025-03-17T05:19:51Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description of the bug:\r\n\r\n\r\nI'm trying to update a fairly complicated Bazel project from Bazel v6.5.0 to v7.x.x, but encountering strange issues. Unfortunately, I can't pinpoint _exactly_ where the issue lies, but I believe it is in Bazel itself, rather than any of the rules being imported.\r\n\r\n**Expected behaviour**: upgrading from v6.5.0 to v7.x.x \"just works\"\r\n**Actual behaviour**: the build fails due to files inside the `linux-sandbox` not being found\r\n\r\n**More details**\r\nCurrently, on Bazel v6.5.0, the build reliably passes both on local development workstations and in the CI environment. Upgrading to v7.x.x causes the build to occasionally fail on development machines and much more consistently fail in CI. Unfortunately, I've been unable to reproduce in an isolated example project, and I'm not sure exactly how to go about collecting more information on the problem.\r\n\r\nI've tried upgrading to v7.0.0, v7.1.2, v7.2.1 and v7.3.1 but they all behave the same way.\r\n\r\nIt's not always the same target that fails, but it's always roughly for the same reason, which is that a file is not found within the sandbox. \r\n\r\nOne example of this is shown below. A `bazel clean --expunge` was run first, and then (an equivalent of) `bazel test //... --test_tag_filters=smoke`, which first failed when trying to create an `ijar` for a `java_import` for a file checked into version control:\r\n\r\n```\r\nUse --sandbox_debug to see verbose messages from the sandbox and retain the sandbox build root for debugging\r\nsrc/main/tools/linux-sandbox-pid1.cc:530: \"execvp(external/rules_java~~toolchains~remote_java_tools_linux/java_tools/ijar/ijar, 0x1d1014a0)\": No such file or directory\r\nERROR: lib/BUILD:2782:13: Extracting interface for jar lib/3rd-party/io.netty/netty-codec-haproxy/netty-codec-haproxy-4.1.113.Final.jar failed: (Exit 1): ijar failed: error executing JavaIjar command (from target //lib:netty-codec-haproxy) \r\n  (cd /home/warrens/.cache/bazel/_bazel_warrens/cf05af78ffeddb63393e16c80fd92083/sandbox/linux-sandbox/2/execroot/_main && \\\r\n  exec env - \\\r\n    PATH=/bin:/usr/bin:/usr/local/bin \\\r\n  external/rules_java~~toolchains~remote_java_tools_linux/java_tools/ijar/ijar lib/3rd-party/io.netty/netty-codec-haproxy/netty-codec-haproxy-4.1.113.Final.jar bazel-out/k8-fastbuild/bin/lib/_ijar/netty-codec-haproxy/lib/3rd-party/io.netty/netty-codec-haproxy/netty-codec-haproxy-4.1.113.Final-ijar.jar --target_label //lib:netty-codec-haproxy)\r\n```\r\n\r\nRunning the same `bazel test` command a second time also resulted in a failure, this time failing to run `java`:\r\n```\r\nERROR: [snip]/BUILD:31:14: Building [snip]/SomeJavaTest.jar () failed: IOException while preparing the execution environment of a worker:\r\n...\r\n---8<---8<--- Exception details ---8<---8<---\r\njava.io.IOException: Cannot run program \"/home/warrens/.cache/bazel/_bazel_warrens/cf05af78ffeddb63393e16c80fd92083/execroot/_main/external/_main~java_repositories~jdk11/bin/java\" (in directory \"/home/warrens/.cache/bazel/_bazel_warrens/cf05af78ffeddb63393e16c80fd92083/execroot/_main\"): error=2, No such file or directory\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1170)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1089)\r\n        at com.google.devtools.build.lib.shell.JavaSubprocessFactory.start(JavaSubprocessFactory.java:152)\r\n...\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n        at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n        at java.base/java.lang.ProcessImpl.<init>(ProcessImpl.java:295)\r\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:225)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1126)\r\n```\r\n\r\nA third run of `bazel test` completed successfully.\r\n\r\nA separate example, taken from the CI exhibits a similar mode of failure; this time during running of some tests:\r\n\r\n```\r\nERROR: [snip]/BUILD:11:10: Testing //...:some-custom-test-rule failed: (Exit 1): generate-xml.sh failed: error executing TestRunner command (from target //...:some-custom-test-rule) \r\n  (cd /var/lib/jenkins/.cache/bazel/_bazel_jenkins/38b07d741dde33298ed2fff99f485394/sandbox/linux-sandbox/34/execroot/_main && \\\r\n  exec env - \\\r\n    EXPERIMENTAL_SPLIT_XML_GENERATION=1 \\\r\n    JAVA_RUNFILES=bazel-out/k8-fastbuild/bin/.../some-custom-test-rule.runfiles \\\r\n    PATH=/bin:/usr/bin:/usr/local/bin \\\r\n    PYTHON_RUNFILES=bazel-out/k8-fastbuild/bin/.../some-custom-test-rule.runfiles \\\r\n    RUNFILES_DIR=bazel-out/k8-fastbuild/bin/.../some-custom-test-rule.runfiles \\\r\n    RUN_UNDER_RUNFILES=1 \\\r\n    TEST_BINARY=.../some-custom-test-rule \\\r\n    TEST_INFRASTRUCTURE_FAILURE_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.infrastructure_failure \\\r\n    TEST_LOGSPLITTER_OUTPUT_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.raw_splitlogs/test.splitlogs \\\r\n    TEST_NAME=//...:some-custom-test-rule \\\r\n    TEST_PREMATURE_EXIT_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.exited_prematurely \\\r\n    TEST_SHARD_INDEX=0 \\\r\n    TEST_SIZE=small \\\r\n    TEST_SRCDIR=bazel-out/k8-fastbuild/bin/.../some-custom-test-rule.runfiles \\\r\n    TEST_TARGET=//...:some-custom-test-rule \\\r\n    TEST_TIMEOUT=60 \\\r\n    TEST_TMPDIR=_tmp/ff60cd74048852c7bacd3c1d1b00a8f2 \\\r\n    TEST_TOTAL_SHARDS=0 \\\r\n    TEST_UNDECLARED_OUTPUTS_ANNOTATIONS=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.outputs_manifest/ANNOTATIONS \\\r\n    TEST_UNDECLARED_OUTPUTS_ANNOTATIONS_DIR=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.outputs_manifest \\\r\n    TEST_UNDECLARED_OUTPUTS_DIR=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.outputs \\\r\n    TEST_UNDECLARED_OUTPUTS_MANIFEST=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.outputs_manifest/MANIFEST \\\r\n    TEST_UNDECLARED_OUTPUTS_ZIP=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.outputs/outputs.zip \\\r\n    TEST_UNUSED_RUNFILES_LOG_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.unused_runfiles_log \\\r\n    TEST_WARNINGS_OUTPUT_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.warnings \\\r\n    TEST_WORKSPACE=_main \\\r\n    TZ=UTC \\\r\n    XML_OUTPUT_FILE=bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.xml \\\r\n  external/bazel_tools/tools/test/generate-xml.sh bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.log bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.xml 0 1)\r\n# Configuration: 96d1f52e073df1fb1edb92e576742c56c7c33cdfdf7dc366cbda968896be461f\r\n# Execution platform: @@platforms//host:host\r\n```\r\n\r\nAt first glance, this looked to be a different type of failure; however, `cat`ing the `test.log` shows:\r\n\r\n```\r\n$ cat bazel-out/k8-fastbuild/testlogs/.../some-custom-test-rule/test.log\r\nsrc/main/tools/linux-sandbox-pid1.cc:530: \"execvp(external/bazel_tools/tools/test/test-setup.sh, 0xbd0c10)\": No such file or directory\r\n```\r\n\r\nSome observations:\r\n\r\n- In all cases, re-running the build seems to result in different behaviour; it will either succeed or fail at a different point\r\n- The examples above are fairly Java-centric, because that is the vast majority of the project; however, I've seen other external tools (e.g. `node`) also fail.\r\n- We have not _explicitly_ changed the value of `--incompatible_sandbox_hermetic_tmp` in these builds (so I believe it is set to the default value of `true`?); however, from what I can tell, adding `common --noincompatible_sandbox_hermetic_tmp` to `.bazelrc` does not help (I've tried explicitly setting both values, and the problem occurs with both)\r\n- turning on `--sandbox_debug` gives a lot more output, but I couldn't see anything useful in there\r\n\r\nCurrently, I'm leaning towards this being a problem with multiple processes trying to interact with the sandbox at the same time; this would explain why I'm unable to reproduce it on a small project and why it fails more consistently in CI (bigger box with more cores to run tasks in parallel). However if I add `--jobs=1` the problem persists, which suggests this hypothesis is wrong.\r\n\r\nAny suggestions on what could be tried in order to further triage or resolve this issue would be appreciated.\r\n\r\n### Which category does this issue belong to?\r\n\r\nCore\r\n\r\n### What's the simplest, easiest way to reproduce this bug? Please provide a minimal example if possible.\r\n\r\n\r\nAs mentioned, I can reproduce it fairly reliably on a large project; unfortunately, I'm yet to find a way of reproducing it on a example project. I'll keep trying though!\r\n\r\n### Which operating system are you running Bazel on?\r\n\r\n\r\nLinux (Fedora & CentOS)\r\n\r\n### What is the output of `bazel info release`?\r\n\r\n\r\n7.3.1\r\n\r\n### If `bazel info release` returns `development version` or `(@non-git)`, tell us how you built Bazel.\r\n\r\n\r\nn/a\r\n\r\n### What's the output of `git remote get-url origin; git rev-parse HEAD` ?\r\n\r\n\r\n```text\r\nn/a\r\n```\r\n\r\n\r\n### If this is a regression, please try to identify the Bazel commit where the bug was introduced with bazelisk --bisect.\r\n\r\nI'm unable to run `bazelisk --bisect=6.5.0..7.0.0` because it attempts to revert back to v6.0.0, which is incompatible with most of the rules in `MODULE.bazel` :(\r\n\r\nI'm trying to work out if I can use some of the 7.0.0 pre-release candidates to narrow down when it started failing, but so far no luck.\r\n\r\n### Have you found anything relevant by searching the web?\r\n\r\nI found a similar sounding issue here: https://github.com/bazelbuild/bazel/issues/22151; however, this affects v6.5.0 and that is the version that is working for me. \r\n\r\nSimilarly, some comments in https://github.com/bazelbuild/bazel/pull/19943 seemed relevant, but I couldn't really turn them into useful avenues of investigation.\r\n\r\n### Any other information, logs, or outputs that you want to share?\r\n\r\n<details><summary>Output of `bazel mod graph`</summary>\r\n<p>\r\n\r\n```\r\n<root> (monorepo@_)\r\naspect_bazel_lib@1.42.1 \r\n   bazel_skylib@1.6.1 (*) \r\n   platforms@0.0.10 (*) \r\n   stardoc@0.5.4 \r\n       bazel_skylib@1.6.1 (*) \r\n       rules_java@7.3.1 (*) \r\n       rules_license@1.0.0 (*) \r\nbazel_skylib@1.6.1 \r\n   platforms@0.0.10 (*) \r\nplatforms@0.0.10 \r\n   rules_license@1.0.0 (*) \r\nrules_cc@0.0.9 \r\n   platforms@0.0.10 (*) \r\nrules_java@7.3.1 \r\n   bazel_skylib@1.6.1 (*) \r\n   platforms@0.0.10 (*) \r\n   rules_cc@0.0.9 (*) \r\n   rules_license@1.0.0 (*) \r\n   rules_proto@6.0.0 \r\n       bazel_features@1.11.0 (*) \r\n       bazel_skylib@1.6.1 (*) \r\n       rules_license@1.0.0 (*) \r\nrules_jvm_external@5.3 \r\n   bazel_skylib@1.6.1 (*) \r\n   stardoc@0.5.4 (*) \r\nrules_license@1.0.0 \r\nrules_oci@1.7.6 \r\n   aspect_bazel_lib@1.42.1 (*) \r\n   bazel_skylib@1.6.1 (*) \r\n   platforms@0.0.10 (*) \r\n   container_structure_test@1.16.0 \r\n       aspect_bazel_lib@1.42.1 (*) \r\n       bazel_skylib@1.6.1 (*) \r\n       platforms@0.0.10 (*) \r\nrules_pkg@0.9.1 \r\n   bazel_skylib@1.6.1 (*) \r\n   rules_license@1.0.0 (*) \r\n   rules_python@0.34.0 (*) \r\nrules_python@0.34.0 \r\n    bazel_skylib@1.6.1 (*) \r\n    platforms@0.0.10 (*) \r\n    rules_cc@0.0.9 (*) \r\n    rules_proto@6.0.0 (*) \r\n    bazel_features@1.11.0 \r\n       bazel_skylib@1.6.1 (*) \r\n    protobuf@24.4 \r\n        bazel_skylib@1.6.1 (*) \r\n        platforms@0.0.10 (*) \r\n        rules_cc@0.0.9 (*) \r\n        rules_java@7.3.1 (*) \r\n        rules_jvm_external@5.3 (*) \r\n        rules_pkg@0.9.1 (*) \r\n        rules_proto@6.0.0 (*) \r\n        abseil-cpp@20230802.0.bcr.1 \r\n           bazel_skylib@1.6.1 (*) \r\n           googletest@1.14.0 (*) \r\n           platforms@0.0.10 (*) \r\n           rules_cc@0.0.9 (*) \r\n        googletest@1.14.0 \r\n           abseil-cpp@20230802.0.bcr.1 (*) \r\n           platforms@0.0.10 (*) \r\n           rules_cc@0.0.9 (*) \r\n        upb@0.0.0-20230516-61a97ef \r\n           abseil-cpp@20230802.0.bcr.1 (*) \r\n           bazel_skylib@1.6.1 (*) \r\n           platforms@0.0.10 (*) \r\n           rules_pkg@0.9.1 (*) \r\n           rules_proto@6.0.0 (*) \r\n        zlib@1.3.1.bcr.3 \r\n            platforms@0.0.10 (*) \r\n            rules_cc@0.0.9 (*) \r\n```\r\n</p>\r\n</details> \r\n\r\nI've tried upgrading various rules, but with no luck (and generally bringing in other difficulties!).","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23743/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"turmanticant","id":177699236,"node_id":"U_kgDOCpd5pA","avatar_url":"https://avatars.githubusercontent.com/u/177699236?v=4","gravatar_id":"","url":"https://api.github.com/users/turmanticant","html_url":"https://github.com/turmanticant","followers_url":"https://api.github.com/users/turmanticant/followers","following_url":"https://api.github.com/users/turmanticant/following{/other_user}","gists_url":"https://api.github.com/users/turmanticant/gists{/gist_id}","starred_url":"https://api.github.com/users/turmanticant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turmanticant/subscriptions","organizations_url":"https://api.github.com/users/turmanticant/orgs","repos_url":"https://api.github.com/users/turmanticant/repos","events_url":"https://api.github.com/users/turmanticant/events{/privacy}","received_events_url":"https://api.github.com/users/turmanticant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-04T01:32:04Z","updated_at":"2024-10-04T01:32:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863/events","html_url":"https://github.com/bazelbuild/bazel/issues/23863","id":2565253650,"node_id":"I_kwDOATz7jc6Y5qoS","number":23863,"title":"File does not exist errors when building with `--experimental_merged_skyframe_analysis_execution`","user":{"login":"turmanticant","id":177699236,"node_id":"U_kgDOCpd5pA","avatar_url":"https://avatars.githubusercontent.com/u/177699236?v=4","gravatar_id":"","url":"https://api.github.com/users/turmanticant","html_url":"https://github.com/turmanticant","followers_url":"https://api.github.com/users/turmanticant/followers","following_url":"https://api.github.com/users/turmanticant/following{/other_user}","gists_url":"https://api.github.com/users/turmanticant/gists{/gist_id}","starred_url":"https://api.github.com/users/turmanticant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turmanticant/subscriptions","organizations_url":"https://api.github.com/users/turmanticant/orgs","repos_url":"https://api.github.com/users/turmanticant/repos","events_url":"https://api.github.com/users/turmanticant/events{/privacy}","received_events_url":"https://api.github.com/users/turmanticant/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503259,"node_id":"MDU6TGFiZWwxMDY1MDMyNTk=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20bug","name":"type: bug","color":"0052cc","default":false,"description":null},{"id":1020660325,"node_id":"MDU6TGFiZWwxMDIwNjYwMzI1","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-Performance","name":"team-Performance","color":"f1f442","default":false,"description":"Issues for Performance teams"},{"id":1020665933,"node_id":"MDU6TGFiZWwxMDIwNjY1OTMz","url":"https://api.github.com/repos/bazelbuild/bazel/labels/untriaged","name":"untriaged","color":"c34ddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-10-04T01:32:03Z","updated_at":"2024-10-14T17:20:43Z","closed_at":"2024-10-14T13:26:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20773773,"node_id":"MDEwOlJlcG9zaXRvcnkyMDc3Mzc3Mw==","name":"bazel","full_name":"bazelbuild/bazel","private":false,"owner":{"login":"bazelbuild","id":11684617,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNjg0NjE3","avatar_url":"https://avatars.githubusercontent.com/u/11684617?v=4","gravatar_id":"","url":"https://api.github.com/users/bazelbuild","html_url":"https://github.com/bazelbuild","followers_url":"https://api.github.com/users/bazelbuild/followers","following_url":"https://api.github.com/users/bazelbuild/following{/other_user}","gists_url":"https://api.github.com/users/bazelbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/bazelbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bazelbuild/subscriptions","organizations_url":"https://api.github.com/users/bazelbuild/orgs","repos_url":"https://api.github.com/users/bazelbuild/repos","events_url":"https://api.github.com/users/bazelbuild/events{/privacy}","received_events_url":"https://api.github.com/users/bazelbuild/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bazelbuild/bazel","description":"a fast, scalable, multi-language and extensible build system","fork":false,"url":"https://api.github.com/repos/bazelbuild/bazel","forks_url":"https://api.github.com/repos/bazelbuild/bazel/forks","keys_url":"https://api.github.com/repos/bazelbuild/bazel/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bazelbuild/bazel/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bazelbuild/bazel/teams","hooks_url":"https://api.github.com/repos/bazelbuild/bazel/hooks","issue_events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/events{/number}","events_url":"https://api.github.com/repos/bazelbuild/bazel/events","assignees_url":"https://api.github.com/repos/bazelbuild/bazel/assignees{/user}","branches_url":"https://api.github.com/repos/bazelbuild/bazel/branches{/branch}","tags_url":"https://api.github.com/repos/bazelbuild/bazel/tags","blobs_url":"https://api.github.com/repos/bazelbuild/bazel/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bazelbuild/bazel/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bazelbuild/bazel/git/refs{/sha}","trees_url":"https://api.github.com/repos/bazelbuild/bazel/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bazelbuild/bazel/statuses/{sha}","languages_url":"https://api.github.com/repos/bazelbuild/bazel/languages","stargazers_url":"https://api.github.com/repos/bazelbuild/bazel/stargazers","contributors_url":"https://api.github.com/repos/bazelbuild/bazel/contributors","subscribers_url":"https://api.github.com/repos/bazelbuild/bazel/subscribers","subscription_url":"https://api.github.com/repos/bazelbuild/bazel/subscription","commits_url":"https://api.github.com/repos/bazelbuild/bazel/commits{/sha}","git_commits_url":"https://api.github.com/repos/bazelbuild/bazel/git/commits{/sha}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/comments{/number}","issue_comment_url":"https://api.github.com/repos/bazelbuild/bazel/issues/comments{/number}","contents_url":"https://api.github.com/repos/bazelbuild/bazel/contents/{+path}","compare_url":"https://api.github.com/repos/bazelbuild/bazel/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bazelbuild/bazel/merges","archive_url":"https://api.github.com/repos/bazelbuild/bazel/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bazelbuild/bazel/downloads","issues_url":"https://api.github.com/repos/bazelbuild/bazel/issues{/number}","pulls_url":"https://api.github.com/repos/bazelbuild/bazel/pulls{/number}","milestones_url":"https://api.github.com/repos/bazelbuild/bazel/milestones{/number}","notifications_url":"https://api.github.com/repos/bazelbuild/bazel/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bazelbuild/bazel/labels{/name}","releases_url":"https://api.github.com/repos/bazelbuild/bazel/releases{/id}","deployments_url":"https://api.github.com/repos/bazelbuild/bazel/deployments","created_at":"2014-06-12T16:00:38Z","updated_at":"2025-11-10T01:33:52Z","pushed_at":"2025-11-08T01:50:45Z","git_url":"git://github.com/bazelbuild/bazel.git","ssh_url":"git@github.com:bazelbuild/bazel.git","clone_url":"https://github.com/bazelbuild/bazel.git","svn_url":"https://github.com/bazelbuild/bazel","homepage":"https://bazel.build","size":990573,"stargazers_count":24742,"watchers_count":24742,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4332,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1832,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bazel","build","build-system","correct","fast","multi-language","scalable","test"],"visibility":"public","forks":4332,"open_issues":1832,"watchers":24742,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description of the bug:\n\n\nI originally discussed this bug on the bazel slack with the Aspect folks.\r\nhttps://bazelbuild.slack.com/archives/C04281DTLH0/p1727907042769939\r\n\r\nI was experiencing very flaky builds. Over the past month 60% of my builds failed from weird copy errors. Sometimes it was my `tsconfig.json` like below, other times it didn't say what the file was, but they were all `No such file or directory` errors. \r\n\r\nI have been able to trigger this 100% of the time by clean expunging my cache and rebuilding.\r\n```shell\r\nbazel clean --expunge\r\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\r\nbazel test //... --experimental_merged_skyframe_analysis_execution\r\nStarting local Bazel server and connecting to it...\r\nWARNING: Download from https://index.docker.io/v2/envoyproxy/envoy/manifests/sha256:079085d7f507469704d8f0aedc2b4c191dc38e0f79548c3133f9733fe85f26bf failed: class java.io.FileNotFoundException GET returned 404 Not Found\r\nWARNING: Unable to retrieve the manifest. This could be due to authentication problems or an attempt to fetch an image with OCI image media types.\r\n\r\nWARNING: The use of Curl fallback is deprecated and is set to be removed in version 2.0. \r\nFor more details, refer to: https://github.com/bazel-contrib/rules_oci/issues/456\r\n\r\nWARNING: Download from https://index.docker.io/v2/library/nginx/manifests/sha256:baa881b012a49e3c2cd6ab9d80f9fcd2962a98af8ede947d0ef930a427b28afc failed: class java.io.FileNotFoundException GET returned 404 Not Found\r\nWARNING: Unable to retrieve the manifest. This could be due to authentication problems or an attempt to fetch an image with OCI image media types.\r\n\r\nWARNING: The use of Curl fallback is deprecated and is set to be removed in version 2.0. \r\nFor more details, refer to: https://github.com/bazel-contrib/rules_oci/issues/456\r\n\r\nWARNING: Unable to retrieve the manifest. This could be due to authentication problems or an attempt to fetch an image with OCI image media types.\r\n\r\nWARNING: The use of Curl fallback is deprecated and is set to be removed in version 2.0. \r\nFor more details, refer to: https://github.com/bazel-contrib/rules_oci/issues/456\r\n\r\nERROR: /home/<redacted>/Repository/turmantis/collective/BUILD:126:10: Copying file tsconfig.json failed: (Exit 1): coreutils failed: error executing CopyFile command (from target //:tsconfig) \r\n  (cd /home/<redacted>/.cache/bazel/_bazel_<redacted>/34c6fa7f467484e23b6742c76862b361/execroot/_main && \\\r\n  exec env - \\\r\n  external/aspect_bazel_lib~~toolchains~coreutils_linux_amd64/coreutils cp tsconfig.json bazel-out/k8-fastbuild/bin/tsconfig.json)\r\n# Configuration: c0d3a92f91c0c2e9b150983da494f2b9f3635c23b46ec79ec60aa3b2e55d7390\r\n# Execution platform: @@platforms//host:host\r\nsrc/main/tools/process-wrapper-legacy.cc:80: \"execvp(external/aspect_bazel_lib~~toolchains~coreutils_linux_amd64/coreutils, ...)\": No such file or directory\r\nINFO: Elapsed time: 32.009s, Critical Path: 0.17s\r\nINFO: 31 processes: 28 internal, 3 linux-sandbox.\r\nERROR: Build did NOT complete successfully\r\nERROR: No test targets were found, yet testing was requested\r\nFAILED: \r\n    Fetching repository @@_main~non_module_repos~gcloud_linux_amd64; starting 11s\r\n    Fetching /home/<redacted>/.cache/bazel/_bazel_<redacted>/34c6fa7f467484e23b6742c76862b361/external/_main~non_module_repos~gcloud_linux_amd64; Extracting google-cloud-sdk-490.0.0-linux-x86_64.tar.gz 11s\r\n    Fetching repository @@gazelle~~go_deps~com_google_cloud_go_firestore; starting 9s\r\n    Fetching repository @@rules_go~~go_sdk~collective__download_0; Downloading and extracting Go toolchain 9s\r\n    Fetching repository @@gazelle~~go_deps~com_google_firebase_go_v4; starting 9s\r\n    Fetching repository @@gazelle~~go_deps~com_github_urfave_cli_v2; starting 9s\r\n    Fetching repository @@gazelle~~go_deps~org_golang_x_sync; starting 9s\r\n    Fetching repository @@gazelle~~non_module_deps~bazel_gazelle_go_repository_cache; starting 9s ... (63 fetches)\r\n```\r\n\r\nFor the longest time I thought this was related to rules_js/rules_ts. I _think_ it was in bazel 6 I added `build --experimental_merged_skyframe_analysis_execution` to my rc trying to fight long cc builds. I didn't really think about it after. @fmeum however suggested I try running with `--noexperimental_merged_skyframe_analysis_execution`. \r\n\r\nThis immediately resolved my issue. \n\n### Which category does this issue belong to?\n\nCore\n\n### What's the simplest, easiest way to reproduce this bug? Please provide a minimal example if possible.\n\n\nClean building.\r\n```shell\r\nbazel clean --expunge\r\nbazel test //... --experimental_merged_skyframe_analysis_execution\r\n```\r\n\r\nI am struggling to find an existing repository I can reproduce this in. I tested out the frontend bazel examples, but failed to reproduce it there. The repo I am getting this in is a good bit more complicated, but I am working to come up with an environment you can poke at.\n\n### Which operating system are you running Bazel on?\n\n\nFedora 40\n\n### What is the output of `bazel info release`?\n\n\nrelease 7.3.2\n\n### If `bazel info release` returns `development version` or `(@non-git)`, tell us how you built Bazel.\n\n\n_No response_\n\n### What's the output of `git remote get-url origin; git rev-parse HEAD` ?\n\n\n_No response_\n\n### If this is a regression, please try to identify the Bazel commit where the bug was introduced with bazelisk --bisect.\n\n\n_No response_\n\n### Have you found anything relevant by searching the web?\n\nThere have been a few seemingly related issues. As best I can tell these weren't my issue, and I am running versions that these should be fixed in.\r\n\r\nhttps://github.com/aspect-build/rules_js/issues/1412\r\nhttps://github.com/bazelbuild/bazel/issues/22073\n\n### Any other information, logs, or outputs that you want to share?\n\n_No response_","reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/23863/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]