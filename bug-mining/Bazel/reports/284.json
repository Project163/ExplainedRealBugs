{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803","repository_url":"https://api.github.com/repos/bazelbuild/bazel","labels_url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803/labels{/name}","comments_url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803/comments","events_url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803/events","html_url":"https://github.com/bazelbuild/bazel/issues/24803","id":2761178894,"node_id":"I_kwDOATz7jc6klD8O","number":24803,"title":"Module mapping error message needs to be more actionable.","user":{"login":"bcsgh","id":33939446,"node_id":"MDQ6VXNlcjMzOTM5NDQ2","avatar_url":"https://avatars.githubusercontent.com/u/33939446?v=4","gravatar_id":"","url":"https://api.github.com/users/bcsgh","html_url":"https://github.com/bcsgh","followers_url":"https://api.github.com/users/bcsgh/followers","following_url":"https://api.github.com/users/bcsgh/following{/other_user}","gists_url":"https://api.github.com/users/bcsgh/gists{/gist_id}","starred_url":"https://api.github.com/users/bcsgh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcsgh/subscriptions","organizations_url":"https://api.github.com/users/bcsgh/orgs","repos_url":"https://api.github.com/users/bcsgh/repos","events_url":"https://api.github.com/users/bcsgh/events{/privacy}","received_events_url":"https://api.github.com/users/bcsgh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106503261,"node_id":"MDU6TGFiZWwxMDY1MDMyNjE=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/type:%20feature%20request","name":"type: feature request","color":"0052cc","default":false,"description":null},{"id":192364134,"node_id":"MDU6TGFiZWwxOTIzNjQxMzQ=","url":"https://api.github.com/repos/bazelbuild/bazel/labels/P1","name":"P1","color":"d93f0b","default":false,"description":"I'll work on this now. (Assignee required)"},{"id":1020663381,"node_id":"MDU6TGFiZWwxMDIwNjYzMzgx","url":"https://api.github.com/repos/bazelbuild/bazel/labels/team-ExternalDeps","name":"team-ExternalDeps","color":"f1f442","default":false,"description":"External dependency handling, remote repositiories, WORKSPACE file."}],"state":"closed","locked":false,"assignee":{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"fmeum","id":4312191,"node_id":"MDQ6VXNlcjQzMTIxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4312191?v=4","gravatar_id":"","url":"https://api.github.com/users/fmeum","html_url":"https://github.com/fmeum","followers_url":"https://api.github.com/users/fmeum/followers","following_url":"https://api.github.com/users/fmeum/following{/other_user}","gists_url":"https://api.github.com/users/fmeum/gists{/gist_id}","starred_url":"https://api.github.com/users/fmeum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmeum/subscriptions","organizations_url":"https://api.github.com/users/fmeum/orgs","repos_url":"https://api.github.com/users/fmeum/repos","events_url":"https://api.github.com/users/fmeum/events{/privacy}","received_events_url":"https://api.github.com/users/fmeum/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2024-12-27T18:47:14Z","updated_at":"2025-02-04T22:45:27Z","closed_at":"2025-01-08T05:06:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description of the feature request:\n\n\nI made some changes and got an error message like this:\r\n\r\n> ERROR: Error computing the main repository mapping: module not found in registries: com_github_bcsgh_graphviz@0.0.1\r\n\r\nWhile this tells me that something is wrong, it gives almost no information about what went wrong or how to fix it. In my case, the module and version existed in one of the registries provided via `--registry=`  but Bazel provided no information about why it wasn't found or even where it was looked for.\r\n\r\nWhat I would like to see is that message followed by an ordered enumeration of everywhere Bazel could possibly get the module from and either what it found or why it didn't look:\r\n\r\n```\r\nERROR: Error computing the main repository mapping: module not found in registries: com_github_bcsgh_graphviz@0.0.1\r\nhttps://bcr.bazel.build (from --registry): not found (from MODULE.bazel.lock)\r\nhttps://bcsgh.github.io/bazel-registry (from --registry): not found (from MODULE.bazel.lock)\r\nfile:///home/bcs/bazel-registry-private/ (from --registry): not found (from file://)\r\n```\r\n\r\nEventually I figured out that deleting `MODULE.bazel.lock` fixed the problem, but that was just a lucky guess. The `(from MODULE.bazel.lock)` would have been the important part in my case.\r\n\r\nA flag to get even more details (like full URLs inspected) would be useful as well.\n\n### Which category does this issue belong to?\n\nCore\n\n### What underlying problem are you trying to solve with this feature?\n\n\nUX/Usability\n\n### Which operating system are you running Bazel on?\n\n\nn/a\n\n### What is the output of `bazel info release`?\n\n\nrelease 8.0.0\n\n### If `bazel info release` returns `development version` or `(@non-git)`, tell us how you built Bazel.\n\n\n_No response_\n\n### What's the output of `git remote get-url origin; git rev-parse HEAD` ?\n\n\n```text\nNot public\n```\n\n\n### Have you found anything relevant by searching the web?\n\n_No response_\n\n### Any other information, logs, or outputs that you want to share?\n\n_No response_","closed_by":{"login":"copybara-service[bot]","id":56741989,"node_id":"MDM6Qm90NTY3NDE5ODk=","avatar_url":"https://avatars.githubusercontent.com/in/44061?v=4","gravatar_id":"","url":"https://api.github.com/users/copybara-service%5Bbot%5D","html_url":"https://github.com/apps/copybara-service","followers_url":"https://api.github.com/users/copybara-service%5Bbot%5D/followers","following_url":"https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/copybara-service%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/copybara-service%5Bbot%5D/repos","events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/copybara-service%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bazelbuild/bazel/issues/24803/timeline","performed_via_github_app":null,"state_reason":"completed"}