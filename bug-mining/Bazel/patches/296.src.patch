diff --git a/src/main/java/com/google/devtools/build/lib/bazel/repository/RepositoryResolvedEvent.java b/src/main/java/com/google/devtools/build/lib/bazel/repository/RepositoryResolvedEvent.java
index 187f586934..e4469a8708 100644
--- a/src/main/java/com/google/devtools/build/lib/bazel/repository/RepositoryResolvedEvent.java
+++ b/src/main/java/com/google/devtools/build/lib/bazel/repository/RepositoryResolvedEvent.java
@@ -80,6 +80,9 @@ public class RepositoryResolvedEvent implements ResolvedEvent {
     ImmutableMap.Builder<String, Object> defaults = ImmutableMap.builder();
 
     for (Attribute attr : rule.getAttributes()) {
+      if (!attr.isPublic()) {
+        continue;
+      }
       String name = attr.getPublicName();
       try {
         Object value = attrs.getValue(name, Object.class);
