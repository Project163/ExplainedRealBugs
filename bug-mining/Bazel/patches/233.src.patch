diff --git a/src/main/java/com/google/devtools/build/lib/remote/RemoteActionContextProvider.java b/src/main/java/com/google/devtools/build/lib/remote/RemoteActionContextProvider.java
index d5f4c10969..f52ff94b77 100644
--- a/src/main/java/com/google/devtools/build/lib/remote/RemoteActionContextProvider.java
+++ b/src/main/java/com/google/devtools/build/lib/remote/RemoteActionContextProvider.java
@@ -16,7 +16,6 @@ package com.google.devtools.build.lib.remote;
 import static com.google.common.base.Preconditions.checkNotNull;
 import static com.google.common.util.concurrent.MoreExecutors.directExecutor;
 
-import com.google.common.annotations.VisibleForTesting;
 import com.google.common.base.Preconditions;
 import com.google.common.util.concurrent.ListeningScheduledExecutorService;
 import com.google.devtools.build.lib.exec.ExecutionOptions;
@@ -225,11 +224,6 @@ final class RemoteActionContextProvider {
     registryBuilder.register(SpawnCache.class, spawnCache, "remote-cache");
   }
 
-  @VisibleForTesting
-  RemoteOutputChecker getRemoteOutputChecker() {
-    return remoteOutputChecker;
-  }
-
   /** Returns the remote cache. */
   RemoteCache getRemoteCache() {
     return remoteCache;
diff --git a/src/main/java/com/google/devtools/build/lib/remote/RemoteModule.java b/src/main/java/com/google/devtools/build/lib/remote/RemoteModule.java
index f6371b68d0..f2bc253ab1 100644
--- a/src/main/java/com/google/devtools/build/lib/remote/RemoteModule.java
+++ b/src/main/java/com/google/devtools/build/lib/remote/RemoteModule.java
@@ -261,16 +261,6 @@ public final class RemoteModule extends BlazeModule {
     credentialModule = Preconditions.checkNotNull(runtime.getBlazeModule(CredentialModule.class));
   }
 
-  private static String remoteOutputsModeToFlagName(RemoteOutputsMode remoteOutputsMode) {
-    String flagName = "";
-    switch (remoteOutputsMode) {
-      case MINIMAL -> flagName = "--remote_download_minimal";
-      case TOPLEVEL -> flagName = "--remote_download_toplevel";
-      case ALL -> flagName = "--remote_download_all";
-    }
-    return flagName;
-  }
-
   @Override
   public void beforeCommand(CommandEnvironment env) throws AbruptExitException {
     Preconditions.checkState(actionContextProvider == null, "actionContextProvider must be null");
@@ -366,26 +356,10 @@ public final class RemoteModule extends BlazeModule {
                   .build()));
     }
 
-    var remoteOutputsMode = remoteOptions.remoteOutputsMode;
-    if (enableHttpCache && remoteOutputsMode != RemoteOutputsMode.ALL) {
-      // HTTP cache is generally configured to automatically delete old files. It doesn't support
-      // lease extension and doesn't understand the relationships between AC and CAS. Hence, it's
-      // incompatible with other RemoteOutputsMode.
-      //
-      // See https://github.com/bazelbuild/bazel/issues/18696.
-      env.getReporter()
-          .handle(
-              Event.warn(
-                  String.format(
-                      "%s is incompatible with HTTP cache. Using --remote_download_all.",
-                      remoteOutputsModeToFlagName(remoteOutputsMode))));
-      remoteOutputsMode = RemoteOutputsMode.ALL;
-    }
-
     // TODO(bazel-team): Consider adding a warning or more validation if the remoteDownloadRegex is
     // used without Build without the Bytes.
     ImmutableList.Builder<Pattern> patternsToDownloadBuilder = ImmutableList.builder();
-    if (remoteOutputsMode != RemoteOutputsMode.ALL) {
+    if (remoteOptions.remoteOutputsMode != RemoteOutputsMode.ALL) {
       for (RegexPatternOption patternOption : remoteOptions.remoteDownloadRegex) {
         patternsToDownloadBuilder.add(patternOption.regexPattern());
       }
@@ -395,7 +369,7 @@ public final class RemoteModule extends BlazeModule {
         new RemoteOutputChecker(
             new JavaClock(),
             env.getCommandName(),
-            remoteOutputsMode,
+            remoteOptions.remoteOutputsMode,
             patternsToDownloadBuilder.build(),
             lastRemoteOutputChecker);
     remoteOutputChecker.maybeInvalidateSkyframeValues(env.getSkyframeExecutor().getEvaluator());
diff --git a/src/main/java/com/google/devtools/build/lib/remote/RemoteOutputChecker.java b/src/main/java/com/google/devtools/build/lib/remote/RemoteOutputChecker.java
index c6fc33c6c5..cb2ff6db3e 100644
--- a/src/main/java/com/google/devtools/build/lib/remote/RemoteOutputChecker.java
+++ b/src/main/java/com/google/devtools/build/lib/remote/RemoteOutputChecker.java
@@ -18,7 +18,6 @@ import static com.google.common.base.Preconditions.checkState;
 import static com.google.devtools.build.lib.packages.TargetUtils.isTestRuleName;
 import static com.google.devtools.build.lib.skyframe.CoverageReportValue.COVERAGE_REPORT_KEY;
 
-import com.google.common.annotations.VisibleForTesting;
 import com.google.common.collect.ImmutableList;
 import com.google.common.collect.ImmutableSet;
 import com.google.devtools.build.lib.actions.ActionInput;
@@ -90,11 +89,6 @@ public class RemoteOutputChecker implements RemoteArtifactChecker {
     this.lastRemoteOutputChecker = lastRemoteOutputChecker;
   }
 
-  @VisibleForTesting
-  RemoteOutputsMode getRemoteOutputsMode() {
-    return outputsMode;
-  }
-
   // Skymeld-only.
   public void afterTopLevelTargetAnalysis(
       ConfiguredTarget configuredTarget,
diff --git a/src/test/java/com/google/devtools/build/lib/remote/RemoteModuleTest.java b/src/test/java/com/google/devtools/build/lib/remote/RemoteModuleTest.java
index 099cf3d138..13a057f85f 100644
--- a/src/test/java/com/google/devtools/build/lib/remote/RemoteModuleTest.java
+++ b/src/test/java/com/google/devtools/build/lib/remote/RemoteModuleTest.java
@@ -46,7 +46,6 @@ import com.google.devtools.build.lib.pkgcache.PackageOptions;
 import com.google.devtools.build.lib.remote.circuitbreaker.FailureCircuitBreaker;
 import com.google.devtools.build.lib.remote.downloader.GrpcRemoteDownloader;
 import com.google.devtools.build.lib.remote.options.RemoteOptions;
-import com.google.devtools.build.lib.remote.options.RemoteOutputsMode;
 import com.google.devtools.build.lib.runtime.BlazeRuntime;
 import com.google.devtools.build.lib.runtime.BlazeServerStartupOptions;
 import com.google.devtools.build.lib.runtime.BlazeWorkspace;
@@ -541,30 +540,6 @@ public final class RemoteModuleTest {
     }
   }
 
-  @Test
-  public void httpCacheWithOutputMinimal_overrideToAll() throws Exception {
-    remoteOptions.remoteCache = "http://nonexistent.com";
-    remoteOptions.remoteOutputsMode = RemoteOutputsMode.MINIMAL;
-
-    beforeCommand();
-
-    assertThat(
-            remoteModule.getActionContextProvider().getRemoteOutputChecker().getRemoteOutputsMode())
-        .isEqualTo(RemoteOutputsMode.ALL);
-  }
-
-  @Test
-  public void httpCacheWithOutputToplevel_overrideToAll() throws Exception {
-    remoteOptions.remoteCache = "http://nonexistent.com";
-    remoteOptions.remoteOutputsMode = RemoteOutputsMode.TOPLEVEL;
-
-    beforeCommand();
-
-    assertThat(
-            remoteModule.getActionContextProvider().getRemoteOutputChecker().getRemoteOutputsMode())
-        .isEqualTo(RemoteOutputsMode.ALL);
-  }
-
   private void beforeCommand() throws IOException, AbruptExitException {
     CommandEnvironment env = createTestCommandEnvironment(remoteModule, remoteOptions);
     remoteModule.beforeCommand(env);
