diff --git a/MODULE.bazel b/MODULE.bazel
index 2c9089f547..75fa788432 100644
--- a/MODULE.bazel
+++ b/MODULE.bazel
@@ -185,6 +185,7 @@ maven.install(
         "org.apache.tomcat:tomcat-annotations-api:8.0.5",
         "org.apache.velocity:velocity:1.7",
         "org.checkerframework:checker-qual:3.42.0",
+        "org.commonmark:commonmark:0.25.0",
         "org.openjdk.jmh:jmh-core:1.37",
         "org.openjdk.jmh:jmh-generator-annprocess:1.37",
         "org.ow2.asm:asm:9.7.1",
diff --git a/maven_install.json b/maven_install.json
index c21d868010..f4563a2c98 100644
--- a/maven_install.json
+++ b/maven_install.json
@@ -1,7 +1,7 @@
 {
   "__AUTOGENERATED_FILE_DO_NOT_MODIFY_THIS_FILE_MANUALLY": "THERE_IS_NO_DATA_ONLY_ZUUL",
-  "__INPUT_ARTIFACTS_HASH": -242575472,
-  "__RESOLVED_ARTIFACTS_HASH": 248901938,
+  "__INPUT_ARTIFACTS_HASH": 677434361,
+  "__RESOLVED_ARTIFACTS_HASH": 333823463,
   "conflict_resolution": {
     "com.google.code.gson:gson:2.8.9": "com.google.code.gson:gson:2.11.0",
     "com.google.errorprone:error_prone_annotations:2.30.0": "com.google.errorprone:error_prone_annotations:2.40.0",
@@ -723,6 +723,12 @@
       },
       "version": "1.24"
     },
+    "org.commonmark:commonmark": {
+      "shasums": {
+        "jar": "081e89b23a73dc3af31f8e794f4166e6104b27b2b999bb3a9ceb4573f92b8cf9"
+      },
+      "version": "0.25.0"
+    },
     "org.hamcrest:hamcrest-core": {
       "shasums": {
         "jar": "66fdef91e9739348df7a096aa384a5685f4e875584cce89386a7a47251c4d8e9"
@@ -2603,6 +2609,24 @@
     "org.codehaus.mojo:animal-sniffer-annotations": [
       "org.codehaus.mojo.animal_sniffer"
     ],
+    "org.commonmark:commonmark": [
+      "org.commonmark",
+      "org.commonmark.internal",
+      "org.commonmark.internal.inline",
+      "org.commonmark.internal.renderer",
+      "org.commonmark.internal.renderer.text",
+      "org.commonmark.internal.util",
+      "org.commonmark.node",
+      "org.commonmark.parser",
+      "org.commonmark.parser.beta",
+      "org.commonmark.parser.block",
+      "org.commonmark.parser.delimiter",
+      "org.commonmark.renderer",
+      "org.commonmark.renderer.html",
+      "org.commonmark.renderer.markdown",
+      "org.commonmark.renderer.text",
+      "org.commonmark.text"
+    ],
     "org.hamcrest:hamcrest-core": [
       "org.hamcrest",
       "org.hamcrest.core",
@@ -2967,6 +2991,7 @@
       "org.checkerframework:checker-compat-qual",
       "org.checkerframework:checker-qual",
       "org.codehaus.mojo:animal-sniffer-annotations",
+      "org.commonmark:commonmark",
       "org.hamcrest:hamcrest-core",
       "org.jetbrains.kotlin:kotlin-metadata-jvm",
       "org.jetbrains.kotlin:kotlin-stdlib",
@@ -3121,4 +3146,4 @@
     }
   },
   "version": "2"
-}
+}
\ No newline at end of file
diff --git a/src/main/java/com/google/devtools/build/lib/util/BUILD b/src/main/java/com/google/devtools/build/lib/util/BUILD
index ed36feaf21..4f035f4763 100644
--- a/src/main/java/com/google/devtools/build/lib/util/BUILD
+++ b/src/main/java/com/google/devtools/build/lib/util/BUILD
@@ -490,3 +490,11 @@ java_library(
     name = "cleaner",
     srcs = ["BazelCleaner.java"],
 )
+
+java_library(
+    name = "markdown",
+    srcs = ["Markdown.java"],
+    deps = [
+        "@maven//:org_commonmark_commonmark",
+    ],
+)
diff --git a/src/main/java/com/google/devtools/build/lib/util/Markdown.java b/src/main/java/com/google/devtools/build/lib/util/Markdown.java
new file mode 100644
index 0000000000..ab710d77be
--- /dev/null
+++ b/src/main/java/com/google/devtools/build/lib/util/Markdown.java
@@ -0,0 +1,29 @@
+// Copyright 2025 The Bazel Authors. All rights reserved.
+//
+// Licensed under the Apache License, Version 2.0 (the "License");
+// you may not use this file except in compliance with the License.
+// You may obtain a copy of the License at
+//
+//    http://www.apache.org/licenses/LICENSE-2.0
+//
+// Unless required by applicable law or agreed to in writing, software
+// distributed under the License is distributed on an "AS IS" BASIS,
+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+// See the License for the specific language governing permissions and
+// limitations under the License.
+
+package com.google.devtools.build.lib.util;
+
+import org.commonmark.parser.Parser;
+import org.commonmark.renderer.html.HtmlRenderer;
+
+/** Helpers for markdown. */
+public class Markdown {
+  private static final Parser PARSER = Parser.builder().build();
+  private static final HtmlRenderer HTML_RENDERER = HtmlRenderer.builder().build();
+
+  /** Parses a string as markdown and renders it as HTML. */
+  public static String renderToHtml(String md) {
+    return HTML_RENDERER.render(PARSER.parse(md)).trim();
+  }
+}
diff --git a/src/main/java/com/google/devtools/common/options/BUILD b/src/main/java/com/google/devtools/common/options/BUILD
index 7dacc76f76..3af5a93c68 100644
--- a/src/main/java/com/google/devtools/common/options/BUILD
+++ b/src/main/java/com/google/devtools/common/options/BUILD
@@ -49,6 +49,7 @@ java_library(
         ],
     ),
     deps = [
+        "//src/main/java/com/google/devtools/build/lib/util:markdown",
         "//src/main/java/com/google/devtools/build/lib/util:pair",
         "//src/main/java/com/google/devtools/build/lib/util:string_encoding",
         "//src/main/java/com/google/devtools/build/lib/util/regex:regex_util",
diff --git a/src/main/java/com/google/devtools/common/options/Option.java b/src/main/java/com/google/devtools/common/options/Option.java
index fc66435317..e0ae5524c0 100644
--- a/src/main/java/com/google/devtools/common/options/Option.java
+++ b/src/main/java/com/google/devtools/common/options/Option.java
@@ -37,8 +37,8 @@ public @interface Option {
   char abbrev() default '\0';
 
   /**
-   * A help string for the usage information. Note that this should be in plain text (no HTML tags,
-   * for example).
+   * A help string for the usage information. Note that this should be in plain text or markdown (no
+   * HTML tags, for example). HTML syntax will be escaped in `bazel help everything-as-html`.
    */
   String help() default "";
 
diff --git a/src/main/java/com/google/devtools/common/options/OptionsUsage.java b/src/main/java/com/google/devtools/common/options/OptionsUsage.java
index 70dbb5549d..883840cf83 100644
--- a/src/main/java/com/google/devtools/common/options/OptionsUsage.java
+++ b/src/main/java/com/google/devtools/common/options/OptionsUsage.java
@@ -20,6 +20,7 @@ import com.google.common.base.Splitter;
 import com.google.common.collect.ImmutableList;
 import com.google.common.collect.Iterables;
 import com.google.common.escape.Escaper;
+import com.google.devtools.build.lib.util.Markdown;
 import java.text.BreakIterator;
 import java.util.ArrayList;
 import java.util.Arrays;
@@ -244,7 +245,7 @@ class OptionsUsage {
       usage.append("=").append(escaper.escape(valueDescription));
     } else if (!typeDescription.isEmpty()) {
       // Generic fallback, which isn't very good.
-      usage.append("=&lt;").append(escaper.escape(typeDescription)).append("&gt");
+      usage.append("=&lt;").append(escaper.escape(typeDescription)).append("&gt;");
     }
     usage.append("</code>");
     if (optionDefinition.getAbbreviation() != '\0') {
@@ -267,21 +268,20 @@ class OptionsUsage {
     usage.append("</dt>\n");
     usage.append("<dd>\n");
     if (!optionDefinition.getHelpText().isEmpty()) {
-      usage.append(escaper.escape(optionDefinition.getHelpText()));
+      usage.append(Markdown.renderToHtml(escaper.escape(optionDefinition.getHelpText())));
       usage.append('\n');
     }
 
     if (!optionsData.getEvaluatedExpansion(optionDefinition).isEmpty()) {
       // If this is an expansion option, list the expansion if known, or at least specify that we
       // don't know.
-      usage.append("<br/>\n");
       ImmutableList<String> expansion = getExpansionIfKnown(optionDefinition, optionsData);
       StringBuilder expandsMsg;
       if (expansion == null) {
-        expandsMsg = new StringBuilder("Expands to unknown options.<br/>\n");
+        expandsMsg = new StringBuilder("<p>Expands to unknown options.</p>\n");
       } else {
         Preconditions.checkArgument(!expansion.isEmpty());
-        expandsMsg = new StringBuilder("Expands to:<br/>\n");
+        expandsMsg = new StringBuilder("<p>Expands to:\n");
         for (String exp : expansion) {
           // TODO(jingwen): We link to the expanded flags here, but unfortunately we don't
           // currently guarantee that all flags are only printed once. A flag in an OptionBase that
@@ -289,7 +289,7 @@ class OptionsUsage {
           // be printed multiple times. Clicking on the flag will bring the user to its first
           // definition.
           expandsMsg
-              .append("&nbsp;&nbsp;")
+              .append("<br/>&nbsp;&nbsp;")
               .append("<code><a href=\"#flag")
               // Link to the '#flag--flag_name' hash.
               // Some expansions are in the form of '--flag_name=value', so we drop everything from
@@ -297,8 +297,9 @@ class OptionsUsage {
               .append(Iterables.get(Splitter.on('=').split(escaper.escape(exp)), 0))
               .append("\">")
               .append(escaper.escape(exp))
-              .append("</a></code><br/>\n");
+              .append("</a></code>\n");
         }
+        expandsMsg.append("</p>");
       }
       usage.append(expandsMsg);
     }
@@ -325,7 +326,7 @@ class OptionsUsage {
                               tag, Ascii.toLowerCase(tag.name()))))
               .collect(Collectors.joining(", "));
       if (!tagList.isEmpty()) {
-        usage.append("<br>Tags:\n").append(tagList);
+        usage.append("<p>Tags:\n").append(tagList).append("\n</p>");
       }
     }
 
diff --git a/src/test/java/com/google/devtools/common/options/OptionsUsageTest.java b/src/test/java/com/google/devtools/common/options/OptionsUsageTest.java
index fe168cbf1a..ba1dd61179 100644
--- a/src/test/java/com/google/devtools/common/options/OptionsUsageTest.java
+++ b/src/test/java/com/google/devtools/common/options/OptionsUsageTest.java
@@ -83,12 +83,12 @@ public final class OptionsUsageTest {
   public void commandNameAnchorId_htmlOutput() {
     assertThat(getHtmlUsageWithCommandName("test_string", "command_name"))
         .isEqualTo(
-            "<dt id=\"command_name-flag--test_string\"><code id=\"test_string\"><a"
-                + " href=\"#command_name-flag--test_string\">--test_string</a>=&lt;a"
-                + " string&gt</code> default: \"test string default\"</dt>\n"
-                + "<dd>\n"
-                + "a string-valued option to test simple option operations\n"
-                + "</dd>\n");
+            """
+            <dt id="command_name-flag--test_string"><code id="test_string"><a href="#command_name-flag--test_string">--test_string</a>=&lt;a string&gt;</code> default: "test string default"</dt>
+            <dd>
+            <p>a string-valued option to test simple option operations</p>
+            </dd>
+            """);
   }
 
   @Test
@@ -124,20 +124,22 @@ public final class OptionsUsageTest {
   public void stringValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_string"))
         .isEqualTo(
-            "<dt id=\"flag--test_string\"><code><a href=\"#flag--test_string\">--test_string</a>"
-                + "=&lt;a string&gt</code> default: \"test string default\"</dt>\n"
-                + "<dd>\n"
-                + "a string-valued option to test simple option operations\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_string"><code><a href="#flag--test_string">--test_string</a>=&lt;a string&gt;</code> default: "test string default"</dt>
+            <dd>
+            <p>a string-valued option to test simple option operations</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_string"))
         .isEqualTo(
-            "<dt id=\"flag--test_string\"><code><a href=\"#flag--test_string\">--test_string</a>"
-                + "=&lt;a string&gt</code> default: \"test string default\"</dt>\n"
-                + "<dd>\n"
-                + "a string-valued option to test simple option operations\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_string"><code><a href="#flag--test_string">--test_string</a>=&lt;a string&gt;</code> default: "test string default"</dt>
+            <dd>
+            <p>a string-valued option to test simple option operations</p>
+            <p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -173,22 +175,22 @@ public final class OptionsUsageTest {
   public void intValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("expanded_c"))
         .isEqualTo(
-            "<dt id=\"flag--expanded_c\"><code>"
-                + "<a href=\"#flag--expanded_c\">--expanded_c</a>"
-                + "=&lt;an integer&gt</code> default: \"12\"</dt>\n"
-                + "<dd>\n"
-                + "an int-value&#39;d flag used to test expansion logic\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--expanded_c"><code><a href="#flag--expanded_c">--expanded_c</a>=&lt;an integer&gt;</code> default: "12"</dt>
+            <dd>
+            <p>an int-value'd flag used to test expansion logic</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithTags("expanded_c"))
         .isEqualTo(
-            "<dt id=\"flag--expanded_c\"><code>"
-                + "<a href=\"#flag--expanded_c\">--expanded_c</a>"
-                + "=&lt;an integer&gt</code> default: \"12\"</dt>\n"
-                + "<dd>\n"
-                + "an int-value&#39;d flag used to test expansion logic\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--expanded_c"><code><a href="#flag--expanded_c">--expanded_c</a>=&lt;an integer&gt;</code> default: "12"</dt>
+            <dd>
+            <p>an int-value'd flag used to test expansion logic</p>
+            <p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -223,11 +225,12 @@ public final class OptionsUsageTest {
   public void booleanValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("expanded_a"))
         .isEqualTo(
-            "<dt id=\"flag--expanded_a\"><code><a href=\"#flag--expanded_a\">"
-                + "--[no]expanded_a</a></code> default: \"true\"</dt>\n"
-                + "<dd>\n"
-                + "A boolean flag with unknown effect to test tagless usage text.\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--expanded_a"><code><a href="#flag--expanded_a">--[no]expanded_a</a></code> default: "true"</dt>
+            <dd>
+            <p>A boolean flag with unknown effect to test tagless usage text.</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithoutTags("expanded_a")).isEqualTo(getHtmlUsageWithTags("expanded_a"));
   }
 
@@ -264,24 +267,22 @@ public final class OptionsUsageTest {
   public void multipleValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_multiple_string"))
         .isEqualTo(
-            "<dt id=\"flag--test_multiple_string\"><code>"
-                + "<a href=\"#flag--test_multiple_string\">--test_multiple_string</a>"
-                + "=&lt;a string&gt</code> "
-                + "multiple uses are accumulated</dt>\n"
-                + "<dd>\n"
-                + "a repeatable string-valued flag with its own unhelpful help text\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_multiple_string"><code><a href="#flag--test_multiple_string">--test_multiple_string</a>=&lt;a string&gt;</code> multiple uses are accumulated</dt>
+            <dd>
+            <p>a repeatable string-valued flag with its own unhelpful help text</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_multiple_string"))
         .isEqualTo(
-            "<dt id=\"flag--test_multiple_string\"><code>"
-                + "<a href=\"#flag--test_multiple_string\">--test_multiple_string</a>"
-                + "=&lt;a string&gt</code> "
-                + "multiple uses are accumulated</dt>\n"
-                + "<dd>\n"
-                + "a repeatable string-valued flag with its own unhelpful help text\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_multiple_string"><code><a href="#flag--test_multiple_string">--test_multiple_string</a>=&lt;a string&gt;</code> multiple uses are accumulated</dt>
+            <dd>
+            <p>a repeatable string-valued flag with its own unhelpful help text</p>
+            <p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -319,26 +320,22 @@ public final class OptionsUsageTest {
   public void customConverterValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_list_converters"))
         .isEqualTo(
-            "<dt id=\"flag--test_list_converters\"><code>"
-                + "<a href=\"#flag--test_list_converters\">--test_list_converters</a>"
-                + "=&lt;a list of strings&gt</code> "
-                + "multiple uses are accumulated</dt>\n"
-                + "<dd>\n"
-                + "a repeatable flag that accepts lists, but doesn&#39;t want to have lists of "
-                + "lists as a final type\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_list_converters"><code><a href="#flag--test_list_converters">--test_list_converters</a>=&lt;a list of strings&gt;</code> multiple uses are accumulated</dt>
+            <dd>
+            <p>a repeatable flag that accepts lists, but doesn't want to have lists of lists as a final type</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_list_converters"))
         .isEqualTo(
-            "<dt id=\"flag--test_list_converters\"><code>"
-                + "<a href=\"#flag--test_list_converters\">--test_list_converters</a>"
-                + "=&lt;a list of strings&gt</code> "
-                + "multiple uses are accumulated</dt>\n"
-                + "<dd>\n"
-                + "a repeatable flag that accepts lists, but doesn&#39;t want to have lists of "
-                + "lists as a final type\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_list_converters"><code><a href="#flag--test_list_converters">--test_list_converters</a>=&lt;a list of strings&gt;</code> multiple uses are accumulated</dt>
+            <dd>
+            <p>a repeatable flag that accepts lists, but doesn't want to have lists of lists as a final type</p>
+            <p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -378,40 +375,36 @@ public final class OptionsUsageTest {
   public void staticExpansionOption_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_expansion"))
         .isEqualTo(
-            "<dt id=\"flag--test_expansion\"><code><a href=\"#flag--test_expansion\">"
-                + "--test_expansion</a></code></dt>\n"
-                + "<dd>\n"
-                + "this expands to an alphabet soup.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code>"
-                + "<a href=\"#flag--noexpanded_a\">--noexpanded_a</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code>"
-                + "<a href=\"#flag--expanded_b\">--expanded_b=false</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag--expanded_c\">--expanded_c</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag42\">42</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag--expanded_d\">--expanded_d</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flagbar\">bar</a></code><br/>\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_expansion"><code><a href="#flag--test_expansion">--test_expansion</a></code></dt>
+            <dd>
+            <p>this expands to an alphabet soup.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--noexpanded_a">--noexpanded_a</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_b">--expanded_b=false</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_c">--expanded_c</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag42">42</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_d">--expanded_d</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flagbar">bar</a></code>
+            </p></dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_expansion"))
         .isEqualTo(
-            "<dt id=\"flag--test_expansion\"><code><a href=\"#flag--test_expansion\">"
-                + "--test_expansion</a></code></dt>\n"
-                + "<dd>\n"
-                + "this expands to an alphabet soup.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code>"
-                + "<a href=\"#flag--noexpanded_a\">--noexpanded_a</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code>"
-                + "<a href=\"#flag--expanded_b\">--expanded_b=false</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag--expanded_c\">--expanded_c</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag42\">42</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flag--expanded_d\">--expanded_d</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a href=\"#flagbar\">bar</a></code><br/>\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_expansion"><code><a href="#flag--test_expansion">--test_expansion</a></code></dt>
+            <dd>
+            <p>this expands to an alphabet soup.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--noexpanded_a">--noexpanded_a</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_b">--expanded_b=false</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_c">--expanded_c</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag42">42</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--expanded_d">--expanded_d</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flagbar">bar</a></code>
+            </p><p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -458,31 +451,28 @@ public final class OptionsUsageTest {
   public void recursiveExpansionOption_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_recursive_expansion_top_level"))
         .isEqualTo(
-            "<dt id=\"flag--test_recursive_expansion_top_level\"><code><a"
-                + " href=\"#flag--test_recursive_expansion_top_level\">--test_recursive_expansion_top_level</a></code></dt>\n"
-                + "<dd>\n"
-                + "Lets the children do all the work.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_recursive_expansion_middle1\">--test_recursive_expansion_middle1</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_recursive_expansion_middle2\">--test_recursive_expansion_middle2</a></code><br/>\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_recursive_expansion_top_level"><code><a href="#flag--test_recursive_expansion_top_level">--test_recursive_expansion_top_level</a></code></dt>
+            <dd>
+            <p>Lets the children do all the work.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_recursive_expansion_middle1">--test_recursive_expansion_middle1</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_recursive_expansion_middle2">--test_recursive_expansion_middle2</a></code>
+            </p></dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_recursive_expansion_top_level"))
         .isEqualTo(
-            "<dt id=\"flag--test_recursive_expansion_top_level\"><code><a"
-                + " href=\"#flag--test_recursive_expansion_top_level\">--test_recursive_expansion_top_level</a></code></dt>\n"
-                + "<dd>\n"
-                + "Lets the children do all the work.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_recursive_expansion_middle1\">--test_recursive_expansion_middle1</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_recursive_expansion_middle2\">--test_recursive_expansion_middle2</a></code><br/>\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a></dd>\n");
+            """
+            <dt id="flag--test_recursive_expansion_top_level"><code><a href="#flag--test_recursive_expansion_top_level">--test_recursive_expansion_top_level</a></code></dt>
+            <dd>
+            <p>Lets the children do all the work.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_recursive_expansion_middle1">--test_recursive_expansion_middle1</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_recursive_expansion_middle2">--test_recursive_expansion_middle2</a></code>
+            </p><p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -522,31 +512,28 @@ public final class OptionsUsageTest {
   public void expansionToMultipleValue_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_expansion_to_repeatable"))
         .isEqualTo(
-            "<dt id=\"flag--test_expansion_to_repeatable\"><code><a"
-                + " href=\"#flag--test_expansion_to_repeatable\">--test_expansion_to_repeatable</a></code></dt>\n"
-                + "<dd>\n"
-                + "Go forth and multiply, they said.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_multiple_string\">--test_multiple_string=expandedFirstValue</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_multiple_string\">--test_multiple_string=expandedSecondValue</a></code><br/>\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_expansion_to_repeatable"><code><a href="#flag--test_expansion_to_repeatable">--test_expansion_to_repeatable</a></code></dt>
+            <dd>
+            <p>Go forth and multiply, they said.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_multiple_string">--test_multiple_string=expandedFirstValue</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_multiple_string">--test_multiple_string=expandedSecondValue</a></code>
+            </p></dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_expansion_to_repeatable"))
         .isEqualTo(
-            "<dt id=\"flag--test_expansion_to_repeatable\"><code><a"
-                + " href=\"#flag--test_expansion_to_repeatable\">--test_expansion_to_repeatable</a></code></dt>\n"
-                + "<dd>\n"
-                + "Go forth and multiply, they said.\n"
-                + "<br/>\n"
-                + "Expands to:<br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_multiple_string\">--test_multiple_string=expandedFirstValue</a></code><br/>\n"
-                + "&nbsp;&nbsp;<code><a"
-                + " href=\"#flag--test_multiple_string\">--test_multiple_string=expandedSecondValue</a></code><br/>\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a></dd>\n");
+            """
+            <dt id="flag--test_expansion_to_repeatable"><code><a href="#flag--test_expansion_to_repeatable">--test_expansion_to_repeatable</a></code></dt>
+            <dd>
+            <p>Go forth and multiply, they said.</p>
+            <p>Expands to:
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_multiple_string">--test_multiple_string=expandedFirstValue</a></code>
+            <br/>&nbsp;&nbsp;<code><a href="#flag--test_multiple_string">--test_multiple_string=expandedSecondValue</a></code>
+            </p><p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
   }
 
   @Test
@@ -586,23 +573,74 @@ public final class OptionsUsageTest {
   public void implicitRequirementOption_htmlOutput() {
     assertThat(getHtmlUsageWithoutTags("test_implicit_requirement"))
         .isEqualTo(
-            "<dt id=\"flag--test_implicit_requirement\"><code>"
-                + "<a href=\"#flag--test_implicit_requirement\">--test_implicit_requirement</a>"
-                + "=&lt;a string&gt</code> "
-                + "default: \"direct implicit\"</dt>\n"
-                + "<dd>\n"
-                + "this option really needs that other one, isolation of purpose has failed.\n"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_implicit_requirement"><code><a href="#flag--test_implicit_requirement">--test_implicit_requirement</a>=&lt;a string&gt;</code> default: "direct implicit"</dt>
+            <dd>
+            <p>this option really needs that other one, isolation of purpose has failed.</p>
+            </dd>
+            """);
     assertThat(getHtmlUsageWithTags("test_implicit_requirement"))
         .isEqualTo(
-            "<dt id=\"flag--test_implicit_requirement\"><code>"
-                + "<a href=\"#flag--test_implicit_requirement\">--test_implicit_requirement</a>"
-                + "=&lt;a string&gt</code> "
-                + "default: \"direct implicit\"</dt>\n"
-                + "<dd>\n"
-                + "this option really needs that other one, isolation of purpose has failed.\n"
-                + "<br>Tags:\n"
-                + "<a href=\"#effect_tag_NO_OP\"><code>no_op</code></a>"
-                + "</dd>\n");
+            """
+            <dt id="flag--test_implicit_requirement"><code><a href="#flag--test_implicit_requirement">--test_implicit_requirement</a>=&lt;a string&gt;</code> default: "direct implicit"</dt>
+            <dd>
+            <p>this option really needs that other one, isolation of purpose has failed.</p>
+            <p>Tags:
+            <a href="#effect_tag_NO_OP"><code>no_op</code></a>
+            </p></dd>
+            """);
+  }
+
+  @Test
+  public void markdownInHelp_longTerminalOutput() {
+    assertThat(getTerminalUsageWithoutTags("markdown_in_help", HelpVerbosity.LONG))
+        .isEqualTo(
+            """
+              --markdown_in_help (a string; default: "default")
+                normal, `code span`, *emphasis*, **strong emphasis**, [inline link](/url\s
+                (title)), [reference link][ref]
+                hard line\\
+                break
+                ```
+                code block
+                ```
+                - unordered
+                - list
+                1. ordered
+                2. list
+               \s
+                paragraph 1
+               \s
+                paragraph 2
+               \s
+                [ref]: /url (title)
+               \s
+            """);
+  }
+
+  @Test
+  public void markdownInHelp_htmlOutput() {
+    assertThat(getHtmlUsageWithoutTags("markdown_in_help"))
+        .isEqualTo(
+            """
+            <dt id="flag--markdown_in_help"><code><a href="#flag--markdown_in_help">--markdown_in_help</a>=&lt;a string&gt;</code> default: "default"</dt>
+            <dd>
+            <p>normal, <code>code span</code>, <em>emphasis</em>, <strong>strong emphasis</strong>, <a href="/url" title="title">inline link</a>, <a href="/url" title="title">reference link</a>
+            hard line<br />
+            break</p>
+            <pre><code>code block
+            </code></pre>
+            <ul>
+            <li>unordered</li>
+            <li>list</li>
+            </ul>
+            <ol>
+            <li>ordered</li>
+            <li>list</li>
+            </ol>
+            <p>paragraph 1</p>
+            <p>paragraph 2</p>
+            </dd>
+            """);
   }
 }
diff --git a/src/test/java/com/google/devtools/common/options/TestOptions.java b/src/test/java/com/google/devtools/common/options/TestOptions.java
index 2e95799f40..4fd3ae0fae 100644
--- a/src/test/java/com/google/devtools/common/options/TestOptions.java
+++ b/src/test/java/com/google/devtools/common/options/TestOptions.java
@@ -248,4 +248,30 @@ public class TestOptions extends OptionsBase {
       documentationCategory = OptionDocumentationCategory.UNCATEGORIZED,
       effectTags = {OptionEffectTag.NO_OP})
   public String testDeprecated;
+
+  @Option(
+      name = "markdown_in_help",
+      defaultValue = "default",
+      help =
+          """
+          normal, `code span`, *emphasis*, **strong emphasis**, [inline link](/url (title)), [reference link][ref]
+          hard line\\
+          break
+          ```
+          code block
+          ```
+          - unordered
+          - list
+          1. ordered
+          2. list
+
+          paragraph 1
+
+          paragraph 2
+
+          [ref]: /url (title)
+          """,
+      documentationCategory = OptionDocumentationCategory.UNCATEGORIZED,
+      effectTags = {OptionEffectTag.NO_OP})
+  public String markdownInHelp;
 }
