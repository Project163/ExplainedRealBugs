<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:57:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-621] OntDocumentManager always resolves policy file to ont-policy.rdf</title>
                <link>https://issues.apache.org/jira/browse/JENA-621</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;Follows on from &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-525&quot; title=&quot;OntDocumentManager copies the FileManager incorrectly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-525&quot;&gt;&lt;del&gt;JENA-525&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;OntDocumentManager&lt;/tt&gt; has a default path for looking for policy files of &lt;tt&gt;&lt;a href=&quot;file:ont-policy.rdf;file:etc/ont-policy.rdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:ont-policy.rdf;file:etc/ont-policy.rdf&lt;/a&gt;&lt;/tt&gt; but as of commit &lt;tt&gt;r1455078 / 2013-03-11&lt;/tt&gt;, the default policy files go into src/main/resources.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;OntDocumentManager&lt;/tt&gt; uses the old/core &lt;tt&gt;FileManager&lt;/tt&gt; explicitly in &lt;tt&gt;findMetadata&lt;/tt&gt; with file, URL and classloader locators.&lt;/p&gt;

&lt;p&gt;The core &lt;tt&gt;LocatorClassloader&lt;/tt&gt; converts URIs to plain file names which then have no &lt;tt&gt;file:&lt;/tt&gt; so it looks up &lt;tt&gt;ont-policy.rdf&lt;/tt&gt; on the locator list. This is always found by the class loader - it&apos;s in the jar.  &lt;tt&gt;&lt;a href=&quot;file:etc/ont-policy.rdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:etc/ont-policy.rdf&lt;/a&gt;&lt;/tt&gt; will never be tried.&lt;/p&gt;

&lt;p&gt;The consequence is that &lt;tt&gt;&lt;a href=&quot;file:ont-policy.rdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:ont-policy.rdf&lt;/a&gt;&lt;/tt&gt; is always found - it may be a real file or in the jar.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Workaround&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Set the path explicitly with &lt;tt&gt;OntDocumentManager.setMetadataSearchPath&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12688262">JENA-621</key>
            <summary>OntDocumentManager always resolves policy file to ont-policy.rdf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andy">Andy Seaborne</assignee>
                                    <reporter username="andy">Andy Seaborne</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jan 2014 15:42:13 +0000</created>
                <updated>Wed, 15 Jan 2014 12:01:40 +0000</updated>
                            <resolved>Wed, 15 Jan 2014 12:01:30 +0000</resolved>
                                    <version>Jena 2.11.0</version>
                                    <fixVersion>Jena 2.11.1</fixVersion>
                                    <component>Ontology API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13867929" author="andy.seaborne" created="Fri, 10 Jan 2014 15:48:11 +0000"  >&lt;p&gt;Possible fix:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Change the jena-core LocatorClassloader to not handle &lt;tt&gt;file:&lt;/tt&gt; (it&apos;s only used by &lt;tt&gt;OntDocmentManager&lt;/tt&gt; these days and will change sometime).&lt;/li&gt;
	&lt;li&gt;Change the default path to &lt;tt&gt;&lt;a href=&quot;file:ont-policy.rdf;file:etc/ont-policy.rdf;ont-policy.rdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:ont-policy.rdf;file:etc/ont-policy.rdf;ont-policy.rdf&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Change tests to align.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;(NB RIOT &lt;tt&gt;LocatorClassloader&lt;/tt&gt; does not handle &lt;tt&gt;file:&lt;/tt&gt; resources - this was possibly the original intention)&lt;/p&gt;</comment>
                            <comment id="13871971" author="jira-bot" created="Wed, 15 Jan 2014 12:00:45 +0000"  >&lt;p&gt;Commit 1558348 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andy.seaborne&quot; class=&quot;user-hover&quot; rel=&quot;andy.seaborne&quot;&gt;andy.seaborne&lt;/a&gt; in branch &apos;jena/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1558348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1558348&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-621&quot; title=&quot;OntDocumentManager always resolves policy file to ont-policy.rdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-621&quot;&gt;&lt;del&gt;JENA-621&lt;/del&gt;&lt;/a&gt; : Handling of ont-policy.rdf&lt;/p&gt;</comment>
                            <comment id="13871972" author="andy.seaborne" created="Wed, 15 Jan 2014 12:01:30 +0000"  >&lt;p&gt;Patch applied.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12665908">JENA-525</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12622409" name="jena-621-v1.patch" size="11177" author="andy" created="Fri, 10 Jan 2014 17:51:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rb47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>