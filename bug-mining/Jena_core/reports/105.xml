<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:57:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-733] Long typed literals report class java.lang.Long but return java.lang.Integer</title>
                <link>https://issues.apache.org/jira/browse/JENA-733</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;This is my first bug report ever so I hope I get this right. When retrieving query results with ARQ, long values are returned as Integers:&lt;br/&gt;
&lt;tt&gt;QuerySulution qs;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Literal l = qs.getLiteral(&quot;myVar&quot;);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;l.getDatatype().getJavaClass(); //returns java.lang.Long which is correct&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;l.getValue(); //returns a java.lang.Integer object but it should return a java.lang.Long object according to the docs&lt;/tt&gt;&lt;br/&gt;
I have this problem with ARQ 2.11.2 which does not exist in the &quot;affects version&quot; drop down.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12724290">JENA-733</key>
            <summary>Long typed literals report class java.lang.Long but return java.lang.Integer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="willow">Benno Willoweit</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2014 13:38:46 +0000</created>
                <updated>Sun, 21 May 2017 23:26:34 +0000</updated>
                            <resolved>Wed, 5 Apr 2017 03:20:10 +0000</resolved>
                                    <version>Jena 2.11.2</version>
                                                    <component>RDF API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14046917" author="andy.seaborne" created="Sat, 28 Jun 2014 16:44:32 +0000"  >&lt;p&gt;Hi Benno,&lt;/p&gt;

&lt;p&gt;Thanks for the report - do you have a complete, minimal example?  It is really helpful to have a sample of code that someone can very easily run without needing to add details which may be related to the issue at hand.&lt;/p&gt;

&lt;p&gt;Specifically:&lt;/p&gt;

&lt;p&gt;1. What is `l` in full?&lt;br/&gt;
2. What is the query and what kind of dataset or model is the query being made on?&lt;/p&gt;</comment>
                            <comment id="14047107" author="willow" created="Sun, 29 Jun 2014 12:01:13 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I did a bit of debugging with attached sources (sorry, should have done this straightaway) and found that this is not an ARQ problem. Actually, when creating a typed long literal in Jena you end up with an Integer object in the model if the number fits in the integer range. At line 467 in &lt;tt&gt;com.hp.hpl.jena.datatypes.xsd.XSDDatatype&lt;/tt&gt; there is a static function &lt;tt&gt;suitableInteger(long number)&lt;/tt&gt; which casts the value to an int if it fits into 4 bytes and returns the integer wrapper class. So this is obviously done on purpose but it&apos;s not consistent with what &lt;tt&gt;literal.getDatatype()&lt;/tt&gt; returns. And I honestly think it&apos;s a bad feature &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;For the record, my testing sample (eclipse project) is on bitbucket: &lt;a href=&quot;https://kolchose0711@bitbucket.org/kolchose0711/jenalongint.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://kolchose0711@bitbucket.org/kolchose0711/jenalongint.git&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14047175" author="andy.seaborne" created="Sun, 29 Jun 2014 17:22:10 +0000"  >&lt;p&gt;Indeed - SPARQL part is not affecting the situation.&lt;/p&gt;

&lt;p&gt;Short example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; Model m = ModelFactory.createDefaultModel();
        Literal litLong = m.createTypedLiteral(1L) ;
        Literal litInt = m.createTypedLiteral(1) ;
        Class&amp;lt;?&amp;gt; litLongJClass = litLong.getDatatype().getJavaClass();
        Class&amp;lt;?&amp;gt; litIntJClass = litInt.getDatatype().getJavaClass();

        Class&amp;lt;?&amp;gt; isLongJVClass = litLong.getValue().getClass();
        Class&amp;lt;?&amp;gt; isIntJVClass =  litInt.getValue().getClass();

        System.out.printf(&quot;Long:\n&quot;) ;
        System.out.printf(&quot;datatype.getJavaClass:  %s\n&quot;, litLongJClass) ;
        System.out.printf(&quot;literal.getValue class: %s\n&quot;, isLongJVClass) ;
        System.out.printf(&quot;Integer:\n&quot;) ;
        System.out.printf(&quot;datatype.getJavaClass:  %s\n&quot;, litIntJClass) ;
        System.out.printf(&quot;literal.getValue class: %s\n&quot;, isIntJVClass) ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14067864" author="andy.seaborne" created="Sun, 20 Jul 2014 09:14:58 +0000"  >&lt;p&gt;This is very old behaviour. The documentation should be fixed to state it can be a &quot;narrower&quot; class.&lt;/p&gt;</comment>
                            <comment id="15951133" author="githubbot" created="Fri, 31 Mar 2017 15:30:52 +0000"  >&lt;p&gt;GitHub user kinow opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/230&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; title=&quot;Long typed literals report class java.lang.Long but return java.lang.Integer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-733&quot;&gt;&lt;del&gt;JENA-733&lt;/del&gt;&lt;/a&gt; add documentation for narrower data type case&lt;/p&gt;

&lt;p&gt;    Tried to clarify what happens when users provide Long values that fit into Integers, for &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; title=&quot;Long typed literals report class java.lang.Long but return java.lang.Integer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-733&quot;&gt;&lt;del&gt;JENA-733&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JENA-733&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;    I think if the docs are good to be merged, then the issue in JIRA can be closed too.&lt;/p&gt;

&lt;p&gt;    Cheers&lt;br/&gt;
    Bruno&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kinow/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kinow/jena&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; title=&quot;Long typed literals report class java.lang.Long but return java.lang.Integer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-733&quot;&gt;&lt;del&gt;JENA-733&lt;/del&gt;&lt;/a&gt;-javadocs&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/230.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/230.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #230&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 58cd30308e36dda3e2686953257ec771d72f681b&lt;br/&gt;
Author: Bruno P. Kinoshita &amp;lt;brunodepaulak@yahoo.com.br&amp;gt;&lt;br/&gt;
Date:   2017-03-31T15:28:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; title=&quot;Long typed literals report class java.lang.Long but return java.lang.Integer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-733&quot;&gt;&lt;del&gt;JENA-733&lt;/del&gt;&lt;/a&gt; add documentation for narrower data type case&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15951146" author="githubbot" created="Fri, 31 Mar 2017 15:36:24 +0000"  >&lt;p&gt;Github user rvesse commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/230&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 LGTM&lt;/p&gt;</comment>
                            <comment id="15951151" author="kinow" created="Fri, 31 Mar 2017 15:38:20 +0000"  >&lt;p&gt;Submitted a pull request to update the documentation.&lt;/p&gt;</comment>
                            <comment id="15956232" author="jira-bot" created="Wed, 5 Apr 2017 03:17:52 +0000"  >&lt;p&gt;Commit 0a3675ac78c90eded615ac8e28d5f3b7afcc8a63 in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brunodepaulak%40yahoo.com.br&quot; class=&quot;user-hover&quot; rel=&quot;brunodepaulak@yahoo.com.br&quot;&gt;brunodepaulak@yahoo.com.br&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=0a3675a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=0a3675a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-733&quot; title=&quot;Long typed literals report class java.lang.Long but return java.lang.Integer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-733&quot;&gt;&lt;del&gt;JENA-733&lt;/del&gt;&lt;/a&gt; add documentation for narrower data type case&lt;/p&gt;</comment>
                            <comment id="15956233" author="githubbot" created="Wed, 5 Apr 2017 03:18:05 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/230&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15956234" author="githubbot" created="Wed, 5 Apr 2017 03:18:39 +0000"  >&lt;p&gt;Github user kinow commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/230&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merged. Will resolve the JIRA issue now. Thanks!&lt;/p&gt;</comment>
                            <comment id="15956236" author="kinow" created="Wed, 5 Apr 2017 03:20:10 +0000"  >&lt;p&gt;Javadoc updated. Thanks!&lt;/p&gt;</comment>
                            <comment id="16019029" author="andy.seaborne" created="Sun, 21 May 2017 23:26:34 +0000"  >&lt;p&gt;Close resolved ticket.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x9wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>