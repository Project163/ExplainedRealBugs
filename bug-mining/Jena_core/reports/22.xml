<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:57:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-381] Composed graphs do no generate listener event for deletion on iterator.</title>
                <link>https://issues.apache.org/jira/browse/JENA-381</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;Composed graphs do no generate listener event for deletion on iterator as indicated by failure of testEventDeleteByFind() in AbstractTestGraph&lt;/p&gt;

&lt;p&gt;Analysis:&lt;/p&gt;

&lt;p&gt;returned iterator is a composite of the iterators on the base graph. e.g. AIter.andThen( BIter ).  When remove is called it is executed against the base graph.  The composed graph does not listen to the base graphs and thus does not broadcast the subgraph deletion to its listeners.&lt;/p&gt;

&lt;p&gt;Potential Solution:&lt;/p&gt;

&lt;p&gt;Have the composite graph register as a listener to the base graphs and rebroadcast all events to its listeners.  I expect that this will cause duplicate notification for currently broadcast events and that several methods that modify the graph and broadcast the change will have to be modified so as not to announce the change but let the underlying graph announce it.&lt;/p&gt;

&lt;p&gt;Alternative Solution:&lt;/p&gt;

&lt;p&gt;Modify the iterator so that it wraps the currently returned iterator trap the delete method and announces the deletion to its listeners after calling the delete on the wrapped iterator.&lt;/p&gt;

&lt;p&gt;The alternative solution is probably easier to implement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627307">JENA-381</key>
            <summary>Composed graphs do no generate listener event for deletion on iterator.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="andy">Andy Seaborne</assignee>
                                    <reporter username="claude">Claude Warren</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Jan 2013 10:46:55 +0000</created>
                <updated>Sun, 1 Feb 2015 18:56:58 +0000</updated>
                            <resolved>Sun, 1 Feb 2015 18:56:58 +0000</resolved>
                                    <version>Jena 2.7.4</version>
                    <version>Jena 2.10.0</version>
                                    <fixVersion>Jena 2.11.0</fixVersion>
                                    <component>Jena</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13554040" author="andy.seaborne" created="Tue, 15 Jan 2013 17:40:57 +0000"  >&lt;p&gt;The test AbstractTestGraph.testEventDeleteByFind() is now intercepted by TestDyadic and made a no-op.  This allows the test to be used elsewhere and the test suite to pass.  &lt;/p&gt;

&lt;p&gt;(If the test suite is not passing, we don&apos;t notice newly introduced errors)&lt;/p&gt;</comment>
                            <comment id="13554196" author="hudson" created="Tue, 15 Jan 2013 19:28:11 +0000"  >&lt;p&gt;Integrated in Jena__Development_Test #400 (See &lt;a href=&quot;https://builds.apache.org/job/Jena__Development_Test/400/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Jena__Development_Test/400/&lt;/a&gt;)&lt;br/&gt;
    1/ Bump up counts for randomized isomorphism tests.&lt;br/&gt;
2/ Make TestDyadic catch test and make a no-op for composite graphs.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-381&quot; title=&quot;Composed graphs do no generate listener event for deletion on iterator.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-381&quot;&gt;&lt;del&gt;JENA-381&lt;/del&gt;&lt;/a&gt;. (Revision 1433550)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
andy : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/graph/compose/test/TestDyadic.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/graph/test/AbstractTestGraph.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/rdf/model/test/TestIsomorphic.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563410" author="claudenw" created="Sat, 26 Jan 2013 09:26:08 +0000"  >&lt;p&gt;Patch to correct the defect.&lt;/p&gt;

&lt;p&gt;creates _graphBaseFind( TripleMatch m ) in Dyadic.java&lt;br/&gt;
overrides graphBaseFind( TripleMatch m) to wrap the result of _graphBaseFind( m ) with a SimpleEventManager.notifyingRemove( )&lt;/p&gt;</comment>
                            <comment id="13563844" author="andy.seaborne" created="Sun, 27 Jan 2013 17:21:25 +0000"  >&lt;p&gt;Patch applied to SVN trunk.&lt;br/&gt;
(added one @Override to remove a warning)&lt;/p&gt;</comment>
                            <comment id="14300335" author="andy.seaborne" created="Sun, 1 Feb 2015 18:48:51 +0000"  >&lt;p&gt;Reopen to set fix version.&lt;/p&gt;</comment>
                            <comment id="14300395" author="andy.seaborne" created="Sun, 1 Feb 2015 18:56:58 +0000"  >&lt;p&gt;Set fix version &amp;#8211; bulk change to set old and unmarked issues to 2.11.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566622" name="jena-381.patch" size="5518" author="claude" created="Sat, 26 Jan 2013 09:26:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17j8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>