<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:57:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-1405] Possible NPE in AdaptorFileManager</title>
                <link>https://issues.apache.org/jira/browse/JENA-1405</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;Encountered this after updating an old test harness to the latest libraries:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException
	at org.apache.jena.riot.adapters.AdapterFileManager.readModelWorker(AdapterFileManager.java:288)
	at org.apache.jena.util.FileManager.loadModelWorker(FileManager.java:305)
	at org.apache.jena.util.FileManager.loadModel(FileManager.java:258)
	at org.apache.jena.util.junit.Manifest.&amp;lt;init&amp;gt;(Manifest.java:55)
	at org.apache.jena.util.junit.TestFactoryManifest.oneManifest(TestFactoryManifest.java:46)
	at org.apache.jena.util.junit.TestFactoryManifest.oneManifest(TestFactoryManifest.java:62)
	at org.apache.jena.util.junit.TestFactoryManifest.process(TestFactoryManifest.java:38)
	at com.cray.km.arq.suites.CqeTestFactory.make(CqeTestFactory.java:62)
	at com.cray.km.arq.suites.ReducedDAWGSuite.&amp;lt;init&amp;gt;(ReducedDAWGSuite.java:62)
	at com.cray.km.arq.suites.ReducedDAWGSuite.suite(ReducedDAWGSuite.java:42)
	at com.cray.km.arq.TestDAWG.suite(TestDAWG.java:55)
	at com.cray.km.arq.TestDAWG.main(TestDAWG.java:46)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The NPE occurs because the Code fails to check that the input stream isn&apos;t &lt;tt&gt;null&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13111919">JENA-1405</key>
            <summary>Possible NPE in AdaptorFileManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rvesse">Rob Vesse</assignee>
                                    <reporter username="rvesse">Rob Vesse</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Oct 2017 09:38:31 +0000</created>
                <updated>Mon, 6 Nov 2017 11:19:43 +0000</updated>
                            <resolved>Mon, 6 Nov 2017 11:19:36 +0000</resolved>
                                    <version>Jena 3.4.0</version>
                                    <fixVersion>Jena 3.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16218371" author="githubbot" created="Wed, 25 Oct 2017 10:27:28 +0000"  >&lt;p&gt;GitHub user rvesse opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix and tests for possible NPE (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    Fixes a possible NPE in AdaptorFileManager by aligning its behaviour&lt;br/&gt;
    with FileManager to throw NotFoundException&lt;/p&gt;

&lt;p&gt;    Adds specific tests for these cases&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rvesse/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rvesse/jena&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #294&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 643bd7a944e23554d21d1f01c207fe7e1a3d3098&lt;br/&gt;
Author: Rob Vesse &amp;lt;rvesse@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-10-25T10:26:37Z&lt;/p&gt;

&lt;p&gt;    Fix and tests for possible NPE (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    Fixes a possible NPE in AdaptorFileManager by aligning its behaviour&lt;br/&gt;
    with FileManager to throw NotFoundException&lt;/p&gt;

&lt;p&gt;    Adds specific tests for these cases&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16218429" author="githubbot" created="Wed, 25 Oct 2017 11:30:30 +0000"  >&lt;p&gt;Github user ajs6f commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294#discussion_r146827609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294#discussion_r146827609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java &amp;#8212;&lt;br/&gt;
    @@ -285,6 +286,12 @@ protected Model readModelWorker(Model model, String filenameOrURI, String baseUR&lt;br/&gt;
             if ( baseURI == null )&lt;br/&gt;
                 baseURI = SysRIOT.chooseBaseIRI(filenameOrURI) ;&lt;br/&gt;
             try(TypedInputStream in = streamManager.openNoMapOrNull(mappedURI)) {&lt;br/&gt;
    +            if ( in == null )&lt;br/&gt;
    +            {&lt;br/&gt;
    +                if ( log.isDebugEnabled() )&lt;br/&gt;
    +                    log.debug(&quot;Failed to locate &apos;&quot;&lt;ins&gt;mappedURI&lt;/ins&gt;&quot;&apos;&quot;) ;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    As I understand it, `log.debug(&quot;Failed to locate &apos;{}&apos;&quot;, mappedURI) ` &lt;span class=&quot;error&quot;&gt;&amp;#91;avoids the need&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.slf4j.org/faq.html#logging_performance&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.slf4j.org/faq.html#logging_performance&lt;/a&gt;) to explicitly check `isDebugEnabled()`.&lt;/p&gt;</comment>
                            <comment id="16218600" author="githubbot" created="Wed, 25 Oct 2017 13:17:09 +0000"  >&lt;p&gt;Github user rvesse commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294#discussion_r146852236&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294#discussion_r146852236&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java &amp;#8212;&lt;br/&gt;
    @@ -285,6 +286,12 @@ protected Model readModelWorker(Model model, String filenameOrURI, String baseUR&lt;br/&gt;
             if ( baseURI == null )&lt;br/&gt;
                 baseURI = SysRIOT.chooseBaseIRI(filenameOrURI) ;&lt;br/&gt;
             try(TypedInputStream in = streamManager.openNoMapOrNull(mappedURI)) {&lt;br/&gt;
    +            if ( in == null )&lt;br/&gt;
    +            {&lt;br/&gt;
    +                if ( log.isDebugEnabled() )&lt;br/&gt;
    +                    log.debug(&quot;Failed to locate &apos;&quot;&lt;ins&gt;mappedURI&lt;/ins&gt;&quot;&apos;&quot;) ;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yes, I just copied and pasted this from the parent class where the same logic is present&lt;/p&gt;</comment>
                            <comment id="16218943" author="githubbot" created="Wed, 25 Oct 2017 16:00:20 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    More recently, `FmtLog.debug(logger, fmtString, args...)`.&lt;/p&gt;</comment>
                            <comment id="16218944" author="githubbot" created="Wed, 25 Oct 2017 16:00:57 +0000"  >&lt;p&gt;Github user afs commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294#discussion_r146905463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294#discussion_r146905463&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java &amp;#8212;&lt;br/&gt;
    @@ -285,6 +286,12 @@ protected Model readModelWorker(Model model, String filenameOrURI, String baseUR&lt;br/&gt;
             if ( baseURI == null )&lt;br/&gt;
                 baseURI = SysRIOT.chooseBaseIRI(filenameOrURI) ;&lt;br/&gt;
             try(TypedInputStream in = streamManager.openNoMapOrNull(mappedURI)) {&lt;br/&gt;
    +            if ( in == null )&lt;br/&gt;
    +            {&lt;br/&gt;
    +                if ( log.isDebugEnabled() )&lt;br/&gt;
    +                    log.debug(&quot;Failed to locate &apos;&quot;&lt;ins&gt;mappedURI&lt;/ins&gt;&quot;&apos;&quot;) ;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    More recently, `FmtLog.debug(logger, fmtString, args...)`.&lt;/p&gt;</comment>
                            <comment id="16218981" author="jira-bot" created="Wed, 25 Oct 2017 16:18:02 +0000"  >&lt;p&gt;Commit 643bd7a944e23554d21d1f01c207fe7e1a3d3098 in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvesse&quot; class=&quot;user-hover&quot; rel=&quot;rvesse&quot;&gt;rvesse&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=643bd7a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=643bd7a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Fix and tests for possible NPE (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Fixes a possible NPE in AdaptorFileManager by aligning its behaviour&lt;br/&gt;
with FileManager to throw NotFoundException&lt;/p&gt;

&lt;p&gt;Adds specific tests for these cases&lt;/p&gt;</comment>
                            <comment id="16218982" author="jira-bot" created="Wed, 25 Oct 2017 16:18:05 +0000"  >&lt;p&gt;Commit 5937830a8c2a5ba7178cd9f765b4acc7762f54bb in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvesse&quot; class=&quot;user-hover&quot; rel=&quot;rvesse&quot;&gt;rvesse&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=5937830&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=5937830&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Use better logging approach (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="16218983" author="jira-bot" created="Wed, 25 Oct 2017 16:18:07 +0000"  >&lt;p&gt;Commit 8b9f587b5be75fd1de91ccdc7a4e0b97b956f258 in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvesse&quot; class=&quot;user-hover&quot; rel=&quot;rvesse&quot;&gt;rvesse&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=8b9f587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=8b9f587&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1405&quot; title=&quot;Possible NPE in AdaptorFileManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1405&quot;&gt;&lt;del&gt;JENA-1405&lt;/del&gt;&lt;/a&gt;&apos;&lt;/p&gt;

&lt;p&gt;This closes #294&lt;/p&gt;</comment>
                            <comment id="16218984" author="githubbot" created="Wed, 25 Oct 2017 16:18:14 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/294&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3loev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>