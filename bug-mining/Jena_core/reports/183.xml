<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:58:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-2331] JenaXMLInput does not play well with Woodstox</title>
                <link>https://issues.apache.org/jira/browse/JENA-2331</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;New in 4.5.0, &lt;tt&gt;JenaXMLInput&lt;/tt&gt;&#160;initializes the loaded &lt;tt&gt;XMLInputFactory&lt;/tt&gt; with at least one property that is not supported by the Woodstox StAX parser (see &lt;a href=&quot;https://github.com/FasterXML/woodstox/issues/51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/FasterXML/woodstox/issues/51&lt;/a&gt;). This results in a logged stack trace that looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR [main] o.a.j.u.JenaXMLInput - Problem setting StAX property
java.lang.IllegalArgumentException: Unrecognized property &lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//javax.xml.XMLConstants/property/accessExternalDTD&apos;&lt;/span&gt;
&lt;/span&gt;&#160; &#160; at com.ctc.wstx.api.CommonConfig.reportUnknownProperty(CommonConfig.java:167) ~[woodstox-core-6.2.7.jar:6.2.7]
&#160; &#160; at com.ctc.wstx.api.CommonConfig.setProperty(CommonConfig.java:158) ~[woodstox-core-6.2.7.jar:6.2.7]
&#160; &#160; at com.ctc.wstx.api.ReaderConfig.setProperty(ReaderConfig.java:35) ~[woodstox-core-6.2.7.jar:6.2.7]
&#160; &#160; at com.ctc.wstx.stax.WstxInputFactory.setProperty(WstxInputFactory.java:400) ~[woodstox-core-6.2.7.jar:6.2.7]
&#160; &#160; at org.apache.jena.util.JenaXMLInput.initXMLInputFactory(JenaXMLInput.java:81) ~[jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.util.JenaXMLInput.&amp;lt;clinit&amp;gt;(JenaXMLInput.java:90) ~[jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.rdfxml.xmlinput.impl.RDFXMLParser.create(RDFXMLParser.java:75) ~[jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.rdfxml.xmlinput.ARP.&amp;lt;init&amp;gt;(ARP.java:76) ~[jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.lang.ReaderRIOTRDFXML.&amp;lt;init&amp;gt;(ReaderRIOTRDFXML.java:62) ~[jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.lang.ReaderRIOTRDFXML.lambda$&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;$0(ReaderRIOTRDFXML.java:59) ~[jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFParser.createReader(RDFParser.java:486) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFParser.createReader(RDFParser.java:480) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFParser.parseNotUri(RDFParser.java:399) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFParser.parse(RDFParser.java:356) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFParserBuilder.parse(RDFParserBuilder.java:568) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFDataMgr.parseFromInputStream(RDFDataMgr.java:718) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:253) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:235) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.riot.adapters.RDFReaderRIOT.read(RDFReaderRIOT.java:69) [jena-arq-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253) [jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.ontology.OntDocumentManager.findMetadata(OntDocumentManager.java:890) [jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.ontology.OntDocumentManager.initialiseMetadata(OntDocumentManager.java:848) [jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.ontology.OntDocumentManager.&amp;lt;init&amp;gt;(OntDocumentManager.java:196) [jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.ontology.OntDocumentManager.&amp;lt;init&amp;gt;(OntDocumentManager.java:178) [jena-core-4.5.0.jar:4.5.0]
&#160; &#160; at org.apache.jena.ontology.OntDocumentManager.&amp;lt;init&amp;gt;(OntDocumentManager.java:162) [jena-core-4.5.0.jar:4.5.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Jena should probably do one of the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Instead of relying on whatever parser is discovered by &lt;tt&gt;XMLInputFactory.newInstance()&lt;/tt&gt;, Jena can directly load the JDK-supplied parser, which supports these properties, by calling &lt;tt&gt;XMLInputFactory.newDefaultFactory()&lt;/tt&gt; instead.&lt;/li&gt;
	&lt;li&gt;&#160;Jena can be a bit more robust when dealing with non-JDK parsers by wrapping each call to &lt;tt&gt;XMLInputFactory.setProperty(...)&lt;/tt&gt; with a separate &lt;tt&gt;try-catch&lt;/tt&gt; block and log any exception appropriately.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13447137">JENA-2331</key>
            <summary>JenaXMLInput does not play well with Woodstox</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andy">Andy Seaborne</assignee>
                                    <reporter username="bvosburgh">Brian Vosburgh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 May 2022 04:48:26 +0000</created>
                <updated>Thu, 25 Aug 2022 09:43:13 +0000</updated>
                            <resolved>Wed, 1 Jun 2022 11:43:01 +0000</resolved>
                                    <version>Jena 4.5.0</version>
                                    <fixVersion>Jena 4.6.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17543156" author="andy.seaborne" created="Fri, 27 May 2022 22:27:13 +0000"  >&lt;p&gt;Firstly: CVE-2021-39239 and CVE-2022-28890.&lt;/p&gt;

&lt;p&gt;It seem the the environment installed Woodstox.  Jena does not have a dependency on woodstox.&lt;/p&gt;

&lt;p&gt;Please provide a PR for (2) but note this may open XXE attacks. How is CVE-2021-39239 addressed? What are the correct setting for Woodstox?&lt;/p&gt;

&lt;p&gt;(1) negates the possibility that the user has chosen to install a different XML parser which asks the question why they did it. Maybe it was intended to override Jena&apos;s usage.&lt;/p&gt;

&lt;p&gt;Note: the constant accessExternalDTD is defined by the JDK JEP-185 (Java8). &lt;/p&gt;

&lt;p&gt;See the general advice for XXE:&lt;br/&gt;
&lt;a href=&quot;https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#xmlinputfactory-a-stax-parser&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#xmlinputfactory-a-stax-parser&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17544111" author="JIRAUSER289420" created="Tue, 31 May 2022 03:24:36 +0000"  >&lt;p&gt;From what I can tell from the Woodstox issue I reference in the description, the new &lt;tt&gt;XMLConstants&lt;/tt&gt; settings are redundant with the already-supported StAX &lt;tt&gt;XMLInputFactory&lt;/tt&gt; settings. Do you read the discussion in that issue differently?&lt;/p&gt;

&lt;p&gt;Yes, the &quot;environment&quot; installed Woodstox. We have another third party library that pulled it in. And the intent is clearly to use the parser directly, not to replace Jena&apos;s parser.&lt;/p&gt;

&lt;p&gt;I have modified the PR to implement option (2).&lt;/p&gt;

&lt;p&gt;Yet another workaround that can be used is to temporarily set a Java system property, forcing Jena to use the JDK parser:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.xml.stream.XMLInputFactory&quot;&lt;/span&gt;, 
        &lt;span class=&quot;code-quote&quot;&gt;&quot;com.sun.xml.internal.stream.XMLInputFactoryImpl&quot;&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;// initialize Jena etc.
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.clearProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.xml.stream.XMLInputFactory&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17544230" author="andy.seaborne" created="Tue, 31 May 2022 08:45:19 +0000"  >&lt;p&gt;Jena as supplied is secure by recommended practice and has been security reviewed.&lt;/p&gt;

&lt;p&gt;The last thing I want is to unsecure Jena and receive another security report that it is possible to bypass the securing of XML parsing. Properly handling of such security reports and issuing a CVE is time consuming.&lt;/p&gt;

&lt;p&gt;I don&apos;t see anything in the issue to say that Woodstox is secure by default, without configuration. What are the correct setting for Woodstox?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We have another third party library that pulled it in. And the intent is clearly to use the parser directly&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I assume you&apos;ve tested this 3rd party setup to check that the setting do not interfere - i.e it never processes DTDs.&lt;br/&gt;
Does it set up Woodstox to be secure?&lt;/p&gt;

&lt;p&gt;PS &lt;a href=&quot;https://github.com/FasterXML/woodstox/issues/61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/FasterXML/woodstox/issues/61&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17544918" author="jira-bot" created="Wed, 1 Jun 2022 13:55:47 +0000"  >&lt;p&gt;Commit bbfc3b1aab6899f9695168255dad0b5803ac4088 in jena&apos;s branch refs/heads/main from Brian Vosburgh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=bbfc3b1aab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=bbfc3b1aab&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2331&quot; title=&quot;JenaXMLInput does not play well with Woodstox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2331&quot;&gt;&lt;del&gt;JENA-2331&lt;/del&gt;&lt;/a&gt;: isolate setting of XMLInputFactory properties&lt;/p&gt;</comment>
                            <comment id="17544919" author="jira-bot" created="Wed, 1 Jun 2022 13:55:48 +0000"  >&lt;p&gt;Commit 4054172899075ca3e0592ab93b2f42716e9f8cab in jena&apos;s branch refs/heads/main from Andy Seaborne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=4054172899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=4054172899&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1340 from TopQuadrant/&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2331&quot; title=&quot;JenaXMLInput does not play well with Woodstox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2331&quot;&gt;&lt;del&gt;JENA-2331&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2331&quot; title=&quot;JenaXMLInput does not play well with Woodstox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2331&quot;&gt;&lt;del&gt;JENA-2331&lt;/del&gt;&lt;/a&gt;: change JenaXMLInput to use the JDK XMLInputFactory&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12qi8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>