<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:58:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-2039] URI parsing fails</title>
                <link>https://issues.apache.org/jira/browse/JENA-2039</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;Depending on 3.18.0-SNAPSHOT, some of my tests started to fail recently. We are using URIs of the form &apos;wm:/abcde&apos; - note the single slash. These URIs, it seems, can no longer be parsed.&lt;/p&gt;

&lt;p&gt;Here is a minimal example: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@prefix msg:   &amp;lt;https://w3id.org/won/message#&amp;gt; .
&amp;lt;wm:/jq15ga3aacsxbvl9nngw&amp;gt; a msg:Message .
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is the exception I get: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; org.apache.jena.riot.RiotException: [line: 3, col: 1 ] Bad IRI: &amp;lt;wm:/jq15ga3aacsxbvl9nngw&amp;gt; : Not an RDF IRI: wm:/jq15ga3aacsxbvl9nngw
	at org.apache.jena.riot.system.ErrorHandlerFactory$ErrorHandlerStd.error(ErrorHandlerFactory.java:146)
	at org.apache.jena.riot.system.ParserProfileStd.internalMakeIRI(ParserProfileStd.java:101)
	at org.apache.jena.riot.system.ParserProfileStd.resolveIRI(ParserProfileStd.java:81)
	at org.apache.jena.riot.system.ParserProfileStd.createURI(ParserProfileStd.java:162)
	at org.apache.jena.riot.system.ParserProfileStd.create(ParserProfileStd.java:234)
	at org.apache.jena.riot.lang.LangTurtleBase.tokenAsNode(LangTurtleBase.java:582)
	at org.apache.jena.riot.lang.LangTurtleBase.node(LangTurtleBase.java:414)
	at org.apache.jena.riot.lang.LangTriG.oneNamedGraphBlock2(LangTriG.java:115)
	at org.apache.jena.riot.lang.LangTriG.oneTopLevelElement(LangTriG.java:49)
	at org.apache.jena.riot.lang.LangTurtleBase.runParser(LangTurtleBase.java:79)
	at org.apache.jena.riot.lang.LangBase.parse(LangBase.java:43)
	at org.apache.jena.riot.RDFParserRegistry$ReaderRIOTLang.read(RDFParserRegistry.java:185)
	at org.apache.jena.riot.RDFParser.read(RDFParser.java:356)
	at org.apache.jena.riot.RDFParser.parseNotUri(RDFParser.java:346)
	at org.apache.jena.riot.RDFParser.parse(RDFParser.java:292)
	at org.apache.jena.riot.RDFParserBuilder.parse(RDFParserBuilder.java:539)
	at org.apache.jena.riot.RDFDataMgr.parseFromInputStream(RDFDataMgr.java:901)
	at org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:590)
	at org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:568)
	at org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:559)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13357400">JENA-2039</key>
            <summary>URI parsing fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andy">Andy Seaborne</assignee>
                                    <reporter username="fkleedorfer">Florian Kleedorfer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Feb 2021 15:39:13 +0000</created>
                <updated>Thu, 1 Apr 2021 09:21:44 +0000</updated>
                            <resolved>Mon, 8 Feb 2021 17:35:56 +0000</resolved>
                                                    <fixVersion>Jena 4.0.0</fixVersion>
                                    <component>RIOT</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17280605" author="fkleedorfer" created="Sun, 7 Feb 2021 16:17:48 +0000"  >&lt;p&gt;FYI, version jena-arq-3.18.0-20210205.073020-31.jar is still working for me &lt;/p&gt;</comment>
                            <comment id="17280616" author="andy.seaborne" created="Sun, 7 Feb 2021 17:11:55 +0000"  >&lt;p&gt;Hi Florian,&lt;/p&gt;

&lt;p&gt;Thank you for the testing.&lt;/p&gt;

&lt;p&gt;The next version is going to be 4.0.0 (java11) and soon the development builds will be 4.0.0 not 3.18.0. Details on the &lt;a href=&quot;https://lists.apache.org/thread.html/r3b0cb0bef9465f4f8134f079575cfe7bc4c2b9a52586acd4ab8920b1%40%3Cdev.jena.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dev@ list&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are changes around IRIs to abstract out the contract between Jena code and the IRI implementation. A future IRI implementation, which is more maintainable, will come along but for now,its wrapping the existing Jena IRI code.&lt;/p&gt;

&lt;p&gt;This however is a straight bug and will be fixed.&lt;/p&gt;

&lt;p&gt;Could you say some more about the &quot;wm&quot; URI scheme? And is it ever used as a base URI?&lt;/p&gt;
</comment>
                            <comment id="17280841" author="fkleedorfer" created="Mon, 8 Feb 2021 08:26:34 +0000"  >&lt;p&gt;Hi Andy,&lt;/p&gt;

&lt;p&gt;Thanks for the hint to version 4 - will start monitoring the dev list for clues as to when to switch.&lt;/p&gt;

&lt;p&gt;On the &apos;wm&apos; URI scheme:&lt;br/&gt;
We are developing a federated system in which messages are exchanged between nodes. Messages are content-addressed RDF datasets. The wm scheme is used for message identifiers: &lt;/p&gt;

&lt;p&gt;&apos;wm:/&apos; + &lt;span class=&quot;error&quot;&gt;&amp;#91;content-hash&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;named graphs in the messages are addressed with URI fragments, ie&lt;/p&gt;

&lt;p&gt;&apos;wm:/&apos; + &lt;span class=&quot;error&quot;&gt;&amp;#91;content-hash&amp;#93;&lt;/span&gt; + &apos;#&apos; + &lt;span class=&quot;error&quot;&gt;&amp;#91;graphname&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The URI &apos;wm:/&apos; + &lt;span class=&quot;error&quot;&gt;&amp;#91;content-hash&amp;#93;&lt;/span&gt; + &apos;#&apos; could be used as a base uri to generate other message-scoped unique URIs.&lt;/p&gt;

&lt;p&gt;For dereferencing a message URI, there is a protocol for converting the URI into a https URI rooted in the desired data node&apos;s URI space.&lt;/p&gt;

&lt;p&gt;Does that answer your question? As far as I can tell, this is in line with URI (IRI) specs, or am I mistaken?&lt;/p&gt;</comment>
                            <comment id="17280998" author="andy.seaborne" created="Mon, 8 Feb 2021 12:25:39 +0000"  >&lt;p&gt;Syntactically, that scheme is fine. It is &quot;path-absolute&quot; production in the RFC3986 grammar. I&apos;ve added &quot;path-absolute&quot; to the Jena test suite &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;The use of fragment is legal but maybe a hierarchical path would be useful?&lt;/p&gt;

&lt;p&gt;wm:/content/graphname&lt;/p&gt;

&lt;p&gt;because used as a base, it becomes a base of wm:/content/ (assuming graph name does not have &quot;/&quot; in it).&lt;/p&gt;

&lt;p&gt;Just &quot;wm:/content#graphname&quot; then:&lt;/p&gt;

&lt;p&gt;Base: &quot;wm:/abcde#graph&quot;&lt;br/&gt;
 Relative reference &quot;xyz&quot;&lt;/p&gt;

&lt;p&gt;=&amp;gt; wm:/xyz&lt;/p&gt;

&lt;p&gt;Relative reference &quot;#xyz&quot;&lt;/p&gt;

&lt;p&gt;=&amp;gt; wm:/abcde#xyz&lt;/p&gt;

&lt;p&gt;whereas&lt;/p&gt;

&lt;p&gt;base = &quot;wm:/abcde/graph&lt;/p&gt;

&lt;p&gt;&quot;xyz&quot; =&amp;gt; &quot;wm:/abcde/xyz&quot;&lt;/p&gt;

&lt;p&gt;(Strictly, in RFC 3986, the base does not have a fragment whereas Jena ignores them)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17281109" author="fkleedorfer" created="Mon, 8 Feb 2021 14:35:06 +0000"  >&lt;p&gt;Thanks for making the point clear. I would expect it to behave exactly the way you describe, and that&apos;s fine. &lt;/p&gt;

&lt;p&gt;We&apos; re using fragments and not paths so as to ensure uris are part of the same document, in the linked data sense. We started doing that for normal http resources and adopted the approach for messages. &lt;/p&gt;

&lt;p&gt;Maybe we don&apos;t really have a use case for message URIs as base URIs.&lt;/p&gt;</comment>
                            <comment id="17281230" author="jira-bot" created="Mon, 8 Feb 2021 17:27:36 +0000"  >&lt;p&gt;Commit c6eae0695a30d3191077ecdccdf51473aa6fb6b8 in jena&apos;s branch refs/heads/master from Andy Seaborne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=c6eae06&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=c6eae06&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2039&quot; title=&quot;URI parsing fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2039&quot;&gt;&lt;del&gt;JENA-2039&lt;/del&gt;&lt;/a&gt;: Fix and tests&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2031&quot; title=&quot;Abstract the IRI functionality to allow for different providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2031&quot;&gt;&lt;del&gt;JENA-2031&lt;/del&gt;&lt;/a&gt;: Remove and isolate uses of jena-iri:IRI&lt;/p&gt;</comment>
                            <comment id="17281232" author="jira-bot" created="Mon, 8 Feb 2021 17:27:39 +0000"  >&lt;p&gt;Commit 3fc46ac26feb2c175d5d4f8f4a053d5790ed744b in jena&apos;s branch refs/heads/master from Andy Seaborne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=3fc46ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=3fc46ac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #916 from afs/iri-more&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2039&quot; title=&quot;URI parsing fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2039&quot;&gt;&lt;del&gt;JENA-2039&lt;/del&gt;&lt;/a&gt;: Fix and tests (IRI handling), and more IRI cleanup (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2031&quot; title=&quot;Abstract the IRI functionality to allow for different providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2031&quot;&gt;&lt;del&gt;JENA-2031&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17281239" author="jira-bot" created="Mon, 8 Feb 2021 17:33:14 +0000"  >&lt;p&gt;Commit c6eae0695a30d3191077ecdccdf51473aa6fb6b8 in jena&apos;s branch refs/heads/main from Andy Seaborne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=c6eae06&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=c6eae06&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2039&quot; title=&quot;URI parsing fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2039&quot;&gt;&lt;del&gt;JENA-2039&lt;/del&gt;&lt;/a&gt;: Fix and tests&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2031&quot; title=&quot;Abstract the IRI functionality to allow for different providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2031&quot;&gt;&lt;del&gt;JENA-2031&lt;/del&gt;&lt;/a&gt;: Remove and isolate uses of jena-iri:IRI&lt;/p&gt;</comment>
                            <comment id="17281242" author="jira-bot" created="Mon, 8 Feb 2021 17:33:19 +0000"  >&lt;p&gt;Commit 3fc46ac26feb2c175d5d4f8f4a053d5790ed744b in jena&apos;s branch refs/heads/main from Andy Seaborne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=jena.git;h=3fc46ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=jena.git;h=3fc46ac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #916 from afs/iri-more&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2039&quot; title=&quot;URI parsing fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2039&quot;&gt;&lt;del&gt;JENA-2039&lt;/del&gt;&lt;/a&gt;: Fix and tests (IRI handling), and more IRI cleanup (&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-2031&quot; title=&quot;Abstract the IRI functionality to allow for different providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-2031&quot;&gt;&lt;del&gt;JENA-2031&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17281395" author="andy.seaborne" created="Mon, 8 Feb 2021 21:40:34 +0000"  >&lt;p&gt;Switched to 4.0.0-SNAPSHOT now.&lt;/p&gt;</comment>
                            <comment id="17281575" author="fkleedorfer" created="Tue, 9 Feb 2021 06:52:52 +0000"  >&lt;p&gt;Yes, got it, thanks - works again!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13356023">JENA-2031</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ngvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>