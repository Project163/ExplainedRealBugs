<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:57:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-338] RulesetNotFoundException when using umlauts in comments</title>
                <link>https://issues.apache.org/jira/browse/JENA-338</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;A RulesetNotFoundException occurs, when loading rules (Rule.rulesFromUrl(..)) from a text file that contains umlauts in comments. &lt;/p&gt;

&lt;p&gt;EDIT:&lt;/p&gt;

&lt;p&gt;I wasn&apos;t aware of that, but yes the file is encoded in latin-1. However, I found it confusing that a &apos;NoRulesetFoundException&apos; was thrown when the file obviously existed. Apart from the file&apos;s location there was no indication of what exactly the problem was. &lt;/p&gt;

&lt;p&gt;Anyway, here is the code, a sample rule and the exception I am getting. &lt;/p&gt;

&lt;p&gt;Rule.rulesFromURL(&quot;file:C:&lt;br class=&quot;atl-forced-newline&quot; /&gt;example.rules&quot;);&lt;/p&gt;

&lt;p&gt;@prefix ex: &amp;lt;&lt;a href=&quot;http://www.example.org#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.example.org#&lt;/a&gt;&amp;gt;&lt;br/&gt;
@prefix rdfs: &amp;lt;&lt;a href=&quot;http://www.w3.org/2000/01/rdf-schema#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/2000/01/rdf-schema#&lt;/a&gt;&amp;gt; .&lt;br/&gt;
@prefix rdf: &amp;lt;&lt;a href=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&lt;/a&gt;&amp;gt; .&lt;/p&gt;

&lt;p&gt;//&#246;&#228;&#252;&lt;br/&gt;
[&lt;br/&gt;
	(?x rdfs:label ?y)&lt;br/&gt;
	-&amp;gt;&lt;br/&gt;
	(?x ex:hasLabel ?y)&lt;br/&gt;
]&lt;/p&gt;

&lt;p&gt;com.hp.hpl.jena.shared.RulesetNotFoundException: &lt;a href=&quot;file:C:/example.rules&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:C:/example.rules&lt;/a&gt;&lt;br/&gt;
	at com.hp.hpl.jena.reasoner.rulesys.Rule.rulesFromURL(Rule.java:488)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612860">JENA-338</key>
            <summary>RulesetNotFoundException when using umlauts in comments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rvesse">Rob Vesse</assignee>
                                    <reporter username="oosr">Ooser</reporter>
                        <labels>
                            <label>reasoner</label>
                            <label>rules</label>
                    </labels>
                <created>Sun, 21 Oct 2012 03:25:42 +0000</created>
                <updated>Wed, 7 Nov 2012 14:48:49 +0000</updated>
                            <resolved>Wed, 24 Oct 2012 17:26:38 +0000</resolved>
                                    <version>Jena 2.7.0</version>
                                    <fixVersion>Jena 2.10.0</fixVersion>
                                    <component>Reasoners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13482442" author="andy.seaborne" created="Tue, 23 Oct 2012 16:11:04 +0000"  >&lt;p&gt;The code shows that the file is opened in UTF-8 mode.  If your file is ISO-8859-1 (or windows code 1252 (latin-1), then it may display fine to you because you are viewing it as ISO-8859-1, but the file may be illegal as UTF-8.&lt;/p&gt;

&lt;p&gt;Could you provide a complete, minimal example?&lt;/p&gt;</comment>
                            <comment id="13483377" author="rvesse" created="Wed, 24 Oct 2012 16:44:40 +0000"  >&lt;p&gt;The problem appears to be that Rule.rulesFromURL() treats any IO exception as indicating a RuleSetNotFoundException.  If you genuinely provided a non-existent file you would actually receive a NPE&lt;/p&gt;

&lt;p&gt;I have applied a fix to SVN which should mean it only throws a RulesetNotFoundException when the URL provided cannot be used to retrieve an input stream (as is the case with a non-existent file), other IO exceptions are no longer caught and re-wrapped they will simply be passed up to the caller&lt;/p&gt;</comment>
                            <comment id="13483386" author="hudson" created="Wed, 24 Oct 2012 16:53:19 +0000"  >&lt;p&gt;Integrated in Jena__Development_Test #239 (See &lt;a href=&quot;https://builds.apache.org/job/Jena__Development_Test/239/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Jena__Development_Test/239/&lt;/a&gt;)&lt;br/&gt;
    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-338&quot; title=&quot;RulesetNotFoundException when using umlauts in comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-338&quot;&gt;&lt;del&gt;JENA-338&lt;/del&gt;&lt;/a&gt;, Rule.rulesFromURL() now throws a RulesetNotFoundException only if FileManager.get().open(uri) returns null.  WrappedIOExceptions are not caught and rewrapped incorrectly as highlighted by this bug (Revision 1401773)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
rvesse : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/main/java/com/hp/hpl/jena/reasoner/rulesys/Rule.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/reasoner/rulesys/test/TestPackage.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/reasoner/rulesys/test/TestRuleLoader.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/testing/reasoners/bugs/bad-encoding.rules&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13483405" author="hudson" created="Wed, 24 Oct 2012 17:12:37 +0000"  >&lt;p&gt;Integrated in Jena__Development_Test #240 (See &lt;a href=&quot;https://builds.apache.org/job/Jena__Development_Test/240/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Jena__Development_Test/240/&lt;/a&gt;)&lt;br/&gt;
    Updated Release Notes to note fix FOR &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-338&quot; title=&quot;RulesetNotFoundException when using umlauts in comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-338&quot;&gt;&lt;del&gt;JENA-338&lt;/del&gt;&lt;/a&gt; (Revision 1401780)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
rvesse : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/jena/trunk/jena-core/ReleaseNotes.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13483410" author="rvesse" created="Wed, 24 Oct 2012 17:20:09 +0000"  >&lt;p&gt;The problem should now be fixed, please test with the latest snapshots to confirm the fix&lt;/p&gt;

&lt;p&gt;Latest snapshot will be version 2.7.5-SNAPSHOT&lt;/p&gt;

&lt;p&gt;Note this differs from the stated Fix Version 2.10.0 because the project is planning to re-align our version numbers of all components for the next release but haven&apos;t done this quite yet&lt;/p&gt;</comment>
                            <comment id="13492392" author="hudson" created="Wed, 7 Nov 2012 14:48:49 +0000"  >&lt;p&gt;Integrated in Jena_Development_Test_Windows #6 (See &lt;a href=&quot;https://builds.apache.org/job/Jena_Development_Test_Windows/6/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Jena_Development_Test_Windows/6/&lt;/a&gt;)&lt;br/&gt;
    Updated Release Notes to note fix FOR &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-338&quot; title=&quot;RulesetNotFoundException when using umlauts in comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-338&quot;&gt;&lt;del&gt;JENA-338&lt;/del&gt;&lt;/a&gt; (Revision 1401780)&lt;br/&gt;
Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-338&quot; title=&quot;RulesetNotFoundException when using umlauts in comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-338&quot;&gt;&lt;del&gt;JENA-338&lt;/del&gt;&lt;/a&gt;, Rule.rulesFromURL() now throws a RulesetNotFoundException only if FileManager.get().open(uri) returns null.  WrappedIOExceptions are not caught and rewrapped incorrectly as highlighted by this bug (Revision 1401773)&lt;/p&gt;

&lt;p&gt;     Result = UNSTABLE&lt;br/&gt;
rvesse : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/jena/trunk/jena-core/ReleaseNotes.txt&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;rvesse : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/main/java/com/hp/hpl/jena/reasoner/rulesys/Rule.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/reasoner/rulesys/test/TestPackage.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/src/test/java/com/hp/hpl/jena/reasoner/rulesys/test/TestRuleLoader.java&lt;/li&gt;
	&lt;li&gt;/jena/trunk/jena-core/testing/reasoners/bugs/bad-encoding.rules&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aptb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>