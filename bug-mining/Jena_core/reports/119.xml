<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 19:58:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JENA-1524] org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core</title>
                <link>https://issues.apache.org/jira/browse/JENA-1524</link>
                <project id="12311220" key="JENA">Apache Jena</project>
                    <description>&lt;p&gt;a JPMS module cannot require both&#160;org.apache.jena.arq and&#160;org.apache.jena.core since&#160;org.apache.jena.system can be read from both.&#160; This cannot be resolved with --patch-module since arq and core provide different implementations.&#160; Suggestion is to make a distinction by renaming system to sys in either one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13152542">JENA-1524</key>
            <summary>org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andy">Andy Seaborne</assignee>
                                    <reporter username="christopher-johnson">Christopher Johnson</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Apr 2018 11:44:00 +0000</created>
                <updated>Tue, 13 Sep 2022 07:33:52 +0000</updated>
                            <resolved>Wed, 25 Apr 2018 10:32:31 +0000</resolved>
                                    <version>Jena 3.7.0</version>
                                    <fixVersion>Jena 3.8.0</fixVersion>
                                    <component>Jena</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16438681" author="ajs6f" created="Sun, 15 Apr 2018 11:53:40 +0000"  >&lt;p&gt;Thanks for the report, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=christopher-johnson&quot; class=&quot;user-hover&quot; rel=&quot;christopher-johnson&quot;&gt;christopher-johnson&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Both packages contain public API. This would be a breaking change.&lt;/p&gt;

&lt;p&gt;Do you have a PR for discussion?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16438743" author="githubbot" created="Sun, 15 Apr 2018 15:40:00 +0000"  >&lt;p&gt;GitHub user christopher-johnson opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; renames jena-arq org.apache.jena.system to org.apache.jena.sys&lt;/p&gt;

&lt;p&gt;    The changes are superficial, but will break existing implementations.  The thinking pattern here is shallow, and there may be better ways to restructure the `org.apache.jena.system` package (like merging the split in a new project).   &lt;/p&gt;

&lt;p&gt;    Since this PR is JPMS related, I also added the Automatic-Module-Name to `&amp;lt;manifestEntries&amp;gt;` for most of the projects.  This ModuleFinder mechanism is documented &lt;span class=&quot;error&quot;&gt;&amp;#91;here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.oracle.com/javase/10/docs/api/java/lang/module/ModuleFinder.html#of(java.nio.file.Path&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/10/docs/api/java/lang/module/ModuleFinder.html#of(java.nio.file.Path&lt;/a&gt;...)).  These names are consistent with semantics described in &lt;span class=&quot;error&quot;&gt;&amp;#91;this specification&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se10/html/jls-6.html#jls-6.5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/specs/jls/se10/html/jls-6.html#jls-6.5&lt;/a&gt;) and follow the conventions of other Apache projects like `org.apache.commons.io`&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/christopher-johnson/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/christopher-johnson/jena&lt;/a&gt; split-system&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #399&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ee9fd831f588d02b500a78811b9a78c418cfc89e&lt;br/&gt;
Author: Christopher Hanna Johnson &amp;lt;chjohnson39@...&amp;gt;&lt;br/&gt;
Date:   2018-04-15T13:35:51Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; renames jena-arq org.apache.jena.system to org.apache.jena.sys&lt;br/&gt;
    adds Automatic-Module-Name to manifestEntries&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16438760" author="githubbot" created="Sun, 15 Apr 2018 16:17:09 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi there - could you please split out the automatic module name name part then we can get that into the codebase soon and separately from the API impact of the rest?&lt;/p&gt;

&lt;p&gt;    I&apos;ve create &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1525&quot; title=&quot;Add &amp;lt;Automatic-Module-Name&amp;gt; to &amp;lt;manifestEntries&amp;gt; for each jar module.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1525&quot;&gt;&lt;del&gt;JENA-1525&lt;/del&gt;&lt;/a&gt; for the automatic module name.&lt;/p&gt;

&lt;p&gt;    For the package split:&lt;/p&gt;

&lt;p&gt;    The problematic classes are `JenaInit` (functions init() and to a lesser extent shutdown()) and the interface JenaSubsystemLifecycle in jena-core, and `Txn` in jena-arq.  The rest of the jena-core classes are only used by extensions of Jena and by other jena components, not by applications. There is a chance 3rd party use but it is going to be very uncommon as far as I know. `Serializable` is jena-internal for wiring up RIOT (in jena-arq) into the code engine.  &lt;/p&gt;

&lt;p&gt;    Of the classes, `Txn` is more important for applications, and its use encouraged in general user code. `JenaInit` normally isn&apos;t called by application code but can be to be sure or to force initialization before calling into internal code very early in the application startup, before proper Jena code.&lt;/p&gt;

&lt;p&gt;    I think it is less disruptive to do the split as a rename of &quot;jena-core:org.apache.jena.system&quot; as &quot;jena-core:org.apache.jena.sys&quot;, then put an adapter class `JenaInit` in &quot;jena-core:org.apache.jena.system&quot;  that has two functions to call the real `init` and `shutdown`. We immediately deprecate &quot;jena-arq:JenaInit&quot; prior to removal quite quickly (in a very few release cycles).&lt;/p&gt;

&lt;p&gt;    This way the impact is lessened: `Txn` is not repackaged. The adapter class approach does not work for calls from jena-core to jena-arq without reflection.&lt;/p&gt;</comment>
                            <comment id="16438801" author="githubbot" created="Sun, 15 Apr 2018 18:47:13 +0000"  >&lt;p&gt;GitHub user christopher-johnson opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/400&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; Add &amp;lt;Automatic-Module-Name&amp;gt; to &amp;lt;manifestEntries&amp;gt; for each jar module&lt;/p&gt;

&lt;p&gt;    See comments here: &lt;br/&gt;
    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It is possible that there are more artifacts that might want this.&lt;/p&gt;

&lt;p&gt;    FYI: This does not include the following top level projects:&lt;br/&gt;
    apache-jena, apache-jena-libs, apache-jena-osgi, jena-elephas, jena-examples, jena-extras, jena-fuseki1, jena-fuseki, jena-integration-tests, jena-iri, jena-jdbc, jena-maven-tools, jena-permissions, jena-sdb, jena-shaded-guava&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/christopher-johnson/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/christopher-johnson/jena&lt;/a&gt; automatic-modules&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/400.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/400.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #400&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 669f75891d237f441ceab93f5083076c0a10a468&lt;br/&gt;
Author: Christopher Hanna Johnson &amp;lt;chjohnson39@...&amp;gt;&lt;br/&gt;
Date:   2018-04-15T18:32:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; Add &amp;lt;Automatic-Module-Name&amp;gt; to &amp;lt;manifestEntries&amp;gt; for each jar module&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16438849" author="githubbot" created="Sun, 15 Apr 2018 21:37:35 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    it may be clearer to close this PR and submit a new one with &quot;system&quot; to &quot;sys&quot; changes to `org.apache.jena.core` rather than try to merge with this one since there is no overlap.   &lt;/p&gt;</comment>
                            <comment id="16438850" author="githubbot" created="Sun, 15 Apr 2018 21:37:35 +0000"  >&lt;p&gt;Github user christopher-johnson closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16438860" author="githubbot" created="Sun, 15 Apr 2018 22:31:26 +0000"  >&lt;p&gt;GitHub user christopher-johnson opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&lt;/p&gt;

&lt;p&gt;    per @afs &lt;/p&gt;

&lt;p&gt;    &amp;gt; this renames of &quot;jena-core:org.apache.jena.system&quot; as &quot;jena-core:org.apache.jena.sys&quot;, and puts an adapter class `JenaInit` in &quot;jena-arq:org.apache.jena.system&quot; that has two functions to call the real init and shutdown. &lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; `JenaInit` will be deprecated prior to removal quite quickly (in a very few release cycles).&lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; This way the impact is lessened: `org.apache.jena.system.Txn` is not repackaged. The adapter class approach does not work for calls from jena-core to jena-arq without reflection.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/christopher-johnson/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/christopher-johnson/jena&lt;/a&gt; rename-core-system&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #401&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d82328d905b0f8ae40f699990ffe800728824975&lt;br/&gt;
Author: Christopher Hanna Johnson &amp;lt;chjohnson39@...&amp;gt;&lt;br/&gt;
Date:   2018-04-15T21:24:12Z&lt;/p&gt;

&lt;p&gt;     &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16439562" author="githubbot" created="Mon, 16 Apr 2018 15:10:12 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    See &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    If I understood you correctly, the adapter `jena-arq:org.apache.jena.system.JenaInit` just provides a short cut for using the renamed ` jena-core:org.org.apache.jena.sys.JenaSystem` in the context of ` jena-arq` (for external implementations).  &lt;/p&gt;

&lt;p&gt;    The `jena-arq `services that formerly used ` jena-core:org.org.apache.jena.system.JenaSystem` and will now use ` jena-core:org.apache.jena.sys.JenaSystem` will continue to do so and not change their import to the ` jena-arq:org.apache.jena.system.JenaInit` adapter, correct?&lt;/p&gt;</comment>
                            <comment id="16440946" author="githubbot" created="Tue, 17 Apr 2018 14:47:59 +0000"  >&lt;p&gt;Github user afs commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401#discussion_r182097398&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401#discussion_r182097398&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: jena-arq/src/main/java/org/apache/jena/system/JenaInit.java &amp;#8212;&lt;br/&gt;
    @@ -0,0 +1,40 @@&lt;br/&gt;
    +/**&lt;br/&gt;
    + * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
    + * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
    + * distributed with this work for additional information&lt;br/&gt;
    + * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
    + * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
    + * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
    + * with the License.  You may obtain a copy of the License at&lt;br/&gt;
    + *&lt;br/&gt;
    + *     &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
    + *&lt;br/&gt;
    + * Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
    + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
    + * See the License for the specific language governing permissions and&lt;br/&gt;
    + * limitations under the License.&lt;br/&gt;
    + */&lt;br/&gt;
    +&lt;br/&gt;
    +package org.apache.jena.system;&lt;br/&gt;
    +&lt;br/&gt;
    +import org.apache.jena.sys.JenaSystem;&lt;br/&gt;
    +&lt;br/&gt;
    +/**&lt;br/&gt;
    + * This is a temporary adapter for implementations to transition to &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    + */&lt;br/&gt;
    +public class JenaInit {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I&apos;d prefer this to be called &quot;JenaSystem&quot; then init() is &lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
      @Deprecated&lt;br/&gt;
      public static void init() &lt;/p&gt;
{
             org.apache.jena.sys.JenaSystem.init();
       }
&lt;p&gt;    ```&lt;/p&gt;

&lt;p&gt;    because this will work with existing code.  If that&apos;s OK, I will do that as part of the merge.&lt;/p&gt;</comment>
                            <comment id="16440947" author="githubbot" created="Tue, 17 Apr 2018 14:47:59 +0000"  >&lt;p&gt;Github user afs commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401#discussion_r182099487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401#discussion_r182099487&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: apache-jena-osgi/jena-osgi/src/main/resources/META-INF/services/org.apache.jena.system.JenaSubsystemLifecycle &amp;#8212;&lt;br/&gt;
    @@ -1,4 +1,4 @@&lt;br/&gt;
    -org.apache.jena.system.InitJenaCore&lt;br/&gt;
    +org.apache.jena.sys.InitJenaCore&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ouch! Yes, the initialization services classes will be impacted.&lt;/p&gt;

&lt;p&gt;    That means any customer extensions change but an intermediate subclass of JenaSubsystemLifecycle in the new &quot;systems&quot; package should provide a bridge.&lt;/p&gt;

&lt;p&gt;    Or we can be honest and announce to custom extensions there are changes they need to be aware of.&lt;/p&gt;</comment>
                            <comment id="16440955" author="githubbot" created="Tue, 17 Apr 2018 14:52:05 +0000"  >&lt;p&gt;Github user ajs6f commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401#discussion_r182101777&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401#discussion_r182101777&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: apache-jena-osgi/jena-osgi/src/main/resources/META-INF/services/org.apache.jena.system.JenaSubsystemLifecycle &amp;#8212;&lt;br/&gt;
    @@ -1,4 +1,4 @@&lt;br/&gt;
    -org.apache.jena.system.InitJenaCore&lt;br/&gt;
    +org.apache.jena.sys.InitJenaCore&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    +1 to honesty. I hear tell it&apos;s the best policy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; In all seriousness, the alternative seems to me to build up debt.&lt;/p&gt;</comment>
                            <comment id="16441067" author="githubbot" created="Tue, 17 Apr 2018 15:50:13 +0000"  >&lt;p&gt;Github user afs commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401#discussion_r182128407&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401#discussion_r182128407&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: apache-jena-osgi/jena-osgi/src/main/resources/META-INF/services/org.apache.jena.system.JenaSubsystemLifecycle &amp;#8212;&lt;br/&gt;
    @@ -1,4 +1,4 @@&lt;br/&gt;
    -org.apache.jena.system.InitJenaCore&lt;br/&gt;
    +org.apache.jena.sys.InitJenaCore&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I hope this debt isn&apos;t too bad because it can be signalled via deprecation. As ever, there is a balance.&lt;/p&gt;

&lt;p&gt;    The services filename ATM is `org.apache.jena.system.JenaSubsystemLifecycle`. I&apos;m happy to and have a interface `...system.JenaSubsystemLifecycle` to make the transition not too abrupt.&lt;/p&gt;

&lt;p&gt;    (&lt;br/&gt;
    Speculative thought, maybe trying too hard:&lt;/p&gt;

&lt;p&gt;    Can we actually move initialization all to jena-arq and just leave `Serializer` behind? `InitARQ` would call to be non-lifecycle managed initialization code in jena-core. That fixes the jena-core/jena-arq relationship. This may be less debt in the sense that it is a relationship the code depends on anyway. &lt;/p&gt;

&lt;p&gt;    People using only jena-core aren&apos;t impacted - we actively discourage that but it happens. jena-core initialization happens via services currently but it can be dropped as it is using &quot;services&quot; to call itself, so that flexibility is unnecessary and it can just call itself in a fixed fashion.&lt;br/&gt;
    )&lt;/p&gt;
</comment>
                            <comment id="16446702" author="githubbot" created="Sat, 21 Apr 2018 09:00:06 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    In working with the automatic modules, I have also found a split with`org.apache.jena.atlas`.  This is between `org.apache.jena.arq` and `org.apache.jena.base`.  &lt;/p&gt;

&lt;p&gt;    Would it make sense to create a separate project and artifact for `org.apache.jena.atlas`?  &lt;/p&gt;

&lt;p&gt;    I realize that this sort of package refactoring is a slippery slope.  However, the new module idiom was to enforce a semantic relationship between the project structure, the artifact(s) it produces and the package(s) it provides.  I have found furthermore that it is consistent to name a project in accordance with the qualified module name (without the top level group).  So, the traditional &quot;-&quot; naming semantic could be replaced in archives with a &quot;.&quot;  &lt;/p&gt;</comment>
                            <comment id="16446779" author="githubbot" created="Sat, 21 Apr 2018 12:35:47 +0000"  >&lt;p&gt;Github user ajs6f commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    That sounds like a set of changes (e.g. module renaming) much better suited for 4.0.&lt;/p&gt;</comment>
                            <comment id="16448352" author="githubbot" created="Mon, 23 Apr 2018 15:59:53 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t see a split package in `org.apache.jena.atlas` - it has classes and sub-packages in `jena-base` and separate sub-packages in `jena-arq` but I don&apos;t see a package being split.  That should not be a problem, should it?&lt;/p&gt;

&lt;p&gt;    Given this is retrofitting, we have to balance change with continuity for existing users.  Calling it `org.apache.jena.base` follows the general automatic module style. &quot;base&quot; is code that is RDF-independent and is more for internal Jena use.&lt;/p&gt;

</comment>
                            <comment id="16448402" author="githubbot" created="Mon, 23 Apr 2018 16:33:09 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    the module system does not allow two distinct modules (e.g. `org.apache.jena.arq` and `org.apache.jena.base`) to export the same package (e.g. `org.apache.jena.atlas`).  &lt;/p&gt;

&lt;p&gt;    There are two options in this situation, &lt;br/&gt;
    1. consolidate the package into an existing module.&lt;br/&gt;
    2. separate the package into a new module.&lt;/p&gt;

&lt;p&gt;    Option 2 is only viable when the package has no dependencies to another module that depends on it (i.e. a cyclical relationship).  I think that  `org.apache.jena.atlas` is not a candidate for separation from `org.apache.jena.arq` as  `org.apache.jena.riot` depends on it, and  `org.apache.jena.atlas` depends on `org.apache.jena.riot`, so they must be in the same module (given the existing code).   &lt;/p&gt;

&lt;p&gt;    I agree that there is a balance between organizational convenience and radical (presumably hierarchical) package retrofitting to support strong encapsulation.  The concept of one-way dependency vectors governs modularity, but this does not necessarily agree with component semantics when implemented with package names.    &lt;/p&gt;
</comment>
                            <comment id="16448419" author="githubbot" created="Mon, 23 Apr 2018 16:46:25 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    jena-arq does not need to export `org.apache.jena.atlas` - it needs to export `org.apache.jena.atlas.csv`, org.apache.jena.atlas.data`  etc.&lt;/p&gt;

&lt;p&gt;    `org.apache.jena.atlas` does not depend on `riot`, it only has two classes, both exceptions.&lt;/p&gt;

&lt;p&gt;    This is the case for `org.apache.jena` in &quot;jena-core&quot;. `org.apache.jena` subpackages are everywhere.&lt;/p&gt;</comment>
                            <comment id="16448648" author="githubbot" created="Mon, 23 Apr 2018 18:28:17 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve tried out the PR and it passes the build and Fuseki starts up. I renamed the ServiceLoader files as `org.apache.jena.sys.JenaSubsystemLifecycle` (I have a script for that now,I can do that after the PR is merged).&lt;/p&gt;

&lt;p&gt;    One other change is class `system.JenaInit` =&amp;gt; `...system.jenaSystem` for compatibility.&lt;/p&gt;

&lt;p&gt;    This is the JDI version, not the &quot;speculative thought&quot; above. That works, but does risk changing initialization order between jena-arq and jena-core which is the most sensitive part of initialization. That does not cause problems in the test suite but deployed applications are a big unknown. Given the risks and impacts, I&apos;m currently inclined to go straight  to the change to `META-INF/services/org.apache.jena.sys.JenaSubsystemLifecycle`.&lt;/p&gt;

&lt;p&gt;    Putting in an adapter `org.apache.jena.system.JenaSubsystemLifecycle` ends up as replicating the machinery to find services.&lt;/p&gt;

&lt;p&gt;    It&apos;s a bit bumpy for people working from development - we can let them know via dev@ that they need to do a clearup and rebuild.&lt;/p&gt;

&lt;p&gt;    So - looking good!&lt;/p&gt;</comment>
                            <comment id="16448851" author="githubbot" created="Mon, 23 Apr 2018 20:52:28 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    re: `org.apache.jena.atlas` dependents in `org.apache.jena.arq` (namely `org.apache.jena.riot`)&lt;/p&gt;

&lt;p&gt;    I attach an excerpt from a `jdep`s output looking at `jena-arq-3.7.0.jar`, sorted by package dependency.  &lt;br/&gt;
    The attached just includes the packages that depend on `org.apache.jena.atlas` in `org.apache.jena.arq`&lt;br/&gt;
    This is convenient to analyse interpackage relationships (that you probably know of).  It shows non-module deps as &quot;not found&quot;, but indicates the package name.  &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;arq-atlas-jdeps.txt&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/jena/files/1939950/arq-atlas-jdeps.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/files/1939950/arq-atlas-jdeps.txt&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    Perhaps this is useful.  I guess the atlas question is a new issue?&lt;/p&gt;</comment>
                            <comment id="16448934" author="githubbot" created="Mon, 23 Apr 2018 22:07:35 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    What is the issue here? Does anything break?&lt;/p&gt;

&lt;p&gt;    oaj = org.apache.jena&lt;/p&gt;

&lt;p&gt;    &amp;gt; the module system does not allow two distinct modules (e.g. org.apache.jena.arq and org.apache.jena.base) to export the same package (e.g. org.apache.jena.atlas).&lt;/p&gt;

&lt;p&gt;    jena-arq does not contain any classes of `oaj.atlas` so the package isn&apos;t split.&lt;/p&gt;

&lt;p&gt;    jena-arq would  export the packages like `oaj.atlas.web` that it has but not `oaj.atlas` itself.&lt;/p&gt;

&lt;p&gt;    jena-base would export `oaj.atlas`, and each subpackage by name. (No use of `*`)&lt;/p&gt;

&lt;p&gt;    It is the same situation as jena-core having `org.apache.jena` and other jars having `oaj.query`etc.&lt;br/&gt;
    That is not a split package. &lt;/p&gt;

&lt;p&gt;    In an ideal world, the naming might be different but the question is what does the current situation break?&lt;/p&gt;

&lt;p&gt;    The dependency is:&lt;/p&gt;
    &lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [INFO] org.apache.jena:jena-arq:jar:3.8.0-SNAPSHOT
    [INFO] +- org.apache.jena:jena-core:jar:3.8.0-SNAPSHOT:compile
    [INFO] |  \- org.apache.jena:jena-base:jar:3.8.0-SNAPSHOT:compile
    &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;    &amp;gt; &quot;org.apache.jena.atlas.json.io.parser&quot;  | &quot;org.apache.jena.riot.tokens (jena-arq-3.7.0.jar)&quot;;&lt;br/&gt;
    &amp;gt; Could this be changed?&lt;/p&gt;

&lt;p&gt;    To what?&lt;/p&gt;

&lt;p&gt;    They are both in jena-arq - I&apos;m not seeing any problem with that. Are you suggesting better naming or because something breaks?&lt;/p&gt;

&lt;p&gt;    (The name &quot;atlas&quot; is no more than a holder as a &quot;lib&quot;.)&lt;/p&gt;

&lt;p&gt;    Arguably, the JSON package should have a different hierarchical name but I agree with @ajs6f shuffling package names around impacts users heavily, and few use java9 yet. The end target naming isn&apos;t clear until the whole of Jena is considered.&lt;/p&gt;</comment>
                            <comment id="16448979" author="githubbot" created="Mon, 23 Apr 2018 22:35:44 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I ran:&lt;/p&gt;

&lt;p&gt;         /usr/lib/jvm/java-9-openjdk-amd64/bin/jdeps -cp &apos;lib/*&apos; lib/jena-arq-3.8.0-SNAPSHOT.jar &lt;/p&gt;

&lt;p&gt;    and the only split packages reported are for Xerces/xml-apis. Various packages under javax.xml, org.w3c.dom and org.xml.sax split (clashing) with the java runtime libraries.&lt;/p&gt;</comment>
                            <comment id="16448981" author="githubbot" created="Mon, 23 Apr 2018 22:39:07 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    jdeps complains about oaj.dboe so having a common automatic-moulde-name seems not to work. &lt;/p&gt;

&lt;p&gt;    Clearing that out and xerces, then &lt;/p&gt;

&lt;p&gt;        /usr/lib/jvm/java-9-openjdk-amd64/bin/jdeps -R --module-path libx -filter:module -m org.apache.jena.arq &lt;/p&gt;

&lt;p&gt;    shows (reformatted from jdeps)&lt;/p&gt;

&lt;p&gt;        org.apache.jena.atlas.data -&amp;gt; org.apache.jena.atlas                              org.apache.jena.base&lt;/p&gt;
</comment>
                            <comment id="16449644" author="githubbot" created="Tue, 24 Apr 2018 11:07:05 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Compilation in JPMS requires a `module-info.java` and is distinct from compiling in JDK 9+.  &lt;/p&gt;

&lt;p&gt;    &amp;gt; What is the issue here? Does anything break?&lt;/p&gt;

&lt;p&gt;    A quick background of the use case might help here.  I have been developing JPMS support for the TrellisLDP project recently and have encountered several blocking dependency issues resulting from `jena-osgi`, which is a &lt;span class=&quot;error&quot;&gt;&amp;#91;transitive dependency &amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/commons-rdf/blob/master/commons-rdf-jena/pom.xml#L68-L72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-rdf/blob/master/commons-rdf-jena/pom.xml#L68-L72&lt;/a&gt;) resulting from `org.apache.commons.rdf.jena` that is a direct dependency of the `org.trellisldp.app.triplestore` implementation.  JPMS compilation is strict and cannot resolve a class-containing package sourced from multiple &quot;parent modules&quot; (even if the package is private).&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;   A good question here that you raise is what happens if a top level package contains no classes and only exports subpackages.  This requires further investigation and I do not know whether this semi-split, semi-private package, multi-module configuration works, but it is probably not advisable according to the requirements of the &lt;span class=&quot;error&quot;&gt;&amp;#91;specification&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://openjdk.java.net/projects/jigsaw/spec/reqs/#non-interference&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://openjdk.java.net/projects/jigsaw/spec/reqs/#non-interference&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;    Regarding this PR, I am running tests now.  BTW, for me, the shaded-guava jar does not work.   I do not know whether it is my IDE, JRE or the maven build configuration.  At any rate, I can run tests if I replace the shaded-guava with a direct dependency.  Also, `guava 21.0` does not work (without hacking) in a JDK10 because it depends on  `javax.annotation.Nullable`.  (it seems that `guava 24.1-jre` removes the problematic jsr-305 annotations).&lt;/p&gt;

&lt;p&gt;    There seems to be an initialization/lifecycle issue that can be seen when running `TestFactoryRDF`.  The first test to fail there is `factoryRDF_triple_01` with this exception `java.lang.ExceptionInInitializerError`.&lt;br/&gt;
    also &lt;br/&gt;
    `com.google.common.util.concurrent.ExecutionError: java.lang.NoClassDefFoundError: Could not initialize class org.apache.jena.riot.system.RiotLib` is reported.&lt;/p&gt;

&lt;p&gt;    The preceding tests pass.  It could be my issue, though as an initialization related, it could be a consequence of a the changes in this PR:&lt;/p&gt;

&lt;p&gt;    `java.lang.ExceptionInInitializerError` is also produced in a test runtime use of `org.apache.jena.arq` by a `org.trellisldp.vocabulary` test:&lt;br/&gt;
    ```&lt;br/&gt;
    java.lang.ExceptionInInitializerError&lt;br/&gt;
           org.apache.jena.riot.RDFParserBuilder.buildFactoryRDF(RDFParserBuilder.java:597)&lt;br/&gt;
           org.apache.jena.riot.RDFParserBuilder.build(RDFParserBuilder.java:569)&lt;br/&gt;
           org.apache.jena.riot.RDFParserBuilder.parse(RDFParserBuilder.java:512)&lt;br/&gt;
           org.trellisldp.vocabulary.AbstractVocabularyTest.getVocabulary(AbstractVocabularyTest.java:56)&lt;br/&gt;
           org.trellisldp.vocabulary.AbstractVocabularyTest.testVocabulary(AbstractVocabularyTest.java:62)&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://stackoverflow.com/questions/40616739/java-9-overlapping-non-exported-packages&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/40616739/java-9-overlapping-non-exported-packages&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16449845" author="githubbot" created="Tue, 24 Apr 2018 13:27:59 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;gt; Compilation  in JPMS requires a module-info.java and is distinct from compiling in JDK 9+.&lt;/p&gt;

&lt;p&gt;    The issue is for trellisldp to solve surely? The transitivity is an indirect jena-osgi dependency and a direct jena dependency.&lt;/p&gt;

&lt;p&gt;    Or a PR to improve `jena-osgi` (which does not get much use or at least not much user@ questions). You may also wish to take that up with CommonsRDF. I&apos;m not sure OSGi is helping here.&lt;/p&gt;

&lt;p&gt;    `jena-osgi` does not affect the oaj.atlas issue between `jena-arq` and `jena-base`.&lt;/p&gt;

&lt;p&gt;    This PR is for the org.system split package. This seems completed. I&apos;d like to get this merged and other matters taken up in separate issues/JIRA so we can make incremental progress.&lt;/p&gt;
</comment>
                            <comment id="16449950" author="githubbot" created="Tue, 24 Apr 2018 14:27:33 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Indeed, these dependency questions are issues that I need to solve... I would prefer to simplify the &#252;ber-jar `jena-osgi` dependency of `commons.rdf.jena` by creating lean modular jena artifacts (with BND manifests), that can be managed by a downstream application more easily.&lt;/p&gt;

&lt;p&gt;    I have a quick related question about the shaded-guava dependency.  Would you know why `org.apache.jena.atlas.lib.cache.CacheGuava` would still be looking for `org/apache/jena/ext/com/google/common/cache/RemovalNotification` even though there are absolutely no references to the shadow redirection in the code or the build scripts?  This reference to the shadow redirection is buried somewhere (perhaps in my filesystem), and I know that it is not using any local maven cache now as I built `org.apache.jena.base` in offline mode.  Thanks.&lt;/p&gt;</comment>
                            <comment id="16449979" author="githubbot" created="Tue, 24 Apr 2018 14:47:33 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    `RemovalNotification` is used in the constructor for `CacheGuava`.&lt;/p&gt;</comment>
                            <comment id="16451960" author="jira-bot" created="Wed, 25 Apr 2018 09:43:54 +0000"  >&lt;p&gt;Commit 1830060 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andy.seaborne&quot; class=&quot;user-hover&quot; rel=&quot;andy.seaborne&quot;&gt;andy.seaborne&lt;/a&gt; in branch &apos;site/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1830060&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1830060&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt;: org.apache.jena.system -&amp;gt; org.apache.jena.sys&lt;/p&gt;</comment>
                            <comment id="16451980" author="jira-bot" created="Wed, 25 Apr 2018 09:57:12 +0000"  >&lt;p&gt;Commit d82328d905b0f8ae40f699990ffe800728824975 in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=christopher-johnson&quot; class=&quot;user-hover&quot; rel=&quot;christopher-johnson&quot;&gt;christopher-johnson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=d82328d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=d82328d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt; org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&lt;/p&gt;</comment>
                            <comment id="16451981" author="jira-bot" created="Wed, 25 Apr 2018 09:57:13 +0000"  >&lt;p&gt;Commit 6a30cdca901ad9810f27c0b987e7d1c00d782d1a in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andy.seaborne&quot; class=&quot;user-hover&quot; rel=&quot;andy.seaborne&quot;&gt;andy.seaborne&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=6a30cdc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=6a30cdc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt;: Merge commit &apos;refs/pull/401/head&apos; of &lt;a href=&quot;https://github.com/apache/jena&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This closes #401.&lt;/p&gt;</comment>
                            <comment id="16451982" author="jira-bot" created="Wed, 25 Apr 2018 09:57:15 +0000"  >&lt;p&gt;Commit 66a8ff47e088225633a07cb224e667721323d7f9 in jena&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andy.seaborne&quot; class=&quot;user-hover&quot; rel=&quot;andy.seaborne&quot;&gt;andy.seaborne&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=66a8ff4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=jena.git;h=66a8ff4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JENA-1524&quot; title=&quot;org.apache.jena.system is split by org.apache.jena.arq and org.apache.jena.core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JENA-1524&quot;&gt;&lt;del&gt;JENA-1524&lt;/del&gt;&lt;/a&gt;: Rename services files for JenaSubsystemLifecycle&lt;/p&gt;</comment>
                            <comment id="16451984" author="githubbot" created="Wed, 25 Apr 2018 09:57:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16451988" author="githubbot" created="Wed, 25 Apr 2018 10:01:07 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    PR merged and email sent to dev@jena to let everyone know this has an impact on ServiceLoader files.&lt;/p&gt;</comment>
                            <comment id="16452033" author="githubbot" created="Wed, 25 Apr 2018 10:32:12 +0000"  >&lt;p&gt;Github user afs commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    See PR #408 for updating the shaded Google guava.&lt;/p&gt;</comment>
                            <comment id="16453084" author="githubbot" created="Wed, 25 Apr 2018 21:02:20 +0000"  >&lt;p&gt;Github user christopher-johnson commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    a quick note here about the prospect of further restructuring to support jpms.  I have learned today that if a module (e.g. `org.apache.jena.arq`) does not contain a single top level package this creates an &quot;ambiguous module&quot;.  The expectation is that the module contains a hierarchy of packages and this does not exist in the primary jena library modules,  It is possible for the top package to not contain any classes, but the `module-info.java`  then must explictly export every subpackage it wants to make public.   With a new package hierarchy, it does not seem possible to maintain compatibility with existing implementations &lt;em&gt;and&lt;/em&gt; support modules with jena master.  One possibility might be to create a new branch and produce distinct artifacts that could be used downstream.  It could also be used for testing and making changes to support the new jdk methods without impacting LTS.  btw, I have noticed in running the tests that there are a few issues due to jdk changes (`java.nio.ByteBuffer`, for example).  This might be a question for the dev list.&lt;/p&gt;</comment>
                            <comment id="16454408" author="githubbot" created="Thu, 26 Apr 2018 15:38:24 +0000"  >&lt;p&gt;Github user ajs6f commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/jena/pull/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jena/pull/401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This, to my mind, is now well into the realm of 4.0-sized changes.&lt;/p&gt;</comment>
                            <comment id="16527392" author="rvesse" created="Fri, 29 Jun 2018 10:13:07 +0000"  >&lt;p&gt;Closing as Jena 3.8.0 release has been approved and will be publicly available shortly&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3skh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>