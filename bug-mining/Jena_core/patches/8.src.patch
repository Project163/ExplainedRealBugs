diff --git a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/BaseDatatype.java b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/BaseDatatype.java
index 21546b71f8..684f43544a 100644
--- a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/BaseDatatype.java
+++ b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/BaseDatatype.java
@@ -152,7 +152,7 @@ public class BaseDatatype implements RDFDatatype {
     protected static boolean isEqualPlain(LiteralLabel litLabel1, LiteralLabel litLabel2) {
         return litLabel1.getDatatype() == litLabel2.getDatatype()
         && litLabel1.getValue().equals(litLabel2.getValue());
-}
+    }   
     
     /**
          Default implementation of getHashCode() delegates to the default from
diff --git a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDbase64Binary.java b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDbase64Binary.java
index 27c2701d3e..bbe6cd350f 100644
--- a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDbase64Binary.java
+++ b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDbase64Binary.java
@@ -78,5 +78,11 @@ public class XSDbase64Binary extends XSDDatatype {
    
     @Override
     public int getHashCode( LiteralLabel lit )
-        { return getHashCode( (byte []) lit.getValue() ); }
+    {
+        // Java arrays are not equal by value.
+        if ( lit.isWellFormed() )
+            return getHashCode( (byte []) lit.getValue() );
+        else
+            return lit.getLexicalForm().hashCode() ;
+    }
 }
diff --git a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDhexBinary.java b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDhexBinary.java
index c7c6ecbe77..11914e0049 100644
--- a/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDhexBinary.java
+++ b/jena-core/src/main/java/com/hp/hpl/jena/datatypes/xsd/XSDhexBinary.java
@@ -78,6 +78,12 @@ public class XSDhexBinary extends XSDDatatype {
     
     @Override
     public int getHashCode( LiteralLabel lit )
-        { return getHashCode( (byte []) lit.getValue() ); }
-
+    {
+        // Can't use super.getHashCode as that does "value.hashCode"
+        // Java arrays are not equal by value and their has code of the sameValue array are different. 
+        if ( lit.isWellFormed() )
+            return getHashCode( (byte []) lit.getValue() );
+        else
+            return lit.getLexicalForm().hashCode() ;
+    }
 }
