diff --git a/jena-core/src/main/java/org/apache/jena/util/Metadata.java b/jena-core/src/main/java/org/apache/jena/util/Metadata.java
index 25ea871d41..c564766c3a 100644
--- a/jena-core/src/main/java/org/apache/jena/util/Metadata.java
+++ b/jena-core/src/main/java/org/apache/jena/util/Metadata.java
@@ -25,71 +25,79 @@ import java.util.InvalidPropertiesFormatException;
 import java.util.List ;
 import java.util.Properties;
 
-import org.apache.jena.shared.JenaException ;
+import org.apache.jena.atlas.AtlasException;
+import org.apache.jena.atlas.RuntimeIOException;
+import org.apache.jena.atlas.lib.SystemUtils;
+import org.apache.jena.atlas.logging.Log;
+import org.apache.jena.shared.JenaException;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
-/** 
- * Pluck data out of the ether - or failing that, read it from a properties file.
- * Assumes the properties file is in the "right place" through configuration of the build or compile processes.
+/**
+ * Pluck data out of the ether - or failing that, read it from a properties file. Assumes
+ * the properties file is in the "right place" through configuration of the build or
+ * compile processes.
  */
-public class Metadata 
-{
-    private static Logger log =  LoggerFactory.getLogger(Metadata.class) ;
-    List<String> resources = new ArrayList<>() ;
-    Properties properties = new Properties() ;
-    
-    public Metadata() { }
-    
-    public Metadata(String resourceName)
-    {
-        this() ;
-        addMetadata(resourceName) ;
+public class Metadata {
+    private static Logger log        = LoggerFactory.getLogger(Metadata.class);
+    List<String>          resources  = new ArrayList<>();
+    Properties            properties = new Properties();
+
+    public Metadata() {}
+
+    public Metadata(String resourceName) {
+        this();
+        addMetadata(resourceName);
     }
-    
-    public void addMetadata(String resourceName)
-    {
-        resources.add(resourceName) ;
-        read(properties, resourceName) ;
+
+    public void addMetadata(String resourceName) {
+        resources.add(resourceName);
+        read(properties, resourceName);
     }
-    
-    private static void read(Properties properties, String resource)
-    {
-        ClassLoader classLoader = SystemUtils.chooseClassLoader() ;
-        if (classLoader == null)
-            classLoader = Metadata.class.getClassLoader();
 
-        if ( classLoader == null )
-        {
-            log.error( "No classloader") ;
-            return ;
-        }
+    // Protect all classloader choosing -- sometimes systems mess with even the system
+    // class loader.
+    private static void read(Properties properties, String resourceName) {
+        // Armour-plate this - classloaders and using them can be blocked by some
+        // environments.
+        try {
+            ClassLoader classLoader = null;
 
-        InputStream in = classLoader.getResourceAsStream ( resource ) ;
-        if ( in == null )
-            // throw new JenaException ( "Failed to find the properties file" ) ;
-            // In development, there is no properties file.
-            return ;
-        try
-        {
-            properties.loadFromXML ( in ) ;
-        } 
-        catch ( InvalidPropertiesFormatException ex )
-        { 
-            throw new JenaException ( "Invalid properties file", ex ) ; 
-        }
-        catch ( IOException ex )
-        { 
-            throw new JenaException ( "Metadata ==> IOException", ex ) ; 
+            try { classLoader = SystemUtils.chooseClassLoader(); } catch (AtlasException ex) {}
+
+            if ( classLoader == null ) {
+                try { classLoader = Metadata.class.getClassLoader(); } catch (AtlasException ex) {}
+            }
+
+            if ( classLoader == null ) {
+                Log.error(Metadata.class, "No classloader");
+                return;
+            }
+
+            InputStream in = classLoader.getResourceAsStream(resourceName);
+            if ( in == null )
+                return;
+
+            try {
+                properties.loadFromXML(in);
+            } catch (InvalidPropertiesFormatException ex) {
+                throw new JenaException("Invalid properties file", ex);
+            } catch (IOException ex) {
+                throw new RuntimeIOException("Metadata ==> IOException", ex);
+            }
+        } catch (Throwable ex) {
+            Log.error(Metadata.class, "Unexpected Throwable", ex);
+            return;
         }
     }
-    
-    public String get(String name) { return get(name, null) ; }
-    
-    public String get(String name, String defaultValue)
-    {
-        if ( properties == null ) return defaultValue ;
-        return properties.getProperty(name, defaultValue) ;
+
+    public String get(String name) {
+        return get(name, null);
     }
 
+    public String get(String name, String defaultValue) {
+        if ( properties == null )
+            return defaultValue;
+        return properties.getProperty(name, defaultValue);
+    }
 }
