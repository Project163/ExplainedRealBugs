diff --git a/src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java b/src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java
index 149f777..87143e8 100644
--- a/src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java
+++ b/src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java
@@ -563,7 +563,8 @@ public abstract class AbstractCompilerMojo
         compilerConfiguration.setProc( proc );
 
         File generatedSourcesDirectory = getGeneratedSourcesDirectory();
-        compilerConfiguration.setGeneratedSourcesDirectory( generatedSourcesDirectory );
+        compilerConfiguration.setGeneratedSourcesDirectory( generatedSourcesDirectory != null
+                        ? generatedSourcesDirectory.getAbsoluteFile() : null );
 
         if ( generatedSourcesDirectory != null )
         {
@@ -1052,7 +1053,8 @@ public abstract class AbstractCompilerMojo
         {
             File rootFile = new File( sourceRoot );
 
-            if ( !rootFile.isDirectory() )
+            if ( !rootFile.isDirectory()
+                || rootFile.getAbsoluteFile().equals( compilerConfiguration.getGeneratedSourcesDirectory() ) )
             {
                 continue;
             }
