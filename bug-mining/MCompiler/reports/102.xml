<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:22:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCOMPILER-321] Problematic Java 9 modules are silently ignored</title>
                <link>https://issues.apache.org/jira/browse/MCOMPILER-321</link>
                <project id="12317225" key="MCOMPILER">Maven Compiler Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Before the compilation starts, the compiler plugin prepares the module path and the class path. Unfortunately, this process is very lenient. If the plugin cannot find a module that is specified in the module-info file, it doesn&apos;t report this problem, and it just carries on. In the end, the compiler will give a &quot;module not found&quot;, giving no clue about the root cause.&lt;/p&gt;

&lt;p&gt;As an example, I attached a simple maven project with a module info file that refers to an automatic module named &lt;tt&gt;jython-standalone&lt;/tt&gt;. The dependencies contain a jar file &lt;tt&gt;jython-standalone-2.7.0.jar&lt;/tt&gt;. That jar file contains no module information, and it would normally be resolvable as an automatic module. However, when building the project, the Java compiler fails with this error:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;module not found: jython.standalone&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The root cause of the error is that the jar file contains a class at top level, which is illegal for a module. So, the error message &quot;module not found&quot; is misleading.&lt;/p&gt;

&lt;p&gt;I think this is a bug, because the maven-compiler-plugin fails to perform its task of building a correct module path, but doesn&apos;t tell, and just carries on. Instead, it should stop, and give an informative error message.&lt;/p&gt;

&lt;p&gt;Relevant source code:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/maven-compiler-plugin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin&lt;/a&gt;, class &lt;tt&gt;CompilerMojo&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/codehaus-plexus/plexus-languages&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codehaus-plexus/plexus-languages&lt;/a&gt;, class &lt;tt&gt;LocationManager&lt;/tt&gt; and &lt;tt&gt;MainClassModuleNameExtractor&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/lang/module/ModuleFinder.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/9/docs/api/java/lang/module/ModuleFinder.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The &lt;tt&gt;MainClassModuleNameExtractor&lt;/tt&gt; uses the &lt;tt&gt;ModuleFinder&lt;/tt&gt; class of the JDK to find modules. I think that these two error situations should lead to an error and a clear description of possible causes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;ModuleFinder#findAll&lt;/tt&gt; returns an empty set.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;ModuleFinder#findAll&lt;/tt&gt; results in a &lt;tt&gt;FindException&lt;/tt&gt;. When this happens is well documented in the &lt;tt&gt;ModuleFinder#of&lt;/tt&gt; method. This exception is currently swallowed.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13134241">MCOMPILER-321</key>
            <summary>Problematic Java 9 modules are silently ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rfscholte">Robert Scholte</assignee>
                                    <reporter username="mkolsteren">Marcel Kolsteren</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jan 2018 19:52:50 +0000</created>
                <updated>Mon, 16 Jun 2025 11:15:24 +0000</updated>
                            <resolved>Thu, 7 Jun 2018 20:46:30 +0000</resolved>
                                                    <fixVersion>3.8.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16342289" author="rfscholte" created="Sat, 27 Jan 2018 20:05:12 +0000"  >&lt;p&gt;The reason why some modules silently ignored has to do with the java modules. If you refer to &lt;tt&gt;java.logging&lt;/tt&gt; then it won&apos;t find a matching dependency.&lt;br/&gt;
And it is possible that some jars will end up on classpath next to the modulepath.&lt;/p&gt;

&lt;p&gt;In the end the error is correct, but I can imagine it can be misleading when you are sure the dependency is there.&lt;br/&gt;
A proposal for a fix should be added to the plexus-languages project first.&lt;/p&gt;</comment>
                            <comment id="16342297" author="mkolsteren" created="Sat, 27 Jan 2018 20:25:54 +0000"  >&lt;p&gt;Thanks for the quick response!&lt;/p&gt;

&lt;p&gt;True, the error that the Java compiler gives is correct, but I&apos;d expect that the maven-compiler-plugin itself reports a more detailed error (and maybe even stops so that the Java compiler is not called at all).&lt;/p&gt;

&lt;p&gt;Regarding the problem with the java modules: that might be solved by using the method &lt;tt&gt;ModuleFinder#ofSystem&#8203;&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16503814" author="hudson" created="Wed, 6 Jun 2018 19:42:51 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven TLP &#187; maven-compiler-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-321&quot; title=&quot;Problematic Java 9 modules are silently ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-321&quot;&gt;&lt;del&gt;MCOMPILER-321&lt;/del&gt;&lt;/a&gt; #3&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-321/3/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-321/3/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16503872" author="hudson" created="Wed, 6 Jun 2018 20:26:26 +0000"  >&lt;p&gt;Build succeeded in Jenkins: Maven TLP &#187; maven-compiler-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-321&quot; title=&quot;Problematic Java 9 modules are silently ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-321&quot;&gt;&lt;del&gt;MCOMPILER-321&lt;/del&gt;&lt;/a&gt; #4&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-321/4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-321/4/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16503945" author="hudson" created="Wed, 6 Jun 2018 21:37:49 +0000"  >&lt;p&gt;Build succeeded in Jenkins: Maven TLP &#187; maven-compiler-plugin &#187; master #26&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/master/26/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/master/26/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16505242" author="rfscholte" created="Thu, 7 Jun 2018 20:46:30 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=maven-compiler-plugin.git;a=commit;h=ce26802e6cc93320267482cc7c3a1947bfc34be6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ce26802e6cc93320267482cc7c3a1947bfc34be6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16520640" author="hudson" created="Fri, 22 Jun 2018 18:06:56 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven TLP &#187; maven-compiler-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-323&quot; title=&quot;Support multi-release jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-323&quot;&gt;&lt;del&gt;MCOMPILER-323&lt;/del&gt;&lt;/a&gt; #4&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-323/4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-323/4/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16535868" author="hudson" created="Sat, 7 Jul 2018 18:53:42 +0000"  >&lt;p&gt;Build failed in Jenkins: Maven TLP &#187; maven-compiler-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-323&quot; title=&quot;Support multi-release jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-323&quot;&gt;&lt;del&gt;MCOMPILER-323&lt;/del&gt;&lt;/a&gt; #8&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-323/8/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-box/job/maven-compiler-plugin/job/MCOMPILER-323/8/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17978944" author="olamy" created="Mon, 16 Jun 2025 11:15:24 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/issues/535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-compiler-plugin#535&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12908028" name="maven-compiler-plugin-bug.zip" size="1545" author="mkolsteren" created="Sat, 27 Jan 2018 19:51:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3pg9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>