<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:21:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCOMPILER-172] Breaking change to plexus compiler api 1.9</title>
                <link>https://issues.apache.org/jira/browse/MCOMPILER-172</link>
                <project id="12317225" key="MCOMPILER">Maven Compiler Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;in 1.8.1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CompilerConfiguration.getCustomCompilerArguments() returns LinkedHashMap
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in 1.9:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CompilerConfiguration.getCustomCompilerArguments() returns  Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This means that a plugins compiled against one version will not work&lt;br/&gt;
against the other (java.lang.NoSuchMethodError is thrown). Is this&lt;br/&gt;
right? Am I missing something or must there be a strict dependency on&lt;br/&gt;
plexus-compiler-api (and hence the maven-compiler-plugin)?&lt;br/&gt;
I am attaching a failing maven project. When you run mvn clean compile on this project, it will fail with this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project org.codehaus.groovy: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile of goal org.apache.maven.plugins:maven-compiler-plugin:2.5:compile failed: An API incompatibility was encountered &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing org.apache.maven.plugins:maven-compiler-plugin:2.5:compile: java.lang.NoSuchMethodError: org.codehaus.plexus.compiler.CompilerConfiguration.getCustomCompilerArguments()Ljava/util/LinkedHashMap;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you edit the pom and change the maven-compile-plugin dependency to 2.3.2, the clean compile will succeed.&lt;br/&gt;
My suspicion is that if you change the signature of getCustomCompilerArguments to public LinkedHashMap&amp;lt;String, String&amp;gt; getCustomCompilerArguments(), this will succeed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12800519">MCOMPILER-172</key>
            <summary>Breaking change to plexus compiler api 1.9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olamy">Olivier Lamy</assignee>
                                    <reporter username="olamy">Olivier Lamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 May 2012 11:11:34 +0000</created>
                <updated>Mon, 16 Jun 2025 11:13:28 +0000</updated>
                            <resolved>Wed, 30 May 2012 15:23:14 +0000</resolved>
                                                    <fixVersion>2.5.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14428860" author="olamy" created="Wed, 30 May 2012 11:16:51 +0000"  >&lt;p&gt;BTW this won&apos;t be fixed as it&apos;s better to return Map rather than the implementation.&lt;br/&gt;
But I will add your project as an it test to ensure we won&apos;t break something in the future.&lt;/p&gt;</comment>
                            <comment id="14428786" author="werdna" created="Wed, 30 May 2012 11:43:55 +0000"  >&lt;p&gt;Sigh.  A breaking API change such as this is not something that I would have expected in a minor release.  It is better to return an interface over an implementation, but breaking clients is arguably worse.&lt;/p&gt;</comment>
                            <comment id="14428847" author="jvanzyl" created="Wed, 30 May 2012 12:33:59 +0000"  >&lt;p&gt;@olivier the compiler api was release May 8th so there are probably far fewer users of this. I think a better approach is to restore the signature of the existing method and create:&lt;/p&gt;

&lt;p&gt;CompilerConfiguration.getCustomCompilerArgumentsAsMap() which  Map&amp;lt;String, String&amp;gt;&lt;/p&gt;

&lt;p&gt;This is unlikely to greatly affect new consumers and helps restore backward compatibility.&lt;/p&gt;

&lt;p&gt;@andrew would this suffice?&lt;/p&gt;</comment>
                            <comment id="14428883" author="werdna" created="Wed, 30 May 2012 12:40:36 +0000"  >&lt;p&gt;This works for me.  Thanks.&lt;/p&gt;</comment>
                            <comment id="14428764" author="jvanzyl" created="Wed, 30 May 2012 12:47:44 +0000"  >&lt;p&gt;@olivier? This can&apos;t affect that many people right now and I think backward compatibility should be something we take very seriously.&lt;/p&gt;</comment>
                            <comment id="14428814" author="olamy" created="Wed, 30 May 2012 12:49:54 +0000"  >&lt;p&gt;So I don&apos;t have issues with this approach.&lt;br/&gt;
But this need a release of both plexus-compiler and compiler plugin.&lt;br/&gt;
What is difference with releasing that and releasing the groovy compiler ?&lt;/p&gt;</comment>
                            <comment id="14428680" author="werdna" created="Wed, 30 May 2012 12:57:14 +0000"  >&lt;p&gt;The problem is that groovy-eclipse-compiler could never work across maven-compiler-plugin 2.5 and 2.3.2.  For future releases, I would need to force people to upgrade to 2.5 or force people not to use 2.5 at all.  Furthermore, the groovy-compiler is now broken when using 2.5.&lt;/p&gt;</comment>
                            <comment id="14428784" author="jvanzyl" created="Wed, 30 May 2012 12:59:12 +0000"  >&lt;p&gt;@Olivier because making breaking changes in a minor release is poor form and we shouldn&apos;t force clients of our code to release because of changes we probably shouldn&apos;t have made in the first place.&lt;/p&gt;</comment>
                            <comment id="14428871" author="jvanzyl" created="Wed, 30 May 2012 13:12:09 +0000"  >&lt;p&gt;I&apos;ll make the fix with Andrew and cut a release today.&lt;/p&gt;</comment>
                            <comment id="14428834" author="jvanzyl" created="Wed, 30 May 2012 13:18:55 +0000"  >&lt;p&gt;@Andrew if we release and then update the defaults in Maven we should mitigate the 2.5 version not working. If we do this soon enough there probably won&apos;t be many people affect. We&apos;ll just tell people to stay away from 2.5.&lt;/p&gt;</comment>
                            <comment id="14428882" author="olamy" created="Wed, 30 May 2012 13:52:12 +0000"  >&lt;p&gt;@Jason I was on fixing the trouble I have added &lt;b&gt;only&lt;/b&gt; for people using the  groovy compiler .&lt;br/&gt;
Do you want to fix that yourself or I do ?&lt;/p&gt;</comment>
                            <comment id="14428735" author="werdna" created="Wed, 30 May 2012 15:15:58 +0000"  >&lt;p&gt;I see that the fix is already in the git repo.  I am building the plugins locally to make sure this fixes my problem.&lt;/p&gt;</comment>
                            <comment id="14428848" author="olamy" created="Wed, 30 May 2012 15:21:50 +0000"  >&lt;p&gt;yup and snapshot deployed&lt;/p&gt;</comment>
                            <comment id="14428765" author="werdna" created="Wed, 30 May 2012 15:49:55 +0000"  >&lt;p&gt;Works for me now.  Thanks for the fast turn around.&lt;/p&gt;</comment>
                            <comment id="14428689" author="jvanzyl" created="Wed, 30 May 2012 19:08:41 +0000"  >&lt;p&gt;@Andrew glad it&apos;s all good now. A project cares about backward compatibility to the same degree it cares about its users. We can probably mitigate any problems the 2.5 version might cause by never specifying that version the artifact-handlers.xml file which control the default versions of core plugins. Hopefully this will not ding too many users.&lt;/p&gt;</comment>
                            <comment id="17978866" author="olamy" created="Mon, 16 Jun 2025 11:13:28 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/issues/851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-compiler-plugin#851&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12714941" name="groovy-project-with-new-plexus-compiler.zip" size="6025" author="olamy" created="Wed, 30 May 2012 11:15:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29ud3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>