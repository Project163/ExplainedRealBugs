<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:20:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCOMPILER-98] -sourcepath not passed to javac</title>
                <link>https://issues.apache.org/jira/browse/MCOMPILER-98</link>
                <project id="12317225" key="MCOMPILER">Maven Compiler Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;JavacCompiler.java (actually in plexus-compiler-javac, but I cannot find the source project for this anywhere) has&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        List sourceLocations = config.getSourceLocations();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( sourceLocations != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !sourceLocations.isEmpty() &amp;amp;&amp;amp; ( sourceFiles.length == 0 ) )
        {
            args.add( &lt;span class=&quot;code-quote&quot;&gt;&quot;-sourcepath&quot;&lt;/span&gt; );

            args.add( getPathString( sourceLocations ) );
        }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;tt&gt;sourceFiles.length == 0&lt;/tt&gt; clause should be deleted. The problem is that javac really does need to have -sourcepath even when you are passing an explicit list of *.java files; it is necessary for 269-compliant annotation processors:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6647998&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6647998&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Following is a patch which&lt;/p&gt;

&lt;p&gt;1. Fixes diagnostics to print compiler arguments even for unforked mode. (javac is still run with a command line when unforked, so there is no reason to omit this valuable diagnostic info.)&lt;/p&gt;

&lt;p&gt;2. Hacks maven-compiler-plugin to work around the bug in plexus-compiler-javac and pass -sourcepath. Obviously a fix to p-c-j would be preferable.&lt;/p&gt;

&lt;p&gt;When applied to m-c-p 2.0.2 it allows the test case to build.&lt;/p&gt;</description>
                <environment>Ubuntu 8.10, JDK 6.</environment>
        <key id="12800549">MCOMPILER-98</key>
            <summary>-sourcepath not passed to javac</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkleint">Milos Kleint</assignee>
                                    <reporter username="jglick">Jesse N. Glick</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2009 21:47:32 +0000</created>
                <updated>Mon, 16 Jun 2025 11:11:07 +0000</updated>
                            <resolved>Sun, 28 Mar 2010 14:48:06 +0000</resolved>
                                    <version>2.0.2</version>
                                    <fixVersion>2.2</fixVersion>
                                        <due></due>
                            <votes>8</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14428601" author="jglick" created="Mon, 13 Apr 2009 21:48:47 +0000"  >&lt;p&gt;269 support in general would require this to be fixed.&lt;/p&gt;</comment>
                            <comment id="14428613" author="jglick" created="Mon, 13 Apr 2009 21:49:33 +0000"  >&lt;p&gt;Even if this were fixed, the expected output from the test case would be invisible unless &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-66&quot; title=&quot;Compiler swallows messages from annotation processors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-66&quot;&gt;&lt;del&gt;MCOMPILER-66&lt;/del&gt;&lt;/a&gt; were fixed too.&lt;/p&gt;</comment>
                            <comment id="14428517" author="jglick" created="Mon, 13 Apr 2009 21:50:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-97&quot; title=&quot;META-INF/services/javax.annotation.processing.Processor copied before compilation and causes error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-97&quot;&gt;MCOMPILER-97&lt;/a&gt; has to be worked around in test case.&lt;/p&gt;</comment>
                            <comment id="14428571" author="jglick" created="Mon, 13 Apr 2009 21:52:09 +0000"  >&lt;p&gt;Patch incl. better diagnostics and hotfix.&lt;/p&gt;</comment>
                            <comment id="14428502" author="jglick" created="Mon, 13 Apr 2009 21:58:07 +0000"  >&lt;p&gt;Workaround seems to be:&lt;/p&gt;

&lt;p&gt;    &amp;lt;build&amp;gt;&lt;br/&gt;
        &amp;lt;plugins&amp;gt;&lt;br/&gt;
            &amp;lt;plugin&amp;gt;&lt;br/&gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                &amp;lt;configuration&amp;gt;&lt;br/&gt;
                    &amp;lt;compilerArguments&amp;gt;&lt;br/&gt;
                        &amp;lt;sourcepath&amp;gt;${project.basedir}/src/main/java&amp;lt;/sourcepath&amp;gt;&lt;br/&gt;
                    &amp;lt;/compilerArguments&amp;gt;&lt;br/&gt;
                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
        &amp;lt;/plugins&amp;gt;&lt;br/&gt;
    &amp;lt;/build&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14428606" author="mkleint" created="Tue, 19 Jan 2010 04:12:22 +0000"  >&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?rev=900690&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=900690&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://fisheye.codehaus.org/changelog/plexus/?cs=8590&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fisheye.codehaus.org/changelog/plexus/?cs=8590&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the compiler plugin&apos;s trunk still references the 1.6 version of the javac compiler plugin.&lt;/p&gt;</comment>
                            <comment id="14428594" author="jglick" created="Wed, 10 Feb 2010 11:22:34 +0000"  >&lt;p&gt;Note that for annotation processors which load non-Java resources from the sourcepath, the above fix will not suffice since it only includes Java sources. Untested workaround:&lt;/p&gt;

&lt;p&gt;&amp;lt;compilerArguments&amp;gt;&lt;br/&gt;
&amp;lt;sourcepath&amp;gt;${project.basedir}/src/main/java:${project.basedir}/src/main/resources&amp;lt;/sourcepath&amp;gt;&lt;br/&gt;
&amp;lt;/compilerArguments&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14428620" author="jglick" created="Wed, 24 Feb 2010 11:46:52 +0000"  >&lt;p&gt;Unfortunately just adding src/main/resources to -sourcepath does not suffice, due to a bug in javac:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6929404&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6929404&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(link may take a few days to work)&lt;/p&gt;</comment>
                            <comment id="14428683" author="mkleint" created="Sun, 28 Mar 2010 14:48:06 +0000"  >&lt;p&gt;I&apos;ve opened the &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-122&quot; title=&quot;-sourcepath shall include resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-122&quot;&gt;&lt;del&gt;MCOMPILER-122&lt;/del&gt;&lt;/a&gt; for the resources usecase. closing this one as the generic -sourcepath case is fixed.&lt;/p&gt;</comment>
                            <comment id="17978782" author="olamy" created="Mon, 16 Jun 2025 11:11:07 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/issues/401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-compiler-plugin#401&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12800533">MCOMPILER-97</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12800516">MCOMPILER-66</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12800443">MCOMPILER-122</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12800525">MCOMPILER-75</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12714902" name="MCOMPILER-98.diff" size="3164" author="jglick" created="Mon, 13 Apr 2009 21:52:09 +0000"/>
                            <attachment id="12714874" name="maven-6647998-test.zip" size="7815" author="jglick" created="Mon, 13 Apr 2009 21:47:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29t3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>