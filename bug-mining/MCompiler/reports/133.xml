<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:22:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCOMPILER-548] JDK 21 throws annotations processing warning that can not be turned off</title>
                <link>https://issues.apache.org/jira/browse/MCOMPILER-548</link>
                <project id="12317225" key="MCOMPILER">Maven Compiler Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;maven compiler plugin 3.11 on Java 21 reports&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Annotation processing is enabled because one or more processors were found&lt;br/&gt;
&#160; on the class path. A future release of javac may disable annotation processing&lt;br/&gt;
&#160; unless at least one processor is specified by name (-processor), or a search&lt;br/&gt;
&#160; path is specified (--processor-path, --processor-module-path), or annotation&lt;br/&gt;
&#160; processing is enabled explicitly (-proc:only, -proc:full).&lt;br/&gt;
&#160; Use -Xlint:-options to suppress this message.&lt;br/&gt;
&#160; Use -proc:none to disable annotation processing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, the &lt;tt&gt;&amp;lt;proc&amp;gt;&lt;/tt&gt; option only supports &quot;none&quot; and &quot;proc&quot;, not &quot;full&quot; (which is the implicit default). &lt;/p&gt;

&lt;p&gt;Adding this through a compiler option:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;compilerArgs&amp;gt;&lt;br/&gt;
    &amp;lt;arg&amp;gt;-proc:full&amp;lt;/arg&amp;gt;&lt;br/&gt;
  &amp;lt;/compilerArgs&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;fixes this warning. Adding &quot;full&quot; as a value for the compiler plugin would fix it, too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552823">MCOMPILER-548</key>
            <summary>JDK 21 throws annotations processing warning that can not be turned off</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henning">Henning Schmiedehausen</assignee>
                                    <reporter username="henning">Henning Schmiedehausen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Oct 2023 05:04:31 +0000</created>
                <updated>Mon, 16 Jun 2025 11:25:09 +0000</updated>
                            <resolved>Sun, 10 Mar 2024 17:09:26 +0000</resolved>
                                    <version>3.11.0</version>
                                    <fixVersion>3.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17771702" author="githubbot" created="Wed, 4 Oct 2023 05:15:10 +0000"  >&lt;p&gt;hgschmie opened a new pull request, #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Turns out this is just a documentation issue. `full` works fine but is&lt;br/&gt;
   not documented.&lt;/p&gt;

&lt;p&gt;   Following this checklist to help us incorporate your&lt;br/&gt;
   contribution quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Make sure there is a &lt;span class=&quot;error&quot;&gt;&amp;#91;JIRA issue&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MCOMPILER&lt;/a&gt;) filed&lt;br/&gt;
          for the change (usually before you start working on it).  Trivial changes like typos do not&lt;br/&gt;
          require a JIRA issue.  Your pull request should address just this issue, without&lt;br/&gt;
          pulling in other changes.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Each commit in the pull request should have a meaningful subject line and body.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Format the pull request title like `&lt;span class=&quot;error&quot;&gt;&amp;#91;MCOMPILER-XXX&amp;#93;&lt;/span&gt; - Fixes bug in ApproximateQuantiles`,&lt;br/&gt;
          where you replace `MCOMPILER-XXX` with the appropriate JIRA issue. Best practice&lt;br/&gt;
          is to use the JIRA issue title in the pull request title and in the first line of the&lt;br/&gt;
          commit message.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Write a pull request description that is detailed enough to understand what the pull request does, how, and why.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Run `mvn clean verify` to make sure basic checks pass. A more thorough check will&lt;br/&gt;
          be performed on your pull request automatically.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; You have run the integration tests successfully (`mvn -Prun-its clean verify`).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   If your pull request is about ~20 lines of code you don&apos;t need to sign an&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;) if you are unsure&lt;br/&gt;
   please ask on the developers list.&lt;/p&gt;

&lt;p&gt;   To make clear that you license your contribution under&lt;br/&gt;
   the &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache License Version 2.0, January 2004&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;)&lt;br/&gt;
   you have to acknowledge this by using the following check-box.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; I hereby declare this contribution to be licenced under the &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache License Version 2.0, January 2004&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="17772066" author="githubbot" created="Thu, 5 Oct 2023 04:12:35 +0000"  >&lt;p&gt;hgschmie commented on PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#issuecomment-1748004949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#issuecomment-1748004949&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Turns out that this might not be sufficient. JDK &amp;lt; 21 does &lt;b&gt;not&lt;/b&gt; support &quot;full&quot; as a value, so we may want to check whether the value is &quot;full&quot; and omit it when the JDK is &amp;lt; 21. &lt;/p&gt;

&lt;p&gt;   Requires more thought.&lt;/p&gt;

</comment>
                            <comment id="17778594" author="githubbot" created="Mon, 23 Oct 2023 09:24:21 +0000"  >&lt;p&gt;bmarwell commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1368373845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1368373845&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   What happens if I do not set it?  This seems to contradict the wording from line 276:&lt;/p&gt;

&lt;p&gt;   &amp;gt; If not set, both compilation and annotation processing are performed at the same time.&lt;/p&gt;


</comment>
                            <comment id="17778798" author="githubbot" created="Mon, 23 Oct 2023 19:34:21 +0000"  >&lt;p&gt;hgschmie commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1369182520&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1369182520&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   if you don&apos;t set it on JDK 21, you will be greeted with a warning that &quot;soon, not setting proc:full will result in no longer doing annotation processing&quot;.&lt;/p&gt;

&lt;p&gt;   It is a very unsatisfying situation: &lt;/p&gt;

&lt;p&gt;   JDK &amp;lt; 21: proc:full is not allowed, results in `error: invalid flag: -proc:full`&lt;br/&gt;
   JDK == 21:  proc:full works, a warning is reported without it&lt;br/&gt;
   JDK &amp;gt; 21: proc:full is &lt;b&gt;required&lt;/b&gt; at some point, no more annotation processing without it&lt;/p&gt;

&lt;p&gt;   which puts the compiler plugin in the unfortunate situation of having to check the version of javac first before either not passing in `-proc:full` (because it is JDK &amp;lt; 21 and it is set by default) or passing it in for JDK &amp;gt;= 21.&lt;/p&gt;

&lt;p&gt;   That&apos;s why the comment reads &quot;requires more thought&quot;. I have not found time to deal with it. Right now, I have a conditional profile in my poms... &#128565;&#8205;&#128171; &lt;/p&gt;





&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   if you don&apos;t set it on JDK 21, you will be greeted with a warning that &quot;soon, not setting proc:full will result in no longer doing annotation processing&quot;.&lt;/p&gt;

&lt;p&gt;   It is a very unsatisfying situation: &lt;/p&gt;

&lt;p&gt;   JDK &amp;lt; 21: proc:full is not allowed, results in `error: invalid flag: -proc:full`&lt;br/&gt;
   JDK == 21:  proc:full works, a warning is reported without it&lt;br/&gt;
   JDK &amp;gt; 21: proc:full is &lt;b&gt;required&lt;/b&gt; at some point, no more annotation processing without it&lt;/p&gt;

&lt;p&gt;   which puts the compiler plugin in the unfortunate situation of having to check the version of javac first before either not passing in `-proc:full` (because it is JDK &amp;lt; 21 and it is set by default) or passing it in for JDK &amp;gt;= 21.&lt;/p&gt;

&lt;p&gt;   That&apos;s why the comment reads &quot;requires more thought&quot;. I have not found time to deal with it. Right now, I have a conditional profile in my poms... &#128565;&#8205;&#128171; &lt;/p&gt;




</comment>
                            <comment id="17778834" author="githubbot" created="Mon, 23 Oct 2023 21:35:17 +0000"  >&lt;p&gt;cstamas commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1369289506&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1369289506&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Hah, just hit the same: I explicitly wanted to disable proc (as am not using it, but unintentionally there ARE APs present on classpath, like Sisu AP is), so I set in TLP proc=none. Cool so far. Then in one module I needed AP, but as parent had proc=none, I had to enable, so I did proc=full, just to figure, that it breaks everything below Java 21...&lt;/p&gt;


</comment>
                            <comment id="17779091" author="githubbot" created="Tue, 24 Oct 2023 13:37:48 +0000"  >&lt;p&gt;bmarwell commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370169302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370169302&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Another solution (which is probably intended by the JDK folks):&lt;br/&gt;
   I used to do two executions in my projects:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;generate-sources: execute with `proc:only`&lt;/li&gt;
	&lt;li&gt;default-compile: execute with `proc:none`&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Worked like a charm and only changed it because Tamas hinted me to do so (because with this setup, some things like caching, incremental compilation etc. won&apos;t work that well or not at all).&lt;br/&gt;
   However, this solution would not run into those problems at all.&lt;/p&gt;


</comment>
                            <comment id="17779108" author="githubbot" created="Tue, 24 Oct 2023 14:10:51 +0000"  >&lt;p&gt;cstamas commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370248141&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370248141&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   ... and I keep forgetting about this, and for me this sounds like &quot;most correct&quot; solution as well: split steps and use existing phases even we provide.&lt;/p&gt;


</comment>
                            <comment id="17779139" author="githubbot" created="Tue, 24 Oct 2023 15:27:28 +0000"  >&lt;p&gt;hgschmie commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370409335&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1370409335&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Interesting. Thank you for suggesting this. I can see the problems with incremental compilation but it still might be an acceptable workaround. Does that increase build times? Without static code analysis and tests, running the compiler is dominating build times and this seems to double those.&lt;/p&gt;


</comment>
                            <comment id="17788912" author="githubbot" created="Wed, 22 Nov 2023 22:00:52 +0000"  >&lt;p&gt;rmannibucau commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1402749922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1402749922&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   +1 to keep backward compat and annot proc working by default.&lt;br/&gt;
   Guess fastest is once the loader (urls) are know to cbexk if there is either the meta-inf SPI file or a module-info registering an annot proc and if so run peoc only before the compilation. Can be done on all versions probably.&lt;br/&gt;
   Indeed, if explicitly disabled it is ignored.&lt;br/&gt;
   So overall overhead is negligible and it will work for everyone and keep annlt proc goodness.&lt;/p&gt;


</comment>
                            <comment id="17798464" author="githubbot" created="Tue, 19 Dec 2023 07:34:15 +0000"  >&lt;p&gt;slawekjaranowski commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1431020333&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1431020333&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   we should add notice that `full` available for JDK 21+&lt;/p&gt;


</comment>
                            <comment id="17819198" author="githubbot" created="Wed, 21 Feb 2024 11:34:29 +0000"  >&lt;p&gt;EwoutH commented on PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#issuecomment-1956457903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#issuecomment-1956457903&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Any update on this effort? What&apos;s needed to move it forward?&lt;/p&gt;

</comment>
                            <comment id="17819211" author="githubbot" created="Wed, 21 Feb 2024 12:10:39 +0000"  >&lt;p&gt;rmannibucau commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1497418122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1497418122&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   well issue is that `full` got backported to several lower versions too so I don&apos;t think we can write something relevant so ensuring we do the two passes when there is at least one SPI file sounds more robust until proc:none is set in the configuration (either `proc` or `compilerArgs`).&lt;/p&gt;


</comment>
                            <comment id="17823400" author="githubbot" created="Tue, 5 Mar 2024 03:06:51 +0000"  >&lt;p&gt;jddarcy commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512075244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512075244&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; well issue is that `full` got backported to several lower versions too so I don&apos;t think we can write something relevant so ensuring we do the two passes when there is at least one SPI file sounds more robust until proc:none is set in the configuration (either `proc` or `compilerArgs`).&lt;/p&gt;

&lt;p&gt;   In more detail, `-proc:full` will be supported in 11u and 17u (and Oracle 8u) as of the April 2024 releases: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8308245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.org/browse/JDK-8308245&lt;/a&gt; HTH&lt;/p&gt;


</comment>
                            <comment id="17823403" author="githubbot" created="Tue, 5 Mar 2024 03:23:57 +0000"  >&lt;p&gt;jddarcy commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512085550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512085550&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; Another solution (which is probably intended by the JDK folks): I used to do two executions in my projects:&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt;     * generate-sources: execute with `proc:only`&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt;     * default-compile: execute with `proc:none`&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; Worked like a charm and only changed it because Tamas hinted me to do so (because with this setup, some things like caching, incremental compilation etc. won&apos;t work that well or not at all). However, this solution would not run into those problems at all.&lt;/p&gt;

&lt;p&gt;   Just running annotation processing when there is explicit need and intention to do so would be fine too.&lt;/p&gt;

&lt;p&gt;   The warning note is only printed when annotation processing by default is being used. If there is explicit configuration annotation processing related options, like `-processorpath` the note is not printed.&lt;/p&gt;


</comment>
                            <comment id="17823438" author="githubbot" created="Tue, 5 Mar 2024 06:03:40 +0000"  >&lt;p&gt;hgschmie commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512176374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512176374&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   While it is great that this is forward ported to the latest versions of 8,11 and 17, there is still the issue of people running with older versions of the JDK and can not change. So it would be nice to have a bit more logic in there. &lt;/p&gt;

&lt;p&gt;   @EwoutH I saw your comment; sorry I am pretty swamped right now to work on this change beyond this initial PR. &lt;/p&gt;


</comment>
                            <comment id="17823654" author="githubbot" created="Tue, 5 Mar 2024 14:51:22 +0000"  >&lt;p&gt;kwin commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512962253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1512962253&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   We can use conditions depending on the javac version (as we currently do in &lt;a href=&quot;https://github.com/codehaus-plexus/plexus-compiler/blob/d8e98dda661b2e976f5382d43bb87dea1434381f/plexus-compilers/plexus-compiler-javac/src/main/java/org/codehaus/plexus/compiler/javac/JavacCompiler.java#L348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codehaus-plexus/plexus-compiler/blob/d8e98dda661b2e976f5382d43bb87dea1434381f/plexus-compilers/plexus-compiler-javac/src/main/java/org/codehaus/plexus/compiler/javac/JavacCompiler.java#L348&lt;/a&gt;). But IMHO m-compiler-p should add a more high level abstraction, as other compilers might handle that differently...&lt;/p&gt;


</comment>
                            <comment id="17823692" author="githubbot" created="Tue, 5 Mar 2024 16:09:43 +0000"  >&lt;p&gt;slawekjaranowski commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513101249&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513101249&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   we can add a property for `proc` parameter and property can be overridden in child modules with empty value.&lt;/p&gt;


</comment>
                            <comment id="17823695" author="githubbot" created="Tue, 5 Mar 2024 16:13:09 +0000"  >&lt;p&gt;rmannibucau commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513106708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513106708&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; We can use conditions depending on the javac version&lt;/p&gt;

&lt;p&gt;   fact is we don&apos;t know with javac version what is supported since several vendors did backport full support.&lt;/p&gt;

&lt;p&gt;   &amp;gt; we can add a property for proc parameter and property can be overridden in child modules with empty value.&lt;/p&gt;

&lt;p&gt;   It is already the case AFAIK (side note being adding properties for compiler args is quite misleading and lead to broken configuration more than it helps IMHO).&lt;/p&gt;

&lt;p&gt;   -&amp;gt; &lt;a href=&quot;https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#proc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#proc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Think we don&apos;t have much choice to split the default compilation in 2 runs if there is at least one processor available (path or serviceloader discovery) and proc is not configured in compiler properties or args.&lt;/p&gt;


</comment>
                            <comment id="17823697" author="githubbot" created="Tue, 5 Mar 2024 16:20:24 +0000"  >&lt;p&gt;slawekjaranowski commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513118861&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513118861&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   this allow to override &lt;a href=&quot;https://github.com/apache/maven-parent/pull/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-parent/pull/157&lt;/a&gt;&lt;/p&gt;


</comment>
                            <comment id="17823709" author="githubbot" created="Tue, 5 Mar 2024 16:58:33 +0000"  >&lt;p&gt;bmarwell commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513179298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513179298&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Then we can use a property for that.&lt;/p&gt;

&lt;p&gt;   My suggestion:&lt;br/&gt;
   Leave it like in this PR for m-c-p 3. Detection is &quot;smart&quot; and will many builds, because they of course will have something like this already configured.&lt;/p&gt;

&lt;p&gt;   For m-c-p 4.x use two phases all the time, even if there&apos;s no APT. An empty run (no sources) doesn&apos;t hurt.&lt;/p&gt;

&lt;p&gt;   We can define properties for those as well, of course.&lt;/p&gt;


</comment>
                            <comment id="17823719" author="githubbot" created="Tue, 5 Mar 2024 17:30:10 +0000"  >&lt;p&gt;rmannibucau commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513223723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513223723&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Hmm, shouldnt we revert the parent change? except it is a breaking change it is also unexpected IMHO.&lt;/p&gt;

&lt;p&gt;   side note: this does not allow more than compilerArgs but enables to get conflicting args now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;   Agree with you @bmarwell if v4 arrives at ~the same time than v3.x+1 since 21 starts to be used and everybody creates the verbose way in the pom which is very unlikely IMHO&lt;/p&gt;


</comment>
                            <comment id="17823763" author="githubbot" created="Tue, 5 Mar 2024 20:21:29 +0000"  >&lt;p&gt;slawekjaranowski commented on code in PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513457686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200#discussion_r1513457686&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/apache/maven/plugin/compiler/AbstractCompilerMojo.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -279,8 +279,11 @@ public abstract class AbstractCompilerMojo extends AbstractMojo {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;ul&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;none&amp;lt;/code&amp;gt; - no annotation processing is performed.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;only&amp;lt;/code&amp;gt; - only annotation processing is done, no compilation.&amp;lt;/li&amp;gt;&lt;br/&gt;
+     * &amp;lt;li&amp;gt;&amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; - annotation processing and compilation.&amp;lt;/li&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;/ul&amp;gt;&lt;br/&gt;
      *&lt;br/&gt;
+     * &amp;lt;code&amp;gt;full&amp;lt;/code&amp;gt; is the default. Starting with JDK 21, this option must be set explicitly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   I feel that we talk about one line in documentation too much &#128516; &lt;/p&gt;


</comment>
                            <comment id="17823856" author="githubbot" created="Wed, 6 Mar 2024 05:04:46 +0000"  >&lt;p&gt;hgschmie merged PR #200:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/pull/200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-compiler-plugin/pull/200&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17979170" author="olamy" created="Mon, 16 Jun 2025 11:25:09 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/issues/764&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-compiler-plugin#764&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kq68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>