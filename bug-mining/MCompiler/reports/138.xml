<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:23:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MCOMPILER-346] workaround to jdk bug: assertionError inside javac when using javax.tools API</title>
                <link>https://issues.apache.org/jira/browse/MCOMPILER-346</link>
                <project id="12317225" key="MCOMPILER">Maven Compiler Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Maven 3.5.3, 64-bit linux, Oracle JDK 10.0.1&lt;/p&gt;

&lt;p&gt;Compilation fails with a crash&#160; inside javac &lt;b&gt;unless&lt;/b&gt; the maven-compiler-plugin is configured with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;forceJavacCompilerUse&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/forceJavacCompilerUse&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I had a brief look at the sources of Modules.java in the current OpenJDK10 and it looks like this is the assertion that gets tripped (line numbers do not match exactly but it&apos;s close enough):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; enter(List&amp;lt;JCCompilationUnit&amp;gt; trees, ClassSymbol c) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; Assert.check(rootModules != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || inInitModules || !allowModules);
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; enter(trees, modules -&amp;gt; {}, c);
&#160;&#160;&#160; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the crash does not happen when invoking the compiler using commandline arguments I suspect the plugin does something unexpected with the javax.tools JavaCompiler API that later trips the exception.&lt;/p&gt;

&lt;p&gt;Unfortunately this is a commercial project so I cannot provide a test case &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The project itself is a JDK8 project we&apos;re currently migrating to JDK10 and while the project itself has no module-info files some of our dependencies do (at least Automatic-Module-Name gets set in their manifests).&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the output of a compile run with the &apos;-verbose&apos; option to this ticket.&lt;/p&gt;

&lt;p&gt;Plugin configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;build&amp;gt;
&#160; &amp;lt;plugins&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;plugin&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;version&amp;gt;3.7.0&amp;lt;/version&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;configuration&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;source&amp;gt;10&amp;lt;/source&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;target&amp;gt;10&amp;lt;/target&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;release&amp;gt;10&amp;lt;/release&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;!-- &amp;lt;forceJavacCompilerUse&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/forceJavacCompilerUse&amp;gt; --&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;compilerArgs&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;arg&amp;gt;-Werror&amp;lt;/arg&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;arg&amp;gt;-verbose&amp;lt;/arg&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;/compilerArgs&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;/configuration&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;/plugin&amp;gt;
&#160; &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.AssertionError
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.comp.Modules.enter(Modules.java:244)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.readSourceFile(JavaCompiler.java:829)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$ImplicitCompleter.complete(JavacProcessingEnvironment.java:1506)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Symbol.complete(Symbol.java:633)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Symbol$ClassSymbol.complete(Symbol.java:1308)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.complete(Type.java:1139)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.getTypeArguments(Type.java:1065)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Printer.visitClassType(Printer.java:237)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Printer.visitClassType(Printer.java:52)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.accept(Type.java:992)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.code.Printer.visit(Printer.java:136)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArgument(AbstractDiagnosticFormatter.java:197)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArguments(AbstractDiagnosticFormatter.java:165)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:111)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:67)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArgument(AbstractDiagnosticFormatter.java:183)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArguments(AbstractDiagnosticFormatter.java:165)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:111)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:67)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.util.JCDiagnostic.getMessage(JCDiagnostic.java:771)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at jdk.compiler/com.sun.tools.javac.api.ClientCodeWrapper$DiagnosticSourceUnwrapper.getMessage(ClientCodeWrapper.java:799)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:131)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1075)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:168)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.cli.MavenCli.execute(MavenCli.java:956)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:290)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.maven.cli.MavenCli.main(MavenCli.java:194)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.lang.reflect.Method.invoke(Method.java:564)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13168861">MCOMPILER-346</key>
            <summary>workaround to jdk bug: assertionError inside javac when using javax.tools API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olamy">Olivier Lamy</assignee>
                                    <reporter username="tgierke2342">Tobias Gierke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jun 2018 12:56:17 +0000</created>
                <updated>Mon, 16 Jun 2025 11:16:14 +0000</updated>
                            <resolved>Sun, 6 Mar 2022 08:39:51 +0000</resolved>
                                    <version>3.7.0</version>
                                    <fixVersion>3.10.1</fixVersion>
                                        <due></due>
                            <votes>6</votes>
                                    <watches>17</watches>
                                                                                                                <comments>
                            <comment id="16526466" author="khmarbaise" created="Thu, 28 Jun 2018 16:02:21 +0000"  >&lt;p&gt;Can you create an example project which shows the problem?&lt;/p&gt;</comment>
                            <comment id="16526568" author="tgierke2342" created="Thu, 28 Jun 2018 17:16:02 +0000"  >&lt;p&gt;You&apos;re lucky , the affected module only contained 63 source files so I was able to narrow this one down (see attached sample project). The crash seems to be related to something in the pom XML. While incrementally removing stuff from the pom.xml I noticed that the crash went away (and instead I just got an - expected - compilation error).&lt;/p&gt;</comment>
                            <comment id="16556005" author="khmarbaise" created="Wed, 25 Jul 2018 17:24:32 +0000"  >&lt;p&gt;The first thing I get is the following warning by using &lt;tt&gt;mvn clean&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Scanning for projects...
[WARNING]
[WARNING] Some problems were encountered while building the effective model for com.voipfuture.testproject:testproject:jar:1.2.15-SNAPSHOT
[WARNING] Reporting configuration should be done in &amp;lt;reporting&amp;gt; section, not in maven-site-plugin &amp;lt;configuration&amp;gt; as reportPlugins parameter. @ line 1046, column 24
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Furthermore I get:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[WARNING] The POM for org.springframework:spring-jdbc:jar:4.1.6.RELEASE_patched2 is missing, no dependency information available
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why is the maven-reactor-plugin in the plugin list? This does not make sense...&lt;br/&gt;
Apart from that you are mixing versions of maven-surefire/maven-failsafe ..why add a dependency to surefire junit-47 which is usually not needed..&lt;br/&gt;
An explude for &lt;tt&gt;*IT.java&lt;/tt&gt; in maven-surefire-plugin is not needed cause it&apos;s default...&lt;/p&gt;

&lt;p&gt;BTW: Is this pom file in the test project your real hand crafted one ? It does not look like so?&lt;/p&gt;</comment>
                            <comment id="16630343" author="jasoncodesaway" created="Thu, 27 Sep 2018 12:41:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tgierke2342&quot; class=&quot;user-hover&quot; rel=&quot;tgierke2342&quot;&gt;tgierke2342&lt;/a&gt; A sincere and heartfelt thank you for posting this! I spent days trying to find the javac issues, your &apos;forceJavacCompilerUser&apos; took me back out of the stone age and illuminated all the issues. Thank you from Florida!&lt;/p&gt;</comment>
                            <comment id="16630376" author="tgierke" created="Thu, 27 Sep 2018 13:08:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonCodesAway&quot; class=&quot;user-hover&quot; rel=&quot;jasonCodesAway&quot;&gt;jasonCodesAway&lt;/a&gt; Thanks for the kind words !&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=khmarbaise&quot; class=&quot;user-hover&quot; rel=&quot;khmarbaise&quot;&gt;khmarbaise&lt;/a&gt; Like I said, this is a test-case I created by elimination from a commercial project with ~700 kLOC of Java code and 43 pom.xml files with ~6 kLOC. The pom.xml was created by combining individual files and then incrementally removing things as long as the crash continue to happen. I already spend quite some time to arrive at this somewhat minimal test-case, so this is as good as it gets. I really don&apos;t see how any of the warnings justify a crash/triggered assertion though. Were you able to reproduce the crash with the attached sample project ?&lt;/p&gt;</comment>
                            <comment id="16890283" author="zeratul" created="Mon, 22 Jul 2019 16:10:04 +0000"  >&lt;p&gt;Can confirm the issue is happening in my project too: Maven 3.6.1 and Maven 3.3.9 using OpenJDK 11.0.2.&lt;/p&gt;

&lt;p&gt;After upgrading a Flexmark library that changed,&#160;I&apos;d see following message only by using enabling&#160;&lt;b&gt;forceJavacCompilerUse:&lt;/b&gt;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] ...../backend/view/MarkdownHtmlView.java:[9,32] error: cannot find symbol
 symbol: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;IParse
 location: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.vladsch.flexmark.util&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Without it, I could only see this stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.AssertionError
        at jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)
        at jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)
        at jdk.compiler/com.sun.tools.javac.comp.Modules.enter(Modules.java:247)
        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.readSourceFile(JavaCompiler.java:837)
        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$ImplicitCompleter.complete(JavacProcessingEnvironment.java:1521)
        at jdk.compiler/com.sun.tools.javac.code.Symbol.complete(Symbol.java:642)
        at jdk.compiler/com.sun.tools.javac.code.Symbol$ClassSymbol.complete(Symbol.java:1326)
        at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.complete(Type.java:1140)
        at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.getTypeArguments(Type.java:1066)
        at jdk.compiler/com.sun.tools.javac.code.Printer.visitClassType(Printer.java:237)
        at jdk.compiler/com.sun.tools.javac.code.Printer.visitClassType(Printer.java:52)
        at jdk.compiler/com.sun.tools.javac.code.Type$ClassType.accept(Type.java:993)
        at jdk.compiler/com.sun.tools.javac.code.Printer.visit(Printer.java:136)
        at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArgument(AbstractDiagnosticFormatter.java:199)
        at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArguments(AbstractDiagnosticFormatter.java:167)
        at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:111)
        at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:67)
        at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArgument(AbstractDiagnosticFormatter.java:185)
        at jdk.compiler/com.sun.tools.javac.util.AbstractDiagnosticFormatter.formatArguments(AbstractDiagnosticFormatter.java:167)
        at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:111)
        at jdk.compiler/com.sun.tools.javac.util.BasicDiagnosticFormatter.formatMessage(BasicDiagnosticFormatter.java:67)
        at jdk.compiler/com.sun.tools.javac.util.JCDiagnostic.getMessage(JCDiagnostic.java:788)
        at jdk.compiler/com.sun.tools.javac.api.ClientCodeWrapper$DiagnosticSourceUnwrapper.getMessage(ClientCodeWrapper.java:799)
        at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:131)
        at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)
        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1129)
        at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:188)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)
        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:956)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17358008" author="ffatheranderson@gmail.com" created="Sun, 6 Jun 2021 03:05:14 +0000"  >&lt;p&gt;Faced the same issue. Using the WSL2 and next versions of maven and java:&lt;/p&gt;

&lt;p&gt;Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)&lt;br/&gt;
Maven home: /mnt/c/dev/apache-maven-3.8.1&lt;br/&gt;
Java version: 11.0.6, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64&lt;br/&gt;
Default locale: en, platform encoding: UTF-8&lt;br/&gt;
OS name: &quot;linux&quot;, version: &quot;4.4.0-19041-microsoft&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/p&gt;</comment>
                            <comment id="17476053" author="andrei.rebegea" created="Fri, 14 Jan 2022 10:02:20 +0000"  >&lt;p&gt;How do I upvote this defect to be fixed ? It is embarrassing... &lt;/p&gt;

&lt;p&gt;D:\proj&amp;gt;mvn --version&lt;br/&gt;
Apache Maven 3.8.2 (ea98e05a04480131370aa0c110b8c54cf726c06f)&lt;br/&gt;
Maven home: D:\maven&lt;br/&gt;
Java version: 11.0.12, vendor: Eclipse Foundation, runtime: D:\openJDK11&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;

&lt;p&gt;D:\proj&amp;gt;java --version&lt;br/&gt;
openjdk 11.0.12 2021-07-20&lt;br/&gt;
OpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)&lt;br/&gt;
OpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)&lt;/p&gt;
</comment>
                            <comment id="17501618" author="basil" created="Sat, 5 Mar 2022 01:16:55 +0000"  >&lt;p&gt;I have run into this bug repeatedly while working on Jenkins. I created a &lt;a href=&quot;https://github.com/basil/MCOMPILER-346-mre&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Minimal Reproducible Example (MRE)&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17501651" author="olamy" created="Sat, 5 Mar 2022 04:06:00 +0000"  >&lt;p&gt;Ok there might be some error message report when looking at diagnostic here &lt;a href=&quot;https://github.com/codehaus-plexus/plexus-compiler/blob/88562f744be32359d8cb3c4ce584439061ada74b/plexus-compilers/plexus-compiler-javac/src/main/java/org/codehaus/plexus/compiler/javac/JavaxToolsCompiler.java#L137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codehaus-plexus/plexus-compiler/blob/88562f744be32359d8cb3c4ce584439061ada74b/plexus-compilers/plexus-compiler-javac/src/main/java/org/codehaus/plexus/compiler/javac/JavaxToolsCompiler.java#L137&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basil&quot; class=&quot;user-hover&quot; rel=&quot;basil&quot;&gt;basil&lt;/a&gt; thanks to provide an example project. Can you please add some license on it (such Apache) otherwise I cannot import it here thanks&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17501666" author="basil" created="Sat, 5 Mar 2022 05:16:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you please add some license on it (such Apache) otherwise I cannot import it here thanks&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, I added an Apache license file.&lt;/p&gt;</comment>
                            <comment id="17501852" author="olamy" created="Sun, 6 Mar 2022 00:12:33 +0000"  >&lt;p&gt;for reference the root cause is &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8210649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8210649&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but need a workaround in&#160;plexus-compiler-javac&lt;/p&gt;

&lt;p&gt;related plexus-compiler PR &lt;a href=&quot;https://github.com/codehaus-plexus/plexus-compiler/pull/196&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codehaus-plexus/plexus-compiler/pull/196&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17501858" author="basil" created="Sun, 6 Mar 2022 02:03:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;for reference the root cause is &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8210649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8210649&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Backport PR: &lt;a href=&quot;https://github.com/openjdk/jdk11u-dev/pull/855&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;openjdk/jdk11u-dev#855&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17501896" author="olamy" created="Sun, 6 Mar 2022 08:22:24 +0000"  >&lt;p&gt;few workaround until next release of compiler plugin.&lt;/p&gt;

&lt;p&gt;override plexus-compiler version&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &amp;lt;plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;version&amp;gt;3.10.0&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &amp;lt;release&amp;gt;11&amp;lt;/release&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;dependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &amp;lt;dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;groupId&amp;gt;org.codehaus.plexus&amp;lt;/groupId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;artifactId&amp;gt;plexus-compiler-api&amp;lt;/artifactId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;version&amp;gt;2.11.0&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &amp;lt;dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;groupId&amp;gt;org.codehaus.plexus&amp;lt;/groupId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;artifactId&amp;gt;plexus-compiler-javac&amp;lt;/artifactId&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;version&amp;gt;2.11.0&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &#160; &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &amp;lt;/dependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;use jdk 17&#160;&lt;/p&gt;

&lt;p&gt;or having code compiling &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17508909" author="basil" created="Fri, 18 Mar 2022 16:38:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olamy&quot; class=&quot;user-hover&quot; rel=&quot;olamy&quot;&gt;olamy&lt;/a&gt; Both this issue (tracking &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8210649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JDK-8210649&lt;/a&gt;) and &lt;a href=&quot;https://issues.apache.org/jira/browse/MCOMPILER-415&quot; title=&quot;NullPointerException from javac when compiling AntlrWorks-Jank&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MCOMPILER-415&quot;&gt;&lt;del&gt;MCOMPILER-415&lt;/del&gt;&lt;/a&gt; (tracking &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8216202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JDK-8216202&lt;/a&gt;) are resolved for me by backporting &lt;a href=&quot;https://github.com/openjdk/jdk/commit/44ae643b2b49b66b1fff4c151c17972c6b683cc0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;openjdk/jdk@&lt;tt&gt;44ae643b2b4&lt;/tt&gt;&lt;/a&gt; to &lt;tt&gt;jdk11u-dev&lt;/tt&gt; as in &lt;a href=&quot;https://github.com/openjdk/jdk11u-dev/pull/919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;openjdk/jdk11u-dev#919&lt;/a&gt; (tested locally against &lt;tt&gt;jenkinsci/acceptance-test-harness&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="17509137" author="olamy" created="Sat, 19 Mar 2022 01:27:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basil&quot; class=&quot;user-hover&quot; rel=&quot;basil&quot;&gt;basil&lt;/a&gt; awesome! thanks for looking after this.&lt;br/&gt;
good luck to get fixes backported in jdk11 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17509352" author="basil" created="Sat, 19 Mar 2022 22:48:29 +0000"  >&lt;p&gt;The fix for the underlying OpenJDK issue has been backported to &lt;tt&gt;jdk11u-dev&lt;/tt&gt; in &lt;a href=&quot;https://github.com/openjdk/jdk11u-dev/pull/919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;openjdk/jdk11u-dev#919&lt;/a&gt; toward OpenJDK 11.0.16, currently scheduled for a July 2022 GA.&lt;/p&gt;</comment>
                            <comment id="17978979" author="olamy" created="Mon, 16 Jun 2025 11:16:14 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-compiler-plugin/issues/554&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-compiler-plugin#554&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12929570" name="log.txt" size="1059213" author="tgierke2342" created="Thu, 28 Jun 2018 12:57:28 +0000"/>
                            <attachment id="12929604" name="sample_project.tgz" size="4227" author="tgierke2342" created="Thu, 28 Jun 2018 17:11:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vc2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>