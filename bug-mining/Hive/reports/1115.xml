<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3995] PostgreSQL upgrade scripts are not valid</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3995</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;ve noticed that scripts for upgrading metastore backed up on PostgreSQL are not valid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631192">HIVE-3995</key>
            <summary>PostgreSQL upgrade scripts are not valid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jarcec">Jarek Jarcec Cecho</assignee>
                                    <reporter username="jarcec">Jarek Jarcec Cecho</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Feb 2013 02:00:29 +0000</created>
                <updated>Thu, 16 May 2013 21:09:58 +0000</updated>
                            <resolved>Sat, 9 Feb 2013 06:37:25 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13573103" author="jarcec" created="Thu, 7 Feb 2013 02:02:26 +0000"  >&lt;p&gt;I&apos;m attaching patch that is fixing the upgrade scripts. I&apos;ve tried to assign the jira to myself but it seems that I&apos;m not in the &quot;contributor&quot; group in the jira. Might I ask someone to add me?&lt;/p&gt;</comment>
                            <comment id="13573110" author="mgrover" created="Thu, 7 Feb 2013 02:24:11 +0000"  >&lt;p&gt;Jarcec, thanks for this! The PostgreSQL scripts were not supported until recently, so it&apos;s possible the syntax in existing scripts is incorrect.&lt;/p&gt;

&lt;p&gt;I left some comments on the review.&lt;/p&gt;</comment>
                            <comment id="13573642" author="jarcec" created="Thu, 7 Feb 2013 16:23:33 +0000"  >&lt;p&gt;Attaching updated patch including Mark&apos;s notes from review board.&lt;/p&gt;</comment>
                            <comment id="13574249" author="mgrover" created="Fri, 8 Feb 2013 04:58:15 +0000"  >&lt;p&gt;+1 (non-committer)&lt;/p&gt;

&lt;p&gt;Thanks Jarcec! I left a comment (no action required from your side) on Reviewboard that &quot;false&quot; seems to be the right value to put for existing rows. Perhaps, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;gangtimliu&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namitjain&quot; class=&quot;user-hover&quot; rel=&quot;namitjain&quot;&gt;namitjain&lt;/a&gt;, who were involved with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt; can confirm.&lt;/p&gt;

&lt;p&gt;I like the new approach of adding the new column as Nullable, updating the existing null values and then setting the column to not-null. The only other approach I can think of is to use a default value (of false) but that seems more risky in the long run.&lt;/p&gt;</comment>
                            <comment id="13575094" author="namit" created="Sat, 9 Feb 2013 06:37:25 +0000"  >&lt;p&gt;Committed. Thanks Jarek and Mark&lt;/p&gt;</comment>
                            <comment id="13575126" author="hudson" created="Sat, 9 Feb 2013 09:12:56 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #75 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/75/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/75/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3995&quot; title=&quot;PostgreSQL upgrade scripts are not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3995&quot;&gt;&lt;del&gt;HIVE-3995&lt;/del&gt;&lt;/a&gt; PostgreSQL upgrade scripts are not valid&lt;br/&gt;
(Jarek and Mark via namit) (Revision 1444332)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3072&quot; title=&quot;Hive List Bucketing - DDL support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3072&quot;&gt;&lt;del&gt;HIVE-3072&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/011-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/012-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13575186" author="mgrover" created="Sat, 9 Feb 2013 15:44:35 +0000"  >&lt;p&gt;Thanks, Namit!&lt;/p&gt;</comment>
                            <comment id="13575204" author="hudson" created="Sat, 9 Feb 2013 17:20:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #114 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/114/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/114/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3995&quot; title=&quot;PostgreSQL upgrade scripts are not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3995&quot;&gt;&lt;del&gt;HIVE-3995&lt;/del&gt;&lt;/a&gt; PostgreSQL upgrade scripts are not valid&lt;br/&gt;
(Jarek and Mark via namit) (Revision 1444332)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3072&quot; title=&quot;Hive List Bucketing - DDL support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3072&quot;&gt;&lt;del&gt;HIVE-3072&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/011-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/012-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13575261" author="hudson" created="Sat, 9 Feb 2013 20:51:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1963 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1963/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1963/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3995&quot; title=&quot;PostgreSQL upgrade scripts are not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3995&quot;&gt;&lt;del&gt;HIVE-3995&lt;/del&gt;&lt;/a&gt; PostgreSQL upgrade scripts are not valid&lt;br/&gt;
(Jarek and Mark via namit) (Revision 1444332)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1444332&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3072&quot; title=&quot;Hive List Bucketing - DDL support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3072&quot;&gt;&lt;del&gt;HIVE-3072&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/011-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/012-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12631336">HIVE-3998</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12631340">HIVE-3999</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12631340">HIVE-3999</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12632521">HIVE-4024</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12568429" name="postgre_update_issue.patch" size="2635" author="jarcec" created="Thu, 7 Feb 2013 16:23:33 +0000"/>
                            <attachment id="12568354" name="postgre_update_issue.patch" size="2288" author="jarcec" created="Thu, 7 Feb 2013 02:01:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hsfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>