<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:35:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-11100] Beeline should escape semi-colon in queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-11100</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Beeline should escape the semicolon in queries. for example, the query like followings:&lt;br/&gt;
CREATE TABLE beeline_tb (c1 int, c2 string) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;;&apos; LINES TERMINATED BY &apos;\n&apos;;&lt;br/&gt;
or &lt;br/&gt;
CREATE TABLE beeline_tb (c1 int, c2 string) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;\;&apos; LINES TERMINATED BY &apos;\n&apos;;&lt;br/&gt;
both failed.&lt;br/&gt;
But the 2nd query with semicolon escaped with &quot;\&quot; works in CLI.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12840343">HIVE-11100</key>
            <summary>Beeline should escape semi-colon in queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="ctang">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2015 21:28:44 +0000</created>
                <updated>Wed, 22 Feb 2017 12:34:57 +0000</updated>
                            <resolved>Tue, 30 Jun 2015 17:44:40 +0000</resolved>
                                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14601417" author="mdominguez@cloudera.com" created="Thu, 25 Jun 2015 15:51:54 +0000"  >&lt;p&gt;Both DDL statements in the description work fine in Beeline in Hive 0.13 and earlier.&lt;/p&gt;</comment>
                            <comment id="14602327" author="ctang.ma" created="Fri, 26 Jun 2015 03:03:15 +0000"  >&lt;p&gt;Since Hive 0.14, Beeline supports multiple commands separated by &quot;;&quot; in a single line passed in via -f or -e, which break the case with &quot;;&quot; in sql query. &lt;br/&gt;
This JIRA is to provide an escape &quot;\&quot; to the &quot;;&apos; in query, so that it will behave same as CLI.&lt;/p&gt;</comment>
                            <comment id="14602331" author="ctang.ma" created="Fri, 26 Jun 2015 03:07:43 +0000"  >&lt;p&gt;Since the &quot;;&quot; is being used to delimit commands in a single line in Beeline, it should be able to be escaped when it is not used as a delimiter. This patch provides &quot;\&quot; as the escape to it like that in CLI.&lt;/p&gt;</comment>
                            <comment id="14602982" author="ctang.ma" created="Fri, 26 Jun 2015 14:50:08 +0000"  >&lt;p&gt;Patch was uploaded to &lt;a href=&quot;https://reviews.apache.org/r/35907/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35907/&lt;/a&gt; and requested for review. Thanks in advance.&lt;/p&gt;</comment>
                            <comment id="14603018" author="ctang.ma" created="Fri, 26 Jun 2015 15:13:23 +0000"  >&lt;p&gt;For unknown reason, the precommit test did not run. Reattach the patch to kick off the build.&lt;/p&gt;</comment>
                            <comment id="14603184" author="xuefuz" created="Fri, 26 Jun 2015 16:57:32 +0000"  >&lt;p&gt;Can we find out how CLI is escaping? I feel a little uncomfortable the way we are processing multiple command lines using split by &quot;;&quot; and then manually fixing the escaping problem. Ideally, we should add a grammar that can handle this.&lt;/p&gt;</comment>
                            <comment id="14603561" author="hiveqa" created="Fri, 26 Jun 2015 20:54:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12742137/HIVE-11100.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12742137/HIVE-11100.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 9032 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4399/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4399/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4399/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4399/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4399/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4399/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12742137 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14604479" author="ctang.ma" created="Sun, 28 Jun 2015 02:57:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; CLI uses &quot;;&quot; to terminate a command, or delimit multiple commands in a single line. If &quot;;&quot; is used in a query, it has to be escaped with &quot;\&quot;. &lt;br/&gt;
Beeline uses &quot;;&quot; to terminate a command, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9877&quot; title=&quot;Beeline cannot run multiple statements in the same row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9877&quot;&gt;&lt;del&gt;HIVE-9877&lt;/del&gt;&lt;/a&gt; enhanced Beeline to support multiple commands separated by &quot;;&quot; in a single line, this JIRA adds the support that &quot;;&quot; in a query could be escaped by &quot;\&quot;.&lt;br/&gt;
So both JIRAs are trying to make Beeline more compatible to CLI in term of the use of &quot;;&quot;. Actually their implementations are also similar.&lt;/p&gt;</comment>
                            <comment id="14606221" author="xuefuz" created="Mon, 29 Jun 2015 19:35:05 +0000"  >&lt;p&gt;Okay. +1&lt;/p&gt;</comment>
                            <comment id="14608726" author="xuefuz" created="Tue, 30 Jun 2015 17:44:40 +0000"  >&lt;p&gt;Committed to master and branch-1. Thanks, Chaoyu.&lt;/p&gt;</comment>
                            <comment id="14968308" author="szehon" created="Thu, 22 Oct 2015 01:08:48 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, wondering if you realized that this is backward compatible for connect strings that involve semicolon, for example connecting to security or dynamic service discovery?&lt;/p&gt;

&lt;p&gt;eg, beeline -u &apos;jdbc:hive2://localhost:10000/default;principal=hive/host@realm&apos;&lt;br/&gt;
beeline -u &quot;jdbc:hive2://localhost:2181/\;serviceDiscoveryMode=zooKeeper\;zooKeeperNamespace=hiveserver2&quot;&lt;/p&gt;</comment>
                            <comment id="14968335" author="szehon" created="Thu, 22 Oct 2015 01:32:03 +0000"  >&lt;p&gt;When I forgot to escape the semi-colon, there was an unhelpful NPE on Beeline startup.&lt;/p&gt;</comment>
                            <comment id="14968388" author="xuefuz" created="Thu, 22 Oct 2015 02:25:02 +0000"  >&lt;p&gt;What makes &apos;;&apos; start appearing in the connection string and did that happen before this one? Since &apos;;&apos; is reserved for query terminator, it seems reasonable to require escaping it all the time.&lt;/p&gt;</comment>
                            <comment id="14969543" author="szehon" created="Thu, 22 Oct 2015 17:53:39 +0000"  >&lt;p&gt;Yea see my examples, dynamic service discovery, kerberos.  &lt;/p&gt;

&lt;p&gt;I think requiring in connect string will break backward compatibility with other tools, for example oozie, not to mention some user scripts.&lt;/p&gt;

&lt;p&gt;I think escaping in regular queries is fine, but for the ! commands it may make less sense, what do you think?&lt;/p&gt;</comment>
                            <comment id="14969561" author="ctang.ma" created="Thu, 22 Oct 2015 18:06:46 +0000"  >&lt;p&gt;yes, maybe for the !command, &quot;;&quot; should not be interpreted as a terminator, so it is not needed for escaped. But how these !commands are used with -e and -f?&lt;/p&gt;</comment>
                            <comment id="14969686" author="szehon" created="Thu, 22 Oct 2015 19:08:02 +0000"  >&lt;p&gt;So basically beeline -u &apos;jdbcstring&apos; somehow translates to running !connect &apos;jdbcstring&apos;, that&apos;s what I saw.&lt;/p&gt;</comment>
                            <comment id="14970733" author="lefty@hortonworks.com" created="Fri, 23 Oct 2015 09:46:36 +0000"  >&lt;p&gt;Does this need to be documented in the wiki?  (If so, please add a TODOC1.3 label.)&lt;/p&gt;</comment>
                            <comment id="14972826" author="ctang.ma" created="Sat, 24 Oct 2015 19:33:13 +0000"  >&lt;p&gt;I think that it is most likely a regression from recent &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11640&quot; title=&quot;Shell command doesn&amp;#39;t work for new CLI[Beeline-cli branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11640&quot;&gt;&lt;del&gt;HIVE-11640&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14972913" author="ctang.ma" created="Sat, 24 Oct 2015 23:29:59 +0000"  >&lt;p&gt;The fix to the issue has been provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12259&quot; title=&quot;Command containing semicolon is broken in Beeline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12259&quot;&gt;&lt;del&gt;HIVE-12259&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt;, since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11640&quot; title=&quot;Shell command doesn&amp;#39;t work for new CLI[Beeline-cli branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11640&quot;&gt;&lt;del&gt;HIVE-11640&lt;/del&gt;&lt;/a&gt; was only committed to 2.0.0 dev branch, we do not need to document the issue for other branches. Thanks&lt;/p&gt;</comment>
                            <comment id="14972930" author="lefty@hortonworks.com" created="Sun, 25 Oct 2015 00:37:19 +0000"  >&lt;p&gt;Okay, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12907684">HIVE-12259</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12920860">HIVE-12646</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12923947">SPARK-12497</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12916441">SPARK-12014</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12779899">HIVE-9877</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13040541">HIVE-15820</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12742137" name="HIVE-11100.patch" size="6485" author="ctang" created="Fri, 26 Jun 2015 15:13:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ggj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>