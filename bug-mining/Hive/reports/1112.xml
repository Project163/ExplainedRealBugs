<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2839] Filters on outer join with mapjoin hint is not applied correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2839</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2820&quot; title=&quot;Invalid tag is used for MapJoinProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2820&quot;&gt;&lt;del&gt;HIVE-2820&lt;/del&gt;&lt;/a&gt;, I&apos;ve found some queries with mapjoin hint makes exceptions.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(a) */&lt;/span&gt; * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; limit 10;

FAILED: Hive Internal Error: java.lang.ClassCastException(org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc)
java.lang.ClassCastException: org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:363)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.generateMapJoinOperator(MapJoinProcessor.java:483)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.transform(MapJoinProcessor.java:689)
	at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:87)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7519)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:431)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:336)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:891)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(a) */&lt;/span&gt; * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND b.key * 10 &amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1000&apos;&lt;/span&gt; limit 10;

java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:391)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:416)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)
	at org.apache.hadoop.mapred.Child.main(Child.java:264)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException
	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.loadHashTable(MapJoinOperator.java:198)
	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.cleanUpInputFileChangedOp(MapJoinOperator.java:212)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1321)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:495)
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)
	... 8 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12545125">HIVE-2839</key>
            <summary>Filters on outer join with mapjoin hint is not applied correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="navis">Navis Ryu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2012 02:44:28 +0000</created>
                <updated>Thu, 16 May 2013 21:10:40 +0000</updated>
                            <resolved>Wed, 6 Feb 2013 17:04:02 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13222136" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 02:46:57 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-919 Filters on outer join with mapjoin hint is not applied correctly&lt;/p&gt;

&lt;p&gt;  Testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2820&quot; title=&quot;Invalid tag is used for MapJoinProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2820&quot;&gt;&lt;del&gt;HIVE-2820&lt;/del&gt;&lt;/a&gt;, I&apos;ve found some queries with mapjoin hint makes exceptions.&lt;/p&gt;

&lt;p&gt;  SELECT /*+ MAPJOIN(a) */ * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND true limit 10;&lt;/p&gt;

&lt;p&gt;  FAILED: Hive Internal Error: java.lang.ClassCastException(org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be cast to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc)&lt;br/&gt;
  java.lang.ClassCastException: org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be cast to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:363)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.generateMapJoinOperator(MapJoinProcessor.java:483)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.transform(MapJoinProcessor.java:689)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:87)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7519)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:431)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:336)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:891)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
  	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
  	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
  	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)&lt;/p&gt;

&lt;p&gt;  and&lt;/p&gt;

&lt;p&gt;  SELECT /*+ MAPJOIN(a) */ * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND b.key * 10 &amp;lt; &apos;1000&apos; limit 10;&lt;/p&gt;

&lt;p&gt;  java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:391)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
  	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
  	at javax.security.auth.Subject.doAs(Subject.java:416)&lt;br/&gt;
  	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;br/&gt;
  Caused by: org.apache.hadoop.hive.ql.metadata.HiveException&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.loadHashTable(MapJoinOperator.java:198)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.cleanUpInputFileChangedOp(MapJoinOperator.java:212)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1321)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:495)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
  	... 8 more&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4509/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/4509/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13222149" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 03:25:04 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed rebasing mistakes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;</comment>
                            <comment id="13258516" author="ashutoshc" created="Fri, 20 Apr 2012 19:38:05 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13547819" author="ashutoshc" created="Wed, 9 Jan 2013 09:59:42 +0000"  >&lt;p&gt;This patch got stale as well. Navis, please refresh this patch and I will take a look.&lt;/p&gt;</comment>
                            <comment id="13548946" author="ashutoshc" created="Wed, 9 Jan 2013 20:13:50 +0000"  >&lt;p&gt;This bug also exists on trunk. Query failed with same stacktrace. Unfortunately cannot resolve conflicts to get the patch applied on trunk for testing.&lt;/p&gt;</comment>
                            <comment id="13559423" author="navis" created="Tue, 22 Jan 2013 06:26:49 +0000"  >&lt;p&gt;I think all of the patches dealing MAPJOIN hint should wait till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; is committed.&lt;/p&gt;</comment>
                            <comment id="13569876" author="ashutoshc" created="Sun, 3 Feb 2013 19:40:45 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; whats the status of this bug? Seems like once we get rid of hint completely, we won&apos;t hit this, but I am not sure when will we get there. So feels like this bug still exists. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;namit&lt;/a&gt; What do you think ? Shall we proceed with this fix?&lt;/p&gt;</comment>
                            <comment id="13569972" author="namit" created="Mon, 4 Feb 2013 03:54:50 +0000"  >&lt;p&gt;I think we should proceed with this fix.&lt;br/&gt;
It might take some time to completely deprecate this hint.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt;, can you refresh ?&lt;/p&gt;</comment>
                            <comment id="13569997" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 05:30:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Lost the branch. Recreating.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=6441&amp;amp;id=27147#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079?vs=6441&amp;amp;id=27147#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13570017" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 06:34:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:123 Can you add come comments ?&lt;/p&gt;

&lt;p&gt;  Return List instead of ArrayList.&lt;br/&gt;
  Same applies to the variables.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:150 Do you want to add a else ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:154 Can you add some comments everywhere ?&lt;br/&gt;
  It will make the review easier&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q:11 Do you want to add a test with a struct column - and the where clause&lt;br/&gt;
  accesses the field&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570018" author="namit" created="Mon, 4 Feb 2013 06:34:46 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13570068" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:42:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27147&amp;amp;id=27171#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079?vs=27147&amp;amp;id=27171#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570069" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:44:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Typos, sorry.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27171&amp;amp;id=27177#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079?vs=27171&amp;amp;id=27177#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570130" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 12:14:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q:15 Can you add tests with hive.outerjoin.supports.filter also ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570817" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 01:02:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Added tests&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27177&amp;amp;id=27231#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079?vs=27177&amp;amp;id=27231#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13571115" author="namit" created="Tue, 5 Feb 2013 07:26:26 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13571117" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 07:28:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 This should not be possible.&lt;/p&gt;

&lt;p&gt;  We don&apos;t support&lt;/p&gt;

&lt;p&gt;  join -&amp;gt; mapjoin&lt;br/&gt;
  union -&amp;gt; mapjoin&lt;/p&gt;

&lt;p&gt;  I am not sure about LateralView -&amp;gt; mapjoin,&lt;br/&gt;
  but if it is allowed, I will add a jira to stop that, and fix that&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:181 Remove this function.&lt;/p&gt;

&lt;p&gt;  assert that parents.size() == 1&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:128 return a List instead of ArrayList&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 result can be a List instead of ArrayList&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13571996" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 00:51:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 It&apos;s just a list of operators which can have multiple parents. The conditions you&apos;ve mentioned should be checked before calling this. I&apos;ve done this intentionally cause this is utility class.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:181 hm.. ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 Return value might be used for setting OperatorDescs, which has ArrayList instead of List. Would it be better to wrap again with ArrayList before setting?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572118" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 03:55:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 You should assert numberParents == 1&lt;/p&gt;

&lt;p&gt;  We need to check that before coming to this function.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 ok - that&apos;s fine&lt;br/&gt;
  ideally, it should be cleaned up, but can be a follow-up&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572259" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 08:13:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments except removing getSingleParent() method, which is needed for error handling&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27231&amp;amp;id=27309#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079?vs=27231&amp;amp;id=27309#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572323" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 10:41:12 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-919&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572575" author="hudson" created="Wed, 6 Feb 2013 17:02:53 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #71 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/71/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/71/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13572576" author="hudson" created="Wed, 6 Feb 2013 17:02:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1959 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1959/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1959/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13572577" author="namit" created="Wed, 6 Feb 2013 17:04:02 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13573245" author="hudson" created="Thu, 7 Feb 2013 06:33:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #110 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/110/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/110/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13580584" author="phabricator@reviews.facebook.net" created="Mon, 18 Feb 2013 12:39:12 +0000"  >&lt;p&gt;navis has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12630830">HIVE-3988</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12517042" name="ASF.LICENSE.NOT.GRANTED--HIVE-2839.D2079.1.patch" size="9233" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 02:46:57 +0000"/>
                            <attachment id="12517043" name="ASF.LICENSE.NOT.GRANTED--HIVE-2839.D2079.2.patch" size="9229" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 03:25:05 +0000"/>
                            <attachment id="12567800" name="HIVE-2839.D2079.3.patch" size="8987" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 05:30:12 +0000"/>
                            <attachment id="12567818" name="HIVE-2839.D2079.4.patch" size="11099" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:42:11 +0000"/>
                            <attachment id="12567819" name="HIVE-2839.D2079.5.patch" size="11101" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:44:11 +0000"/>
                            <attachment id="12567919" name="HIVE-2839.D2079.6.patch" size="38203" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 01:02:11 +0000"/>
                            <attachment id="12568185" name="HIVE-2839.D2079.7.patch" size="38315" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 08:13:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d3fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>