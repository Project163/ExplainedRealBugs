<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3300] LOAD DATA INPATH fails if a hdfs file with same name is added to table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3300</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If we are loading data from local fs to hive tables using &apos;LOAD DATA LOCAL INPATH&apos; and if a file with the same name exists in the table&apos;s location then the new file will be suffixed by *_copy_1.&lt;/p&gt;

&lt;p&gt;But if we do the &apos;LOAD DATA INPATH&apos;  for a file in hdfs then there is no rename happening but just a move task is getting triggered. Since a file with same name exists in same hdfs location, hadoop fs move operation throws an error.&lt;/p&gt;


&lt;p&gt;hive&amp;gt; LOAD DATA INPATH &apos;/userdata/bejoy/site.txt&apos; INTO TABLE test.site;&lt;br/&gt;
Loading data to table test.site&lt;br/&gt;
Failed with exception null&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;br/&gt;
hive&amp;gt; &lt;/p&gt;
</description>
                <environment>&lt;p&gt;ubuntu linux, hadoop 1.0.3, hive 0.9&lt;/p&gt;</environment>
        <key id="12600184">HIVE-3300</key>
            <summary>LOAD DATA INPATH fails if a hdfs file with same name is added to table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="bejoyks">Bejoy KS</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jul 2012 16:02:27 +0000</created>
                <updated>Thu, 16 May 2013 21:10:28 +0000</updated>
                            <resolved>Mon, 7 Jan 2013 06:40:56 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Import/Export</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13423009" author="navis" created="Thu, 26 Jul 2012 11:01:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13423558" author="navis" created="Thu, 26 Jul 2012 23:33:25 +0000"  >&lt;p&gt;I think attached test is not appropriate for this usecase. &lt;/p&gt;</comment>
                            <comment id="13529604" author="phabricator@reviews.facebook.net" created="Wed, 12 Dec 2012 03:49:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Removed staging stage for source files before copy/move&lt;br/&gt;
  2. Rebase on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs2.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13533865" author="namit" created="Mon, 17 Dec 2012 11:32:51 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13533867" author="phabricator@reviews.facebook.net" created="Mon, 17 Dec 2012 11:34:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q:1 Add some comments in the test.&lt;br/&gt;
  What are you trying to test ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545384" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 13:00:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs2.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545635" author="namit" created="Mon, 7 Jan 2013 04:48:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13545636" author="phabricator@reviews.facebook.net" created="Mon, 7 Jan 2013 04:50:11 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1679&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545671" author="namit" created="Mon, 7 Jan 2013 06:40:56 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13545874" author="hudson" created="Mon, 7 Jan 2013 13:36:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1898 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1898/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1898/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&lt;br/&gt;
(Navis via namit) (Revision 1429686)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/load_fs2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_fs2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548012" author="hudson" created="Wed, 9 Jan 2013 10:23:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&lt;br/&gt;
(Navis via namit) (Revision 1429686)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/load_fs2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_fs2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12537982" name="HIVE-3300.1.patch.txt" size="14880" author="navis" created="Thu, 26 Jul 2012 11:03:02 +0000"/>
                            <attachment id="12560503" name="HIVE-3300.D4383.3.patch" size="15345" author="phabricator@reviews.facebook.net" created="Wed, 12 Dec 2012 03:49:20 +0000"/>
                            <attachment id="12563480" name="HIVE-3300.D4383.4.patch" size="15166" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 13:00:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>