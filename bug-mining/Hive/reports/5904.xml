<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:57:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-17822] Provide an option to skip shading of jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-17822</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Maven shade plugin does not have option to skip. Adding it under a profile can help with skip shade reducing build times.&lt;/p&gt;

&lt;p&gt;Maven build profile shows druid and jdbc shade plugin to be slowest (also hive-exec). For devs not working on druid or jdbc, it will be good to have an option to skip shading via a profile. With this it will be possible to get a subminute dev build.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13109821">HIVE-17822</key>
            <summary>Provide an option to skip shading of jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Oct 2017 22:35:28 +0000</created>
                <updated>Tue, 22 May 2018 23:13:44 +0000</updated>
                            <resolved>Tue, 17 Oct 2017 18:56:28 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16206701" author="prasanth_j" created="Mon, 16 Oct 2017 22:38:17 +0000"  >&lt;p&gt;Users have to pass -DskipShade to skip druid and jdbc shading. hive-exec shading is not used as submodules depend on it in most cases. &lt;/p&gt;</comment>
                            <comment id="16206727" author="prasanth_j" created="Mon, 16 Oct 2017 22:52:17 +0000"  >&lt;p&gt;Some numbers&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# Base: Clean offline quite build
$ time mvn clean install -DskipTests -o -q
real	3m9.005s
user	7m14.864s
sys	0m40.295s

# Parallel (using 1C gave best build times) build
$ time mvn clean install -DskipTests -T 1C -o -q
real	2m24.415s
user	8m12.243s
sys	0m54.905s

# With MAVEN_OPTS
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn clean install -DskipTests -T 1C -o -q
real	2m12.872s
user	7m46.879s
sys	0m49.696s

# Skip clean
$ MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt;
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn install -DskipTests -T 1C -o -q
real	1m31.403s
user	5m13.439s
sys	0m37.885s

# Skip shade &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jdbc and druid-handler (requires HIVE-17822)
# NOTE: &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you are changing/testing jdbc or druid you may want to skip &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; step
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn install -DskipShade -DskipTests -T 1C -o -q
real	1m20.130s
user	4m37.645s
sys	0m39.897s

# Skip remote resource plugin
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn install -DskipShade -DskipTests -Dremoteresources.skip=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -T 1C -o -q
real	0m37.485s
user	0m52.652s
sys	0m14.118s

# Build ql and downstream modules
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn install -DskipShade -DskipTests -Dremoteresources.skip=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -T 1C -o -q -pl ql -amd
real	0m31.827s
user	1m50.349s
sys	0m9.494s

# Build llap-server and downstream modules
$ time MAVEN_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1&quot;&lt;/span&gt; mvn install -DskipShade -DskipTests -Dremoteresources.skip=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -T 1C -o -q -pl llap-server -amd
real	0m9.147s
user	0m20.189s
sys	0m3.056s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16206768" author="prasanth_j" created="Mon, 16 Oct 2017 23:26:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; Can you please review this change?&lt;/p&gt;</comment>
                            <comment id="16206948" author="hiveqa" created="Tue, 17 Oct 2017 03:05:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12892483/HIVE-17822.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12892483/HIVE-17822.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 11242 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[optimize_nullscan] (batchId=163)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multi] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_notin] (batchId=133)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_scalar] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_select] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_views] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkPerfCliDriver.testCliDriver[query16] (batchId=243)
org.apache.hadoop.hive.cli.TestSparkPerfCliDriver.testCliDriver[query94] (batchId=243)
org.apache.hadoop.hive.cli.TestTezPerfCliDriver.testCliDriver[query14] (batchId=241)
org.apache.hadoop.hive.cli.TestTezPerfCliDriver.testCliDriver[query16] (batchId=241)
org.apache.hadoop.hive.cli.TestTezPerfCliDriver.testCliDriver[query94] (batchId=241)
org.apache.hadoop.hive.cli.control.TestDanglingQOuts.checkDanglingQOut (batchId=204)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/7337/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/7337/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/7337/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/7337/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-7337/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-7337/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12892483 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16207813" author="ashutoshc" created="Tue, 17 Oct 2017 15:49:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="16208164" author="prasanth_j" created="Tue, 17 Oct 2017 18:56:28 +0000"  >&lt;p&gt;Committed to master. Thanks for the review!&lt;/p&gt;</comment>
                            <comment id="16208894" author="lefty@hortonworks.com" created="Wed, 18 Oct 2017 06:55:16 +0000"  >&lt;p&gt;Should this be documented in the wiki?  (If so, it needs a TODOC3.0 label.)&lt;/p&gt;</comment>
                            <comment id="16484974" author="ashutoshc" created="Tue, 22 May 2018 23:13:44 +0000"  >&lt;p&gt;This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12892483" name="HIVE-17822.1.patch" size="28580" author="prasanth_j" created="Mon, 16 Oct 2017 22:37:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lbwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12340268">3.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>