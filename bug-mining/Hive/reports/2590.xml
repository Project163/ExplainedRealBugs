<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:24:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7984] AccumuloOutputFormat Configuration items from StorageHandler not re-set in Configuration in Tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7984</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Ran AccumuloStorageHandler queries with Tez and found that configuration elements that are pulled from the &lt;tt&gt;-hiveconf&lt;/tt&gt; and passed to the inputJobProperties or outputJobProperties by the AccumuloStorageHandler aren&apos;t available inside of the Tez container.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing that there is a disconnect from the configuration that the StorageHandler creates and what the Tez container sees.&lt;/p&gt;

&lt;p&gt;The HBaseStorageHandler likely doesn&apos;t run into this because it expects to have hbase-site.xml available via tmpjars (and can extrapolate connection information from that file). Accumulo&apos;s site configuration file is not meant to be shared with consumers which means that this exact approach is not sufficient.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12739154">HIVE-7984</key>
            <summary>AccumuloOutputFormat Configuration items from StorageHandler not re-set in Configuration in Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elserj">Josh Elser</assignee>
                                    <reporter username="elserj">Josh Elser</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Sep 2014 15:54:33 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:13 +0000</updated>
                            <resolved>Fri, 19 Sep 2014 07:10:57 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>StorageHandler</component>
                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14121820" author="elserj" created="Thu, 4 Sep 2014 19:46:50 +0000"  >&lt;p&gt;I think the cause is that &lt;tt&gt;PlanUtils.configureInputJobPropertiesForStorageHandler(TableDesc)&lt;/tt&gt; or &lt;tt&gt;PlanUtils.configureOutputJobPropertiesForStorageHandler(TableDesc)&lt;/tt&gt; aren&apos;t called in the Tez &quot;pipeline&quot;. Still trying to figure out where exactly that should go.&lt;/p&gt;</comment>
                            <comment id="14122315" author="elserj" created="Fri, 5 Sep 2014 02:48:51 +0000"  >&lt;p&gt;After a bunch of digging, I found that I could still work around this via the custom OutputFormat for Accumulo without having to actually dig into the calls to the StorageHandler WRT to the execution engine.&lt;/p&gt;</comment>
                            <comment id="14122317" author="elserj" created="Fri, 5 Sep 2014 02:51:21 +0000"  >&lt;p&gt;Fixes the OutputFormat to be a little more resilient. Also removed a really nasty log.info statement that shouldn&apos;t have been committed in the first place.&lt;/p&gt;</comment>
                            <comment id="14128776" author="elserj" created="Wed, 10 Sep 2014 17:33:17 +0000"  >&lt;p&gt;Same changes, but named the original attachment wrong. Fixing suffix to trigger HIVE-QA&lt;/p&gt;</comment>
                            <comment id="14129057" author="hagleitn" created="Wed, 10 Sep 2014 20:41:03 +0000"  >&lt;p&gt;reupload to make precommit tests happy.&lt;/p&gt;</comment>
                            <comment id="14129598" author="hiveqa" created="Thu, 11 Sep 2014 04:21:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667841/HIVE-7984.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667841/HIVE-7984.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6195 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/733/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/733/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/733/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/733/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-733/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-733/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667841&lt;/p&gt;</comment>
                            <comment id="14136787" author="elserj" created="Wed, 17 Sep 2014 05:10:02 +0000"  >&lt;p&gt;Test failure appears unrelated to me. Can anyone give this a review? It&apos;s a rather straightforward change.&lt;/p&gt;</comment>
                            <comment id="14138142" author="sushanth" created="Wed, 17 Sep 2014 22:45:19 +0000"  >&lt;p&gt;Looks reasonable to me. +1.&lt;/p&gt;</comment>
                            <comment id="14138143" author="sushanth" created="Wed, 17 Sep 2014 22:45:47 +0000"  >&lt;p&gt;(And yes, confirming that the test failure is not related)&lt;/p&gt;</comment>
                            <comment id="14138144" author="elserj" created="Wed, 17 Sep 2014 22:46:35 +0000"  >&lt;p&gt;Thanks, Sushanth &amp;#8211; much appreciated.&lt;/p&gt;</comment>
                            <comment id="14140122" author="sushanth" created="Fri, 19 Sep 2014 07:10:57 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;elserj&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14210917" author="thejas" created="Thu, 13 Nov 2014 19:43:13 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12666642" name="HIVE-7984-1.diff" size="4468" author="elserj" created="Fri, 5 Sep 2014 02:51:21 +0000"/>
                            <attachment id="12667790" name="HIVE-7984-1.patch" size="4468" author="elserj" created="Wed, 10 Sep 2014 17:33:17 +0000"/>
                            <attachment id="12667841" name="HIVE-7984.1.patch" size="4468" author="hagleitn" created="Wed, 10 Sep 2014 20:41:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zorr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>