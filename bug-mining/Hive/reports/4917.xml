<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:47:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-14726] delete statement fails when spdo is on</title>
                <link>https://issues.apache.org/jira/browse/HIVE-14726</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="13003716">HIVE-14726</key>
            <summary>delete statement fails when spdo is on</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Sep 2016 23:15:07 +0000</created>
                <updated>Tue, 27 Feb 2024 22:23:51 +0000</updated>
                            <resolved>Tue, 13 Sep 2016 14:48:27 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Logical Optimizer</component>
                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15475322" author="ashutoshc" created="Thu, 8 Sep 2016 23:16:11 +0000"  >&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; (SessionState.java:printError(948)) - FAILED: IndexOutOfBoundsException Index: 8, Size: 2
java.lang.IndexOutOfBoundsException: Index: 8, Size: 2
        at java.util.ArrayList.rangeCheck(ArrayList.java:653)
        at java.util.ArrayList.get(ArrayList.java:429)
        at org.apache.hadoop.hive.ql.optimizer.SortedDynPartitionOptimizer$SortedDynamicPartitionProc.getPositionsToExprNodes(SortedDynPartitionOptimizer.java:588)
        at org.apache.hadoop.hive.ql.optimizer.SortedDynPartitionOptimizer$SortedDynamicPartitionProc.process(SortedDynPartitionOptimizer.java:217)
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:95)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:79)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:133)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:110)
        at org.apache.hadoop.hive.ql.optimizer.SortedDynPartitionOptimizer.transform(SortedDynPartitionOptimizer.java:104)
        at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:207)
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10466)
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10116)
        at org.apache.hadoop.hive.ql.parse.UpdateDeleteSemanticAnalyzer.analyzeInternal(UpdateDeleteSemanticAnalyzer.java:61)
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:230)
        at org.apache.hadoop.hive.ql.parse.UpdateDeleteSemanticAnalyzer.reparseAndSuperAnalyze(UpdateDeleteSemanticAnal
yzer.java:316)
        at org.apache.hadoop.hive.ql.parse.UpdateDeleteSemanticAnalyzer.analyzeDelete(UpdateDeleteSemanticAnalyzer.java:100)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15475602" author="hiveqa" created="Fri, 9 Sep 2016 01:54:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827683/HIVE-14726.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827683/HIVE-14726.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10545 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization_acid]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1136/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1136/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1136/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1136/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1136/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1136/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827683 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15477342" author="ashutoshc" created="Fri, 9 Sep 2016 15:32:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;jcamachorodriguez&lt;/a&gt; Can you take a quick look? Seemingly related dynpart_sort_optimization_acid.q is failing on master since last 15 builds.&lt;/p&gt;</comment>
                            <comment id="15477367" author="jcamacho" created="Fri, 9 Sep 2016 15:43:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;, could you elaborate why there is no advantage of running the optimization for update and delete? It seems we used to optimize these cases (l187 in the original SortedDynPartitionOptimizer class). If we apply the patch attached, we should remove the code in l187.&lt;/p&gt;</comment>
                            <comment id="15477432" author="ashutoshc" created="Fri, 9 Sep 2016 16:08:04 +0000"  >&lt;p&gt;Reason where this optimization is useful when there are large number of partitions being written. That time there are many orc writers which are buffering data. Update and delete statement gets rewritten as insert statement but they won&apos;t have this issue of many dynamic partitions being written into at same time. So, I am not sure why there is a handling of Update/Delete at place you pointed out, we should simply skip this optimization step in those cases. I will take another look and update the patch accordingly.&lt;/p&gt;</comment>
                            <comment id="15478321" author="ashutoshc" created="Fri, 9 Sep 2016 21:32:17 +0000"  >&lt;p&gt;On taking a second look it seems that delete/update statements can also be affected by wrath of orc buffers. e.g., for the query in test case RS sort and shuffle key is ROW__ID and partition column is in value of RS. If I understand correctly in Reducers FileSink operator need to have an orc buffer open for each partition. This may result in similar OOM cases. However, I am not sure if its possible to solve that problem through this optimization for delete/update statement. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;prasanth_j&lt;/a&gt; any suggestions?&lt;/p&gt;</comment>
                            <comment id="15478442" author="ekoifman" created="Fri, 9 Sep 2016 22:22:13 +0000"  >&lt;p&gt;Update/Delete can certainly write many partitions at the same time, e.g.  Update T set c1=c1+1 where c2 &amp;gt; 100.&lt;br/&gt;
This may match 1 row in each partition and thus the Insert statement that is actually executed will write to each partition.  Same for Delete.&lt;/p&gt;

&lt;p&gt;Since what is actually executed is an Insert statement, why is Update/Delete different from any other Insert?&lt;/p&gt;</comment>
                            <comment id="15478455" author="alangates" created="Fri, 9 Sep 2016 22:26:46 +0000"  >&lt;p&gt;There&apos;s no info on which query the stack trace came from.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;deepesh&lt;/a&gt;, do you have the query and any information on the table?&lt;/p&gt;

&lt;p&gt;Agreed that we don&apos;t want to blindly turn spdo off here.&lt;/p&gt;</comment>
                            <comment id="15478456" author="ekoifman" created="Fri, 9 Sep 2016 22:26:58 +0000"  >&lt;p&gt;I think hive.optimize.sort.dynamic.partition was made to work with ACID update/delete in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13849&quot; title=&quot;Wrong plan for hive.optimize.sort.dynamic.partition=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13849&quot;&gt;&lt;del&gt;HIVE-13849&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13750&quot; title=&quot;Avoid additional shuffle stage created by Sorted Dynamic Partition Optimizer when possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13750&quot;&gt;&lt;del&gt;HIVE-13750&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15478463" author="ashutoshc" created="Fri, 9 Sep 2016 22:29:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; test case in patch has a query which fails without fix&lt;/p&gt;</comment>
                            <comment id="15478489" author="ekoifman" created="Fri, 9 Sep 2016 22:38:54 +0000"  >&lt;p&gt;as far as I can tell it started failing here &lt;a href=&quot;https://builds.apache.org/view/H-L/view/Hive/job/PreCommit-HIVE-MASTER-Build/1123/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/H-L/view/Hive/job/PreCommit-HIVE-MASTER-Build/1123/&lt;/a&gt; which was for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14710&quot; title=&quot;unify DB product type treatment in directsql and txnhandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14710&quot;&gt;&lt;del&gt;HIVE-14710&lt;/del&gt;&lt;/a&gt;, though I don&apos;t know how that could cause it&lt;/p&gt;</comment>
                            <comment id="15478501" author="ekoifman" created="Fri, 9 Sep 2016 22:44:41 +0000"  >&lt;p&gt;Does Jenkins print Commit hash for each run?  This test passed in run 1122 but failed in 1123.  cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15478607" author="alangates" created="Fri, 9 Sep 2016 23:19:22 +0000"  >&lt;p&gt;I don&apos;t know what&apos;s causing dynpart_sort_optimization_acid.q to fail, but I don&apos;t think it&apos;s the same thing since we don&apos;t see the IndexOutOfBounds exception.  &lt;/p&gt;</comment>
                            <comment id="15478671" author="alangates" created="Fri, 9 Sep 2016 23:35:09 +0000"  >&lt;p&gt;I think the issue is that SortDynPartitionOptimizer is using the bucket column numbers to index into the array of columns.  UpdateDeleteSemanticAnalyzer is rewriting a delete query into an insert that contains only partition columns (see around line 150ff).  This means the bucket columns aren&apos;t in the rewritten query.  The bucket id is present since it&apos;s part of the ROW__ID, but we may need to write special code in SDPO to fetch it from there rather than look for the column.&lt;/p&gt;</comment>
                            <comment id="15478698" author="ashutoshc" created="Fri, 9 Sep 2016 23:51:19 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; for looking into it. So, we begin with &lt;tt&gt;ROW_&lt;em&gt;ID&lt;/tt&gt; in sort and shuffle key and partition column as value of RS. In this optimization if we change RS sort and shuffle key to ROW&lt;/em&gt;&lt;em&gt;ID and partition column, we need not to keep orc buffer open and thus avoid OOM case. But is that ok with ACID writer in FileSink or it assumes sort and shuffle keys as &lt;tt&gt;ROW&lt;/em&gt;_ID&lt;/tt&gt; and nothing else?&lt;/p&gt;</comment>
                            <comment id="15478709" author="ekoifman" created="Fri, 9 Sep 2016 23:54:57 +0000"  >&lt;p&gt;every update/delete statement in dynpart_sort_optimization_acid.q has &quot;key&quot; which is the bucketing column in the WHERE clause.  Perhaps that&apos;s why this works.&lt;/p&gt;

&lt;p&gt;For ACID data only needs to be sorted in each bucket by ROW__ID.&lt;br/&gt;
Thus if we sort globally by partition/bucket/ROW__ID, acid would still work.&lt;/p&gt;</comment>
                            <comment id="15484802" author="ashutoshc" created="Mon, 12 Sep 2016 17:59:23 +0000"  >&lt;p&gt;Updated patch to make SPDO work with update/delete when bucket column is not in select list.&lt;/p&gt;</comment>
                            <comment id="15485085" author="sershe" created="Mon, 12 Sep 2016 19:42:42 +0000"  >&lt;p&gt;Hmm, so was it related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14710&quot; title=&quot;unify DB product type treatment in directsql and txnhandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14710&quot;&gt;&lt;del&gt;HIVE-14710&lt;/del&gt;&lt;/a&gt; thru some slight DB logic change, or was it just a coincidence?&lt;/p&gt;</comment>
                            <comment id="15485330" author="hiveqa" created="Mon, 12 Sep 2016 21:23:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12828079/HIVE-14726.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12828079/HIVE-14726.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10547 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization_acid]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1155/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1155/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1155/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1155/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1155/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1155/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12828079 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15485500" author="ekoifman" created="Mon, 12 Sep 2016 22:35:33 +0000"  >&lt;p&gt;coincidence&lt;/p&gt;</comment>
                            <comment id="15486039" author="hiveqa" created="Tue, 13 Sep 2016 02:43:24 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12828135/HIVE-14726.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12828135/HIVE-14726.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10546 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats0]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMetaDataCounts
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMethodCounts
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1160/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1160/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1160/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1160/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1160/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1160/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12828135 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15487405" author="ashutoshc" created="Tue, 13 Sep 2016 14:48:27 +0000"  >&lt;p&gt;Pushed to master. Thanks, Jesus for review!&lt;/p&gt;</comment>
                            <comment id="15493516" author="ekoifman" created="Thu, 15 Sep 2016 14:43:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; should this be in 2.1.1 as well?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13005595">HIVE-14783</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12828079" name="HIVE-14726.1.patch" size="8797" author="ashutoshc" created="Mon, 12 Sep 2016 17:59:23 +0000"/>
                            <attachment id="12828135" name="HIVE-14726.2.patch" size="30268" author="ashutoshc" created="Mon, 12 Sep 2016 23:40:48 +0000"/>
                            <attachment id="12827683" name="HIVE-14726.patch" size="6175" author="ashutoshc" created="Fri, 9 Sep 2016 00:27:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33f3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>