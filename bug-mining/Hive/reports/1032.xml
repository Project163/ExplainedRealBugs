<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:03:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3648] HiveMetaStoreFsImpl is not compatible with hadoop viewfs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3648</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveMetaStoreFsImpl#deleteDir() method calls Trash#moveToTrash(). This may not work when viewfs is used. It needs to call Trash#moveToAppropriateTrash() instead.  Please note that this method is not available in hadoop versions earlier than 0.23.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614379">HIVE-3648</key>
            <summary>HiveMetaStoreFsImpl is not compatible with hadoop viewfs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amalakar">Arup Malakar</assignee>
                                    <reporter username="kihwal">Kihwal Lee</reporter>
                        <labels>
                            <label>namenode_federation</label>
                    </labels>
                <created>Thu, 1 Nov 2012 14:49:41 +0000</created>
                <updated>Thu, 16 May 2013 21:10:18 +0000</updated>
                            <resolved>Tue, 27 Nov 2012 19:46:23 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13497477" author="amalakar" created="Wed, 14 Nov 2012 21:34:18 +0000"  >&lt;p&gt;Submitting the patch for trunk, if the change is acceptable will submit patch for branch-0.9 as well.&lt;/p&gt;</comment>
                            <comment id="13498328" author="amalakar" created="Thu, 15 Nov 2012 21:00:11 +0000"  >&lt;p&gt;Review for trunk: &lt;a href=&quot;https://reviews.facebook.net/D6759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D6759&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;arc diff  origin/trunk  --jira HIVE-3648 throws error.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13500581" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"  >&lt;p&gt;Patch available for branch. Added one missing abstract method in HadoopShimsSecure class.&lt;/p&gt;

&lt;p&gt;Updated trunk review: &lt;a href=&quot;https://reviews.facebook.net/D6759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D6759&lt;/a&gt;&lt;br/&gt;
Branch review: &lt;a href=&quot;https://reviews.facebook.net/D6801&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D6801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Arup&lt;/p&gt;</comment>
                            <comment id="13500742" author="esoren" created="Tue, 20 Nov 2012 00:07:47 +0000"  >&lt;p&gt;Thanks, Arup. I have tested `hive -e &apos;drop table ...&apos;` with the jars you gave me with attached patch applied, and the test passed. &lt;/p&gt;</comment>
                            <comment id="13501298" author="kihwal" created="Tue, 20 Nov 2012 16:59:27 +0000"  >&lt;p&gt;The change looks good to me.&lt;/p&gt;</comment>
                            <comment id="13504423" author="ashutoshc" created="Tue, 27 Nov 2012 07:41:02 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13504798" author="ashutoshc" created="Tue, 27 Nov 2012 17:58:50 +0000"  >&lt;p&gt;Arup, All the tests passed. But, patch now conflicts because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; commit. Can you refresh the patch on trunk?&lt;/p&gt;</comment>
                            <comment id="13504842" author="amalakar" created="Tue, 27 Nov 2012 18:59:58 +0000"  >&lt;p&gt;Thanks Ashutosh for looking into the patch. I have updated the patch to reflect the last commit.&lt;/p&gt;</comment>
                            <comment id="13504878" author="ashutoshc" created="Tue, 27 Nov 2012 19:46:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Arup!&lt;/p&gt;</comment>
                            <comment id="13505061" author="amalakar" created="Tue, 27 Nov 2012 23:40:03 +0000"  >&lt;p&gt;Ashutosh, thanks for committing in trunk. Can you commit it to branch-0.9 as well? I will provide the rebased patch once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; is committed for branch.&lt;/p&gt;</comment>
                            <comment id="13505341" author="hudson" created="Wed, 28 Nov 2012 10:07:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1821 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1414353)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13510141" author="amalakar" created="Tue, 4 Dec 2012 23:59:07 +0000"  >&lt;p&gt;Rebased branch patch.&lt;/p&gt;</comment>
                            <comment id="13510214" author="ashutoshc" created="Wed, 5 Dec 2012 01:59:46 +0000"  >&lt;p&gt;Committed to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13510799" author="amalakar" created="Wed, 5 Dec 2012 21:33:40 +0000"  >&lt;p&gt;Thanks Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13511005" author="hudson" created="Thu, 6 Dec 2012 01:19:08 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1417267)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13511198" author="hudson" created="Thu, 6 Dec 2012 07:39:22 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1417267)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13528636" author="cdrome" created="Tue, 11 Dec 2012 03:09:59 +0000"  >&lt;p&gt;The branch 0.9 patch is causing the unit tests to fail. Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3789&quot; title=&quot;Patch HIVE-3648 causing the majority of unit tests to fail on branch 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3789&quot;&gt;&lt;del&gt;HIVE-3789&lt;/del&gt;&lt;/a&gt; to track this issue.&lt;/p&gt;</comment>
                            <comment id="13548304" author="hudson" created="Wed, 9 Jan 2013 10:25:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1414353)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12623322">HIVE-3789</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553563" name="HIVE-3648-trunk-0.patch" size="6811" author="amalakar" created="Wed, 14 Nov 2012 21:34:30 +0000"/>
                            <attachment id="12555047" name="HIVE-3648-trunk-1.patch" size="7595" author="amalakar" created="Tue, 27 Nov 2012 18:59:58 +0000"/>
                            <attachment id="12554225" name="HIVE_3648_branch_0.patch" size="7440" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"/>
                            <attachment id="12556015" name="HIVE_3648_branch_1.patch" size="8064" author="amalakar" created="Tue, 4 Dec 2012 23:59:07 +0000"/>
                            <attachment id="12554224" name="HIVE_3648_trunk_1.patch" size="7553" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dx1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Make deleteDir work with federated namenode</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>