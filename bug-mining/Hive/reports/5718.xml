<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:55:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-17144] export of temporary tables not working and it seems to be using distcp rather than filesystem copy</title>
                <link>https://issues.apache.org/jira/browse/HIVE-17144</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create temporary table t1 (i int);&lt;br/&gt;
insert into t1 values (3);&lt;br/&gt;
export table t1 to &apos;hdfs://somelocation&apos;;&lt;/p&gt;

&lt;p&gt;above fails. additionally it should use filesystem copy and not distcp to do the job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13088976">HIVE-17144</key>
            <summary>export of temporary tables not working and it seems to be using distcp rather than filesystem copy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anishek">Anishek Agarwal</assignee>
                                    <reporter username="anishek">Anishek Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jul 2017 06:53:39 +0000</created>
                <updated>Wed, 23 May 2018 00:00:14 +0000</updated>
                            <resolved>Thu, 3 Aug 2017 07:33:10 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Hive</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16108393" author="githubbot" created="Tue, 1 Aug 2017 05:25:20 +0000"  >&lt;p&gt;GitHub user anishek opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/215&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-17144&quot; title=&quot;export of temporary tables not working and it seems to be using distcp rather than filesystem copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-17144&quot;&gt;&lt;del&gt;HIVE-17144&lt;/del&gt;&lt;/a&gt; : export of temporary tables not working and it seems to be using distcp rather than filesystem copy&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anishek/hive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anishek/hive&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-17144&quot; title=&quot;export of temporary tables not working and it seems to be using distcp rather than filesystem copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-17144&quot;&gt;&lt;del&gt;HIVE-17144&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/215.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/215.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #215&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit df618700c5043422f4a75fe7afcffd7b9202ceb5&lt;br/&gt;
Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-08-01T05:24:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-17144&quot; title=&quot;export of temporary tables not working and it seems to be using distcp rather than filesystem copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-17144&quot;&gt;&lt;del&gt;HIVE-17144&lt;/del&gt;&lt;/a&gt; : export of temporary tables not working and it seems to be using distcp rather than filesystem copy&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16109016" author="hiveqa" created="Tue, 1 Aug 2017 14:38:56 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12879775/HIVE-17144.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12879775/HIVE-17144.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 11019 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestPerfCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=240)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[insert_overwrite_local_directory_1] (batchId=240)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_vectorized_dynamic_partition_pruning] (batchId=168)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=100)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=99)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=179)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=179)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=179)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6212/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6212/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6212/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6212/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-6212/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-6212/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12879775 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16110358" author="anishek" created="Wed, 2 Aug 2017 05:51:28 +0000"  >&lt;ul&gt;
	&lt;li&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;explainanalyze_2&amp;#93;&lt;/span&gt;  : runs fine on local machine after increasing the mvn test memory&lt;/li&gt;
	&lt;li&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;insert_overwrite_local_directory_1&amp;#93;&lt;/span&gt; :  runs fine on local machine.&lt;/li&gt;
	&lt;li&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;create_merge_compressed&amp;#93;&lt;/span&gt; : runs fine on local machine&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;other failures are from previous builds.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt; can you please review !&lt;/p&gt;</comment>
                            <comment id="16112342" author="daijy" created="Thu, 3 Aug 2017 07:33:10 +0000"  >&lt;p&gt;+1. Patch pushed to master. Thanks Anishek!&lt;/p&gt;</comment>
                            <comment id="16112379" author="zsombor.klara" created="Thu, 3 Aug 2017 08:08:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;&lt;br/&gt;
Could it be that the new CopyUtils class is missing from the commit? I can see it in the patch file but not on github (&lt;a href=&quot;https://github.com/apache/hive/commit/68b2f9b2a78d9727f034ece8b3d7adc1c29054ad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/commit/68b2f9b2a78d9727f034ece8b3d7adc1c29054ad&lt;/a&gt;), and my build is failing.&lt;/p&gt;

&lt;p&gt;And it seems TestExport.java suffered a similar fate. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16112539" author="pvary" created="Thu, 3 Aug 2017 10:11:12 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsombor.klara&quot; class=&quot;user-hover&quot; rel=&quot;zsombor.klara&quot;&gt;zsombor.klara&lt;/a&gt; for localizing this issue.&lt;br/&gt;
Committed the remaining files using the attached patch file. I hope there is no difference between the pull request and the patch file &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anishek&quot; class=&quot;user-hover&quot; rel=&quot;anishek&quot;&gt;anishek&lt;/a&gt;: Could you please file a jira and add the remaining apache headers to the new files? I was not sure if I am allowed to change the patch, so committed it without change to unblock others.&lt;/p&gt;</comment>
                            <comment id="16113175" author="daijy" created="Thu, 3 Aug 2017 17:51:33 +0000"  >&lt;p&gt;Thanks Barna/Peter to fixing this quickly! I have put back the license header.&lt;/p&gt;</comment>
                            <comment id="16114031" author="anishek" created="Fri, 4 Aug 2017 07:07:01 +0000"  >&lt;p&gt;Thanks everyone for helping on this one !.&lt;/p&gt;</comment>
                            <comment id="16147806" author="githubbot" created="Wed, 30 Aug 2017 18:44:24 +0000"  >&lt;p&gt;Github user anishek closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/215&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16486341" author="vgarg" created="Wed, 23 May 2018 00:00:14 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12879775" name="HIVE-17144.1.patch" size="12143" author="anishek" created="Tue, 1 Aug 2017 05:28:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hu53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>