<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:09:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4442] [HCatalog] WebHCat should not override user.name parameter for Queue call</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4442</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently templeton for the Queue call uses the user.name to filter the results of the call in addition to the default security.&lt;/p&gt;

&lt;p&gt;Ideally the filter is an optional parameter to the call independent of the security check.&lt;/p&gt;

&lt;p&gt;I would suggest a parameter in addition to GET queue (jobs) give you all the jobs a user have permission:&lt;br/&gt;
GET queue?showall=true&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645264">HIVE-4442</key>
            <summary>[HCatalog] WebHCat should not override user.name parameter for Queue call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Apr 2013 17:10:34 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:33 +0000</updated>
                            <resolved>Tue, 3 Sep 2013 22:43:06 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13644674" author="daijy" created="Mon, 29 Apr 2013 17:35:20 +0000"  >&lt;p&gt;Attach patch. Note the e2e tests is intervolved with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4443&quot; title=&quot;[HCatalog] Have an option for GET queue to return all job information in single call &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4443&quot;&gt;&lt;del&gt;HIVE-4443&lt;/del&gt;&lt;/a&gt;. I include all tests in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4443&quot; title=&quot;[HCatalog] Have an option for GET queue to return all job information in single call &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4443&quot;&gt;&lt;del&gt;HIVE-4443&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13731520" author="daijy" created="Wed, 7 Aug 2013 01:17:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;-2.patch resync with trunk.&lt;/p&gt;</comment>
                            <comment id="13742670" author="ekoifman" created="Fri, 16 Aug 2013 22:29:11 +0000"  >&lt;p&gt;Why are Delete/ListDelegator use UserGroupInformation ugi = UserGroupInformation.createRemoteUser(user);&lt;br/&gt;
Shouldn&apos;t they use UgiFactory?  Everything else in WebHCat does.&lt;br/&gt;
Otherwise, this looks good.&lt;/p&gt;</comment>
                            <comment id="13756982" author="daijy" created="Tue, 3 Sep 2013 19:49:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt;&lt;br/&gt;
That&apos;s fine, I don&apos;t have a preference with API. I also borrow the code from other parts of Templeton. Reattach patch with API change and resync with trunk.&lt;/p&gt;</comment>
                            <comment id="13757061" author="ekoifman" created="Tue, 3 Sep 2013 20:56:40 +0000"  >&lt;p&gt;The point is that UgiFactory creates a proxy user with proper credentials, while UserGroupInformation.createRemoteUser() works in &quot;simple&quot; security mode...&lt;br/&gt;
Generally, in WebHCat a param &quot;user&quot; is determined by Server#getDoAsUser().&lt;br/&gt;
If doAs is specified, the user=doAs, otherwise it&apos;s the user making the call.&lt;/p&gt;

&lt;p&gt;In the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;.3.patch StatusDelegator uses UgiFactory to get UserGroupInformation but the other 2 use UserGroupInformation.createRemoteUser().&lt;/p&gt;

&lt;p&gt;So from a security point of view I think Delete/List/StatusDelegator should all use UgiFactory with &quot;user&quot; as argument.&lt;/p&gt;

&lt;p&gt;UserGroupInformation.getLoginUser() will return the user running WebHCat (&quot;hcat&quot; by default).&lt;/p&gt;

</comment>
                            <comment id="13757133" author="ekoifman" created="Tue, 3 Sep 2013 21:58:33 +0000"  >&lt;p&gt;OK, I misread the patch.  All 3 delegators use UgiFactory&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13757182" author="daijy" created="Tue, 3 Sep 2013 22:43:06 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13757774" author="hudson" created="Wed, 4 Sep 2013 13:52:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #403 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/403/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/403/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;: WebHCat should not override user.name parameter for Queue call (Daniel Dai) (daijy: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/RELEASE_NOTES.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/DeleteDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/ListDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/Server.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/StatusDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/mapred/WebHCatJTShim20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/mapred/WebHCatJTShim23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13757849" author="hudson" created="Wed, 4 Sep 2013 15:16:14 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #83 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;: WebHCat should not override user.name parameter for Queue call (Daniel Dai) (daijy: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/RELEASE_NOTES.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/DeleteDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/ListDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/Server.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/StatusDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/mapred/WebHCatJTShim20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/mapred/WebHCatJTShim23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13757952" author="hudson" created="Wed, 4 Sep 2013 17:03:16 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #150 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;: WebHCat should not override user.name parameter for Queue call (Daniel Dai) (daijy: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/RELEASE_NOTES.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/DeleteDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/ListDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/Server.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/StatusDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/mapred/WebHCatJTShim20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/mapred/WebHCatJTShim23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758022" author="hudson" created="Wed, 4 Sep 2013 17:43:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2309 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2309/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2309/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4442&quot; title=&quot;[HCatalog] WebHCat should not override user.name parameter for Queue call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4442&quot;&gt;&lt;del&gt;HIVE-4442&lt;/del&gt;&lt;/a&gt;: WebHCat should not override user.name parameter for Queue call (Daniel Dai) (daijy: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519875&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/RELEASE_NOTES.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/DeleteDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/ListDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/Server.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/StatusDelegator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/mapred/WebHCatJTShim20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/mapred/WebHCatJTShim23.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795912" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:33 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12645317">HIVE-4446</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12580990" name="HIVE-4442-1.patch" size="5210" author="daijy" created="Mon, 29 Apr 2013 17:21:01 +0000"/>
                            <attachment id="12596501" name="HIVE-4442-2.patch" size="6510" author="daijy" created="Wed, 7 Aug 2013 03:59:21 +0000"/>
                            <attachment id="12601222" name="HIVE-4442-3.patch" size="9600" author="daijy" created="Tue, 3 Sep 2013 19:50:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k6f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>