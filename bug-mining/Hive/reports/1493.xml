<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:09:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5246]  Local task for map join submitted via oozie job fails on a secure HDFS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5246</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For a Hive query started by Oozie Hive action, the local task submitted for Mapjoin fails. The HDFS delegation token is not shared properly with the child JVM created for the local task.&lt;/p&gt;

&lt;p&gt;Oozie creates a delegation token for the Hive action and sets env variable HADOOP_TOKEN_FILE_LOCATION as well as mapreduce.job.credentials.binary config property. However this doesn&apos;t get passed down to the child JVM which causes the problem.&lt;br/&gt;
This is similar issue addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4343&quot; title=&quot;HS2 with kerberos- local task for map join fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4343&quot;&gt;&lt;del&gt;HIVE-4343&lt;/del&gt;&lt;/a&gt; which address the problem HiveServer2&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667619">HIVE-5246</key>
            <summary> Local task for map join submitted via oozie job fails on a secure HDFS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Suresh Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Suresh Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Sep 2013 16:36:36 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:32 +0000</updated>
                            <resolved>Tue, 17 Sep 2013 14:45:30 +0000</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13762646" author="prasadm" created="Tue, 10 Sep 2013 02:24:50 +0000"  >&lt;p&gt;Test application to simulate oozie behavior&lt;/p&gt;</comment>
                            <comment id="13762649" author="prasadm" created="Tue, 10 Sep 2013 02:26:14 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/14056/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/14056/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13768630" author="prasadm" created="Mon, 16 Sep 2013 19:05:01 +0000"  >&lt;p&gt;Reattached the patch file&lt;/p&gt;</comment>
                            <comment id="13768964" author="hiveqa" created="Mon, 16 Sep 2013 23:44:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12603400/HIVE-5246.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12603400/HIVE-5246.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 3097 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/767/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/767/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/767/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/767/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13768979" author="brocknoland" created="Mon, 16 Sep 2013 23:56:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13769570" author="brocknoland" created="Tue, 17 Sep 2013 14:45:30 +0000"  >&lt;p&gt;Committed to trunk. Thank you for your contribution!&lt;/p&gt;</comment>
                            <comment id="13769747" author="hudson" created="Tue, 17 Sep 2013 18:01:29 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #102 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/102/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/102/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5246&quot; title=&quot; Local task for map join submitted via oozie job fails on a secure HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5246&quot;&gt;&lt;del&gt;HIVE-5246&lt;/del&gt;&lt;/a&gt; - Local task for map join submitted via oozie job fails on a secure HDFS (Prasad Mujumdar via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SecureCmdDoAs.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapredLocalTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13769775" author="hudson" created="Tue, 17 Sep 2013 18:24:07 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #169 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/169/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/169/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5246&quot; title=&quot; Local task for map join submitted via oozie job fails on a secure HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5246&quot;&gt;&lt;del&gt;HIVE-5246&lt;/del&gt;&lt;/a&gt; - Local task for map join submitted via oozie job fails on a secure HDFS (Prasad Mujumdar via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SecureCmdDoAs.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapredLocalTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13769933" author="thejas" created="Tue, 17 Sep 2013 20:46:56 +0000"  >&lt;p&gt;This looks like a useful fix to include in 0.12 .&lt;/p&gt;</comment>
                            <comment id="13769937" author="thejas" created="Tue, 17 Sep 2013 20:48:58 +0000"  >&lt;p&gt;Patch committed to 0.12 branch.&lt;/p&gt;</comment>
                            <comment id="13770415" author="hudson" created="Wed, 18 Sep 2013 04:27:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #436 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/436/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/436/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5246&quot; title=&quot; Local task for map join submitted via oozie job fails on a secure HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5246&quot;&gt;&lt;del&gt;HIVE-5246&lt;/del&gt;&lt;/a&gt; - Local task for map join submitted via oozie job fails on a secure HDFS (Prasad Mujumdar via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SecureCmdDoAs.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapredLocalTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13770494" author="hudson" created="Wed, 18 Sep 2013 06:32:21 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2338 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2338/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2338/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5246&quot; title=&quot; Local task for map join submitted via oozie job fails on a secure HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5246&quot;&gt;&lt;del&gt;HIVE-5246&lt;/del&gt;&lt;/a&gt; - Local task for map join submitted via oozie job fails on a secure HDFS (Prasad Mujumdar via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524074&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SecureCmdDoAs.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/mr/MapredLocalTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795908" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:32 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602266" name="HIVE-5246-test.tar" size="10240" author="prasadm" created="Tue, 10 Sep 2013 02:24:50 +0000"/>
                            <attachment id="12603400" name="HIVE-5246.1.patch" size="2960" author="prasadm" created="Mon, 16 Sep 2013 19:05:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nxj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>