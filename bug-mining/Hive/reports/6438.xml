<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:04:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-19567] Fix flakiness in TestTriggers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-19567</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Identified another flakiness in TestTriggersMoveWorkloadManager which can cause intermittent test failures. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13159576">HIVE-19567</key>
            <summary>Fix flakiness in TestTriggers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 May 2018 01:02:42 +0000</created>
                <updated>Tue, 27 Feb 2024 22:23:53 +0000</updated>
                            <resolved>Wed, 16 May 2018 14:15:34 +0000</resolved>
                                    <version>3.1.0</version>
                                    <fixVersion>3.1.0</fixVersion>
                    <fixVersion>4.0.0-alpha-1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16476680" author="prasanth_j" created="Wed, 16 May 2018 01:14:38 +0000"  >&lt;p&gt;On a relatively slower centos machine I was able to reproduce the flakiness that was either causing assertion error or test timeouts. The reason for that is AbstractJdbcTriggersTest waits until last expected message appears in STDERR here &lt;a href=&quot;https://github.com/apache/hive/blob/master/itests/hive-unit/src/test/java/org/apache/hive/jdbc/AbstractJdbcTriggersTest.java#L164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/blob/master/itests/hive-unit/src/test/java/org/apache/hive/jdbc/AbstractJdbcTriggersTest.java#L164&lt;/a&gt;. &lt;br/&gt;
In the tests, the last expected line json line from WM event summary. When I printed the STDERR, the json output gets printed first followed by text summary. But assertion happens for text first followed by json. When json output appears in stderr while loop is exited and assertion fails as there is no text output. &lt;/p&gt;

&lt;p&gt;I made it consistent. The post hook prints json and text summary and all tests also asserts in the same order (json first and then text). &lt;/p&gt;</comment>
                            <comment id="16476684" author="prasanth_j" created="Wed, 16 May 2018 01:15:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; can you please take a look? &lt;/p&gt;</comment>
                            <comment id="16476685" author="prasanth_j" created="Wed, 16 May 2018 01:16:24 +0000"  >&lt;p&gt;cc/ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;jcamachorodriguez&lt;/a&gt; with this the retry annotation should no longer be required (although doesn&apos;t hurt).&lt;/p&gt;</comment>
                            <comment id="16476691" author="sershe" created="Wed, 16 May 2018 01:21:20 +0000"  >&lt;p&gt;Hmm... will this also cover when it times out? +1&lt;/p&gt;</comment>
                            <comment id="16476698" author="prasanth_j" created="Wed, 16 May 2018 01:23:57 +0000"  >&lt;p&gt;Hopefully. On the repro cluster I tried this patch several times and it never failed (without it failed with timeout and assertion error). &lt;/p&gt;</comment>
                            <comment id="16477490" author="jcamacho" created="Wed, 16 May 2018 14:15:34 +0000"  >&lt;p&gt;Pushed to master.&lt;/p&gt;</comment>
                            <comment id="16562826" author="vgarg" created="Tue, 31 Jul 2018 01:33:00 +0000"  >&lt;p&gt;This is released in Hive 3.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12923578" name="HIVE-19567.1.patch" size="8901" author="prasanth_j" created="Wed, 16 May 2018 01:08:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tr8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12343014">3.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>