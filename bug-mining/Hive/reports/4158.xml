<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:40:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-12075] add analyze command to explictly cache file metadata in HBase metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12075</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ANALYZE TABLE (spec as usual) CACHE METADATA&lt;/p&gt;</description>
                <environment></environment>
        <key id="12903566">HIVE-12075</key>
            <summary>add analyze command to explictly cache file metadata in HBase metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Thu, 8 Oct 2015 23:21:55 +0000</created>
                <updated>Wed, 26 Sep 2018 02:28:19 +0000</updated>
                            <resolved>Fri, 18 Dec 2015 22:44:15 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14951427" author="sershe" created="Sat, 10 Oct 2015 00:06:29 +0000"  >&lt;p&gt;WIP patch for backup with all the plumbing. The code is there, but probably doesn&apos;t work, and the API doesn&apos;t actually do anything - work is put in there queue and never done.&lt;/p&gt;</comment>
                            <comment id="14961638" author="sershe" created="Sat, 17 Oct 2015 01:32:04 +0000"  >&lt;p&gt;Patch with the actual implementation and plumbing for added columns that would be needed for HBase pushdown.&lt;/p&gt;</comment>
                            <comment id="14961639" author="sershe" created="Sat, 17 Oct 2015 01:32:29 +0000"  >&lt;p&gt;On top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12061&quot; title=&quot;add file type support to file metadata by expr call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12061&quot;&gt;&lt;del&gt;HIVE-12061&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14988203" author="sershe" created="Tue, 3 Nov 2015 21:48:16 +0000"  >&lt;p&gt;Patches on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11675&quot; title=&quot;make use of file footer PPD API in ETL strategy or separate strategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11675&quot;&gt;&lt;del&gt;HIVE-11675&lt;/del&gt;&lt;/a&gt;, so I could start testing them all together. Actually applies to master with one small conflict.&lt;/p&gt;</comment>
                            <comment id="14988205" author="sershe" created="Tue, 3 Nov 2015 21:49:09 +0000"  >&lt;p&gt;Needs q tests too&lt;/p&gt;</comment>
                            <comment id="15012660" author="sershe" created="Thu, 19 Nov 2015 02:34:38 +0000"  >&lt;p&gt;Fixing some issues, adding a test.&lt;/p&gt;</comment>
                            <comment id="15014785" author="alangates" created="Thu, 19 Nov 2015 23:51:47 +0000"  >&lt;p&gt;Left some comments on RB.&lt;/p&gt;</comment>
                            <comment id="15031022" author="hiveqa" created="Sun, 29 Nov 2015 15:49:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12774459/HIVE-12075.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12774459/HIVE-12075.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 9866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_stats_filemetadata
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_multiple_part_clause
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.miniHS2.TestHs2Metrics.testMetrics
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6163/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6163/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6163/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6163/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6163/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6163/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12774459 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15036357" author="alangates" created="Wed, 2 Dec 2015 18:48:06 +0000"  >&lt;p&gt;-1.  I think putting the ORC specific methods in PartitionExpressionProxy is letting the file format implementation bleed through the interface.  These should be generic methods with ORC specific implementations.&lt;/p&gt;</comment>
                            <comment id="15059457" author="sershe" created="Wed, 16 Dec 2015 04:11:10 +0000"  >&lt;p&gt;Moved the methods into file-format-specific proxy.&lt;/p&gt;</comment>
                            <comment id="15060930" author="alangates" created="Wed, 16 Dec 2015 21:41:38 +0000"  >&lt;p&gt;+1, looks good.&lt;/p&gt;</comment>
                            <comment id="15064897" author="sershe" created="Fri, 18 Dec 2015 22:44:15 +0000"  >&lt;p&gt;Committed to master. I may port it to 2.0 later if I have time to test it a little bit more before 2.0 is cut.&lt;/p&gt;</comment>
                            <comment id="15070038" author="thejas" created="Wed, 23 Dec 2015 18:54:32 +0000"  >&lt;p&gt;The org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch test failure is caused by this patch. It was not an &apos;unrelated&apos; failure.&lt;/p&gt;</comment>
                            <comment id="15076460" author="lefty@hortonworks.com" created="Sat, 2 Jan 2016 07:44:24 +0000"  >&lt;p&gt;Doc note:  &quot;ANALYZE TABLE (table-spec) CACHE METADATA&quot; will need to be documented in the Statistics wikidoc for release 2.1.0, and &lt;b&gt;hive.metastore.hbase.file.metadata.threads&lt;/b&gt; belongs in the MetaStore section of Configuration Properties.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-ExistingTables&#8211;ANALYZE&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Existing Tables &#8211; ANALYZE &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; MetaStore &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15110378" author="lefty@hortonworks.com" created="Thu, 21 Jan 2016 10:13:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asears&quot; class=&quot;user-hover&quot; rel=&quot;asears&quot;&gt;asears&lt;/a&gt; documented &lt;b&gt;hive.metastore.hbase.file.metadata.threads&lt;/b&gt; in the wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.metastore.hbase.file.metadata.threads&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; hive.metastore.hbase.file.metadata.threads &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks, Andrew!&lt;/p&gt;

&lt;p&gt;The HiveQL syntax still needs to be documented for 2.1.0, so I won&apos;t remove the TODOC2.1 label yet.&lt;/p&gt;</comment>
                            <comment id="16622173" author="vitalii" created="Thu, 20 Sep 2018 15:04:23 +0000"  >&lt;p&gt;Is this removed from Hive3.0 and higher versions along with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-17234&quot; title=&quot;Remove HBase metastore from master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-17234&quot;&gt;&lt;del&gt;HIVE-17234&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16622439" author="sershe" created="Thu, 20 Sep 2018 18:04:16 +0000"  >&lt;p&gt;Well, it&apos;s not that it has been removed... HBase metastore was never shipped. The code was abandoned and removed.&lt;br/&gt;
We were discussing resurrecting this particular feature with one of the two (cache data in HBase, or cache in existing metastore) but nobody has gotten around to it.&lt;/p&gt;</comment>
                            <comment id="16627070" author="vitalii" created="Tue, 25 Sep 2018 09:45:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; Thank you for clarifications.&lt;br/&gt;
It&apos;s just not clear from cwiki what is implemented and what is not:&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-ANALYZETABLE%3Ctable1%3ECACHEMETADATA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-ANALYZETABLE%3Ctable1%3ECACHEMETADATA&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16628174" author="asears" created="Wed, 26 Sep 2018 02:28:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vitalii&quot; class=&quot;user-hover&quot; rel=&quot;vitalii&quot;&gt;vitalii&lt;/a&gt; updated the wiki for clarification on the feature removal in Hive 3.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12902876">HIVE-12052</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12903166">HIVE-12061</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12853083">HIVE-11500</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12928127">HIVE-12792</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12770413" name="HIVE-12075.01.nogen.patch" size="72219" author="sershe" created="Tue, 3 Nov 2015 21:48:16 +0000"/>
                            <attachment id="12770414" name="HIVE-12075.01.patch" size="494609" author="sershe" created="Tue, 3 Nov 2015 21:48:16 +0000"/>
                            <attachment id="12773153" name="HIVE-12075.02.patch" size="508882" author="sershe" created="Thu, 19 Nov 2015 02:34:38 +0000"/>
                            <attachment id="12774459" name="HIVE-12075.03.patch" size="512701" author="sershe" created="Thu, 26 Nov 2015 02:13:37 +0000"/>
                            <attachment id="12777918" name="HIVE-12075.04.patch" size="519286" author="sershe" created="Wed, 16 Dec 2015 04:16:28 +0000"/>
                            <attachment id="12767178" name="HIVE-12075.nogen.patch" size="75668" author="sershe" created="Sat, 17 Oct 2015 01:32:04 +0000"/>
                            <attachment id="12767177" name="HIVE-12075.patch" size="493582" author="sershe" created="Sat, 17 Oct 2015 01:32:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2msd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>