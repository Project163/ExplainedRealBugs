<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:51:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-347] [hive] lot of mappers due to a user error while specifying the partitioning column</title>
                <link>https://issues.apache.org/jira/browse/HIVE-347</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A common scenario when the table is partitioned on &apos;ds&apos; column which is of type &apos;string&apos; of a certain format &apos;yyyy-mm-dd&apos;&lt;/p&gt;

&lt;p&gt;However, if the user forgets to add quotes while specifying the query:&lt;/p&gt;

&lt;p&gt;select ... from T where ds = 2009-02-02&lt;/p&gt;


&lt;p&gt;2009-02-02 is a valid integer expression. So, partition pruning makes all partitions unknown, since 2009-02-02 to double conversion is null.&lt;/p&gt;

&lt;p&gt;If all partitions are unknown, in strict mode, we should thrown an error&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12416875">HIVE-347</key>
            <summary>[hive] lot of mappers due to a user error while specifying the partitioning column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2009 22:38:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:57 +0000</updated>
                            <resolved>Thu, 19 Mar 2009 21:48:20 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12681978" author="prasadc" created="Sat, 14 Mar 2009 03:14:06 +0000"  >&lt;p&gt;The changes look good. I think the Error Message will confuse users since they see a partition predicate. I think error message should say something about incorrect type or quotes.&lt;/p&gt;</comment>
                            <comment id="12682524" author="rsm" created="Mon, 16 Mar 2009 23:59:52 +0000"  >&lt;p&gt;+1 looks good.&lt;/p&gt;

&lt;p&gt;Can you change the comment to remove mention of &apos;date string&apos; since that&apos;s not always the case?&lt;/p&gt;</comment>
                            <comment id="12682528" author="namit" created="Tue, 17 Mar 2009 00:16:28 +0000"  >&lt;p&gt;done&lt;/p&gt;</comment>
                            <comment id="12682808" author="namit" created="Tue, 17 Mar 2009 21:15:10 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                            <comment id="12683570" author="namit" created="Thu, 19 Mar 2009 19:04:59 +0000"  >&lt;p&gt;There was a problem with the above patch. TRUE and unknown is unknown, therefore the patch was breaking for the following case:&lt;/p&gt;

&lt;p&gt;select .. from T where partCol = value and col = 1;&lt;/p&gt;


&lt;p&gt;col = 1 will be null even for &apos;value&apos; partition, therefore &apos;value&apos; partition will also be unknown.&lt;/p&gt;


&lt;p&gt;The basic problem is that there is a implicit int to string conversion I dont think this can/should be fixed.&lt;br/&gt;
will upload a new patch undoing the patch&lt;/p&gt;</comment>
                            <comment id="12683604" author="athusoo" created="Thu, 19 Mar 2009 20:48:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good to me.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402174" name="hive.347.1.patch" size="2814" author="namit" created="Fri, 13 Mar 2009 22:48:47 +0000"/>
                            <attachment id="12402299" name="hive.347.2.patch" size="3429" author="namit" created="Mon, 16 Mar 2009 17:58:41 +0000"/>
                            <attachment id="12402334" name="hive.347.3.patch" size="3296" author="namit" created="Tue, 17 Mar 2009 00:16:17 +0000"/>
                            <attachment id="12402600" name="hive.347.4.patch" size="3276" author="namit" created="Thu, 19 Mar 2009 20:22:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>