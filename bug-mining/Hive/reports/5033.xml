<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:49:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-15196] LLAP UI: HIVE-14984 broke LLAP UI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15196</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hard-rewrite rule to the HS2 UI in HttpServer impl&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    RewriteRegexRule rootRule = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RewriteRegexRule();
    rootRule.setRegex(&lt;span class=&quot;code-quote&quot;&gt;&quot;^/$&quot;&lt;/span&gt;);
    rootRule.setReplacement(&lt;span class=&quot;code-quote&quot;&gt;&quot;/hiveserver2.jsp&quot;&lt;/span&gt;);
    rootRule.setTerminating(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13020472">HIVE-15196</key>
            <summary>LLAP UI: HIVE-14984 broke LLAP UI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsombor.klara">Barna Zsombor Klara</assignee>
                                    <reporter username="gopalv">Gopal Vijayaraghavan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2016 10:33:47 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:06 +0000</updated>
                            <resolved>Wed, 23 Nov 2016 10:39:53 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>llap</component>
                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15663450" author="zsombor.klara" created="Mon, 14 Nov 2016 10:49:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;gopalv&lt;/a&gt;,&lt;br/&gt;
can you please explain the error with the LLAP UI? The regexp should only match for the context root of the web application, is it somehow redirecting the LLAP UI requests as well?&lt;br/&gt;
If you want then I can take a look at it and provide a fix.&lt;/p&gt;</comment>
                            <comment id="15663453" author="gopalv" created="Mon, 14 Nov 2016 10:51:31 +0000"  >&lt;p&gt;Yeah, LLAP uses the same HttpServer impl.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HttpServer.Builder builder =
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpServer.Builder(&lt;span class=&quot;code-quote&quot;&gt;&quot;llap&quot;&lt;/span&gt;).setPort(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.port).setHost(bindAddress);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Before this regex rewrite it would load &quot;hive-webapps/llap/index.html&quot; automatically.&lt;/p&gt;

&lt;p&gt;After that &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HTTP ERROR 500

Problem accessing /hiveserver2.jsp. Reason:

    JSP support not configured
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15663478" author="zsombor.klara" created="Mon, 14 Nov 2016 11:03:44 +0000"  >&lt;p&gt;Ok this seems easy to fix, I would move this logic to the builder so that you can build an http server with or without context root rewriting, I probably should have done it like this in the first place.&lt;br/&gt;
Would you like me to do it? (Since I broke it to begin with....)&lt;/p&gt;</comment>
                            <comment id="15663480" author="gopalv" created="Mon, 14 Nov 2016 11:05:12 +0000"  >&lt;p&gt;Sure, no worries - go ahead with the patch, I can review/test.&lt;/p&gt;

&lt;p&gt;The fallback default can be &quot;/index.html&quot; (or specified root path, in case of HS2).&lt;/p&gt;</comment>
                            <comment id="15664066" author="zsombor.klara" created="Mon, 14 Nov 2016 14:32:05 +0000"  >&lt;p&gt;As discussed set default rewrite url to &apos;/index.html&apos; and added a unit test for the LLAP UI.&lt;/p&gt;</comment>
                            <comment id="15664747" author="sershe" created="Mon, 14 Nov 2016 19:21:38 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="15669956" author="zsombor.klara" created="Wed, 16 Nov 2016 09:34:00 +0000"  >&lt;p&gt;Reuploading patch because pre-commit didn&apos;t run.&lt;/p&gt;</comment>
                            <comment id="15673401" author="zsombor.klara" created="Thu, 17 Nov 2016 10:56:45 +0000"  >&lt;p&gt;Reuploading a third time (same patch) to run the pre-commit tests.&lt;/p&gt;</comment>
                            <comment id="15673566" author="hiveqa" created="Thu, 17 Nov 2016 12:21:41 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839342/HIVE-15196.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12839342/HIVE-15196.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10695 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=90)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2164/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2164/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2164/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2164/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2164/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2164/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12839342 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15673694" author="zsombor.klara" created="Thu, 17 Nov 2016 13:15:37 +0000"  >&lt;p&gt;Flaky tests:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15201&lt;/a&gt; - transform_ppr2&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15115&lt;/a&gt; - union_fast_stats&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15116&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15116&lt;/a&gt; - join_acid_non_acid&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15084&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15084&lt;/a&gt; - explainanalyze_1&lt;/p&gt;</comment>
                            <comment id="15682955" author="zsombor.klara" created="Mon, 21 Nov 2016 09:13:03 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;gopalv&lt;/a&gt;,&lt;br/&gt;
would you mind taking a look at the fix? Unit tests seem fine, but if you have any suggestions then I&apos;d be happy to incorporate them into the patch.&lt;/p&gt;</comment>
                            <comment id="15689715" author="gopalv" created="Wed, 23 Nov 2016 10:39:34 +0000"  >&lt;p&gt;Pushed to master, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsombor.klara&quot; class=&quot;user-hover&quot; rel=&quot;zsombor.klara&quot;&gt;zsombor.klara&lt;/a&gt; for the fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13012787">HIVE-14984</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12839342" name="HIVE-15196.1.patch" size="7193" author="zsombor.klara" created="Thu, 17 Nov 2016 10:56:45 +0000"/>
                            <attachment id="12839147" name="HIVE-15196.patch" size="7193" author="zsombor.klara" created="Wed, 16 Nov 2016 09:34:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36a9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>LLAP UI: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14984&quot; title=&quot;Hive-WebUI access results in Request is a replay (34) attack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14984&quot;&gt;&lt;strike&gt;HIVE-14984&lt;/strike&gt;&lt;/a&gt; broke LLAP UI (Barna Zsombor Klara via Gopal V)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>