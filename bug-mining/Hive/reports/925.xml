<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:02:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3338] Archives broken for hadoop 1.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3338</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hadoop archiving through hive is broken for 1.0. The hadoop archive command line and paths have changed for 1.0 and were not addressed in the shim layer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601602">HIVE-3338</key>
            <summary>Archives broken for hadoop 1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Aug 2012 18:52:21 +0000</created>
                <updated>Sun, 3 Aug 2014 18:50:38 +0000</updated>
                            <resolved>Sun, 2 Sep 2012 00:10:41 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13429346" author="vikram.dixit" created="Mon, 6 Aug 2012 18:52:35 +0000"  >&lt;p&gt;&amp;lt;a href=&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3025?focusedCommentId=13422589&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13422589&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3025?focusedCommentId=13422589&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13422589&lt;/a&gt;&amp;gt;Link&amp;lt;/a&amp;gt; to comment&lt;/p&gt;</comment>
                            <comment id="13429348" author="vikram.dixit" created="Mon, 6 Aug 2012 18:59:50 +0000"  >&lt;p&gt;There is one issue that is not resolved. For the archive.q test, the golden results with 0.20 hadoop seem incorrect.&lt;/p&gt;

&lt;p&gt;The last queries are:&lt;br/&gt;
SELECT SUM(hash(col)) FROM (SELECT transform&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; using &apos;tr &quot;\t&quot; &quot;_&quot;&apos; AS col&lt;br/&gt;
FROM (SELECT * FROM old_name WHERE ds=&apos;1&apos;) subq1) subq2;&lt;br/&gt;
ALTER TABLE old_name RENAME TO new_name;&lt;br/&gt;
SELECT SUM(hash(col)) FROM (SELECT transform&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; using &apos;tr &quot;\t&quot; &quot;_&quot;&apos; AS col&lt;br/&gt;
FROM (SELECT * FROM new_name WHERE ds=&apos;1&apos;) subq1) subq2;&lt;/p&gt;

&lt;p&gt;The select queries seem to produce different results in 20. The first one produces 48656137. But, after rename of the table, it produces NULL. This doesn&apos;t make sense to me. With my changes for 1.0, I see the proper results of 48656137 in both cases. It would be great if someone can explain to me why we expect NULL in the case of 20.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Vikram&lt;/p&gt;</comment>
                            <comment id="13432138" author="vikram.dixit" created="Thu, 9 Aug 2012 20:53:45 +0000"  >&lt;p&gt;This resolves the issues in 1.0. The renaming of an archived table does not work in case of 20. This patch does not address that issue.&lt;/p&gt;</comment>
                            <comment id="13432337" author="vikram.dixit" created="Fri, 10 Aug 2012 00:17:42 +0000"  >&lt;p&gt;Missed the .out file for the new test.&lt;/p&gt;</comment>
                            <comment id="13432352" author="vikram.dixit" created="Fri, 10 Aug 2012 00:39:11 +0000"  >&lt;p&gt;build file change reverted.&lt;/p&gt;</comment>
                            <comment id="13432366" author="ashutoshc" created="Fri, 10 Aug 2012 01:23:54 +0000"  >&lt;p&gt;@Vikram,&lt;br/&gt;
Can you create either a phabricator or review board entry of your patch ?&lt;/p&gt;</comment>
                            <comment id="13437391" author="ashutoshc" created="Sat, 18 Aug 2012 19:43:32 +0000"  >&lt;p&gt;Vikram,&lt;br/&gt;
I left some comments on &lt;a href=&quot;https://reviews.apache.org/r/6533/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/6533/&lt;/a&gt; &lt;br/&gt;
Also patch needs to be rebased.&lt;/p&gt;</comment>
                            <comment id="13446353" author="vikram.dixit" created="Fri, 31 Aug 2012 20:47:39 +0000"  >&lt;p&gt;Addressed Ashutosh&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13446632" author="ashutoshc" created="Sat, 1 Sep 2012 07:57:14 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13446833" author="ashutoshc" created="Sun, 2 Sep 2012 00:10:41 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Vikram!&lt;/p&gt;</comment>
                            <comment id="13446893" author="hudson" created="Sun, 2 Sep 2012 07:29:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1642 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1642/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1642/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3338&quot; title=&quot;Archives broken for hadoop 1.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3338&quot;&gt;&lt;del&gt;HIVE-3338&lt;/del&gt;&lt;/a&gt; : Archives broken for hadoop 1.0 (Vikram Dixit via Ashutosh Chauhan) (Revision 1379908)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379908&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379908&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_excludeHadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive_excludeHadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548322" author="hudson" created="Wed, 9 Jan 2013 10:25:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3338&quot; title=&quot;Archives broken for hadoop 1.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3338&quot;&gt;&lt;del&gt;HIVE-3338&lt;/del&gt;&lt;/a&gt; : Archives broken for hadoop 1.0 (Vikram Dixit via Ashutosh Chauhan) (Revision 1379908)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379908&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1379908&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_excludeHadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive_excludeHadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550119" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:27 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="14084083" author="lefty@hortonworks.com" created="Sun, 3 Aug 2014 18:50:38 +0000"  >&lt;p&gt;This removed the configuration parameter &lt;b&gt;hive.archive.har.parentdir.settable&lt;/b&gt; in Hive 0.10.0.&lt;/p&gt;

&lt;p&gt;The wiki has been updated (at last):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.archive.har.parentdir.settable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;hive.archive.har.parentdir.settable &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555237">HIVE-3025</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12555237">HIVE-3025</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12539338" name="HIVE-3338.patch" size="11923" author="vikram.dixit" created="Mon, 6 Aug 2012 18:54:26 +0000"/>
                            <attachment id="12540122" name="HIVE-3338_2.patch" size="15075" author="vikram.dixit" created="Thu, 9 Aug 2012 20:53:45 +0000"/>
                            <attachment id="12540166" name="HIVE-3338_3.patch" size="66539" author="vikram.dixit" created="Fri, 10 Aug 2012 00:17:42 +0000"/>
                            <attachment id="12540171" name="HIVE-3338_4.patch" size="65713" author="vikram.dixit" created="Fri, 10 Aug 2012 00:39:11 +0000"/>
                            <attachment id="12543335" name="HIVE-3338_5.patch" size="71449" author="vikram.dixit" created="Fri, 31 Aug 2012 20:47:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lngv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>