<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:55:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-458] Setting fs.default.name incorrectly leads to meaningless error message</title>
                <link>https://issues.apache.org/jira/browse/HIVE-458</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In my hadoop-site.xml I accidentally set fs.default.name to &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wilbur21.labs.corp.sp1.yahoo.com:8020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wilbur21.labs.corp.sp1.yahoo.com:8020&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;instead of the proper:&lt;/p&gt;

&lt;p&gt;hdfs://wilbur21.labs.corp.sp1.yahoo.com:8020&lt;/p&gt;

&lt;p&gt;The result was&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; show tables;
FAILED: Unknown exception : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
FAILED: Unknown exception : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
Time taken: 0.035 seconds
hive&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should give a meaningful error message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424218">HIVE-458</key>
            <summary>Setting fs.default.name incorrectly leads to meaningless error message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="gates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2009 20:58:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:56 +0000</updated>
                            <resolved>Wed, 6 Jan 2010 02:47:42 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12792752" author="pauly" created="Sat, 19 Dec 2009 01:47:53 +0000"  >&lt;p&gt;Not entirely sure how to reproduce this issue - &lt;/p&gt;

&lt;p&gt;I tried:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Hive history file=/tmp/pyang/hive_job_log_pyang_200912181710_705362980.txt
hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=&lt;span class=&quot;code-quote&quot;&gt;&apos;blahblah&apos;&lt;/span&gt;;
hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_t&apos;&lt;/span&gt;;
OK
tmp_pyang_t
Time taken: 2.73 seconds
hive&amp;gt; SELECT * FROM src LIMIT 1;
FAILED: Unknown exception: java.io.IOException: Incomplete HDFS URI, no host: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&apos;blahblah&apos;&lt;/span&gt;/tmp/hive-pyang/1632153075&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alan, is this still a problem?&lt;/p&gt;</comment>
                            <comment id="12793387" author="zshao" created="Mon, 21 Dec 2009 22:17:38 +0000"  >&lt;p&gt;&apos;blahblah&apos; is not a valid URI so we detected in URI checking.&lt;/p&gt;

&lt;p&gt;Can you try with &quot;http://wilbur21.labs.corp.sp1.yahoo.com:8020&quot; ?&lt;/p&gt;</comment>
                            <comment id="12793390" author="pauly" created="Mon, 21 Dec 2009 22:20:44 +0000"  >&lt;p&gt;Right, that does reproduce the error.&lt;/p&gt;</comment>
                            <comment id="12793480" author="pauly" created="Tue, 22 Dec 2009 03:18:41 +0000"  >&lt;p&gt;Actually, for the error to be reproduced, the fs.default.name string has to be malformed in a particular way for the exception to be thrown. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The attached patch shows better error messages when improper characters in fs.default.name cause an exception to be thrown.&lt;/p&gt;</comment>
                            <comment id="12793483" author="pauly" created="Tue, 22 Dec 2009 03:25:07 +0000"  >&lt;p&gt;Missing example from above:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
OK
tmp_pyang_dim_api_data
tmp_pyang_lv
tmp_pyang_null
tmp_pyang_output
tmp_pyang_t
Time taken: 0.235 seconds

hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=|http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
FAILED: Unknown exception: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

hive&amp;gt; set fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//wilbur21.labs.corp.sp1.yahoo.com:8020;
&lt;/span&gt;hive&amp;gt; show tables &lt;span class=&quot;code-quote&quot;&gt;&apos;tmp_pyang_*&apos;&lt;/span&gt;;
FAILED: Unknown exception: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(behavior is dependent on URI.create() )&lt;/p&gt;</comment>
                            <comment id="12793496" author="zshao" created="Tue, 22 Dec 2009 04:41:22 +0000"  >&lt;p&gt;Can we put the original exception as the second parameter when creating RuntimeException object?&lt;br/&gt;
That is usually a good idea because it will show all the stacktraces.&lt;/p&gt;</comment>
                            <comment id="12793513" author="namit" created="Tue, 22 Dec 2009 05:49:12 +0000"  >&lt;p&gt;Also, can you add a negative test for the same ?&lt;/p&gt;</comment>
                            <comment id="12793810" author="pauly" created="Tue, 22 Dec 2009 22:14:22 +0000"  >&lt;ul&gt;
	&lt;li&gt;Added original exception as the cause parameter for RuntimeException&lt;/li&gt;
	&lt;li&gt;Added negative tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12796951" author="zshao" created="Wed, 6 Jan 2010 01:42:33 +0000"  >&lt;p&gt;Looks good. Will commit if test passes.&lt;/p&gt;</comment>
                            <comment id="12796969" author="zshao" created="Wed, 6 Jan 2010 02:47:42 +0000"  >&lt;p&gt;Committed. Thanks Paul!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428689" name="HIVE-458.1.patch" size="1015" author="pauly" created="Tue, 22 Dec 2009 03:28:38 +0000"/>
                            <attachment id="12428769" name="HIVE-458.2.patch" size="2706" author="pauly" created="Tue, 22 Dec 2009 22:14:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-458&quot; title=&quot;Setting fs.default.name incorrectly leads to meaningless error message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-458&quot;&gt;&lt;strike&gt;HIVE-458&lt;/strike&gt;&lt;/a&gt;. Better error messages for fs.default.name. (Paul Yang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>