<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:21:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-25822] Incorrect False positive result rows may be outputted in case outer join has conditions only affecting one side</title>
                <link>https://issues.apache.org/jira/browse/HIVE-25822</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;needed&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;outer join&lt;/li&gt;
	&lt;li&gt;on condition has at least one condition for one side of the join&lt;/li&gt;
	&lt;li&gt;in a single reducer:
	&lt;ul&gt;
		&lt;li&gt;a right hand side only row outputted right before&lt;/li&gt;
		&lt;li&gt;&amp;gt;=2 rows on LHS and 1 on RHS matching in the join keys but the first LHS doesn&apos;t satisfies the filter condition&lt;/li&gt;
		&lt;li&gt;second LHS row with good filter condition&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
with
t_y as (select col1 as id,col2 as s from (VALUES(0,&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;),(1,&lt;span class=&quot;code-quote&quot;&gt;&apos;y&apos;&lt;/span&gt;)) as c),
t_xy as (select col1 as id,col2 as s from (VALUES(1,&lt;span class=&quot;code-quote&quot;&gt;&apos;x&apos;&lt;/span&gt;),(1,&lt;span class=&quot;code-quote&quot;&gt;&apos;y&apos;&lt;/span&gt;)) as c) 
select * from t_xy l full &lt;span class=&quot;code-keyword&quot;&gt;outer&lt;/span&gt; join t_y r on (l.id=r.id and l.s=&lt;span class=&quot;code-quote&quot;&gt;&apos;y&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;null,null,1,y is a false positive result&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+-------+-------+-------+-------+
| l.id  |  l.s  | r.id  |  r.s  |
+-------+-------+-------+-------+
| NULL  | NULL  | 0     | a     |
| 1     | x     | NULL  | NULL  |
| NULL  | NULL  | 1     | y     |
| 1     | y     | 1     | y     |
+-------+-------+-------+-------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13418377">HIVE-25822</key>
            <summary>Incorrect False positive result rows may be outputted in case outer join has conditions only affecting one side</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kgyrtkirk">Zoltan Haindrich</assignee>
                                    <reporter username="kgyrtkirk">Zoltan Haindrich</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 18 Dec 2021 13:27:33 +0000</created>
                <updated>Thu, 23 Dec 2021 16:02:05 +0000</updated>
                            <resolved>Thu, 23 Dec 2021 16:02:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17462156" author="zabetak" created="Sun, 19 Dec 2021 11:47:32 +0000"  >&lt;p&gt;Why we are saying unexpected results instead of wrong? I don&apos;t thing there are many ways to interpret the query.&lt;/p&gt;</comment>
                            <comment id="17462261" author="amansinha" created="Sun, 19 Dec 2021 18:39:42 +0000"  >&lt;p&gt;+1 to calling it wrong results.  Thanks for creating a simple repro.  Swapping the order of the rows in the left table produces the correct results with 3 rows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;with
t_y as (select col1 as id,col2 as s from (VALUES(0,&apos;a&apos;),(1,&apos;y&apos;)) as c),
t_yx as (select col1 as id,col2 as s from (VALUES(1,&apos;y&apos;),(1,&apos;x&apos;)) as c)
select * from t_yx l full outer join t_y r on (l.id=r.id and l.s=&apos;y&apos;);
+-------+-------+-------+-------+
| l.id  |  l.s  | r.id  |  r.s  |
+-------+-------+-------+-------+
| 1     | x     | NULL  | NULL  |
| NULL  | NULL  | 0     | a     |
| 1     | y     | 1     | y     |
+-------+-------+-------+-------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17462430" author="kgyrtkirk" created="Mon, 20 Dec 2021 07:44:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why we are saying unexpected results instead of wrong? I don&apos;t thing there are many ways to interpret the query.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I wanted to highlight that this is not taking away expected results - and thus its a false positive error and not a false negative.&lt;/p&gt;
</comment>
                            <comment id="17464665" author="kgyrtkirk" created="Thu, 23 Dec 2021 16:02:05 +0000"  >&lt;p&gt;Merged into master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13418525">HIVE-25823</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xuoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>