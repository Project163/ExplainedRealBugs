<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:17:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6698] hcat.py script does not correctly load the hbase storage handler jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6698</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently queries using the HBaseHCatStorageHandler when run using hcat.py fail. Example query&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table pig_hbase_1(key string, age string, gpa string)
STORED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hcatalog.hbase.HBaseHCatStorageHandler&apos;&lt;/span&gt;
TBLPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.columns.mapping&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;:key,info:age,info:gpa&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Following error is seen in the hcat logs:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-03-18 08:25:49,437 ERROR ql.Driver (SessionState.java:printError(541)) - FAILED: SemanticException java.io.IOException: Error in loading storage handler.org.apache.hcatalog.hbase.HBaseHCatStorageHandler
org.apache.hadoop.hive.ql.parse.SemanticException: java.io.IOException: Error in loading storage handler.org.apache.hcatalog.hbase.HBaseHCatStorageHandler
	at org.apache.hive.hcatalog.cli.SemanticAnalysis.CreateTableHook.postAnalyze(CreateTableHook.java:208)
	at org.apache.hive.hcatalog.cli.SemanticAnalysis.HCatSemanticAnalyzer.postAnalyze(HCatSemanticAnalyzer.java:242)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:402)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:295)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:949)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:997)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:885)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:875)
	at org.apache.hive.hcatalog.cli.HCatDriver.run(HCatDriver.java:43)
	at org.apache.hive.hcatalog.cli.HCatCli.processCmd(HCatCli.java:259)
	at org.apache.hive.hcatalog.cli.HCatCli.processLine(HCatCli.java:213)
	at org.apache.hive.hcatalog.cli.HCatCli.main(HCatCli.java:172)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:212)
Caused by: java.io.IOException: Error in loading storage handler.org.apache.hcatalog.hbase.HBaseHCatStorageHandler
	at org.apache.hive.hcatalog.common.HCatUtil.getStorageHandler(HCatUtil.java:432)
	at org.apache.hive.hcatalog.cli.SemanticAnalysis.CreateTableHook.postAnalyze(CreateTableHook.java:199)
	... 16 more
Caused by: java.lang.ClassNotFoundException: org.apache.hcatalog.hbase.HBaseHCatStorageHandler
	at java.net.URLClassLoader$1.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(Unknown Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Unknown Source)
	at org.apache.hive.hcatalog.common.HCatUtil.getStorageHandler(HCatUtil.java:426)
	... 17 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem is that the hbaseStorageJar is incorrect with the merging of hcat into hive. Also as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6695&quot; title=&quot;bin/hcat should include hbase jar and dependencies in the classpath [followup/clone of HCATALOG-621]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6695&quot;&gt;&lt;del&gt;HIVE-6695&lt;/del&gt;&lt;/a&gt; we should add the HBASE_LIB in the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12702461">HIVE-6698</key>
            <summary>hcat.py script does not correctly load the hbase storage handler jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Mar 2014 19:12:02 +0000</created>
                <updated>Wed, 25 Feb 2015 15:21:24 +0000</updated>
                            <resolved>Fri, 21 Mar 2014 20:33:31 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13940866" author="deepesh" created="Wed, 19 Mar 2014 19:13:20 +0000"  >&lt;p&gt;Attaching the patch with the fix.&lt;/p&gt;</comment>
                            <comment id="13942424" author="sushanth" created="Thu, 20 Mar 2014 22:28:40 +0000"  >&lt;p&gt;Looks good to me, +1.&lt;/p&gt;</comment>
                            <comment id="13943510" author="sushanth" created="Fri, 21 Mar 2014 20:33:26 +0000"  >&lt;p&gt;Committed. Thanks, Deepesh!&lt;/p&gt;</comment>
                            <comment id="14211147" author="thejas" created="Thu, 13 Nov 2014 19:44:21 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14336611" author="pouic" created="Wed, 25 Feb 2015 15:21:24 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I have the same issue using HDP 2.2 (which should embed hive 0.14).&lt;br/&gt;
I cannot find patch lines in my hcat.py nor on &lt;a href=&quot;https://apache.googlesource.com/hive/+/trunk/hcatalog/bin/hcat.py&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://apache.googlesource.com/hive/+/trunk/hcatalog/bin/hcat.py&lt;/a&gt;&lt;br/&gt;
???&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12635619" name="HIVE-6698.patch" size="1071" author="deepesh" created="Wed, 19 Mar 2014 19:13:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tlz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>