<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:18:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5376] Hive does not honor type for partition columns when altering column type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5376</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5297&quot; title=&quot;Hive does not honor type for partition columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5297&quot;&gt;&lt;del&gt;HIVE-5297&lt;/del&gt;&lt;/a&gt;. If partition column of type string is changed to int, the data is not verified. The values for partition columns are all in metastore db, so it&apos;s easy to check and fail the type change.&lt;br/&gt;
alter_partition_coltype.q (or some other test?) checks this behavior right now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670843">HIVE-5376</key>
            <summary>Hive does not honor type for partition columns when altering column type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 22:05:25 +0000</created>
                <updated>Wed, 8 Apr 2015 21:38:11 +0000</updated>
                            <resolved>Tue, 22 Apr 2014 19:07:43 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13779301" author="sershe" created="Thu, 26 Sep 2013 22:05:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;vikram.dixit&lt;/a&gt; filed&lt;/p&gt;</comment>
                            <comment id="13956069" author="hsubramaniyan" created="Tue, 1 Apr 2014 03:49:14 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; for marking it a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6775&quot; title=&quot;Altering partition column type should not be allowed when there is existing partitions for which column types cannot be casted to the new type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6775&quot;&gt;&lt;del&gt;HIVE-6775&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;vikram.dixit&lt;/a&gt;please let me know if you are working on this.&lt;/p&gt;</comment>
                            <comment id="13956905" author="vikram.dixit" created="Tue, 1 Apr 2014 19:00:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; I am not currently working on it. Please go ahead and assign it to yourself if you are working on it.&lt;/p&gt;</comment>
                            <comment id="13958261" author="hsubramaniyan" created="Wed, 2 Apr 2014 22:27:35 +0000"  >&lt;p&gt;cc-ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;rhbutani&lt;/a&gt; for review.&lt;/p&gt;</comment>
                            <comment id="13958268" author="hsubramaniyan" created="Wed, 2 Apr 2014 22:31:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/19964/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/19964/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13959369" author="hiveqa" created="Thu, 3 Apr 2014 22:44:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638360/HIVE-5376.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638360/HIVE-5376.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5543 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2100/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2100/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2100/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2100/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638360&lt;/p&gt;</comment>
                            <comment id="13959442" author="sershe" created="Thu, 3 Apr 2014 23:53:51 +0000"  >&lt;p&gt;Hmm... would it be be better to do on metastore side? Both safer, cause someone else like HCat can all the API, and more efficient to get data&lt;/p&gt;</comment>
                            <comment id="13960805" author="sershe" created="Fri, 4 Apr 2014 23:42:56 +0000"  >&lt;p&gt;Discussed w/Harish. It should be ok to do on client now.&lt;br/&gt;
It&apos;s better to do close to data (metadata &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;) but it will be difficult to achieve because metastore cannot depend on QL during compilation so some proxy class will need to be used, like for getPartitionsByExpr.&lt;br/&gt;
Maybe another jira can be filed...&lt;/p&gt;</comment>
                            <comment id="13960806" author="sershe" created="Fri, 4 Apr 2014 23:43:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13965171" author="hiveqa" created="Thu, 10 Apr 2014 09:43:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639448/HIVE-5376.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639448/HIVE-5376.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5571 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_leftsemijoin_mr
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_coltype_invalidtype_conversion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2200/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2200/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2200/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2200/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639448&lt;/p&gt;</comment>
                            <comment id="13965754" author="rhbutani" created="Thu, 10 Apr 2014 19:35:14 +0000"  >&lt;p&gt;Removed this from 0.13 list.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; please look into the failure when there is a  DEFAULT_PARTITION&lt;/p&gt;</comment>
                            <comment id="13971864" author="hsubramaniyan" created="Wed, 16 Apr 2014 19:58:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;rhbutani&lt;/a&gt; The DEFAULT_PARTITION issue is no longer present. It looks like a local setup issue. Please look at the new patch&lt;/p&gt;</comment>
                            <comment id="13974362" author="rhbutani" created="Fri, 18 Apr 2014 19:04:41 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6943&quot; title=&quot;TestMinimrCliDriver.testCliDriver_root_dir_external_table fails on hadoop-2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6943&quot;&gt;&lt;del&gt;HIVE-6943&lt;/del&gt;&lt;/a&gt; to handle the Constant Expression issue.&lt;/p&gt;</comment>
                            <comment id="13974374" author="lefty@hortonworks.com" created="Fri, 18 Apr 2014 19:16:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6943&quot; title=&quot;TestMinimrCliDriver.testCliDriver_root_dir_external_table fails on hadoop-2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6943&quot;&gt;&lt;del&gt;HIVE-6943&lt;/del&gt;&lt;/a&gt; to handle the Constant Expression issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... but you meant to type &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6934&quot; title=&quot;PartitionPruner doesn&amp;#39;t handle top level constant expression correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6934&quot;&gt;&lt;del&gt;HIVE-6934&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13977221" author="rhbutani" created="Tue, 22 Apr 2014 19:07:43 +0000"  >&lt;p&gt;thanks Hari, Sergey&lt;/p&gt;</comment>
                            <comment id="14211188" author="thejas" created="Thu, 13 Nov 2014 19:44:32 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14485993" author="ctang.ma" created="Wed, 8 Apr 2015 20:48:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; Could you elaborate the comment on&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5376?focusedCommentId=13960805&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13960805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-5376?focusedCommentId=13960805&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13960805&lt;/a&gt;&lt;br/&gt;
I do not quite understand what the difficulty is to implement this JIRA at metastore site and why metastore needs QL. &lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="14486078" author="sershe" created="Wed, 8 Apr 2015 21:21:28 +0000"  >&lt;p&gt;I think whatever that JIRA was doing needs some code from ql module. If it doesn&apos;t then the below is irrelevant. If it does, the problem is that ql module depends on metastore module, so the reverse dependency cannot be added at compile time. So, if you look at Expr stuff, it has a proxy class where interface is in metastore, impl is in ql, and it&apos;s instantiated in metastore once via reflection. Or someone could unf*** Hive module structure, but that seems like too big of a task &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14486113" author="ctang.ma" created="Wed, 8 Apr 2015 21:38:11 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; for the clarification. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12704385">HIVE-6775</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12709318">HIVE-6934</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638360" name="HIVE-5376.1.patch" size="69247" author="hsubramaniyan" created="Wed, 2 Apr 2014 22:27:35 +0000"/>
                            <attachment id="12639448" name="HIVE-5376.2.patch" size="88172" author="hsubramaniyan" created="Wed, 9 Apr 2014 18:41:07 +0000"/>
                            <attachment id="12640531" name="HIVE-5376.3.patch" size="92152" author="hsubramaniyan" created="Wed, 16 Apr 2014 19:57:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ogov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>