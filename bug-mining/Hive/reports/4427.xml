<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:43:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-12612] beeline always exits with 0 status when reading query from standard input</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12612</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Similar to what was reported on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6978&quot; title=&quot;beeline always exits with 0 status, should exit with non-zero status on error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6978&quot;&gt;&lt;del&gt;HIVE-6978&lt;/del&gt;&lt;/a&gt;, but now it only happens when the query is read from the standard input. For example, the following fails as expected:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bash$ &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...&quot;&lt;/span&gt; -e &lt;span class=&quot;code-quote&quot;&gt;&quot;boo;&quot;&lt;/span&gt; ; then echo &lt;span class=&quot;code-quote&quot;&gt;&quot;Ok?!&quot;&lt;/span&gt; ; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; echo &lt;span class=&quot;code-quote&quot;&gt;&quot;Failed!&quot;&lt;/span&gt; ; fi
&lt;/span&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;Connected to: Apache Hive (version 1.1.0-cdh5.5.0)
Driver: Hive JDBC (version 1.1.0-cdh5.5.0)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Error: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; compiling statement: FAILED: ParseException line 1:0 cannot recognize input near &lt;span class=&quot;code-quote&quot;&gt;&apos;boo&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;EOF&amp;gt;&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;EOF&amp;gt;&apos;&lt;/span&gt; (state=42000,code=40000)
Closing: 0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;Failed!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the following does not:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bash$ &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; echo &lt;span class=&quot;code-quote&quot;&gt;&quot;boo;&quot;&lt;/span&gt;|beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...&quot;&lt;/span&gt; ; then echo &lt;span class=&quot;code-quote&quot;&gt;&quot;Ok?!&quot;&lt;/span&gt; ; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; echo &lt;span class=&quot;code-quote&quot;&gt;&quot;Failed!&quot;&lt;/span&gt; ; fi
&lt;/span&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;Connected to: Apache Hive (version 1.1.0-cdh5.5.0)
Driver: Hive JDBC (version 1.1.0-cdh5.5.0)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 1.1.0-cdh5.5.0 by Apache Hive
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...:8&amp;gt; Error: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; compiling statement: FAILED: ParseException line 1:0 cannot recognize input near &lt;span class=&quot;code-quote&quot;&gt;&apos;boo&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;EOF&amp;gt;&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;EOF&amp;gt;&apos;&lt;/span&gt; (state=42000,code=40000)
&lt;/span&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...:8&amp;gt; Closing: 0: jdbc:hive2://...
&lt;/span&gt;Ok?!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This was misleading our batch scripts to always believe that the execution of the queries succeded, when sometimes that was not the case. &lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Workaround&quot;&gt;&lt;/a&gt;Workaround&lt;/h2&gt;
&lt;p&gt;We found we can work around the issue by always using the -e or the -f parameters, and even reading the standard input through the /dev/stdin device (this was useful because a lot of the scripts fed the queries from here documents), like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;some-script.sh&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#!/bin/sh

set -o nounset -o errexit -o pipefail

# As beeline is failing to report an error status &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; reading the query
# to be executed from STDIN, check whether no -f or -e option is used
# and, in that &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;, pretend it has to read the query from a regular
# file using -f to read from /dev/stdin
function beeline_workaround_exit_status () {
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; arg in &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ &lt;span class=&quot;code-quote&quot;&gt;&quot;$arg&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;-f&quot;&lt;/span&gt; -o &lt;span class=&quot;code-quote&quot;&gt;&quot;$arg&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;-e&quot;&lt;/span&gt; ]
       then beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
       fi
    done
    beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;...&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt; -f /dev/stdin
}

beeline_workaround_exit_status &amp;lt;&amp;lt;EOF
boo;
EOF
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;CDH5.5.0&lt;/p&gt;</environment>
        <key id="12919956">HIVE-12612</key>
            <summary>beeline always exits with 0 status when reading query from standard input</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sircodesalot">Reuben Kuhnert</assignee>
                                    <reporter username="psequeirag">Paulo Sequeira</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Dec 2015 05:20:47 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:46 +0000</updated>
                            <resolved>Fri, 1 Apr 2016 15:41:10 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15148103" author="tagar" created="Tue, 16 Feb 2016 04:51:00 +0000"  >&lt;p&gt;I could not reproduce your test case.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unable to find source-code formatter for language: shell.&lt;/span&gt; Available languages are: actionscript, ada, applescript, bash, c, c#, c++, cpp, css, erlang, go, groovy, haskell, html, java, javascript, js, json, lua, none, nyan, objc, perl, php, python, r, rainbow, ruby, scala, sh, sql, swift, visualbasic, xml, yaml&lt;/div&gt;&lt;pre&gt;$ echo &lt;span class=&quot;code-quote&quot;&gt;&quot;show databases;&quot;&lt;/span&gt; | bl -f /dev/stdin
scan complete in 2ms
Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//xx.yy.com:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;;principal=hive/_HOST@HADOOP
&lt;/span&gt;Connected to: Apache Hive (version 1.1.0-cdh5.5.1)
Driver: Hive JDBC (version 1.1.0-cdh5.5.0)
Transaction isolation: TRANSACTION_REPEATABLE_READ
/dev/stdin (No such device or address)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15148536" author="psequeirag" created="Tue, 16 Feb 2016 12:46:51 +0000"  >&lt;p&gt;Ruslan, thank you for looking into this. In order to reproduce the issue, you don&apos;t have to read from /dev/stdin (that was in fact used as part of the workaround instead).&lt;/p&gt;

&lt;p&gt;To reproduce, type instead the following in a bash shell:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; echo &lt;span class=&quot;code-quote&quot;&gt;&quot;boo;&quot;&lt;/span&gt; | beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//...&quot;&lt;/span&gt; 
&lt;/span&gt;then echo &lt;span class=&quot;code-quote&quot;&gt;&apos;This is a bug!&apos;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; echo &lt;span class=&quot;code-quote&quot;&gt;&apos;Failed as expected&apos;&lt;/span&gt;
fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15149142" author="tagar" created="Tue, 16 Feb 2016 19:23:45 +0000"  >&lt;p&gt;Just tested, it works for me (I have bl as an alias for beeline to connect to one of the clusters):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ echo &lt;span class=&quot;code-quote&quot;&gt;&quot;show databases;&quot;&lt;/span&gt; | bl
scan complete in 4ms
Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//xx.yy:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;;principal=hive/_HOST@HADOOP
&lt;/span&gt;Connected to: Apache Hive (version 1.1.0-cdh5.5.1)
Driver: Hive JDBC (version 1.1.0-cdh5.5.1)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 1.1.0-cdh5.5.1 by Apache Hive
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//xx.yy.com:1&amp;gt; show databases;
&lt;/span&gt;+-------------------+--+
|   database_name   |
+-------------------+--+
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;           |
. . . 
+-------------------+--+
13 rows selected (0.832 seconds)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//xx.yy.com:1&amp;gt; Closing: 0: jdbc:hive2://. . . 
&lt;/span&gt;rdautkha $
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15149205" author="psequeirag" created="Tue, 16 Feb 2016 19:58:10 +0000"  >&lt;p&gt;Have you tried feeding Beeline with an invalid statement? The issue is that, if the query is malformed or fails for some other reason, the exit status of the Beeline process is still 0 (which indicates that the command completed successfully) rather than the expected non-zero status indicating that there was a failure.&lt;/p&gt;

&lt;p&gt;Note that it will be evident from what Beeline prints on STDOUT and STDERR that it detected the failure, but if you use the shell commands that test the actual exit status (like the &apos;if&apos; statement or the &apos;&amp;amp;&amp;amp;&apos; operator), then they would behave as if the command ran successfully.&lt;/p&gt;</comment>
                            <comment id="15149400" author="tagar" created="Tue, 16 Feb 2016 22:01:48 +0000"  >&lt;p&gt;Got it. Yep, that&apos;s correct. I see that beeline always returns 0 even for bad input. Bummer. Thanks for submitting this.&lt;/p&gt;</comment>
                            <comment id="15196814" author="spragues" created="Wed, 16 Mar 2016 05:55:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=psequeirag&quot; class=&quot;user-hover&quot; rel=&quot;psequeirag&quot;&gt;psequeirag&lt;/a&gt;  - hey, thanks for the workaround suggestion. we too use tons of here documents and this is a show stopper.   &lt;/p&gt;

&lt;p&gt;/dev/stdin  should be treated same as -f flag (a file) when /dev/stdin is not a tty. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15205219" author="sircodesalot" created="Mon, 21 Mar 2016 21:42:23 +0000"  >&lt;p&gt;Was able to reproduce this issue earlier, but was wondering on what we want the desired behavior to be. For example, if the user executes something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;echo &lt;span class=&quot;code-quote&quot;&gt;&quot;should-fail; show tables;&quot;&lt;/span&gt; | beeline
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;what should the output be? Should it return &apos;0&apos; because the last command ran successfully, or should it return some error code because the first command failed? In addition, when running a standard (long-running) beeline session, should we ever return a failure result (if say one of the commands during the session fails)? Seems like the workaround here is the only realistic solution, but would love input.&lt;/p&gt;</comment>
                            <comment id="15205232" author="spena" created="Mon, 21 Mar 2016 21:52:28 +0000"  >&lt;p&gt;I think beeline should stop as soon as an error occurs. Take mysql as an example:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ echo &quot;s; show databases;&quot; | mysql
ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;s&apos; at line 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;tt&gt;s&lt;/tt&gt; command does not exist, so Mysql fails without executing the rest of the commands.&lt;/p&gt;</comment>
                            <comment id="15206463" author="psequeirag" created="Tue, 22 Mar 2016 14:45:37 +0000"  >&lt;p&gt;I agree with Sergio: if any statement fails to execute for some reason, abort immediately the entire script even if it&apos;s a long running one. Many of our scripts run unattended and for long a long time, and we rely on early failure detection to be notified that things went wrong and that we should look at them.&lt;/p&gt;</comment>
                            <comment id="15210941" author="hiveqa" created="Thu, 24 Mar 2016 20:58:41 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12794805/HIVE-12612.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12794805/HIVE-12612.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9831 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCliDriver-tez_union_dynamic_partition.q-udf_in_file.q-mapjoin_filter_on_outerjoin.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_llap_udf
org.apache.hive.beeline.cli.TestHiveCli.testErrOutput
org.apache.hive.beeline.cli.TestHiveCli.testInValidCmd
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd3
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB1
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB2
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB3
org.apache.hive.beeline.cli.TestHiveCli.testUseInvalidDB
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7357/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7357/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7357/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7357/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7357/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7357/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12794805 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15214424" author="hiveqa" created="Mon, 28 Mar 2016 16:32:17 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12795428/HIVE-12612.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12795428/HIVE-12612.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 9882 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTimestampExpressions.testVectorUDFMonthString
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTimestampExpressions.testVectorUDFMonthTimestamp
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTimestampExpressions.testVectorUDFYearString
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTimestampExpressions.testVectorUDFYearTimestamp
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7396/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7396/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7396/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7396/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7396/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7396/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12795428 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15216870" author="spena" created="Tue, 29 Mar 2016 21:22:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sircodesalot&quot; class=&quot;user-hover&quot; rel=&quot;sircodesalot&quot;&gt;sircodesalot&lt;/a&gt; The patch looks good.&lt;/p&gt;

&lt;p&gt;Just a few of questoins:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can we remove the lines that you commented from QueryProfileServlet.java?.&lt;/li&gt;
	&lt;li&gt;why is &lt;tt&gt;lastExecutionResult&lt;/tt&gt; a class variable? I see it is used only on the execute() method.&lt;/li&gt;
	&lt;li&gt;I see there is a hive-site.xml on beeline/src/test/resources already. why are we changing the one from conf?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15217842" author="sircodesalot" created="Wed, 30 Mar 2016 11:51:56 +0000"  >&lt;p&gt;Ah, sorry about that - picked up some of my local changes. New patch available.&lt;/p&gt;</comment>
                            <comment id="15218027" author="spena" created="Wed, 30 Mar 2016 14:24:54 +0000"  >&lt;p&gt;code looks good +1&lt;br/&gt;
Let&apos;s wait for the tests.&lt;/p&gt;</comment>
                            <comment id="15221521" author="hiveqa" created="Fri, 1 Apr 2016 10:36:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12796057/HIVE-12612.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12796057/HIVE-12612.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9921 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-groupby10.q-timestamp_comparison.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-parallel_join0.q-union_remove_9.q-smb_mapjoin_21.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7430/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7430/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7430/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7430/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7430/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7430/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12796057 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15221856" author="spena" created="Fri, 1 Apr 2016 15:41:10 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sircodesalot&quot; class=&quot;user-hover&quot; rel=&quot;sircodesalot&quot;&gt;sircodesalot&lt;/a&gt; for your contribution.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12972670">HIVE-13845</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12794805" name="HIVE-12612.01.patch" size="3413" author="sircodesalot" created="Tue, 22 Mar 2016 17:55:13 +0000"/>
                            <attachment id="12795428" name="HIVE-12612.02.patch" size="6514" author="sircodesalot" created="Fri, 25 Mar 2016 16:46:06 +0000"/>
                            <attachment id="12796057" name="HIVE-12612.03.patch" size="4953" author="sircodesalot" created="Wed, 30 Mar 2016 11:49:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pkvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>