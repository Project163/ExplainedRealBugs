<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:32:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10541] Beeline requires newline at the end of each query in a file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10541</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Beeline requires newline at the end of each query in a file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826118">HIVE-10541</key>
            <summary>Beeline requires newline at the end of each query in a file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="ctang">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2015 21:20:43 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:11 +0000</updated>
                            <resolved>Mon, 4 May 2015 00:13:52 +0000</resolved>
                                    <version>0.13.1</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14520752" author="ctang.ma" created="Thu, 30 Apr 2015 02:57:42 +0000"  >&lt;p&gt;I am still able to reproduce the issue in master as of 4/29/2015 on my mac shell (Darwin localhost 12.5.0 Darwin Kernel Version 12.5.0).&lt;/p&gt;</comment>
                            <comment id="14520778" author="ctang.ma" created="Thu, 30 Apr 2015 03:14:51 +0000"  >&lt;p&gt;It looks like a bug from jline (jline-2.1.2.jar), class jline.console.ConsoleReader.java method:&lt;br/&gt;
public String readLine(String prompt, final Character mask) throws IOException&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; c = pushBackChar.isEmpty() ? readCharacter() : pushBackChar.pop ();
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (c == -1) {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When reaching the end of line without \n, readCharacter returns -1 and readLine discard what it has read and return null. so the last command in sql script passed via -f will be ignored. &lt;br/&gt;
It can be worked around by append a newline after the last sql command.&lt;/p&gt;</comment>
                            <comment id="14521595" author="ctang.ma" created="Thu, 30 Apr 2015 14:47:42 +0000"  >&lt;p&gt;Filed a JIRA for this jline2 issue: &lt;a href=&quot;https://github.com/jline/jline/issues/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jline/jline/issues/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14522070" author="ctang.ma" created="Thu, 30 Apr 2015 19:06:12 +0000"  >&lt;p&gt;A simple way to work around the jline bug. Various manual tests have been performed to verify the solution. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, could you review it? Thanks.&lt;/p&gt;</comment>
                            <comment id="14522197" author="thejas" created="Thu, 30 Apr 2015 20:30:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt; thanks for the patch!&lt;br/&gt;
The fix looks good to me, but I think it could use a simple test case in TestBeeLineWithArgs as well.&lt;/p&gt;</comment>
                            <comment id="14522262" author="ctang.ma" created="Thu, 30 Apr 2015 21:01:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;. I will look into adding a test case for that.&lt;/p&gt;</comment>
                            <comment id="14522560" author="ctang.ma" created="Fri, 1 May 2015 00:43:52 +0000"  >&lt;p&gt;Add a unittest testLastLineCmdInScriptFile in TestBeeLineWithArgs. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt; for review.&lt;/p&gt;</comment>
                            <comment id="14523350" author="hiveqa" created="Fri, 1 May 2015 15:45:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12729681/HIVE-10541.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12729681/HIVE-10541.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8882 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3682/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3682/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3682/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3682/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3682/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3682/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12729681 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14523395" author="ctang.ma" created="Fri, 1 May 2015 16:24:01 +0000"  >&lt;p&gt;The failed test seems not related to this patch. The new added test TestBeeLineWithArgs#testLastLineCmdInScriptFile passed.&lt;/p&gt;</comment>
                            <comment id="14523710" author="thejas" created="Fri, 1 May 2015 19:04:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14526108" author="szehon" created="Mon, 4 May 2015 00:13:52 +0000"  >&lt;p&gt;Committed to trunk, thanks Chaoyu for patch and Thejas for review.&lt;/p&gt;</comment>
                            <comment id="14526114" author="ctang.ma" created="Mon, 4 May 2015 00:20:24 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt; for review and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; for committing the patch.&lt;/p&gt;</comment>
                            <comment id="14526377" author="lefty@hortonworks.com" created="Mon, 4 May 2015 07:51:34 +0000"  >&lt;p&gt;Does this need to be documented?&lt;/p&gt;</comment>
                            <comment id="14526672" author="ctang.ma" created="Mon, 4 May 2015 14:25:07 +0000"  >&lt;p&gt;I think it is not needed. Before, without this patch the last statement in the Beeline sql script was ignored and needed a newline in order to be executed. It is a bug and the workaround by appending a newline was not documented. This JIRA fixes this issue. &lt;/p&gt;</comment>
                            <comment id="14527902" author="lefty@hortonworks.com" created="Tue, 5 May 2015 04:51:17 +0000"  >&lt;p&gt;Okay, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12728991">HIVE-7475</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12729681" name="HIVE-10541.1.patch" size="2486" author="ctang" created="Fri, 1 May 2015 00:43:52 +0000"/>
                            <attachment id="12729577" name="HIVE-10541.patch" size="1283" author="ctang" created="Thu, 30 Apr 2015 19:06:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e3xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>