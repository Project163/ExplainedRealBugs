<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:24:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7647] Beeline does not honor --headerInterval and --color when executing with &quot;-e&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7647</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;--showHeader is being honored&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost ~&amp;#93;&lt;/span&gt;# beeline --showHeader=false -u &apos;jdbc:hive2://localhost:10000/default&apos; -n hive -d org.apache.hive.jdbc.HiveDriver -e &quot;select * from sample_07 limit 10;&quot;&lt;br/&gt;
Connecting to jdbc:hive2://localhost:10000/default&lt;br/&gt;
Connected to: Apache Hive (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Driver: Hive JDBC (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Transaction isolation: TRANSACTION_REPEATABLE_READ&lt;br/&gt;
-hiveconf (No such file or directory)&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 00-0000  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; All Occupations                      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 135185230  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 42270   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-0000  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Management occupations               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6152650    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100310  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1011  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Chief executives                     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 301930     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 160440  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1021  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; General and operations managers      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1697690    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 107970  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1031  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Legislators                          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64650      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 37980   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2011  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Advertising and promotions managers  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 36100      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 94720   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2021  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Marketing managers                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 166790     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 118160  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2022  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Sales managers                       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 333910     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 110390  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2031  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Public relations managers            &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 51730      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 101220  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-3011  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Administrative services managers     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 246930     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 79500   &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;br/&gt;
10 rows selected (0.838 seconds)&lt;br/&gt;
Beeline version 0.12.0-cdh5.1.0 by Apache Hive&lt;br/&gt;
Closing: org.apache.hive.jdbc.HiveConnection&lt;/p&gt;

&lt;p&gt;--outputFormat is being honored.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost ~&amp;#93;&lt;/span&gt;# beeline --outputFormat=csv -u &apos;jdbc:hive2://localhost:10000/default&apos; -n hive -d org.apache.hive.jdbc.HiveDriver -e &quot;select * from sample_07 limit 10;&quot;&lt;br/&gt;
Connecting to jdbc:hive2://localhost:10000/default&lt;br/&gt;
Connected to: Apache Hive (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Driver: Hive JDBC (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Transaction isolation: TRANSACTION_REPEATABLE_READ&lt;/p&gt;

&lt;p&gt;&apos;code&apos;,&apos;description&apos;,&apos;total_emp&apos;,&apos;salary&apos;&lt;br/&gt;
&apos;00-0000&apos;,&apos;All Occupations&apos;,&apos;135185230&apos;,&apos;42270&apos;&lt;br/&gt;
&apos;11-0000&apos;,&apos;Management occupations&apos;,&apos;6152650&apos;,&apos;100310&apos;&lt;br/&gt;
&apos;11-1011&apos;,&apos;Chief executives&apos;,&apos;301930&apos;,&apos;160440&apos;&lt;br/&gt;
&apos;11-1021&apos;,&apos;General and operations managers&apos;,&apos;1697690&apos;,&apos;107970&apos;&lt;br/&gt;
&apos;11-1031&apos;,&apos;Legislators&apos;,&apos;64650&apos;,&apos;37980&apos;&lt;br/&gt;
&apos;11-2011&apos;,&apos;Advertising and promotions managers&apos;,&apos;36100&apos;,&apos;94720&apos;&lt;br/&gt;
&apos;11-2021&apos;,&apos;Marketing managers&apos;,&apos;166790&apos;,&apos;118160&apos;&lt;br/&gt;
&apos;11-2022&apos;,&apos;Sales managers&apos;,&apos;333910&apos;,&apos;110390&apos;&lt;br/&gt;
&apos;11-2031&apos;,&apos;Public relations managers&apos;,&apos;51730&apos;,&apos;101220&apos;&lt;br/&gt;
&apos;11-3011&apos;,&apos;Administrative services managers&apos;,&apos;246930&apos;,&apos;79500&apos;&lt;br/&gt;
10 rows selected (0.664 seconds)&lt;br/&gt;
Beeline version 0.12.0-cdh5.1.0 by Apache Hive&lt;br/&gt;
Closing: org.apache.hive.jdbc.HiveConnection&lt;/p&gt;

&lt;p&gt;both --color &amp;amp; --headerInterval are being honored when executing using &quot;-f&quot; option (reads query from a file rather than the commandline) (cannot really see the color here but use the terminal colors)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost ~&amp;#93;&lt;/span&gt;# beeline --showheader=true --color=true --headerInterval=5 -u &apos;jdbc:hive2://localhost:10000/default&apos; -n hive -d org.apache.hive.jdbc.HiveDriver -f /tmp/tmp.sql  &lt;br/&gt;
Connecting to jdbc:hive2://localhost:10000/default&lt;br/&gt;
Connected to: Apache Hive (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Driver: Hive JDBC (version 0.12.0-cdh5.0.1)&lt;br/&gt;
Transaction isolation: TRANSACTION_REPEATABLE_READ&lt;/p&gt;

&lt;p&gt;Beeline version 0.12.0-cdh5.1.0 by Apache Hive&lt;br/&gt;
0: jdbc:hive2://localhost&amp;gt; select * from sample_07 limit 8;&lt;br/&gt;
&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   code   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             description              &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; total_emp  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; salary  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 00-0000  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; All Occupations                      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 135185230  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 42270   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-0000  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Management occupations               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6152650    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 100310  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1011  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Chief executives                     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 301930     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 160440  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1021  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; General and operations managers      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1697690    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 107970  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-1031  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Legislators                          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 64650      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 37980   &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   code   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             description              &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; total_emp  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; salary  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2011  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Advertising and promotions managers  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 36100      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 94720   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2021  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Marketing managers                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 166790     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 118160  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 11-2022  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Sales managers                       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 333910     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 110390  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;--------+&lt;br/&gt;
8 rows selected (0.921 seconds)&lt;br/&gt;
0: jdbc:hive2://localhost&amp;gt; Closing: org.apache.hive.jdbc.HiveConnection&lt;/p&gt;


&lt;p&gt;But when running &lt;br/&gt;
beeline --showheader=true --color=true --headerInterval=5 -u &apos;jdbc:hive2://localhost:10000/default&apos; -n hive -d org.apache.hive.jdbc.HiveDriver -e &quot;select * from sample_07 limit 8;&quot;&lt;/p&gt;

&lt;p&gt;headerInterval &amp;amp; color are being overridden in the code.&lt;br/&gt;
From Beeline.java&lt;br/&gt;
if (commands.size() &amp;gt; 0) {&lt;br/&gt;
// for single command execute, disable colorgetOpts().setColor(false);&lt;br/&gt;
getOpts().setHeaderInterval(-1);&lt;/p&gt;

&lt;p&gt;This overrides the default behavior. The documentation states that the default headerInterval is 100 for &quot;table&quot; output format. By default &quot;table&quot; output format is used with &quot;-e&quot; option but that headerInterval is being set to &quot;-1&quot; which results in header being printed after every row (since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7200&quot; title=&quot;Beeline output displays column heading even if --showHeader=false is set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7200&quot;&gt;&lt;del&gt;HIVE-7200&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12732639">HIVE-7647</key>
            <summary>Beeline does not honor --headerInterval and --color when executing with &quot;-e&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ngangam">Naveen Gangam</assignee>
                                    <reporter username="ngangam">Naveen Gangam</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Thu, 7 Aug 2014 18:51:25 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:05 +0000</updated>
                            <resolved>Sun, 21 Sep 2014 15:20:40 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14089859" author="ngangam" created="Thu, 7 Aug 2014 21:12:15 +0000"  >&lt;p&gt;The attached fix results in the following change in behavior.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@localhost ~]# beeline --showheader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; --color=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; --headerInterval=5 -u &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&apos;&lt;/span&gt; -n hive -d org.apache.hive.jdbc.HiveDriver -e &lt;span class=&quot;code-quote&quot;&gt;&quot;select * from sample_07 limit 8;&quot;&lt;/span&gt;
&lt;/span&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
&lt;/span&gt;Connected to: Apache Hive (version 0.12.0-cdh5.0.1)
Driver: Hive JDBC (version 0.12.0-cdh5.0.1)
Transaction isolation: TRANSACTION_REPEATABLE_READ

+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 00-0000  | All Occupations                      | 135185230  | 42270   |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-0000  | Management occupations               | 6152650    | 100310  |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-1011  | Chief executives                     | 301930     | 160440  |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-1021  | General and operations managers      | 1697690    | 107970  |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-1031  | Legislators                          | 64650      | 37980   |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-2011  | Advertising and promotions managers  | 36100      | 94720   |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-2021  | Marketing managers                   | 166790     | 118160  |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-2022  | Sales managers                       | 333910     | 110390  |
+----------+--------------------------------------+------------+---------+
8 rows selected (3.523 seconds)
Beeline version 0.12.0-cdh5.1.0 by Apache Hive
Closing: org.apache.hive.jdbc.HiveConnection

[root@localhost ~]# beeline --showheader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; --color=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; --headerInterval=5 -u &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&apos;&lt;/span&gt; -n hive -d org.apache.hive.jdbc.HiveDriver -e &lt;span class=&quot;code-quote&quot;&gt;&quot;select * from sample_07 limit 8;&quot;&lt;/span&gt;
&lt;/span&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
&lt;/span&gt;Connected to: Apache Hive (version 0.12.0-cdh5.0.1)
Driver: Hive JDBC (version 0.12.0-cdh5.0.1)
Transaction isolation: TRANSACTION_REPEATABLE_READ

+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 00-0000  | All Occupations                      | 135185230  | 42270   |
| 11-0000  | Management occupations               | 6152650    | 100310  |
| 11-1011  | Chief executives                     | 301930     | 160440  |
| 11-1021  | General and operations managers      | 1697690    | 107970  |
| 11-1031  | Legislators                          | 64650      | 37980   |
+----------+--------------------------------------+------------+---------+
|   code   |             description              | total_emp  | salary  |
+----------+--------------------------------------+------------+---------+
| 11-2011  | Advertising and promotions managers  | 36100      | 94720   |
| 11-2021  | Marketing managers                   | 166790     | 118160  |
| 11-2022  | Sales managers                       | 333910     | 110390  |
+----------+--------------------------------------+------------+---------+
8 rows selected (0.862 seconds)
Beeline version 0.12.0-cdh5.1.0 by Apache Hive
Closing: org.apache.hive.jdbc.HiveConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14089914" author="ngangam" created="Thu, 7 Aug 2014 21:55:38 +0000"  >&lt;p&gt;Review posted to&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/24471/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/24471/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; This was part of the original HS2 functionality. Do you remember why it was done this way, seemingly intentional? Thanks&lt;/p&gt;</comment>
                            <comment id="14089945" author="ashutoshc" created="Thu, 7 Aug 2014 22:21:20 +0000"  >&lt;p&gt;Most initial Beeline code was copy-pasted from sqline project. So, I am not sure this specific functionality was intended and subsequently tested. If it doesnt work, than unless someone fixes its better to remove it.&lt;/p&gt;</comment>
                            <comment id="14089974" author="ngangam" created="Thu, 7 Aug 2014 22:41:45 +0000"  >&lt;p&gt;Gotcha .. Thanks for the clarification.&lt;/p&gt;</comment>
                            <comment id="14090650" author="hiveqa" created="Fri, 8 Aug 2014 11:20:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660466/HIVE-7647.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660466/HIVE-7647.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5886 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/223/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/223/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/223/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/223/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-223/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-223/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660466&lt;/p&gt;</comment>
                            <comment id="14092252" author="xuefuz" created="Sun, 10 Aug 2014 22:43:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;ngangam&lt;/a&gt; The change seems simple and reasonable. but could you please check code history to find out how that few lines got in for the first place. I just wanted to make sure that we do introduce regressions on this.&lt;/p&gt;</comment>
                            <comment id="14092359" author="ngangam" created="Mon, 11 Aug 2014 02:28:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; I checked the history &amp;amp; it was part of the checkin for HS2 functionality. Based on the note above from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; this code may have been copied from SQLLine. So it may have been un-intentional. Thanks&lt;/p&gt;</comment>
                            <comment id="14100701" author="ngangam" created="Mon, 18 Aug 2014 14:48:07 +0000"  >&lt;p&gt;Would someone be able to review this? Thanks in advance&lt;/p&gt;</comment>
                            <comment id="14136496" author="xuefuz" created="Tue, 16 Sep 2014 23:32:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14138264" author="xuefuz" created="Thu, 18 Sep 2014 00:22:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;ngangam&lt;/a&gt;, it looks like your patch needs to be rebased.&lt;/p&gt;</comment>
                            <comment id="14140486" author="ngangam" created="Fri, 19 Sep 2014 13:45:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; I will attach a new patch today.&lt;/p&gt;</comment>
                            <comment id="14140695" author="ngangam" created="Fri, 19 Sep 2014 15:01:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; Patch has been rebased to the latest trunk. Thank you &lt;/p&gt;</comment>
                            <comment id="14141689" author="hiveqa" created="Sat, 20 Sep 2014 02:35:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670012/HIVE-7647.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12670012/HIVE-7647.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6297 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/885/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/885/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/885/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/885/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-885/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-885/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12670012&lt;/p&gt;</comment>
                            <comment id="14142472" author="xuefuz" created="Sun, 21 Sep 2014 15:20:40 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Naveen for the contribution.&lt;/p&gt;</comment>
                            <comment id="14142896" author="lefty@hortonworks.com" created="Mon, 22 Sep 2014 05:02:40 +0000"  >&lt;p&gt;Doc note:  These fixes should be documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Hive Server2 Clients &amp;#8211; Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For consistency, copy the &quot;-e&quot; option&apos;s bug fix note.&lt;/p&gt;

&lt;p&gt;A release note on this JIRA ticket would also be good.&lt;/p&gt;</comment>
                            <comment id="14143182" author="ngangam" created="Mon, 22 Sep 2014 13:19:56 +0000"  >&lt;p&gt;Thank you for committing this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;&lt;br/&gt;
I have added a Release Note to this JIRA. However, I do not appear to be privileged enough to edit the wiki page mentioned above. Is that limited to committers only? Thanks&lt;/p&gt;</comment>
                            <comment id="14143496" author="lefty@hortonworks.com" created="Mon, 22 Sep 2014 17:39:26 +0000"  >&lt;p&gt;Wiki edit permission just requires a Confluence account and a request:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki#AboutThisWiki-Howtogetpermissiontoedit&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;About This Wiki &amp;#8211; How to get permission to edit &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14146440" author="ngangam" created="Wed, 24 Sep 2014 15:44:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; Thank you for granting me Wiki-write permissions. I have added a link to this JIRA on the Beeline Command Options wiki page. Thanks&lt;/p&gt;</comment>
                            <comment id="14147457" author="lefty@hortonworks.com" created="Thu, 25 Sep 2014 06:17:29 +0000"  >&lt;p&gt;Nicely done, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;ngangam&lt;/a&gt;.  Why didn&apos;t you mention the fix for --color too?&lt;/p&gt;</comment>
                            <comment id="14210692" author="thejas" created="Thu, 13 Nov 2014 19:42:05 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12660466" name="HIVE-7647.1.patch" size="723" author="ngangam" created="Thu, 7 Aug 2014 21:12:15 +0000"/>
                            <attachment id="12670012" name="HIVE-7647.2.patch" size="731" author="ngangam" created="Fri, 19 Sep 2014 14:59:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ynkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Beeline does not honor --headerInterval and --color options when running with &amp;quot;-e&amp;quot; option. It results in header being printed after each row. This has now been resolved in Hive 0.14.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>