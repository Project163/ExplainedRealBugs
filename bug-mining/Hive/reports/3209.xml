<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:30:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-9877] Beeline cannot run multiple statements in the same row</title>
                <link>https://issues.apache.org/jira/browse/HIVE-9877</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;m trying to switch from hive cli to beeline and found the below working with hive cli, but not with beeline.&lt;/p&gt;

&lt;p&gt;This works in hive cli:&lt;br/&gt;
$ hive -e &quot;USE my_db;SHOW TABLES;&quot; &lt;/p&gt;

&lt;p&gt;The same does not work in beeline:&lt;br/&gt;
$ beeline -u jdbc:hive2://my_server.com -n my_user -p my_password -e &quot;USE my_db;SHOW TABLES;&quot;&lt;br/&gt;
Error: Error while compiling statement: FAILED: ParseException line 1:9 missing EOF at &apos;;&apos; near &apos;my_db&apos; (state=42000,code=40000)&lt;br/&gt;
Beeline version 0.12.0-cdh5.1.3 by Apache Hive &lt;/p&gt;


&lt;p&gt;I have also tried with beeline -f &lt;span class=&quot;error&quot;&gt;&amp;#91;filename&amp;#93;&lt;/span&gt;&lt;br/&gt;
The issue is the same, except &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; when the two statements are listed in separate lines in the file supplied via the -f parameter.&lt;/p&gt;

&lt;p&gt;So when using &lt;br/&gt;
beeline -f my.hql&lt;/p&gt;

&lt;p&gt;This works:&lt;br/&gt;
my.hql:&lt;br/&gt;
USE my_db;&lt;br/&gt;
SHOW TABLES;&lt;/p&gt;


&lt;p&gt;This does not work:&lt;br/&gt;
my.hql:&lt;br/&gt;
USE my_db;SHOW TABLES;&lt;/p&gt;

&lt;p&gt;$ beeline -u jdbc:hive2://my_server.com -n my_user -p my_password -f my.hql&lt;br/&gt;
Connected to: Apache Hive (version 0.12.0-cdh5.1.3)&lt;br/&gt;
Driver: Hive JDBC (version 0.12.0-cdh5.1.3)&lt;br/&gt;
Transaction isolation: TRANSACTION_REPEATABLE_READ&lt;br/&gt;
Beeline version 0.12.0-cdh5.1.3 by Apache Hive&lt;br/&gt;
0: jdbc:hive2://my_server.com&amp;gt; USE my_db;SHOW TABLES;&lt;br/&gt;
Error: Error while compiling statement: FAILED: ParseException line 1:9 missing EOF at &apos;;&apos; near &apos;my_db&apos; (state=42000,code=40000)&lt;br/&gt;
Closing: org.apache.hive.jdbc.HiveConnection&lt;/p&gt;


&lt;p&gt;How to reproduce:&lt;br/&gt;
Run any type of multiple statements with beeline where the statements are in the same line separated by ; whether using &quot;beeline -e &lt;span class=&quot;error&quot;&gt;&amp;#91;statement&amp;#93;&lt;/span&gt;&quot; or &quot;beeline -f &lt;span class=&quot;error&quot;&gt;&amp;#91;file&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Oracle Linux 6.5, x64, Cloudera 5.1.3, Hive 0.12.0&lt;/p&gt;</environment>
        <key id="12779899">HIVE-9877</key>
            <summary>Beeline cannot run multiple statements in the same row</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="fedorz">Zoltan Fedor</reporter>
                        <labels>
                            <label>TODOC1.2</label>
                    </labels>
                <created>Thu, 5 Mar 2015 21:26:42 +0000</created>
                <updated>Wed, 20 Jul 2016 12:33:37 +0000</updated>
                            <resolved>Thu, 12 Mar 2015 12:56:53 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Beeline</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14351446" author="ctang.ma" created="Sat, 7 Mar 2015 06:57:33 +0000"  >&lt;p&gt;The patch is being requested for review on &lt;a href=&quot;https://reviews.apache.org/r/31825/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/31825/&lt;/a&gt; , thanks in advance.&lt;br/&gt;
It is to enhance Beeline to be able to run multiple commands from a line which is passed in via beeline console, -e or -f. In addition, it also fixes an NPE when reading command from a file (via -f) if that line of command is not terminated by &quot;;&quot;&lt;/p&gt;</comment>
                            <comment id="14355218" author="ctang.ma" created="Tue, 10 Mar 2015 17:10:15 +0000"  >&lt;p&gt;Not sure why the precommit build was not kicked off. Resubmit patch to trigger the build.&lt;/p&gt;</comment>
                            <comment id="14355483" author="hiveqa" created="Tue, 10 Mar 2015 19:04:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12703684/HIVE-9877.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12703684/HIVE-9877.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 7613 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2989/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2989/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2989/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2989/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2989/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2989/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12703684 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14356126" author="xuefuz" created="Wed, 11 Mar 2015 02:45:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14358612" author="xuefuz" created="Thu, 12 Mar 2015 12:56:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Chaoyu.&lt;/p&gt;</comment>
                            <comment id="14360010" author="lefty@hortonworks.com" created="Fri, 13 Mar 2015 06:31:56 +0000"  >&lt;p&gt;Doc note:  This needs to be documented for 1.2.0 in Beeline Command Options.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HiveServer2 Clients &amp;#8211; Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14369267" author="lars_francke" created="Thu, 19 Mar 2015 12:40:58 +0000"  >&lt;p&gt;I only took a cursory look at the patch but isn&apos;t this the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt; which was closed without implementing the change?&lt;/p&gt;

&lt;p&gt;Just splitting on semicolon is not a good option at least for &quot;-e&quot; (and probably for -f as well). If this is what this patch does and the arguments from the other issue are still valid I&apos;d be in favor of reverting this patch for now.&lt;/p&gt;</comment>
                            <comment id="14370557" author="ctang.ma" created="Fri, 20 Mar 2015 02:01:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;lars_francke&lt;/a&gt; Thanks for raising the issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt;. Actually I am thinking it differently based on the following facts:&lt;br/&gt;
1. Hive CLI supports multiple queries separated by &quot;;&quot; in one line (either via -e or -f), but it does not support the case (having &quot;;&quot; in middle of query itself) as described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt;. This patch is mainly to make Beeline more compatible with CLI and facilitate CLI users to migrate to Beeline which I believe is what we are advocating.&lt;br/&gt;
2. MySQL -e works similar to Hive CLI, but it also does not support the case like that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
3. Compared to cases that users use CLI oneline of multiple commands (either via -e or -f), I think the one in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt; should much rare. I do not think we should give away an improvement benefiting more cases for a less likely one. Maybe we should file a Beeline RFE to cover the case in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7348&quot; title=&quot;Beeline could not parse ; separated queries provided with -e option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7348&quot;&gt;&lt;del&gt;HIVE-7348&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14502127" author="lars_francke" created="Sun, 19 Apr 2015 20:48:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt;. I see your points and while I disagree with the conclusion I won&apos;t argue the change. I just wanted to raise it in case you weren&apos;t aware of the previous discussions. Let&apos;s keep it the way it is now.&lt;/p&gt;</comment>
                            <comment id="14548888" author="sushanth" created="Mon, 18 May 2015 19:53:01 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12840343">HIVE-11100</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12828488">HIVE-10659</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12703684" name="HIVE-9877.patch" size="6670" author="ctang" created="Tue, 10 Mar 2015 17:10:15 +0000"/>
                            <attachment id="12703224" name="HIVE-9877.patch" size="6670" author="ctang" created="Sat, 7 Mar 2015 06:57:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26f5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>