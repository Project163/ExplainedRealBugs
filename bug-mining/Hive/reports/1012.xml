<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:03:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3215] JobDebugger should use RunningJob.getTrackingURL </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3215</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a MR job fails, the JobDebugger tries to construct the job tracker URL by connecting to the job tracker, but that is better done by using RunningJob#getTrackingURL.&lt;/p&gt;

&lt;p&gt;Also, it tries to construct URLs to the tasks, which is not reliable, because the job could have been retired and the URL would not work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596335">HIVE-3215</key>
            <summary>JobDebugger should use RunningJob.getTrackingURL </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="rvadali">Ramkumar Vadali</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jun 2012 22:28:16 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:00 +0000</updated>
                            <resolved>Tue, 13 Nov 2012 15:55:55 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                    <component>Diagnosability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13403530" author="zhenxiao" created="Thu, 28 Jun 2012 22:36:44 +0000"  >&lt;p&gt;@Ramkumar:&lt;br/&gt;
This seems related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2804&quot; title=&quot;Task log retrieval fails on Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2804&quot;&gt;&lt;del&gt;HIVE-2804&lt;/del&gt;&lt;/a&gt;, which is using  HostUtil.getTaskLogUrl to get the URL.&lt;/p&gt;</comment>
                            <comment id="13403536" author="zhenxiao" created="Thu, 28 Jun 2012 22:43:42 +0000"  >&lt;p&gt;@Ramkumar:&lt;/p&gt;

&lt;p&gt;The patch is nice. How about also update the corresponding URL construction in HadoopJobExecHelper.java?&lt;/p&gt;</comment>
                            <comment id="13403539" author="rvadali" created="Thu, 28 Jun 2012 22:48:08 +0000"  >&lt;p&gt;Zhenxiao, Thanks for the comments. I will incorporate it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2804&quot; title=&quot;Task log retrieval fails on Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2804&quot;&gt;&lt;del&gt;HIVE-2804&lt;/del&gt;&lt;/a&gt; is related, but this could be done independent of that jira.&lt;/p&gt;</comment>
                            <comment id="13403587" author="zhenxiao" created="Thu, 28 Jun 2012 23:46:12 +0000"  >&lt;p&gt;@Ramkumar:&lt;/p&gt;

&lt;p&gt;Generally good to me, two things:&lt;/p&gt;

&lt;p&gt;#1. I think it is OK to keep the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;String taskUrl = (jtUrl == null) ? &quot;Unavailable&quot; :&lt;/li&gt;
	&lt;li&gt;jtUrl + &quot;/taskdetails.jsp?jobid=&quot; + jobId + &quot;&amp;amp;tipid=&quot; + task.toString();&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sb.append(&quot;URL:\n  &quot; + taskUrl + &quot;\n&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Is there a reason to get rid of these info?&lt;/p&gt;

&lt;p&gt;#2. I just checked, the only usage of JobTrackerURLResolver is:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=%2FCode%2FstudyHive&quot; class=&quot;user-hover&quot; rel=&quot;/Code/studyHive&quot;&gt;/Code/studyHive&lt;/a&gt;find . -name *.java | xargs grep JobTrackerURLResolver.&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/JobDebugger.java:      jtUrl = JobTrackerURLResolver.getURL(conf);&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/JobTrackerURLResolver.java: * JobTrackerURLResolver.&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/JobTrackerURLResolver.java:public final class JobTrackerURLResolver {&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/JobTrackerURLResolver.java:  private JobTrackerURLResolver() {&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java:    String jtUrl = JobTrackerURLResolver.getURL(conf);&lt;br/&gt;
./ql/src/java/org/apache/hadoop/hive/ql/exec/Throttle.java:      String tracker = JobTrackerURLResolver.getURL(conf) + &quot;/gc.jsp?threshold=&quot; + threshold;&lt;/p&gt;

&lt;p&gt;How about also update Throttle.java, and retire JobTrackerURLResolver.java at all?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13403607" author="rvadali" created="Fri, 29 Jun 2012 00:13:03 +0000"  >&lt;p&gt;I can revert the taskUrl changes.&lt;br/&gt;
Throttle.java is checking the job tracker if its ok to start a new job, so there is no running job instance available. So that cannot be avoided.&lt;/p&gt;</comment>
                            <comment id="13403648" author="rvadali" created="Fri, 29 Jun 2012 01:30:03 +0000"  >&lt;p&gt;The task URL is constructed using hardcoded URI like taskdetails.jsp. It will be better to have the job tracking URL and the task ID instead.&lt;/p&gt;</comment>
                            <comment id="13424056" author="zhenxiao" created="Fri, 27 Jul 2012 18:47:01 +0000"  >&lt;p&gt;@Bhushan:&lt;/p&gt;

&lt;p&gt;Could you send a phabricator review request? I will take a look.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13424101" author="bmandhani" created="Fri, 27 Jul 2012 19:57:39 +0000"  >&lt;p&gt;Phabricator diff is at &lt;a href=&quot;https://reviews.facebook.net/D4401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D4401&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13425439" author="zhenxiao" created="Tue, 31 Jul 2012 00:54:57 +0000"  >&lt;p&gt;@Bhushan:&lt;/p&gt;

&lt;p&gt;+1 &lt;br/&gt;
Good for me.&lt;/p&gt;

&lt;p&gt;Running OK on MiniMRCluster. Needs to confirm it runs good on real cluster and local mode.&lt;/p&gt;</comment>
                            <comment id="13425446" author="zhenxiao" created="Tue, 31 Jul 2012 01:06:29 +0000"  >&lt;p&gt;@Bhushan:&lt;/p&gt;

&lt;p&gt;There are lint problems in the patch in JobDebugger.java. Would you pleas fix them?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13425447" author="bmandhani" created="Tue, 31 Jul 2012 01:10:17 +0000"  >&lt;p&gt;Uploaded updated patch.&lt;/p&gt;</comment>
                            <comment id="13425456" author="zhenxiao" created="Tue, 31 Jul 2012 01:39:58 +0000"  >
&lt;p&gt;+1. New patch is good for me.&lt;/p&gt;</comment>
                            <comment id="13441604" author="kevinwilfong" created="Fri, 24 Aug 2012 23:37:39 +0000"  >&lt;p&gt;Bhushan, could you update the patch, I can&apos;t apply the patch to try it out.&lt;/p&gt;</comment>
                            <comment id="13459138" author="bmandhani" created="Wed, 19 Sep 2012 21:47:17 +0000"  >&lt;p&gt;Refreshed patch.&lt;/p&gt;</comment>
                            <comment id="13495967" author="ashutoshc" created="Tue, 13 Nov 2012 05:08:16 +0000"  >&lt;p&gt;+1 will commit, if tests pass.&lt;/p&gt;</comment>
                            <comment id="13496273" author="ashutoshc" created="Tue, 13 Nov 2012 15:55:55 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Bhushan!&lt;/p&gt;</comment>
                            <comment id="13496348" author="hudson" created="Tue, 13 Nov 2012 17:21:45 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1794 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1794/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1794/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3215&quot; title=&quot;JobDebugger should use RunningJob.getTrackingURL &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3215&quot;&gt;&lt;del&gt;HIVE-3215&lt;/del&gt;&lt;/a&gt; : JobDebugger should use RunningJob.getTrackingURL (Bhushan Mandhani via Ashutosh Chauhan) (Revision 1408803)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1408803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1408803&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JobDebugger.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548254" author="hudson" created="Wed, 9 Jan 2013 10:25:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3215&quot; title=&quot;JobDebugger should use RunningJob.getTrackingURL &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3215&quot;&gt;&lt;del&gt;HIVE-3215&lt;/del&gt;&lt;/a&gt; : JobDebugger should use RunningJob.getTrackingURL (Bhushan Mandhani via Ashutosh Chauhan) (Revision 1408803)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1408803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1408803&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JobDebugger.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550000" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:00 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12533903" name="HIVE-3215.2.patch" size="3423" author="rvadali" created="Thu, 28 Jun 2012 22:51:20 +0000"/>
                            <attachment id="12538192" name="HIVE-3215.3.patch.txt" size="9698" author="bmandhani" created="Fri, 27 Jul 2012 18:41:30 +0000"/>
                            <attachment id="12538470" name="HIVE-3215.4.patch.txt" size="9308" author="bmandhani" created="Tue, 31 Jul 2012 01:09:55 +0000"/>
                            <attachment id="12545809" name="HIVE-3215.5.patch.txt" size="9729" author="bmandhani" created="Wed, 19 Sep 2012 21:47:17 +0000"/>
                            <attachment id="12533902" name="HIVE-3215.patch" size="1875" author="rvadali" created="Thu, 28 Jun 2012 22:37:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jxun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>