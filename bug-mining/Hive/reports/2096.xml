<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:18:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6331] HIVE-5279 deprecated UDAF class without explanation/documentation/alternative</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6331</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5279&quot; title=&quot;Kryo cannot instantiate GenericUDAFEvaluator in GroupByDesc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5279&quot;&gt;&lt;del&gt;HIVE-5279&lt;/del&gt;&lt;/a&gt; added a @Deprecated annotation to the &lt;tt&gt;UDAF&lt;/tt&gt; class. The comment in that class says &lt;blockquote&gt;&lt;p&gt;UDAF classes are REQUIRED to inherit from this class.&lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;One of these two needs to be updated. Either remove the annotation or document why it was deprecated and what to use instead.&lt;/p&gt;

&lt;p&gt;Unfortunately &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt; did not leave any documentation about his intentions.&lt;/p&gt;

&lt;p&gt;I&apos;m happy to provide a patch once I know the intentions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692009">HIVE-6331</key>
            <summary>HIVE-5279 deprecated UDAF class without explanation/documentation/alternative</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="larsfrancke">Lars Francke</assignee>
                                    <reporter username="larsfrancke">Lars Francke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 11:05:12 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:28 +0000</updated>
                            <resolved>Sun, 6 Apr 2014 23:26:40 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13889137" author="navis" created="Mon, 3 Feb 2014 00:53:04 +0000"  >&lt;p&gt;UDAF was deprecated long time before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5279&quot; title=&quot;Kryo cannot instantiate GenericUDAFEvaluator in GroupByDesc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5279&quot;&gt;&lt;del&gt;HIVE-5279&lt;/del&gt;&lt;/a&gt; and I just added the annotation along with the patch but I should have fixed the javadoc also. Currently, implementing GenericUDAFResolver2 or extending AbstractGenericUDAFResolver is the standard way to implement aggregation function.&lt;/p&gt;</comment>
                            <comment id="13912696" author="lars_francke" created="Wed, 26 Feb 2014 09:35:40 +0000"  >&lt;p&gt;Adds deprecation notice and cleans up Javadoc a bit.&lt;/p&gt;

&lt;p&gt;Thanks for the hint Navis&lt;/p&gt;</comment>
                            <comment id="13912698" author="lars_francke" created="Wed, 26 Feb 2014 09:37:16 +0000"  >&lt;p&gt;I accidentally named the patch after the wrong issue but it&apos;s still correct for this one.&lt;/p&gt;</comment>
                            <comment id="13937468" author="lefty@hortonworks.com" created="Mon, 17 Mar 2014 05:13:26 +0000"  >&lt;p&gt;Trivial review comments:&lt;/p&gt;

&lt;p&gt;1.  &quot;support&quot; should be &quot;supports&quot; since UDAF is singular:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+ * Optional &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a UDAF class (by implementing these two methods, the user declares
+ * that the UDAF support partial aggregations):
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2.  Second &amp;lt;li&amp;gt; should be indented like the first one:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+ * &amp;lt;ol&amp;gt;
+ *   &amp;lt;li&amp;gt;Implement a single method called {@code evaluatePartial} that returns the PARTIAL aggregation result.
+ * {@code evaluatePartial} should never &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; {@code &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;} or an Exception will be thrown.&amp;lt;/li&amp;gt;
+ * &amp;lt;li&amp;gt;Implement a single method called {@code aggregatePartial} that takes a PARTIAL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13937599" author="lars_francke" created="Mon, 17 Mar 2014 09:40:11 +0000"  >&lt;p&gt;This new patch addresses Lefty&apos;s comments&lt;/p&gt;</comment>
                            <comment id="13939793" author="hiveqa" created="Tue, 18 Mar 2014 21:04:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635056/HIVE-6331.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635056/HIVE-6331.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5411 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1868/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1868/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1868/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1868/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635056&lt;/p&gt;</comment>
                            <comment id="13942081" author="lefty@hortonworks.com" created="Thu, 20 Mar 2014 18:17:34 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13942208" author="swarnim" created="Thu, 20 Mar 2014 20:03:04 +0000"  >&lt;p&gt;Can we not remove the statement &quot;UDAF classes are REQUIRED to inherit from this class.&quot; completely. IMHO, the statement &quot;Base class for all User-defined Aggregation Function (UDAF) classes.&quot; is good enough indication that new UDAFs are required to inherit from this class. The previous statement with the deprecation statement makes things a little confusing.&lt;/p&gt;</comment>
                            <comment id="13942926" author="lars_francke" created="Fri, 21 Mar 2014 10:02:40 +0000"  >&lt;p&gt;Incorporated latest comments&lt;/p&gt;</comment>
                            <comment id="13944641" author="hiveqa" created="Sun, 23 Mar 2014 23:41:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12635984/HIVE-6331.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12635984/HIVE-6331.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5442 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1932/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1932/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1932/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1932/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12635984&lt;/p&gt;</comment>
                            <comment id="13947102" author="xuefuz" created="Tue, 25 Mar 2014 20:34:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;lars_francke&lt;/a&gt; I&apos;m wondering if the test failures are related to your change. I guess not, but could you confirm?&lt;/p&gt;</comment>
                            <comment id="13960795" author="lars_francke" created="Fri, 4 Apr 2014 23:34:43 +0000"  >&lt;p&gt;The patch is a doc only patch and as such shouldn&apos;t affect any tests. They seem unrelated to me.&lt;/p&gt;</comment>
                            <comment id="13961568" author="xuefuz" created="Sun, 6 Apr 2014 23:26:40 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Lars.&lt;/p&gt;</comment>
                            <comment id="14210975" author="thejas" created="Thu, 13 Nov 2014 19:43:28 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12631184" name="HIVE-5279.1.patch" size="4236" author="larsfrancke" created="Wed, 26 Feb 2014 09:35:40 +0000"/>
                            <attachment id="12635056" name="HIVE-6331.2.patch" size="4417" author="larsfrancke" created="Mon, 17 Mar 2014 09:40:11 +0000"/>
                            <attachment id="12635984" name="HIVE-6331.3.patch" size="4609" author="larsfrancke" created="Fri, 21 Mar 2014 10:02:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rvg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>