<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:26:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-28855] VectorGroupByOperator computes maxHashTblMemory using incorrect configuration.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-28855</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The VectorGroupByOperator computes maxHashTblMemory using an incorrect configuration parameter, leading to inconsistencies in HashTable memory management between GroupByOperator and VectorGroupByOperator.&lt;/p&gt;

&lt;p&gt;There are two configuration properties relevant to GroupBy HashTable memory management in Hive: hive.map.aggr.hash.force.flush.memory.threshold and hive.map.aggr.hash.percentmemory.&lt;/p&gt;

&lt;p&gt;GroupByOperator flushes the HashTable when:&lt;br/&gt;
(1) The total memory usage exceeds the force flush threshold (hive.map.aggr.hash.force.flush.memory.threshold).&lt;br/&gt;
(2) The estimated size of the hash table exceeds maxHashTblMemory.&lt;/p&gt;

&lt;p&gt;VectorGroupByOperator follows a slightly different approach. It flushes the HashTable when&lt;br/&gt;
(1) GC happened after the last flush.&lt;br/&gt;
(2) The estimated size of the hash table exceeds maxHashTblMemory.&lt;/p&gt;

&lt;p&gt;The problem is that GroupByOperator computes maxHashTblMemory using hive.map.aggr.hash.percentmemory, while VectorGroupByOperator computes it using hive.map.aggr.hash.force.flush.memory.threshold. As GroupByOperator does, VectorGroupByOperator should use hive.map.aggr.hash.percentmemory when computing maxHashTblMemory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13613453">HIVE-28855</key>
            <summary>VectorGroupByOperator computes maxHashTblMemory using incorrect configuration.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="seonggon">Seonggon Namgung</assignee>
                                    <reporter username="seonggon">Seonggon Namgung</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 28 Mar 2025 11:07:26 +0000</created>
                <updated>Tue, 29 Jul 2025 14:51:14 +0000</updated>
                            <resolved>Thu, 10 Apr 2025 09:40:47 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17942418" author="okumin" created="Thu, 10 Apr 2025 09:40:47 +0000"  >&lt;p&gt;Merged. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=seonggon&quot; class=&quot;user-hover&quot; rel=&quot;seonggon&quot;&gt;seonggon&lt;/a&gt; for your contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v1xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>