<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:17:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6823] sql std auth - database authorization does not check for role ownership</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6823</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A role can own the database, but when the authorization checks are determining the privileges for a user, they are not checking if one of the roles the user belongs to is an owner of the database.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706339">HIVE-6823</key>
            <summary>sql std auth - database authorization does not check for role ownership</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas Nair</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Apr 2014 00:52:18 +0000</created>
                <updated>Thu, 3 Apr 2014 22:17:09 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 22:17:09 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13958401" author="thejas" created="Thu, 3 Apr 2014 00:55:10 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;deepesh&lt;/a&gt; -&lt;br/&gt;
Steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;As admin user adminuser,
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://localhost:10&amp;gt; create role testrole;
No rows affected (0.063 seconds)
0: jdbc:hive2://localhost:10&amp;gt; grant role testrole to user hrt_1;
No rows affected (0.07 seconds)
0: jdbc:hive2://localhost:10&amp;gt; create database testdb;
No rows affected (0.13 seconds)
0: jdbc:hive2://localhost:10&amp;gt; alter database testdb set owner role testrole;
No rows affected (0.111 seconds)
0: jdbc:hive2://localhost:10&amp;gt; desc database testdb;
+----------+----------+-----------------------------------------------------------------------+-------------+
| db_name  | comment  |                               location                                | parameters  |
+----------+----------+-----------------------------------------------------------------------+-------------+
| testdb   |          | hdfs://localhost:8020/apps/hive/warehouse/testdb.db  | testrole    |
+----------+----------+-----------------------------------------------------------------------+-------------+
1 row selected (0.038 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;As a user hrt_1 in role testrole,
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://localhost:10&amp;gt; set role testrole;
No rows affected (0.055 seconds)
0: jdbc:hive2://localhost:10&amp;gt; drop database testdb;
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied. Principal [name=hrt_1, type=USER] does not have following privileges on Object [type=DATABASE, name=testdb] : [OBJECT OWNERSHIP] (state=42000,code=40000)
0: jdbc:hive2://localhost:10&amp;gt; use testdb;
No rows affected (0.032 seconds)
0: jdbc:hive2://localhost:10&amp;gt; create table foobar (foo string, bar string);
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied. Principal [name=hrt_1, type=USER] does not have following privileges on Object [type=DATABASE, name=testdb] : [OBJECT OWNERSHIP] (state=42000,code=40000)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I see that commands work when i set ownership to user hrt_1 directly. I expect to see the same behavior with role ownership as well.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13958526" author="ashutoshc" created="Thu, 3 Apr 2014 05:18:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13959151" author="thejas" created="Thu, 3 Apr 2014 20:13:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;rhbutani&lt;/a&gt; This is an important security fix, which I think we should include in 0.13.&lt;/p&gt;</comment>
                            <comment id="13959208" author="rhbutani" created="Thu, 3 Apr 2014 20:56:34 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13959318" author="thejas" created="Thu, 3 Apr 2014 22:11:55 +0000"  >&lt;p&gt;Ran tests locally and they passed.&lt;/p&gt;</comment>
                            <comment id="13959327" author="thejas" created="Thu, 3 Apr 2014 22:17:09 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12638389" name="HIVE-6823.1.patch" size="7954" author="thejas" created="Thu, 3 Apr 2014 01:24:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u9nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>