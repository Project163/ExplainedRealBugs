<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:59:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2182] Avoid null pointer exception when executing UDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2182</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For using UDF&apos;s executed following steps&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;add jar /home/udf/udf.jar;
create temporary function grade as &apos;udf.Grade&apos;;
select m.userid,m.name,grade(m.maths,m.physics,m.chemistry) from marks m;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But from the above steps if we miss the first step (add jar) and execute remaining steps&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create temporary function grade as &apos;udf.Grade&apos;;
select m.userid,m.name,grade(m.maths,m.physics,m.chemistry) from marks m;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In tasktracker it is throwing this exception&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.RuntimeException: Map operator initialization failed
		 at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:121)
		 ... 18 more
Caused by: java.lang.RuntimeException: java.lang.NullPointerException
		 at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:115)
		 at org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.initialize(GenericUDFBridge.java:126)
		 at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.initialize(ExprNodeGenericFuncEvaluator.java:133)
		 at org.apache.hadoop.hive.ql.exec.Operator.initEvaluators(Operator.java:878)
		 at org.apache.hadoop.hive.ql.exec.Operator.initEvaluatorsAndReturnStruct(Operator.java:904)
		 at org.apache.hadoop.hive.ql.exec.SelectOperator.initializeOp(SelectOperator.java:60)
		 at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
		 at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:433)
		 at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:389)
		 at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:133)
		 at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
		 at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:444)
		 at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
		 at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:98)
		 ... 18 more
Caused by: java.lang.NullPointerException
		 at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:768)
		 at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:107)
		 ... 31 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Instead of null pointer exception it should throw meaning full exception&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12508273">HIVE-2182</key>
            <summary>Avoid null pointer exception when executing UDF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 May 2011 06:17:08 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:52 +0000</updated>
                            <resolved>Wed, 14 Sep 2011 17:13:27 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13043041" author="he yongqiang" created="Thu, 2 Jun 2011 20:55:25 +0000"  >&lt;p&gt;Instead of throwing the exception at runtime after starting the job, can we also do some pre-procssing in the client side to catch this exception? Is that easy to do?&lt;/p&gt;</comment>
                            <comment id="13043042" author="he yongqiang" created="Thu, 2 Jun 2011 20:56:18 +0000"  >&lt;p&gt;cancel this patch now, please resubmit after opening a new jira for client side processing or fix it in this jira. Thanks!&lt;/p&gt;</comment>
                            <comment id="13043356" author="chinnalalam" created="Fri, 3 Jun 2011 13:44:01 +0000"  >&lt;p&gt;Hi He Yongqiang,&lt;br/&gt;
    I feel this validation is not possible on client side because the client side validation cannot&lt;br/&gt;
 ensure the jar presence in task tracker classpath.&lt;/p&gt;</comment>
                            <comment id="13092781" author="chinnalalam" created="Mon, 29 Aug 2011 11:45:41 +0000"  >&lt;p&gt;client side validation we can do while creating the temporary function this scenario is already take care in the existing functionality. While creating temporary function it is throwing exception if the UDF jar not in class path(Hive Class path). If the requested jar in client class path and not in the executed MR class path this issue will come example if the UDF jar maintained in the HIVE/LIB and not executed &quot;add jar&quot; or not updated &quot;hive.aux.jars.path&quot; this issue will come.&lt;/p&gt;</comment>
                            <comment id="13094195" author="jvs" created="Tue, 30 Aug 2011 23:52:20 +0000"  >&lt;p&gt;I agree with Chinna that in general we don&apos;t know whether the client-side class availability matches the MR availability, so this extra check is useful.&lt;/p&gt;

&lt;p&gt;However, can we improve the diagnostics?  At a minimum, we want to know what class is missing; if we can also say which .jar we saw it in on the client-side, that would be great.&lt;/p&gt;

&lt;p&gt;Code format nitpick:  put opening curly brace on same line as if keyword.&lt;/p&gt;</comment>
                            <comment id="13100117" author="chinnalalam" created="Thu, 8 Sep 2011 07:13:22 +0000"  >&lt;p&gt;While de serializing the udfClass variable is becoming null because the class is not present in MR classpath.&lt;br/&gt;
In user logs it is throwing the following exception&lt;/p&gt;

&lt;p&gt;java.lang.ClassNotFoundException: com.samples.hive.udf.Grade&lt;br/&gt;
Continuing ...&lt;/p&gt;

&lt;p&gt;So i have introduced one new variable to hold the udf class name like &quot;udfClassName&quot;.&lt;/p&gt;

&lt;p&gt;Now in the exception the class name will be displayed in the following way&lt;/p&gt;


&lt;p&gt;Caused by: org.apache.hadoop.hive.ql.exec.UDFArgumentException: The UDF Implementation class &apos;com.samples.hive.udf.Grade&apos; is Not in class path&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.initialize(GenericUDFBridge.java:141)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator.initialize(ExprNodeGenericFuncEvaluator.java:133)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initEvaluators(Operator.java:896)&lt;/p&gt;</comment>
                            <comment id="13100555" author="jvs" created="Thu, 8 Sep 2011 18:38:56 +0000"  >&lt;p&gt;Can you add the test case back in?  Also create a review board request?&lt;/p&gt;</comment>
                            <comment id="13100631" author="jiraposter@reviews.apache.org" created="Thu, 8 Sep 2011 19:40:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1759/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while executing UDF if the implementation jar is not present in MR class path it is throwing nullpointer exception instead of throwing nullpointer exception throwing meaning full exception with the required details.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java 1166865 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/udfnull.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/udfnull.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1759/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13100820" author="jvs" created="Fri, 9 Sep 2011 00:34:54 +0000"  >&lt;p&gt;I am getting the failure below when running the new test with latest trunk.  Did you update the .q.out?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] diff -a -I file: -I pfile: -I hdfs: -I /tmp/ -I invalidscheme: -I lastUpdateTime -I lastAccessTime -I [Oo]wner -I CreateTime -I LastAccessTime -I Location -I LOCATION &apos; -I transient_lastDdlTime -I last_modified_ -I java.lang.RuntimeException -I at org -I at sun -I at java -I at junit -I Caused by: -I LOCK_QUERYID: -I grantTime -I [.][.][.] [0-9]* more -I job_[0-9]*_[0-9]* -I USING &apos;java -cp /data/users/jsichi/open/test-trunk/build/ql/test/logs/clientnegative/udfnull.q.out /data/users/jsichi/open/test-trunk/ql/src/test/results/clientnegative/udfnull.q.out
    [junit] 8,18c8
    [junit] &amp;lt; PREHOOK: Output: file:/tmp/jsichi/hive_2011-09-08_16-48-29_269_6749666372366482183/-mr-10000
    [junit] &amp;lt; Execution failed with exit status: 2
    [junit] &amp;lt; Obtaining error information
    [junit] &amp;lt; 
    [junit] &amp;lt; Task failed!
    [junit] &amp;lt; Task ID:
    [junit] &amp;lt;   Stage-1
    [junit] &amp;lt; 
    [junit] &amp;lt; Logs:
    [junit] &amp;lt; 
    [junit] &amp;lt; /data/users/jsichi/open/test-trunk/build/ql/tmp//hive.log
    [junit] ---
    [junit] &amp;gt; PREHOOK: Output: file:/tmp/root/hive_2011-05-25_10-05-57_126_4632621650656424226/-mr-10000
    [junit] Exception: Client execution results failed with error code = 1
    [junit] See build/ql/tmp/hive.log, or try &quot;ant test ... -Dtest.silent=false&quot; to get more logs.
    [junit] Cleaning up TestNegativeCliDriver
    [junit] Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 5.496 sec
    [junit] Test org.apache.hadoop.hive.cli.TestNegativeCliDriver FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13101396" author="chinnalalam" created="Fri, 9 Sep 2011 18:06:07 +0000"  >&lt;p&gt;Sorry...Now updated the q.out file against the latest trunk&lt;/p&gt;</comment>
                            <comment id="13101405" author="jiraposter@reviews.apache.org" created="Fri, 9 Sep 2011 18:09:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1759/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-09 18:08:07.528830)&lt;/p&gt;


&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while executing UDF if the implementation jar is not present in MR class path it is throwing nullpointer exception instead of throwing nullpointer exception throwing meaning full exception with the required details.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java 1167000 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/udfnull.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/udfnull.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1759/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13101499" author="jvs" created="Fri, 9 Sep 2011 19:25:34 +0000"  >&lt;p&gt;It&apos;s still failing for me with the latest patch.  Did you use -Doverwrite=true to regenerate the log?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] diff -a -I file: -I pfile: -I hdfs: -I /tmp/ -I invalidscheme: -I lastUpdateTime -I lastAccessTime -I [Oo]wner -I CreateTime -I LastAccessTime -I Location -I LOCATION &apos; -I transient_lastDdlTime -I last_modified_ -I java.lang.RuntimeException -I at org -I at sun -I at java -I at junit -I Caused by: -I LOCK_QUERYID: -I grantTime -I [.][.][.] [0-9]* more -I job_[0-9]*_[0-9]* -I USING &apos;java -cp /data/users/jsichi/open/test-trunk/build/ql/test/logs/clientnegative/udfnull.q.out /data/users/jsichi/open/test-trunk/ql/src/test/results/clientnegative/udfnull.q.out
    [junit] 18c18,27
    [junit] &amp;lt; /data/users/jsichi/open/test-trunk/build/ql/tmp//hive.log
    [junit] ---
    [junit] &amp;gt; /home/opensrc/9thsep/build/ql/tmp//hive.log
    [junit] &amp;gt; FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask
    [junit] &amp;gt; PREHOOK: query: CREATE TEMPORARY FUNCTION example_arraysum AS &apos;org.apache.hadoop.hive.contrib.udf.example.UDFExampleArraySum&apos;
    [junit] &amp;gt; PREHOOK: type: CREATEFUNCTION
    [junit] &amp;gt; POSTHOOK: query: CREATE TEMPORARY FUNCTION example_arraysum AS &apos;org.apache.hadoop.hive.contrib.udf.example.UDFExampleArraySum&apos;
    [junit] &amp;gt; POSTHOOK: type: CREATEFUNCTION
    [junit] &amp;gt; PREHOOK: query: SELECT example_arraysum(lint)FROM src_thrift
    [junit] &amp;gt; PREHOOK: type: QUERY
    [junit] &amp;gt; PREHOOK: Input: default@src_thrift
    [junit] &amp;gt; PREHOOK: Output: file:/tmp/root/hive_2011-05-25_10-05-57_126_4632621650656424226/-mr-10000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13101501" author="jvs" created="Fri, 9 Sep 2011 19:27:45 +0000"  >&lt;p&gt;Oops, sorry, ignore comment above...I misapplied the latest patch.&lt;/p&gt;</comment>
                            <comment id="13101508" author="jvs" created="Fri, 9 Sep 2011 19:41:33 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13102808" author="chinnalalam" created="Mon, 12 Sep 2011 17:15:36 +0000"  >&lt;p&gt;Sorry...TestParse.java is failing because of the plan xmls. In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;.4 updated with the latest plan xmls. Pls check this patch.&lt;/p&gt;</comment>
                            <comment id="13102821" author="jiraposter@reviews.apache.org" created="Mon, 12 Sep 2011 17:28:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1759/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-12 17:27:12.064230)&lt;/p&gt;


&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while executing UDF if the implementation jar is not present in MR class path it is throwing nullpointer exception instead of throwing nullpointer exception throwing meaning full exception with the required details.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java 1169710 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/udfnull.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/udfnull.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/cast1.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby1.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby2.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby3.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby4.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby5.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby6.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/input20.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/input8.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/join2.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample1.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample2.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample3.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample4.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample5.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample6.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample7.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf1.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf4.q.xml 1169710 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf6.q.xml 1169710 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1759/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13102927" author="jvs" created="Mon, 12 Sep 2011 19:09:01 +0000"  >&lt;p&gt;Yeah, I hit those failures too while testing. I&apos;ll rerun with the latest patch.&lt;/p&gt;</comment>
                            <comment id="13103284" author="jvs" created="Tue, 13 Sep 2011 02:26:25 +0000"  >&lt;p&gt;I got merge conflicts trying to apply the latest patch.&lt;/p&gt;


&lt;p&gt;At revision 1170007.&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/queries/clientnegative/udfnull.q&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/clientnegative/udfnull.q.out&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/cast1.q.xml&lt;br/&gt;
Hunk #2 FAILED at 62.&lt;br/&gt;
Hunk #3 FAILED at 124.&lt;br/&gt;
Hunk #4 FAILED at 160.&lt;br/&gt;
Hunk #5 succeeded at 371 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 455 (offset 4 lines).&lt;br/&gt;
Hunk #9 succeeded at 526 (offset 4 lines).&lt;br/&gt;
Hunk #11 succeeded at 622 (offset 4 lines).&lt;br/&gt;
Hunk #13 succeeded at 1066 (offset 4 lines).&lt;br/&gt;
Hunk #15 FAILED at 1131.&lt;br/&gt;
Hunk #16 FAILED at 1193.&lt;br/&gt;
5 out of 16 hunks FAILED &amp;#8211; saving rejects to file ql/src/test/results/compiler/plan/cast1.q.xml.rej&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby1.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby2.q.xml&lt;br/&gt;
Hunk #13 succeeded at 1408 (offset 4 lines).&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby3.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby4.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby5.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/groupby6.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/input20.q.xml&lt;br/&gt;
Hunk #1 FAILED at 1.&lt;br/&gt;
Hunk #2 FAILED at 62.&lt;br/&gt;
Hunk #3 FAILED at 124.&lt;br/&gt;
Hunk #6 FAILED at 850.&lt;br/&gt;
Hunk #7 FAILED at 862.&lt;br/&gt;
Hunk #8 FAILED at 919.&lt;br/&gt;
Hunk #9 FAILED at 981.&lt;br/&gt;
Hunk #10 FAILED at 1015.&lt;br/&gt;
8 out of 10 hunks FAILED &amp;#8211; saving rejects to file ql/src/test/results/compiler/plan/input20.q.xml.rej&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/input8.q.xml&lt;br/&gt;
Hunk #1 FAILED at 1.&lt;br/&gt;
Hunk #2 FAILED at 62.&lt;br/&gt;
Hunk #3 FAILED at 124.&lt;br/&gt;
Hunk #4 FAILED at 156.&lt;br/&gt;
Hunk #5 succeeded at 314 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 403 (offset 4 lines).&lt;br/&gt;
Hunk #8 FAILED at 641.&lt;br/&gt;
Hunk #9 FAILED at 653.&lt;br/&gt;
Hunk #10 FAILED at 710.&lt;br/&gt;
Hunk #11 FAILED at 772.&lt;br/&gt;
8 out of 11 hunks FAILED &amp;#8211; saving rejects to file ql/src/test/results/compiler/plan/input8.q.xml.rej&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/join2.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample1.q.xml&lt;br/&gt;
Hunk #5 succeeded at 555 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 639 (offset 4 lines).&lt;br/&gt;
Hunk #9 succeeded at 885 (offset 4 lines).&lt;br/&gt;
Hunk #11 succeeded at 1021 (offset 4 lines).&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample2.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample3.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample4.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample5.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample6.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/sample7.q.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/udf1.q.xml&lt;br/&gt;
Hunk #5 succeeded at 510 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 606 (offset 4 lines).&lt;br/&gt;
Hunk #9 succeeded at 702 (offset 4 lines).&lt;br/&gt;
Hunk #11 succeeded at 798 (offset 4 lines).&lt;br/&gt;
Hunk #13 succeeded at 894 (offset 4 lines).&lt;br/&gt;
Hunk #15 succeeded at 997 (offset 4 lines).&lt;br/&gt;
Hunk #17 succeeded at 1093 (offset 4 lines).&lt;br/&gt;
Hunk #19 succeeded at 1203 (offset 4 lines).&lt;br/&gt;
Hunk #21 succeeded at 1306 (offset 4 lines).&lt;br/&gt;
Hunk #23 succeeded at 1904 (offset 4 lines).&lt;br/&gt;
Hunk #25 succeeded at 2023 (offset 4 lines).&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/udf4.q.xml&lt;br/&gt;
Hunk #5 succeeded at 523 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 585 (offset 4 lines).&lt;br/&gt;
Hunk #9 succeeded at 662 (offset 4 lines).&lt;br/&gt;
Hunk #11 succeeded at 717 (offset 4 lines).&lt;br/&gt;
Hunk #13 succeeded at 794 (offset 4 lines).&lt;br/&gt;
Hunk #15 succeeded at 849 (offset 4 lines).&lt;br/&gt;
Hunk #17 succeeded at 919 (offset 4 lines).&lt;br/&gt;
Hunk #19 succeeded at 996 (offset 4 lines).&lt;br/&gt;
Hunk #21 succeeded at 1051 (offset 4 lines).&lt;br/&gt;
Hunk #23 succeeded at 1126 (offset 4 lines).&lt;br/&gt;
Hunk #25 succeeded at 1212 (offset 4 lines).&lt;br/&gt;
Hunk #27 succeeded at 1296 (offset 4 lines).&lt;br/&gt;
Hunk #29 succeeded at 1846 (offset 4 lines).&lt;br/&gt;
Hunk #31 succeeded at 1965 (offset 4 lines).&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/compiler/plan/udf6.q.xml&lt;br/&gt;
Hunk #5 succeeded at 357 (offset 4 lines).&lt;br/&gt;
Hunk #7 succeeded at 584 (offset 4 lines).&lt;br/&gt;
Hunk #9 succeeded at 703 (offset 4 lines).&lt;/p&gt;</comment>
                            <comment id="13103803" author="jiraposter@reviews.apache.org" created="Tue, 13 Sep 2011 17:33:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1759/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-13 17:32:55.124065)&lt;/p&gt;


&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch rebased on trunk&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;while executing UDF if the implementation jar is not present in MR class path it is throwing nullpointer exception instead of throwing nullpointer exception throwing meaning full exception with the required details.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java 1170044 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/udfnull.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/udfnull.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/cast1.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby1.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby2.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby3.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby4.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby5.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/groupby6.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/input20.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/input8.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/join2.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample1.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample2.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample3.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample4.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample5.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample6.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/sample7.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf1.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf4.q.xml 1170044 &lt;br/&gt;
  trunk/ql/src/test/results/compiler/plan/udf6.q.xml 1170044 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1759/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1759/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13104674" author="jvs" created="Wed, 14 Sep 2011 17:13:27 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Chinna!&lt;/p&gt;</comment>
                            <comment id="13105025" author="jvs" created="Thu, 15 Sep 2011 00:06:12 +0000"  >&lt;p&gt;Oops, looks like I typed in the wrong JIRA issue number in the commit message (I typed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt; instead of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2182&quot; title=&quot;Avoid null pointer exception when executing UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2182&quot;&gt;&lt;del&gt;HIVE-2182&lt;/del&gt;&lt;/a&gt;), so the Hudson commit message went there instead.  I&apos;ve fixed it in the svn log though.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493556" name="HIVE-2182.1.patch" size="1497" author="chinnalalam" created="Thu, 8 Sep 2011 07:15:35 +0000"/>
                            <attachment id="12493649" name="HIVE-2182.2.patch" size="2879" author="chinnalalam" created="Thu, 8 Sep 2011 19:33:00 +0000"/>
                            <attachment id="12493829" name="HIVE-2182.3.patch" size="3030" author="chinnalalam" created="Fri, 9 Sep 2011 18:03:10 +0000"/>
                            <attachment id="12494066" name="HIVE-2182.4.patch" size="200653" author="chinnalalam" created="Mon, 12 Sep 2011 17:05:55 +0000"/>
                            <attachment id="12494278" name="HIVE-2182.5.patch" size="203039" author="chinnalalam" created="Tue, 13 Sep 2011 17:32:37 +0000"/>
                            <attachment id="12480953" name="HIVE-2182.patch" size="2678" author="chinnalalam" created="Tue, 31 May 2011 15:22:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0litj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>