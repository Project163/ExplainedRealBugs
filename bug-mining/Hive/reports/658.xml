<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:58:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2358] JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2358</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;My patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1631&quot; title=&quot;JDBC driver returns wrong precision, scale, or column size for some data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1631&quot;&gt;&lt;del&gt;HIVE-1631&lt;/del&gt;&lt;/a&gt; did not ensure the following (from comment on 1631):&lt;br/&gt;
-------------&lt;br/&gt;
Mythili Gopalakrishnan added a comment - 08/Aug/11 08:42&lt;/p&gt;

&lt;p&gt;Just tested this fix and does NOT work correctly. Here are my findings on a FLOAT column&lt;/p&gt;

&lt;p&gt;Without Patch on a FLOAT Column&lt;br/&gt;
--------------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 12&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 0&lt;br/&gt;
ResultSetMetaData.getScale() returns 0&lt;/p&gt;

&lt;p&gt;With Patch on a FLOAT Column&lt;br/&gt;
----------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 24&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 7&lt;br/&gt;
ResultSetMetaData.getScale() returns 7&lt;/p&gt;

&lt;p&gt;Also both DatabaseMetadata and ResultSetMetaData must return the same information for Precision and Scale for FLOAT,DOUBLE types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518249">HIVE-2358</key>
            <summary>JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick D. Hunt</assignee>
                                    <reporter username="phunt">Patrick D. Hunt</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2011 21:43:51 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:45 +0000</updated>
                            <resolved>Mon, 15 Aug 2011 07:23:48 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13081225" author="phunt" created="Mon, 8 Aug 2011 21:45:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; title=&quot;JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2358&quot;&gt;&lt;del&gt;HIVE-2358&lt;/del&gt;&lt;/a&gt; addresses a problem identified in patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1631&quot; title=&quot;JDBC driver returns wrong precision, scale, or column size for some data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1631&quot;&gt;&lt;del&gt;HIVE-1631&lt;/del&gt;&lt;/a&gt; (post commit).&lt;/p&gt;</comment>
                            <comment id="13081234" author="phunt" created="Mon, 8 Aug 2011 21:58:37 +0000"  >&lt;p&gt;This patch fixes the problem identified by Mythili and also adds testing to verify.&lt;/p&gt;</comment>
                            <comment id="13081610" author="mgk.424@gmail.com" created="Tue, 9 Aug 2011 13:17:31 +0000"  >&lt;p&gt;Tested this patch and here are my results.&lt;/p&gt;

&lt;p&gt;With Patch  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; title=&quot;JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2358&quot;&gt;&lt;del&gt;HIVE-2358&lt;/del&gt;&lt;/a&gt; on a FLOAT Column&lt;br/&gt;
---------------------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 7&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 7&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 7&lt;br/&gt;
ResultSetMetaData.getScale() returns 7&lt;/p&gt;

&lt;p&gt;With Patch  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; title=&quot;JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2358&quot;&gt;&lt;del&gt;HIVE-2358&lt;/del&gt;&lt;/a&gt; on a DOUBLE Column&lt;br/&gt;
---------------------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 15&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 15&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 15&lt;br/&gt;
ResultSetMetaData.getScale() returns 15&lt;/p&gt;

&lt;p&gt;--Mythili&lt;/p&gt;</comment>
                            <comment id="13081744" author="phunt" created="Tue, 9 Aug 2011 16:33:03 +0000"  >&lt;p&gt;Thanks Mythili, based on your previous comment you consider this valid output? (i.e. consistent). Do the values themselves seem reasonable to you? Are you ok for this patch to get committed?&lt;/p&gt;</comment>
                            <comment id="13082135" author="mgk.424@gmail.com" created="Wed, 10 Aug 2011 04:58:15 +0000"  >&lt;p&gt;Yes Patrick, I am OK for this patch to get committed. &lt;/p&gt;</comment>
                            <comment id="13082697" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 21:41:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1459/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1459/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;make the returned values consistent.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; title=&quot;JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2358&quot;&gt;&lt;del&gt;HIVE-2358&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2358&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java 2aa7727 &lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcColumn.java 43cc2a3 &lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java d72cf43 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1459/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1459/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added new unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Patrick&lt;/p&gt;
</comment>
                            <comment id="13084946" author="cwsteinbach" created="Mon, 15 Aug 2011 02:38:40 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13084980" author="cwsteinbach" created="Mon, 15 Aug 2011 07:23:48 +0000"  >&lt;p&gt;Committed to trunk. Thanks Patrick!&lt;/p&gt;</comment>
                            <comment id="13085044" author="hudson" created="Mon, 15 Aug 2011 11:55:40 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #896 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/896/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/896/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2358&quot; title=&quot;JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2358&quot;&gt;&lt;del&gt;HIVE-2358&lt;/del&gt;&lt;/a&gt;. JDBC DatabaseMetaData and ResultSetMetaData need to match for particular types (Patrick Hunt via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157728&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12473884">HIVE-1631</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12489754" name="HIVE-2358.patch" size="16612" author="phunt" created="Mon, 8 Aug 2011 21:58:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05il3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>