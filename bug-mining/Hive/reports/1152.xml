<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3820] Consider creating a literal like &quot;D&quot; or &quot;BD&quot; for representing Decimal type constants</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3820</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt; gets committed, users are going to see this behavior:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(3.14 as decimal) from decimal_3 limit 1;
3.140000000000000124344978758017532527446746826171875
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That&apos;s intuitively incorrect but is the case because 3.14 (double) is being converted to BigDecimal because of which there is a precision mismatch.&lt;/p&gt;

&lt;p&gt;We should consider creating a new literal for expressing constants of Decimal type as Gunther suggested in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12624560">HIVE-3820</key>
            <summary>Consider creating a literal like &quot;D&quot; or &quot;BD&quot; for representing Decimal type constants</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Dec 2012 01:20:22 +0000</created>
                <updated>Thu, 16 May 2013 21:10:21 +0000</updated>
                            <resolved>Thu, 21 Mar 2013 13:21:33 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13584117" author="phabricator@reviews.facebook.net" created="Fri, 22 Feb 2013 09:32:12 +0000"  >&lt;p&gt;hagleitn requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3820&quot; title=&quot;Consider creating a literal like &amp;quot;D&amp;quot; or &amp;quot;BD&amp;quot; for representing Decimal type constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3820&quot;&gt;&lt;del&gt;HIVE-3820&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Consider creating a literal like &quot;D&quot; or &quot;BD&quot; for representing Decimal type constants&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3820&quot; title=&quot;Consider creating a literal like &amp;quot;D&amp;quot; or &amp;quot;BD&amp;quot; for representing Decimal type constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3820&quot;&gt;&lt;del&gt;HIVE-3820&lt;/del&gt;&lt;/a&gt;: Decimal literals&lt;/p&gt;

&lt;p&gt;When the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt; gets committed, users are going to see this behavior:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; select cast(3.14 as decimal) from decimal_3 limit 1;&lt;br/&gt;
3.140000000000000124344978758017532527446746826171875&lt;/p&gt;

&lt;p&gt;That&apos;s intuitively incorrect but is the case because 3.14 (double) is being converted to BigDecimal because of which there is a precision mismatch.&lt;/p&gt;

&lt;p&gt;We should consider creating a new literal for expressing constants of Decimal type as Gunther suggested in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8823&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D8823&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/literal_decimal.q&lt;br/&gt;
  ql/src/test/results/clientpositive/literal_decimal.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaBigDecimalObjectInspector.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21441/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/21441/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, hagleitn&lt;/p&gt;</comment>
                            <comment id="13600334" author="ashutoshc" created="Tue, 12 Mar 2013 18:56:29 +0000"  >&lt;p&gt;Patch looks good. You have chosen D. I wonder if other systems allow d or BD as well. Do you know if sql standard says anything for it?&lt;/p&gt;</comment>
                            <comment id="13601983" author="hagleitn" created="Thu, 14 Mar 2013 02:35:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;: As far as I know there&apos;s no SQL standard for it. The other numeric types also do not seem to follow any standard. I picked D because it doesn&apos;t clash with other literals and seems natural for &quot;decimal&quot;.&lt;/p&gt;</comment>
                            <comment id="13606301" author="ashutoshc" created="Tue, 19 Mar 2013 13:02:42 +0000"  >&lt;p&gt;Since we also have Double type. I wonder folks will confuse D for Double. Feels like BD will avoid that potential confusion. What do you think?&lt;/p&gt;</comment>
                            <comment id="13607059" author="hagleitn" created="Tue, 19 Mar 2013 23:57:01 +0000"  >&lt;p&gt;.2 has BD as the ending for decimal literals.&lt;/p&gt;</comment>
                            <comment id="13607061" author="hagleitn" created="Tue, 19 Mar 2013 23:58:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;bd is probably a little less confusing. I&apos;ve updated the patch accordingly.&lt;/p&gt;</comment>
                            <comment id="13607319" author="navis" created="Wed, 20 Mar 2013 05:59:22 +0000"  >&lt;p&gt;I&apos;ve abandoned &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt; but still believe literal float/double type would be useful. Isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="13607393" author="hagleitn" created="Wed, 20 Mar 2013 08:30:53 +0000"  >&lt;p&gt;In the integer world we have literals for all int types except integer itself (which is the default int type). Double/float could follow the same model: Double is the default, little need to have a special literal, but for float it makes sense to me. &lt;/p&gt;

&lt;p&gt;Decimal is a special case - since numeric values default to double a literal is necessary to separate from that type.&lt;/p&gt;

&lt;p&gt;Glad you pointed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt; out, it does validate Ashutosh&apos; thinking and makes another case for BD instead of D.&lt;/p&gt;</comment>
                            <comment id="13608294" author="ashutoshc" created="Wed, 20 Mar 2013 21:59:32 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="13608912" author="ashutoshc" created="Thu, 21 Mar 2013 13:21:33 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13609941" author="hudson" created="Fri, 22 Mar 2013 05:05:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2026 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2026/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2026/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3820&quot; title=&quot;Consider creating a literal like &amp;quot;D&amp;quot; or &amp;quot;BD&amp;quot; for representing Decimal type constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3820&quot;&gt;&lt;del&gt;HIVE-3820&lt;/del&gt;&lt;/a&gt; Consider creating a literal like D or BD for representing Decimal type constants (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1459298)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459298&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/literal_decimal.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/literal_decimal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaBigDecimalObjectInspector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623080" author="hudson" created="Thu, 4 Apr 2013 23:40:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3820&quot; title=&quot;Consider creating a literal like &amp;quot;D&amp;quot; or &amp;quot;BD&amp;quot; for representing Decimal type constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3820&quot;&gt;&lt;del&gt;HIVE-3820&lt;/del&gt;&lt;/a&gt; Consider creating a literal like D or BD for representing Decimal type constants (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1459298)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459298&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/literal_decimal.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/literal_decimal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaBigDecimalObjectInspector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12537384">HIVE-2693</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570450" name="HIVE-3820.1.patch" size="7273" author="hagleitn" created="Fri, 22 Feb 2013 09:31:44 +0000"/>
                            <attachment id="12574451" name="HIVE-3820.2.patch" size="7341" author="hagleitn" created="Tue, 19 Mar 2013 23:57:01 +0000"/>
                            <attachment id="12570451" name="HIVE-3820.D8823.1.patch" size="6754" author="phabricator@reviews.facebook.net" created="Fri, 22 Feb 2013 09:32:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>300381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i167kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>