<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:50:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-127] fetch task does not pass the job to the serde in initialize</title>
                <link>https://issues.apache.org/jira/browse/HIVE-127</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Fetch task passes a null job to the serde during initialize - it should not assume that the serde does not need the job.&lt;br/&gt;
This assumption is valid for MetadataTypedColumnSetSerde, but need not be valid always&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410105">HIVE-127</key>
            <summary>fetch task does not pass the job to the serde in initialize</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2008 20:35:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:33 +0000</updated>
                            <resolved>Mon, 8 Dec 2008 22:31:28 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12654486" author="namit" created="Mon, 8 Dec 2008 18:02:53 +0000"  >

&lt;p&gt;causes null pointer exception when the serde of the table tries to use the conf.&lt;br/&gt;
Mostly, we use MetadataColumnTypedSerde which does not use it - so things work fine.&lt;/p&gt;

&lt;p&gt;But, in case of optimizations (no mapreduce job) - select * from context where partitioning column conditions only&lt;/p&gt;

&lt;p&gt;context serde uses conf and dies&lt;/p&gt;</comment>
                            <comment id="12654527" author="rsm" created="Mon, 8 Dec 2008 19:17:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Accepting for now.&lt;/p&gt;

&lt;p&gt;In general, it seems to be a bad idea to provide a jobconf to the serde. We are already passing a Properties object which is arbitrary key-value pairs. If there are parameters in the jobconf required by the serde, they should be extracted from the jobconf and then inserted into the Properties. This will make code flow much more easy to understand. Now, we are passing an opaque object (jobconf) with arbitrary key-value pairs which can be set anywhere in the code. Can you file another jira to remove jobconf from the SerDe interface?&lt;/p&gt;</comment>
                            <comment id="12654535" author="namit" created="Mon, 8 Dec 2008 19:31:44 +0000"  >&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO mapred.TaskRunner: Task &apos;attempt_local_0001_m_000000_0&apos; done.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO thrift.TBinarySortableProtocol: Sort order is &quot;&quot;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO thrift.TBinarySortableProtocol: Sort order is &quot;&quot;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO mapred.Merger: Merging 1 sorted segments&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO mapred.Merger: Down to the last merge-pass, with 1 segments left of total size: 24 bytes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.GroupByOperator: Initializing Self&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.GroupByOperator: Initializing children:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.SelectOperator: Initializing Self&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.SelectOperator: Initializing children:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.FileSinkOperator: Initializing Self&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.SelectOperator: Initialization Done&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:39 INFO exec.GroupByOperator: Initialization Done&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.TaskRunner: Task:attempt_local_0001_r_000000_0 is done. And is in the process of commiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.LocalJobRunner: &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.TaskRunner: Task attempt_local_0001_r_000000_0 is allowed to commit now&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.FileOutputCommitter: Saved output of task &apos;attempt_local_0001_r_000000_0&apos; to &lt;a href=&quot;file:/tmp/hive-njain1339773828&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/tmp/hive-njain1339773828&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.LocalJobRunner: reduce &amp;gt; reduce&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO mapred.TaskRunner: Task &apos;attempt_local_0001_r_000000_0&apos; done.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO exec.ExecDriver:  map = 100%,  reduce =100%&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/08 11:27:40 INFO exec.ExecDriver: Ended Job = job_local_0001&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; ------------- ---------------- ---------------&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testExecute took 12.928 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testMetastore took 0.207 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testFetch took 8.076 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Testcase: testDynamicSerde took 8.464 sec&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 16 minutes 17 seconds&lt;/p&gt;


&lt;p&gt;the tests passed successfully&lt;/p&gt;</comment>
                            <comment id="12654579" author="zshao" created="Mon, 8 Dec 2008 21:29:18 +0000"  >&lt;p&gt;Agree with Raghu on this.&lt;/p&gt;

&lt;p&gt;The jobconf is a legacy thing from the first version of serde. It was not changed when migrated to serde2 mainly because we had too many other issues to deal with at that moment.&lt;/p&gt;

&lt;p&gt;We should get rid of jobconf to make the serde interface cleaner.&lt;/p&gt;</comment>
                            <comment id="12654610" author="zshao" created="Mon, 8 Dec 2008 22:31:14 +0000"  >&lt;p&gt;Committed revision 724517.&lt;/p&gt;</comment>
                            <comment id="12654611" author="zshao" created="Mon, 8 Dec 2008 22:31:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-127&quot; title=&quot;fetch task does not pass the job to the serde in initialize&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-127&quot;&gt;&lt;del&gt;HIVE-127&lt;/del&gt;&lt;/a&gt;. Fetch Task to pass the jobconf to SerDe. (Namit through zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395584" name="patch-127.txt" size="1134" author="namit" created="Mon, 8 Dec 2008 19:12:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l80f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>