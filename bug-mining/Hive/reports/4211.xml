<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:40:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-12788] Setting hive.optimize.union.remove to TRUE will break UNION ALL with aggregate functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12788</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See the test case below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; create table test (a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
&lt;/span&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; insert overwrite table test values (1);
&lt;/span&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;No rows affected (0.01 seconds)

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.mapred.supports.subdirectories=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;No rows affected (0.007 seconds)

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; SELECT COUNT(1) FROM test UNION ALL SELECT COUNT(1) FROM test;
&lt;/span&gt;+----------+--+
| _u1._c0  |
+----------+--+
+----------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;UNION ALL without COUNT function will work as expected:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; select * from test UNION ALL SELECT * FROM test;
&lt;/span&gt;+--------+--+
| _u1.a  |
+--------+--+
| 1      |
| 1      |
+--------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run the same query without setting hive.mapred.supports.subdirectories and hive.optimize.union.remove to true will give correct result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; set hive.optimize.union.remove;
&lt;/span&gt;+-----------------------------------+--+
|                set                |
+-----------------------------------+--+
| hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;  |
+-----------------------------------+--+

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;gt; SELECT COUNT(1) FROM test UNION ALL SELECT COUNT(1) FROM test;
&lt;/span&gt;+----------+--+
| _u1._c0  |
+----------+--+
| 1        |
| 1        |
+----------+--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12928000">HIVE-12788</key>
            <summary>Setting hive.optimize.union.remove to TRUE will break UNION ALL with aggregate functions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="ericlin">Eric Lin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 11:19:18 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:32 +0000</updated>
                            <resolved>Wed, 13 Jan 2016 16:09:56 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15086764" author="ctang.ma" created="Thu, 7 Jan 2016 03:58:02 +0000"  >&lt;p&gt;1. When hive.compute.query.using.stats is enabled, the union all with aggregate function with union.remove optimization only returns one row, which I think is due to an issue in StatsOptimizator and I am working on now.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive&amp;gt; Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample02 union all Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample01;
OK
723
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. When hive.compute.query.using.stats is disabled, you have to set mapred.input.dir.recursive=true in order to make hive.optimize.union.remove work. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.optimize.union.remove=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set mapred.input.dir.recursive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive&amp;gt; Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample02 union all Select count(*) as scount from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.sample01;
WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; versions. Consider using a different execution engine (i.e. tez, spark) or using Hive 1.X releases.
Query ID = ctang_20160106151655_c0eb9943-2963-4162-b9f4-c964005bf1a3
Total jobs = 2
Launching Job 1 out of 2
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapreduce.job.reduces=&amp;lt;number&amp;gt;
Job running in-process (local Hadoop)
2016-01-06 22:47:52,677 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_local51783692_0010
Launching Job 2 out of 2
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapreduce.job.reduces=&amp;lt;number&amp;gt;
Job running in-process (local Hadoop)
2016-01-06 22:47:55,278 Stage-2 map = 100%,  reduce = 100%
Ended Job = job_local1194656206_0011
MapReduce Jobs Launched: 
Stage-Stage-1:  HDFS Read: 0 HDFS Write: 0 SUCCESS
Stage-Stage-2:  HDFS Read: 0 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 0 msec
OK
823
723
Time taken: 8.339 seconds, Fetched: 2 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. With union remove optimization disabled, union all with aggregation function always works regardless StatsOptimization is enabled or not since the StatsOptimization is not applicable.&lt;/p&gt;</comment>
                            <comment id="15089796" author="ctang.ma" created="Fri, 8 Jan 2016 19:38:22 +0000"  >&lt;p&gt;The patch adds StatsOptimizator support to union with aggregate function.&lt;/p&gt;</comment>
                            <comment id="15089817" author="ctang.ma" created="Fri, 8 Jan 2016 19:45:11 +0000"  >&lt;p&gt;Patch has been uploaded to &lt;a href=&quot;https://reviews.apache.org/r/42081/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/42081/&lt;/a&gt; . Thanks for review in advanced.&lt;/p&gt;</comment>
                            <comment id="15089867" author="ctang.ma" created="Fri, 8 Jan 2016 20:15:49 +0000"  >&lt;p&gt;This patch mainly addresses the StatsOptimization issue in union with aggregate function. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;pxiong&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, could you help to review the patch? Thanks.&lt;/p&gt;

&lt;p&gt;I also created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12812&quot; title=&quot;Enable mapred.input.dir.recursive by default to support union with aggregate function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12812&quot;&gt;&lt;del&gt;HIVE-12812&lt;/del&gt;&lt;/a&gt; to set mapred.input.dir.recursive=true by default in Hive to address the above case 2 separately.&lt;/p&gt;</comment>
                            <comment id="15090936" author="hiveqa" created="Sun, 10 Jan 2016 07:18:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781288/HIVE-12788.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781288/HIVE-12788.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 10001 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_26
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6573/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6573/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6573/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781288 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15091056" author="ctang.ma" created="Sun, 10 Jan 2016 14:15:04 +0000"  >&lt;p&gt;Fix the failed tests.&lt;/p&gt;</comment>
                            <comment id="15091171" author="pxiong" created="Sun, 10 Jan 2016 19:29:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt;, I read your reply to my comments and I quoted here&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Could you please be more specific on the reason why &quot;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; TS[0] branch &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; src1 is not optimized, then there is no need to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; processing TS[6] branch? Thanks.
The AST tree of query (select max(value) from src1 union all select max(value) from src2) passed to StatsOptimizator after UnionRemove optimization is:
      TS[0]-&amp;gt;SEL[1]-&amp;gt;GBY[2]-RS[3]-&amp;gt;GBY[4]-&amp;gt;FS[17]   --- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src1
      TS[6]-&amp;gt;SEL[7]-&amp;gt;GBY[8]-RS[9]-&amp;gt;GBY[10]-&amp;gt;FS[18]  --- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src2
It has two top Operators, TS[0] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; table src1 and TS[6] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; table src2. If the TS[0] branch (&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src1) is not optimized but TS[6] branch (&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; subquery src2) is, in existing code, TS[6] branch result will be set to FetchTask in ParseContext and the entire query is not further compiled into MRTasks (in SemanticAnalyzer.analyzeInternal step 9). So the union query will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result with only the row from TS[6] (the subquery src2). It is obviously not right. So &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; union query, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; any one of its subqueries could not be Stats Optimizated, the whole query should not be optimized and fails back to regular plan. I wonder &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it is a littler clear. Thanks

- Chaoyu
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Did you investigate the possibility to merge the result from a FetchTask and a MR task? I would still prefer a solution that can best leverage the stats optimizer whenever possible (even only for a branch of a union). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;, could you provide some comments on the possibility here? Thanks.&lt;/p&gt;</comment>
                            <comment id="15091878" author="hiveqa" created="Mon, 11 Jan 2016 13:17:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12781454/HIVE-12788.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12781454/HIVE-12788.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10004 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6587/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6587/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6587/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12781454 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15092720" author="ctang.ma" created="Mon, 11 Jan 2016 21:32:24 +0000"  >&lt;p&gt;The failed tests seem not related to the patch.&lt;/p&gt;</comment>
                            <comment id="15092739" author="ctang.ma" created="Mon, 11 Jan 2016 21:45:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;pxiong&lt;/a&gt; Thanks for reviewing the patch. Yeah, I agree with you that it is ideal that we should optimize every subquery whenever possible, and will look into this possibility. But I wonder if we can treat it as a further enhancement with a separate JIRA so that here we can at least unblock the critical query data incorrect issue? Thanks&lt;/p&gt;</comment>
                            <comment id="15094401" author="pxiong" created="Tue, 12 Jan 2016 18:03:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt;, i assume i already +1 on review board. if that is not enough, +1 here. Thanks.&lt;/p&gt;</comment>
                            <comment id="15096436" author="ctang.ma" created="Wed, 13 Jan 2016 16:09:56 +0000"  >&lt;p&gt;Committed to 1.3.0, 2.0.0 and 2.1.0. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;pxiong&lt;/a&gt; for reviewing the patch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12929336">HIVE-12840</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12782077" name="HIVE-12788-branch-1.patch" size="47929" author="ctang" created="Wed, 13 Jan 2016 16:02:34 +0000"/>
                            <attachment id="12781454" name="HIVE-12788.1.patch" size="47806" author="ctang" created="Sun, 10 Jan 2016 14:15:04 +0000"/>
                            <attachment id="12781288" name="HIVE-12788.patch" size="47460" author="ctang" created="Fri, 8 Jan 2016 20:03:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qxhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>