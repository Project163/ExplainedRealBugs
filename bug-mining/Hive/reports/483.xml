<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:57:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-1658] Fix describe [extended] column formatting</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1658</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When displaying the column schema, the formatting should follow should be &lt;/p&gt;

&lt;p&gt;name&amp;lt;TAB&amp;gt;type&amp;lt;TAB&amp;gt;comment&amp;lt;NEWLINE&amp;gt;&lt;/p&gt;

&lt;p&gt;to be inline with the previous formatting style for backward compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474647">HIVE-1658</key>
            <summary>Fix describe [extended] column formatting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thiruvel">Thiruvel Thirumoolan</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2010 01:19:57 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:32 +0000</updated>
                            <resolved>Wed, 13 Oct 2010 04:28:05 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                                                            <comments>
                            <comment id="12912809" author="pauly" created="Tue, 21 Sep 2010 01:55:40 +0000"  >&lt;p&gt;Actually, this JIRA is more about handling backward compatibility. It&apos;s possible that there things (JDBC? scripts?) that parsed the text output and depended on the old style.&lt;/p&gt;</comment>
                            <comment id="12912846" author="namit" created="Tue, 21 Sep 2010 05:53:04 +0000"  >&lt;p&gt;Thiruvel, this is a show-stopper for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-558&quot; title=&quot;describe extended table/partition output is cryptic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-558&quot;&gt;&lt;del&gt;HIVE-558&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The schema for describe and describe extended cannot be changed.&lt;/p&gt;

&lt;p&gt;You can add NULLs at the beginning/end, but the number of columns have to be maintained&lt;/p&gt;</comment>
                            <comment id="12913043" author="thiruvel" created="Tue, 21 Sep 2010 15:46:32 +0000"  >&lt;p&gt;ok, will revert back the formatting of the columns (partitions also) and will leave the rest of the changes as is. That would mean the headers also will go away, the formatting doesnt look good with them and tab alone as separator.&lt;/p&gt;</comment>
                            <comment id="12913315" author="pauly" created="Tue, 21 Sep 2010 23:59:41 +0000"  >&lt;p&gt;Maybe another option is to have a pretty qualifier? To get your output, the user would have to type something like &apos;pretty describe &amp;lt;tablename&amp;gt;&apos;. Otherwise everything defaults to normal.&lt;/p&gt;</comment>
                            <comment id="12913662" author="namit" created="Wed, 22 Sep 2010 16:51:33 +0000"  >&lt;p&gt;@Thiruvel, can we keep the new output in the old format.&lt;br/&gt;
I mean, we just have to make sure that the output has 3 columns separated by a delimiter.&lt;/p&gt;

&lt;p&gt;So, if your current output is &apos;x&apos;, you can replace it with:&lt;/p&gt;

&lt;p&gt;&amp;lt;TAB&amp;gt;x&amp;lt;TAB&amp;gt;&lt;/p&gt;

&lt;p&gt;An implicit null at the beginning and end.&lt;/p&gt;

</comment>
                            <comment id="12913668" author="nzhang" created="Wed, 22 Sep 2010 17:10:39 +0000"  >&lt;p&gt;+1 on keeping the old format but add a &quot;pretty operator&quot; as the child of the explain, so that the execution plan for the EXPLAIN is an explain operator (with the old formatting) followed by an optional &quot;pretty operator&quot; taking the output and do further formatting. &lt;/p&gt;</comment>
                            <comment id="12915437" author="nzhang" created="Mon, 27 Sep 2010 19:07:18 +0000"  >&lt;p&gt;Another issue is that now &apos;desc extended&apos; displays table/partition parameters in different lines. Since parameters is using a unordered map implementation, it will give non-deterministic display of those parameters. It will be great if the pretty operator will take care of ordering as well.&lt;/p&gt;</comment>
                            <comment id="12916207" author="namit" created="Wed, 29 Sep 2010 17:19:37 +0000"  >&lt;p&gt;Thiruvel, any updates on this - we need it urgently in order to deploy &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-558&quot; title=&quot;describe extended table/partition output is cryptic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-558&quot;&gt;&lt;del&gt;HIVE-558&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12916513" author="thiruvel" created="Thu, 30 Sep 2010 15:25:08 +0000"  >&lt;p&gt;Sorry folks, was out sick for more than a week. Will upload a patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="12916992" author="thiruvel" created="Fri, 1 Oct 2010 18:27:47 +0000"  >&lt;p&gt;Patch under works.&lt;/p&gt;

&lt;p&gt;Changes:&lt;/p&gt;

&lt;p&gt;1. &apos;describe&apos; &amp;amp; &apos;describe extended&apos; outputs will be the same as pre &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-558&quot; title=&quot;describe extended table/partition output is cryptic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-558&quot;&gt;&lt;del&gt;HIVE-558&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
2. &apos;describe formatted&apos; will use the new format for displaying columns and additional information.&lt;/p&gt;

&lt;p&gt;Will implement the changes similar to how extended is implemented, using a boolean in DescTableDesc to denote the formatted keyword and formatting the output in DDLTask.describeTable.&lt;/p&gt;</comment>
                            <comment id="12917048" author="thiruvel" created="Fri, 1 Oct 2010 21:49:58 +0000"  >&lt;p&gt;Preliminary patch on the above mentioned approach - felt this one to be easier. Comments welcome.&lt;/p&gt;

&lt;p&gt;The code needs to be reorganized and cleaned, but I wanted to upload patch before I sign off for the day. Will proceed with test cases on confirmation of the approach.&lt;/p&gt;</comment>
                            <comment id="12917725" author="he yongqiang" created="Mon, 4 Oct 2010 19:32:11 +0000"  >&lt;p&gt;+1. Looks good. Can you do the final patch?&lt;/p&gt;</comment>
                            <comment id="12917771" author="he yongqiang" created="Mon, 4 Oct 2010 21:25:59 +0000"  >&lt;p&gt;one more thing, if the time information (create time, last access time etc) is 0, can you put some string like &quot;unknown&quot; to the output of desc format?&lt;/p&gt;</comment>
                            <comment id="12919307" author="thiruvel" created="Fri, 8 Oct 2010 15:31:50 +0000"  >&lt;p&gt;Cleaned up the code a little bit, will display UNKNOWN if time is 0. Will upload patch for test output tomm.&lt;/p&gt;</comment>
                            <comment id="12919309" author="thiruvel" created="Fri, 8 Oct 2010 15:32:52 +0000"  >&lt;p&gt;Was writing shell scripts this week that rely on the schema output and there is no straight forward way to differentiate partitions and columns.&lt;/p&gt;

&lt;p&gt;What do folks think on adding another column &quot;flags&quot; that displays &quot;-&quot;/&quot;part&quot;? We can add additional tags too later (sort..) if necessary. If I can&apos;t get to this tomm, will address it through another JIRA.&lt;/p&gt;</comment>
                            <comment id="12920189" author="thiruvel" created="Tue, 12 Oct 2010 13:39:06 +0000"  >&lt;p&gt;The patch is ready and tests are running. Will upload patch when tests complete.&lt;/p&gt;</comment>
                            <comment id="12920346" author="nzhang" created="Tue, 12 Oct 2010 21:03:28 +0000"  >&lt;p&gt;Thanks Thiruvel! I will take a look. Does this patch subsume &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1669&quot; title=&quot;non-deterministic display of storage parameter in test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1669&quot;&gt;&lt;del&gt;HIVE-1669&lt;/del&gt;&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="12920384" author="thiruvel" created="Tue, 12 Oct 2010 22:32:15 +0000"  >&lt;p&gt;Changelog:&lt;/p&gt;

&lt;p&gt;1. Updated code changes attached. Fixed a bug in DDLTask that was in last patch.&lt;br/&gt;
2. Added describe_table.q test to test various desc scenarios.&lt;br/&gt;
3. Updated create_view.q to also include &apos;desc formatted&apos; for views.&lt;br/&gt;
4. hbase_stats.q had a bug and was failing from a fresh checkout too. Have fixed it.&lt;br/&gt;
5. All other changes are updates to test output.&lt;/p&gt;

&lt;p&gt;desc table - This retains the old behavior.&lt;br/&gt;
&amp;lt;field name&amp;gt;&amp;lt;tab&amp;gt;&amp;lt;type&amp;gt;&amp;lt;tab&amp;gt;&amp;lt;comment&amp;gt;&lt;br/&gt;
&amp;lt;field name&amp;gt;&amp;lt;tab&amp;gt;&amp;lt;type&amp;gt;&amp;lt;tab&amp;gt;   # if no comment&lt;/p&gt;</comment>
                            <comment id="12920385" author="thiruvel" created="Tue, 12 Oct 2010 22:33:06 +0000"  >&lt;p&gt;@ Ning: Yes, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1658&quot; title=&quot;Fix describe [extended] column formatting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1658&quot;&gt;&lt;del&gt;HIVE-1658&lt;/del&gt;&lt;/a&gt;_3.patch includes &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1669&quot; title=&quot;non-deterministic display of storage parameter in test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1669&quot;&gt;&lt;del&gt;HIVE-1669&lt;/del&gt;&lt;/a&gt; changes too.&lt;/p&gt;</comment>
                            <comment id="12920406" author="nzhang" created="Wed, 13 Oct 2010 00:35:37 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12920433" author="nzhang" created="Wed, 13 Oct 2010 04:28:04 +0000"  >&lt;p&gt;Committed. Thanks Thiruvel!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456161" name="HIVE-1658-PrelimPatch.patch" size="7020" author="thiruvel" created="Fri, 1 Oct 2010 21:49:58 +0000"/>
                            <attachment id="12456709" name="HIVE-1658_1.patch" size="9981" author="thiruvel" created="Fri, 8 Oct 2010 15:31:50 +0000"/>
                            <attachment id="12457022" name="HIVE-1658_3.patch" size="890671" author="thiruvel" created="Tue, 12 Oct 2010 22:32:15 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12475089">HIVE-1669</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lg8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>