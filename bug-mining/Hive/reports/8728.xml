<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:26:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-28355] Fix intermittent failure of TestHplSqlViaBeeLine#testUNIX_TIMESTAMPHplSQLFunction</title>
                <link>https://issues.apache.org/jira/browse/HIVE-28355</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The test TestHplSqlViaBeeLine#testUNIX_TIMESTAMPHplSQLFunction compares UNIX_TIMESTAMP() with System.currentTimeMillis() using regex.&lt;/p&gt;

&lt;p&gt;Instead of seconds(divide by 1000), it compares in 10s of seconds(divide by 10000) to account for the difference of few seconds that might come up between the execution of the System.currentTimeMillis()/10000 and UNIX_TIMESTAMP().&lt;/p&gt;

&lt;p&gt;However, it fails in the case when System.currentTimeMillis()(in seconds) differs from UNIX_TIMESTAMP() in 10s digit and/or 100s digit and/or 1000s digit and so on&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Examples:&lt;/p&gt;

&lt;p&gt;The current comparison is highlighted in bold.&lt;/p&gt;

&lt;p&gt;1. Difference in 1s digit - success&lt;br/&gt;
System.currentTimeMillis() in seconds - &lt;b&gt;171946770&lt;/b&gt;5&lt;/p&gt;

&lt;p&gt;UNIX_TIMESTAMP() - &lt;b&gt;171946770&lt;/b&gt;6&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;2. Difference in 10s digit - fail&lt;br/&gt;
System.currentTimeMillis() in seconds - &lt;b&gt;171946770&lt;/b&gt;9&lt;/p&gt;

&lt;p&gt;UNIX_TIMESTAMP() - &lt;b&gt;171946771&lt;/b&gt;0&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;3. Difference in 100s digit - fail&lt;/p&gt;

&lt;p&gt;System.currentTimeMillis() in seconds - &lt;b&gt;171946779&lt;/b&gt;9&lt;/p&gt;

&lt;p&gt;UNIX_TIMESTAMP() - &lt;b&gt;171946780&lt;/b&gt;0&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;4. Difference in 1000s digit - fail&lt;/p&gt;

&lt;p&gt;System.currentTimeMillis() in seconds - &lt;b&gt;171946799&lt;/b&gt;9&lt;/p&gt;

&lt;p&gt;UNIX_TIMESTAMP() - &lt;b&gt;171946800&lt;/b&gt;0&lt;/p&gt;</description>
                <environment></environment>
        <key id="13584018">HIVE-28355</key>
            <summary>Fix intermittent failure of TestHplSqlViaBeeLine#testUNIX_TIMESTAMPHplSQLFunction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kiranvelumuri">Kiran Velumuri</assignee>
                                    <reporter username="kiranvelumuri">Kiran Velumuri</reporter>
                        <labels>
                            <label>hive-4.0.1-merged</label>
                            <label>hive-4.0.1-must</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 27 Jun 2024 07:31:14 +0000</created>
                <updated>Tue, 29 Jul 2025 14:52:07 +0000</updated>
                            <resolved>Thu, 5 Sep 2024 14:06:32 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                    <fixVersion>4.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17879577" author="zhangbutao" created="Thu, 5 Sep 2024 14:06:32 +0000"  >&lt;p&gt;Merged to master branch!&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kiranvelumuri&quot; class=&quot;user-hover&quot; rel=&quot;kiranvelumuri&quot;&gt;kiranvelumuri&lt;/a&gt; for the fix!&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=okumin&quot; class=&quot;user-hover&quot; rel=&quot;okumin&quot;&gt;okumin&lt;/a&gt; for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13069824" name="image-2024-06-27-12-27-47-772.png" size="174279" author="kiranvelumuri" created="Thu, 27 Jun 2024 06:57:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q18g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>