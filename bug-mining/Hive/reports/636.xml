<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:58:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2296] bad compressed file names from insert into</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2296</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When INSERT INTO is run on a table with compressed output (hive.exec.compress.output=true) and existing files in the table, it may copy the new files in bad file names:&lt;/p&gt;

&lt;p&gt;Before INSERT INTO:&lt;br/&gt;
000000_0.gz&lt;/p&gt;

&lt;p&gt;After INSERT INTO:&lt;br/&gt;
000000_0.gz&lt;br/&gt;
000000_0.gz_copy_1&lt;/p&gt;

&lt;p&gt;This causes corrupted output when doing a SELECT * on the table.&lt;br/&gt;
Correct behavior should be to pick a valid filename such as:&lt;br/&gt;
000000_0_copy_1.gz&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514846">HIVE-2296</key>
            <summary>bad compressed file names from insert into</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="franklinhu">Franklin Hu</assignee>
                                    <reporter username="franklinhu">Franklin Hu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jul 2011 23:13:23 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:46 +0000</updated>
                            <resolved>Fri, 22 Jul 2011 20:21:24 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13068734" author="franklinhu" created="Thu, 21 Jul 2011 00:06:36 +0000"  >&lt;p&gt;add unit test&lt;/p&gt;</comment>
                            <comment id="13068794" author="jiraposter@reviews.apache.org" created="Thu, 21 Jul 2011 04:24:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1155/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1155/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Siying Dong.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixes problem of bad compressed file names by stripping off the file format (ex &quot;.gz&quot;) and reappending it to the path later.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2296&quot; title=&quot;bad compressed file names from insert into&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2296&quot;&gt;&lt;del&gt;HIVE-2296&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2296&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2296&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1148973 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_compressed.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_compressed.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1155/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1155/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13069314" author="sdong" created="Fri, 22 Jul 2011 00:23:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13069710" author="sdong" created="Fri, 22 Jul 2011 20:21:24 +0000"  >&lt;p&gt;committed. Thanks Franklin!&lt;/p&gt;</comment>
                            <comment id="13069885" author="hudson" created="Sat, 23 Jul 2011 02:17:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #843 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/843/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/843/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2296&quot; title=&quot;bad compressed file names from insert into&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2296&quot;&gt;&lt;del&gt;HIVE-2296&lt;/del&gt;&lt;/a&gt;. bad compressed file names from insert into (Franklin Hu via Siying Dong)&lt;/p&gt;

&lt;p&gt;sdong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149724&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149724&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_compressed.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_compressed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12487237" name="hive-2296.1.patch" size="1477" author="franklinhu" created="Wed, 20 Jul 2011 23:54:29 +0000"/>
                            <attachment id="12487239" name="hive-2296.2.patch" size="9137" author="franklinhu" created="Thu, 21 Jul 2011 00:06:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>