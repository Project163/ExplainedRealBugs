<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:20:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7118] Oracle upgrade schema scripts do not map Java long datatype columns correctly for transaction related tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7118</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In Transaction related tables, Java long column fields are mapped to NUMBER(10) which results in failure to persist the transaction ids which are incompatible. Following error is seen:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ORA-01438: value larger than specified precision allowed for this column
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment>&lt;p&gt;Oracle DB&lt;/p&gt;</environment>
        <key id="12716252">HIVE-7118</key>
            <summary>Oracle upgrade schema scripts do not map Java long datatype columns correctly for transaction related tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 May 2014 02:35:23 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:01 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 17:32:24 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14006767" author="deepesh" created="Fri, 23 May 2014 03:59:43 +0000"  >&lt;p&gt;Attaching a patch that changes NUMBER(10) to NUMBER(19) datatype for long columns for Oracle metastore schema upgrade scripts.&lt;/p&gt;</comment>
                            <comment id="14007392" author="alangates" created="Fri, 23 May 2014 17:11:28 +0000"  >&lt;p&gt;We haven&apos;t built install scripts for 14 yet as Ashutosh and I were discussing if there was a better method than creating the tables directly in the scripts.  So we can&apos;t apply this patch until we make a decision on that.&lt;/p&gt;</comment>
                            <comment id="14038007" author="alangates" created="Thu, 19 Jun 2014 22:21:42 +0000"  >&lt;p&gt;Can we just take the upgrade parts of this (the 019-... script and the upgrade script) and leave the 0.14 versions of schema files for later?  That way we&apos;ll get this fix in where people have access to it.&lt;/p&gt;</comment>
                            <comment id="14039106" author="deepesh" created="Fri, 20 Jun 2014 18:02:09 +0000"  >&lt;p&gt;Its not clear to me as to where would the upgrade script (019-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7118&quot; title=&quot;Oracle upgrade schema scripts do not map Java long datatype columns correctly for transaction related tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7118&quot;&gt;&lt;del&gt;HIVE-7118&lt;/del&gt;&lt;/a&gt;.oracle.sql) be invoked from. It may not be desirable to call this from upgrade-0.12.0-to-0.13.0.oracle.sql script as people will miss it as they are already on 0.13. What do you think?&lt;/p&gt;</comment>
                            <comment id="14039119" author="alangates" created="Fri, 20 Jun 2014 18:10:39 +0000"  >&lt;p&gt;Good point.  For the Oracle scripts we should fix the hive-schema-0.13 and hive-txn-schema-0.13 scripts so they don&apos;t need to call the upgrade.  If they&apos;ve already installed 13 and need to fix this bug they can just call the 019-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7118&quot; title=&quot;Oracle upgrade schema scripts do not map Java long datatype columns correctly for transaction related tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7118&quot;&gt;&lt;del&gt;HIVE-7118&lt;/del&gt;&lt;/a&gt; script manually.&lt;/p&gt;</comment>
                            <comment id="14039166" author="deepesh" created="Fri, 20 Jun 2014 18:41:21 +0000"  >&lt;p&gt;I have attached a new patch which provides the following:&lt;br/&gt;
019-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7118&quot; title=&quot;Oracle upgrade schema scripts do not map Java long datatype columns correctly for transaction related tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7118&quot;&gt;&lt;del&gt;HIVE-7118&lt;/del&gt;&lt;/a&gt;.oracle.sql -&amp;gt; Intended for users who are already on Hive 0.13.0. Will need to run the script manually against their existing hive metastore schema.&lt;br/&gt;
hive-txn-schema-0.13.0.oracle.sql &amp;amp; hive-schema-0.13.0.oracle.sql -&amp;gt; For fresh installs.&lt;/p&gt;</comment>
                            <comment id="14040929" author="alangates" created="Mon, 23 Jun 2014 16:30:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14042414" author="alangates" created="Tue, 24 Jun 2014 17:32:24 +0000"  >&lt;p&gt;Patch committed.  Thank you Deepesh.&lt;/p&gt;</comment>
                            <comment id="14042475" author="deepesh" created="Tue, 24 Jun 2014 18:24:08 +0000"  >&lt;p&gt;Thanks Alan for review and commit!&lt;/p&gt;</comment>
                            <comment id="14210676" author="thejas" created="Thu, 13 Nov 2014 19:42:01 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12722616">HIVE-7259</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12743633">HIVE-8239</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651706" name="HIVE-7118-0.13.0.1.patch" size="7246" author="deepesh" created="Fri, 20 Jun 2014 18:41:20 +0000"/>
                            <attachment id="12646443" name="HIVE-7118.1.patch" size="6098" author="deepesh" created="Fri, 23 May 2014 03:59:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vx2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>