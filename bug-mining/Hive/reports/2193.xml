<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:18:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7004] Fix more unit test failures on hadoop-2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7004</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Still a number of precommit failures with hadoop-2, will try to fix some of them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12711864">HIVE-7004</key>
            <summary>Fix more unit test failures on hadoop-2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 May 2014 23:22:34 +0000</created>
                <updated>Thu, 13 Nov 2014 19:39:57 +0000</updated>
                            <resolved>Sun, 4 May 2014 16:14:02 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13987179" author="jdere" created="Thu, 1 May 2014 23:36:28 +0000"  >&lt;p&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_map_skew: Needs order-by to make results deterministic&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket: Output changed after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6968&quot; title=&quot;list bucketing feature does not update the location map for unpartitioned tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6968&quot;&gt;&lt;del&gt;HIVE-6968&lt;/del&gt;&lt;/a&gt; (list bucketing changes), according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;prasanth_j&lt;/a&gt; this should be correct so the golden file should be regenerated.&lt;/p&gt;

&lt;p&gt;These MiniTez tests all started failing after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4904&quot; title=&quot;A little more CP crossing RS boundaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4904&quot;&gt;&lt;del&gt;HIVE-4904&lt;/del&gt;&lt;/a&gt;. Most of these tests are also in TestCliDriver, and the TestCliDriver golden files were updated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4904&quot; title=&quot;A little more CP crossing RS boundaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4904&quot;&gt;&lt;del&gt;HIVE-4904&lt;/del&gt;&lt;/a&gt;, so it is very likely that the MiniTez output just need to be updated as well:&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_count&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_limit_pushdown&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mrr&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union3&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union5&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union7&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union9&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist: Looks like rows were not being processed in a deterministic order for some reason. Filtering input rows to just one value, which is still enough to show this test case.&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether: RCFile looks like it uses some data compression so order of rows can affect the size.  Add order-by to make order of rows deterministic.&lt;/p&gt;</comment>
                            <comment id="13987201" author="jdere" created="Fri, 2 May 2014 00:13:06 +0000"  >&lt;p&gt;Looks like the MiniTez tests were already updated by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6984&quot; title=&quot;Analyzing partitioned table with NULL values for the partition column failed with NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6984&quot;&gt;&lt;del&gt;HIVE-6984&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13988098" author="hiveqa" created="Fri, 2 May 2014 19:00:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12642963/HIVE-7004.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12642963/HIVE-7004.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5495 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/105/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/105/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/105/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/105/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12642963&lt;/p&gt;</comment>
                            <comment id="13988250" author="ashutoshc" created="Fri, 2 May 2014 21:11:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13989032" author="ashutoshc" created="Sun, 4 May 2014 16:14:02 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Jason!&lt;/p&gt;</comment>
                            <comment id="14210270" author="thejas" created="Thu, 13 Nov 2014 19:39:57 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12642963" name="HIVE-7004.1.patch" size="7233" author="jdere" created="Fri, 2 May 2014 00:16:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1v7hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>