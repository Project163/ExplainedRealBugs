<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:54:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-880] user group information not populated for pre and post hook</title>
                <link>https://issues.apache.org/jira/browse/HIVE-880</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12438169">HIVE-880</key>
            <summary>user group information not populated for pre and post hook</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Oct 2009 05:45:52 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:13 +0000</updated>
                            <resolved>Mon, 26 Oct 2009 22:36:21 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12765923" author="namit" created="Thu, 15 Oct 2009 05:55:39 +0000"  >&lt;p&gt;still running the tests&lt;/p&gt;</comment>
                            <comment id="12765927" author="zshao" created="Thu, 15 Oct 2009 06:09:29 +0000"  >&lt;p&gt;In the Hadoop world, ugi information is saved in conf.&lt;/p&gt;

&lt;p&gt;I think Hive should call:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UnixUserGroupInformation:
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; UnixUserGroupInformation login(Configuration conf, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; save = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;on session start.&lt;/p&gt;

&lt;p&gt;User can modify &quot;ugi&quot; through &quot;set&quot; if they want.&lt;/p&gt;

&lt;p&gt;And hooks will get ugi information from HiveConf.&lt;/p&gt;


&lt;p&gt;If we want to keep the interface of hooks intact, we can get the ugi information from HiveConf by using UnixUserGroupInformation.UGI_PROPERTY_NAME.&lt;/p&gt;</comment>
                            <comment id="12765939" author="zshao" created="Thu, 15 Oct 2009 07:02:12 +0000"  >&lt;p&gt;A better way would be:&lt;/p&gt;

&lt;p&gt;when Hive session starts, we should call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UnixUserGroupInformation:
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; UnixUserGroupInformation login(Configuration conf, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; save=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to save the ugi to HiveConf.&lt;/p&gt;

&lt;p&gt;Then users are free to change ugi using &quot;set&quot; command if they want.&lt;/p&gt;

&lt;p&gt;Hooks will get ugi from HiveConf just as the main query.&lt;/p&gt;


&lt;p&gt;If we want to keep the Hooks interface, we can get the ugi from hiveconf when we call the hooks.&lt;/p&gt;</comment>
                            <comment id="12766307" author="prasadc" created="Thu, 15 Oct 2009 22:56:26 +0000"  >&lt;p&gt;i think we do something similar in DDLTask (for getting the username for table owner).&lt;/p&gt;</comment>
                            <comment id="12766310" author="zshao" created="Thu, 15 Oct 2009 22:59:21 +0000"  >&lt;p&gt;hive.880.2.patch: nitpick: Can we do &quot;log.WARN&quot; in the places that we ignore the exceptions?&lt;br/&gt;
We can change DDLTask to use the same logic in the same transaction if you want.&lt;/p&gt;</comment>
                            <comment id="12766315" author="namit" created="Thu, 15 Oct 2009 23:11:57 +0000"  >&lt;p&gt;added log messages - will do DDLTask cleanup in a separate jira later&lt;/p&gt;</comment>
                            <comment id="12766360" author="zshao" created="Fri, 16 Oct 2009 01:00:17 +0000"  >&lt;p&gt;I will change it to stringifyException(e) instead of e.getMessage(), otherwise it will be hard to know what happened.&lt;br/&gt;
Otherwise it looks OK. will test and commit.&lt;/p&gt;</comment>
                            <comment id="12766955" author="zshao" created="Sat, 17 Oct 2009 20:26:49 +0000"  >&lt;p&gt;Somehow the patch failed the unit tests.&lt;/p&gt;</comment>
                            <comment id="12770243" author="zshao" created="Mon, 26 Oct 2009 22:36:21 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12772376" author="zshao" created="Sun, 1 Nov 2009 22:09:31 +0000"  >&lt;p&gt;Actually this is only fixed in trunk - the patch does not work for branch-0.4.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12422185" name="hive.880.1.patch" size="1266" author="namit" created="Thu, 15 Oct 2009 05:48:11 +0000"/>
                            <attachment id="12422296" name="hive.880.2.patch" size="1791" author="namit" created="Thu, 15 Oct 2009 22:51:01 +0000"/>
                            <attachment id="12422299" name="hive.880.3.patch" size="1887" author="namit" created="Thu, 15 Oct 2009 23:11:57 +0000"/>
                            <attachment id="12423243" name="hive.880.4.patch" size="2965" author="namit" created="Mon, 26 Oct 2009 20:54:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lc87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-880&quot; title=&quot;user group information not populated for pre and post hook&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-880&quot;&gt;&lt;strike&gt;HIVE-880&lt;/strike&gt;&lt;/a&gt;. User group information not populated for pre and post hook. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>