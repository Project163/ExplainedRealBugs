<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:19:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-24730] Shims classes override values from hive-site.xml and tez-site.xml silently</title>
                <link>https://issues.apache.org/jira/browse/HIVE-24730</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14887&quot; title=&quot;Reduce the memory used by MiniMr, MiniTez, MiniLlap tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14887&quot;&gt;&lt;del&gt;HIVE-14887&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/hive/blob/master/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Hadoop23Shims&lt;/a&gt; silently overrides e.g. hive.tez.container.size which is defined in data/conf/hive/llap/hive-site.xml. This way, the developer will have no idea about what happened after setting those values in the xml.&lt;br/&gt;
My proposal: &lt;br/&gt;
1. don&apos;t set those values, unless they contain the default value (e.g.: -1 for hive.tez.container.size)&lt;br/&gt;
2. put an INFO level log message about the override&lt;/p&gt;

&lt;p&gt;OR:&lt;/p&gt;

&lt;p&gt;put a comment in hive-site.xml and tez-site.xml files that shims override it while creating a tez mini cluster&lt;/p&gt;</description>
                <environment></environment>
        <key id="13356520">HIVE-24730</key>
            <summary>Shims classes override values from hive-site.xml and tez-site.xml silently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abstractdog">L&#225;szl&#243; Bodor</assignee>
                                    <reporter username="abstractdog">L&#225;szl&#243; Bodor</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Wed, 3 Feb 2021 15:31:59 +0000</created>
                <updated>Fri, 29 Mar 2024 17:50:02 +0000</updated>
                            <resolved>Tue, 12 Dec 2023 11:55:38 +0000</resolved>
                                                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="17278275" author="mustafaiman" created="Wed, 3 Feb 2021 18:19:56 +0000"  >&lt;p&gt;Why do we override configs programmatically at all? Can&apos;t we just put whatever is necessary to the config file?&lt;/p&gt;</comment>
                            <comment id="17278654" author="abstractdog" created="Thu, 4 Feb 2021 08:27:16 +0000"  >&lt;p&gt;I&apos;m not sure, I think the intention of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14887&quot; title=&quot;Reduce the memory used by MiniMr, MiniTez, MiniLlap tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14887&quot;&gt;&lt;del&gt;HIVE-14887&lt;/del&gt;&lt;/a&gt; was to force values for some options regardless of the config file content (to ensure test stability maybe?)&lt;br/&gt;
but in any case, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14887&quot; title=&quot;Reduce the memory used by MiniMr, MiniTez, MiniLlap tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14887&quot;&gt;&lt;del&gt;HIVE-14887&lt;/del&gt;&lt;/a&gt; was 4 years ago, our testing infrastructure changed a lot since, so there could be cases where we&apos;re free to revisit the old solutions&lt;/p&gt;</comment>
                            <comment id="17278668" author="mustafaiman" created="Thu, 4 Feb 2021 08:45:37 +0000"  >&lt;p&gt;Yes, I think we should try to simplify by putting the configs in xml files first. Overriding xml configs is confusing. Overriding in some cases is more confusing.&lt;/p&gt;</comment>
                            <comment id="17278957" author="abstractdog" created="Thu, 4 Feb 2021 16:37:14 +0000"  >&lt;p&gt;I agree, I think I get your point, could you please take a look at the PR changes? the intention was to let the configs in the XML win, but in any case, at least write a log message about overwrite&lt;br/&gt;
if you find some parts of the new behavior confusing, could you please comment on PR in order to let me rethink that part?&lt;/p&gt;</comment>
                            <comment id="17621623" author="zabetak" created="Fri, 21 Oct 2022 07:20:16 +0000"  >&lt;p&gt;I cleared the fixVersion field since this ticket is still open. Please review this ticket and if the fix is already committed to a specific version please set the version accordingly and mark the ticket as RESOLVED.&lt;/p&gt;

&lt;p&gt;According to the &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JIRA guidelines&lt;/a&gt; the fixVersion should be set only when the issue is resolved/closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nbg0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>