<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:03:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3680] Include Table information in Hive&apos;s AddPartitionEvent.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3680</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This has to do with a minor overhaul of the HCatalog notifications that we&apos;re attempting in &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-546&quot; title=&quot;Rework HCatalog&amp;#39;s JMS Notifications &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-546&quot;&gt;&lt;del&gt;HCATALOG-546&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is proposed that HCatalog&apos;s notifications (on Add/Drop of Partitions) provide details to identify the affected partitions. &lt;/p&gt;

&lt;p&gt;Using the Partition object in AddPartitionEvent, one is able to retrieve the values of the partition-keys and the name of the Table. However, the partition-keys themselves aren&apos;t available (since the Table instance isn&apos;t part of the AddPartitionEvent).&lt;/p&gt;

&lt;p&gt;Adding the table-reference to the AddPartitionEvent and DropPartitionEvent classes will expose all the info we need. (The alternative is to query the metastore for the table&apos;s schema and use the partition-keys from there. :/)&lt;/p&gt;

&lt;p&gt;I&apos;ll post a patch for this shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615051">HIVE-3680</key>
            <summary>Include Table information in Hive&apos;s AddPartitionEvent.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Nov 2012 00:30:04 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:04 +0000</updated>
                            <resolved>Thu, 15 Nov 2012 16:09:24 +0000</resolved>
                                    <version>0.9.1</version>
                                    <fixVersion>0.9.1</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13491983" author="mithun" created="Wed, 7 Nov 2012 00:31:25 +0000"  >&lt;p&gt;Proposed change.&lt;/p&gt;</comment>
                            <comment id="13492097" author="mgrover" created="Wed, 7 Nov 2012 03:44:14 +0000"  >&lt;p&gt;For completeness, the review is at&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/7910/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/7910/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13495993" author="ashutoshc" created="Tue, 13 Nov 2012 06:30:52 +0000"  >&lt;p&gt;Patch looks good. Mithun, can you also add a test for completeness. TestMetaStoreEventListener.java seems to be appropriate to add this test.&lt;/p&gt;</comment>
                            <comment id="13496758" author="mithun" created="Wed, 14 Nov 2012 01:57:03 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;: Quite right. Here&apos;s the updated diff(s), with tests modified. Does this look alright?&lt;/p&gt;</comment>
                            <comment id="13497645" author="ashutoshc" created="Thu, 15 Nov 2012 00:30:01 +0000"  >&lt;p&gt;Yup, it does. +1 Running tests now, will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13498097" author="ashutoshc" created="Thu, 15 Nov 2012 16:09:24 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mithun!&lt;/p&gt;</comment>
                            <comment id="13498107" author="mithun" created="Thu, 15 Nov 2012 16:26:34 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;. :] Any chance at a backport to branch-9? The patch is included.&lt;/p&gt;</comment>
                            <comment id="13498537" author="hudson" created="Fri, 16 Nov 2012 02:01:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1799 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1799/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1799/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3680&quot; title=&quot;Include Table information in Hive&amp;#39;s AddPartitionEvent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3680&quot;&gt;&lt;del&gt;HIVE-3680&lt;/del&gt;&lt;/a&gt; : Include Table information in Hive&apos;s AddPartitionEvent. (Mithun Radhakrishnan via Ashutosh Chauhan) (Revision 1409861)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409861&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409861&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13503016" author="ashutoshc" created="Fri, 23 Nov 2012 04:51:24 +0000"  >&lt;p&gt;Committed to 0.9 branch as well.&lt;/p&gt;</comment>
                            <comment id="13503026" author="hudson" created="Fri, 23 Nov 2012 05:24:12 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #207 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/207/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/207/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3680&quot; title=&quot;Include Table information in Hive&amp;#39;s AddPartitionEvent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3680&quot;&gt;&lt;del&gt;HIVE-3680&lt;/del&gt;&lt;/a&gt; : Include Table information in Hive&apos;s AddPartitionEvent. (Mithun RadhaKrishnan via Ashutosh Chauhan) (Revision 1412750)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412750&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13503171" author="hudson" created="Fri, 23 Nov 2012 11:42:18 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #207 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/207/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/207/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3680&quot; title=&quot;Include Table information in Hive&amp;#39;s AddPartitionEvent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3680&quot;&gt;&lt;del&gt;HIVE-3680&lt;/del&gt;&lt;/a&gt; : Include Table information in Hive&apos;s AddPartitionEvent. (Mithun RadhaKrishnan via Ashutosh Chauhan) (Revision 1412750)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412750&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548233" author="hudson" created="Wed, 9 Jan 2013 10:24:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3680&quot; title=&quot;Include Table information in Hive&amp;#39;s AddPartitionEvent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3680&quot;&gt;&lt;del&gt;HIVE-3680&lt;/del&gt;&lt;/a&gt; : Include Table information in Hive&apos;s AddPartitionEvent. (Mithun Radhakrishnan via Ashutosh Chauhan) (Revision 1409861)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409861&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409861&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550019" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:04 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12615048">HCATALOG-546</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553430" name="HIVE-3680.branch9.patch" size="6113" author="mithun" created="Wed, 14 Nov 2012 01:57:03 +0000"/>
                            <attachment id="12553431" name="HIVE-3680.trunk.patch" size="7125" author="mithun" created="Wed, 14 Nov 2012 01:57:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fsr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>