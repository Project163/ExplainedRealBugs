<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:07:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4804] parallel order by fails for small datasets</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4804</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:93)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:64)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)
	at org.apache.hadoop.mapred.MapTask$OldOutputCollector.&amp;lt;init&amp;gt;(MapTask.java:481)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:390)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:324)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:266)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:416)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1278)
	at org.apache.hadoop.mapred.Child.main(Child.java:260)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:88)
	... 10 more
Caused by: java.lang.IllegalArgumentException: Can&apos;t read partitions file
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:91)
	at org.apache.hadoop.hive.ql.exec.HiveTotalOrderPartitioner.configure(HiveTotalOrderPartitioner.java:37)
	... 15 more
Caused by: java.io.IOException: Split points are out of order
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:78)
	... 16 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12655719">HIVE-4804</key>
            <summary>parallel order by fails for small datasets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="navis">Navis Ryu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Jul 2013 07:22:38 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:22 +0000</updated>
                            <resolved>Fri, 5 Jul 2013 17:11:41 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13697580" author="phabricator@reviews.facebook.net" created="Tue, 2 Jul 2013 07:38:20 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; parallel_orderby.q in trunk fails consistently&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; parallel_orderby.q in trunk fails consistently&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: Error in configuring object&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:93)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:64)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask$OldOutputCollector.&amp;lt;init&amp;gt;(MapTask.java:481)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:390)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:324)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:266)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:416)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1278)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:260)&lt;br/&gt;
Caused by: java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:88)&lt;br/&gt;
	... 10 more&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: Can&apos;t read partitions file&lt;br/&gt;
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:91)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.HiveTotalOrderPartitioner.configure(HiveTotalOrderPartitioner.java:37)&lt;br/&gt;
	... 15 more&lt;br/&gt;
Caused by: java.io.IOException: Split points are out of order&lt;br/&gt;
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:78)&lt;br/&gt;
	... 16 more&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PartitionKeySampler.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/parallel_orderby.q&lt;br/&gt;
  ql/src/test/results/clientpositive/parallel_orderby.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/27351/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/27351/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13700228" author="appodictic" created="Thu, 4 Jul 2013 17:15:15 +0000"  >&lt;p&gt;+1 testing now.&lt;/p&gt;</comment>
                            <comment id="13701004" author="appodictic" created="Fri, 5 Jul 2013 17:11:41 +0000"  >&lt;p&gt;Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13701086" author="hudson" created="Fri, 5 Jul 2013 19:24:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop1-ptest #24 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/24/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/24/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; parallel order by fails for small datasets (Navis via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500071)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PartitionKeySampler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/parallel_orderby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/parallel_orderby.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13701096" author="hudson" created="Fri, 5 Jul 2013 19:48:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2-ptest #7 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/7/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/7/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; parallel order by fails for small datasets (Navis via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500071)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PartitionKeySampler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/parallel_orderby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/parallel_orderby.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13701224" author="ashutoshc" created="Sat, 6 Jul 2013 01:30:36 +0000"  >&lt;p&gt;I apologize for being late on this. I didn&apos;t understand the fix completely. Hopefully, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; can explain. This testcase was working initially. Both Navis and Ed did run this test before checking in. Than test started to fail randomly. In various runs on apache build machine it used to pass some time and fail at other time. So, there is some randomness going on.&lt;br/&gt;
Per my understanding, fix in this patch is to restore number of reducers to 1 in case there are not sufficient number of samples. What I don&apos;t understand is how come this scenario of too few samples occur only randomly, shouldn&apos;t that be always the case for the test. What further worries me was we were generating wrong results (order by clause was getting ignored before this fix). Are we now guaranteed to never giving out wrong results to end users?&lt;/p&gt;</comment>
                            <comment id="13701242" author="hudson" created="Sat, 6 Jul 2013 03:37:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2181 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2181/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2181/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; parallel order by fails for small datasets (Navis via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500071)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PartitionKeySampler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/parallel_orderby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/parallel_orderby.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13701367" author="appodictic" created="Sat, 6 Jul 2013 15:31:45 +0000"  >&lt;blockquote&gt;
&lt;p&gt;What further worries me was we were generating wrong results (order by clause was getting ignored before this fix). Are we now guaranteed to never giving out wrong results to end users?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is a new feature which is not on by default. When we decide to enable it by default by default (in a follow on issue) we should get a good idea of how it works across the board.&lt;/p&gt;

&lt;p&gt;I think because the input file is sorted it could be easy for this test to give a false positive. Possibly this is what happened with the initial patch. &lt;/p&gt;

&lt;p&gt;I can not speak to the unpredictable-nests of the build server. Being that it takes my machine ~ 12 hours to run tests, one test run passing is all I can do.&lt;/p&gt;

&lt;p&gt;This is a feature hive desperately needs. Probably the most important feature! Order by is a huge bottleneck in many of our processing pipelines. If I had a nickel for every 1 reducer order by job I have seen since I started using hive, I could start my own big data software company without any VC.&lt;/p&gt;

&lt;p&gt;Adding a feature enhancement off by default and then turning it on later after we get familiar with it is something we have done quite often.&lt;/p&gt;</comment>
                            <comment id="13701374" author="hudson" created="Sat, 6 Jul 2013 16:40:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #273 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/273/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/273/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4804&quot; title=&quot;parallel order by fails for small datasets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4804&quot;&gt;&lt;del&gt;HIVE-4804&lt;/del&gt;&lt;/a&gt; parallel order by fails for small datasets (Navis via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500071)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PartitionKeySampler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/parallel_orderby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/parallel_orderby.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13701385" author="ashutoshc" created="Sat, 6 Jul 2013 18:54:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt; Do you know the reason for randomness of failure of tests? &lt;/p&gt;</comment>
                            <comment id="13701739" author="navis" created="Mon, 8 Jul 2013 02:30:31 +0000"  >&lt;p&gt;I&apos;ve used kv5.txt for input data (has 25 rows) and default sampling rate was 0.1f. For 4 reducer, sampler need unique 3 keys but by the total number and the sampling rate on it, the sampler could not attain this requirements randomly. &lt;/p&gt;

&lt;p&gt;All I&apos;ve done in latest patch was to make separate conditions which has enough sample(0.66) and which was not(0.0000.1) by setting sampling rate. &lt;/p&gt;</comment>
                            <comment id="13701740" author="appodictic" created="Mon, 8 Jul 2013 02:34:33 +0000"  >&lt;p&gt;What is the next step? what jobs run faster with the single reducer vs the sampling approach? Should this be the default option (I think yes) or something to turn on?&lt;/p&gt;</comment>
                            <comment id="13701741" author="navis" created="Mon, 8 Jul 2013 02:41:59 +0000"  >&lt;p&gt;Currently it acts on final RS only. To apply this feature to intermediate RS, we need hand over some context to next fetch operator. It might not needed for HDFS, but still need some tests.&lt;/p&gt;</comment>
                            <comment id="13701742" author="appodictic" created="Mon, 8 Jul 2013 02:49:07 +0000"  >&lt;p&gt;That seems fine. Hive already has sort by, I can not see a reason why we would need order by on anything but the final result.&lt;/p&gt;</comment>
                            <comment id="13709424" author="ashutoshc" created="Tue, 16 Jul 2013 03:37:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt; This test still fails on hadoop-2 Would you guys want to take a look : &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/288/#showFailuresLink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/288/#showFailuresLink&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13709436" author="appodictic" created="Tue, 16 Jul 2013 03:48:33 +0000"  >&lt;blockquote&gt;
&lt;p&gt;java.lang.NoSuchMethodError: org.apache.hadoop.mapred.lib.TotalOrderPartitioner.setPartitionFile(Lorg/apache/hadoop/mapred/JobConf;Lorg/apache/hadoop/fs/Path;)V&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.handleSampling(ExecDriver.java:557)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.execute(ExecDriver.java:438)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:140)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:150)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:65)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1423)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1203)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1008)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:880)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:348)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:790)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.TestMinimrCliDriver.runTest(TestMinimrCliDriver.java:264)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby(TestMinimrCliDriver.java:224)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:243)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:238)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)&lt;br/&gt;
junit.framework.AssertionFailedError: Client Execution failed with error code = -101&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This looks like something we will have to make a shim for or exclude it from Hadoop 2&lt;/p&gt;</comment>
                            <comment id="13709437" author="appodictic" created="Tue, 16 Jul 2013 03:49:15 +0000"  >&lt;p&gt;Lets open another Jira.&lt;/p&gt;</comment>
                            <comment id="13795880" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:22 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12657925">HIVE-4863</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466807">HIVE-1402</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12590384" name="HIVE-4804.D11571.1.patch" size="5948" author="phabricator@reviews.facebook.net" created="Tue, 2 Jul 2013 07:38:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lyfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>