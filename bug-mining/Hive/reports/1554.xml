<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:11:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5115] Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5115</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the webhcat e2e testsuite we have two MR job submission tests&lt;br/&gt;
TestMapReduce_1 (in jobsubmission.conf) runs the hadoop &quot;wordcount&quot; example. Intention of this one is to test MR job submission using WebHCat.&lt;br/&gt;
TestHeartbeat_2 (in jobsubmission2.conf) runs the hadoop &quot;sleep&quot; example. Intention of this one is to test a long running (&amp;gt;10min) WebHCat MR job, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4808&quot; title=&quot;WebHCat job submission is killed by TaskTracker since it&amp;#39;s not sending a heartbeat properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4808&quot;&gt;&lt;del&gt;HIVE-4808&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
In Hadoop 1, both of these example MR applications are packaged in hadoop-examples.jar&lt;br/&gt;
In Hadoop 2, &quot;sleep&quot; job is bundled in hadoop-mapreduce-client-jobclient.jar and &quot;wordcount&quot; is bundled in hadoop-mapreduce-examples.jar&lt;/p&gt;

&lt;p&gt;Currently the webhcat tests assume that both these MR applications are in one jar that we copy as hexamples.jar.&lt;/p&gt;

&lt;p&gt;To run these against Hadoop 2 I can think of three simple solutions:&lt;br/&gt;
(1) Stick with one jar and run &quot;sleep&quot; application in the TestMapReduce_1 test as well.&lt;br/&gt;
(2) Eliminate the test TestMapReduce_1 as TestHeartbeat_2 runs a MR job as well.&lt;br/&gt;
(3) Require two different jars for Hadoop 2 and call them hclient.jar (containing &quot;sleep&quot; application) and hexamples.jar (containing &quot;wordcount&quot; application). For Hadoop 1, we would make two copies of the same hadoop-examples.jar application and call them hsleep.jar and examples.jar.&lt;/p&gt;

&lt;p&gt;The three approaches mentioned here would require least of changes. My inclination is towards (2).&lt;/p&gt;

&lt;p&gt;Let me know what you think and I can provide the patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664221">HIVE-5115</key>
            <summary>Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Aug 2013 21:25:01 +0000</created>
                <updated>Mon, 24 Mar 2014 20:35:12 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 22:10:17 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13743083" author="thejas" created="Sun, 18 Aug 2013 00:51:56 +0000"  >&lt;p&gt;I think it is useful to have a MR test that reads an input file and writes an ouput. It can help when we are validating things like the proxy-user functionality. So I would go for option 3.&lt;/p&gt;</comment>
                            <comment id="13743124" author="ekoifman" created="Sun, 18 Aug 2013 04:06:08 +0000"  >&lt;p&gt;I also think 3 is better long term as we add more/different tests in the future.&lt;/p&gt;</comment>
                            <comment id="13743126" author="deepesh" created="Sun, 18 Aug 2013 04:06:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;. Attached the patch with the suggested change.&lt;/p&gt;</comment>
                            <comment id="13743152" author="hiveqa" created="Sun, 18 Aug 2013 06:01:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12598646/HIVE-5115.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12598646/HIVE-5115.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2886 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udtf_not_supported2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/468/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/468/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/468/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/468/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13743622" author="thejas" created="Mon, 19 Aug 2013 08:20:24 +0000"  >&lt;p&gt;+1 Looks good.&lt;/p&gt;</comment>
                            <comment id="13786683" author="thejas" created="Fri, 4 Oct 2013 22:10:17 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the contribution Deepesh!&lt;/p&gt;</comment>
                            <comment id="13786733" author="hudson" created="Fri, 4 Oct 2013 23:11:57 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #479 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/479/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/479/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5115&quot; title=&quot;Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5115&quot;&gt;&lt;del&gt;HIVE-5115&lt;/del&gt;&lt;/a&gt; : Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2 (Deepesh Khandelwal via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/tests/jobsubmission2.conf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13787325" author="hudson" created="Sat, 5 Oct 2013 20:42:03 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #125 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/125/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/125/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5115&quot; title=&quot;Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5115&quot;&gt;&lt;del&gt;HIVE-5115&lt;/del&gt;&lt;/a&gt; : Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2 (Deepesh Khandelwal via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/tests/jobsubmission2.conf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13787350" author="hudson" created="Sat, 5 Oct 2013 21:34:32 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #191 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/191/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/191/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5115&quot; title=&quot;Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5115&quot;&gt;&lt;del&gt;HIVE-5115&lt;/del&gt;&lt;/a&gt; : Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2 (Deepesh Khandelwal via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/tests/jobsubmission2.conf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13787420" author="hudson" created="Sun, 6 Oct 2013 00:08:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2381 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2381/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2381/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5115&quot; title=&quot;Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5115&quot;&gt;&lt;del&gt;HIVE-5115&lt;/del&gt;&lt;/a&gt; : Webhcat e2e tests TestMapReduce_1 and TestHeartbeat_2 require changes for Hadoop 2 (Deepesh Khandelwal via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1529328&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/src/test/e2e/templeton/tests/jobsubmission2.conf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598646" name="HIVE-5115.patch" size="2323" author="deepesh" created="Sun, 18 Aug 2013 04:06:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nd0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>