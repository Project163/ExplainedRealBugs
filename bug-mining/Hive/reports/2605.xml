<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:24:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-8200] Make beeline use the hive-jdbc standalone jar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-8200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hiveserver2 JDBC client beeline currently generously includes all the jars under $HIVE_HOME/lib in its invocation. With the fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8129&quot; title=&quot;Umbrella JIRA to track Avro improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8129&quot;&gt;HIVE-8129&lt;/a&gt; it should only need a few. This will be a good validation of the hive-jdbc standalone jar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12742889">HIVE-8200</key>
            <summary>Make beeline use the hive-jdbc standalone jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Sep 2014 23:32:11 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:33 +0000</updated>
                            <resolved>Mon, 22 Sep 2014 01:04:59 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>CLI</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14141560" author="deepesh" created="Fri, 19 Sep 2014 23:38:54 +0000"  >&lt;p&gt;Attaching a patch for review. With this patch the CLASSPATH now has only the following jars:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$HIVE_HOME/lib/hive-beeline-*.jar
$HIVE_HOME/lib/super-csv-*.jar
$HIVE_HOME/lib/jline-*.jar
$HIVE_HOME/lib/hive-jdbc-*-standalone.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14142110" author="ashutoshc" created="Sat, 20 Sep 2014 17:05:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14142264" author="hiveqa" created="Sun, 21 Sep 2014 00:50:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670145/HIVE-8200.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12670145/HIVE-8200.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6297 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/903/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/903/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/903/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/903/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-903/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-903/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12670145&lt;/p&gt;</comment>
                            <comment id="14142811" author="ashutoshc" created="Mon, 22 Sep 2014 01:04:59 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Deepesh!&lt;/p&gt;</comment>
                            <comment id="14142906" author="lefty@hortonworks.com" created="Mon, 22 Sep 2014 05:22:42 +0000"  >&lt;p&gt;Does this need to be documented in the wiki?&lt;/p&gt;

&lt;p&gt;The Beeline sections of the HiveServer2 doc don&apos;t mention jars but these sections do:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-RunningtheJDBCSampleCode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HiveServer2 Clients &amp;#8211; Running the JDBC Sample Code &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-UsingKerberoswithaPre-AuthenticatedSubject&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HiveServer2 Clients &amp;#8211; Using Kerberos with a Pre-Authenticated Subject &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-IntegrationwithSQuirrelSQLClient&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HiveServer2 Clients &amp;#8211; Integration with SQuirrel SQL Client &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The HS2 setup doc doesn&apos;t mention jar files at all:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Setting+Up+HiveServer2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Setting Up HiveServer2 &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, how about a release note?&lt;/p&gt;</comment>
                            <comment id="14148965" author="vgumashta" created="Fri, 26 Sep 2014 09:25:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;deepesh&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; I don&apos;t think the hive-jdbc uber jar quite ready yet. I did some investigation and found out that:&lt;br/&gt;
1. It is packaging a whole bunch of unrequired classes (from ql, serde, metastore etc).&lt;br/&gt;
2. It might not be shading properly to pack some required classes for a secure setup (HadoopThriftAuthBridge23, Configuration). This will require further investigation and more testing. &lt;/p&gt;

&lt;p&gt;I&apos;m creating the following jiras to handle the issue:&lt;br/&gt;
1. Revert this patch.&lt;br/&gt;
2. Create a more effective &amp;amp; accurate uber jar.&lt;/p&gt;

&lt;p&gt;Let me know what you guys think.&lt;/p&gt;</comment>
                            <comment id="14148973" author="damien.carol" created="Fri, 26 Sep 2014 09:35:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt; Should it be more simple to fix errors in hive-jdbc uber jar instead of reverting everything?&lt;/p&gt;</comment>
                            <comment id="14148982" author="vgumashta" created="Fri, 26 Sep 2014 09:50:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=damien.carol&quot; class=&quot;user-hover&quot; rel=&quot;damien.carol&quot;&gt;damien.carol&lt;/a&gt; I&apos;m happy if someone takes this over from me: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8270&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-8270&lt;/a&gt;. I won&apos;t be able to get to it in the next few days. &lt;br/&gt;
Meanwhile, beeline will complain about class loading issues like the following (in a secure cluster): &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//ip-172-31-36-90.ec2.internal:10000/;principal=hive/_HOST@EXAMPLE.COM
&lt;/span&gt;14/09/25 05:55:04 INFO jdbc.Utils: Supplied authorities: ip-172-31-36-90.ec2.internal:10000
Could not load shims in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.hadoop.hive.thrift.HadoopThriftAuthBridge23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think it is better to revert this (which is an optimization anyway) if we don&apos;t plan to fix the uber jar soon.&lt;/p&gt;</comment>
                            <comment id="14150844" author="lefty@hortonworks.com" created="Sun, 28 Sep 2014 01:10:14 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8269&quot; title=&quot;Revert HIVE-8200 (Make beeline use the hive-jdbc standalone jar)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8269&quot;&gt;&lt;del&gt;HIVE-8269&lt;/del&gt;&lt;/a&gt; is resolved as invalid (&quot;Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8200&quot; title=&quot;Make beeline use the hive-jdbc standalone jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8200&quot;&gt;&lt;del&gt;HIVE-8200&lt;/del&gt;&lt;/a&gt;&quot;), here&apos;s a ping for my doc query and request for a release note:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8200?focusedCommentId=14142906&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14142906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;doc query &amp;amp; release note request &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14152298" author="vgumashta" created="Mon, 29 Sep 2014 21:12:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; I&apos;ll add the relevant docs as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8270&quot; title=&quot;JDBC uber jar is missing some classes required in secure setup.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8270&quot;&gt;&lt;del&gt;HIVE-8270&lt;/del&gt;&lt;/a&gt;. Thanks for the nudge!&lt;/p&gt;</comment>
                            <comment id="14210376" author="thejas" created="Thu, 13 Nov 2014 19:40:33 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12744242">HIVE-8269</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12744243">HIVE-8270</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12744520">HIVE-8286</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12670145" name="HIVE-8200.1.patch" size="2259" author="deepesh" created="Fri, 19 Sep 2014 23:38:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20a6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>