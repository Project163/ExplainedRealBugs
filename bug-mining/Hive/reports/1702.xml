<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:13:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2055] Hive should add HBase classpath dependencies when available</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2055</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Created an external table in hive , which points to the HBase table. When tried to query a column using the column name in select clause got the following exception : ( java.lang.ClassNotFoundException: org.apache.hadoop.hive.hbase.HiveHBaseTableInputFormat), errorCode:12, SQLState:42000)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501467">HIVE-2055</key>
            <summary>Hive should add HBase classpath dependencies when available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="sajithv">sajith vijayan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Mar 2011 14:32:41 +0000</created>
                <updated>Tue, 19 Nov 2013 20:44:55 +0000</updated>
                            <resolved>Tue, 19 Nov 2013 20:44:55 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>16</watches>
                                                                                                                <comments>
                            <comment id="13564063" author="ndimiduk" created="Mon, 28 Jan 2013 05:39:17 +0000"  >&lt;p&gt;This sounds like a classpath issue. Can you further describe your environment?&lt;/p&gt;</comment>
                            <comment id="13567801" author="zeph" created="Thu, 31 Jan 2013 16:56:43 +0000"  >&lt;p&gt;I have the same issue... I setted up an environment with Cloudera Manager, the latest with CDH4&lt;/p&gt;

&lt;p&gt;the libraries are available under /usr/lib/hive/lib , and they are correctly in the CLASSPATH that gets computed by the hive-env.sh script (I did a print out of that), but in any case... they do not seem to get picked up, instead if I force them from command line, they work&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[zeph@yallayalla ~]$ hive
Logging initialized using configuration in jar:file:/usr/lib/hive/lib/hive-common-0.9.0-cdh4.1.2.jar!/hive-log4j.properties
Hive history file=/tmp/zeph/hive_job_log_zeph_201301311652_675003173.txt
hive&amp;gt; add jar /usr/lib/hive/lib/hive-hbase-handler-0.9.0-cdh4.1.2.jar;
Added /usr/lib/hive/lib/hive-hbase-handler-0.9.0-cdh4.1.2.jar to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path
Added resource: /usr/lib/hive/lib/hive-hbase-handler-0.9.0-cdh4.1.2.jar
hive&amp;gt; add jar /usr/lib/hive/lib/hbase.jar;
Added /usr/lib/hive/lib/hbase.jar to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path
Added resource: /usr/lib/hive/lib/hbase.jar
hive&amp;gt; select count(*) from yallayalla_vendors;                             
Total MapReduce jobs = 1
Launching Job 1 out of 1
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;
Starting Job = job_201301311629_0008, Tracking URL = http:&lt;span class=&quot;code-comment&quot;&gt;//yallayalla:50030/jobdetails.jsp?jobid=job_201301311629_0008
&lt;/span&gt;Kill Command = /usr/lib/hadoop/bin/hadoop job  -Dmapred.job.tracker=yallayalla:8021 -kill job_201301311629_0008
Hadoop job information &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Stage-1: number of mappers: 1; number of reducers: 1
2013-01-31 16:52:50,532 Stage-1 map = 0%,  reduce = 0%
2013-01-31 16:52:56,591 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 2.32 sec
2013-01-31 16:52:57,601 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 2.32 sec
2013-01-31 16:52:58,608 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 2.32 sec
2013-01-31 16:52:59,615 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 2.32 sec
2013-01-31 16:53:00,629 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 4.14 sec
2013-01-31 16:53:01,641 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 4.14 sec
MapReduce Total cumulative CPU time: 4 seconds 140 msec
Ended Job = job_201301311629_0008
MapReduce Jobs Launched: 
Job 0: Map: 1  Reduce: 1   Cumulative CPU: 4.14 sec   HDFS Read: 0 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 4 seconds 140 msec
OK
749
Time taken: 20.024 seconds
hive&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13567820" author="zeph" created="Thu, 31 Jan 2013 17:12:53 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Name        : hive                         Relocations: (not relocatable)
Version     : 0.9.0+155                         Vendor: (none)
Release     : 1.cdh4.1.2.p0.21.el6          Build Date: Fri Nov  2 01:34:37 2012
Install Date: Mon Jan 14 15:50:48 2013         Build Host: rhel64-6-0-mk1.jenkins.cloudera.com
Group       : Development/Libraries         Source RPM: hive-0.9.0+155-1.cdh4.1.2.p0.21.el6.src.rpm
Size        : 153016181                        License: Apache License v2.0
Signature   : DSA/SHA1, Mon Nov  5 16:16:55 2012, Key ID f90c0d8fe8f86acd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Name        : hbase                        Relocations: (not relocatable)
Version     : 0.92.1+160                        Vendor: (none)
Release     : 1.cdh4.1.2.p0.24.el6          Build Date: Fri Nov  2 01:03:06 2012
Install Date: Mon Jan 14 15:50:31 2013         Build Host: rhel64-6-0-mk1.jenkins.cloudera.com
Group       : Development/Libraries         Source RPM: hbase-0.92.1+160-1.cdh4.1.2.p0.24.el6.src.rpm
Size        : 39911513                         License: APL2
Signature   : DSA/SHA1, Mon Nov  5 16:16:52 2012, Key ID f90c0d8fe8f86acd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13568265" author="navis" created="Fri, 1 Feb 2013 00:09:03 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; is addressing the same issue. Could you try it?&lt;/p&gt;</comment>
                            <comment id="13568578" author="zeph" created="Fri, 1 Feb 2013 08:36:25 +0000"  >&lt;p&gt;indeed, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; is the source of this&lt;/p&gt;</comment>
                            <comment id="13577500" author="zeph" created="Wed, 13 Feb 2013 11:34:08 +0000"  >&lt;p&gt;btw... this is enough to fix it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
&amp;lt;name&amp;gt;hive.aux.jars.path&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;file:&lt;span class=&quot;code-comment&quot;&gt;///usr/lib/hive/lib/hbase.jar,file:///usr/lib/hive/lib/hive-hbase-handler-0.9.0-cdh4.1.2.jar&amp;lt;/value&amp;gt;
&lt;/span&gt;&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from Cloudera Manager into Hive Client Configuration Safety Valve for hive-site.xml&lt;/p&gt;</comment>
                            <comment id="13577507" author="zeph" created="Wed, 13 Feb 2013 12:02:05 +0000"  >&lt;p&gt;uhmm... apparently HUE does not seem to pick it up&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;                              java.io.IOException: Cannot create an instance of InputSplit class = org.apache.hadoop.hive.hbase.HBaseSplit:Class org.apache.hadoop.hive.hbase.HBaseSplit not found&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13577522" author="brocknoland" created="Wed, 13 Feb 2013 12:27:45 +0000"  >&lt;p&gt;Yeah the ultimate solution to this should be &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt;. I think this one can be resolved as a duplicate.&lt;/p&gt;</comment>
                            <comment id="13577565" author="zeph" created="Wed, 13 Feb 2013 13:37:25 +0000"  >&lt;p&gt;agree... but I can&apos;t alter the status of the ticket... &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sajithv&quot; class=&quot;user-hover&quot; rel=&quot;sajithv&quot;&gt;sajithv&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13598041" author="michaeln" created="Sat, 9 Mar 2013 19:06:38 +0000"  >&lt;p&gt;Somehow CM 4.5 is ignoring Hive Client Configuration Safety Values for hive-site.xml&lt;br/&gt;
and throws the same error in Hive&lt;br/&gt;
java.io.IOException: Cannot create an instance of InputSplit class = org.apache.hadoop.hive.hbase.HBaseSplit:Class org.apache.hadoop.hive.hbase.HBaseSplit not found&lt;/p&gt;</comment>
                            <comment id="13598145" author="brocknoland" created="Sun, 10 Mar 2013 03:29:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michaeln&quot; class=&quot;user-hover&quot; rel=&quot;michaeln&quot;&gt;michaeln&lt;/a&gt; CM should be discussed here &lt;a href=&quot;https://groups.google.com/a/cloudera.org/forum/?fromgroups#!forum/scm-users&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groups.google.com/a/cloudera.org/forum/?fromgroups#!forum/scm-users&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13635804" author="gkesavan" created="Thu, 18 Apr 2013 23:06:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;del&gt;HIVE-2055&lt;/del&gt;&lt;/a&gt;.patch fixes bin/hive script to include hbase and hcat lib&apos;s into the classpath&lt;/p&gt;</comment>
                            <comment id="13636834" author="sushanth" created="Fri, 19 Apr 2013 20:19:19 +0000"  >&lt;p&gt;This works for me. Non-binding +1.&lt;/p&gt;</comment>
                            <comment id="13636889" author="sushanth" created="Fri, 19 Apr 2013 21:09:07 +0000"  >&lt;p&gt;As Nick notes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-621&quot; title=&quot;bin/hcat should include hbase jar and dependencies in the classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-621&quot;&gt;HCATALOG-621&lt;/a&gt;, there might be more to this - I only tested for ddl operations. That said, setting HIVE_AUX_JARS_PATH should work for this, right?&lt;/p&gt;</comment>
                            <comment id="13637377" author="ashutoshc" created="Sat, 20 Apr 2013 21:49:32 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; is a better fix for this. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gkesavan&quot; class=&quot;user-hover&quot; rel=&quot;gkesavan&quot;&gt;gkesavan&lt;/a&gt; /  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;ndimiduk&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; Can you try with the patch attached there and see if that solves your problem.&lt;/p&gt;</comment>
                            <comment id="13637378" author="ashutoshc" created="Sat, 20 Apr 2013 21:52:11 +0000"  >&lt;p&gt;To be more specific, this patch just puts hbase jars in classpath of client, it doesn&apos;t ship those jars to cluster. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; achieves that as well.&lt;/p&gt;</comment>
                            <comment id="13637685" author="ndimiduk" created="Sun, 21 Apr 2013 23:36:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; Just as with &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2786&quot; title=&quot;enhance Pig launcher script wrt. HBase/HCat integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2786&quot;&gt;&lt;del&gt;PIG-2786&lt;/del&gt;&lt;/a&gt; vs &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;, there are two separate issues. The former is having HBase jars on the classpath for bin/hive invocations. The latter is for shipping the dependencies to the cluster for MR jobs. The former is also effectively identical to &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-621&quot; title=&quot;bin/hcat should include hbase jar and dependencies in the classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-621&quot;&gt;HCATALOG-621&lt;/a&gt; in that this is necessary for DDL operations. This patch resolves the former. The latter must be resolved with a code change, as is underway in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13637824" author="ashutoshc" created="Mon, 22 Apr 2013 08:06:24 +0000"  >&lt;p&gt;We don&apos;t need to load hcatalog jars. Now that hcatalog and hive jars are merged, all hcatalog jars will automatically get loaded. No need to explicitly add them to classpath. &lt;/p&gt;</comment>
                            <comment id="13639259" author="ndimiduk" created="Tue, 23 Apr 2013 17:17:17 +0000"  >&lt;p&gt;Updated patch, removing HCatalog support.&lt;/p&gt;</comment>
                            <comment id="13639331" author="ashutoshc" created="Tue, 23 Apr 2013 18:09:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;ndimiduk&lt;/a&gt; hbase/lib contains 58 jars. I don&apos;t think hbase client needs all of it. Further, most of them overlaps with hive jars. Its very easy to get out of sync w.r.t versions of these jars. Can you figure out minimal jars that we need to add. We should exclude the jars which are already there in hive and also which only hbase servers use.&lt;/p&gt;</comment>
                            <comment id="13639722" author="ndimiduk" created="Tue, 23 Apr 2013 22:25:55 +0000"  >&lt;p&gt;Tracking that list of dependencies across versions sounds like a terrible game of cat-and-mouse. Also, the list of jars is larger when using HBase&apos;s bulkload functionality. This patch appends the HBase jars to Hive&apos;s own list, so the versions from Hive will be found first. The jars are only involved in launching the command; the actual jars submitted with the job are based on use of addDependencyJars (via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13639889" author="gkesavan" created="Wed, 24 Apr 2013 00:17:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; I dont think having a list of minimal jars is scalable solution. &lt;br/&gt;
What if the next release of hbase depends of bunch of new jar&apos;s that are not part of the list that&apos;s provided in the bin/hive script? And, this would require fixing bin/hive scripts every time when hbase comes up with a new runtime dependency. &lt;/p&gt;

&lt;p&gt;As Nick pointed out hbase libs are appended to hive&apos;s classpath and hive libs still take the precedence. &lt;/p&gt;</comment>
                            <comment id="13640546" author="ashutoshc" created="Wed, 24 Apr 2013 15:49:02 +0000"  >&lt;p&gt;I am not very comfortable with adding all hbase dependency jars in hive&apos;s classpath. Couple of issues:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Order argument may be fine for hive, but what about hbase client itself, if it needs a different version of jar than what hive comes with, it will have trouble.&lt;/li&gt;
	&lt;li&gt;Classpath will become too long. We already have this trouble with Windows where because of restriction of classpath length of 8K chars, classpath is truncated without any indication to user. Linux is relaxed and allows 256KB (I believe) but this could be problem there too.&lt;br/&gt;
Further in either of these two cases, when problem did arise, its very hard to debug because it manifest in total different area usually.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you guys think adding only specific jars is unmaintainable solution, I think till we find better solution for this, we can recommend users to use HIVE_AUX_JARS_PATH env variable to supply these jars for hive&apos;s classpath. &lt;/p&gt;
</comment>
                            <comment id="13640572" author="ashutoshc" created="Wed, 24 Apr 2013 16:00:49 +0000"  >&lt;p&gt;Looking around, looks like this list is short and is already available at: &lt;a href=&quot;http://hbase.apache.org/book.html#client_dependencies&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hbase.apache.org/book.html#client_dependencies&lt;/a&gt; We should only need to add hbase jar (and possibly zk jar) from this list, since all other jars listed there will already be in classpath since they are hive&apos;s dependecies as well.&lt;/p&gt;</comment>
                            <comment id="13640631" author="ndimiduk" created="Wed, 24 Apr 2013 16:40:26 +0000"  >&lt;p&gt;The classpath length is a restriction I hadn&apos;t considered. I don&apos;t understand the relationship between CLASSPATH and HIVE_AUX_JARS_PATH. Is the latter shipped to the cluster for MR jobs? Are they used in hive-cli runtime as well?&lt;/p&gt;

&lt;p&gt;HBase jobs against an online table or involved in offline HFile/Snapshot work will depend on the hbase-client, hbase-mapreduce, zookeeper, protobuf, and perhaps guava. I believe everything else in that list is provided by Hadoop runtime.&lt;/p&gt;</comment>
                            <comment id="13641039" author="sushanth" created="Wed, 24 Apr 2013 22:11:01 +0000"  >&lt;p&gt;Hmm.. I agree with Ashutosh in that the length of the classpath is a valid consideration, especially for Windows. For the HCat JsonSerDe as well, our approach was to document that if you wanted it, users added the HCat jars to HIVE_AUX_JARS_PATH, but not have that explicitly for all the tasks which don&apos;t need it.&lt;/p&gt;

&lt;p&gt;Adding it to HIVE_AUX_JARS_PATH will result in it getting appended to the CLASSPATH for the job anyway, and people will get a long CLASSPATH, but that won&apos;t affect people who aren&apos;t using hbase and need a shorter classpath because they have other deps they want to add in.&lt;/p&gt;

&lt;p&gt;I like the shorter deps idea, but I also agree that maintaining that from hive&apos;s side is asking for desynch troubles later on. One possibility is that it could be maintained on the hbase side, so that running &quot;hbase barebones-classpath&quot; in a manner similar to the current &quot;hbase classpath&quot; can return only the deps that would have otherwise been added by addDependencyJars ? Then, users could do something like:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HIVE_AUX_JARS_PATH = $(hbase barebones-classpath) hive -f hbase_query.q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13641042" author="sushanth" created="Wed, 24 Apr 2013 22:11:56 +0000"  >&lt;p&gt;(Don&apos;t have edit privileges to edit cmdline above, but assume we clip the spaces around the assignment)&lt;/p&gt;</comment>
                            <comment id="13641092" author="apurtell" created="Wed, 24 Apr 2013 22:38:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;One possibility is that it could be maintained on the hbase side, so that running &quot;hbase barebones-classpath&quot; in a manner similar to the current &quot;hbase classpath&quot; can return only the deps that would have otherwise been added by addDependencyJars ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds plausible. What do you think Nick?&lt;/p&gt;</comment>
                            <comment id="13641094" author="ndimiduk" created="Wed, 24 Apr 2013 22:38:26 +0000"  >&lt;p&gt;Are you suggesting that the CLASSPATH length issue is going to bite us on &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2786&quot; title=&quot;enhance Pig launcher script wrt. HBase/HCat integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2786&quot;&gt;&lt;del&gt;PIG-2786&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-621&quot; title=&quot;bin/hcat should include hbase jar and dependencies in the classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-621&quot;&gt;HCATALOG-621&lt;/a&gt; as well?&lt;/p&gt;

&lt;p&gt;I guess what we really want is the set of Hive&apos;s dependencies union HBase&apos;s dependencies minus Hadoop&apos;s runtime jars.&lt;/p&gt;</comment>
                            <comment id="13641228" author="sushanth" created="Thu, 25 Apr 2013 00:29:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;ndimiduk&lt;/a&gt; Yup, it could bite us on both of those in Windows. I&apos;m a little less worried about &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-621&quot; title=&quot;bin/hcat should include hbase jar and dependencies in the classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-621&quot;&gt;HCATALOG-621&lt;/a&gt; itself since the hcat commandline is for ddl only, and is another thing we want to deprecate eventually in favour of the hive commandline.&lt;/p&gt;</comment>
                            <comment id="13642037" author="ndimiduk" created="Thu, 25 Apr 2013 18:14:30 +0000"  >&lt;p&gt;I took a stab at implementing a bash function that will remove duplicate entries from a PATH-like string. Trouble is, bash3 doesn&apos;t support associative maps, which makes implementation difficult. How do you feel about shelling out to perl for the string manipulation?&lt;/p&gt;</comment>
                            <comment id="13642239" author="ndimiduk" created="Thu, 25 Apr 2013 21:26:30 +0000"  >&lt;p&gt;Please have a look at the patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt;. It should be sufficient for our needs. Consumption of it in the hive launch script would look something like&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HBASE_CLASSPATH=&quot;$HADOOP_CLASSPATH:$(hbase classpath)&quot;
HADOOP_CLASSPATH=&quot;$(hbase classpath-min $HBASE_CLASSPATH)&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13689662" author="ndimiduk" created="Thu, 20 Jun 2013 21:03:56 +0000"  >&lt;p&gt;The topic of this issue came up in conversation with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;. He pointed me toward a Hadoop feature used by YARN to get around this very issue. Perhaps we can make use of the same.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/FileUtil.java#L1140&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13714256" author="brocknoland" created="Sat, 20 Jul 2013 00:16:20 +0000"  >&lt;p&gt;Hey guys I think the patch available status of this JIRA should be removed until these open questions are resolved.&lt;/p&gt;</comment>
                            <comment id="13714536" author="ndimiduk" created="Sat, 20 Jul 2013 20:39:47 +0000"  >&lt;p&gt;Fair enough. I lack privileges to change this attribute.&lt;/p&gt;</comment>
                            <comment id="13820558" author="ndimiduk" created="Tue, 12 Nov 2013 22:22:50 +0000"  >&lt;p&gt;My above link has turned stale. I&apos;m referring to FileUtil#createJarWithClassPath.&lt;/p&gt;

&lt;p&gt;Calling this method to construct a classpath jar every time a script calls $(hbase classpath-min) sounds time-consuming and will leave temp jars orphaned on the FS.&lt;/p&gt;

&lt;p&gt;Another idea is to use maven to generate a dependency list that omits Hadoop and other runtime jars? Any friends at BigTop who could give advice on this approach? (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvs&quot; class=&quot;user-hover&quot; rel=&quot;rvs&quot;&gt;rvs&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mackrorysd&quot; class=&quot;user-hover&quot; rel=&quot;mackrorysd&quot;&gt;mackrorysd&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Yet another option is to maintain the list manually on the HBase side. We already sort of do with in TableMapReduceUtils#addDependencyJars. This is probably the simplest but most fragile and least future-proof option.&lt;/p&gt;</comment>
                            <comment id="13822075" author="ndimiduk" created="Thu, 14 Nov 2013 01:24:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;See my latest patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt;. It provides a new command to the hbase bin script that prints out the jars our existing addDependencyJars detects. It&apos;s not perfect as it includes 2 unnecessary hadoop jars, but it&apos;s a lot better than blindly calling `hbase classpath`. Does this meet your expectations regarding environment variable length limitations?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ hbase mapredcp 2&amp;gt;/dev/null | tr &apos;:&apos; &apos;\n&apos; | wc
     12      12     660
$ hbase classpath 2&amp;gt;/dev/null | tr &apos;:&apos; &apos;\n&apos; | wc
    116     115    5459
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13822627" author="ashutoshc" created="Thu, 14 Nov 2013 17:09:21 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;ndimiduk&lt;/a&gt; for picking this up. Hadoop jar version could be a source of problems later, can you get rid of that in your hbase command. Also, for documentation purposes it will be good if you can paste here output of that command to list what deps are there at the moment.&lt;/p&gt;</comment>
                            <comment id="13822835" author="ndimiduk" created="Thu, 14 Nov 2013 20:03:54 +0000"  >&lt;p&gt;Here&apos;s my &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438?focusedCommentId=13822074&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13822074&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment&lt;/a&gt; on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt; with a listing of the jars picked up.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./bin/hbase mapredcp 2&amp;gt;/dev/null | tr &apos;:&apos; &apos;\n&apos;
/Users/ndimiduk/.m2/repository/org/apache/zookeeper/zookeeper/3.4.5/zookeeper-3.4.5.jar
/Users/ndimiduk/repos/hbase/hbase-common/target/hbase-common-0.96.0.jar
/Users/ndimiduk/.m2/repository/org/cloudera/htrace/htrace-core/2.01/htrace-core-2.01.jar
/Users/ndimiduk/repos/hbase/hbase-client/target/hbase-client-0.96.0.jar
/Users/ndimiduk/.m2/repository/io/netty/netty/3.6.6.Final/netty-3.6.6.Final.jar
/Users/ndimiduk/repos/hbase/hbase-protocol/target/hbase-protocol-0.96.0.jar
/Users/ndimiduk/repos/hbase/hbase-hadoop-compat/target/hbase-hadoop-compat-0.96.0.jar
/Users/ndimiduk/repos/hbase/hbase-server/target/hbase-server-0.96.0.jar
/Users/ndimiduk/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar
/Users/ndimiduk/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-core/2.1.0-beta/hadoop-mapreduce-client-core-2.1.0-beta.jar
/Users/ndimiduk/.m2/repository/org/apache/hadoop/hadoop-common/2.1.0-beta/hadoop-common-2.1.0-beta.jar
/Users/ndimiduk/.m2/repository/com/google/guava/guava/12.0.1/guava-12.0.1.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The hadoop jar chosen is based on what hadoop itself puts into the classpath, so I think it won&apos;t be an issue in practice. However, Pig has a similar need (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;) so my patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; implements a new method which will exclude the Hadoop pieces. We can modify this patch to call that new method if you prefer.&lt;/p&gt;</comment>
                            <comment id="13823338" author="ashutoshc" created="Fri, 15 Nov 2013 06:15:06 +0000"  >&lt;p&gt;Lets use the new method. Also, since zk, protobuf and guava are already hive&apos;s dep and will be in classpath, in the hive script we can exclude them from getting included via this command.&lt;/p&gt;</comment>
                            <comment id="13823907" author="ndimiduk" created="Fri, 15 Nov 2013 18:25:48 +0000"  >&lt;p&gt;Here&apos;s the output of the latest version of the patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt;, what you will get when running from HBase &amp;gt; 0.96.1. I intend to backport the feature in time for the 0.94.14 release as well.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./bin/hbase mapredcp | tr &apos;:&apos; &apos;\n&apos;
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/netty-3.6.6.Final.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/hbase-hadoop-compat-0.97.0-SNAPSHOT.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/protobuf-java-2.5.0.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/guava-12.0.1.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/htrace-core-2.01.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/hbase-protocol-0.97.0-SNAPSHOT.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/hbase-client-0.97.0-SNAPSHOT.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/zookeeper-3.4.5.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/hbase-server-0.97.0-SNAPSHOT.jar
/private/tmp/hbase-0.97.0-SNAPSHOT/lib/hbase-common-0.97.0-SNAPSHOT.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13824025" author="ashutoshc" created="Fri, 15 Nov 2013 19:54:25 +0000"  >&lt;p&gt;List looks good. As I suggested in previous comment, within hive script we can exclude zk,protobuf, guava (obtained via hbase cmd) to avoid adding them twice.&lt;/p&gt;</comment>
                            <comment id="13824558" author="hudson" created="Sat, 16 Nov 2013 18:22:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1203 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1203/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/HBase-0.94/1203/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;p&gt;Separate adding HBase and dependencies from adding other job dependencies, and&lt;br/&gt;
expose it as a separate method that other projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;del&gt;HIVE-2055&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542414)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824586" author="hudson" created="Sat, 16 Nov 2013 19:08:48 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #337 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/337/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/337/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;p&gt;Separate adding HBase and dependencies from adding other job dependencies, and&lt;br/&gt;
expose it as a separate method that other projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;del&gt;HIVE-2055&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542414)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824955" author="ndimiduk" created="Sun, 17 Nov 2013 21:05:46 +0000"  >&lt;p&gt;Backport to 0.94 is also complete. For reference, here&apos;s its output:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./bin/hbase mapredcp | tr &apos;:&apos; &apos;\n&apos;
/private/tmp/hbase-0.94.14-SNAPSHOT/hbase-0.94.14-SNAPSHOT.jar
/private/tmp/hbase-0.94.14-SNAPSHOT/lib/protobuf-java-2.4.0a.jar
/private/tmp/hbase-0.94.14-SNAPSHOT/lib/zookeeper-3.4.5.jar
/private/tmp/hbase-0.94.14-SNAPSHOT/lib/guava-11.0.2.jar
/private/tmp/hbase-0.94.14-SNAPSHOT/lib/hadoop-core-1.0.4.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13825647" author="rvs" created="Mon, 18 Nov 2013 19:21:06 +0000"  >&lt;p&gt;Sorry for dropping by somewhat late but it looks like you&apos;ve got a pretty reasonable solution with mapredcp.&lt;/p&gt;</comment>
                            <comment id="13825664" author="ndimiduk" created="Mon, 18 Nov 2013 19:33:49 +0000"  >&lt;p&gt;Here&apos;s an updated patch to the launch script based on the new hbase command. Please excuse my bash scripting; I&apos;m not a native speaker.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvs&quot; class=&quot;user-hover&quot; rel=&quot;rvs&quot;&gt;rvs&lt;/a&gt; you&apos;re just in time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13825734" author="ashutoshc" created="Mon, 18 Nov 2013 20:21:13 +0000"  >&lt;p&gt;We dont want hbase conf and jars to take precedence over rest of classpath.  So, instead of &lt;br/&gt;
+  export HADOOP_CLASSPATH=&quot;${HBASE_CONF_DIR}:${HADOOP_CLASSPATH}&quot;&lt;br/&gt;
+    export HADOOP_CLASSPATH=&quot;${x}:${HADOOP_CLASSPATH}&quot;&lt;/p&gt;

&lt;p&gt;do&lt;br/&gt;
+  export HADOOP_CLASSPATH=&quot;${HADOOP_CLASSPATH}:${HBASE_CONF_DIR}:&quot;&lt;br/&gt;
+    export HADOOP_CLASSPATH=&quot;${HADOOP_CLASSPATH}:${x}&quot;&lt;/p&gt;

&lt;p&gt;Rest of patch looks good.&lt;/p&gt;</comment>
                            <comment id="13825745" author="ndimiduk" created="Mon, 18 Nov 2013 20:28:38 +0000"  >&lt;p&gt;Updating patch according to Ashutosh&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13825758" author="ashutoshc" created="Mon, 18 Nov 2013 20:38:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13826244" author="rvs" created="Tue, 19 Nov 2013 06:34:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;ndimiduk&lt;/a&gt; LGTM +1&lt;/p&gt;</comment>
                            <comment id="13826917" author="ashutoshc" created="Tue, 19 Nov 2013 20:44:55 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Nick!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12633076">HCATALOG-621</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12644643">HBASE-8438</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12614479" name="0001-HIVE-2055-include-hbase-dependencies-in-launch-scrip.patch" size="2111" author="ndimiduk" created="Mon, 18 Nov 2013 20:28:38 +0000"/>
                            <attachment id="12614457" name="0001-HIVE-2055-include-hbase-dependencies-in-launch-scrip.patch" size="2111" author="ndimiduk" created="Mon, 18 Nov 2013 19:33:49 +0000"/>
                            <attachment id="12580082" name="0001-HIVE-2055-include-hbase-dependencies-in-launch-scrip.patch" size="1274" author="ndimiduk" created="Tue, 23 Apr 2013 17:17:17 +0000"/>
                            <attachment id="12579449" name="HIVE-2055.patch" size="1457" author="gkesavan" created="Thu, 18 Apr 2013 23:06:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>HBase will be detected via HBASE_HOME and HBASE_CONF_DIR. HBASE_HOME defaults to BigTop path /usr/lib/hbase.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>