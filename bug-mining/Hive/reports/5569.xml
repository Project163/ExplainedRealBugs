<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:54:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-16113] PartitionPruner::removeNonPartCols needs to handle AND/OR cases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-16113</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table daysales (customer &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) partitioned by (dt string);

insert into daysales partition(dt=&lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) values(1);

select * from daysales where nvl(dt=&lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt; and customer=1, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
0 ROWS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java#L384&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java#L384&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = NVL(((dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) and &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;),&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because &lt;tt&gt;true and null =&amp;gt; null&lt;/tt&gt;, this turns into &lt;tt&gt;NVL(null, false)&lt;/tt&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13048357">HIVE-16113</key>
            <summary>PartitionPruner::removeNonPartCols needs to handle AND/OR cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="gopalv">Gopal Vijayaraghavan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Mar 2017 12:34:49 +0000</created>
                <updated>Fri, 1 Dec 2023 09:46:00 +0000</updated>
                            <resolved>Sat, 20 May 2017 19:06:40 +0000</resolved>
                                    <version>1.2.1</version>
                    <version>2.1.1</version>
                    <version>2.2.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Logical Optimizer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15896457" author="gopalv" created="Sun, 5 Mar 2017 17:43:33 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-03-05T12:37:46,379  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = dt
2017-03-05T12:37:46,379  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;
2017-03-05T12:37:46,379  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = (dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;)
2017-03-05T12:37:46,380  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = 1
2017-03-05T12:37:46,380  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; = 1)
2017-03-05T12:37:46,380  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = ((dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) and (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; = 1))
2017-03-05T12:37:46,380  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2017-03-05T12:37:46,380  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = NVL(((dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) and (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; = 1)),&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = dt
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = (dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;)
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = ((dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) and &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2017-03-05T12:37:47,153  WARN [6f053d71-6ad6-4ad0-833d-337f2d499c82 main] ppr.PartitionPruner: The expr = NVL(((dt = &lt;span class=&quot;code-quote&quot;&gt;&apos;2001-01-01&apos;&lt;/span&gt;) and &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;),&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15896586" author="hiveqa" created="Sun, 5 Mar 2017 22:44:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12856193/HIVE-16113.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12856193/HIVE-16113.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 10324 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=229)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcr] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[push_or] (batchId=15)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_views] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_views] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_table] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[special_character_in_tabnames_1] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=224)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[pcr] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=231)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3953/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3953/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3953/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3953/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3953/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3953/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12856193 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15897921" author="sershe" created="Mon, 6 Mar 2017 19:48:45 +0000"  >&lt;p&gt;+1 assuming tests are unrelated&lt;/p&gt;</comment>
                            <comment id="15897927" author="gopalv" created="Mon, 6 Mar 2017 19:51:37 +0000"  >&lt;p&gt;The test failures are related - looks like some of the existing golden files are broken plans too.&lt;/p&gt;

&lt;p&gt;Will update them after reviewing.&lt;/p&gt;</comment>
                            <comment id="15937114" author="gopalv" created="Wed, 22 Mar 2017 21:02:07 +0000"  >&lt;p&gt;-1 on this approach for now - the TRUE constants are actually messing up the PartitionConditionRemover which removes entire expressions.&lt;/p&gt;

&lt;p&gt;(partcol = 1 or col &amp;lt; 5) -&amp;gt; (partcol = 1 or false) -&amp;gt; (false)&lt;/p&gt;</comment>
                            <comment id="16001199" author="ashutoshc" created="Mon, 8 May 2017 17:51:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rusanu&quot; class=&quot;user-hover&quot; rel=&quot;rusanu&quot;&gt;rusanu&lt;/a&gt; You were working on this part of code recently.  Would you like to take a look at this one?&lt;/p&gt;</comment>
                            <comment id="16002677" author="rusanu" created="Tue, 9 May 2017 13:36:22 +0000"  >&lt;p&gt;I think the issue is that the partition pruning logic expects &lt;tt&gt;null&lt;/tt&gt; values to percolate through the expression tree and trigger the &lt;tt&gt;isUnknown&lt;/tt&gt; case in &lt;tt&gt;PartitionPrunner.prunePartitionNames&lt;/tt&gt;. But expressions like CASE, COALESCE or NVL (maybe other?) stop null bubbling and can evaluate the tree to a resolute &lt;tt&gt;false&lt;/tt&gt; instead, causing overaggressive partition elimination. If the expression has these functions (NVL, COALESCE) to handle &lt;tt&gt;null&lt;/tt&gt; values at a &lt;b&gt;row&lt;/b&gt; level we&apos;re evaluating them and taking a decision at &lt;b&gt;partition&lt;/b&gt; level (prune/not prune), and the &apos;prune&apos; case is not safe. Perhaps we should consider functions like NVL/COALESCE &apos;special&apos; and inject &apos;true&apos; instead in the pruning expression? &lt;/p&gt;</comment>
                            <comment id="16003117" author="rusanu" created="Tue, 9 May 2017 17:29:55 +0000"  >&lt;p&gt;&lt;tt&gt;OR&lt;/tt&gt;: the partition pruner is reducing the expression to &lt;tt&gt;partcol = 1&lt;/tt&gt; and this reduces the list of partitions retrieved from MD:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    ppList = getPartitionsFromServer(tab, (ExprNodeGenericFuncDesc)compactExpr, conf, alias, partColsUsedInFilter, oldFilter.equals(compactExpr.getExprString()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;By now things are already broken, but later the reduced partition list causes the &lt;tt&gt;PcrExprProcFactory.GenericFuncExprProcessor.handleUdfOr&lt;/tt&gt; to see a definite TRUE instead of a correct DIVIDE (since the filter expression is only evaluated against a reduced list of partitions) and thus cause the &lt;tt&gt;PartitionConditionRemover&lt;/tt&gt; to remove the entire Filter. &lt;/p&gt;</comment>
                            <comment id="16003300" author="rusanu" created="Tue, 9 May 2017 18:55:05 +0000"  >&lt;p&gt;I don&apos;t think we should handle OR in removeNonPartCols, leaving it as NULL to bubble behaves correctly. I made that change and tested it, all good. &lt;/p&gt;

&lt;p&gt;But the NVL/COALESCE/CASE is trickier. I can write a filter like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;where colpart=1 or col &amp;lt; 5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and works correct, but wrap it in an NVL:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;where NVL(colpart=1 or col &amp;lt; 5, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and the result is no longer correct because the NULL is being replaced  with FALSE and this causes overaggressive partition pruning. My plan is to have these UDFs (NVL/COALESCE) replaced with NULL in the pruning expr tree.&lt;/p&gt;</comment>
                            <comment id="16003324" author="gopalv" created="Tue, 9 May 2017 19:07:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;My plan is to have these UDFs (NVL/COALESCE) replaced with NULL in the pruning expr tree.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Any UDF which gets a NULL arg because of a non-partition column can be replaced with NULL, right? &lt;/p&gt;

&lt;p&gt;That might be better instead of special-casing built-in UDFs?&lt;/p&gt;</comment>
                            <comment id="16008127" author="rusanu" created="Fri, 12 May 2017 13:31:39 +0000"  >&lt;p&gt;Patch 2 makes any function that has any argument NULL transform into NULL, for the purpose of partition pruning logic. Only &lt;tt&gt;partcol AND NULL&lt;/tt&gt; is replaced with &lt;tt&gt;partcoll AND TRUE&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16008863" author="hiveqa" created="Fri, 12 May 2017 22:57:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12867771/HIVE-16113.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12867771/HIVE-16113.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10700 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_windowing2] (batchId=10)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=97)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=97)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5232/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5232/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5232/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5232/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5232/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5232/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12867771 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16016447" author="ashutoshc" created="Thu, 18 May 2017 20:49:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="16018499" author="rusanu" created="Sat, 20 May 2017 15:22:51 +0000"  >&lt;p&gt;Patch.3 rebased to current master for new test run&lt;/p&gt;</comment>
                            <comment id="16018538" author="hiveqa" created="Sat, 20 May 2017 16:39:39 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12869114/HIVE-16113.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12869114/HIVE-16113.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10741 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=97)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=97)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5368/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5368/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5368/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5368/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5368/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5368/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12869114 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16018565" author="rusanu" created="Sat, 20 May 2017 17:42:57 +0000"  >&lt;p&gt;PAtch.4 add the explainuser_3/analyze_3 GF diff (altough they&apos;re gen 88).&lt;/p&gt;</comment>
                            <comment id="16018591" author="hiveqa" created="Sat, 20 May 2017 18:58:35 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12869132/HIVE-16113.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12869132/HIVE-16113.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10741 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[named_column_join] (batchId=72)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=144)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5371/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5371/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5371/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5371/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5371/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5371/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12869132 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16018596" author="rusanu" created="Sat, 20 May 2017 19:06:40 +0000"  >&lt;p&gt;Resolved via &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=hive.git;a=commit;h=5f4eaa9b13e7beec8bb16fea94fec386e2bc1e00&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=hive.git;a=commit;h=5f4eaa9b13e7beec8bb16fea94fec386e2bc1e00&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16485861" author="vgarg" created="Tue, 22 May 2018 23:57:59 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13479299">HIVE-26505</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12856193" name="HIVE-16113.1.patch" size="10072" author="gopalv" created="Sun, 5 Mar 2017 21:31:06 +0000"/>
                            <attachment id="12867771" name="HIVE-16113.2.patch" size="38510" author="rusanu" created="Fri, 12 May 2017 13:31:39 +0000"/>
                            <attachment id="12869114" name="HIVE-16113.3.patch" size="38730" author="rusanu" created="Sat, 20 May 2017 15:22:51 +0000"/>
                            <attachment id="12869132" name="HIVE-16113.4.patch" size="41126" author="rusanu" created="Sat, 20 May 2017 17:42:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ayuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>