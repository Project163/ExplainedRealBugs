<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:29:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-9496] Slf4j warning in hive command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-9496</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Each time &apos;hive&apos; command is ran, we have an Sl4J warning about multiple jars containing SL4J classes.&lt;/p&gt;

&lt;p&gt;This bug is similar to Hive-6162, but doesn&apos;t seems to be solved.&lt;/p&gt;

&lt;p&gt;Logging initialized using configuration in &lt;a href=&quot;file:/etc/hive/conf/hive-log4j.properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/etc/hive/conf/hive-log4j.properties&lt;/a&gt;&lt;br/&gt;
SLF4J: Class path contains multiple SLF4J bindings.&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.2.0.0-1084/hadoop/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/usr/hdp/2.2.0.0-1084/hive/lib/hive-jdbc-0.14.0.2.2.0.0-1084-standalone.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#multiple_bindings&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.slf4j.org/codes.html#multiple_bindings&lt;/a&gt; for an explanation.&lt;br/&gt;
SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.slf4j.impl.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;HDP 2.2.0 on CentOS.&lt;br/&gt;
With Horton Sand Box and my own cluster.&lt;/p&gt;</environment>
        <key id="12770696">HIVE-9496</key>
            <summary>Slf4j warning in hive command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="pkernevez">Philippe Kernevez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2015 15:42:48 +0000</created>
                <updated>Thu, 24 Jan 2019 01:24:21 +0000</updated>
                            <resolved>Fri, 6 Feb 2015 19:45:29 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14300807" author="apivovarov" created="Mon, 2 Feb 2015 01:20:35 +0000"  >&lt;p&gt;slf4j-log4j12-1.7.5.jar is required for jdbc clients. This is why it&apos;s included to hive-jdbc-standalone.jar&lt;/p&gt;

&lt;p&gt;currently hive/lib contains both hive-jdbc.jar and hive-jdbc-standalone.jar&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive]$ ls packaging/target/apache-hive-1.2.0-SNAPSHOT-bin/apache-hive-1.2.0-SNAPSHOT-bin/lib/ | grep jdbc
hive-jdbc-1.2.0-SNAPSHOT.jar
hive-jdbc-1.2.0-SNAPSHOT-standalone.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Probably hive-jdbc-standalone.jar should not be placed to hive/lib&lt;/p&gt;

&lt;p&gt;Question is, where to put hive-jdbc-1.2.0-SNAPSHOT-standalone.jar?&lt;/p&gt;

&lt;p&gt;maybe just to the root of hive?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ ls apache-hive-1.2.0-SNAPSHOT-bin/
bin  conf  derby.log  examples  hcatalog  lib  LICENSE  NOTICE  README.txt  RELEASE_NOTES.txt  scripts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14302877" author="apivovarov" created="Tue, 3 Feb 2015 07:25:48 +0000"  >&lt;p&gt;decided to move hive-jdbc-standalone.jar to extlib folder&lt;/p&gt;</comment>
                            <comment id="14302878" author="apivovarov" created="Tue, 3 Feb 2015 07:27:12 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14304179" author="thejas" created="Tue, 3 Feb 2015 22:43:28 +0000"  >&lt;p&gt;hive-jdbc-standalone jar should not be including an slf4j binding. This jar is meant to be used by an external application, and that application should have control over what logging framework is used (including alternatives to log4j).&lt;br/&gt;
I think we need to remove slf4j binding from this jar. &lt;/p&gt;

&lt;p&gt;Regarding, the move to extlib, we can consider that if we have very strong reasons to do so. Moving the dir would mean that client applications might break on upgrade, since their classpaths would point to the jar in lib dir.&lt;/p&gt;</comment>
                            <comment id="14304347" author="apivovarov" created="Wed, 4 Feb 2015 00:05:09 +0000"  >&lt;p&gt;1.&lt;br/&gt;
I identified minimum list of jars needed to open jdbc connection and run simple queries&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commons-logging-1.1.3.jar 
hive-exec-1.2.0-SNAPSHOT.jar
hive-service-1.2.0-SNAPSHOT.jar
httpcore-4.2.5.jar
libthrift-0.9.2.jar
hadoop-common-2.6.0.jar
hive-jdbc-1.2.0-SNAPSHOT.jar
httpclient-4.2.5.jar
libfb303-0.9.2.jar
slf4j-api-1.7.5.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s only one jar from slf4j family - slf4j-api-1.7.5.jar.  This jar does not have StaticLoggerBinder.class&lt;br/&gt;
So, we can remove classes found in slf4j-log4j12-1.7.5.jar from hive-jdbc-standalone.jar and keep classes from slf4j-api-1.7.5.jar&lt;/p&gt;

&lt;p&gt;2. hive-jdbc-standalone.jar is one of the 3 artifacts generated by hive package build.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;apache-hive-1.2.0-SNAPSHOT-bin.tar.gz
apache-hive-1.2.0-SNAPSHOT-jdbc.jar  &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is another name &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  hive-jdbc-standalone.jar
&lt;/span&gt;apache-hive-1.2.0-SNAPSHOT-src.tar.gz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, probably we should not even include hive-jdbc-standalone.jar to apache-hive-1.2.0-bin.tar.gz.  These 3 files (bin, src and jdbc) should be available for download on Hive Download website. (bin and src are already available)&lt;/p&gt;

&lt;p&gt;BUT, beeline which is included to apache-hive-1.2.0-bin.tar.gz is also jdbc client. It needs hive-jdbc-standalone.jar to open jdbc connection to Hiveserver2.&lt;br/&gt;
beeline.sh location is bin/ext/beeline.sh   so it has &quot;ext&quot; in path&lt;br/&gt;
This is why beeline specific jars should also have &quot;ext&quot; in path&lt;br/&gt;
This is why I put hive-jdbc-standalone.jar to extlib folder.&lt;br/&gt;
We can use another folder for hive-jdbc-standalone.jar but it should not be mixed with hive/lib jars. &lt;br/&gt;
Why have class duplicates in hive classpath and non-determenistic java classpath behaviours. Who knows from what jar particular class is loaded.&lt;/p&gt;

&lt;p&gt;The only purpose of having hive-jdbc-standalone.jar in apache-hive-1.2.0-bin.tar.gz is beeline requirements to have it in classpath.&lt;br/&gt;
Lets put hive-jdbc-standalone.jar to beeline lib specific folder (or more generic jdbc-lib folder)&lt;/p&gt;

&lt;p&gt;All other client application (like SQuirrel SQL, SQL Workbench/J, Tableau, etc) should get apache-hive-1.2.0-SNAPSHOT-jdbc.jar from Hive Download website.&lt;/p&gt;</comment>
                            <comment id="14304716" author="apivovarov" created="Wed, 4 Feb 2015 06:55:47 +0000"  >&lt;p&gt;patch #2 - exclude slf4j-log4j12 classes from hive-jdbc-standalone.jar&lt;/p&gt;</comment>
                            <comment id="14305239" author="hiveqa" created="Wed, 4 Feb 2015 15:14:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12696396/HIVE-9496.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12696396/HIVE-9496.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7422 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2649/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2649/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2649/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2649/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2649/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2649/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12696396 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14305739" author="thejas" created="Wed, 4 Feb 2015 19:00:07 +0000"  >&lt;p&gt;+1 to 2.patch&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt; You have mentioned many valid points and ideas/recommendations! Thanks, such suggestions really help improve hive!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I agree that it makes sense to publish the jdbc-standalone jar as something that can be downloaded without having to download the entire tar.gz. Most end users (who are not hadoop admins) would just need that, not the entire tar.gz. We should probably have discussion about that in the hive-dev mailing list, just to make sure everyone thinks the same. Would you like to start one ?&lt;/li&gt;
	&lt;li&gt;As we have been putting the standalone jar in the lib dir, people might be expecting the jar there, even after they upgrade their version of hive. So changing the jar location is a backward incompatibility issue in that regard (though not a major issue). Lets avoid that change unless there is a very strong reason to do it. I agree with you that we should have put it in a different dir in the first place.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks again for the patch!&lt;/p&gt;</comment>
                            <comment id="14309744" author="thejas" created="Fri, 6 Feb 2015 19:45:29 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Thanks for creating the jira &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkernevez&quot; class=&quot;user-hover&quot; rel=&quot;pkernevez&quot;&gt;pkernevez&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14548877" author="sushanth" created="Mon, 18 May 2015 19:52:51 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="14558475" author="bogdanosoft" created="Mon, 25 May 2015 19:34:56 +0000"  >&lt;p&gt;I am new to Hive, actually I am in the learning process. &lt;br/&gt;
Please let me know how I should apply the patch from the command line only ? I am using the Hortonworks sandbox and I was browsing and searching this on the Internet, nothing related to CLI was found, just how to apply a patch using Eclipse. &lt;/p&gt;

&lt;p&gt;Please help me! &lt;/p&gt;

&lt;p&gt;Many thanks in advance!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12687803">HIVE-6162</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13211425">HIVE-21157</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12696115" name="HIVE-9496.1.patch" size="1823" author="apivovarov" created="Tue, 3 Feb 2015 07:27:12 +0000"/>
                            <attachment id="12696396" name="HIVE-9496.2.patch" size="572" author="apivovarov" created="Wed, 4 Feb 2015 06:55:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24whb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>