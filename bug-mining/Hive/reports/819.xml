<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:00:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2703] ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2703</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ResultSetMetaData.getColumnType() always returns VARCHAR(string) as column type, no matter what the column type is for the partition column.&lt;/p&gt;

&lt;p&gt;However DatabaseMetadata.getColumnType() returns correct type. &lt;/p&gt;


&lt;p&gt;Create a table with a partition column having a type other than string, you will see that ResultSet.getColumnType() always returns string as the type for int or boolean or float columns...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537878">HIVE-2703</key>
            <summary>ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="tamtam180">tamtam180</assignee>
                                    <reporter username="mgk.424@gmail.com">Mythili Gopalakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 10:01:41 +0000</created>
                <updated>Fri, 19 Jul 2013 22:52:09 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13188480" author="steffen.lutter" created="Wed, 18 Jan 2012 14:47:57 +0000"  >&lt;p&gt;I encountered this issue as well and it would require me some efforts to work around this, so I&apos;d be really happy if this will be fixed!&lt;/p&gt;</comment>
                            <comment id="13255606" author="phabricator@reviews.facebook.net" created="Tue, 17 Apr 2012 14:48:18 +0000"  >&lt;p&gt;tamtam180 requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2703&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;  ResultSetMetaData.getColumnType() always returns VARCHAR(string) as column type, no matter what the column type is for the partition column.&lt;/p&gt;

&lt;p&gt;  However DatabaseMetadata.getColumnType() returns correct type.&lt;/p&gt;


&lt;p&gt;  Create a table with a partition column having a type other than string, you will see that ResultSet.getColumnType() always returns string as the type for int or boolean or float columns...&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2829&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/6423/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/6423/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13255608" author="tamtam180" created="Tue, 17 Apr 2012 14:50:04 +0000"  >&lt;p&gt;I was attach a patch.&lt;br/&gt;
Could someone review this patch?&lt;/p&gt;</comment>
                            <comment id="13259387" author="phabricator@reviews.facebook.net" created="Mon, 23 Apr 2012 05:19:31 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2829&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13260298" author="hudson" created="Tue, 24 Apr 2012 06:51:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1392 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1392/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1392/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns&lt;br/&gt;
irrespective of partition column type (tamtam180 via namit) (Revision 1329492)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13284277" author="namit" created="Mon, 28 May 2012 03:01:17 +0000"  >&lt;p&gt;Re-opening.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3059&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="13284607" author="hudson" created="Tue, 29 May 2012 02:45:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1455 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1455/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1455/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt;, add testcase for non-string partition columns&lt;br/&gt;
           passed to transform operator, updated TestJdbcDriver.&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1343331)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partcols1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partcols1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13403048" author="the6campbells" created="Thu, 28 Jun 2012 12:13:47 +0000"  >&lt;p&gt;Is this fix (or any other) addressing similar issues with respect to map, array, struct... where the type is always returned and described a string type?&lt;/p&gt;</comment>
                            <comment id="13548102" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt;, add testcase for non-string partition columns&lt;br/&gt;
           passed to transform operator, updated TestJdbcDriver.&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1343331)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns&lt;br/&gt;
irrespective of partition column type (tamtam180 via namit) (Revision 1329492)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partcols1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partcols1.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12522955" name="ASF.LICENSE.NOT.GRANTED--HIVE-2703.D2829.1.patch" size="11580" author="phabricator@reviews.facebook.net" created="Tue, 17 Apr 2012 14:48:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02upj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>