<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:17:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6570] Hive variable substitution does not work with the &quot;source&quot; command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6570</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following does not work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;source ${hivevar:test-dir}/test.q;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12699267">HIVE-6570</key>
            <summary>Hive variable substitution does not work with the &quot;source&quot; command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erwaman">Anthony Hsu</assignee>
                                    <reporter username="erwaman">Anthony Hsu</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Thu, 6 Mar 2014 21:18:44 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:36 +0000</updated>
                            <resolved>Sun, 30 Mar 2014 15:00:26 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13923079" author="erwaman" created="Thu, 6 Mar 2014 21:21:05 +0000"  >&lt;p&gt;I have a fix for this issue and will upload a patch shortly.&lt;/p&gt;</comment>
                            <comment id="13923236" author="erwaman" created="Thu, 6 Mar 2014 23:14:20 +0000"  >&lt;p&gt;Added support for Hive variable substitution with the &quot;source&quot; command, and added a test for this in source.q.&lt;/p&gt;</comment>
                            <comment id="13923262" author="erwaman" created="Thu, 6 Mar 2014 23:41:33 +0000"  >&lt;p&gt;Review Board code review: &lt;a href=&quot;https://reviews.apache.org/r/18874/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/18874/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13923308" author="szehon" created="Fri, 7 Mar 2014 00:26:46 +0000"  >&lt;p&gt;Looks like this will work, +1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="13924310" author="erwaman" created="Fri, 7 Mar 2014 20:40:30 +0000"  >&lt;p&gt;Reuploading identical patch without the &quot;.txt&quot; suffix so that the precommit tests will run.&lt;/p&gt;</comment>
                            <comment id="13924336" author="hiveqa" created="Fri, 7 Mar 2014 20:56:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633248/HIVE-6570.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633248/HIVE-6570.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5360 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1650/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1650/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1650/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1650/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633248&lt;/p&gt;</comment>
                            <comment id="13925238" author="hiveqa" created="Sun, 9 Mar 2014 16:44:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633453/HIVE-6570.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633453/HIVE-6570.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5374 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1678/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1678/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1678/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1678/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633453&lt;/p&gt;</comment>
                            <comment id="13932339" author="ashutoshc" created="Wed, 12 Mar 2014 20:44:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13932494" author="erwaman" created="Wed, 12 Mar 2014 22:10:23 +0000"  >&lt;p&gt;The single test failure seems unrelated to my change.&lt;/p&gt;

&lt;p&gt;Ashutosh, can you commit my change for me?&lt;/p&gt;</comment>
                            <comment id="13932501" author="ashutoshc" created="Wed, 12 Mar 2014 22:12:08 +0000"  >&lt;p&gt;yeah, failure is unrelated. I will commit this shortly.&lt;/p&gt;</comment>
                            <comment id="13932506" author="appodictic" created="Wed, 12 Mar 2014 22:13:40 +0000"  >&lt;p&gt;WE should make a release note if someone has  $ in there file hive might now try to interpret it.&lt;/p&gt;</comment>
                            <comment id="13932644" author="ashutoshc" created="Wed, 12 Mar 2014 23:26:02 +0000"  >&lt;p&gt;If I am reading the patch correctly, it does that interpretation only for &lt;tt&gt;source&lt;/tt&gt; statement, not for anything else.&lt;/p&gt;</comment>
                            <comment id="13938404" author="erwaman" created="Mon, 17 Mar 2014 21:22:16 +0000"  >&lt;p&gt;Added a Release Note explaining the changes in this patch.&lt;/p&gt;</comment>
                            <comment id="13938415" author="ashutoshc" created="Mon, 17 Mar 2014 21:30:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; Let us know if you have any more feedback.&lt;/p&gt;</comment>
                            <comment id="13943740" author="erwaman" created="Fri, 21 Mar 2014 23:52:32 +0000"  >&lt;p&gt;Ping&lt;/p&gt;</comment>
                            <comment id="13943746" author="ashutoshc" created="Sat, 22 Mar 2014 00:01:34 +0000"  >&lt;p&gt;I am waiting to hear from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; seems like he had some concerns.&lt;/p&gt;</comment>
                            <comment id="13951347" author="erwaman" created="Fri, 28 Mar 2014 20:39:40 +0000"  >&lt;p&gt;What concerns does &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; have?&lt;/p&gt;</comment>
                            <comment id="13951675" author="appodictic" created="Sat, 29 Mar 2014 01:22:04 +0000"  >&lt;p&gt;No major concern the release note is enough information. Sorry I was not paying attention to this thread. Please proceed.&lt;/p&gt;</comment>
                            <comment id="13954321" author="erwaman" created="Sat, 29 Mar 2014 16:26:35 +0000"  >&lt;p&gt;Thanks.  Could one of you guys commit the patch for me please?&lt;/p&gt;</comment>
                            <comment id="13954441" author="lefty@hortonworks.com" created="Sat, 29 Mar 2014 20:56:21 +0000"  >&lt;p&gt;Do the bug &amp;amp; fix need to be mentioned in the wiki?  A version note could be added in the CLI doc and/or Variable Substitution:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli#LanguageManualCli-HiveInteractiveShellCommands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CLI:  Hive Interactive Shell Commands &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+VariableSubstitution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Variable Substitution &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13954616" author="erwaman" created="Sun, 30 Mar 2014 08:18:56 +0000"  >&lt;p&gt;It would probably be nice to add an example to the Variable Substitution page that uses variable substitution with the source command.&lt;/p&gt;

&lt;p&gt;On a side note, how does one get edit privileges for the wiki?&lt;/p&gt;</comment>
                            <comment id="13954623" author="lefty@hortonworks.com" created="Sun, 30 Mar 2014 08:49:16 +0000"  >&lt;p&gt;&quot;AboutThisWiki&quot; gives these instructions:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;How to get permission to edit&lt;/b&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create a Confluence account&lt;/li&gt;
	&lt;li&gt;Sign up for the user mailing list by sending a message to user-subscribe@hive.apache.org&lt;/li&gt;
	&lt;li&gt;Send a message to user@hive.apache.org requesting write access&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AboutThisWiki &lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954699" author="xuefuz" created="Sun, 30 Mar 2014 15:00:12 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks to Anthony for the contribution.&lt;/p&gt;</comment>
                            <comment id="13955374" author="erwaman" created="Mon, 31 Mar 2014 16:49:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; - Thanks for the instructions!&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; - Thanks for committing this!&lt;/p&gt;</comment>
                            <comment id="14210999" author="thejas" created="Thu, 13 Nov 2014 19:43:36 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12444266">HIVE-1014</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12705545">HIVE-6791</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12633453" name="HIVE-6570.1.patch" size="8499" author="erwaman" created="Fri, 7 Mar 2014 20:40:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t2gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch adds Hive variable substitution support to the &amp;quot;source&amp;quot; command.  For example, you will now be able to use a statement such as:&lt;br/&gt;
source ${hivevar:test-dir}/test.q; </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>