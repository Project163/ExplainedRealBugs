<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:21:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-25680] Authorize #get_table_meta HiveMetastore Server API to use any of the HiveMetastore Authorization model</title>
                <link>https://issues.apache.org/jira/browse/HIVE-25680</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When Apache Hue or any other application which uses #get_table_meta API is not gated to use any of the authorization model which HiveMetastore provides.&lt;/p&gt;

&lt;p&gt;For more information on Storage based Authorization Model : &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HCatalog+Authorization&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HCatalog+Authorization&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can easily reproduce this with Apache Hive + Apache Hue&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hive.security.metastore.authorization.manager&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.authorization.StorageBasedAuthorizationProvider&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;

    &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hive.security.metastore.authenticator.manager&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.HadoopDefaultMetastoreAuthenticator&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;

    &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hive.metastore.pre.event.listeners&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.authorization.AuthorizationPreEventListener&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
#!/bin/bash

set -x

hdfs dfs -mkdir /datasets

hdfs dfs -mkdir /datasets/database1

hdfs dfs -mkdir /datasets/database1/table1

echo &lt;span class=&quot;code-quote&quot;&gt;&quot;stefano,1992&quot;&lt;/span&gt; | hdfs dfs -put - /datasets/database1/table1/file1.csv

hdfs dfs -chmod -R 700 /datasets/database1

sudo tee -a setup.hql &amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;lt;&amp;lt;EOT
CREATE DATABASE IF NOT EXISTS database1 LOCATION &lt;span class=&quot;code-quote&quot;&gt;&quot;/datasets/database1&quot;&lt;/span&gt;;

CREATE EXTERNAL TABLE IF NOT EXISTS database1.table1 (
  name string, 
  year &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt;
LOCATION
  &lt;span class=&quot;code-quote&quot;&gt;&apos;/datasets/database1/table1&apos;&lt;/span&gt;;
EOT

hive -f setup.hql
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;1. Login to Hue =&amp;gt; create the first user called &quot;admin&quot; and provide a password Access the Hive Editor&lt;br/&gt;
2. On the SQL section on the left under Databases you should see default and database1 listed. Click on database1&lt;br/&gt;
3. As you can see a table called table1 is listed =&amp;gt; this should not be possible as our admin user has no HDFS grants on /datasets/database1&lt;br/&gt;
4. run from the Hive editor the following query SHOW TABLES; The output shows a Permission denied error =&amp;gt; this is the expected behavior&lt;/p&gt;</description>
                <environment></environment>
        <key id="13410573">HIVE-25680</key>
            <summary>Authorize #get_table_meta HiveMetastore Server API to use any of the HiveMetastore Authorization model</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srahman">Syed Shameerur Rahman</assignee>
                                    <reporter username="srahman">Syed Shameerur Rahman</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 8 Nov 2021 09:29:52 +0000</created>
                <updated>Wed, 10 Jul 2024 14:26:00 +0000</updated>
                            <resolved>Tue, 23 Nov 2021 08:01:49 +0000</resolved>
                                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                                    <component>Standalone Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="17444267" author="srahman" created="Tue, 16 Nov 2021 04:11:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;kgyrtkirk&lt;/a&gt; Could you please review the changes?&lt;/p&gt;</comment>
                            <comment id="17447822" author="kgyrtkirk" created="Tue, 23 Nov 2021 08:01:49 +0000"  >&lt;p&gt;merged into master. Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srahman&quot; class=&quot;user-hover&quot; rel=&quot;srahman&quot;&gt;srahman&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13035823" name="Screenshot 2021-11-08 at 2.39.30 PM.png" size="100165" author="srahman" created="Mon, 8 Nov 2021 09:28:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wj28:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>