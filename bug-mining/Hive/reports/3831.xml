<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:37:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-11825] get_json_object(col,&apos;$.a&apos;) is null in where clause didn`t work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-11825</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;example:&lt;br/&gt;
select attr from raw_kafka_item_dt0 where l_date=&apos;2015-09-06&apos; and customer=&apos;Czgc_news&apos; and get_json_object(attr,&apos;$.title&apos;) is NULL limit 10;&lt;br/&gt;
but in results,title is still not null!&lt;/p&gt;
{&quot;title&quot;:&quot;&#24605;&#31185;Q4&#25910;&#20837;&#20272;$79.2&#20159; &#21069;&#26223;&#38452;&#20113;&#31548;&#32617;&quot;,&quot;ItemType&quot;:&quot;NewsBase&quot;,&quot;keywords&quot;:&quot;&#24605;&#31185;Q4&#25910;&#20837;&#20272;\$79.2&#20159; &#21069;&#26223;&#38452;&#20113;&#31548;&#32617;&quot;,&quot;random&quot;:&quot;1420253511075&quot;,&quot;callback&quot;:&quot;BCore.instances[2].callbacks[1]&quot;,&quot;user_agent&quot;:&quot;Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_2_1 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML; like Gecko) Version/5.0.2 Mobile/8C148 Safari/6533.18.5&quot;,&quot;is_newgid&quot;:&quot;false&quot;,&quot;uuid&quot;:&quot;DS.Input:b56c782bcb75035d:00002116:003dcd40:54a75947&quot;,&quot;ptime&quot;:&quot;1.1549997E9&quot;} 

&lt;p&gt;attr is a dict&lt;/p&gt;</description>
                <environment></environment>
        <key id="12864226">HIVE-11825</key>
            <summary>get_json_object(col,&apos;$.a&apos;) is null in where clause didn`t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cazen">Cazen Lee</assignee>
                                    <reporter username="Feng Yuan">&#34945;&#26539;</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Sep 2015 11:35:58 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:11 +0000</updated>
                            <resolved>Thu, 12 Nov 2015 19:31:45 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Hive</component>
                        <due>Wed, 30 Sep 2015 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14745481" author="cazen" created="Tue, 15 Sep 2015 13:50:04 +0000"  >&lt;p&gt;I think this json was something wrong&lt;br/&gt;
Becase there are escape character in keywords&lt;br/&gt;
So if you change &lt;br/&gt;
BEFORE &#24605;&#31185;Q4&#25910;&#20837;&#20272;\$79.2&#20159; &#21069;&#26223;&#38452;&#20113;&#31548;&#32617;&lt;br/&gt;
AFTER    &#24605;&#31185;Q4&#25910;&#20837;&#20272;$79.2&#20159; &#21069;&#26223;&#38452;&#20113;&#31548;&#32617;&lt;br/&gt;
It might be works &lt;/p&gt;</comment>
                            <comment id="14746721" author="feng yuan" created="Wed, 16 Sep 2015 02:58:30 +0000"  >&lt;p&gt;thank Cazen Lee,it`s exactly this reason. is it a bug? is there any issue?&lt;/p&gt;</comment>
                            <comment id="14746844" author="cazen" created="Wed, 16 Sep 2015 04:36:19 +0000"  >&lt;p&gt;Let me take a look at it after company work.&lt;/p&gt;

&lt;p&gt;It&apos;s from &quot;org.codehaus.jackson.JsonParseException: Unrecognized character escape&quot;&lt;/p&gt;

&lt;p&gt;But I&apos;m not sure it&apos;s bug or Intended work&lt;/p&gt;

&lt;p&gt;I&apos;ll reply soon&lt;/p&gt;</comment>
                            <comment id="14746878" author="cazen" created="Wed, 16 Sep 2015 05:08:39 +0000"  >&lt;p&gt;I searched a while and guess it&apos;s your JSON problem.&lt;/p&gt;

&lt;p&gt;First of all, your JSON string was something wrong(it means it&apos;s not standard)&lt;/p&gt;

&lt;p&gt;And hive has strict rule when reading JSON format(excption occured when wrong escape)&lt;/p&gt;

&lt;p&gt;So, If you want to read your JSON files&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Convert and validate your escape character(ex. from \ to &lt;br class=&quot;atl-forced-newline&quot; /&gt;) when it created&lt;/li&gt;
	&lt;li&gt;OR write custom UDF extend UDFJson with ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER enabled(recommended)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Not sure it&apos;s OK that added ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER enabled in trunk(If can, Could I participate?)&lt;br/&gt;
Hive has many history and discussed by people, so I think there are reason that strict JSON rules.&lt;/p&gt;

&lt;p&gt;If I&apos;m wrong or any suggestions, please let me know.&lt;/p&gt;

&lt;p&gt;Thank you&lt;/p&gt;</comment>
                            <comment id="14746983" author="feng yuan" created="Wed, 16 Sep 2015 06:36:35 +0000"  >&lt;p&gt;thank your detailed reply,i will try your 2nd way,if you have time ,could you please commit your patch about &quot;ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER &quot;? thank you&#65281;&lt;/p&gt;
</comment>
                            <comment id="14747109" author="cazen" created="Wed, 16 Sep 2015 08:03:05 +0000"  >&lt;p&gt;Here it is&lt;/p&gt;</comment>
                            <comment id="14747226" author="feng yuan" created="Wed, 16 Sep 2015 09:42:06 +0000"  >&lt;p&gt;thank you so much ,it works!&lt;/p&gt;</comment>
                            <comment id="14747371" author="cazen" created="Wed, 16 Sep 2015 11:56:53 +0000"  >&lt;p&gt;Good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Have a good day!&lt;/p&gt;</comment>
                            <comment id="14791780" author="cazen" created="Thu, 17 Sep 2015 08:27:31 +0000"  >&lt;p&gt; Good Day &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;  Could you please take a look at this property?&lt;/p&gt;</comment>
                            <comment id="14803377" author="ashutoshc" created="Thu, 17 Sep 2015 18:31:56 +0000"  >&lt;p&gt;Although its not standard JSON, I think we can allow this since parser can handle this.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="14875923" author="hiveqa" created="Fri, 18 Sep 2015 16:39:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12756189/HIVE-11825.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12756189/HIVE-11825.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9447 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.hcatalog.streaming.TestStreaming.testTimeOutReaper
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5326/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5326/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5326/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5326/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5326/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5326/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12756189 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14875953" author="ashutoshc" created="Fri, 18 Sep 2015 17:00:25 +0000"  >&lt;p&gt;Pushed to master. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Cazen&quot; class=&quot;user-hover&quot; rel=&quot;cazen&quot;&gt;Cazen&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14875961" author="cazen" created="Fri, 18 Sep 2015 17:06:54 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; &lt;br/&gt;
And Congratulations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15001521" author="sershe" created="Thu, 12 Nov 2015 02:12:13 +0000"  >&lt;p&gt;Should this issue be backported to branch-1? It looks like a bug.&lt;/p&gt;</comment>
                            <comment id="15001611" author="cazen" created="Thu, 12 Nov 2015 02:52:34 +0000"  >&lt;p&gt;Good day &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;sershe&lt;/a&gt; This is Cazen&lt;br/&gt;
Does branch-1 means ver1 of hive?&lt;br/&gt;
If then, I think it`s good idea to apply to branch-1&lt;br/&gt;
Jacksonparser do not want unstandard backslash in the body, so it cause exception(Unrecognized character escape) by strict rule when parsing&lt;br/&gt;
But hive is not. It looks like a bug in user&apos;s view(like this jira issue) Most of them concentrate upon data context, not row by row&lt;br/&gt;
If i can, may I reopen or create issue to apply this patch to branch-1?&lt;/p&gt;</comment>
                            <comment id="15002659" author="sershe" created="Thu, 12 Nov 2015 19:04:04 +0000"  >&lt;p&gt;Reopening is probably not necessary. Let me see if I can cherry-pick the commit&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12756189" name="HIVE-11825.patch" size="746" author="cazen" created="Wed, 16 Sep 2015 08:04:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2k72v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Enabled to accept quoting of all character backslash qooting mechanism</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>