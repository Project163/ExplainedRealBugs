<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:53:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-736] MetaStoreUtils get_fields() does not return partition column</title>
                <link>https://issues.apache.org/jira/browse/HIVE-736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MetaStoreUtil&apos;s get_fields(), which is offered through the Hive Server interface, does not include the partition field in its returned list of fields. This may be related to JIRA-671. At the moment, there is no way for a Hive client to discover a partition column in a table, creating a big issue for anyone who wishes to query a partitioned table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432494">HIVE-736</key>
            <summary>MetaStoreUtils get_fields() does not return partition column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ehwang">Eric Hwang</assignee>
                                    <reporter username="ehwang">Eric Hwang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Aug 2009 04:47:35 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:45 +0000</updated>
                            <resolved>Sat, 8 Aug 2009 22:04:29 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12740404" author="rsm" created="Fri, 7 Aug 2009 05:08:48 +0000"  >&lt;p&gt;As a work around, can you execute &quot;describe &amp;lt;tablename&amp;gt;&quot; to get the schema?&lt;/p&gt;</comment>
                            <comment id="12740407" author="ehwang" created="Fri, 7 Aug 2009 05:18:38 +0000"  >&lt;p&gt;That would work, but I was hoping to solve both this and JIRA-671 in one fell swoop. Don&apos;t we just need to determine whether the table has a partition, and then append the partition key onto the field schemas returned by the deserializer?&lt;/p&gt;</comment>
                            <comment id="12740414" author="ehwang" created="Fri, 7 Aug 2009 05:33:43 +0000"  >&lt;p&gt;Actually I just talked to Zheng offline and I guess the get_fields function should NOT return the partition column under its proper usage. I can work around this by calling get_tables and then join the partitionkey field descriptors with the result of get_fields. I&apos;ll do this for now, however, this seems rather roundabout and I think there should still be a function which just returns all field descriptors altogether.&lt;/p&gt;</comment>
                            <comment id="12740425" author="rsm" created="Fri, 7 Aug 2009 06:36:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think there should still be a function which just returns all field descriptors altogether.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That makes sense. Instead of writing a work around, why not just add a function to the metastore thrift api that returns all columns (including partition columns)?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;list&amp;lt;FieldSchema&amp;gt; get_schema(1:string db_name, 2:string tbl_name) 
         &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; (1: MetaException o1, 2: UnknownTableException o2, 3: UnknownDBException o3),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12740765" author="ehwang" created="Fri, 7 Aug 2009 22:17:48 +0000"  >&lt;p&gt;Sounds like a good idea. I&apos;ll do that instead. Does anyone know if thrift permits the overloading of function names? The Hive server already has a function called get_schema with different arguments.&lt;/p&gt;</comment>
                            <comment id="12740844" author="ehwang" created="Sat, 8 Aug 2009 06:13:13 +0000"  >&lt;p&gt;Patch Added:&lt;br/&gt;
Implements get_schema() in HiveMetaStore.java&lt;br/&gt;
Added get_schema() test cases to TestHiveMetaStore&lt;br/&gt;
Also added test cases for get_fields() in TestHiveMetaStore (related function)&lt;br/&gt;
All tests pass.&lt;/p&gt;</comment>
                            <comment id="12740970" author="rsm" created="Sat, 8 Aug 2009 21:15:29 +0000"  >&lt;p&gt;The changes look good. Will commit it if tests pass.&lt;/p&gt;</comment>
                            <comment id="12740982" author="rsm" created="Sat, 8 Aug 2009 22:04:29 +0000"  >&lt;p&gt;Committed. Thanks Eric!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12410953">HIVE-187</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12415924" name="HIVE-736.1.patch" size="84355" author="ehwang" created="Sat, 8 Aug 2009 06:13:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Provide a function in Metastore to return the schema of a table.&lt;br/&gt;
(Eric Hwang via rmurthy)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>