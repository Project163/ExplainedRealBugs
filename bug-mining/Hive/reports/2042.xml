<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:17:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6200] Hive custom SerDe cannot load DLL added by &quot;ADD FILE&quot; command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When custom SerDe need to load a DLL file added using &quot;ADD FILE&quot; command in HIVE, the loading fail with exception like &quot;java.lang.UnsatisfiedLinkError:C:\tmp\admin2_6996@headnode0_201401100431_resources\hello.dll: Access is denied&quot;. &lt;br/&gt;
The reason is when FileSystem creating local copy of the file, the permission of local file is set to default as &quot;666&quot;. DLL file need &quot;execute&quot; permission to be loaded successfully.&lt;br/&gt;
Similar scenario also happens when Hadoop localize files in distributed cache. The solution in Hadoop is to add &quot;execute&quot; permission to the file after localizationl.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12688901">HIVE-6200</key>
            <summary>Hive custom SerDe cannot load DLL added by &quot;ADD FILE&quot; command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shuainie">Shuaishuai Nie</assignee>
                                    <reporter username="shuainie">Shuaishuai Nie</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2014 00:51:24 +0000</created>
                <updated>Thu, 13 Nov 2014 19:41:35 +0000</updated>
                            <resolved>Thu, 27 Mar 2014 15:51:57 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13871584" author="thejas" created="Wed, 15 Jan 2014 03:19:52 +0000"  >&lt;p&gt;As this seems to be required only on windows, how about adding a check if it is windows before changing the permission ?&lt;/p&gt;</comment>
                            <comment id="13871602" author="shuainie" created="Wed, 15 Jan 2014 03:41:09 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;. I think this problem is not limited to Windows. On both Windows and Linux, when creating the copy file in local FS, Hadoop will set the permission of the file to default permission (hard coded to 666). In the implementation of distributed cache in Hadoop, it uses the same way to add &quot;execute&quot; permission for the file regardless of the OS at TrackerDistributedCacheManager.downloadCacheObject().&lt;/p&gt;</comment>
                            <comment id="13871954" author="hiveqa" created="Wed, 15 Jan 2014 11:43:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12623035/HIVE-6200.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12623035/HIVE-6200.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4925 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/918/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/918/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/918/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/918/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12623035&lt;/p&gt;</comment>
                            <comment id="13872420" author="thejas" created="Wed, 15 Jan 2014 18:53:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13872641" author="shuainie" created="Wed, 15 Jan 2014 21:43:52 +0000"  >&lt;p&gt;Validated the failed test in HIVE QA result. It is not related to the change made in this JIRA.&lt;/p&gt;</comment>
                            <comment id="13872647" author="shanyu" created="Wed, 15 Jan 2014 21:48:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13945715" author="ashutoshc" created="Mon, 24 Mar 2014 21:21:46 +0000"  >&lt;p&gt;Changing of permissions should be moved in downloadResource() method, such that we change permissions only when files are downloaded. Because, int that case we are guaranteed to successfully complete chmod operation. Otherwise, we may try to change permissions of local files (which may not be allowed since we may not own them).&lt;/p&gt;

&lt;p&gt;Also, patch needs a rebase.&lt;/p&gt;</comment>
                            <comment id="13946788" author="shuainie" created="Tue, 25 Mar 2014 17:01:33 +0000"  >&lt;p&gt;Thanks for the commend &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;. Updated the patch&lt;/p&gt;</comment>
                            <comment id="13946802" author="ashutoshc" created="Tue, 25 Mar 2014 17:10:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13948399" author="alangates" created="Wed, 26 Mar 2014 20:16:16 +0000"  >&lt;p&gt;Build failed with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] COMPILATION ERROR :
[INFO] -------------------------------------------------------------
[ERROR] /grid/0/hortonal/ptest/working_dir/working/apache-github-source/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java:[788,9] cannot find symbol
symbol  : variable FileUtil
location: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.hadoop.hive.ql.session.SessionState
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Hive .............................................. SUCCESS [52.644s]
[INFO] Hive Ant Utilities ................................ SUCCESS [8.526s]
[INFO] Hive Shims Common ................................. SUCCESS [18.758s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [20.058s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.372s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.443s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [48.812s]
[INFO] Hive Shims ........................................ SUCCESS [0.227s]
[INFO] Hive Common ....................................... SUCCESS [2.576s]
[INFO] Hive Serde ........................................ SUCCESS [3.588s]
[INFO] Hive Metastore .................................... SUCCESS [19.850s]
[INFO] Hive Query Language ............................... FAILURE [23.695s]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13948430" author="shuainie" created="Wed, 26 Mar 2014 20:46:32 +0000"  >&lt;p&gt;Sorry, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6200&quot; title=&quot;Hive custom SerDe cannot load DLL added by &amp;quot;ADD FILE&amp;quot; command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6200&quot;&gt;&lt;del&gt;HIVE-6200&lt;/del&gt;&lt;/a&gt;.2.patch is the wrong incomplete patch. Update with the new one &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6200&quot; title=&quot;Hive custom SerDe cannot load DLL added by &amp;quot;ADD FILE&amp;quot; command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6200&quot;&gt;&lt;del&gt;HIVE-6200&lt;/del&gt;&lt;/a&gt;.3.patch&lt;/p&gt;</comment>
                            <comment id="13949459" author="hiveqa" created="Thu, 27 Mar 2014 15:38:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636997/HIVE-6200.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636997/HIVE-6200.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5491 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1983/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1983/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1983/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1983/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636997&lt;/p&gt;</comment>
                            <comment id="13949467" author="ashutoshc" created="Thu, 27 Mar 2014 15:51:57 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Shuaishuai!&lt;/p&gt;</comment>
                            <comment id="14210591" author="thejas" created="Thu, 13 Nov 2014 19:41:35 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623035" name="HIVE-6200.1.patch" size="1169" author="shuainie" created="Wed, 15 Jan 2014 01:05:11 +0000"/>
                            <attachment id="12636732" name="HIVE-6200.2.patch" size="925" author="shuainie" created="Tue, 25 Mar 2014 17:01:33 +0000"/>
                            <attachment id="12636997" name="HIVE-6200.3.patch" size="1254" author="shuainie" created="Wed, 26 Mar 2014 20:46:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rep3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>