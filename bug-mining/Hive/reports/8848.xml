<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:27:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-29008] CI logs do not display information about test execution</title>
                <link>https://issues.apache.org/jira/browse/HIVE-29008</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Locally, when we run tests via maven we usually see the following INFO messages in the console.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.hadoop.hive.ql.exec.vector.TestDateColumnVector
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.198 s -- in org.apache.hadoop.hive.ql.exec.vector.TestDateColumnVector
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;The output is very useful for various reasons and in particular to know the status of the current test that is running. This is even more important in CI where intermittent failures may arise since we want an easy way to determine which test was run at each point in time.&lt;/p&gt;

&lt;p&gt;In the &lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/master/2334/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;past&lt;/a&gt;, this information was present in every CI run and we could easily see the test that is currently running in each split. However, after upgrading the maven-surefire-plugin to 3.5.1 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-28519&quot; title=&quot;Upgrade Maven SureFire Plugin to latest version 3.5.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-28519&quot;&gt;&lt;del&gt;HIVE-28519&lt;/del&gt;&lt;/a&gt;) this information was lost and is not present in the CI output/logs &lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/master/2548/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;anymore&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13620776">HIVE-29008</key>
            <summary>CI logs do not display information about test execution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zabetak">Stamatis Zampetakis</assignee>
                                    <reporter username="zabetak">Stamatis Zampetakis</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 12 Jun 2025 14:55:55 +0000</created>
                <updated>Tue, 29 Jul 2025 14:51:52 +0000</updated>
                            <resolved>Mon, 16 Jun 2025 09:07:42 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                    <component>Build Infrastructure</component>
                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17978628" author="zabetak" created="Mon, 16 Jun 2025 08:52:04 +0000"  >&lt;p&gt;As expected the extra logs do not affect the execution time of the tests. To confirm it suffices to compare the inspect the test reports for the PR run and latest master:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;PR-5862: &lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/testReport/junit/api/json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/testReport/junit/api/json&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;master build#2554: &lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/master/2554/testReport/api/json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.hive.apache.org/job/hive-precommit/job/master/2554/testReport/api/json&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For reference purposes the test reports are compressed and attached:   &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13077017/13077017_master2554_testReport.json.gz&quot; title=&quot;master2554_testReport.json.gz attached to HIVE-29008&quot;&gt;master2554_testReport.json.gz&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13077018/13077018_pr5862_testReport.json.gz&quot; title=&quot;pr5862_testReport.json.gz attached to HIVE-29008&quot;&gt;pr5862_testReport.json.gz&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ jq .duration master2554_testReport.json 
100193.016
$ jq .duration pr5862_testReport.json 
95438.56
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The build time is not affected either from the extra logs. To verify this someone can check the execution time of each individual pipeline step in the Blue Ocean UI or download the full execution log  (&lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/consoleText&lt;/a&gt;) and check the total execution time.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ grep &quot;Total time&quot; pr5862-2-consoleText.txt 
[2025-06-13T17:41:47.449Z] [INFO] Total time:  01:58 min
[2025-06-13T18:13:04.585Z] [INFO] Total time:  31:07 min
[2025-06-13T18:29:06.124Z] [INFO] Total time:  22.860 s
[2025-06-13T18:29:15.649Z] [INFO] Total time:  5.421 s
[2025-06-13T18:29:24.637Z] [INFO] Total time:  5.488 s
[2025-06-13T18:48:12.204Z] [INFO] Total time:  18:41 min
[2025-06-13T18:51:42.510Z] [INFO] Total time:  23:05 min
[2025-06-13T19:20:11.222Z] [INFO] Total time:  31:48 min
[2025-06-13T19:41:58.176Z] [INFO] Total time:  01:11 h
[2025-06-13T19:43:28.243Z] [INFO] Total time:  01:12 h
[2025-06-13T19:43:46.660Z] [INFO] Total time:  01:14 h
[2025-06-13T19:44:56.534Z] [INFO] Total time:  01:16 h
[2025-06-13T19:48:01.182Z] [INFO] Total time:  01:18 h
[2025-06-13T19:49:57.870Z] [INFO] Total time:  01:13 h
[2025-06-13T19:54:55.105Z] [INFO] Total time:  01:19 h
[2025-06-13T19:56:14.505Z] [INFO] Total time:  01:25 h
[2025-06-13T19:58:33.244Z] [INFO] Total time:  01:15 h
[2025-06-13T20:07:13.327Z] [INFO] Total time:  01:23 h
[2025-06-13T20:09:42.089Z] [INFO] Total time:  01:25 h
[2025-06-13T20:43:17.105Z] [INFO] Total time:  01:19 h
[2025-06-13T20:44:02.681Z] [INFO] Total time:  01:21 h
[2025-06-13T20:46:16.522Z] [INFO] Total time:  01:04 h
[2025-06-13T20:47:44.000Z] [INFO] Total time:  01:14 h
[2025-06-13T20:52:17.579Z] [INFO] Total time:  01:15 h
[2025-06-13T20:54:05.727Z] [INFO] Total time:  01:12 h
[2025-06-13T20:55:06.791Z] [INFO] Total time:  01:11 h
[2025-06-13T20:56:14.700Z] [INFO] Total time:  01:20 h
[2025-06-13T20:58:07.742Z] [INFO] Total time:  01:16 h
[2025-06-13T21:02:24.482Z] [INFO] Total time:  01:22 h
[2025-06-13T21:03:44.435Z] [INFO] Total time:  01:20 h
[2025-06-13T21:42:36.869Z] [INFO] Total time:  02:49 h
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The execution time for each pipeline step running the tests is ~01:20 h, which is more or less the same with master.&lt;/p&gt;

&lt;p&gt;Finally, the extra logs (removal of the quiet mode) lead to a 20% increase of the storage space required for saving the full log file:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/master/2554/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.hive.apache.org/job/hive-precommit/job/master/2554/consoleText&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci.hive.apache.org/job/hive-precommit/job/PR-5862/2/consoleText&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ls -lh *txt
-rw-rw-r-- 1 zabetak zabetak 25M Jun 16 10:18 master_2554_consoleText.txt
-rw-rw-r-- 1 zabetak zabetak 30M Jun 16 10:02 pr5862-2-consoleText.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Although the 20% increase may appear significant, in practice we are just talking about 5MB more per run that I feel is worth paying for the extra aid in diagnosing problems in CI.&lt;/p&gt;</comment>
                            <comment id="17978632" author="zabetak" created="Mon, 16 Jun 2025 09:07:42 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/hive/commit/e9af2a31d5f24aae375aad351535c8066e65bff3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/commit/e9af2a31d5f24aae375aad351535c8066e65bff3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13591829">HIVE-28519</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13620778">HIVE-29009</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13077017" name="master2554_testReport.json.gz" size="994808" author="zabetak" created="Mon, 16 Jun 2025 08:28:54 +0000"/>
                            <attachment id="13077018" name="pr5862_testReport.json.gz" size="988202" author="zabetak" created="Mon, 16 Jun 2025 08:28:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wb3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>