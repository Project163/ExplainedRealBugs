<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:06:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4403] Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4403</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/BIGTOP-885&quot; title=&quot;TestHiveSmokeBulk fails on Hive 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BIGTOP-885&quot;&gt;&lt;del&gt;BIGTOP-885&lt;/del&gt;&lt;/a&gt;, I saw that Hive was giving a bunch of warnings related to overriding final parameters in job.conf. This was on a pseudo distributed cluster. FWIW, I didn&apos;t see this happen on a fully-distributed cluster. Perhaps, Hive&apos;s job.conf is overriding some final parameters it shouldn&apos;t.&lt;/p&gt;

&lt;p&gt;Here is what the warnings looked like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2013-04-19 14:20:32,304 WARN  [main] conf.Configuration (Configuration.java:loadProperty(2032)) - file:/tmp/root/hive_2013-04-19_14-20-30_159_5701876916688815815/-local-10002/jobconf.xml:an attempt to override &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; parameter: mapreduce.job.end-notification.max.retry.interval;  Ignoring.
2013-04-19 14:20:32,367 WARN  [main] conf.Configuration (Configuration.java:loadProperty(2032)) - file:/tmp/root/hive_2013-04-19_14-20-30_159_5701876916688815815/-local-10002/jobconf.xml:an attempt to override &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; parameter: mapreduce.job.end-notification.max.attempts;  Ignoring.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To reproduce, run a query like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE u_data (
  userid INT,
  movieid INT,
  rating INT,
  unixtime STRING)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;
STORED AS TEXTFILE;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Load some data into u_data, here is some sample data:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/bigtop/blob/master/bigtop-tests/test-artifacts/hive/src/main/resources/seed_data_files/ml-data/u.data&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/bigtop/blob/master/bigtop-tests/test-artifacts/hive/src/main/resources/seed_data_files/ml-data/u.data&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Run a simple query on that data (on YARN/MR2)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INSERT OVERWRITE DIRECTORY &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/count&apos;&lt;/span&gt;
SELECT COUNT(1) FROM u_data
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12644164">HIVE-4403</key>
            <summary>Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stayhf">Chu Tong</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Apr 2013 17:45:57 +0000</created>
                <updated>Tue, 15 Oct 2013 23:28:52 +0000</updated>
                            <resolved>Mon, 3 Jun 2013 14:39:41 +0000</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13651475" author="stayhf" created="Wed, 8 May 2013 00:14:29 +0000"  >&lt;p&gt;The reason for the warnings presented in this bug is Hive client tries to override some Hadoop final parameters defined in mapred-default.xml. To dig it deeper, Hive configuration inherits Hadoop configuration and the current way Hive overrides Hadoop parameters is:&lt;/p&gt;

&lt;p&gt;1) Create a default Hadoop configuration (this contains all default Hadoop parameters including the ones defined as final).&lt;br/&gt;
2) Overlay parameters it wants to override on configuration created in 1).&lt;br/&gt;
3) Overlay configuration generated in 2) over the default Hadoop parameters it inherits (these default Hadoop parameters contains all default Hadoop parameters including the ones defined as final again).&lt;/p&gt;

&lt;p&gt;Since configuration generated in 2) contains all the default Hadoop parameters and when it comes to 3), the warning is thrown.&lt;/p&gt;

&lt;p&gt;Solution to resolve this problem is when 1) happens, instead of create a default Hadoop configuration, an empty Hadoop configuration is created and 2) overlays Hive parameters on this empty configuration. This way, in 3), configuration in 2) will override any default Hadoop parameters it wants to overrides, however, no warning will be thrown as 2) does not contain default Hadoop parameters.&lt;/p&gt;

&lt;p&gt;I have tested this by different code path including:&lt;/p&gt;

&lt;p&gt;1) keep everything as default&lt;br/&gt;
2) define overriding parameters in hive-site.xml&lt;br/&gt;
3) define overriding parameters in hive client shell&lt;/p&gt;

&lt;p&gt;and all these cases work well.&lt;/p&gt;</comment>
                            <comment id="13659782" author="stayhf" created="Thu, 16 May 2013 18:07:51 +0000"  >&lt;p&gt;Can someone please help me to review this code? Thanks&lt;/p&gt;</comment>
                            <comment id="13669521" author="mgrover" created="Wed, 29 May 2013 18:05:59 +0000"  >&lt;p&gt;Chu, sorry about the delay. I can test patched Hive to see if this resolves my original problem, please give me a few days.&lt;/p&gt;

&lt;p&gt;In the meanwhile, even though this is a small patch, do you mind uploading it on Reviewboard or Phabricator? Thanks for contributing!&lt;/p&gt;</comment>
                            <comment id="13672614" author="ashutoshc" created="Sun, 2 Jun 2013 17:43:51 +0000"  >&lt;p&gt;Patch doesn&apos;t apply cleanly on trunk anymore. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stayhf&quot; class=&quot;user-hover&quot; rel=&quot;stayhf&quot;&gt;stayhf&lt;/a&gt; Can you rebase it on trunk ?&lt;/p&gt;</comment>
                            <comment id="13672678" author="stayhf" created="Sun, 2 Jun 2013 21:02:29 +0000"  >&lt;p&gt;Sync the changes with trunk&lt;/p&gt;</comment>
                            <comment id="13672688" author="stayhf" created="Sun, 2 Jun 2013 21:32:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrover&quot; class=&quot;user-hover&quot; rel=&quot;mgrover&quot;&gt;mgrover&lt;/a&gt;, I tried to search on the Facebook Phabricator and I can&apos;t find this bug there. Do I need to create on there first and upload the patch to it afterwards? Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="13672696" author="ashutoshc" created="Sun, 2 Jun 2013 22:04:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13672703" author="mgrover" created="Sun, 2 Jun 2013 22:34:14 +0000"  >&lt;p&gt;Ashutosh +1&apos;ed it. So, I guess there is no need for Phabricator now&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks Chu and Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13673161" author="ashutoshc" created="Mon, 3 Jun 2013 14:39:41 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Chu!&lt;/p&gt;</comment>
                            <comment id="13673166" author="stayhf" created="Mon, 3 Jun 2013 14:45:31 +0000"  >&lt;p&gt;no problem, thank you for reviewing it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshgupta17%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshgupta17@gmail.com&quot;&gt;ashutoshgupta17@gmail.com&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13674011" author="hudson" created="Tue, 4 Jun 2013 04:08:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2126 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2126/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2126/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4403&quot; title=&quot;Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4403&quot;&gt;&lt;del&gt;HIVE-4403&lt;/del&gt;&lt;/a&gt; : Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters (Chu Tong via Ashutosh Chauhan) (Revision 1489008)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1489008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1489008&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13674023" author="stayhf" created="Tue, 4 Jun 2013 04:23:08 +0000"  >&lt;p&gt;I took a look at the Hudson build log and seems it is because of a build failure instead of test failure due to newly added functionality/bug fix.&lt;/p&gt;</comment>
                            <comment id="13674027" author="mgrover" created="Tue, 4 Jun 2013 04:27:52 +0000"  >&lt;p&gt;Chu, that&apos;s fine. Nothing required from your side.&lt;/p&gt;</comment>
                            <comment id="13674228" author="hudson" created="Tue, 4 Jun 2013 10:37:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #224 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/224/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/224/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4403&quot; title=&quot;Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4403&quot;&gt;&lt;del&gt;HIVE-4403&lt;/del&gt;&lt;/a&gt; : Running Hive queries on Yarn (MR2) gives warnings related to overriding final parameters (Chu Tong via Ashutosh Chauhan) (Revision 1489008)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1489008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1489008&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795816" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:52 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12639033">BIGTOP-885</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12585779" name="HIVE-4403.patch" size="1053" author="stayhf" created="Sun, 2 Jun 2013 21:02:29 +0000"/>
                            <attachment id="12582212" name="HIVE-4403.patch" size="1099" author="stayhf" created="Wed, 8 May 2013 00:12:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jznz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>