<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:01:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3221] HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3221</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For positions above 9, HiveConf.getPositionFromInternalName only looks at the last digit, and thus, causes collisions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596532">HIVE-3221</key>
            <summary>HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Jul 2012 12:51:12 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:02 +0000</updated>
                            <resolved>Sat, 21 Jul 2012 04:14:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13404725" author="sushanth" created="Sun, 1 Jul 2012 13:41:32 +0000"  >&lt;p&gt;Attaching patch since arc diff isn&apos;t working for me&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
tundra:hive sush$ arc diff --jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3221&quot; title=&quot;HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3221&quot;&gt;&lt;del&gt;HIVE-3221&lt;/del&gt;&lt;/a&gt; &lt;br/&gt;
Exception&lt;br/&gt;
Parse Exception: Expected a hunk header, like &apos;Index: /path/to/file.ext&apos; (svn), &apos;Property changes on: /path/to/file.ext&apos; (svn properties), &apos;commit 59bcc3ad6775562f845953cf01624225&apos; (git show), &apos;diff -&lt;del&gt;git&apos; (git diff), or &apos;&lt;/del&gt;-- filename&apos; (unified diff).&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt;&amp;gt;        1   &lt;br/&gt;
&amp;#8211;&lt;/p&gt;</comment>
                            <comment id="13404728" author="sushanth" created="Sun, 1 Jul 2012 13:52:39 +0000"  >&lt;p&gt;Now getting a new arc error on starting anew:&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
tundra:hive sush$ arc diff --jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3221&quot; title=&quot;HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3221&quot;&gt;&lt;del&gt;HIVE-3221&lt;/del&gt;&lt;/a&gt; &lt;br/&gt;
PHP Fatal error:  Call to undefined method ArcanistGitAPI::amendGitHeadCommit() in /Users/sush/dev/hive.git/.arc_jira_lib/arcanist/ArcJIRAConfiguration.php on line 169&lt;/p&gt;

&lt;p&gt;Fatal error: Call to undefined method ArcanistGitAPI::amendGitHeadCommit() in /Users/sush/dev/hive.git/.arc_jira_lib/arcanist/ArcJIRAConfiguration.php on line 169&lt;br/&gt;
&amp;#8211;&lt;/p&gt;

&lt;p&gt;Still, the patch attached has a unit test and is a fairly straightforward patch. Hopefully it can be reviewed easily.&lt;/p&gt;</comment>
                            <comment id="13408236" author="appodictic" created="Fri, 6 Jul 2012 19:18:16 +0000"  >&lt;p&gt;Can you please give an example of a query that would cause this?&lt;/p&gt;</comment>
                            <comment id="13408241" author="appodictic" created="Fri, 6 Jul 2012 19:29:50 +0000"  >&lt;p&gt;Also have you considered the column alias is _c not _col, we can possibly determine this from HiveConf&lt;/p&gt;</comment>
                            <comment id="13409339" author="namit" created="Mon, 9 Jul 2012 11:31:01 +0000"  >&lt;p&gt;Can you address Edward&apos;s comments ?&lt;/p&gt;</comment>
                            <comment id="13409714" author="sushanth" created="Mon, 9 Jul 2012 18:42:03 +0000"  >&lt;p&gt;I don&apos;t have a specific query that can trigger off the top of my head - looking at ql.parse.SemanticAnalyzer indicates that this problem could occur when formulating a union plan. &lt;/p&gt;

&lt;p&gt;Essentially, reading &quot;_col12&quot; maps to &quot;2&quot; because it only reads the last character.&lt;/p&gt;

&lt;p&gt;The sequence of events that led to my encountering this issue is in &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-436&quot; title=&quot;JSON SerDe column misnaming on CTAS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-436&quot;&gt;&lt;del&gt;HCATALOG-436&lt;/del&gt;&lt;/a&gt; when testing with the JsonSerDe (any named-column based format, really) and having more than 10 columns. I wanted to read an internal column name(as generated by a CTAS operation) and be able to figure out position and noticed that there are a pair of functions in HiveConf for exactly this purpose : getPositionFromInternalName and getColumnInternalName.&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;As to the case of having a column alias being &quot;_c&quot; and not &quot;_col&quot;, HiveConf.java seems to indicate a hardcoded &quot;_col&quot; in getColumnInternalName, so I retained that. Do you have any cases where it&apos;s &quot;_c&quot; ?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13418119" author="ashutoshc" created="Thu, 19 Jul 2012 06:48:49 +0000"  >&lt;p&gt;+1. Looks good. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13419742" author="ashutoshc" created="Sat, 21 Jul 2012 04:14:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13419817" author="appodictic" created="Sat, 21 Jul 2012 12:44:19 +0000"  >&lt;p&gt;Ashutosh. I did not want to see this issue get committed without a positive or negative test. We have a fix but no test coverage.&lt;/p&gt;</comment>
                            <comment id="13419858" author="ashutoshc" created="Sat, 21 Jul 2012 14:55:08 +0000"  >&lt;p&gt;@Ed,&lt;br/&gt;
There is a unit test in the patch which fails without the fix.&lt;/p&gt;</comment>
                            <comment id="13419863" author="hudson" created="Sat, 21 Jul 2012 15:15:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1558 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1558/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1558/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3221&quot; title=&quot;HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3221&quot;&gt;&lt;del&gt;HIVE-3221&lt;/del&gt;&lt;/a&gt; : HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1364038)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364038&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548235" author="hudson" created="Wed, 9 Jan 2013 10:24:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3221&quot; title=&quot;HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3221&quot;&gt;&lt;del&gt;HIVE-3221&lt;/del&gt;&lt;/a&gt; : HiveConf.getPositionFromInternalName does not support more than sinle digit column numbers (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1364038)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364038&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550011" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:02 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12595982">HCATALOG-436</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12534154" name="HIVE-3221.patch" size="1816" author="sushanth" created="Sun, 1 Jul 2012 13:42:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09y9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>