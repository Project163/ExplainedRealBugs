<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:33:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10608] Fix useless &apos;if&apos; statement in RetryingMetaStoreClient (135)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10608</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;if&quot; statement below is useless because it ends with ;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MetaException e) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e.getMessage().matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;(?s).*(IO|TTransport)Exception.*&quot;&lt;/span&gt;));
        caughtException = e;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12827126">HIVE-10608</key>
            <summary>Fix useless &apos;if&apos; statement in RetryingMetaStoreClient (135)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="apivovarov">Alexander Pivovarov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2015 02:06:29 +0000</created>
                <updated>Thu, 5 Jan 2017 01:45:34 +0000</updated>
                            <resolved>Thu, 7 May 2015 18:15:19 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14527813" author="ctang.ma" created="Tue, 5 May 2015 02:49:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt; The line &quot;if (e.getMessage().matches(&quot;(?s).&lt;b&gt;(IO|TTransport)Exception.&lt;/b&gt;&quot;));&quot; should be a comment. The caught MetaException should either be thrown out from reloginExpiringKeytabUser or base.reconnect() which wrap only the IOException or TTransportException at this moment, so there is no need to check the wrapped exception since these two situations need retrying regardless. &lt;/p&gt;</comment>
                            <comment id="14528960" author="apivovarov" created="Tue, 5 May 2015 18:08:09 +0000"  >&lt;p&gt;reconnect() will throw MetaException which does not wrap any other Exceptions in case of localMetaStore=true (HiveMetaStoreClient line 308)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void reconnect() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MetaException {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (localMetaStore) {
      &lt;span class=&quot;code-comment&quot;&gt;// For direct DB connections we don&apos;t yet support reestablishing connections.
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetaException(&lt;span class=&quot;code-quote&quot;&gt;&quot;For direct MetaStore DB connections, we don&apos;t support retries&quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot; at the client level.&quot;&lt;/span&gt;);
    } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should we just fix the bug like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MetaException e) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e.getMessage().matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;(?s).*(IO|TTransport)Exception.*&quot;&lt;/span&gt;)) {
      caughtException = e;
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14529068" author="ctang.ma" created="Tue, 5 May 2015 19:03:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt; Yeah, error out immediately for this local HMS mode will be more efficient.  +1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="14529147" author="ctang.ma" created="Tue, 5 May 2015 19:50:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;apivovarov&lt;/a&gt; If so, I think the block should be like following by re-throwing MetaException e for reasons rather than IOException and TTransportException:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MetaException e) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e.getMessage().matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;(?s).*(IO|TTransport)Exception.*&quot;&lt;/span&gt;)) {
      caughtException = e;
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
     &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; e;
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14529205" author="apivovarov" created="Tue, 5 May 2015 20:20:24 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14529228" author="ctang.ma" created="Tue, 5 May 2015 20:37:05 +0000"  >&lt;p&gt;+1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="14529430" author="szehon" created="Tue, 5 May 2015 22:32:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14531806" author="apivovarov" created="Thu, 7 May 2015 00:52:50 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14532999" author="hiveqa" created="Thu, 7 May 2015 16:57:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12731023/HIVE-10608.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12731023/HIVE-10608.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8916 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3799/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3799/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3799/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3799/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3799/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3799/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12731023 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14533121" author="szehon" created="Thu, 7 May 2015 18:15:19 +0000"  >&lt;p&gt;Committed to trunk, thanks Alex for patch and Chaoyu for additional review.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12822008">HIVE-10384</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12731023" name="HIVE-10608.1.patch" size="938" author="apivovarov" created="Thu, 7 May 2015 00:52:50 +0000"/>
                            <attachment id="12730593" name="rb33861.patch" size="938" author="apivovarov" created="Tue, 5 May 2015 20:20:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ea2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>