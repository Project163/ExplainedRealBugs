<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:26:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6669] sourcing txn-script from schema script results in failure for mysql &amp; oracle</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6669</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This issues is addressed in 0.13 by in-lining the the transaction schema statements in the schema initialization script (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6559&quot; title=&quot;sourcing txn-script from schema script results in failure for mysql &amp;amp; oracle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6559&quot;&gt;&lt;del&gt;HIVE-6559&lt;/del&gt;&lt;/a&gt;)&lt;br/&gt;
The 0.14 schema initialization is not fixed. This is the followup ticket for to address the problem in 0.14. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12701528">HIVE-6669</key>
            <summary>sourcing txn-script from schema script results in failure for mysql &amp; oracle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gates">Alan Gates</assignee>
                                    <reporter username="prasadm">Prasad Suresh Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2014 17:31:51 +0000</created>
                <updated>Tue, 1 Oct 2019 22:07:44 +0000</updated>
                            <resolved>Tue, 28 Oct 2014 17:02:42 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13935299" author="prasadm" created="Fri, 14 Mar 2014 17:33:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt;, this is the followup ticket to track the oracle and mysql schema initialization problem for trunk (0.14). Thanks!&lt;/p&gt;</comment>
                            <comment id="14158633" author="alangates" created="Fri, 3 Oct 2014 22:50:13 +0000"  >&lt;p&gt;This patch adds hive-txn-schema-0.14 scripts, which are all identical to hive-txn-schema-0.13 scripts, but they are added for completeness.  The transaction tables are also added to the hive-schema-0.14 scripts.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=damien.carol&quot; class=&quot;user-hover&quot; rel=&quot;damien.carol&quot;&gt;damien.carol&lt;/a&gt;, please review this patch as I changed the transaction tables for postgres to lower case so that they would work without requiring quotes in TxnHandler/CompactionTxnHandler.  I can&apos;t reproduce your errors (my version of postgres doesn&apos;t seem to care about upper/lower case), so I wanted to have you check it before I commit this.&lt;/p&gt;
</comment>
                            <comment id="14159058" author="damien.carol" created="Sat, 4 Oct 2014 08:57:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; I will test it on Monday 2014-10-13 but at first sight LGTM.&lt;/p&gt;</comment>
                            <comment id="14162033" author="alangates" created="Tue, 7 Oct 2014 16:01:55 +0000"  >&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</comment>
                            <comment id="14162057" author="damien.carol" created="Tue, 7 Oct 2014 16:20:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; Could you add quotes to identifiers in the postgres scripts. This way, the lowercase identifiers are explicit?&lt;/p&gt;</comment>
                            <comment id="14162067" author="alangates" created="Tue, 7 Oct 2014 16:25:06 +0000"  >&lt;p&gt;So what is now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE txns (
  txn_id bigint PRIMARY KEY,
  txn_state &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;(1) NOT NULL,
  txn_started bigint NOT NULL,
  txn_last_heartbeat bigint NOT NULL,
  txn_user varchar(128) NOT NULL,
  txn_host varchar(128) NOT NULL
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;would instead look like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE &lt;span class=&quot;code-quote&quot;&gt;&apos;txns&apos;&lt;/span&gt; (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_id&apos;&lt;/span&gt; bigint PRIMARY KEY,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_state&apos;&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;(1) NOT NULL,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_started&apos;&lt;/span&gt; bigint NOT NULL,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_last_heartbeat&apos;&lt;/span&gt; bigint NOT NULL,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_user&apos;&lt;/span&gt; varchar(128) NOT NULL,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;txn_host&apos;&lt;/span&gt; varchar(128) NOT NULL
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that right?&lt;/p&gt;</comment>
                            <comment id="14162457" author="damien.carol" created="Tue, 7 Oct 2014 20:18:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; I think we should use char &lt;tt&gt;&quot;&lt;/tt&gt; like in the others upgrade scripts of the metastore.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;BUCKETING_COLS&quot;&lt;/span&gt; (
&lt;span class=&quot;code-quote&quot;&gt;&quot;SD_ID&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;bigint&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;BUCKET_COL_NAME&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;varying&lt;/span&gt;(256) &lt;span class=&quot;code-keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt;::&lt;span class=&quot;code-keyword&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;varying&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;INTEGER_IDX&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;bigint&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt;
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Link here &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.14.0.postgres.sql#L22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/blob/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.14.0.postgres.sql#L22&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14164387" author="alangates" created="Wed, 8 Oct 2014 23:37:25 +0000"  >&lt;p&gt;A new version of the patch that quotes postgres table and field names.&lt;/p&gt;</comment>
                            <comment id="14185538" author="ashutoshc" created="Mon, 27 Oct 2014 18:12:51 +0000"  >&lt;p&gt;For all DBs (except for MS-SQL) there are changes in schema file as well new txn-schema file. But for, MS-SQL there are no additions in existing schema file. Was it intentional ? &lt;br/&gt;
Looks good otherwise.&lt;/p&gt;</comment>
                            <comment id="14185591" author="alangates" created="Mon, 27 Oct 2014 18:46:05 +0000"  >&lt;p&gt;All the txn tables are already in the hive-schema-0.14.0.mssql.sql.  I don&apos;t know why.  But that&apos;s why I didn&apos;t add them.&lt;/p&gt;</comment>
                            <comment id="14185601" author="ashutoshc" created="Mon, 27 Oct 2014 18:53:46 +0000"  >&lt;p&gt;oh, ok. +1&lt;/p&gt;</comment>
                            <comment id="14186329" author="hagleitn" created="Tue, 28 Oct 2014 04:08:33 +0000"  >&lt;p&gt;+1 for .14. This looks like it should go into that branch too.&lt;/p&gt;</comment>
                            <comment id="14187103" author="alangates" created="Tue, 28 Oct 2014 17:02:34 +0000"  >&lt;p&gt;Patch 2 committed to trunk and branch 0.14.  Thanks Ashutosh for the review and Damien for your help on the patch.&lt;/p&gt;</comment>
                            <comment id="14189569" author="brocknoland" created="Thu, 30 Oct 2014 03:22:16 +0000"  >&lt;p&gt;FYI this breaks svn merge patches. Can you look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8668&quot; title=&quot;mssql sql script has carriage returns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8668&quot;&gt;&lt;del&gt;HIVE-8668&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14211180" author="thejas" created="Thu, 13 Nov 2014 19:44:30 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12699016">HIVE-6559</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12751601">HIVE-8668</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12673760" name="HIVE-6669.2.patch" size="25544" author="gates" created="Wed, 8 Oct 2014 23:37:25 +0000"/>
                            <attachment id="12672859" name="HIVE-6669.patch" size="25324" author="gates" created="Fri, 3 Oct 2014 22:50:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>379874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tgbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>