<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:59:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-727] Hive Server getSchema() returns wrong schema for &quot;Explain&quot; queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-727</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive Server&apos;s getSchema() function will return a schema with zero fields when executing an &quot;Explain...&quot; query. A quick fix might be to set the default schema to be exactly one column of type string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432339">HIVE-727</key>
            <summary>Hive Server getSchema() returns wrong schema for &quot;Explain&quot; queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Suresh Mujumdar</assignee>
                                    <reporter username="ehwang">Eric Hwang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Aug 2009 00:43:34 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:12 +0000</updated>
                            <resolved>Thu, 15 Dec 2011 07:03:23 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13132165" author="prasadm" created="Thu, 20 Oct 2011 22:58:21 +0000"  >&lt;p&gt;Added a method to get result schema from a Task. The ExplainSemanticAnalyzer invokes this to get the schema for explain statement which is a single string column. &lt;/p&gt;</comment>
                            <comment id="13132172" author="jiraposter@reviews.apache.org" created="Thu, 20 Oct 2011 23:04:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2517/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2517/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added a method to get result schema from a Task. The ExplainSemanticAnalyzer invokes this to get the schema for explain statement which is a single string column.&lt;/p&gt;


&lt;p&gt;This addresses bug Hive-727.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/Hive-727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/Hive-727&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java 4972754 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java fe95cb1 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 41d2a81 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java fc22535 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2517/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2517/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added  a new test case in TestJdbcDriver to run  explain statement and verify resultset metadata &lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Prasad&lt;/p&gt;
</comment>
                            <comment id="13150840" author="cwsteinbach" created="Tue, 15 Nov 2011 22:23:24 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13152628" author="cwsteinbach" created="Fri, 18 Nov 2011 04:01:53 +0000"  >&lt;p&gt;@Prasad: TestJdbcDriver.testExplainStmt fails for me. It&apos;s possible that the patch just needs to be refreshed. Please take a look. Thanks!&lt;/p&gt;</comment>
                            <comment id="13169796" author="jiraposter@reviews.apache.org" created="Wed, 14 Dec 2011 23:23:30 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2517/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2517/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-12-14 23:21:30.477384)&lt;/p&gt;


&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebased the patch and reran the TestJdbcDriver test.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added a method to get result schema from a Task. The ExplainSemanticAnalyzer invokes this to get the schema for explain statement which is a single string column.&lt;/p&gt;


&lt;p&gt;This addresses bug Hive-727.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/Hive-727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/Hive-727&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java 4972754 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java 7e5f645 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java a4e59ca &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java 9dc6f87 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2517/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2517/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added  a new test case in TestJdbcDriver to run  explain statement and verify resultset metadata &lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Prasad&lt;/p&gt;
</comment>
                            <comment id="13169903" author="prasadm" created="Thu, 15 Dec 2011 01:18:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-727&quot; title=&quot;Hive Server getSchema() returns wrong schema for &amp;quot;Explain&amp;quot; queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-727&quot;&gt;&lt;del&gt;HIVE-727&lt;/del&gt;&lt;/a&gt;.patch attached&lt;/p&gt;</comment>
                            <comment id="13169914" author="cwsteinbach" created="Thu, 15 Dec 2011 01:50:06 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13169996" author="cwsteinbach" created="Thu, 15 Dec 2011 07:03:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prasad!&lt;/p&gt;</comment>
                            <comment id="13170036" author="hudson" created="Thu, 15 Dec 2011 08:44:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #26 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/26/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/26/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-727&quot; title=&quot;Hive Server getSchema() returns wrong schema for &amp;quot;Explain&amp;quot; queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-727&quot;&gt;&lt;del&gt;HIVE-727&lt;/del&gt;&lt;/a&gt;. Hive Server getSchema() returns wrong schema for &apos;Explain&apos; queries (Prasad Mujumdar via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214636&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13170228" author="hudson" created="Thu, 15 Dec 2011 14:11:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1148 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1148/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1148/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-727&quot; title=&quot;Hive Server getSchema() returns wrong schema for &amp;quot;Explain&amp;quot; queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-727&quot;&gt;&lt;del&gt;HIVE-727&lt;/del&gt;&lt;/a&gt;. Hive Server getSchema() returns wrong schema for &apos;Explain&apos; queries (Prasad Mujumdar via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214636&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1214636&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265223" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:12 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12410953">HIVE-187</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12507464" name="HIVE-727.patch" size="7427" author="prasadm" created="Thu, 15 Dec 2011 01:17:25 +0000"/>
                            <attachment id="12507465" name="HIVE-727.patch.1" size="7395" author="prasadm" created="Thu, 15 Dec 2011 01:24:30 +0000"/>
                            <attachment id="12499972" name="Hive-727.patch" size="7004" author="prasadm" created="Thu, 20 Oct 2011 22:55:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive Server, schema, explain</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>