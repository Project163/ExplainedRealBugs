<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:27:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-8745] Joins on decimal keys return different results whether they are run as reduce join or map join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-8745</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See attached .q file to reproduce. The difference seems to be whether trailing 0s are considered the same value or not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12753180">HIVE-8745</key>
            <summary>Joins on decimal keys return different results whether they are run as reduce join or map join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2014 21:06:44 +0000</created>
                <updated>Thu, 20 Nov 2014 09:37:56 +0000</updated>
                            <resolved>Fri, 7 Nov 2014 22:15:16 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Types</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14199083" author="hagleitn" created="Wed, 5 Nov 2014 21:07:31 +0000"  >&lt;p&gt;Test file has same join twice, once with auto-convert once w/o. Different number of rows returned.&lt;/p&gt;</comment>
                            <comment id="14199292" author="jdere" created="Wed, 5 Nov 2014 22:56:41 +0000"  >&lt;p&gt;Looks like HiveDecimal and HiveDecimalWritable have different comparison semantics in their equals() methods.&lt;br/&gt;
For HiveDecimal, 1.1 != 1.10&lt;br/&gt;
For HIveDecimalWritable, 1.1 == 1.10&lt;/p&gt;

&lt;p&gt;This is due to the fact that HiveDecimal.equals() uses BigDecimal.equals(), where the precision/scale/value all need to be the same to be considered equal. HiveDecimal probably should have been using BigDecimal.compareTo(), which is what is used in HiveDecimalWritable.equals().&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;, would you agree with this?&lt;/p&gt;</comment>
                            <comment id="14199312" author="spena" created="Wed, 5 Nov 2014 23:07:41 +0000"  >&lt;p&gt;I agree using compareTo() on HiveDecimal. &lt;/p&gt;

&lt;p&gt;Hive used to trim trailing zeroes before, so the equals() validation was always correct. Now, with the new change we should allow users to compare decimal values as before.&lt;br/&gt;
What do you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14199319" author="xuefuz" created="Wed, 5 Nov 2014 23:09:51 +0000"  >&lt;p&gt;Agreed. 1.1 == 1.10 should return true.&lt;/p&gt;</comment>
                            <comment id="14199506" author="mmccline" created="Thu, 6 Nov 2014 01:02:46 +0000"  >&lt;p&gt;We should include vectorization in any new tests for this issue.&lt;/p&gt;</comment>
                            <comment id="14199629" author="jdere" created="Thu, 6 Nov 2014 02:09:03 +0000"  >&lt;p&gt;Looking into this, it&apos;s not just HiveDecimal.equals() - BinarySortableSerde is serializing decimals in such a way that 1.1 is not the same as 1.10. This is why we&apos;re seeing the difference in the join behavior.&lt;/p&gt;

&lt;p&gt;It looks like this difference in behavior is due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;. Before HiveDecimal was automatically trimming the trailing zeros and so 1.1 and 1.10 would both be represented as 1.1. Now that they have different internal representations, there seem to be some unexpected differences in behavior like we&apos;re seeing with BinarySortableSerde. We may want to consider backing out the changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If we were to try to fix this issue without reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;, we would still have to trim trailing zeros within BinarySortableSerde so that 1.1 == 1.10. If we do this this will result in having the trimmed behavior that was deemed undesirable in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;, but which would only exhibit itself when BinarySortableSerde is used (joins), which seems a bit odd.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="14199637" author="jdere" created="Thu, 6 Nov 2014 02:12:10 +0000"  >&lt;p&gt;Marking for 0.14 - since this behavior change happened in 0.14, would like for this to be addressed before it gets released.&lt;/p&gt;</comment>
                            <comment id="14199713" author="xuefuz" created="Thu, 6 Nov 2014 03:33:15 +0000"  >&lt;p&gt;I don&apos;t think reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt; is a viable option. That&apos;s the trigger but not the root cause of the problem. The root cause is that BinarySortableSerde should be able to serailize decimal values in such way that comparison can be performed at byte level w/o requiring values be trailed for zeroes. I don&apos;t know how to do this, but I think that&apos;s the direction into which we should look. If the serde needs to remove trailing zeros during serialization, this is fine as long as it can get them back upon deserialization.&lt;/p&gt;</comment>
                            <comment id="14199960" author="jdere" created="Thu, 6 Nov 2014 07:46:26 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If the serde needs to remove trailing zeros during serialization, this is fine as long as it can get them back upon deserialization.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What I&apos;m saying is I don&apos;t think it&apos;s possible to get the trailing zeros back upon deserialization. Since this is BinarySortableSerde, the comparison is based on the bytes representing the decimal value.  If we had a way to differentiate 1.0 from 1.00 during deserialization, then there would have to be something in the BinarySortable representation of the decimal value to specify one trailing zero vs two trailing zeros, which would make the bytes comparison fail between 1.0 and 1.00. So the trailing zeros would be permanently trimmed.&lt;/p&gt;</comment>
                            <comment id="14199970" author="hagleitn" created="Thu, 6 Nov 2014 08:05:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; is right. You can&apos;t have it both ways. I don&apos;t see how you create an object that compares as equal on the byte-level but then magically reconstructs additional information on deserialization. You could add info to the value part of the MR key/value tuple but that&apos;s an unnecessarily complex solution. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; says: This is a regression and I think we should revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The other option would be to pad all values to the column spec and make sure we compute the spec as the max for the join keys. I&apos;m not sure why you were against that in the first place - it seems that&apos;s what most DBs do. However, that&apos;s complicated and should be tackled in 0.15.0.&lt;/p&gt;</comment>
                            <comment id="14200464" author="xuefuz" created="Thu, 6 Nov 2014 17:04:11 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The other option would be to pad all values to the column spec and make sure we compute the spec as the max for the join keys. I&apos;m not sure why you were against that in the first place&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m not sure what this refers to. Nevertheless, I think the serde should be able to trim the zeros and pad it back as long as it has the right metadata. It seems it does have the metadata for each colomns.&lt;/p&gt;
</comment>
                            <comment id="14200483" author="xuefuz" created="Thu, 6 Nov 2014 17:15:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;, could you do some research on this? Thanks.&lt;/p&gt;</comment>
                            <comment id="14200636" author="jdere" created="Thu, 6 Nov 2014 18:49:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt; Nevertheless, I think the serde should be able to trim the zeros and pad it back as long as it has the right metadata. It seems it does have the metadata for each colomns.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We have the metadata for the column, but not for individual values in each row. If you have a decimal(10,5) column, but the values &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1
1.0
1.00
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only thing we could get from the column metadata is the precision=5, so we could pad everything to 1.00000. To know how many extra zeros we need for each value of the column, we would have to save something for each value.&lt;/p&gt;</comment>
                            <comment id="14200678" author="hagleitn" created="Thu, 6 Nov 2014 19:09:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; I&apos;m going to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;. I think that&apos;s reasonable given that it causes this issues. I&apos;m also worried to change the behavior of decimals in hive .14 again if there&apos;s still questions about it. We&apos;ve changed the behavior in .12 - .13 already and it caused a lot of grief to some folks. Given that BinarySortableSerde is involved, we also need to look into window functions, group by w/ w/o map-side aggr etc.&lt;/p&gt;

&lt;p&gt;Jason also brings up another good point: Performance. The decision to maintain the trailing zeroes for each individual value instead of at the column level, means that we will never be able to simply encode decimals in two longs, which was the idea behind limiting the precision of decimals in the first place.&lt;/p&gt;</comment>
                            <comment id="14200716" author="xuefuz" created="Thu, 6 Nov 2014 19:26:11 +0000"  >&lt;p&gt;Okay. Could you guys add this repro case so that when &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt; is revisted the issue here can be caught early?&lt;/p&gt;</comment>
                            <comment id="14200771" author="jdere" created="Thu, 6 Nov 2014 19:48:15 +0000"  >&lt;p&gt;Sounds like a good idea, will do.&lt;/p&gt;</comment>
                            <comment id="14200902" author="jdere" created="Thu, 6 Nov 2014 20:54:05 +0000"  >&lt;p&gt;Attaching patch v1, just reverting the Java code changes associated with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;, will wait for the precommit tests to see what q file golden files need to get updated. Patch did not apply cleanly so a few of these files needed manual changes. Ignored the changes for RecordReaderImpl, because it looks like the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8461&quot; title=&quot;Make Vectorized Decimal query results match Non-Vectorized query results with respect to trailing zeroes... .0000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8461&quot;&gt;&lt;del&gt;HIVE-8461&lt;/del&gt;&lt;/a&gt; take precedence.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;hagleitn&lt;/a&gt;, can you verify the explain plans looks correct in decimal_join2.q.out? I&apos;m pretty useless with explain plans. The result sets match.&lt;/p&gt;</comment>
                            <comment id="14200989" author="hagleitn" created="Thu, 6 Nov 2014 21:43:53 +0000"  >&lt;p&gt;Verified the explain plan. Looks good to me.&lt;/p&gt;</comment>
                            <comment id="14201146" author="jdere" created="Thu, 6 Nov 2014 23:00:41 +0000"  >&lt;p&gt;Update patch to include golden file changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14201224" author="hiveqa" created="Thu, 6 Nov 2014 23:45:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12679944/HIVE-8745.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12679944/HIVE-8745.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 67 failed/errored test(s), 6702 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_change_col
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_decimal_native
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_pad_convert
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_trailing
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_serde_regex
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_when
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_all_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_aggregate_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_between_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_data_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_aggregate
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_cast
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_expressions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_round_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_trailing
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_reduce_groupby_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_navfn
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_rank
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_decimal
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_types
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_between_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_data_types
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_aggregate
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_cast
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_expressions
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_precision
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_trailing
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_reduce_groupby_decimal
org.apache.hadoop.hive.common.type.TestHiveDecimal.testMultiply
org.apache.hadoop.hive.common.type.TestHiveDecimal.testPlus
org.apache.hadoop.hive.common.type.TestHiveDecimal.testPow
org.apache.hadoop.hive.common.type.TestHiveDecimal.testSubtract
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testCeiling
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testFloor
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testNegate
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testRound
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testRoundWithDigits
org.apache.hadoop.hive.ql.exec.vector.expressions.TestDecimalUtil.testSign
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTypeCasts.testCastDecimalToString
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1672/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1672/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1672/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1672/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1672/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1672/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 67 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12679944 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14201276" author="jdere" created="Fri, 7 Nov 2014 00:23:58 +0000"  >&lt;p&gt;Looks like a few more tests to fix.&lt;br/&gt;
Also, does it make sense to still change HiveDecimal.equals() to use BigDecimal.compareTo() rather than HiveDecimal.equals()?&lt;/p&gt;</comment>
                            <comment id="14201412" author="jdere" created="Fri, 7 Nov 2014 01:50:01 +0000"  >&lt;p&gt;Patch v3, fix test failures. Per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;hagleitn&lt;/a&gt;, leaving HiveDecimal.equals() alone for now, this is same behavior as it used to be.&lt;/p&gt;</comment>
                            <comment id="14201417" author="jdere" created="Fri, 7 Nov 2014 01:54:02 +0000"  >&lt;p&gt;RB at &lt;a href=&quot;https://reviews.apache.org/r/27715/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/27715/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14201978" author="hiveqa" created="Fri, 7 Nov 2014 12:08:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12680049/HIVE-8745.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12680049/HIVE-8745.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 6666 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_transform_acid
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
org.apache.hive.hcatalog.streaming.TestStreaming.testEndpointConnection
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1684/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1684/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1684/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1684/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1684/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1684/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12680049 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14202289" author="jdere" created="Fri, 7 Nov 2014 17:22:08 +0000"  >&lt;p&gt;Failures do not appear to be related to the patch.&lt;/p&gt;</comment>
                            <comment id="14202752" author="hagleitn" created="Fri, 7 Nov 2014 21:43:39 +0000"  >&lt;p&gt;Not sure it&apos;s needed, because this is reverting, but: +1 for trunk and hive 0.14&lt;/p&gt;</comment>
                            <comment id="14202803" author="jdere" created="Fri, 7 Nov 2014 22:15:16 +0000"  >&lt;p&gt;Committed to trunk/branch-0.14&lt;/p&gt;</comment>
                            <comment id="14210726" author="thejas" created="Thu, 13 Nov 2014 19:42:16 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14218342" author="spena" created="Wed, 19 Nov 2014 19:19:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;I believed you added a statement on documentation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt; fix; but this patch is reverting the trailing zeroes fix. So you might wanna revert that document statement as well.&lt;/p&gt;</comment>
                            <comment id="14219177" author="lefty@hortonworks.com" created="Thu, 20 Nov 2014 09:37:56 +0000"  >&lt;p&gt;Thanks for the tip, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;.  I removed the TODOC14 label on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7373&quot; title=&quot;Hive should not remove trailing zeros for decimal numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7373&quot;&gt;&lt;del&gt;HIVE-7373&lt;/del&gt;&lt;/a&gt; and added a doc note (actually a no-doc note).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12753932">HIVE-8796</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12752650">HIVE-8724</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12726349">HIVE-7373</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12679944" name="HIVE-8745.1.patch" size="38102" author="jdere" created="Thu, 6 Nov 2014 20:54:05 +0000"/>
                            <attachment id="12679982" name="HIVE-8745.2.patch" size="103050" author="jdere" created="Thu, 6 Nov 2014 23:00:41 +0000"/>
                            <attachment id="12680049" name="HIVE-8745.3.patch" size="208161" author="jdere" created="Fri, 7 Nov 2014 01:50:01 +0000"/>
                            <attachment id="12679626" name="join_test.q" size="857" author="hagleitn" created="Wed, 5 Nov 2014 21:07:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i220rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>