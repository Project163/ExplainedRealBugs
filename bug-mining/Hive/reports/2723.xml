<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:25:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-8115] Hive select query hang when fields contain map</title>
                <link>https://issues.apache.org/jira/browse/HIVE-8115</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Attached the repro of the issue. When creating an table loading the data attached, all hive query with hangs even just select * from the table.&lt;/p&gt;

&lt;p&gt;repro steps:&lt;br/&gt;
1. run createTable.hql&lt;br/&gt;
2. hadoop fs -put data /data&lt;br/&gt;
3. LOAD DATA INPATH &apos;/data&apos; OVERWRITE INTO TABLE testtable;&lt;br/&gt;
4. SELECT * FROM testtable;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12741642">HIVE-8115</key>
            <summary>Hive select query hang when fields contain map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xiaobingo">Xiaobing Zhou</assignee>
                                    <reporter username="xiaobingo">Xiaobing Zhou</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Sep 2014 01:11:15 +0000</created>
                <updated>Tue, 1 Oct 2019 22:07:20 +0000</updated>
                            <resolved>Mon, 13 Oct 2014 18:33:34 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14134807" author="xiaobingo" created="Tue, 16 Sep 2014 01:24:34 +0000"  >&lt;p&gt;wedcsProperties column starts with ���&lt;span class=&quot;error&quot;&gt;&amp;#91;SOH&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ETX&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;STX&amp;#93;&lt;/span&gt;, where SOH is start of heading with value &apos;\001&apos; in terms of OCT, ETX is end of text with end of text with value &apos;\003&apos; , and STX is start of text with value &apos;\002&apos;. &lt;span class=&quot;error&quot;&gt;&amp;#91;STX&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ETX&amp;#93;&lt;/span&gt; is the format good for map&apos;s key/value pair representation. &lt;/p&gt;

&lt;p&gt;In the data file, &lt;span class=&quot;error&quot;&gt;&amp;#91;STX&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ETX&amp;#93;&lt;/span&gt; means empty map pair, this will make query hanging forever by complaining nothing.&lt;/p&gt;

&lt;p&gt;Of course &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39; and &amp;#39;&amp;#93;&lt;/span&gt;&apos; don&apos;t exist, only for notation purpose in the comment. Be sure to use Notepad++ to view these special chars.&lt;/p&gt;</comment>
                            <comment id="14134809" author="xiaobingo" created="Tue, 16 Sep 2014 01:26:42 +0000"  >&lt;p&gt;Just verified, &lt;span class=&quot;error&quot;&gt;&amp;#91;STX&amp;#93;&lt;/span&gt;my-key&lt;span class=&quot;error&quot;&gt;&amp;#91;ETX&amp;#93;&lt;/span&gt; is fine for empty value with specific key, however,  &lt;span class=&quot;error&quot;&gt;&amp;#91;STX&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;EXT&amp;#93;&lt;/span&gt;my-value doesn&apos;t really work. So the conclusion is empty key will hang the query.&lt;/p&gt;</comment>
                            <comment id="14134810" author="xiaobingo" created="Tue, 16 Sep 2014 01:28:47 +0000"  >&lt;p&gt;By debugging, it enters an indefinite loop,&lt;br/&gt;
LazyMap.parse() line: 173	&lt;br/&gt;
LazyMap.getMap() line: 320	&lt;br/&gt;
LazyMapObjectInspector.getMap(Object) line: 104	&lt;br/&gt;
SerDeUtils.buildJSONString(StringBuilder, Object, ObjectInspector, String) line: 317	&lt;br/&gt;
SerDeUtils.getJSONString(Object, ObjectInspector, String) line: 197	&lt;br/&gt;
DelimitedJSONSerDe.serializeField(ByteStream$Output, Object, ObjectInspector, LazySimpleSerDe$SerDeParameters) line: 60	&lt;br/&gt;
DelimitedJSONSerDe(LazySimpleSerDe).doSerialize(Object, ObjectInspector) line: 422	&lt;br/&gt;
DelimitedJSONSerDe(AbstractEncodingAwareSerDe).serialize(Object, ObjectInspector) line: 50	&lt;br/&gt;
DefaultFetchFormatter&amp;lt;T&amp;gt;.convert(Object, ObjectInspector) line: 71	&lt;br/&gt;
DefaultFetchFormatter&amp;lt;T&amp;gt;.convert(Object, ObjectInspector) line: 40	&lt;br/&gt;
ListSinkOperator.processOp(Object, int) line: 87	&lt;br/&gt;
SelectOperator(Operator&amp;lt;T&amp;gt;).forward(Object, ObjectInspector) line: 800	&lt;br/&gt;
SelectOperator.processOp(Object, int) line: 84	&lt;br/&gt;
TableScanOperator(Operator&amp;lt;T&amp;gt;).forward(Object, ObjectInspector) line: 800	&lt;br/&gt;
TableScanOperator.processOp(Object, int) line: 95	&lt;br/&gt;
FetchOperator.pushRow(InspectableObject) line: 547	&lt;br/&gt;
FetchOperator.pushRow() line: 539	&lt;br/&gt;
FetchTask.fetch(List) line: 138	&lt;br/&gt;
Driver.getResults(List) line: 1620	&lt;br/&gt;
CliDriver.processLocalCmd(String, CommandProcessor, CliSessionState) line: 266	&lt;br/&gt;
CliDriver.processCmd(String) line: 198	&lt;br/&gt;
CliDriver.processLine(String, boolean) line: 408	&lt;br/&gt;
CliDriver.executeDriver(CliSessionState, HiveConf, OptionsProcessor) line: 781	&lt;br/&gt;
CliDriver.run(String[]) line: 675	&lt;br/&gt;
CliDriver.main(String[]) line: 614	&lt;br/&gt;
NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;	&lt;br/&gt;
NativeMethodAccessorImpl.invoke(Object, Object[]) line: 57	&lt;br/&gt;
DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43	&lt;br/&gt;
Method.invoke(Object, Object...) line: 601	&lt;br/&gt;
RunJar.run(String[]) line: 221	&lt;br/&gt;
RunJar.main(String[]) line: 136	&lt;/p&gt;</comment>
                            <comment id="14134811" author="xiaobingo" created="Tue, 16 Sep 2014 01:30:44 +0000"  >&lt;p&gt;LazyMap was commented as &quot;LazyMap does not deal with the case of a NULL map. That is handled by the parent LazyObject.&quot;, so it&apos;d better to output some warning message regarding empty key or pair in line 173 of LazyMap.parse().&lt;/p&gt;</comment>
                            <comment id="14135944" author="xiaobingo" created="Tue, 16 Sep 2014 18:44:21 +0000"  >&lt;p&gt;made a patch to warn empty key or empty pair. Can anyone do a quick review? Thanks!&lt;/p&gt;</comment>
                            <comment id="14137191" author="hiveqa" created="Wed, 17 Sep 2014 13:09:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12669133/HIVE-8115.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12669133/HIVE-8115.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6279 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/839/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/839/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/839/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/839/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-839/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-839/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12669133&lt;/p&gt;</comment>
                            <comment id="14139357" author="hsubramaniyan" created="Thu, 18 Sep 2014 19:18:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiaobingo&quot; class=&quot;user-hover&quot; rel=&quot;xiaobingo&quot;&gt;xiaobingo&lt;/a&gt; Can you explain the fix, I  see that it improves logging by warning the user not to insert null keys. The query can still hang if there is map field having null key.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14139362" author="xiaobingo" created="Thu, 18 Sep 2014 19:22:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; This is intentional because &quot;LazyMap does not deal with the case of a NULL map. That is handled by the parent LazyObject.&quot; , This patch lets users know what happened behind.&lt;/p&gt;</comment>
                            <comment id="14139714" author="hsubramaniyan" created="Thu, 18 Sep 2014 23:27:21 +0000"  >&lt;p&gt;There are 2 options here :&lt;br/&gt;
1. Modify Driver.getResults to throw an exception when the data is invalid.&lt;br/&gt;
2. Modify LazyMap.parse() something similar to this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (lazyKey != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        	&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; key = lazyKey.getObject();
        	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!keySet.contains(key)) {
        		mapSize++;
        		keySet.add(key);
        	} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        		keyInited[mapSize] = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        	}
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {

        	&lt;span class=&quot;code-comment&quot;&gt;// Log the error without throwing an exception
&lt;/span&gt;        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14139719" author="xiaobingo" created="Thu, 18 Sep 2014 23:29:24 +0000"  >&lt;p&gt;Made another patch to throw RuntimeException in addition to output warning messages.&lt;/p&gt;</comment>
                            <comment id="14140455" author="hiveqa" created="Fri, 19 Sep 2014 13:22:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12669865/HIVE-8115.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12669865/HIVE-8115.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6293 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/875/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/875/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/875/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/875/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-875/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-875/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12669865&lt;/p&gt;</comment>
                            <comment id="14143906" author="xiaobingo" created="Mon, 22 Sep 2014 21:59:36 +0000"  >&lt;p&gt;There is an infinite loop due to parsing pointer not advanced in LazyMap.parse that hangs query in the case of bad map with empty entry. The 3rd patch logged warning message and skipped those bad entries, and made queries going on by returning good entries in map.&lt;/p&gt;</comment>
                            <comment id="14143914" author="xiaobingo" created="Mon, 22 Sep 2014 22:06:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;prasanth_j&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; could you review this patch please? Thanks!&lt;/p&gt;</comment>
                            <comment id="14143944" author="prasanth_j" created="Mon, 22 Sep 2014 22:22:02 +0000"  >&lt;p&gt;Changes look good to me, +1&lt;/p&gt;</comment>
                            <comment id="14143945" author="jdere" created="Mon, 22 Sep 2014 22:22:18 +0000"  >&lt;p&gt;MInor thing, but it looks like the 3 lines under &quot;// reset keyValueSeparatorPosition&quot; are done whether or not lazyKey is null.  Maybe get rid of the continue statement and use an if-else so that both cases fall into the reset keyValueSeparatorPosition code afterwards.&lt;br/&gt;
Also, is it possible to add a test case for this?&lt;/p&gt;</comment>
                            <comment id="14143976" author="xiaobingo" created="Mon, 22 Sep 2014 22:46:04 +0000"  >&lt;p&gt;The 4th patch, made a change to remove redundant code according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; &apos;review. Will add test cases in the following patch.&lt;/p&gt;</comment>
                            <comment id="14144292" author="hiveqa" created="Tue, 23 Sep 2014 04:04:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670529/HIVE-8115.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12670529/HIVE-8115.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6313 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/929/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/929/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/929/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/929/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-929/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-929/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12670529&lt;/p&gt;</comment>
                            <comment id="14145427" author="xiaobingo" created="Tue, 23 Sep 2014 21:00:03 +0000"  >&lt;p&gt;Made the 5th patch, and added unit test cases.&lt;/p&gt;</comment>
                            <comment id="14145931" author="hiveqa" created="Wed, 24 Sep 2014 05:37:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670803/HIVE-8115.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12670803/HIVE-8115.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6326 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_dynamic_partition_pruning
org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/952/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/952/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/952/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/952/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-952/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-952/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12670803&lt;/p&gt;</comment>
                            <comment id="14167437" author="xiaobingo" created="Fri, 10 Oct 2014 20:15:02 +0000"  >&lt;p&gt;Made the sixth patch to adjust unit test.&lt;/p&gt;</comment>
                            <comment id="14167592" author="xiaobingo" created="Fri, 10 Oct 2014 21:48:53 +0000"  >&lt;p&gt;Made the 7th patch, there are minor issues in unit test, fixed them.&lt;/p&gt;</comment>
                            <comment id="14167611" author="jdere" created="Fri, 10 Oct 2014 22:00:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14168532" author="hiveqa" created="Sun, 12 Oct 2014 05:37:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12674271/HIVE-8115.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12674271/HIVE-8115.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4138 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parallel
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_tez_smb_1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1224/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1224/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1224/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1224/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1224/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1224/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12674271&lt;/p&gt;</comment>
                            <comment id="14169579" author="xiaobingo" created="Mon, 13 Oct 2014 17:25:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt;, can you get the patch committed to both trunk and 0.14?&lt;/p&gt;</comment>
                            <comment id="14169636" author="jdere" created="Mon, 13 Oct 2014 17:56:33 +0000"  >&lt;p&gt;Committed to trunk.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;vikram.dixit&lt;/a&gt; this one would be good to put into 0.14 as well.&lt;/p&gt;</comment>
                            <comment id="14169715" author="jdere" created="Mon, 13 Oct 2014 18:34:22 +0000"  >&lt;p&gt;Committed to 0.14 branch as well.&lt;/p&gt;</comment>
                            <comment id="14210432" author="thejas" created="Thu, 13 Nov 2014 19:40:49 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12669133" name="HIVE-8115.1.patch" size="1542" author="xiaobingo" created="Tue, 16 Sep 2014 18:44:21 +0000"/>
                            <attachment id="12669865" name="HIVE-8115.2.patch" size="1570" author="xiaobingo" created="Thu, 18 Sep 2014 23:42:36 +0000"/>
                            <attachment id="12670522" name="HIVE-8115.3.patch" size="1610" author="xiaobingo" created="Mon, 22 Sep 2014 22:23:45 +0000"/>
                            <attachment id="12670529" name="HIVE-8115.4.patch" size="1920" author="xiaobingo" created="Mon, 22 Sep 2014 22:46:04 +0000"/>
                            <attachment id="12670803" name="HIVE-8115.5.patch" size="7166" author="xiaobingo" created="Tue, 23 Sep 2014 20:56:48 +0000"/>
                            <attachment id="12674240" name="HIVE-8115.6.patch" size="7619" author="xiaobingo" created="Fri, 10 Oct 2014 20:14:11 +0000"/>
                            <attachment id="12674271" name="HIVE-8115.7.patch" size="7548" author="xiaobingo" created="Fri, 10 Oct 2014 21:48:53 +0000"/>
                            <attachment id="12668935" name="createTable.hql" size="300" author="xiaobingo" created="Tue, 16 Sep 2014 01:17:15 +0000"/>
                            <attachment id="12668932" name="data" size="1677" author="xiaobingo" created="Tue, 16 Sep 2014 01:15:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i202nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>