<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:13:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5601] NPE in ORC&apos;s PPD  when using select * from table with where predicate</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5601</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ORCInputFormat has a method findIncludedColumns() which returns boolean array of included columns. In case of the following query &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from qlog_orc where id&amp;lt;1000 limit 10;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; where all columns are selected the findIncludedColumns() returns null. This will result in a NPE when PPD is enabled. Following is the stack trace&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.planReadPartialDataStreams(RecordReaderImpl.java:2387)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.readPartialDataStreams(RecordReaderImpl.java:2543)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.readStripe(RecordReaderImpl.java:2200)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.advanceStripe(RecordReaderImpl.java:2573)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.advanceToNextRow(RecordReaderImpl.java:2615)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.&amp;lt;init&amp;gt;(RecordReaderImpl.java:132)
	at org.apache.hadoop.hive.ql.io.orc.ReaderImpl.rows(ReaderImpl.java:348)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.&amp;lt;init&amp;gt;(OrcInputFormat.java:99)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getRecordReader(OrcInputFormat.java:241)
	at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:237)
	... 8 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12674899">HIVE-5601</key>
            <summary>NPE in ORC&apos;s PPD  when using select * from table with where predicate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>ORC</label>
                    </labels>
                <created>Mon, 21 Oct 2013 21:26:51 +0000</created>
                <updated>Sat, 16 Nov 2013 07:27:15 +0000</updated>
                            <resolved>Thu, 14 Nov 2013 19:08:23 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.12.1</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13801226" author="owen.omalley" created="Mon, 21 Oct 2013 21:58:21 +0000"  >&lt;p&gt;Actually, can you fix it lower down and make the Reader.rows replace null with a boolean[] of the right length?&lt;/p&gt;</comment>
                            <comment id="13801267" author="prasanth_j" created="Mon, 21 Oct 2013 22:39:46 +0000"  >&lt;p&gt;Updated the patch as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt;&apos;s comment..&lt;/p&gt;</comment>
                            <comment id="13801673" author="prasanth_j" created="Tue, 22 Oct 2013 10:13:37 +0000"  >&lt;p&gt;added test cases and updated with a fix for failing test case in branch-0.12.&lt;/p&gt;</comment>
                            <comment id="13804779" author="owen.omalley" created="Thu, 24 Oct 2013 22:51:48 +0000"  >&lt;p&gt;The length of the array needs to be the length of the types array, so you need to use footer.getTypesCount(). You shouldn&apos;t protect it with a null check on columnNames.&lt;/p&gt;</comment>
                            <comment id="13804810" author="prasanth_j" created="Thu, 24 Oct 2013 23:44:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; updated the patch with types count. &lt;/p&gt;</comment>
                            <comment id="13811743" author="prasanth_j" created="Fri, 1 Nov 2013 23:08:47 +0000"  >&lt;p&gt;Refreshed the patch with mavenized trunk.&lt;/p&gt;</comment>
                            <comment id="13815118" author="owen.omalley" created="Wed, 6 Nov 2013 18:26:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13816832" author="prasanth_j" created="Fri, 8 Nov 2013 00:04:30 +0000"  >&lt;p&gt;Re-uploading patch for HIVE QA to run tests.&lt;/p&gt;</comment>
                            <comment id="13816952" author="hiveqa" created="Fri, 8 Nov 2013 03:11:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12612739/HIVE-5601.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12612739/HIVE-5601.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/194/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/194/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/194/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/194/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests failed with: IllegalArgumentException: null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12612739&lt;/p&gt;</comment>
                            <comment id="13816959" author="prasanth_j" created="Fri, 8 Nov 2013 03:24:54 +0000"  >&lt;p&gt;Reuploading patches as HIVE QA failed executing tests in previous run.&lt;/p&gt;</comment>
                            <comment id="13817058" author="hiveqa" created="Fri, 8 Nov 2013 06:55:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12612770/HIVE-5601.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12612770/HIVE-5601.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4566 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/202/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/202/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/202/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/202/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12612770&lt;/p&gt;</comment>
                            <comment id="13817654" author="hagleitn" created="Fri, 8 Nov 2013 20:29:14 +0000"  >&lt;p&gt;Committed the patch to trunk. Haven&apos;t updated hive .12 yet.&lt;/p&gt;</comment>
                            <comment id="13823765" author="hudson" created="Fri, 15 Nov 2013 16:15:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-branch-0.12-hadoop1 #32 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-branch-0.12-hadoop1/32/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-branch-0.12-hadoop1/32/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5601&quot; title=&quot;NPE in ORC&amp;#39;s PPD  when using select * from table with where predicate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5601&quot;&gt;&lt;del&gt;HIVE-5601&lt;/del&gt;&lt;/a&gt;: NPE in ORC&apos;s PPD when using select * from table with where &lt;br/&gt;
predicate pushdown (Prasanth J via Owen O&apos;Malley and Gunther Hagleitner) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1542024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1542024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/test/queries/clientpositive/orc_predicate_pushdown.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/test/results/clientpositive/orc_predicate_pushdown.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824409" author="hudson" created="Sat, 16 Nov 2013 07:27:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-branch-0.12-hadoop2 #23 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-branch-0.12-hadoop2/23/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-branch-0.12-hadoop2/23/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5601&quot; title=&quot;NPE in ORC&amp;#39;s PPD  when using select * from table with where predicate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5601&quot;&gt;&lt;del&gt;HIVE-5601&lt;/del&gt;&lt;/a&gt;: NPE in ORC&apos;s PPD when using select * from table with where &lt;br/&gt;
predicate pushdown (Prasanth J via Owen O&apos;Malley and Gunther Hagleitner) (omalley: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1542024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1542024&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/test/queries/clientpositive/orc_predicate_pushdown.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.12/ql/src/test/results/clientpositive/orc_predicate_pushdown.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12612769" name="HIVE-5601.4-branch-0.12.patch.txt" size="10178" author="prasanth_j" created="Fri, 8 Nov 2013 03:24:54 +0000"/>
                            <attachment id="12612770" name="HIVE-5601.5.patch.txt" size="9580" author="prasanth_j" created="Fri, 8 Nov 2013 03:24:54 +0000"/>
                            <attachment id="12609547" name="HIVE-5601.branch-0.12.2.patch.txt" size="1090" author="prasanth_j" created="Mon, 21 Oct 2013 22:39:46 +0000"/>
                            <attachment id="12609630" name="HIVE-5601.branch-0.12.3.patch.txt" size="9682" author="prasanth_j" created="Tue, 22 Oct 2013 10:23:17 +0000"/>
                            <attachment id="12610184" name="HIVE-5601.branch-0.12.4.patch.txt" size="10178" author="prasanth_j" created="Thu, 24 Oct 2013 23:44:40 +0000"/>
                            <attachment id="12609528" name="HIVE-5601.branch-12.1.patch.txt" size="734" author="prasanth_j" created="Mon, 21 Oct 2013 21:30:38 +0000"/>
                            <attachment id="12609529" name="HIVE-5601.trunk.1.patch.txt" size="745" author="prasanth_j" created="Mon, 21 Oct 2013 21:30:38 +0000"/>
                            <attachment id="12609546" name="HIVE-5601.trunk.2.patch.txt" size="1119" author="prasanth_j" created="Mon, 21 Oct 2013 22:39:46 +0000"/>
                            <attachment id="12609629" name="HIVE-5601.trunk.3.patch.txt" size="6197" author="prasanth_j" created="Tue, 22 Oct 2013 10:13:37 +0000"/>
                            <attachment id="12610185" name="HIVE-5601.trunk.4.patch.txt" size="9560" author="prasanth_j" created="Thu, 24 Oct 2013 23:44:40 +0000"/>
                            <attachment id="12611711" name="HIVE-5601.trunk.5.patch.txt" size="9580" author="prasanth_j" created="Fri, 1 Nov 2013 23:08:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p4bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>