<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:57:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-1939] Fix test failure in TestContribCliDriver/url_hook.q</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1939</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12497385">HIVE-1939</key>
            <summary>Fix test failure in TestContribCliDriver/url_hook.q</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Feb 2011 21:00:33 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:53 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:49:56 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12990293" author="jvs" created="Thu, 3 Feb 2011 20:32:57 +0000"  >&lt;p&gt;I did some bisection on svn commits and found that the commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1636&quot; title=&quot;Implement &amp;quot;SHOW TABLES {FROM | IN} db_name&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1636&quot;&gt;&lt;del&gt;HIVE-1636&lt;/del&gt;&lt;/a&gt; seems to be the point where this broke.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;rev=1063549&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;rev=1063549&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12990309" author="cwsteinbach" created="Thu, 3 Feb 2011 21:16:56 +0000"  >&lt;p&gt;@John: Yup, you&apos;re right. The problem is that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1636&quot; title=&quot;Implement &amp;quot;SHOW TABLES {FROM | IN} db_name&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1636&quot;&gt;&lt;del&gt;HIVE-1636&lt;/del&gt;&lt;/a&gt; modified&lt;br/&gt;
&apos;SHOW TABLES IN &amp;lt;db&amp;gt;&apos; to throw an error when db doesn&apos;t exist.&lt;br/&gt;
Previously in this situation the SHOW TABLES command just returned&lt;br/&gt;
an empty result set.&lt;/p&gt;

&lt;p&gt;url_hook.q points the MetaStore to a new JDO URL and then runs&lt;br/&gt;
&apos;SHOW TABLES&apos;. In the past this caused the metastore to initialize&lt;br/&gt;
a new metastore schema, but without creating the &apos;default&apos; database.&lt;br/&gt;
Since &apos;SHOW TABLES&apos; wasn&apos;t checking for the existence of the&lt;br/&gt;
default database the command succeeded with an empty result set.&lt;/p&gt;

&lt;p&gt;I think the correct fix for this problem is to make sure that the metastore&lt;br/&gt;
creates the &apos;default&apos; table if it does not already exist.&lt;/p&gt;</comment>
                            <comment id="13003320" author="cwsteinbach" created="Mon, 7 Mar 2011 10:50:55 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/469/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/469/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch moves the url_hook.q testcase from the contrib/positive directory to the contrib/negative directory. As I noted in my previous comment, this testcase should always have thrown an error, but until recently this fact was masked by another bug in the implementation of SHOW TABLES. That other bug was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1636&quot; title=&quot;Implement &amp;quot;SHOW TABLES {FROM | IN} db_name&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1636&quot;&gt;&lt;del&gt;HIVE-1636&lt;/del&gt;&lt;/a&gt;, which consequently caused the error to start popping up in url_hook.&lt;/p&gt;

&lt;p&gt;I spent a lot of time trying to resolve the underlying problem (described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2029&quot; title=&quot;MetaStore ConnectionURL updates need to trigger creation of Default DB if it doesn&amp;#39;t exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2029&quot;&gt;HIVE-2029&lt;/a&gt;), only to convince myself that this will require substantial changes to the HiveMetaStore class, which I think run the risk of destabilizing the branch. Consequently, I propose backporting this patch to the 0.7 branch in order to resolve the test failure, and then investigate and fix the real problem on trunk in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2029&quot; title=&quot;MetaStore ConnectionURL updates need to trigger creation of Default DB if it doesn&amp;#39;t exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2029&quot;&gt;HIVE-2029&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13003526" author="jvs" created="Mon, 7 Mar 2011 19:33:09 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13003543" author="jvs" created="Mon, 7 Mar 2011 19:49:56 +0000"  >&lt;p&gt;Committed to branch and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12500610">HIVE-2029</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12472812" name="HIVE-1939.1.patch.txt" size="2643" author="cwsteinbach" created="Mon, 7 Mar 2011 10:38:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>