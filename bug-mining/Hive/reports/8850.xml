<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:27:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-29014] Wrong row count in statistics after minor compacting an Iceberg table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-29014</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;tt&gt;iceberg_minor_compaction_unpartitioned.q.out&lt;/tt&gt; after the second minor compaction of the table &lt;tt&gt;ice_orc&lt;/tt&gt; the row count should remain 7 but 6 is shown in the describe formatted output.&lt;br/&gt;
Run &lt;tt&gt;iceberg_minor_compaction_unpartitioned.q&lt;/tt&gt; to reproduce the issue.&lt;/p&gt;

&lt;p&gt;The issue is caused by an optimization in Iceberg:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/iceberg/pull/11131#issuecomment-2913183379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/iceberg/pull/11131#issuecomment-2913183379&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/iceberg/pull/11131#discussion_r1815710103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/iceberg/pull/11131#discussion_r1815710103&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13620830">HIVE-29014</key>
            <summary>Wrong row count in statistics after minor compacting an Iceberg table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="difin">Dmitriy Fingerman</assignee>
                                    <reporter username="krisztiankasa">Krisztian Kasa</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2025 08:21:45 +0000</created>
                <updated>Tue, 17 Jun 2025 15:17:39 +0000</updated>
                            <resolved>Tue, 17 Jun 2025 15:17:35 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                    <component>Iceberg integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17972751" author="dkuzmenko" created="Fri, 13 Jun 2025 10:26:07 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=difin&quot; class=&quot;user-hover&quot; rel=&quot;difin&quot;&gt;difin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17972756" author="dkuzmenko" created="Fri, 13 Jun 2025 10:29:09 +0000"  >&lt;p&gt;The problem is that minor compaction doesn&apos;t explicitly remove the deletes, referencing the rewritten data files; however, iceberg  took care of orphan deletes during commit before &lt;a href=&quot;https://github.com/apache/iceberg/pull/11131#discussion_r1815710103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/iceberg/pull/11131#discussion_r1815710103&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17980050" author="JIRAUSER295017" created="Tue, 17 Jun 2025 15:17:35 +0000"  >&lt;p&gt;Thanks for review, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkuzmenko&quot; class=&quot;user-hover&quot; rel=&quot;dkuzmenko&quot;&gt;dkuzmenko&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13601788">HIVE-28665</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wbfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>