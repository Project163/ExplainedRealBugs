<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:21:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-25505] Incorrect results with header. skip.header.line.count if first line is blank</title>
                <link>https://issues.apache.org/jira/browse/HIVE-25505</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;aAtable with header. skip.header.line.count=1 does not skip the first line if it is blank, except in a fetch task.&lt;/p&gt;

&lt;p&gt;To reproduce, create a csv table, ans set header. skip.header.line.count=1 in table properties.&lt;/p&gt;

&lt;p&gt;In the table location, create a single file, with a blank (empty) first line, and say 2 further lines.&lt;/p&gt;

&lt;p&gt;If you do a select * on it, you see 2 rows (correct)&lt;br/&gt;
 If you do select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;on it, you get 3 (incorrect)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE EXTERNAL TABLE `testcase1`(id &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, name string) ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.OpenCSVSerde&apos;&lt;/span&gt;
  LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;${system:test.tmp.dir}/testcase1&apos;&lt;/span&gt;
  TBLPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&quot;skip.header.line.count&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;);

SET hive.fetch.task.conversion = more;
select * from testcase1;
select count(*) from testcase1;


set hive.fetch.task.conversion=none;
select * from testcase1;
select count(*) from testcase1;

Test file:

1,2019-12-31
2,2019-12-31
3,2019-12-31



Should both yield (with the above test file):
#### A masked pattern was here ####
1	2019-12-31
2	2019-12-31
3	2019-12-31

3

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13399808">HIVE-25505</key>
            <summary>Incorrect results with header. skip.header.line.count if first line is blank</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pgaref">Panagiotis Garefalakis</assignee>
                                    <reporter username="scarlin">Steve Carlin</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 7 Sep 2021 16:16:02 +0000</created>
                <updated>Thu, 17 Nov 2022 08:48:36 +0000</updated>
                            <resolved>Wed, 20 Oct 2021 11:38:43 +0000</resolved>
                                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="17412069" author="kgyrtkirk" created="Wed, 8 Sep 2021 16:29:58 +0000"  >&lt;p&gt;I thinked we&apos;ve already fixed this - however I just found &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19943&quot; title=&quot;Header values keep showing up in result sets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19943&quot;&gt;HIVE-19943&lt;/a&gt; which is still unresolved&lt;/p&gt;</comment>
                            <comment id="17426212" author="pgaref" created="Fri, 8 Oct 2021 14:48:56 +0000"  >&lt;p&gt;I have a repro for this &#8211; updating description and assigning to myself&lt;/p&gt;</comment>
                            <comment id="17431159" author="pgaref" created="Wed, 20 Oct 2021 11:38:27 +0000"  >&lt;p&gt;Resolved via &lt;a href=&quot;https://github.com/apache/hive/pull/2717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/2717&lt;/a&gt;&#160;&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abstractdog&quot; class=&quot;user-hover&quot; rel=&quot;abstractdog&quot;&gt;abstractdog&lt;/a&gt;&#160;for the review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13166870">HIVE-19943</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13281335">HIVE-22769</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0uot4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>