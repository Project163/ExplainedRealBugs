<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:54:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-912] table name in CTAS should be case-insensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-912</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Table created in CTAS should be case sensitive. Currently the moveTask at the end of CTAS doesn&apos;t convert table name to lower case. This makes subsequent accessing to the table impossible since they are looking for lower case table names. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12439856">HIVE-912</key>
            <summary>table name in CTAS should be case-insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Nov 2009 15:00:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:21 +0000</updated>
                            <resolved>Thu, 12 Nov 2009 19:05:22 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12773506" author="nzhang" created="Wed, 4 Nov 2009 15:01:14 +0000"  >&lt;p&gt;Uploading patch Hive-912.patch.&lt;/p&gt;</comment>
                            <comment id="12773576" author="namit" created="Wed, 4 Nov 2009 17:28:54 +0000"  >&lt;p&gt;The changes look good - just a minor comment.&lt;br/&gt;
Do you need to change odbc/src/cpp/hiveclienthelper.cpp ?&lt;/p&gt;

&lt;p&gt;Also, can you add a test for create table (not ctas) also ?&lt;/p&gt;</comment>
                            <comment id="12773588" author="prasadc" created="Wed, 4 Nov 2009 18:02:48 +0000"  >&lt;p&gt;are you about the regular create table stmt is case sensitive? I remember putting some unit-tests for that.&lt;/p&gt;</comment>
                            <comment id="12773592" author="nzhang" created="Wed, 4 Nov 2009 18:25:53 +0000"  >&lt;p&gt;I think most DDL cases works fine (case insensitive). I have manually tested some and all works.  But I&apos;ve seen diffs in the POSTHOOK when running unittests. Some examples are uniquejoin.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; POSTHOOK: Output: default@t1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; POSTHOOK: Output: default@T1&lt;/p&gt;

&lt;p&gt;My change will be to convert table names to lower case in the createTableDesc at the very beginning of analyzing DDL statement. This will guarantee all code paths using the createTableDesc will see lower cased table names. &lt;/p&gt;</comment>
                            <comment id="12773673" author="namit" created="Wed, 4 Nov 2009 22:30:31 +0000"  >&lt;p&gt;Also, I remember Oracle used to support &quot;&quot; for preserving case sensitive stuff.&lt;br/&gt;
What will happen in that case with Hive ?&lt;/p&gt;</comment>
                            <comment id="12774008" author="nzhang" created="Thu, 5 Nov 2009 18:04:08 +0000"  >&lt;p&gt;I thought Oracle&apos;s syntax would be put double quote around identifiers so that they won&apos;t be interpreted as keywords (e.g. &quot;--tablename&quot; won&apos;t be interpretated as comment). Hive use the back single quote for that purpose. I don&apos;t know whether Oracle preseves case though. &lt;/p&gt;

&lt;p&gt;Anyway, I changed it back to use case-sensitive names in createTableDesc but only convert to lower case when moveTask move to a file. A new patch is attached. Also added a simple test case for non-CTAS in case there isn&apos;t one. &lt;/p&gt;</comment>
                            <comment id="12776134" author="namit" created="Tue, 10 Nov 2009 22:49:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;br/&gt;
will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12776212" author="namit" created="Wed, 11 Nov 2009 01:17:00 +0000"  >&lt;p&gt;Can you remove the new table nzhang_Tmp in ctas.q at the end ?&lt;br/&gt;
Some of the tests are failing because of that.&lt;/p&gt;</comment>
                            <comment id="12776287" author="nzhang" created="Wed, 11 Nov 2009 05:28:45 +0000"  >&lt;p&gt;Fixed the test file as commented by Namit.&lt;/p&gt;</comment>
                            <comment id="12777080" author="namit" created="Thu, 12 Nov 2009 17:37:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12777125" author="namit" created="Thu, 12 Nov 2009 19:05:21 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12424026" name="Hive-912.patch" size="14271" author="nzhang" created="Wed, 4 Nov 2009 15:01:14 +0000"/>
                            <attachment id="12424144" name="Hive-912_2.patch" size="14937" author="nzhang" created="Thu, 5 Nov 2009 18:04:08 +0000"/>
                            <attachment id="12424564" name="Hive-912_3.patch" size="15354" author="nzhang" created="Wed, 11 Nov 2009 05:28:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>