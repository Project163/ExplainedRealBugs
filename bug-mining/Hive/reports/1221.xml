<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:06:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4189] ORC fails with String column that ends in lots of nulls</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4189</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When ORC attempts to write out a string column that ends in enough nulls to span an index stride, StringTreeWriter&apos;s writeStripe method will get an exception from TreeWriter&apos;s writeStripe method&lt;/p&gt;

&lt;p&gt;Column has wrong number of index entries found: x expected: y&lt;/p&gt;

&lt;p&gt;This is caused by rowIndexValueCount having multiple entries equal to the number of non-null rows in the column, combined with the fact that StringTreeWriter has special logic for constructing its index.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637261">HIVE-4189</key>
            <summary>ORC fails with String column that ends in lots of nulls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 20:34:27 +0000</created>
                <updated>Thu, 16 May 2013 21:11:00 +0000</updated>
                            <resolved>Fri, 19 Apr 2013 22:46:29 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13603819" author="kevinwilfong" created="Fri, 15 Mar 2013 20:39:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D9465&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13634583" author="owen.omalley" created="Wed, 17 Apr 2013 23:13:27 +0000"  >&lt;p&gt;+1 looks good.&lt;/p&gt;</comment>
                            <comment id="13636977" author="owen.omalley" created="Fri, 19 Apr 2013 22:46:29 +0000"  >&lt;p&gt;I just committed this to trunk and branch-0.11. Thanks, Kevin!&lt;/p&gt;</comment>
                            <comment id="13637325" author="hudson" created="Sat, 20 Apr 2013 19:09:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #167 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/167/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/167/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4189&quot; title=&quot;ORC fails with String column that ends in lots of nulls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4189&quot;&gt;&lt;del&gt;HIVE-4189&lt;/del&gt;&lt;/a&gt; : ORC fails with String column that ends in lots of nulls (Kevin&lt;br/&gt;
Wilfong) (Revision 1470080)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nulls.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_ends_with_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_ends_with_nulls.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637516" author="hudson" created="Sun, 21 Apr 2013 09:24:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2072 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2072/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2072/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4189&quot; title=&quot;ORC fails with String column that ends in lots of nulls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4189&quot;&gt;&lt;del&gt;HIVE-4189&lt;/del&gt;&lt;/a&gt; : ORC fails with String column that ends in lots of nulls (Kevin&lt;br/&gt;
Wilfong) (Revision 1470080)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nulls.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_ends_with_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_ends_with_nulls.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573937" name="HIVE-4189.1.patch.txt" size="10492" author="kevinwilfong" created="Fri, 15 Mar 2013 20:39:45 +0000"/>
                            <attachment id="12577876" name="HIVE-4189.2.patch.txt" size="11092" author="kevinwilfong" created="Tue, 9 Apr 2013 20:10:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ittz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>