<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:01:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3246] java primitive type for binary datatype should be byte[]</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3246</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;PrimitiveObjectInspector.getPrimitiveJavaObject is supposed to return a java object. But in case of binary datatype, it returns ByteArrayRef (not java standard type). The suitable java object for it would be byte[]. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12598095">HIVE-3246</key>
            <summary>java primitive type for binary datatype should be byte[]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas Nair</assignee>
                                    <reporter username="thejas">Thejas Nair</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2012 21:30:42 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:51 +0000</updated>
                            <resolved>Thu, 19 Jul 2012 17:13:22 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13409874" author="thejas" created="Mon, 9 Jul 2012 21:33:05 +0000"  >&lt;p&gt;The fix to use byte[] will not be backward compatible, but for the long term I think it is important to fix this. Hopefully, this won&apos;t affect too many people as binary datatype is relatively new.&lt;/p&gt;
</comment>
                            <comment id="13410615" author="ashutoshc" created="Tue, 10 Jul 2012 17:47:19 +0000"  >&lt;p&gt;This makes sense. Primitive type should really be primitive. : ) &lt;/p&gt;</comment>
                            <comment id="13410703" author="appodictic" created="Tue, 10 Jul 2012 18:57:22 +0000"  >&lt;p&gt;byte [] is not a primitive. I have no issue with the change but there must be a reason this was done. Likely a performance issue.&lt;/p&gt;</comment>
                            <comment id="13410957" author="thejas" created="Tue, 10 Jul 2012 21:39:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;byte [] is not a primitive. I have no issue with the change but there must be a reason this was done. Likely a performance issue.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, byte[] is not a java primitive type, but it as close as it gets to it (it is a basic type that ships with java). ByteArrayRef is just a wrapper around byte[], I don&apos;t see any performance advantage of using it when binary is converted to java primitive type using the getPrimitiveJavaObject  call. Fyi, Ashutosh implemented the binary type using ByteArrayRef in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2380&quot; title=&quot;Add Binary Datatype in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2380&quot;&gt;&lt;del&gt;HIVE-2380&lt;/del&gt;&lt;/a&gt;, I believe he does not see a performance issue as well (based on his comment above.)&lt;/p&gt;</comment>
                            <comment id="13414135" author="thejas" created="Fri, 13 Jul 2012 23:11:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3246&quot; title=&quot;java primitive type for binary datatype should be byte[]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3246&quot;&gt;&lt;del&gt;HIVE-3246&lt;/del&gt;&lt;/a&gt;.2.patch - restoring comment that was accidentally reverted by previous patch .&lt;br/&gt;
Reviewboard link - &lt;a href=&quot;https://reviews.apache.org/r/5414/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/5414/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13414136" author="thejas" created="Fri, 13 Jul 2012 23:12:31 +0000"  >&lt;p&gt;Patch is ready for review&lt;/p&gt;</comment>
                            <comment id="13416821" author="ashutoshc" created="Wed, 18 Jul 2012 02:42:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt; Looks like the RB link is incorrect. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="13416854" author="namit" created="Wed, 18 Jul 2012 04:30:02 +0000"  >&lt;p&gt;See Ashutosh&apos;s comments above&lt;/p&gt;</comment>
                            <comment id="13416885" author="thejas" created="Wed, 18 Jul 2012 05:39:44 +0000"  >&lt;p&gt;Correct RB link - &lt;a href=&quot;https://reviews.apache.org/r/5943/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/5943/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13417155" author="traviscrawford" created="Wed, 18 Jul 2012 15:16:04 +0000"  >&lt;p&gt;I patched v2 of this patch into a clean trunk and was able to run the query that failed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3266&quot; title=&quot;Hive queries over thrift binary fields fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3266&quot;&gt;&lt;del&gt;HIVE-3266&lt;/del&gt;&lt;/a&gt;. It was a simple &quot;select *&quot; from a table using ThriftDeserializer that has a binary field.&lt;/p&gt;</comment>
                            <comment id="13418081" author="ashutoshc" created="Thu, 19 Jul 2012 05:19:49 +0000"  >&lt;p&gt;+1. Looks good. Running tests.&lt;/p&gt;</comment>
                            <comment id="13418208" author="appodictic" created="Thu, 19 Jul 2012 10:35:54 +0000"  >&lt;p&gt;We have to do a release note it people who write binary UDFs are going to be effected by the change.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/edwardcapriolo/hive_cassandra_udfs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/edwardcapriolo/hive_cassandra_udfs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems like if you wrote a UDF that returns binary you may be effected depending on how you wrote it.&lt;/p&gt;</comment>
                            <comment id="13418447" author="ashutoshc" created="Thu, 19 Jul 2012 17:03:20 +0000"  >&lt;p&gt;Yeah. I will add the release notes while resolving this ticket.&lt;/p&gt;</comment>
                            <comment id="13418456" author="ashutoshc" created="Thu, 19 Jul 2012 17:13:22 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13418835" author="hudson" created="Fri, 20 Jul 2012 00:49:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1553 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1553/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1553/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3246&quot; title=&quot;java primitive type for binary datatype should be byte[]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3246&quot;&gt;&lt;del&gt;HIVE-3246&lt;/del&gt;&lt;/a&gt; : java primitive type for binary datatype should be byte[] (Thejas Nair via Ashutosh Chauhan) (Revision 1363427)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363427&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/BinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestStatsSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/MyTestClass.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/TestBinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/columnar/TestLazyBinaryColumnarSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/MyTestClassBigger.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/TestLazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548297" author="hudson" created="Wed, 9 Jan 2013 10:25:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3246&quot; title=&quot;java primitive type for binary datatype should be byte[]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3246&quot;&gt;&lt;del&gt;HIVE-3246&lt;/del&gt;&lt;/a&gt; : java primitive type for binary datatype should be byte[] (Thejas Nair via Ashutosh Chauhan) (Revision 1363427)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363427&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/BinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantBinaryObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestStatsSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/MyTestClass.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/TestBinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/columnar/TestLazyBinaryColumnarSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/MyTestClassBigger.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/TestLazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550223" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:51 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12599204">HIVE-3266</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12536468" name="HIVE-3246.1.patch" size="28728" author="thejas" created="Fri, 13 Jul 2012 22:12:07 +0000"/>
                            <attachment id="12536473" name="HIVE-3246.2.patch" size="28846" author="thejas" created="Fri, 13 Jul 2012 23:11:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09ya7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This fix changes the internal representation of binary type within Hive. UDFs which were using binary type and making use of the fact that java representation of binary data in Hive is ByteArrayRef needs to be updated to reflect that now that representation is byte[] instead. Also note that this doesn&amp;#39;t change the format for on-disk data.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>