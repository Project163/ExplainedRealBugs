<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:31:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10066] Hive on Tez job submission through WebHCat doesn&apos;t ship Tez artifacts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10066</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hitesh&quot; class=&quot;user-hover&quot; rel=&quot;hitesh&quot;&gt;hitesh&lt;/a&gt;:&lt;br/&gt;
&quot;Tez is a client-side only component ( no daemons, etc ) and therefore it is meant to be installed on the gateway box ( or where its client libraries are needed by any other services&#8217; daemons). It does not have any cluster dependencies both in terms of libraries/jars as well as configs. When it runs on a worker node, everything was pre-packaged and made available to the worker node via the distributed cache via the client code. Hence, its client-side configs are also only needed on the same (client) node as where it is installed. The only other install step needed is to have the tez tarball be uploaded to HDFS and the config has an entry &#8220;tez.lib.uris&#8221; which points to the HDFS path. &quot;&lt;/p&gt;




&lt;p&gt;We need a way to pass client jars and tez-site.xml to the LaunchMapper.&lt;/p&gt;

&lt;p&gt;We should create a general purpose mechanism here which can supply additional artifacts per job type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785047">HIVE-10066</key>
            <summary>Hive on Tez job submission through WebHCat doesn&apos;t ship Tez artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                            <label>TODOC1.2</label>
                    </labels>
                <created>Tue, 24 Mar 2015 01:25:32 +0000</created>
                <updated>Mon, 18 May 2015 19:49:32 +0000</updated>
                            <resolved>Mon, 30 Mar 2015 18:11:33 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Tez</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14382741" author="ekoifman" created="Thu, 26 Mar 2015 21:44:07 +0000"  >&lt;p&gt;added a new property to webhcat config to specify additional artifacts to include with Hive job submission.  This can be used, in particular, to ship Tez client to the node actually executing the command.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;, could you review please?&lt;/p&gt;</comment>
                            <comment id="14382800" author="thejas" created="Thu, 26 Mar 2015 22:14:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt; Some questions about the objectives, based on the config param description - &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If the path /foo/bar is a directory, the contents of the the entire dir will be localized  and ./foo/* will be added to HADOOP_CLASSPATH&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Is it /foo/bar that is localized or is it /foo ? If it is /foo/bar, why is /foo/* added to classpath ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In the example above, &quot;./tez-site.xml:./tez-client/&lt;b&gt;:./lib/&lt;/b&gt;&quot; will be added to  HADOOP_CLASSPATH.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Or is it &quot;./tez-site.xml:./tez-client/&lt;b&gt;:/tez-client/lib/&lt;/b&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="14382824" author="ekoifman" created="Thu, 26 Mar 2015 22:26:55 +0000"  >&lt;p&gt;this is the way &quot;hadoop jar -files /foo/bar&quot; works.  If bar is a directory, it will create bar/ in CWD of the task with contents of bar/.  If bar is a file, it will create ./bar.&lt;/p&gt;</comment>
                            <comment id="14382837" author="thejas" created="Thu, 26 Mar 2015 22:34:13 +0000"  >&lt;p&gt;Then it sounds like the right description is - If the path /foo/bar is a directory, the contents of the the entire dir will be localized and &lt;b&gt;./bar/&lt;/b&gt;* will be added to HADOOP_CLASSPATH&lt;/p&gt;</comment>
                            <comment id="14383080" author="ekoifman" created="Fri, 27 Mar 2015 00:42:21 +0000"  >&lt;p&gt;patch 2 addresses comments from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14384246" author="thejas" created="Fri, 27 Mar 2015 17:57:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14385078" author="hiveqa" created="Sat, 28 Mar 2015 03:00:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12707814/HIVE-10066.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12707814/HIVE-10066.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8677 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3188/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3188/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3188/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3188/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3188/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3188/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12707814 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14387116" author="ekoifman" created="Mon, 30 Mar 2015 18:11:33 +0000"  >&lt;p&gt;Committed to trunk.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                            <comment id="14390069" author="lefty@hortonworks.com" created="Wed, 1 Apr 2015 06:32:13 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;templeton.hive.extra.files&lt;/b&gt; to webhcat-default.xml and webhcat-site.xml, so it needs to be documented in the wiki for release 1.2.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Configure#WebHCatConfigure-ConfigurationVariables&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;WebHCat Configuration &amp;#8211; Configuration Variables &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14492820" author="ekoifman" created="Mon, 13 Apr 2015 18:42:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9486&quot; title=&quot;Use session classloader instead of application loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9486&quot;&gt;&lt;del&gt;HIVE-9486&lt;/del&gt;&lt;/a&gt; added dependency on hive-common.jar&lt;/p&gt;</comment>
                            <comment id="14520152" author="cnauroth" created="Wed, 29 Apr 2015 20:27:47 +0000"  >&lt;p&gt;FYI, this patch&apos;s call to &lt;tt&gt;FileStatus#isDirectory&lt;/tt&gt; does not work when linking against Hadoop 1 using &lt;tt&gt;-Phadoop-1&lt;/tt&gt;.  I included a fix in my patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10444&quot; title=&quot;HIVE-10223 breaks hadoop-1 build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10444&quot;&gt;&lt;del&gt;HIVE-10444&lt;/del&gt;&lt;/a&gt;, which reported a similar problem elsewhere in the code.&lt;/p&gt;</comment>
                            <comment id="14520181" author="ekoifman" created="Wed, 29 Apr 2015 20:37:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14548688" author="sushanth" created="Mon, 18 May 2015 19:49:32 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12823140">HIVE-10444</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12770552">HIVE-9486</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12787863">HIVE-10208</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12707655" name="HIVE-10066.2.patch" size="16048" author="ekoifman" created="Fri, 27 Mar 2015 00:42:21 +0000"/>
                            <attachment id="12707814" name="HIVE-10066.3.patch" size="15297" author="ekoifman" created="Fri, 27 Mar 2015 17:41:24 +0000"/>
                            <attachment id="12707609" name="HIVE-10066.patch" size="16054" author="ekoifman" created="Thu, 26 Mar 2015 21:44:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i279an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>