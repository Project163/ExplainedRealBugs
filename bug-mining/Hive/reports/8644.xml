<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:25:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-28057] Iceberg: Branches with non-lowercase characters can&apos;t be accessed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-28057</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Repo:&lt;/p&gt;

&lt;p&gt;1. Let&apos;s create a branch&lt;/p&gt;

&lt;p&gt;ALTER TABLE Devices CREATE Branch &lt;b&gt;Sandbox&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;2. Check the existence for evidence&lt;/p&gt;

&lt;p&gt;SELECT * FROM `default`.`devices`.`refs`;&lt;/p&gt;

&lt;p&gt;The References show it properly&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13066471/13066471_image-2024-02-05-16-10-55-198.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;3. Select from branch&lt;/p&gt;

&lt;p&gt;SELECT * FROM default.Devices.branch_Sandbox;&lt;/p&gt;

&lt;p&gt;But if the select it would throw an exception:&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#de350b&quot;&gt;Error while compiling statement: FAILED: SemanticException Cannot use snapshotRef (does not exist): sandbox&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;I guess the select operator does have a simple equals and does not check the cases also the cultureInvariant could be a different issue&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;INFO &#160;: Compiling command(queryId=hive_20240205151156_891265b0-0d7c-49b6-892a-cc6f7574ed2b): SELECT * FROM default.Devices.branch_Sandbox&lt;br/&gt;
ERROR : FAILED: SemanticException Cannot use snapshotRef (does not exist): sandbox&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: Cannot use snapshotRef (does not exist): sandbox&lt;br/&gt;
&#160; &#160; at org.apache.iceberg.mr.hive.HiveIcebergStorageHandler.checkAndSetTableMetaRef(HiveIcebergStorageHandler.java:1017)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:1800)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:1710)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.CalcitePlanner.getTableObjectByName(CalcitePlanner.java:5657)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.getMetaData(SemanticAnalyzer.java:2362)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.getMetaData(SemanticAnalyzer.java:2309)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genResolvedParseTree(SemanticAnalyzer.java:13295)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:13403)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:482)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:319)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Compiler.analyze(Compiler.java:227)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Compiler.compile(Compiler.java:108)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:202)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:656)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:602)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.Driver.compileAndRespond(Driver.java:596)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.hive.ql.reexec.ReExecDriver.compileAndRespond(ReExecDriver.java:126)&lt;br/&gt;
&#160; &#160; at org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:209)&lt;br/&gt;
&#160; &#160; at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork$1.run(SQLOperation.java:338)&lt;br/&gt;
&#160; &#160; at java.base/java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
&#160; &#160; at java.base/javax.security.auth.Subject.doAs(Subject.java:423)&lt;br/&gt;
&#160; &#160; at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)&lt;br/&gt;
&#160; &#160; at org.apache.hive.service.cli.operation.SQLOperation$BackgroundWork.run(SQLOperation.java:360)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)&lt;br/&gt;
&#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)&lt;br/&gt;
&#160; &#160; at java.base/java.lang.Thread.run(Thread.java:829)&lt;/p&gt;

&lt;p&gt;INFO &#160;: Completed compiling command(queryId=hive_20240205151156_891265b0-0d7c-49b6-892a-cc6f7574ed2b); Time taken: 0.088 seconds&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13567436">HIVE-28057</key>
            <summary>Iceberg: Branches with non-lowercase characters can&apos;t be accessed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ayushtkn">Ayush Saxena</assignee>
                                    <reporter username="aturoczy">Attila Turoczy</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 5 Feb 2024 15:15:00 +0000</created>
                <updated>Fri, 29 Mar 2024 17:49:58 +0000</updated>
                            <resolved>Fri, 9 Feb 2024 06:32:34 +0000</resolved>
                                                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17814652" author="ayushtkn" created="Tue, 6 Feb 2024 07:34:46 +0000"  >&lt;p&gt;We should get this fixed, but a secondary thing that I noticed is branch names are &lt;b&gt;case-senstive&lt;/b&gt;, I can create a branch with same spelling with different casing, so, that is a iceberg behaviour, we should document that:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;INFO&#160; : Completed executing command(queryId=hive_20240206073124_ddc8efdc-d385-4a27-855c-8e1be0b48ddc); Time taken: 0.0 seconds
+-------------+-------------+----------------------+--------------------------------+------------------------------+-------------------------------+
| ice02.name&#160; | ice02.type&#160; |&#160; ice02.snapshot_id &#160; | ice02.max_reference_age_in_ms&#160; | ice02.min_snapshots_to_keep&#160; | ice02.max_snapshot_age_in_ms&#160; |
+-------------+-------------+----------------------+--------------------------------+------------------------------+-------------------------------+
| mybranch1 &#160; | BRANCH&#160; &#160; &#160; | 9069023560359815384&#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; |
| main&#160; &#160; &#160; &#160; | BRANCH&#160; &#160; &#160; | 9069023560359815384&#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; |
| Mybranch1 &#160; | BRANCH&#160; &#160; &#160; | 9069023560359815384&#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; |
+-------------+-------------+----------------------+--------------------------------+------------------------------+-------------------------------+
3 rows selected (0.104 seconds)
0: jdbc:hive2://localhost:10000/&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Here we two tables named &lt;b&gt;mybranch1&lt;/b&gt;: &lt;tt&gt;mybranch1&lt;/tt&gt; &amp;amp; &lt;tt&gt;Mybranch1&lt;/tt&gt;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17815914" author="ayushtkn" created="Fri, 9 Feb 2024 06:32:25 +0000"  >&lt;p&gt;Committed to master.&lt;br/&gt;
Thanx &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aturoczy&quot; class=&quot;user-hover&quot; rel=&quot;aturoczy&quot;&gt;aturoczy&lt;/a&gt; for the report &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkuzmenko&quot; class=&quot;user-hover&quot; rel=&quot;dkuzmenko&quot;&gt;dkuzmenko&lt;/a&gt; for the review!!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13066471" name="image-2024-02-05-16-10-55-198.png" size="33782" author="aturoczy" created="Mon, 5 Feb 2024 15:10:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n7yg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>