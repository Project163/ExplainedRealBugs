<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:49:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-13539] HiveHFileOutputFormat searching the wrong directory for HFiles</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13539</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When creating HFiles for a bulkload in HBase I believe it is looking in the wrong directory to find the HFiles, resulting in the following exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error: java.lang.RuntimeException: Hive &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing operators: java.io.IOException: Multiple family directories found in hdfs:&lt;span class=&quot;code-comment&quot;&gt;//c1n1.gbif.org:8020/user/hive/warehouse/tim.db/coords_hbase/_temporary/2/_temporary
&lt;/span&gt;	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.close(ExecReducer.java:295)
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:453)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:392)
	at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)
	at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.io.IOException: Multiple family directories found in hdfs:&lt;span class=&quot;code-comment&quot;&gt;//c1n1.gbif.org:8020/user/hive/warehouse/tim.db/coords_hbase/_temporary/2/_temporary
&lt;/span&gt;	at org.apache.hadoop.hive.ql.exec.FileSinkOperator$FSPaths.closeWriters(FileSinkOperator.java:188)
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:958)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:598)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:610)
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.close(ExecReducer.java:287)
	... 7 more
Caused by: java.io.IOException: Multiple family directories found in hdfs:&lt;span class=&quot;code-comment&quot;&gt;//c1n1.gbif.org:8020/user/hive/warehouse/tim.db/coords_hbase/_temporary/2/_temporary
&lt;/span&gt;	at org.apache.hadoop.hive.hbase.HiveHFileOutputFormat$1.close(HiveHFileOutputFormat.java:158)
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator$FSPaths.closeWriters(FileSinkOperator.java:185)
	... 11 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue is that is looks for the HFiles in &lt;tt&gt;hdfs://c1n1.gbif.org:8020/user/hive/warehouse/tim.db/coords_hbase/_temporary/2/_temporary&lt;/tt&gt; when I believe it should be looking in the task attempt subfolder, such as &lt;tt&gt;hdfs://c1n1.gbif.org:8020/user/hive/warehouse/tim.db/coords_hbase/_temporary/2/_temporary/attempt_1461004169450_0002_r_000000_1000&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This can be reproduced in any HFile creation such as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; coords_hbase(id &lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt;, x &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;, y &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;)
STORED &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;WITH&lt;/span&gt; SERDEPROPERTIES (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.&lt;span class=&quot;code-keyword&quot;&gt;columns&lt;/span&gt;.mapping&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;:&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;,o:x,o:y&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.&lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;storage&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;type&lt;/span&gt;&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;binary&lt;/span&gt;&apos;&lt;/span&gt;);

&lt;span class=&quot;code-keyword&quot;&gt;SET&lt;/span&gt; hfile.family.&lt;span class=&quot;code-keyword&quot;&gt;path&lt;/span&gt;=/tmp/coords_hfiles/o; 
&lt;span class=&quot;code-keyword&quot;&gt;SET&lt;/span&gt; hive.hbase.generatehfiles=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; coords_hbase 
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; id, decimalLongitude, decimalLatitude
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;source&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;CLUSTER&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; id; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any advice greatly appreciated&lt;/p&gt;</description>
                <environment>&lt;p&gt;Built into CDH 5.4.7&lt;/p&gt;</environment>
        <key id="12959763">HIVE-13539</key>
            <summary>HiveHFileOutputFormat searching the wrong directory for HFiles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="timrobertson100">Tim Robertson</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 18 Apr 2016 19:16:27 +0000</created>
                <updated>Wed, 24 Jun 2020 00:27:59 +0000</updated>
                            <resolved>Fri, 18 Nov 2016 21:07:06 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.1.1</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="15249878" author="githubbot" created="Wed, 20 Apr 2016 13:27:44 +0000"  >&lt;p&gt;GitHub user timrobertson100 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/74&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13539&quot; title=&quot;HiveHFileOutputFormat searching the wrong directory for HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13539&quot;&gt;&lt;del&gt;HIVE-13539&lt;/del&gt;&lt;/a&gt;: HiveHFileOutputFormat searching the wrong directory for H&#8230;&lt;/p&gt;

&lt;p&gt;    I believe this is a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13539&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-13539&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    When there are several reducers (or speculative execution) there becomes multiple output dircetories for the task attempts.  Previous behaviour threw exception incorrectly as it assumed multiple HFiles.&lt;/p&gt;

&lt;p&gt;    Here, I am attempting to start the descending directory search from the task attempt folder and not from the higher directory for the table.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/timrobertson100/hive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/timrobertson100/hive&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/74.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/74.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #74&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a4abe6bec0c0141bddcbfa75408b49123af65066&lt;br/&gt;
Author: timrobertson100 &amp;lt;timrobertson100@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-04-20T13:23:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13539&quot; title=&quot;HiveHFileOutputFormat searching the wrong directory for HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13539&quot;&gt;&lt;del&gt;HIVE-13539&lt;/del&gt;&lt;/a&gt;: HiveHFileOutputFormat searching the wrong directory for HFiles&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15249883" author="timrobertson100" created="Wed, 20 Apr 2016 13:30:36 +0000"  >&lt;p&gt;Patch is visible on&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/pull/74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/74&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15289928" author="mmccline" created="Wed, 18 May 2016 21:56:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=timrobertson100&quot; class=&quot;user-hover&quot; rel=&quot;timrobertson100&quot;&gt;timrobertson100&lt;/a&gt; Can you write a Unit Test and/or Q file (e.g. using your repro) that verifies this fix?  I&apos;m looking at reviewing this change so it get committed.&lt;/p&gt;</comment>
                            <comment id="15295483" author="timrobertson100" created="Sun, 22 May 2016 08:56:12 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;mmccline&lt;/a&gt;.&lt;br/&gt;
I will but it won&apos;t be for a couple of weeks at least.&lt;/p&gt;</comment>
                            <comment id="15308828" author="mmccline" created="Tue, 31 May 2016 23:14:38 +0000"  >&lt;p&gt;Attached are the Q file and its output.  I used the query text above as a starting point.  No failure on master...  Perhaps older versions of software are broken.&lt;/p&gt;

&lt;p&gt;hbase-handler/src/test/queries/positive/hive_hfile_output_format.q&lt;br/&gt;
hbase-handler/src/test/results/positive/hive_hfile_output_format.q.out&lt;/p&gt;</comment>
                            <comment id="15313240" author="mmccline" created="Thu, 2 Jun 2016 22:53:59 +0000"  >&lt;p&gt;The command I used from itests directory was:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn test -Dtest=TestHBaseCliDriver -Dqfile=hive_hfile_output_format.q -Dtest.output.overwrite=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Phadoop-2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15316173" author="mmccline" created="Mon, 6 Jun 2016 04:10:00 +0000"  >&lt;p&gt;Q file succeeds on branch-1   (after removing the dfs command).&lt;/p&gt;</comment>
                            <comment id="15567897" author="mmccline" created="Wed, 12 Oct 2016 07:23:24 +0000"  >&lt;p&gt;I other words, I can&apos;t get the non-patched code to fail.  Without a test case, the code patch cannot be reviewed and committed.&lt;/p&gt;</comment>
                            <comment id="15670315" author="ctang.ma" created="Wed, 16 Nov 2016 12:30:09 +0000"  >&lt;p&gt;The issue could only be reproduced when multiple reducers are used. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=timrobertson100&quot; class=&quot;user-hover&quot; rel=&quot;timrobertson100&quot;&gt;timrobertson100&lt;/a&gt;, would you like to provide a new qtest?&lt;/p&gt;</comment>
                            <comment id="15675540" author="ctang.ma" created="Fri, 18 Nov 2016 02:50:26 +0000"  >&lt;p&gt;qtest is not able to reproduce the seen issue since it runs the test using local mode MR which runs multiple reducers sequentially. Manually tests have been done to reproduce the issue in cluster and verified the patch fixes the problem.&lt;br/&gt;
Attached patch is same as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=timrobertson100&quot; class=&quot;user-hover&quot; rel=&quot;timrobertson100&quot;&gt;timrobertson100&lt;/a&gt; provided, except some code to throw out an exception instead of hanging for the case where the last component of the specified hfile does not match the column family name.&lt;/p&gt;</comment>
                            <comment id="15676166" author="hiveqa" created="Fri, 18 Nov 2016 08:40:55 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839490/HIVE-13539.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12839490/HIVE-13539.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10682 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=114)
	[join39.q,bucketsortoptimize_insert_7.q,vector_distinct_2.q,join11.q,union13.q,dynamic_rdd_cache.q,auto_sortmerge_join_16.q,windowing.q,union_remove_3.q,skewjoinopt7.q,stats7.q,annotate_stats_join.q,multi_insert_lateral_view.q,ptf_streaming.q,join_1to1.q]
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_bulk] (batchId=89)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=90)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=91)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2185/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2185/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2185/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2185/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2185/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2185/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12839490 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15676226" author="timrobertson100" created="Fri, 18 Nov 2016 09:07:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;ctang.ma&lt;/a&gt; for confirming.  I am sorry, I haven&apos;t had time to look at this again.&lt;/p&gt;</comment>
                            <comment id="15676361" author="ctang.ma" created="Fri, 18 Nov 2016 10:06:49 +0000"  >&lt;p&gt;Fixed the failed test&lt;/p&gt;</comment>
                            <comment id="15676785" author="hiveqa" created="Fri, 18 Nov 2016 14:05:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839540/HIVE-13539.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12839540/HIVE-13539.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10657 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniSparkOnYarnCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=158)
	[scriptfile1.q,vector_outer_join5.q,file_with_header_footer.q,bucket4.q,input16_cc.q,bucket5.q,infer_bucket_sort_merge.q,constprog_partitioner.q,orc_merge2.q,reduce_deduplicate.q,schemeAuthority2.q,load_fs2.q,orc_merge8.q,orc_merge_incompat2.q,infer_bucket_sort_bucketed_table.q,vector_outer_join4.q,disable_merge_for_bucketing.q,vector_inner_join.q,orc_merge7.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=125)
	[ppd_transform.q,auto_join9.q,auto_join1.q,vector_data_types.q,input14.q,union30.q,input12.q,union_remove_22.q,vectorization_3.q,groupby1_map_nomap.q,cbo_union.q,disable_merge_for_bucketing.q,reduce_deduplicate_exclude_join.q,filter_join_breaktask2.q,join30.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=92)
	[bucketmapjoin4.q,bucket_map_join_spark4.q,union21.q,groupby2_noskew.q,timestamp_2.q,date_join1.q,mergejoins.q,smb_mapjoin_11.q,auto_sortmerge_join_3.q,mapjoin_test_outer.q,vectorization_9.q,merge2.q,groupby6_noskew.q,auto_join_without_localtask.q,multi_join_union.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2192/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2192/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2192/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2192/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2192/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2192/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12839540 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15677040" author="ctang.ma" created="Fri, 18 Nov 2016 16:10:30 +0000"  >&lt;p&gt;The failed tests are not related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;ychena&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;aihuaxu&lt;/a&gt;, could you help to review the code?&lt;/p&gt;</comment>
                            <comment id="15677161" author="aihuaxu" created="Fri, 18 Nov 2016 17:10:00 +0000"  >&lt;p&gt;The change looks good to me. +1.&lt;/p&gt;</comment>
                            <comment id="15677272" author="mohitsabharwal" created="Fri, 18 Nov 2016 17:52:54 +0000"  >&lt;p&gt;LGTM, +1&lt;/p&gt;</comment>
                            <comment id="15677755" author="ctang.ma" created="Fri, 18 Nov 2016 21:07:06 +0000"  >&lt;p&gt;Committed to 2.2.0 and 2.1.1. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=timrobertson100&quot; class=&quot;user-hover&quot; rel=&quot;timrobertson100&quot;&gt;timrobertson100&lt;/a&gt; for the initial patch and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;aihuaxu&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt; for review.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13025176">HIVE-15341</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12839540" name="HIVE-13539.1.patch" size="4042" author="ctang" created="Fri, 18 Nov 2016 10:06:49 +0000"/>
                            <attachment id="12839490" name="HIVE-13539.patch" size="3442" author="ctang" created="Fri, 18 Nov 2016 02:50:26 +0000"/>
                            <attachment id="12807283" name="hive_hfile_output_format.q" size="692" author="mmccline" created="Tue, 31 May 2016 23:12:35 +0000"/>
                            <attachment id="12807284" name="hive_hfile_output_format.q.out" size="3771" author="mmccline" created="Tue, 31 May 2016 23:12:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wa47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>