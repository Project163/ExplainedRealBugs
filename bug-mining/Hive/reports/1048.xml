<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:03:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3760] TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3760</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Actually functionality is working correctly, but incorrect include/exclude macro in test directive is making its .q.out comparison against incorrect results.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618448">HIVE-3760</key>
            <summary>TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Dec 2012 19:28:10 +0000</created>
                <updated>Thu, 16 May 2013 21:10:47 +0000</updated>
                            <resolved>Sun, 9 Dec 2012 09:04:25 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13508030" author="ashutoshc" created="Sat, 1 Dec 2012 19:36:34 +0000"  >&lt;p&gt;With this patch mapreduce_stack_trace.q doesn&apos;t run for hadoop-1 but mapreduce_stack_trace_hadoop20.q is run against hadoop-1. On hadoop-1 we are able to correctly capture mapreduce stack trace same as with hadoop20, so it make sense to run and check its output against mapreduce_stack_trace_hadoop20.q&lt;/p&gt;

&lt;p&gt;With this patch this test passes on all of hadoop 0.20, 1.0 and 0.23.3&lt;/p&gt;

&lt;p&gt;though actually mapreduce_stack_trace.q which after this patch will run only on 0.23.3 should fail because mapreduce_stack_trace.q.out contains incorrect  results. In particular, it doesn&apos;t capture the stack trace which it should capture. Wil create a separate jira for it.  &lt;/p&gt;</comment>
                            <comment id="13508032" author="ashutoshc" created="Sat, 1 Dec 2012 19:43:02 +0000"  >&lt;p&gt;Note that regardless of this issue and patch, mapreduce_stack_trace.q.out is incorrect since it doesn&apos;t have mapreduce stack trace so that test is bogus for all hadoop version. &lt;br/&gt;
It currently runs and passes on 0.23 which is incorrect. It also runs against 1 and correctly fails, which this patch fixes by turning it off for hadoop-1 and turning mapreduce_stack_trace.q_hadoop20 on for hadoop-1&lt;/p&gt;</comment>
                            <comment id="13526223" author="hagleitn" created="Fri, 7 Dec 2012 08:31:33 +0000"  >&lt;p&gt;The mapreduce_stack_trace_turnoff test is also misconfigured. Applied the same fix to both in the second patch.&lt;/p&gt;</comment>
                            <comment id="13526231" author="zhenxiao" created="Fri, 7 Dec 2012 08:41:55 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;hagleitn&lt;/a&gt;:&lt;br/&gt;
I&apos;d like to say that this is my fault. I did not set the configuration correctly when doing the EXCLUDE/INCLUDE versions. Sorry about that, and thanks a lot for the fix.&lt;/p&gt;

&lt;p&gt;Zhenixao&lt;/p&gt;</comment>
                            <comment id="13526473" author="ashutoshc" created="Fri, 7 Dec 2012 15:57:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhenxiao&quot; class=&quot;user-hover&quot; rel=&quot;zhenxiao&quot;&gt;zhenxiao&lt;/a&gt; For the bonus, you can tackle &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3761&quot; title=&quot;TestNegativeMinimrCliDriver_mapreduce_stack_trace.q.out contains incorrect data.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3761&quot;&gt;HIVE-3761&lt;/a&gt; : )&lt;/p&gt;</comment>
                            <comment id="13526480" author="zhenxiao" created="Fri, 7 Dec 2012 16:03:45 +0000"  >&lt;p&gt;Sure Will do it.&lt;/p&gt;</comment>
                            <comment id="13527219" author="ashutoshc" created="Sat, 8 Dec 2012 18:13:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13527373" author="ashutoshc" created="Sun, 9 Dec 2012 09:04:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13527574" author="hudson" created="Sun, 9 Dec 2012 18:39:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1845 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1845/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1845/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3760&quot; title=&quot;TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3760&quot;&gt;&lt;del&gt;HIVE-3760&lt;/del&gt;&lt;/a&gt; : TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1418837)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418837&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548294" author="hudson" created="Wed, 9 Jan 2013 10:25:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3760&quot; title=&quot;TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3760&quot;&gt;&lt;del&gt;HIVE-3760&lt;/del&gt;&lt;/a&gt; : TestNegativeMinimrCliDriver_mapreduce_stack_trace.q fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1418837)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418837&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12559831" name="HIVE-3760.2.patch" size="2872" author="hagleitn" created="Fri, 7 Dec 2012 08:31:59 +0000"/>
                            <attachment id="12555645" name="hive-3760.patch" size="1250" author="ashutoshc" created="Sat, 1 Dec 2012 19:36:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sw47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>