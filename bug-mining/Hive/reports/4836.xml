<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:47:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-14394] Reduce excessive INFO level logging</title>
                <link>https://issues.apache.org/jira/browse/HIVE-14394</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to cull down on the number of logs we generate in HMS and HS2 that are not needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12993813">HIVE-14394</key>
            <summary>Reduce excessive INFO level logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Jul 2016 19:10:35 +0000</created>
                <updated>Thu, 8 Dec 2016 14:15:49 +0000</updated>
                            <resolved>Fri, 5 Aug 2016 22:28:31 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.1</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15401311" author="sushanth" created="Sun, 31 Jul 2016 19:18:16 +0000"  >&lt;p&gt;The recent event that predicated the filing of this bug is reports that we&apos;re filling up disks of the metastore box from recent hive installations, due to the excessive amount of metrics logging we generate. At first, this is not a hive problem, because the primary bit of extra logging is coming from HadoopMetrics2Reporter, which is a new library we depend on to publish our Codahale metrics to the Hadoop Metrics2 subsystem, and is easily fixed by changing the loglevel for that class to DEBUG, rather than retaining it on INFO. However, it becomes our problem for upgrade scenarios where the customer now has a manual change they need to make for smooth operations of their cluster because we upgraded a dependency.&lt;/p&gt;

&lt;p&gt;Thus, we need to work with the maintainer (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;elserj&lt;/a&gt;) of HadoopMetrics2Reporter to get a new version of the library, with info-level logging reduced to debug-level logging. To this end, I have filed a github pull request : &lt;a href=&quot;https://github.com/joshelser/dropwizard-hadoop-metrics2/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/joshelser/dropwizard-hadoop-metrics2/pull/1&lt;/a&gt; . &lt;/p&gt;

&lt;p&gt;However, in the meanwhile, we also need to make a patch available (even if we don&apos;t commit it to hive) to solve the problem those installations have. Thus, I&apos;m uploading a temporary patch to move the Metrics2 Reporter to the hive project, with the fix, so that those that need it can use this patch. I will update this patch with a newer patch which bumps up the version number of the dependency with the log-level aspect changed once we have a newer library version with that.&lt;/p&gt;</comment>
                            <comment id="15401313" author="sushanth" created="Sun, 31 Jul 2016 19:22:07 +0000"  >&lt;p&gt;Temporary patch attached.&lt;/p&gt;</comment>
                            <comment id="15402097" author="elserj" created="Mon, 1 Aug 2016 14:13:05 +0000"  >&lt;p&gt;Closing the loop on the upstream fix (since most probably won&apos;t be watching &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;&apos;s PR): I just merged in his change (thanks so much for catching and fixing) and released an 0.1.1 of the reporter. It should be available via Maven central now (but not available via &lt;a href=&quot;http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22dropwizard-metrics-hadoop-metrics2-reporter%22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22dropwizard-metrics-hadoop-metrics2-reporter%22&lt;/a&gt; for a few hours).&lt;/p&gt;

&lt;p&gt;Sorry for the temporary pain!&lt;/p&gt;</comment>
                            <comment id="15402297" author="sushanth" created="Mon, 1 Aug 2016 16:02:10 +0000"  >&lt;p&gt;Awesome! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks, I&apos;ll update the pom dep instead of this.&lt;/p&gt;</comment>
                            <comment id="15402333" author="sushanth" created="Mon, 1 Aug 2016 16:17:29 +0000"  >&lt;p&gt;Updated patch attached.&lt;/p&gt;</comment>
                            <comment id="15402434" author="elserj" created="Mon, 1 Aug 2016 17:10:19 +0000"  >&lt;p&gt;I was able to build master with your v2 patch locally. LGTM.&lt;/p&gt;</comment>
                            <comment id="15403361" author="hiveqa" created="Tue, 2 Aug 2016 05:09:53 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12821350/HIVE-14394.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12821350/HIVE-14394.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10420 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMsgBusConnection - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_orc_llap_counters
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.stringifyValidTxns
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testTxnRange
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/729/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/729/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/729/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/729/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-729/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-729/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12821350 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15404453" author="thejas" created="Tue, 2 Aug 2016 17:43:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15410193" author="sushanth" created="Fri, 5 Aug 2016 22:28:31 +0000"  >&lt;p&gt;Committed to master and branch-2.1.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12821350" name="HIVE-14394.2.patch" size="628" author="sushanth" created="Mon, 1 Aug 2016 16:17:29 +0000"/>
                            <attachment id="12821229" name="HIVE-14394.patch" size="35356" author="sushanth" created="Sun, 31 Jul 2016 19:22:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31q13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>