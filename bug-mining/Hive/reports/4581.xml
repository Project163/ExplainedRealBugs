<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:44:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-13857] insert overwrite select from some table fails throwing org.apache.hadoop.security.AccessControlException - II</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13857</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13810&quot; title=&quot;insert overwrite select from some table fails throwing org.apache.hadoop.security.AccessControlException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13810&quot;&gt;&lt;del&gt;HIVE-13810&lt;/del&gt;&lt;/a&gt; missed a fix, tracking it here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12972921">HIVE-13857</key>
            <summary>insert overwrite select from some table fails throwing org.apache.hadoop.security.AccessControlException - II</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 May 2016 01:03:45 +0000</created>
                <updated>Tue, 21 Jun 2016 15:06:04 +0000</updated>
                            <resolved>Sat, 28 May 2016 00:50:31 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15301249" author="hsubramaniyan" created="Thu, 26 May 2016 01:09:19 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; for review. Stepped via the debugger to make sure that the intended code path is hit and the expected behavior takes place.&lt;/p&gt;</comment>
                            <comment id="15301556" author="ashutoshc" created="Thu, 26 May 2016 05:28:36 +0000"  >&lt;p&gt;Instead of creating an overload with null, it will be better to go through call site and pass in status object from callers.&lt;/p&gt;</comment>
                            <comment id="15302698" author="hsubramaniyan" created="Thu, 26 May 2016 19:00:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; where ever recursion=false, this makes sense and I have modified it in patch #2. When recursion=true, I dont think sending the Status object of top level directory will be of much help, so I have retained the behavior there.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="15302831" author="ashutoshc" created="Thu, 26 May 2016 20:00:15 +0000"  >&lt;p&gt;There are other callers which are passing in false. Can you also create a RB for this?&lt;/p&gt;</comment>
                            <comment id="15302995" author="ashutoshc" created="Thu, 26 May 2016 21:43:04 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="15304161" author="ashutoshc" created="Fri, 27 May 2016 15:03:52 +0000"  >&lt;p&gt;On ptest run, following test failed which are likely related:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_create_temp_table
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avrocountemptytbl
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_concatenate_inherit_table_location
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_4
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_database_drop
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_deleteAnalyze
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_database_removes_partition_dirs
2016-05-27 06:14:10,396  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_table_removes_partition_dirs
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_file_format
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_multiple
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_self_join
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_update
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap1
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap2
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
2016-05-27 06:14:10,397  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_compression
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_1
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_3
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_binary_search
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compression
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_serde
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_skewtable
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input13
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input45
2016-05-27 06:14:10,398  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_overwrite_directory
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_null_column
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_order_null
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_multi_insert
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rename_external_partition_location
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_selectindate
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_special_character_in_tabnames_2
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subq
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_options1
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_precedence
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union
2016-05-27 06:14:10,399  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_view
2016-05-27 06:14:10,400  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
2016-05-27 06:14:10,400  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
2016-05-27 06:14:10,400  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_with_different_encryption_keys
2016-05-27 06:14:10,400  WARN PTest.run:205 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_select_read_only_encrypted_tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15304649" author="hsubramaniyan" created="Fri, 27 May 2016 19:40:01 +0000"  >&lt;p&gt;Tested that patch #4 fixes the issues mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15304863" author="ashutoshc" created="Fri, 27 May 2016 21:52:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15305053" author="hsubramaniyan" created="Sat, 28 May 2016 00:40:21 +0000"  >&lt;p&gt;The following tests failed while running via local jenkins job, I tested them in Centos and they all pass. Will commit this.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;All Failed Tests

Test Name
Duration
Age
 org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks	1 min 10 sec	1
 org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks	1 min 10 sec	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_round_2	27 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby1	15 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby3	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_6	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_div0	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_leftsemijoin	2 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_4	4 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_8	2 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mergejoin	2 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_merge1	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_two_cols	2 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cross_join	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_left_outer_join2	1 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_mapjoin1	3 ms	1
 org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver	11 ms	1
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_select_read_only_encrypted_tbl	2 min 2 sec	3
 org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure	5 sec	3
 org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorWithinDagPriority	5.1 sec	22
 org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner	2.8 sec	26
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static	1 min 50 sec	42
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic	1 min 23 sec	42
 org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForMemoryTokenStore	0.98 sec	42
 org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore	0.26 sec	42
 org.apache.hive.minikdc.TestMiniHiveKdc.testLogin	1 min 14 sec	42
 org.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec	34 ms	62
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_selectindate	12 sec	94
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avrocountemptytbl	12 sec	94
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_order_null	35 sec	94
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_with_different_encryption_keys	1 min 47 sec	94
 org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3	8.3 sec	94
 org.apache.hadoop.hive.cli.TestMinimrCliDriver.org.apache.hadoop.hive.cli.TestMinimrCliDriver	48 sec	94

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15308106" author="ashutoshc" created="Tue, 31 May 2016 16:57:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; Can you please commit this on branch-2.1 as well?&lt;/p&gt;</comment>
                            <comment id="15308131" author="hsubramaniyan" created="Tue, 31 May 2016 17:07:33 +0000"  >&lt;p&gt;This was committed to master, branch-2.1 when it was marked resolved. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; for the reviews.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12806270" name="HIVE-13857.1.patch" size="2851" author="hsubramaniyan" created="Thu, 26 May 2016 01:09:19 +0000"/>
                            <attachment id="12806451" name="HIVE-13857.2.patch" size="3625" author="hsubramaniyan" created="Thu, 26 May 2016 18:57:33 +0000"/>
                            <attachment id="12806481" name="HIVE-13857.3.patch" size="4359" author="hsubramaniyan" created="Thu, 26 May 2016 21:24:45 +0000"/>
                            <attachment id="12806695" name="HIVE-13857.4.patch" size="6215" author="hsubramaniyan" created="Fri, 27 May 2016 19:40:01 +0000"/>
                            <attachment id="12806742" name="HIVE-13857.5.patch" size="4568" author="hsubramaniyan" created="Fri, 27 May 2016 21:49:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yikn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>