<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:50:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-93] dynamic serde does not handle &apos;_&apos; as the first character of a column name in a DDL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-93</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For example cannot initialize a dynamic serde with : struct result &lt;/p&gt;
{ string _c0}</description>
                <environment></environment>
        <key id="12409604">HIVE-93</key>
            <summary>dynamic serde does not handle &apos;_&apos; as the first character of a column name in a DDL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wyckoff">Pete Wyckoff</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 00:54:55 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:59 +0000</updated>
                            <resolved>Mon, 8 Dec 2008 23:52:18 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652243" author="athusoo" created="Tue, 2 Dec 2008 02:48:04 +0000"  >&lt;p&gt;categorizing..&lt;/p&gt;

&lt;p&gt;I am not sure if this is a bug. All our identifiers are restricted to not start with _ so that we can handle the character set names. So any column name or table name beginning with an _ would lead to a parse error. Is that what you are getting? Can you upload the error string and then mark this as an improvement as opposed to a bug.&lt;/p&gt;</comment>
                            <comment id="12652259" author="wyckoff" created="Tue, 2 Dec 2008 03:47:49 +0000"  >&lt;p&gt;from being able to handle any thrift DDL point of view, we should probably fix this as thrift allows it.  but, as Ashish points out, we may not need to expose it.&lt;/p&gt;</comment>
                            <comment id="12652260" author="wyckoff" created="Tue, 2 Dec 2008 03:49:46 +0000"  >&lt;p&gt;incidentally, this is the offending code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- src/contrib/hive/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/thrift_grammar.jjt       (revision 132500)
+++ src/contrib/hive/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/thrift_grammar.jjt       (working copy)
@@ -163,7 +163,7 @@
 |
 &amp;lt;tok_double_constant:   [&lt;span class=&quot;code-quote&quot;&gt;&quot;+&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt;](&amp;lt;DIGIT&amp;gt;)*&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;(&amp;lt;DIGIT&amp;gt;)+([&lt;span class=&quot;code-quote&quot;&gt;&quot;e&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;E&quot;&lt;/span&gt;]([&lt;span class=&quot;code-quote&quot;&gt;&quot;+&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt;])?(&amp;lt;DIGIT&amp;gt;)+)?&amp;gt;
 |
-&amp;lt;IDENTIFIER: &amp;lt;LETTER&amp;gt;(&amp;lt;LETTER&amp;gt;|&amp;lt;DIGIT&amp;gt;|&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;|&lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt;)*&amp;gt;
+&amp;lt;IDENTIFIER: (&amp;lt;LETTER&amp;gt;|&amp;lt;DIGIT&amp;gt;|&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;|&lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt;)*&amp;gt;
 |
 &amp;lt;#LETTER: ([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;-&lt;span class=&quot;code-quote&quot;&gt;&quot;z&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt;-&lt;span class=&quot;code-quote&quot;&gt;&quot;Z&quot;&lt;/span&gt; ]) &amp;gt;
 |

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12652471" author="wyckoff" created="Tue, 2 Dec 2008 19:32:31 +0000"  >&lt;p&gt;This is the change I put in a previous comment + changing one of the test cases to name a variable _hello. everything else is generated code.&lt;/p&gt;</comment>
                            <comment id="12652478" author="wyckoff" created="Tue, 2 Dec 2008 19:48:43 +0000"  >&lt;p&gt;ant test passes.&lt;/p&gt;</comment>
                            <comment id="12652565" author="rsm" created="Tue, 2 Dec 2008 22:42:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good. I also made sure that the failing test in service passes with this fix.&lt;/p&gt;</comment>
                            <comment id="12652577" author="athusoo" created="Tue, 2 Dec 2008 22:57:15 +0000"  >&lt;p&gt;It seems that these rules only allow identifier to start with a letter or an _ while Hive.g also allows Digits. Can we change it to allow identifiers that start with digit as well.&lt;/p&gt;</comment>
                            <comment id="12652583" author="wyckoff" created="Tue, 2 Dec 2008 23:14:38 +0000"  >&lt;p&gt;new patch also allows ids to start with a digit&lt;/p&gt;</comment>
                            <comment id="12652598" author="athusoo" created="Tue, 2 Dec 2008 23:43:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt; Looks good.&lt;/p&gt;

&lt;p&gt;(Though Raghu pointed out that most SQL dialects have identifiers starting with non numeric) - but we should be fine with this.&lt;/p&gt;</comment>
                            <comment id="12652671" author="zshao" created="Wed, 3 Dec 2008 04:02:03 +0000"  >&lt;p&gt;Allowing identifiers starting with number will introduce ambiguity to the language if later we allow 1e10 to be a number.&lt;/p&gt;

&lt;p&gt;I think the old patch that does not allow numbers is better. What do you think?&lt;/p&gt;</comment>
                            <comment id="12652908" author="wyckoff" created="Wed, 3 Dec 2008 19:22:53 +0000"  >&lt;p&gt;agreed but then we should open another JIRA to change Hive.g, no?&lt;/p&gt;</comment>
                            <comment id="12653017" author="zshao" created="Wed, 3 Dec 2008 22:42:16 +0000"  >&lt;p&gt;Ashish: Hive.g allows Letter/Digit but not &apos;_&apos;. Is that what we want? Let&apos;s decide what we want here (so we know which patch to take). We can change Hive.g in another jira if needed.&lt;/p&gt;

&lt;p&gt;Identifier&lt;br/&gt;
    :&lt;br/&gt;
    (Letter | Digit) (Letter | Digit | &apos;_&apos;)*&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;`&apos; (Letter &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Digit) (Letter &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Digit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;_&apos;)* &apos;`&apos;&lt;br/&gt;
    ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

</comment>
                            <comment id="12653023" author="athusoo" created="Wed, 3 Dec 2008 22:47:44 +0000"  >&lt;p&gt;Lets do that in a separate JIRA.&lt;/p&gt;</comment>
                            <comment id="12654649" author="zshao" created="Mon, 8 Dec 2008 23:52:01 +0000"  >&lt;p&gt;Committed revision 724555.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-93&quot; title=&quot;dynamic serde does not handle &amp;#39;_&amp;#39; as the first character of a column name in a DDL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-93&quot;&gt;&lt;del&gt;HIVE-93&lt;/del&gt;&lt;/a&gt;.txt 2008-12-02 03:14 PM Pete Wyckoff 33 kb &lt;/p&gt;</comment>
                            <comment id="12654650" author="zshao" created="Mon, 8 Dec 2008 23:52:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-93&quot; title=&quot;dynamic serde does not handle &amp;#39;_&amp;#39; as the first character of a column name in a DDL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-93&quot;&gt;&lt;del&gt;HIVE-93&lt;/del&gt;&lt;/a&gt;. Dynamic serde to handle _-prefixed column names in DDL. (Pete Wyckoff through zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395142" name="HIVE-93.txt" size="34237" author="wyckoff" created="Tue, 2 Dec 2008 23:14:38 +0000"/>
                            <attachment id="12395115" name="HIVE-93.txt" size="32707" author="wyckoff" created="Tue, 2 Dec 2008 19:32:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l7t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>