<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:29:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-9309] schematool fails on Postgres 8.1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-9309</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Postgres upgrade scripts set &lt;tt&gt;standard_conforming_strings&lt;/tt&gt; which is not allowed in 8.1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR: parameter &lt;span class=&quot;code-quote&quot;&gt;&quot;standard_conforming_strings&quot;&lt;/span&gt; cannot be changed (state=55P02,code=0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Postgres &lt;a href=&quot;http://www.postgresql.org/docs/8.2/static/release-8-1.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;8.1 Release notes&lt;/a&gt; say that &quot;standard_conforming_strings value is read-only&quot;&lt;br/&gt;
Postgres &lt;a href=&quot;http://www.postgresql.org/docs/8.2/static/release-8-2.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;8.2 notes&lt;/a&gt; say that it can be set at runtime.&lt;/p&gt;

&lt;p&gt;It&apos;d be nice to address this for those still using Postgres 8.1&lt;/p&gt;

&lt;p&gt;This patch provides a schemaTool db option &quot;postgres.filter.81&quot; which, if set, filters out the &quot;standard_conforming_strings&quot; statement from upgrade scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765569">HIVE-9309</key>
            <summary>schematool fails on Postgres 8.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mohitsabharwal">Mohit Sabharwal</assignee>
                                    <reporter username="mohitsabharwal">Mohit Sabharwal</reporter>
                        <labels>
                            <label>TODOC15</label>
                    </labels>
                <created>Thu, 8 Jan 2015 08:12:17 +0000</created>
                <updated>Thu, 12 Feb 2015 23:40:25 +0000</updated>
                            <resolved>Tue, 13 Jan 2015 00:18:52 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14269551" author="brocknoland" created="Thu, 8 Jan 2015 16:56:25 +0000"  >&lt;p&gt;+ 1 pending tests&lt;/p&gt;</comment>
                            <comment id="14270570" author="hiveqa" created="Fri, 9 Jan 2015 05:22:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12690741/HIVE-9309.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12690741/HIVE-9309.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6740 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2299/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2299/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2299/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2299/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2299/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2299/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12690741 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14274466" author="brocknoland" created="Tue, 13 Jan 2015 00:18:52 +0000"  >&lt;p&gt;Thank you Mohit! I have committed this to trunk!&lt;/p&gt;</comment>
                            <comment id="14274967" author="lefty@hortonworks.com" created="Tue, 13 Jan 2015 09:33:43 +0000"  >&lt;p&gt;Does postgres.filter.81 need to be documented in the wiki?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The dbType is required and can be one of:&lt;br/&gt;
 &lt;tt&gt;derby|mysql|postgres|oracle&lt;/tt&gt; &lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+Schema+Tool#HiveSchemaTool-TheHiveSchemaTool&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;The Hive Schema Tool &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14275566" author="brocknoland" created="Tue, 13 Jan 2015 17:18:47 +0000"  >&lt;p&gt;Yes I think so... &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14277779" author="mohitsabharwal" created="Wed, 14 Jan 2015 22:07:17 +0000"  >&lt;p&gt;Yes, we need to document the &lt;tt&gt;-dbOpts&lt;/tt&gt; argument. And also add &lt;tt&gt;postgres.filter.81&lt;/tt&gt; as the (only) valid value for this argument.&lt;/p&gt;

&lt;p&gt;To the &quot;The schematool Command&quot; section, we need to add:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; -dbOpts &amp;lt;databaseOpts&amp;gt;             Backend DB specific options
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As well as need another section, like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;The dbOpts is optional and can be set to:
 postgres.filter.81 : Postgres upgrade scripts contain &lt;span class=&quot;code-quote&quot;&gt;&quot;set standard_conforming_strings&quot;&lt;/span&gt; command, which is not applicable &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Postgress 8.1. Using &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; option will skip &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; command and, hence, prevent upgrade from failing. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12690741" name="HIVE-9309.patch" size="7084" author="mohitsabharwal" created="Thu, 8 Jan 2015 08:14:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i242en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>