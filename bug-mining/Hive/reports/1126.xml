<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3788] testCliDriver_repair fails on hadoop-1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3788</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Actually functionality is working correctly, but incorrect include/exclude macro make cause the wrong query file to be run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12623317">HIVE-3788</key>
            <summary>testCliDriver_repair fails on hadoop-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Dec 2012 02:35:44 +0000</created>
                <updated>Thu, 16 May 2013 21:10:51 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 16:06:00 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13528626" author="hagleitn" created="Tue, 11 Dec 2012 02:39:46 +0000"  >&lt;p&gt;Adjusted include/exclude macros to run the correct versions.&lt;/p&gt;</comment>
                            <comment id="13539804" author="ashutoshc" created="Thu, 27 Dec 2012 02:52:20 +0000"  >&lt;p&gt;This is one of those weird cases where hadoop behavior changes in dot release. Currently our shim layer is not well equipped to handle such finer differentiation of hadoop versions, nor should it. e.g., this test will behave differently on 0.23.2 and 0.23.3. Instead of wrestling with hadoop version idiosyncrasies via (IN|EX)CLUDE we should make our tests more robust. My suggestion here will be to delete repair_hadoop23.q entirely and drop (IN|EX)CLUDE macros from repair.q as well. Then, do &lt;tt&gt;dfs -mkdir ../build/ql/test/data/warehouse/repairtable/p1=a; dfs -mkdir ../build/ql/test/data/warehouse/repairtable/p1=a/p2=a;&lt;/tt&gt; and so on such that we don&apos;t need -p option anytime in these testcases. &lt;/p&gt;</comment>
                            <comment id="13545205" author="hagleitn" created="Sat, 5 Jan 2013 22:41:29 +0000"  >&lt;p&gt;This patch removes the special hadoop23 test file and rewrites the test as suggested.&lt;/p&gt;</comment>
                            <comment id="13545287" author="zhenxiao" created="Sun, 6 Jan 2013 03:14:40 +0000"  >&lt;p&gt;Agree with Ashutosh.&lt;/p&gt;

&lt;p&gt;This patch looks good to me.&lt;br/&gt;
Non-committer +1&lt;/p&gt;

&lt;p&gt;Also, Gunther, would you please submit a review request next time at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It is easier to review code there.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13583306" author="ashutoshc" created="Thu, 21 Feb 2013 16:02:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13583308" author="ashutoshc" created="Thu, 21 Feb 2013 16:06:00 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13583507" author="hudson" created="Thu, 21 Feb 2013 20:08:06 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #96 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/96/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/96/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3788&quot; title=&quot;testCliDriver_repair fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3788&quot;&gt;&lt;del&gt;HIVE-3788&lt;/del&gt;&lt;/a&gt; : testCliDriver_repair fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1448699)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair_hadoop23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair_hadoop23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583850" author="hudson" created="Fri, 22 Feb 2013 02:55:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1981 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1981/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1981/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3788&quot; title=&quot;testCliDriver_repair fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3788&quot;&gt;&lt;del&gt;HIVE-3788&lt;/del&gt;&lt;/a&gt; : testCliDriver_repair fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1448699)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair_hadoop23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair_hadoop23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583890" author="hudson" created="Fri, 22 Feb 2013 03:58:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #133 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/133/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3788&quot; title=&quot;testCliDriver_repair fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3788&quot;&gt;&lt;del&gt;HIVE-3788&lt;/del&gt;&lt;/a&gt; : testCliDriver_repair fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1448699)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448699&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/repair_hadoop23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/repair_hadoop23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563444" name="HIVE-3788.2.patch" size="4530" author="hagleitn" created="Sat, 5 Jan 2013 22:41:29 +0000"/>
                            <attachment id="12560340" name="HIVE-3788.patch" size="2486" author="hagleitn" created="Tue, 11 Dec 2012 02:39:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14jqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>