<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:52:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-472] HiveFileFormatUtils&apos;s checkInputFormat does not include RCFile</title>
                <link>https://issues.apache.org/jira/browse/HIVE-472</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12424606">HIVE-472</key>
            <summary>HiveFileFormatUtils&apos;s checkInputFormat does not include RCFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 14:14:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:38 +0000</updated>
                            <resolved>Thu, 25 Jun 2009 01:01:23 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12706041" author="he yongqiang" created="Tue, 5 May 2009 14:20:06 +0000"  >&lt;p&gt;hive.472.1.patch adds the check of RCFile.&lt;/p&gt;

&lt;p&gt;If we get more and more FileFormats, we may need a more elegant method to do the check.&lt;/p&gt;</comment>
                            <comment id="12707044" author="athusoo" created="Thu, 7 May 2009 19:06:01 +0000"  >&lt;p&gt;Assigned.&lt;/p&gt;</comment>
                            <comment id="12707192" author="he yongqiang" created="Fri, 8 May 2009 00:35:00 +0000"  >&lt;p&gt;Thanks, Ashish.&lt;br/&gt;
This bug will cause insert overwrite into table XXX select YYY from table_rcfile not work.&lt;/p&gt;

&lt;p&gt;btw, once Hive-460 is resolved, i will start working on Hive-461. Before that, i would like to do some profiling, trying to find some optimization, taking a look at the hive&apos;s index and join(especially with small files).&lt;/p&gt;</comment>
                            <comment id="12716062" author="zshao" created="Wed, 3 Jun 2009 20:57:03 +0000"  >&lt;p&gt;@Yongqiang: I think this is a good time to move the checkFileFormat code from the utility to the InputFileFormat class. What do you think?&lt;/p&gt;</comment>
                            <comment id="12717117" author="he yongqiang" created="Mon, 8 Jun 2009 02:07:32 +0000"  >&lt;p&gt;Yes. It will be better if we can move this method out. But it has some problem since hive does not have its own InputFormat definition. &lt;br/&gt;
The input formats hive uses right now are mainly from hadoop core, such as SequenceFileInputFormat, IgnoreKeyFileInputFormat etc. And we can not add a validInput() to hadoop&apos;s input format classes.&lt;br/&gt;
One option is to create another class hierarchy (InputFormatChecker) in Hive parallized with FileFomat.&lt;br/&gt;
Another option is to keep the FileFormat&apos;s checkInputFormat, and check whether the input format argument has a method &quot;hiveValidInput&quot;. If find one, use it. And if not use the old logic in HiveFormatUtils. &lt;/p&gt;</comment>
                            <comment id="12717213" author="he yongqiang" created="Mon, 8 Jun 2009 09:56:48 +0000"  >&lt;p&gt;1) added a new interface InputFormatChecker&lt;br/&gt;
2) added a new SequenceFileInputFormatChecker implementing the newly added checker interface&lt;br/&gt;
3) let RCFileInputFormat implement the newly added checker interface&lt;/p&gt;

&lt;p&gt;It seems &apos;ant test&apos; can not successfully run with currently truck. So I did not run this patch on my local machine.&lt;/p&gt;</comment>
                            <comment id="12719573" author="he yongqiang" created="Mon, 15 Jun 2009 14:31:28 +0000"  >&lt;p&gt;Update a new patch, which passed tests in my local. The previous one has a null pointer exception.&lt;/p&gt;</comment>
                            <comment id="12722111" author="namit" created="Sat, 20 Jun 2009 01:22:37 +0000"  >&lt;p&gt;The changes look good but there are some tabs  - can you remove them and I will merge it in&lt;/p&gt;</comment>
                            <comment id="12722139" author="he yongqiang" created="Sat, 20 Jun 2009 05:01:44 +0000"  >&lt;p&gt;I use eclipse as the work env, and use two spaces instead of tabs.&lt;/p&gt;</comment>
                            <comment id="12722209" author="namit" created="Sat, 20 Jun 2009 15:44:19 +0000"  >&lt;p&gt;load_wrong_fileformat.q&lt;/p&gt;


&lt;p&gt;The above test is failing&lt;/p&gt;</comment>
                            <comment id="12722221" author="he yongqiang" created="Sat, 20 Jun 2009 17:26:25 +0000"  >&lt;p&gt;Namit, thanks for pointing the error query. I should throw an exception if a mismatch occured.&lt;br/&gt;
And the new patch added in two more testcases. &lt;/p&gt;</comment>
                            <comment id="12722725" author="namit" created="Mon, 22 Jun 2009 18:04:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The changes look good - I will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12723237" author="namit" created="Tue, 23 Jun 2009 18:24:41 +0000"  >&lt;p&gt;All the new tests are failing for me - you need to debug them&lt;/p&gt;</comment>
                            <comment id="12723404" author="he yongqiang" created="Wed, 24 Jun 2009 02:37:29 +0000"  >&lt;p&gt;Sorry, my fault. the previous patch does not include changes for MoveTask. I use the same workspace working on hive-472 and hive-560, and forgot to add MoveTask in the patch.&lt;br/&gt;
Please try the new one hive-472-2009-06-24.patch.  Again, sorry for taking your time on the wrong patch.&lt;br/&gt;
I think in order to reduce committer&apos;s time for reviewing and testing wrong patches( like the previous wrong one), we may need to let hudson to pick the patch and do the test.&lt;/p&gt;</comment>
                            <comment id="12723811" author="namit" created="Wed, 24 Jun 2009 23:57:26 +0000"  >&lt;p&gt;no problems - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12723836" author="namit" created="Thu, 25 Jun 2009 01:01:23 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410121" name="hive-472-2009-06-08.patch" size="9149" author="he yongqiang" created="Mon, 8 Jun 2009 09:56:48 +0000"/>
                            <attachment id="12410677" name="hive-472-2009-06-15.patch" size="9260" author="he yongqiang" created="Mon, 15 Jun 2009 14:31:28 +0000"/>
                            <attachment id="12411314" name="hive-472-2009-06-20-2.patch" size="14149" author="he yongqiang" created="Sat, 20 Jun 2009 17:26:25 +0000"/>
                            <attachment id="12411300" name="hive-472-2009-06-20.patch" size="9218" author="he yongqiang" created="Sat, 20 Jun 2009 05:01:44 +0000"/>
                            <attachment id="12411601" name="hive-472-2009-06-24.patch" size="14950" author="he yongqiang" created="Wed, 24 Jun 2009 02:37:29 +0000"/>
                            <attachment id="12407244" name="hive.472.1.patch" size="2363" author="he yongqiang" created="Tue, 5 May 2009 14:20:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>