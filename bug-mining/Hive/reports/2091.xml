<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:18:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6792] hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6792</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS. When it is set to true, the table created using create table .. as select.. does not inherit its parent directory&apos;s group and permission mode. It can be easily reproduced:&lt;br/&gt;
==&lt;br/&gt;
hive&amp;gt; dfs -ls -R /user/hive/warehouse;&lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:44 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;/p&gt;

&lt;p&gt;hive&amp;gt; create table ctas.test_perm as select * from ctas_src_tbl;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; dfs -ls -R /user/hive/warehouse;                          &lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:46 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxr-xr-x   - hive   supergroup          0 2014-03-30 17:46 /user/hive/warehouse/ctas.db/test_perm&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   supergroup      46059 2014-03-30 17:46 /user/hive/warehouse/ctas.db/test_perm/000000_0&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;br/&gt;
==&lt;br/&gt;
The created table does not inherit its database ctas&apos;s group hive and permission mode 770, instead it takes the default group (supergroup) and permission mode (755) in hdfs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705576">HIVE-6792</key>
            <summary>hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang">Chaoyu Tang</assignee>
                                    <reporter username="ctang">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 01:04:43 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:28 +0000</updated>
                            <resolved>Sat, 5 Apr 2014 19:56:13 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Authorization</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13954904" author="ctang.ma" created="Mon, 31 Mar 2014 01:52:29 +0000"  >&lt;p&gt;Please review attached patch. With this, the new created table (test_perm) with its data file inherit group and permission mode from their parent cats.db.&lt;br/&gt;
==&lt;br/&gt;
hive&amp;gt; dfs -ls -R /user/hive/warehouse;                          &lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:56 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:56 /user/hive/warehouse/ctas.db/test_perm&lt;br/&gt;
&lt;del&gt;rw-rw&lt;/del&gt;---   3 hive   hive            46059 2014-03-30 17:56 /user/hive/warehouse/ctas.db/test_perm/000000_0&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;/p&gt;</comment>
                            <comment id="13954952" author="szehon" created="Mon, 31 Mar 2014 05:35:27 +0000"  >&lt;p&gt;Mostly looks good on first pass, one nit: is it necessary to pass in &apos;conf&apos; variable to &apos;MoveTask.createTargetPath&apos;?  It is already a member variable.&lt;/p&gt;

&lt;p&gt;Also, do you want to submit the patch to trigger the pre-commit test?&lt;/p&gt;</comment>
                            <comment id="13955749" author="ctang.ma" created="Mon, 31 Mar 2014 21:38:59 +0000"  >&lt;p&gt;Thanks, Szehon, for pointing out. I changed to use member variable conf instead and please see attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6792&quot; title=&quot;hive.warehouse.subdir.inherit.perms doesn&amp;#39;t work correctly in CTAS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6792&quot;&gt;&lt;del&gt;HIVE-6792&lt;/del&gt;&lt;/a&gt;-1.patch&lt;/p&gt;</comment>
                            <comment id="13959552" author="szehon" created="Fri, 4 Apr 2014 01:59:08 +0000"  >&lt;p&gt;Please upload in the format &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6792&quot; title=&quot;hive.warehouse.subdir.inherit.perms doesn&amp;#39;t work correctly in CTAS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6792&quot;&gt;&lt;del&gt;HIVE-6792&lt;/del&gt;&lt;/a&gt;.1.patch to trigger the pre commit test.&lt;/p&gt;</comment>
                            <comment id="13959620" author="brocknoland" created="Fri, 4 Apr 2014 04:21:49 +0000"  >&lt;p&gt;+1 pending tests.&lt;/p&gt;</comment>
                            <comment id="13959621" author="brocknoland" created="Fri, 4 Apr 2014 04:22:33 +0000"  >&lt;p&gt;Uploading the same patch with a name precommits like.&lt;/p&gt;</comment>
                            <comment id="13961210" author="hiveqa" created="Sat, 5 Apr 2014 19:42:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638621/HIVE-6792.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638621/HIVE-6792.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5547 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638621&lt;/p&gt;</comment>
                            <comment id="13961214" author="brocknoland" created="Sat, 5 Apr 2014 19:56:13 +0000"  >&lt;p&gt;Thank you Chaoyu! I have committed this to trunk.&lt;/p&gt;</comment>
                            <comment id="14211172" author="thejas" created="Thu, 13 Nov 2014 19:44:28 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12707839">HIVE-6892</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637924" name="HIVE-6792-1.patch" size="3242" author="ctang" created="Mon, 31 Mar 2014 21:38:59 +0000"/>
                            <attachment id="12638621" name="HIVE-6792.1.patch" size="3242" author="brocknoland" created="Fri, 4 Apr 2014 04:22:33 +0000"/>
                            <attachment id="12637756" name="HIVE-6792.patch" size="3672" author="ctang" created="Mon, 31 Mar 2014 01:52:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u50n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>