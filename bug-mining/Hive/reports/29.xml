<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:50:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-158] table aliases dont work for sampled tables in joins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-158</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query:&lt;/p&gt;

&lt;p&gt;FROM table1 TABLESAMPLE (BUCKET 1 OUT OF 512 ON col1) a JOIN table2 b ON (a.j1 = b.j2)  SELECT  a.col1, a.j1, b.j2;&lt;/p&gt;

&lt;p&gt;results in the error:&lt;/p&gt;

&lt;p&gt;ERROR ql.Driver (SessionState.java:printError(263)) - FAILED: Error in semantic analysis: line 1:88 Invalid Table Alias a&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410426">HIVE-158</key>
            <summary>table aliases dont work for sampled tables in joins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 01:26:45 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:38 +0000</updated>
                            <resolved>Tue, 16 Dec 2008 23:19:20 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12655457" author="rsm" created="Thu, 11 Dec 2008 01:30:12 +0000"  >&lt;p&gt;When there is a TABLESAMPLE clause, the alias is not the second child of the join node (its the last child).&lt;/p&gt;</comment>
                            <comment id="12655459" author="zshao" created="Thu, 11 Dec 2008 01:40:06 +0000"  >&lt;p&gt;Can you add a test case?&lt;/p&gt;</comment>
                            <comment id="12655462" author="rsm" created="Thu, 11 Dec 2008 01:57:30 +0000"  >&lt;p&gt;Missed doing svn add on the tests. done now.&lt;/p&gt;</comment>
                            <comment id="12655474" author="athusoo" created="Thu, 11 Dec 2008 02:42:45 +0000"  >&lt;p&gt;diff looks good to me.&lt;/p&gt;

&lt;p&gt;Please do run this with both -Dhadoop.version=&quot;0.19.0&quot; and -Dhadoop.version=&quot;0.17.0&quot; to make sure that the diff still holds and the ordering does not screw up things.&lt;/p&gt;</comment>
                            <comment id="12656768" author="rsm" created="Mon, 15 Dec 2008 21:52:07 +0000"  >&lt;p&gt;Changed example so that it passes with both hadoop 17 and 20.&lt;/p&gt;</comment>
                            <comment id="12656849" author="namit" created="Tue, 16 Dec 2008 02:19:33 +0000"  >&lt;p&gt;The sample operator created is not begin added to the hashmap - line 3549 SemanticAnalyzer.java&lt;br/&gt;
You have to add this.&lt;/p&gt;

&lt;p&gt;I am forgetting the exact test-case. do you remember the scenario which we were debugging last week ?&lt;/p&gt;</comment>
                            <comment id="12657112" author="namit" created="Tue, 16 Dec 2008 18:56:05 +0000"  >&lt;p&gt;looked at the code more carefully - you are right - we dont need to to put in the hashmap, we are already doing it.&lt;br/&gt;
The changes look fine to me.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12657215" author="zshao" created="Tue, 16 Dec 2008 23:19:08 +0000"  >&lt;p&gt;Committed revision 727211.&lt;/p&gt;</comment>
                            <comment id="12657216" author="zshao" created="Tue, 16 Dec 2008 23:19:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-158&quot; title=&quot;table aliases dont work for sampled tables in joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-158&quot;&gt;&lt;del&gt;HIVE-158&lt;/del&gt;&lt;/a&gt;. Make table aliases work for sampled tables in joins. (Raghotham Murthy via zshao)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395789" name="hive-158.2.patch" size="23248" author="rsm" created="Thu, 11 Dec 2008 01:57:30 +0000"/>
                            <attachment id="12396132" name="hive-158.3.patch" size="1073471" author="rsm" created="Mon, 15 Dec 2008 21:52:06 +0000"/>
                            <attachment id="12395785" name="hive-158.patch" size="1346" author="rsm" created="Thu, 11 Dec 2008 01:30:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l87r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>