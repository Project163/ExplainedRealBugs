<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2332] If all of the parameters of distinct functions are exists in group by columns, query fails in runtime</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2332</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select sum(key_int1), sum(distinct key_int1) from t1 group by key_int1;&lt;/p&gt;

&lt;p&gt;fails with message..&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;hadoop says..&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
	at java.util.ArrayList.RangeCheck(ArrayList.java:547)
	at java.util.ArrayList.get(ArrayList.java:322)
	at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.init(StandardStructObjectInspector.java:95)
	at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.(StandardStructObjectInspector.java:86)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorFactory.getStandardStructObjectInspector(ObjectInspectorFactory.java:252)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.initEvaluatorsAndReturnStruct(ReduceSinkOperator.java:188)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:197)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:85)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:532)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the deficient number of key expression, compared to number of key column, is the problem, which should be equal or more. &lt;br/&gt;
Would it be solved if add some key expression? I&apos;ll try.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12516864">HIVE-2332</key>
            <summary>If all of the parameters of distinct functions are exists in group by columns, query fails in runtime</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="navis">Navis Ryu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2011 05:58:18 +0000</created>
                <updated>Thu, 16 May 2013 21:10:09 +0000</updated>
                            <resolved>Sun, 20 Jan 2013 07:10:58 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13076070" author="navis" created="Tue, 2 Aug 2011 06:45:25 +0000"  >&lt;p&gt;Simple bypass.&lt;/p&gt;

&lt;p&gt;Removing not-used output key column made problems in following operations(GBY). So I&apos;ve added dummy ExprNodeNullDesc for key expression and query has succeeded.&lt;/p&gt;</comment>
                            <comment id="13078306" author="jvs" created="Tue, 2 Aug 2011 17:50:25 +0000"  >&lt;p&gt;Good catch.  Can you submit an updated patch which includes the test case (.q and .q.out)?&lt;/p&gt;</comment>
                            <comment id="13078328" author="jvs" created="Tue, 2 Aug 2011 18:11:50 +0000"  >&lt;p&gt;Once you have the patch ready, also please create a Review Board entry:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-ReviewProcess&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-ReviewProcess&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13079170" author="navis" created="Thu, 4 Aug 2011 01:37:24 +0000"  >&lt;p&gt;1. Add deficient columns lastly to avoid index mismatch with RR of HASH GBY&lt;br/&gt;
2. ExprNodeNullDesc to ExprNodeFieldDesc to avoid NPE&lt;/p&gt;</comment>
                            <comment id="13080791" author="navis" created="Mon, 8 Aug 2011 07:20:06 +0000"  >&lt;p&gt;add test case &lt;/p&gt;</comment>
                            <comment id="13080794" author="jiraposter@reviews.apache.org" created="Mon, 8 Aug 2011 07:27:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1314/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;If all of the distinct params are in group by keys, union column reserved for distinct params would not be added, which making problems initializing RS operator.&lt;/p&gt;

&lt;p&gt;This patch is just a simple bypass adding dummy expression for the union column. Someone would know better way to resolve the problem.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2332&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java dc9ab1b &lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_distinct_samekey.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1314/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13128460" author="ashutoshc" created="Sun, 16 Oct 2011 17:40:32 +0000"  >&lt;p&gt;Assigning to Navis. Navis, also mark the issue as Patch Available if its ready for review.&lt;/p&gt;</comment>
                            <comment id="13150313" author="jiraposter@reviews.apache.org" created="Tue, 15 Nov 2011 08:57:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1314/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-15 08:56:07.599798)&lt;/p&gt;


&lt;p&gt;Review request for hive and Ashutosh Chauhan.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebased to trunk.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;If all of the distinct params are in group by keys, union column reserved for distinct params would not be added, which making problems initializing RS operator.&lt;/p&gt;

&lt;p&gt;This patch is just a simple bypass adding dummy expression for the union column. Someone would know better way to resolve the problem.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2332&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java d60ba09 &lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_distinct_samekey.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1314/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added clientpositive/groupby_distinct_samekey.q&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13155454" author="cwsteinbach" created="Tue, 22 Nov 2011 21:37:13 +0000"  >&lt;p&gt;Is this patch ready for review? Is so, please change the status to Patch Available. Thanks.&lt;/p&gt;</comment>
                            <comment id="13164193" author="jiraposter@reviews.apache.org" created="Wed, 7 Dec 2011 07:02:39 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1314/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-12-07 07:01:30.547976)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adding null keys induced confusions especially for optimizers. This patch just modifies key-order minimizing side effects.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;If all of the distinct params are in group by keys, union column reserved for distinct params would not be added, which making problems initializing RS operator.&lt;/p&gt;

&lt;p&gt;This patch is just a simple bypass adding dummy expression for the union column. Someone would know better way to resolve the problem.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2332&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java 732a5aa &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java c6ae55d &lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_distinct_samekey.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1314/diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added clientpositive/groupby_distinct_samekey.q&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13164195" author="navis" created="Wed, 7 Dec 2011 07:05:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1314/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/1314/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165372" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 18:01:39 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  select sum(key_int1), sum(distinct key_int1) from t1 group by key_int1;&lt;/p&gt;

&lt;p&gt;  fails with message..  &amp;lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;codeContent panelContent&quot;&amp;gt; &amp;lt;pre class=&quot;code-java&quot;&amp;gt;FAILED: Execution Error, &amp;lt;span class=&quot;code-keyword&quot;&amp;gt;return&amp;lt;/span&amp;gt; code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  hadoop says..  &amp;lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;codeContent panelContent&quot;&amp;gt; &amp;lt;pre class=&quot;code-java&quot;&amp;gt;Caused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1 	at java.util.ArrayList.RangeCheck(ArrayList.java:547) 	at java.util.ArrayList.get(ArrayList.java:322) 	at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.init(StandardStructObjectInspector.java:95) 	at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.(StandardStructObjectInspector.java:86) 	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorFactory.getStandardStructObjectInspector(ObjectInspectorFactory.java:252) 	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.initEvaluatorsAndReturnStruct(ReduceSinkOperator.java:188) 	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:197) 	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471) 	at org.apache.hadoop.hive.ql.e&lt;br/&gt;
 xec.Operator.forward(Operator.java:744) 	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:85) 	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471) 	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744) 	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:532)&amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  I think the deficient number of key expression, compared to number of key column, is the problem, which should be equal or more.&lt;br/&gt;
  Would it be solved if add some key expression? I&apos;ll try.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D663&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D663&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1473/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/1473/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13165374" author="namit" created="Thu, 8 Dec 2011 18:02:04 +0000"  >&lt;p&gt;Navis, please use the following instructions in future for patches &lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We are planning to move to phabricator from review board.&lt;/p&gt;

&lt;p&gt;I have already done this for this jira.&lt;br/&gt;
Will review it soon.&lt;/p&gt;</comment>
                            <comment id="13244939" author="ashutoshc" created="Tue, 3 Apr 2012 03:36:25 +0000"  >&lt;p&gt;Canceling patch as it first needs to address Namit&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13244945" author="navis" created="Tue, 3 Apr 2012 03:42:32 +0000"  >&lt;p&gt;It&apos;s already on phabricator by Namit.&lt;/p&gt;</comment>
                            <comment id="13244951" author="ashutoshc" created="Tue, 3 Apr 2012 03:50:57 +0000"  >&lt;p&gt;Oh, I missed it. Marking Patch Available then.&lt;/p&gt;</comment>
                            <comment id="13258486" author="ashutoshc" created="Fri, 20 Apr 2012 19:17:31 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13558074" author="ashutoshc" created="Sat, 19 Jan 2013 19:22:22 +0000"  >&lt;p&gt;Verified that bug still exists in trunk. Patch looks good. +1 Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13558180" author="ashutoshc" created="Sun, 20 Jan 2013 07:10:58 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13558201" author="hudson" created="Sun, 20 Jan 2013 08:16:31 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #31 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/31/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/31/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt; : If all of the parameters of distinct functions are exists in group by columns, query fails in runtime (Navis via Ashutosh Chauhan) (Revision 1435790)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558342" author="hudson" created="Sun, 20 Jan 2013 18:47:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1926 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1926/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1926/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt; : If all of the parameters of distinct functions are exists in group by columns, query fails in runtime (Navis via Ashutosh Chauhan) (Revision 1435790)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558389" author="hudson" created="Sun, 20 Jan 2013 21:09:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #77 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/77/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/77/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt; : If all of the parameters of distinct functions are exists in group by columns, query fails in runtime (Navis via Ashutosh Chauhan) (Revision 1435790)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435790&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558556" author="hudson" created="Mon, 21 Jan 2013 06:11:57 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #33 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/33/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/33/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3920&quot; title=&quot;Change test for HIVE-2332&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3920&quot;&gt;&lt;del&gt;HIVE-3920&lt;/del&gt;&lt;/a&gt; Change test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Ashutosh Chauhan and Navis via namit) (Revision 1436199)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558709" author="hudson" created="Mon, 21 Jan 2013 11:50:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1928 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1928/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1928/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3920&quot; title=&quot;Change test for HIVE-2332&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3920&quot;&gt;&lt;del&gt;HIVE-3920&lt;/del&gt;&lt;/a&gt; Change test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Ashutosh Chauhan and Navis via namit) (Revision 1436199)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558989" author="hudson" created="Mon, 21 Jan 2013 19:04:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #79 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/79/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/79/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3920&quot; title=&quot;Change test for HIVE-2332&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3920&quot;&gt;&lt;del&gt;HIVE-3920&lt;/del&gt;&lt;/a&gt; Change test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2332&quot; title=&quot;If all of the parameters of distinct functions are exists in group by columns, query fails in runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2332&quot;&gt;&lt;del&gt;HIVE-2332&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Ashutosh Chauhan and Navis via namit) (Revision 1436199)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1436199&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_distinct_samekey.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_distinct_samekey.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506630" name="ASF.LICENSE.NOT.GRANTED--HIVE-2332.D663.1.patch" size="11128" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 18:01:40 +0000"/>
                            <attachment id="12505306" name="HIVE-2332.1.patch.txt" size="3149" author="navis" created="Mon, 28 Nov 2011 07:54:11 +0000"/>
                            <attachment id="12506408" name="HIVE-2332.2.patch.txt" size="11436" author="navis" created="Wed, 7 Dec 2011 07:05:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>