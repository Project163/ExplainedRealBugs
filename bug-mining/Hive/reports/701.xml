<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:59:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2501] When new instance of Hive (class) is created, the current database is reset to default (current database shouldn&apos;t be changed).</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2501</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This bug manifested to me, when first thing I did after starting Hive, was to call use &amp;lt;db_name&amp;gt;; but then calling show tables; was still showing tables from the default database (and I had to call &quot;use&quot; again to actually change database). This bug might have manifested only due to a specific Hive deployment I am using (I didn&apos;t investigate this issue that deeply). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12526885">HIVE-2501</key>
            <summary>When new instance of Hive (class) is created, the current database is reset to default (current database shouldn&apos;t be changed).</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsurowka">Robert Sur&#243;wka</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Oct 2011 18:01:02 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:40 +0000</updated>
                            <resolved>Wed, 26 Oct 2011 00:59:24 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13126006" author="rsurowka" created="Wed, 12 Oct 2011 18:09:28 +0000"  >&lt;p&gt;By the way, the debugging I added earlier today (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2500&quot; title=&quot;Allow Hive to be debugged remotely&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2500&quot;&gt;&lt;del&gt;HIVE-2500&lt;/del&gt;&lt;/a&gt;) proved to be extremely useful when tracking this bug. &lt;/p&gt;</comment>
                            <comment id="13126007" author="rsurowka" created="Wed, 12 Oct 2011 18:10:51 +0000"  >&lt;p&gt;Review request at &lt;a href=&quot;https://reviews.apache.org/r/2361/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2361/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13126888" author="jvs" created="Thu, 13 Oct 2011 20:31:49 +0000"  >&lt;p&gt;Looks like a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2377&quot; title=&quot;USE database doesn&amp;#39;t work when it&amp;#39;s first command in session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2377&quot;&gt;&lt;del&gt;HIVE-2377&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13127729" author="rsurowka" created="Fri, 14 Oct 2011 17:47:01 +0000"  >&lt;p&gt;True, I am sorry for the overlook. Yet, it would be good if any patch for that bug were committed. &lt;/p&gt;</comment>
                            <comment id="13132211" author="jvs" created="Thu, 20 Oct 2011 23:40:46 +0000"  >&lt;p&gt;I&apos;ve closed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2377&quot; title=&quot;USE database doesn&amp;#39;t work when it&amp;#39;s first command in session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2377&quot;&gt;&lt;del&gt;HIVE-2377&lt;/del&gt;&lt;/a&gt; as dupe.  Could you add a test case for this one?&lt;/p&gt;</comment>
                            <comment id="13134632" author="rsurowka" created="Mon, 24 Oct 2011 23:31:21 +0000"  >&lt;p&gt;I tried to create a test, but unfortunately the bug doesn&apos;t manifest there. This is what I did: &lt;a href=&quot;https://reviews.apache.org/r/2559/diff/#index_header&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2559/diff/#index_header&lt;/a&gt;&lt;br/&gt;
Is there a better way to prepare a test that would catch such a bug? &lt;/p&gt;</comment>
                            <comment id="13134650" author="jvs" created="Tue, 25 Oct 2011 00:07:44 +0000"  >&lt;p&gt;We don&apos;t want to create+drop the test database for every .q file.&lt;/p&gt;

&lt;p&gt;Instead of creating a new .q file, I think you can add a Java-level testcase to ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/p&gt;
</comment>
                            <comment id="13135271" author="rsurowka" created="Tue, 25 Oct 2011 17:40:55 +0000"  >&lt;p&gt;Thank you for the response.&lt;/p&gt;

&lt;p&gt;The current diff at: &lt;a href=&quot;https://reviews.apache.org/r/2361/diff/#index_header&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/2361/diff/#index_header&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I added the appropriate test.&lt;/p&gt;

&lt;p&gt;About the previous .q test, I believe that new database wouldn&apos;t be created for each .q file, unless also tables like src and src_part are recreated for each .q file - but now it is immaterial anyway.   &lt;/p&gt;</comment>
                            <comment id="13135352" author="jvs" created="Tue, 25 Oct 2011 19:27:24 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13135596" author="jvs" created="Wed, 26 Oct 2011 00:59:24 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Robert!&lt;/p&gt;</comment>
                            <comment id="13135731" author="hudson" created="Wed, 26 Oct 2011 05:46:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1035 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1035/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1035/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2501&quot; title=&quot;When new instance of Hive (class) is created, the current database is reset to default (current database shouldn&amp;#39;t be changed).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2501&quot;&gt;&lt;del&gt;HIVE-2501&lt;/del&gt;&lt;/a&gt;. When new instance of Hive (class) is created, the current database&lt;br/&gt;
is reset to default.&lt;br/&gt;
(Robert Surowka via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188986&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188986&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12498787" name="HIVE-2501.1.patch" size="695" author="rsurowka" created="Wed, 12 Oct 2011 18:09:28 +0000"/>
                            <attachment id="12500729" name="HIVE-2501.2.patch" size="1463" author="rsurowka" created="Tue, 25 Oct 2011 17:40:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lka7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>