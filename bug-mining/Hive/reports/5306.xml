<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:51:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-16015] LLAP: some Tez INFO logs are too noisy II</title>
                <link>https://issues.apache.org/jira/browse/HIVE-16015</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="13045466">HIVE-16015</key>
            <summary>LLAP: some Tez INFO logs are too noisy II</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2017 01:23:37 +0000</created>
                <updated>Tue, 25 Jul 2017 20:04:45 +0000</updated>
                            <resolved>Fri, 24 Feb 2017 20:42:01 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15879651" author="sershe" created="Thu, 23 Feb 2017 01:25:32 +0000"  >&lt;p&gt;required Tez upgrade&lt;/p&gt;</comment>
                            <comment id="15879659" author="sershe" created="Thu, 23 Feb 2017 01:28:40 +0000"  >&lt;p&gt;The patch. Cannot be committed before Tez 0.9.0.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;sseth&lt;/a&gt; does this make sense? The tez patch example sets the entire ShuffleScheduler to WARN, and has no changes to TezMerger, so I&apos;m keeping them as is&lt;/p&gt;</comment>
                            <comment id="15879683" author="sseth" created="Thu, 23 Feb 2017 01:44:39 +0000"  >&lt;p&gt;ShuffleScheduler should be ShuffleScheduler.fetch&lt;br/&gt;
TezMerger - I think we should leave this at INFO. Can add another change once a custom less noisy logger is setup in Tez, or tez starts logging less (the second one is more likely in this case).&lt;/p&gt;

&lt;p&gt;Think this can be committed. It will have an affect depending on the deployed version of Tez. There&apos;s no warnings / compile time problems that will show up if it is committed.&lt;/p&gt;

&lt;p&gt;Tried on a real cluster?&lt;/p&gt;</comment>
                            <comment id="15879699" author="sershe" created="Thu, 23 Feb 2017 01:52:40 +0000"  >&lt;p&gt;If we commit it now, the older versions of Tez will still produce log spam... &lt;br/&gt;
Also TezMerger was 11.5% of the entire log on some cluster where that was measured (from 3 different statements). Perhaps it also needs a custom logger&lt;/p&gt;</comment>
                            <comment id="15879922" author="sseth" created="Thu, 23 Feb 2017 05:52:45 +0000"  >&lt;p&gt;I think we should commit now. The logging will depend on the version of Tez used. If we&apos;re not committing - we should revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15954&quot; title=&quot;LLAP: some Tez INFO logs are too noisy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15954&quot;&gt;&lt;del&gt;HIVE-15954&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Disabling logging from these classes is not a good option - makes debugging any issue related to them difficult. I&apos;d rather have extra logs instead of none. For reference, the same logs show up in regular Tez jobs as well. They haven&apos;t been noticed since the logs are on a per query basis, rather than giant log files.&lt;br/&gt;
The TezMerger definitely needs fixing. It&apos;s more noisy when disk spills are involved - which typically indicates a large query. For shorter queries, there should not be that much noise.&lt;/p&gt;</comment>
                            <comment id="15881044" author="sershe" created="Thu, 23 Feb 2017 19:10:55 +0000"  >&lt;p&gt;A lot of different logging is useful for a lot of different issues. We disable, for instance, ZK logging, even though recently I&apos;ve been looking at issues where having detailed ZK logging would be useful; because generally it&apos;s not useful and the amount of it writes in unacceptable... the 2 of these 4 classes in some cases constitute ~50% of all logging. I don&apos;t think they are as useful as all other logging combined &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; They clearly log debug data on info... so I don&apos;t think we should enable until Hive officially switched to 0.90. Before that it should be disabled.&lt;/p&gt;</comment>
                            <comment id="15883477" author="sershe" created="Fri, 24 Feb 2017 20:42:01 +0000"  >&lt;p&gt;Committed to master after discussion; also removed TezMerger in light of &lt;a href=&quot;https://issues.apache.org/jira/browse/TEZ-3637&quot; title=&quot;TezMerger logs too much at INFO level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEZ-3637&quot;&gt;&lt;del&gt;TEZ-3637&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The logs will not be gone until Tez 0.9. If you are bothered by spammy logs before then, you are encouraged to complain to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;sseth&lt;/a&gt; personally &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13035791">TEZ-3581</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13043806">HIVE-15954</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12854115" name="HIVE-16015.01.patch" size="1213" author="sershe" created="Thu, 23 Feb 2017 01:55:49 +0000"/>
                            <attachment id="12854111" name="HIVE-16015.patch" size="1108" author="sershe" created="Thu, 23 Feb 2017 01:28:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ahhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>