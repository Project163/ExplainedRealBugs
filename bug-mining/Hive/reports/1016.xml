<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:03:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3664] Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3664</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It forces us to enumerate all the jars except this jar on Windows instead of directly referencing the &#8220;dist\lib&amp;#42;.jar&#8221; folder in the class path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614563">HIVE-3664</key>
            <summary>Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 19:30:14 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:43 +0000</updated>
                            <resolved>Wed, 14 Nov 2012 23:28:02 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13489690" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:33:40 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7840/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/7840/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493313" author="ashutoshc" created="Thu, 8 Nov 2012 17:19:55 +0000"  >&lt;p&gt;@Kanna, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2061&quot; title=&quot;Create a hive_contrib.jar symlink to hive-contrib-{version}.jar for backward compatibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2061&quot;&gt;&lt;del&gt;HIVE-2061&lt;/del&gt;&lt;/a&gt; introduced this for backward compatibility reason. Currently, user needs to &lt;b&gt;add&lt;/b&gt; this jar in their script. So, if we don&apos;t create a symlink user needs to update their script every time we upgrade a hive version, which is not ideal. I am not sure what problem you are facing with symlinks on Windows, but if that is not easily solvable one potential workaround would be to check in build.xml that OS is windows and then not create symlink, but instead copy hive-contrib-0.9.0 with name hive-contrib.jar. This will avoid backward incompatibility as well as need to create symlink on Windows. But, before we go down that path perhaps we should investigate more whats the problem with symlinks on Windows.   &lt;/p&gt;</comment>
                            <comment id="13493485" author="kannakar@microsoft.com" created="Thu, 8 Nov 2012 21:00:33 +0000"  >&lt;p&gt;Thanks Ashutosh - In Windows, When we specify the class path as &#8220;HIVE_DIR\Dist\Lib&amp;#42;&#8221; instead of enumerating individual jars (because of 8k limitation on environment variable), JAVA is trying to load the &#8220;hive-contrib.jar&#8221; as regular jar and failing. Based on the comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt;, I think it is safe to remove them. If not, I can conditionally skip this on Windows.&lt;/p&gt;

&lt;p&gt;udf-compile:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; *** Compiling UDFs ***&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 25 source files to c:\Jenkins\workspace\windows.hive.20.unsecure\datateamtest\hcatalog\udfs\java\build&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: error reading C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar; error in opening zip file&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;br/&gt;
On clicking C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar, I get an error message &quot;Invalid or corrupt jarfile C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar&quot;&lt;br/&gt;
C:\Hadoop\hive-0.9.0\lib&amp;gt;ls -l hive_contrib.jar&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-    1 Administ Administ       58 Aug 30 00:41 hive_contrib.jar&lt;/p&gt;

&lt;p&gt;C:\Hadoop\hive-0.9.0\lib&amp;gt;jar -tvf hive_contrib.jar&lt;br/&gt;
java.util.zip.ZipException: error in opening zip file&lt;br/&gt;
        at java.util.zip.ZipFile.open(Native Method)&lt;br/&gt;
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:127)&lt;br/&gt;
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:88)&lt;br/&gt;
        at sun.tools.jar.Main.list(Main.java:979)&lt;br/&gt;
        at sun.tools.jar.Main.run(Main.java:224)&lt;br/&gt;
        at sun.tools.jar.Main.main(Main.java:1149)&lt;/p&gt;
</comment>
                            <comment id="13493490" author="ashutoshc" created="Thu, 8 Nov 2012 21:06:22 +0000"  >&lt;p&gt;Based on discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt; it seems like no one is depending on it. So, I think we are fine removing the symlink. &lt;br/&gt;
+1 will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13496780" author="kannakar@microsoft.com" created="Wed, 14 Nov 2012 02:36:32 +0000"  >&lt;p&gt;@Ashutosh - Can you please commit these changes if there are no UT failures? Thanks&lt;/p&gt;</comment>
                            <comment id="13497581" author="ashutoshc" created="Wed, 14 Nov 2012 23:28:02 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13497904" author="hudson" created="Thu, 15 Nov 2012 10:22:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1797 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1797/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1797/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3664&quot; title=&quot;Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3664&quot;&gt;&lt;del&gt;HIVE-3664&lt;/del&gt;&lt;/a&gt; : Avoid to create a symlink for hive-contrib.jar file in dist\lib folder. (Kanna Karanam via Ashutosh Chauhan) (Revision 1409548)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548142" author="hudson" created="Wed, 9 Jan 2013 10:24:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3664&quot; title=&quot;Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3664&quot;&gt;&lt;del&gt;HIVE-3664&lt;/del&gt;&lt;/a&gt; : Avoid to create a symlink for hive-contrib.jar file in dist\lib folder. (Kanna Karanam via Ashutosh Chauhan) (Revision 1409548)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550186" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:43 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551916" name="HIVE-3664.1.patch.txt" size="520" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:33:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eia7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>