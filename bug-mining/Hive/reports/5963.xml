<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:58:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6590] Hive does not work properly with boolean partition columns (wrong results and inserts to incorrect HDFS path)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6590</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive does not work properly with boolean partition columns. Queries return wrong results and also insert to incorrect HDFS paths.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table bool_part(int_col &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) partitioned by(bool_col &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;);
# This works, creating 3 unique partitions!
ALTER TABLE bool_table ADD PARTITION (bool_col=FALSE);
ALTER TABLE bool_table ADD PARTITION (bool_col=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
ALTER TABLE bool_table ADD PARTITION (bool_col=False);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first problem is that Hive cannot filter on a bool partition key column. &quot;select * from bool_part&quot; returns the correct results, but if you apply a filter on the bool partition key column hive won&apos;t return any results.&lt;/p&gt;

&lt;p&gt;The second problem is that Hive seems to just call &quot;toString()&quot; on the boolean literal value. This means you can end up with multiple partitions (FALSE, false, FaLSE, etc) mapping to the literal value &apos;FALSE&apos;. For example, if you can add three partition in have for the same logic value &quot;false&quot; doing:&lt;br/&gt;
ALTER TABLE bool_table ADD PARTITION (bool_col=FALSE) -&amp;gt; /test-warehouse/bool_table/bool_col=FALSE/&lt;br/&gt;
ALTER TABLE bool_table ADD PARTITION (bool_col=false) -&amp;gt; /test-warehouse/bool_table/bool_col=false/&lt;br/&gt;
ALTER TABLE bool_table ADD PARTITION (bool_col=False) -&amp;gt; /test-warehouse/bool_table/bool_col=False/&lt;/p&gt;</description>
                <environment></environment>
        <key id="12699533">HIVE-6590</key>
            <summary>Hive does not work properly with boolean partition columns (wrong results and inserts to incorrect HDFS path)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kgyrtkirk">Zoltan Haindrich</assignee>
                                    <reporter username="lskuff">Lenni Kuff</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2014 23:37:51 +0000</created>
                <updated>Tue, 1 Oct 2019 22:06:40 +0000</updated>
                            <resolved>Thu, 9 Nov 2017 17:18:19 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Database/Schema</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15422294" author="alex.behm" created="Tue, 16 Aug 2016 06:28:15 +0000"  >&lt;p&gt;A related and severe issue is that ALTER TABLE DROP PARTITION may drop partitions that were not specified in the ALTER statement. This could lead to accidental data loss.&lt;/p&gt;

&lt;p&gt;Reproduction:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE broken (c &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) PARTITIONED BY (b1 BOOLEAN, s STRING, b2 BOOLEAN, i INT);

# Insert a few variants of &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt; partition-key values.
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,i=0) VALUES(1);
INSERT INTO TABLE broken PARTITION(b1=FALSE,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,i=0) VALUES(3);
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=False,i=0) VALUES(5);
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=FalsE,i=0) VALUES(7);

# Insert a few variants of &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; partition-key values.
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,i=0) VALUES(2);
INSERT INTO TABLE broken PARTITION(b1=TRUE,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,i=0) VALUES(4);
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=True,i=0) VALUES(6);
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=TruE,i=0) VALUES(8);

# Insert a few variants of mixed &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;/&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt; partition-key values.
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,i=0) VALUES(100);
INSERT INTO TABLE broken PARTITION(b1=FALSE,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=TRUE,i=0) VALUES(1000);
INSERT INTO TABLE broken PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,i=0) VALUES(10000);
INSERT INTO TABLE broken PARTITION(b1=tRUe,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=fALSe,i=0) VALUES(100000);

# Very broken partition drop.
hive&amp;gt; ALTER TABLE broken DROP PARTITION(b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,s=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;,b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,i=0);
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=False/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=FalsE/i=0
Dropped the partition b1=FALSE/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/i=0
Dropped the partition b1=FALSE/s=a/b2=TRUE/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/i=0
Dropped the partition b1=tRUe/s=a/b2=fALSe/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=True/i=0
Dropped the partition b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=TruE/i=0
Dropped the partition b1=TRUE/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/i=0
OK
Time taken: 1.387 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15866757" author="kgyrtkirk" created="Tue, 14 Feb 2017 21:43:34 +0000"  >&lt;p&gt;serde treated all non-zero length strings as true.&lt;br/&gt;
i&apos;ve changed this to only consider strings starting with &apos;t&apos; or &apos;T&apos; to be true.&lt;/p&gt;</comment>
                            <comment id="15867122" author="hiveqa" created="Wed, 15 Feb 2017 02:45:49 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852671/HIVE-6590.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852671/HIVE-6590.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 10240 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join31] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_boolean] (batchId=21)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[multiMapJoin2] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_nonvec_part_all_primitive] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part_all_primitive] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vecrow_part_all_primitive] (batchId=150)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join31] (batchId=133)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3553/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3553/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3553/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3553/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3553/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3553/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852671 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15867365" author="kgyrtkirk" created="Wed, 15 Feb 2017 07:17:10 +0000"  >&lt;p&gt;patch.2&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;enable sort results for qtest&lt;/li&gt;
	&lt;li&gt;schema_evol tests contained a string to boolean conversion&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15867681" author="hiveqa" created="Wed, 15 Feb 2017 11:38:35 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852755/HIVE-6590.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852755/HIVE-6590.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3565/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3565/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3565/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3565/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3565/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3565/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-02-15 11:38:34.017
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-3565/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-02-15 11:38:34.020
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 1aad3be HIVE-15914: Fix issues with druid-handler pom file (Jesus Camacho Rodriguez, reviewed by Ashutosh Chauhan)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 1aad3be HIVE-15914: Fix issues with druid-handler pom file (Jesus Camacho Rodriguez, reviewed by Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-02-15 11:38:35.045
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: patch failed: ql/src/test/results/clientpositive/llap/schema_evol_text_vec_part_all_primitive.q.out:323
error: ql/src/test/results/clientpositive/llap/schema_evol_text_vec_part_all_primitive.q.out: patch does not apply
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852755 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15868095" author="hiveqa" created="Wed, 15 Feb 2017 16:03:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852829/HIVE-6590.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852829/HIVE-6590.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10226 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join31] (batchId=81)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[multiMapJoin2] (batchId=152)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join31] (batchId=133)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3570/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3570/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3570/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3570/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3570/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3570/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852829 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15868101" author="kgyrtkirk" created="Wed, 15 Feb 2017 16:09:44 +0000"  >&lt;p&gt;I think these test failures are unrelated....&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; Could you take a look at these changes?&lt;/p&gt;</comment>
                            <comment id="15868306" author="alex.behm" created="Wed, 15 Feb 2017 18:28:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;kgyrtkirk&lt;/a&gt;, can you explain how your new proposed behavior is better? It seems like there is still a fundamental issue that partition-key values do not have a canonical string representation, so you could still have multiple HDFS paths referring to the same logical partition.&lt;/p&gt;</comment>
                            <comment id="15868345" author="kgyrtkirk" created="Wed, 15 Feb 2017 18:53:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.behm&quot; class=&quot;user-hover&quot; rel=&quot;alex.behm&quot;&gt;alex.behm&lt;/a&gt; I guess the path naming issue have been solved earlier...because the paths seems to be correct to me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+POSTHOOK: query: select * from broken
+POSTHOOK: type: QUERY
+POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@broken
+POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@broken@b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/i=0
+POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@broken@b1=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/i=0
+POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@broken@b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;/i=0
+POSTHOOK: Input: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@broken@b1=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/s=a/b2=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;/i=0
+#### A masked pattern was here ####
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15868385" author="jdere" created="Wed, 15 Feb 2017 19:09:42 +0000"  >&lt;p&gt;Wow, I had no idea PrimitiveObjectInpsectorUtils.getBoolean() treated all non-empty strings as TRUE.&lt;br/&gt;
The thing about changing this behavior is that it has ramifications beyond just the partition columns, and in fact even UDFToBoolean has the same behavior.&lt;br/&gt;
cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; to see if they have any opinions here.&lt;/p&gt;

&lt;p&gt;Where does the partitioning code actually call PrimitiveObjectInpsectorUtils.getBoolean() to convert the string value to boolean? Wondering if it is possible to special case boolean behavior to not use PrimitiveObjectInpsectorUtils.getBoolean() during partitioning.&lt;/p&gt;</comment>
                            <comment id="15868568" author="alangates" created="Wed, 15 Feb 2017 21:10:34 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; as he&apos;s bumped into some issues with this as well I believe.&lt;/p&gt;</comment>
                            <comment id="15868867" author="alangates" created="Thu, 16 Feb 2017 00:18:42 +0000"  >&lt;p&gt;I agree with Jason that we don&apos;t want to change PrimitiveObjectInspectorUtils.getBoolean().  That&apos;s just too fundamental of a change and risks breaking unknown things.  I also agree that it is better to see if we can special case this in the partitioning code to do the right thing for partitions.&lt;/p&gt;</comment>
                            <comment id="15869325" author="kgyrtkirk" created="Thu, 16 Feb 2017 06:28:59 +0000"  >&lt;p&gt;partition keys are parsed here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/blob/d357f38521ae583007ff96ed7090ac41f56b78b2/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java#L257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/blob/d357f38521ae583007ff96ed7090ac41f56b78b2/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java#L257&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I was expecting a whole myriad of qtests to fail when I submitted the patch the first time...but there were only just a few - how much does the fact that something is &quot;under-tested&quot; correlates with its being &quot;under-used&quot; ? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Anyway; of course its possible to apply local changes to the partition key parsing code...but I think there is an alternative path:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;parse empty strings and &quot;false&quot; as false (optionally ignoring casing)&lt;/li&gt;
	&lt;li&gt;all others as true&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;this would be a minimal change to the serde code which would be enough to fix the partition parsing.&lt;/p&gt;

&lt;p&gt;about cast: I haven&apos;t looked into sql2011 specs about this aspect, but i&apos;m pretty confident that it will suggest the following &lt;tt&gt;cast(&apos;false&apos; as boolean)&lt;/tt&gt; should be false...&lt;/p&gt;</comment>
                            <comment id="15882155" author="ashutoshc" created="Fri, 24 Feb 2017 07:41:56 +0000"  >&lt;p&gt;I looked the spec. Section 6.13 clearly says only strings are allowed to be cast into boolean. All other types (which Hive supports) if attempted to be cast to boolean need to raise an error. Further 20) in section states for string only valid boolean literals are allowed in strings, which implies string &quot;true&quot; should parse as boolean true and string &quot;false&quot; parse as boolean false. All other strings need to raise error.&lt;/p&gt;

&lt;p&gt;So, if we want to be spec compliant this behavior needs to change. Perhaps, in major version : 3.0?&lt;/p&gt;</comment>
                            <comment id="15886427" author="kgyrtkirk" created="Mon, 27 Feb 2017 19:59:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; I&apos;m not sure what to do now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I totally aggree that raising errors for this would be problematic...it would cause more problems than it would solve...I would recommend to change the behaviour to a half-way solution - which would even comply to the standard more, by giving the expected results when the case is defined; but instead of errors - retains the old behaviour for all other cases.&lt;/p&gt;

&lt;p&gt;Surprisingly in the schema evolution test the string column contained &apos;true&apos; and &apos;false&apos; strings, and the change in those q.out files are the result of the fact that now &apos;false&apos; is parsed as &apos;false&apos;.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach patch#4 which covers this change; if this is still too much, I&apos;ll do the partition parser only change.&lt;/p&gt;</comment>
                            <comment id="15886918" author="hiveqa" created="Tue, 28 Feb 2017 00:36:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12854958/HIVE-6590.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12854958/HIVE-6590.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10275 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_table] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hive.beeline.TestBeeLineWithArgs.testQueryProgressParallel (batchId=211)
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery (batchId=217)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3821/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3821/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3821/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3821/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3821/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3821/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12854958 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15922931" author="kgyrtkirk" created="Mon, 13 Mar 2017 20:57:34 +0000"  >&lt;p&gt;the last, #4 patch would only change one thing at the serde level: the parsing outcome of the string &apos;false&apos; will be false from now on...instead of the current true.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; should I be more carefull...and do the partition only fix?&lt;/p&gt;</comment>
                            <comment id="15929043" author="kgyrtkirk" created="Thu, 16 Mar 2017 22:28:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; Could you please take a look at my last two comments?&lt;/p&gt;</comment>
                            <comment id="15949463" author="ashutoshc" created="Thu, 30 Mar 2017 17:30:16 +0000"  >&lt;p&gt;Now that master no longer needs to be backward compatible, we can make changes to be standard compliant. Also, it will be worth observing the behavior on other dbs (especially postgres since thats usually closest to standard.)&lt;/p&gt;</comment>
                            <comment id="16051761" author="kgyrtkirk" created="Fri, 16 Jun 2017 10:56:05 +0000"  >&lt;p&gt;I&apos;ve tried to fix this with minimal changes for branch-2...by introducing lesser changes - but even thru I was able to fix insert and such...&lt;tt&gt;alter table drop partition&lt;/tt&gt; still retained the problem - and because its using hive internal function to do the check that would look awkward...so I think it will be safer to go forward...&lt;/p&gt;</comment>
                            <comment id="16051810" author="hiveqa" created="Fri, 16 Jun 2017 12:05:46 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12854958/HIVE-6590.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12854958/HIVE-6590.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 10833 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=237)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=145)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=232)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=216)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5660/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5660/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5660/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5660/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5660/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5660/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12854958 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16051833" author="kgyrtkirk" created="Fri, 16 Jun 2017 12:31:06 +0000"  >&lt;p&gt;patch#5)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;parsed as false, without case sensitivity: &lt;tt&gt;no,off,0,false&lt;/tt&gt;  (like postgres)&lt;/li&gt;
	&lt;li&gt;retained the feature: nonempty strings are true&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;postgres gives hard errors for anything which is not &lt;tt&gt;yes/no/on/off/0/1/true/false&lt;/tt&gt;.&lt;br/&gt;
It might good to parse unknown values as &lt;tt&gt;NULL&lt;/tt&gt; ...or keep the old behaviour - nonEmpty strings are true?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16052114" author="hiveqa" created="Fri, 16 Jun 2017 16:41:14 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12873275/HIVE-6590.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12873275/HIVE-6590.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 10833 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=157)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=232)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=216)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5665/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5665/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5665/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5665/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5665/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5665/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12873275 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16085419" author="kgyrtkirk" created="Thu, 13 Jul 2017 09:16:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; could you please take a look?&lt;/p&gt;</comment>
                            <comment id="16151695" author="kgyrtkirk" created="Sun, 3 Sep 2017 06:18:22 +0000"  >&lt;p&gt;re-attach#5 to trigger a new test execution&lt;/p&gt;</comment>
                            <comment id="16151727" author="hiveqa" created="Sun, 3 Sep 2017 07:43:47 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 11033 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestNoSaslAuth - did not produce a TEST-*.xml file (likely timed out) (batchId=227)
TestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_binary_storage_queries] (batchId=96)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_vectorized_dynamic_partition_pruning] (batchId=169)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=100)
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.checkExpectedLocks (batchId=282)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6661/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6661/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6661/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6661/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-6661/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-6661/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12885121 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16169319" author="hiveqa" created="Sun, 17 Sep 2017 14:52:28 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 11037 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_gby2_map_multi_distinct] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[create_view] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_mask_hash] (batchId=28)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=156)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[drop_table_failure2] (batchId=89)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=241)
org.apache.hadoop.hive.ql.TestAcidOnTez.testCtasTezUnion (batchId=215)
org.apache.hadoop.hive.ql.TestAcidOnTez.testNonStandardConversion01 (batchId=215)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6851/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6851/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6851/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6851/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-6851/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-6851/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12885121 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16244880" author="ashutoshc" created="Wed, 8 Nov 2017 22:43:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="16245402" author="hiveqa" created="Thu, 9 Nov 2017 09:06:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12885121/HIVE-6590.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 11374 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=62)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[llap_acid_fast] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=102)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[ct_noperm_loc] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multi] (batchId=111)
org.apache.hadoop.hive.cli.control.TestDanglingQOuts.checkDanglingQOut (batchId=206)
org.apache.hadoop.hive.ql.parse.TestReplicationScenarios.testConstraints (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/7729/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/7729/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/7729/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/7729/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-7729/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-7729/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12885121 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16246086" author="ashutoshc" created="Thu, 9 Nov 2017 17:18:19 +0000"  >&lt;p&gt;Pushed to master. Thanks, Zoltan!&lt;/p&gt;</comment>
                            <comment id="16246091" author="ashutoshc" created="Thu, 9 Nov 2017 17:22:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kgyrtkirk&quot; class=&quot;user-hover&quot; rel=&quot;kgyrtkirk&quot;&gt;kgyrtkirk&lt;/a&gt; I think we shall be consistent and change UDFToBoolean also along similar lines. Can you take that up in a follow-up?&lt;/p&gt;</comment>
                            <comment id="16246186" author="kgyrtkirk" created="Thu, 9 Nov 2017 18:07:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; I&apos;ve filed the followup a long time ago; and fortunately, there&apos;s already a patch to fix that in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15939&quot; title=&quot;Make cast expressions comply more to sql2011&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15939&quot;&gt;&lt;del&gt;HIVE-15939&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16486473" author="vgarg" created="Wed, 23 May 2018 00:00:50 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13043515">HIVE-15939</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12852671" name="HIVE-6590.1.patch" size="13907" author="kgyrtkirk" created="Tue, 14 Feb 2017 21:43:34 +0000"/>
                            <attachment id="12852755" name="HIVE-6590.2.patch" size="31065" author="kgyrtkirk" created="Wed, 15 Feb 2017 07:17:10 +0000"/>
                            <attachment id="12852829" name="HIVE-6590.3.patch" size="31041" author="kgyrtkirk" created="Wed, 15 Feb 2017 15:01:35 +0000"/>
                            <attachment id="12854958" name="HIVE-6590.4.patch" size="32415" author="kgyrtkirk" created="Mon, 27 Feb 2017 19:59:40 +0000"/>
                            <attachment id="12885121" name="HIVE-6590.5.patch" size="34937" author="kgyrtkirk" created="Sun, 3 Sep 2017 06:18:03 +0000"/>
                            <attachment id="12873275" name="HIVE-6590.5.patch" size="34937" author="kgyrtkirk" created="Fri, 16 Jun 2017 12:24:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t43b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>