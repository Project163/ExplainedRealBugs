<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:08:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4968] When deduplicating multiple SelectOperators, we should update RowResolver accordinly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4968</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; tmp3.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, tmp3.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, tmp3.&lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; tmp1.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, tmp1.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, tmp2.&lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src) tmp1
      &lt;span class=&quot;code-keyword&quot;&gt;JOIN&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(*) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src) tmp2
      ) tmp3;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The plan is executable.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; tmp3.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, tmp3.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, tmp3.&lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; tmp1.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, tmp1.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, tmp2.&lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; *
            &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src) tmp1
      &lt;span class=&quot;code-keyword&quot;&gt;JOIN&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(*) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src) tmp2
      ) tmp3;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The plan is executable.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT tmp4.key, tmp4.value, tmp4.count
FROM (SELECT tmp2.key as key, tmp2.value as value, tmp3.count as count
      FROM (SELECT *
            FROM (SELECT key, value
                  FROM src) tmp1 ) tmp2
      JOIN (SELECT count(*) as count
            FROM src) tmp3
      ) tmp4;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The plan is not executable.&lt;/p&gt;

&lt;p&gt;The plan related to the MapJoin is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Stage: Stage-5
    Map Reduce Local Work
      Alias -&amp;gt; Map Local Tables:
        tmp4:tmp2:tmp1:src 
          Fetch Operator
            limit: -1
      Alias -&amp;gt; Map Local Operator Tree:
        tmp4:tmp2:tmp1:src 
          TableScan
            alias: src
            Select Operator
              expressions:
                    expr: key
                    type: string
                    expr: value
                    type: string
              outputColumnNames: _col0, _col1
              HashTable Sink Operator
                condition expressions:
                  0 
                  1 {_col0}
                handleSkewJoin: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                keys:
                  0 []
                  1 []
                Position of Big Table: 1

  Stage: Stage-4
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        $INTNAME 
            Map Join Operator
              condition map:
                   Inner Join 0 to 1
              condition expressions:
                0 
                1 {_col0}
              handleSkewJoin: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              keys:
                0 []
                1 []
              outputColumnNames: _col2
              Position of Big Table: 1
              Select Operator
                expressions:
                      expr: _col0
                      type: string
                      expr: _col1
                      type: string
                      expr: _col2
                      type: bigint
                outputColumnNames: _col0, _col1, _col2
                File Output Operator
                  compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                  GlobalTableId: 0
                  table:
                      input format: org.apache.hadoop.mapred.TextInputFormat
                      output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat
      Local Work:
        Map Reduce Local Work
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The outputColumnNames of MapJoin is &apos;_col2&apos;. But it should be &apos;_col0, _col1, _col2&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660957">HIVE-4968</key>
            <summary>When deduplicating multiple SelectOperators, we should update RowResolver accordinly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Jul 2013 18:20:45 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:45 +0000</updated>
                            <resolved>Fri, 2 Aug 2013 04:55:43 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13725551" author="yhuai" created="Wed, 31 Jul 2013 18:28:05 +0000"  >&lt;p&gt;I have difficulty to summarize this problem in a concise and precise way... Will update the summary once I find a good one.&lt;/p&gt;</comment>
                            <comment id="13725677" author="yhuai" created="Wed, 31 Jul 2013 20:22:30 +0000"  >&lt;p&gt;New summary has been updated&lt;/p&gt;</comment>
                            <comment id="13725724" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 21:07:47 +0000"  >&lt;p&gt;yhuai requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When deduplicate multiple SelectOperators, we should update RowResolver accordinly&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Merge remote-tracking branch &apos;origin/trunk&apos; into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SELECT tmp3.key, tmp3.value, tmp3.count&lt;br/&gt;
FROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count&lt;br/&gt;
      FROM (SELECT key, value&lt;br/&gt;
            FROM src) tmp1&lt;br/&gt;
      JOIN (SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; as count&lt;br/&gt;
            FROM src) tmp2&lt;br/&gt;
      ) tmp3;&lt;/p&gt;

&lt;p&gt;The plan is executable.&lt;/p&gt;

&lt;p&gt;SELECT tmp3.key, tmp3.value, tmp3.count&lt;br/&gt;
FROM (SELECT tmp1.key as key, tmp1.value as value, tmp2.count as count&lt;br/&gt;
      FROM (SELECT *&lt;br/&gt;
            FROM src) tmp1&lt;br/&gt;
      JOIN (SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; as count&lt;br/&gt;
            FROM src) tmp2&lt;br/&gt;
      ) tmp3;&lt;/p&gt;

&lt;p&gt;The plan is executable.&lt;/p&gt;

&lt;p&gt;SELECT tmp4.key, tmp4.value, tmp4.count&lt;br/&gt;
FROM (SELECT tmp2.key as key, tmp2.value as value, tmp3.count as count&lt;br/&gt;
      FROM (SELECT *&lt;br/&gt;
            FROM (SELECT key, value&lt;br/&gt;
                  FROM src) tmp1 ) tmp2&lt;br/&gt;
      JOIN (SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; as count&lt;br/&gt;
            FROM src) tmp3&lt;br/&gt;
      ) tmp4;&lt;/p&gt;

&lt;p&gt;The plan is not executable.&lt;/p&gt;

&lt;p&gt;The plan related to the MapJoin is&lt;/p&gt;

&lt;p&gt; Stage: Stage-5&lt;br/&gt;
    Map Reduce Local Work&lt;br/&gt;
      Alias -&amp;gt; Map Local Tables:&lt;br/&gt;
        tmp4:tmp2:tmp1:src&lt;br/&gt;
          Fetch Operator&lt;br/&gt;
            limit: -1&lt;br/&gt;
      Alias -&amp;gt; Map Local Operator Tree:&lt;br/&gt;
        tmp4:tmp2:tmp1:src&lt;br/&gt;
          TableScan&lt;br/&gt;
            alias: src&lt;br/&gt;
            Select Operator&lt;br/&gt;
              expressions:&lt;br/&gt;
                    expr: key&lt;br/&gt;
                    type: string&lt;br/&gt;
                    expr: value&lt;br/&gt;
                    type: string&lt;br/&gt;
              outputColumnNames: _col0, _col1&lt;br/&gt;
              HashTable Sink Operator&lt;br/&gt;
                condition expressions:&lt;br/&gt;
                  0&lt;br/&gt;
                  1 {_col0}&lt;br/&gt;
                handleSkewJoin: false&lt;br/&gt;
                keys:&lt;br/&gt;
                  0 []&lt;br/&gt;
                  1 []&lt;br/&gt;
                Position of Big Table: 1&lt;/p&gt;

&lt;p&gt;  Stage: Stage-4&lt;br/&gt;
    Map Reduce&lt;br/&gt;
      Alias -&amp;gt; Map Operator Tree:&lt;br/&gt;
        $INTNAME&lt;br/&gt;
            Map Join Operator&lt;br/&gt;
              condition map:&lt;br/&gt;
                   Inner Join 0 to 1&lt;br/&gt;
              condition expressions:&lt;br/&gt;
                0&lt;br/&gt;
                1 {_col0}&lt;br/&gt;
              handleSkewJoin: false&lt;br/&gt;
              keys:&lt;br/&gt;
                0 []&lt;br/&gt;
                1 []&lt;br/&gt;
              outputColumnNames: _col2&lt;br/&gt;
              Position of Big Table: 1&lt;br/&gt;
              Select Operator&lt;br/&gt;
                expressions:&lt;br/&gt;
                      expr: _col0&lt;br/&gt;
                      type: string&lt;br/&gt;
                      expr: _col1&lt;br/&gt;
                      type: string&lt;br/&gt;
                      expr: _col2&lt;br/&gt;
                      type: bigint&lt;br/&gt;
                outputColumnNames: _col0, _col1, _col2&lt;br/&gt;
                File Output Operator&lt;br/&gt;
                  compressed: false&lt;br/&gt;
                  GlobalTableId: 0&lt;br/&gt;
                  table:&lt;br/&gt;
                      input format: org.apache.hadoop.mapred.TextInputFormat&lt;br/&gt;
                      output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&lt;br/&gt;
      Local Work:&lt;br/&gt;
        Map Reduce Local Work&lt;/p&gt;

&lt;p&gt;The outputColumnNames of MapJoin is &apos;_col2&apos;. But it should be &apos;_col0, _col1, _col2&apos;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11901&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;br/&gt;
  ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28407/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/28407/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, yhuai&lt;/p&gt;</comment>
                            <comment id="13725783" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 22:19:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When deduplicate multiple SelectOperators, we should update RowResolver accordinly&quot;.&lt;/p&gt;

&lt;p&gt;  Looks good. Some minor comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java:399 You are not using this method. Lets not add this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java:104 Can you add a comment saying something like we need to set row resolver of parent from the child which is in parse context to preserve column mappings.&lt;br/&gt;
  Feel free to improve on the wording here.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11901&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, yhuai&lt;/p&gt;</comment>
                            <comment id="13725874" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 23:59:46 +0000"  >&lt;p&gt;yhuai updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When deduplicate multiple SelectOperators, we should update RowResolver accordinly&quot;.&lt;/p&gt;

&lt;p&gt;  addressed Ashutosh&apos;s comments&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11901&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11901?vs=36669&amp;amp;id=36693#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11901?vs=36669&amp;amp;id=36693#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;br/&gt;
  ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, yhuai&lt;/p&gt;</comment>
                            <comment id="13725875" author="yhuai" created="Thu, 1 Aug 2013 00:00:24 +0000"  >&lt;p&gt;addressed Ashutosh&apos;s comments&lt;/p&gt;</comment>
                            <comment id="13726060" author="hiveqa" created="Thu, 1 Aug 2013 05:41:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2749 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/268/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/268/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/268/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/268/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13726126" author="hiveqa" created="Thu, 1 Aug 2013 06:41:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595301/HIVE-4968.D11901.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2749 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.mapreduce.TestHCatHiveCompatibility.testPartedRead
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/270/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/270/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/270/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/270/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13727327" author="ashutoshc" created="Fri, 2 Aug 2013 04:55:43 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Yin!&lt;/p&gt;</comment>
                            <comment id="13727499" author="hudson" created="Fri, 2 Aug 2013 09:25:14 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #41 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/41/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/41/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13727538" author="hudson" created="Fri, 2 Aug 2013 10:22:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #113 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/113/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728039" author="hudson" created="Fri, 2 Aug 2013 20:16:13 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #322 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/322/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/322/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728422" author="hudson" created="Sat, 3 Aug 2013 03:24:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2240 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2240/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2240/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4968&quot; title=&quot;When deduplicating multiple SelectOperators, we should update RowResolver accordinly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4968&quot;&gt;&lt;del&gt;HIVE-4968&lt;/del&gt;&lt;/a&gt; : When deduplicating multiple SelectOperators, we should update RowResolver accordinly (Yin Huai via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1509543&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/NonBlockingOpDeDupProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796067" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:45 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12595274" name="HIVE-4968.D11901.1.patch" size="18071" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 21:07:48 +0000"/>
                            <attachment id="12595301" name="HIVE-4968.D11901.2.patch" size="20562" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 23:59:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mu5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>