<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:56:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-1535] alter partition should throw exception if the specified partition does not exist.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1535</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12471477">HIVE-1535</key>
            <summary>alter partition should throw exception if the specified partition does not exist.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Aug 2010 01:12:23 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:54 +0000</updated>
                            <resolved>Fri, 13 Aug 2010 15:20:48 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12898050" author="he yongqiang" created="Fri, 13 Aug 2010 02:37:13 +0000"  >&lt;p&gt;No negative tests included because hive is using local meta store, and throw exception if the partition does not exist. So there is no problem when running with local meta store.&lt;/p&gt;</comment>
                            <comment id="12898272" author="namit" created="Fri, 13 Aug 2010 15:20:48 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="12976684" author="cwsteinbach" created="Mon, 3 Jan 2011 10:46:07 +0000"  >&lt;p&gt;We could test this in TestRemoteHiveMetaStore, right?&lt;/p&gt;</comment>
                            <comment id="12999214" author="mosikri" created="Fri, 25 Feb 2011 04:35:42 +0000"  >&lt;p&gt;It seems some issue with my mailbox, could not able to send mail, so I&apos;m posting here :-&lt;/p&gt;

&lt;p&gt;As tested against latest Hive build and Hadoop 20.1.&lt;/p&gt;

&lt;p&gt;Kindly provide me the query or the list of queries for which this defect was tested against, as I see no test case in it and when I&apos;m running queries assuming which were being run by He Yongqiang while testing the scenarios, I&apos;m not able to re-produce the scenario.&lt;/p&gt;

&lt;p&gt;I&apos;m ran queries in below sequence :-&lt;/p&gt;

&lt;p&gt;1 . set hive.exec.drop.ignorenonexistent=false;&lt;/p&gt;

&lt;p&gt;2 . create table page_test(view INT, userid INT, page_url STRING) PARTITIONED BY(dt STRING, country STRING) STORED AS A TEXTFILE;&lt;/p&gt;

&lt;p&gt;3 . LOAD DATA LOCAL INPATH &apos;/home/test.txt&apos; OVERWRITE INTO TABLE page_test PARTITION(dt=&apos;10-10-2010&apos;,country=&apos;US&apos;);&lt;/p&gt;

&lt;p&gt;4 . LOAD DATA LOCAL INPATH &apos;/home/test.txt&apos; OVERWRITE INTO TABLE page_test PARTITION(dt=&apos;10-12-2010&apos;,country=&apos;IN&apos;);&lt;/p&gt;

&lt;p&gt;// This query fails during semantic analysis, since it is invalid partition and don&apos;t belong to partition spec of page_test.&lt;/p&gt;

&lt;p&gt;5 . ALTER TABLE page_test DROP PARTITION(invalid=&apos;23-02-2010&apos;,notexist=&apos;UK&apos;); &lt;br/&gt;
and when I turn ON the property hive.exec.drop.ignorenonexistent, hive is silent and OK.&lt;br/&gt;
So far good, and no issues.&lt;/p&gt;

&lt;p&gt;//However there is another case, in which partition is a valid spec but doesn&apos;t exists, as I have only &lt;span class=&quot;error&quot;&gt;&amp;#91;dt=&amp;#39;10-10-2010&amp;#39;,country=&amp;#39;US&amp;#39;&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;dt=&amp;#39;10-12-2010&amp;#39;,country=&amp;#39;IN&amp;#39;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;6 . ALTER TABLE page_test DROP PARTITION (dt=&apos;23-02-2010&apos;,country=&apos;UK&apos;); &lt;br/&gt;
but it doesn&apos;t results in any exception, I&apos;m getting OK response on console.&lt;/p&gt;

&lt;p&gt;As per this defect  fix, it should actually fail with console error message &lt;br/&gt;
Partition : [&lt;/p&gt;
{dt=&apos;23-02-2010&apos;,country=&apos;UK&apos;}
&lt;p&gt;] does not exist.&lt;/p&gt;

&lt;p&gt;I may be wrong, or not aware of enough use cases covering the scope of this defect, kindly help me providing some insights.&lt;/p&gt;</comment>
                            <comment id="12999215" author="cwsteinbach" created="Fri, 25 Feb 2011 04:46:07 +0000"  >&lt;p&gt;@Mohit: Please file a new JIRA ticket against this issue. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12451982" name="hive-1535.1.patch" size="674" author="he yongqiang" created="Fri, 13 Aug 2010 02:37:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>