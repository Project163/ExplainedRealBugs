<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:04:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-19506] Test suites timing out</title>
                <link>https://issues.apache.org/jira/browse/HIVE-19506</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently a lot of test suites are timing out consistently:&lt;/p&gt;

&lt;p&gt;TestDbNotificationListener - did not produce a TEST-*.xml file (likely timed out)&lt;br/&gt;
TestHCatHiveCompatibility - did not produce a TEST-*.xml file (likely timed out)&lt;br/&gt;
TestNegativeCliDriver - did not produce a TEST-*.xml file (likely timed out) &lt;br/&gt;
TestNonCatCallsWithCatalog - did not produce a TEST-*.xml file (likely timed out)&lt;br/&gt;
TestSequenceFileReadWrite - did not produce a TEST-*.xml file (likely timed out)&lt;br/&gt;
TestTxnExIm - did not produce a TEST-*.xml file (likely timed out)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13158803">HIVE-19506</key>
            <summary>Test suites timing out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgarg">Vineet Garg</assignee>
                                    <reporter username="vgarg">Vineet Garg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 May 2018 20:53:27 +0000</created>
                <updated>Tue, 27 Feb 2024 22:24:01 +0000</updated>
                            <resolved>Sun, 13 May 2018 21:36:58 +0000</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16472712" author="vihangk1" created="Fri, 11 May 2018 21:46:33 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgarg&quot; class=&quot;user-hover&quot; rel=&quot;vgarg&quot;&gt;vgarg&lt;/a&gt; Do&#160;these test work for you locally?&lt;/p&gt;</comment>
                            <comment id="16472713" author="vihangk1" created="Fri, 11 May 2018 21:48:18 +0000"  >&lt;p&gt;In order to increase the timeout value I will have to update the ptest server. Once you merge the patch in master branch I can update the ptestServer. I will need a restart of Ptest server though. I may affect a few patches (not the whole queue but a few patches) which are in the ptest queue.&lt;/p&gt;</comment>
                            <comment id="16472716" author="vgarg" created="Fri, 11 May 2018 21:52:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vihangk1&quot; class=&quot;user-hover&quot; rel=&quot;vihangk1&quot;&gt;vihangk1&lt;/a&gt; I haven&apos;t tried running these locally yet. I assumed it will time out for me locally since my system doesn&apos;t have the same parallelism or resources as jenkin server.&lt;br/&gt;
Let me know if I should first try running these tests locally, if not I can push the patch to master.&lt;/p&gt;</comment>
                            <comment id="16472723" author="vihangk1" created="Fri, 11 May 2018 21:55:29 +0000"  >&lt;p&gt;Atleast in case of &lt;tt&gt;TestDbNotificationListener&lt;/tt&gt; it should not time-out. Its a very light weight test if I remember correctly. Running them locally just to rule out if they are not really hanging would be good.&lt;/p&gt;</comment>
                            <comment id="16472725" author="vihangk1" created="Fri, 11 May 2018 21:57:03 +0000"  >&lt;p&gt;This batch seems to run together.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;2018-05-11 20:30:43,169 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;TestExecutor&amp;#93;&lt;/span&gt; ExecutionPhase.execute:96 PBatch: UnitTestBatch [name=247_UTBatch_itests__hcatalog-unit_6_tests, id=247, moduleName=itests/hcatalog-unit, batchSize=6, isParallel=true, testList=&lt;span class=&quot;error&quot;&gt;&amp;#91;TestPigHBaseStorageHandler, TestHCatClientNotification, TestHCatHiveThriftCompatibility, TestSequenceFileReadWrite, TestHCatHiveCompatibility, TestDbNotificationListener&amp;#93;&lt;/span&gt;]&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can you try running them together is they really timeout? It may be the case of one of these tests is long running for some reason.&lt;/p&gt;</comment>
                            <comment id="16472730" author="vihangk1" created="Fri, 11 May 2018 21:59:03 +0000"  >&lt;p&gt;In case of&#160;TestNonCatCallsWithCatalog it runs in this batch.&lt;/p&gt;

&lt;p&gt;UnitTestBatch [name=217_UTBatch_standalone-metastore_20_tests, id=217, moduleName=standalone-metastore, batchSize=20, isParallel=true, testList=&lt;span class=&quot;error&quot;&gt;&amp;#91;TestMetastoreSchemaTool, TestNonCatCallsWithCatalog, TestMetaStoreSchemaFactory, TestRetryingHMSHandler, TestAdminUser, TestJSONMessageDeserializer, TestCatalogNonDefaultSvr, TestObjectStoreInitRetry, TestMetaStoreUtils, TestHdfsUtils, TestHiveMetaStoreSchemaMethods, TestOldSchema, TestCachedStore, TestCatalogCaching, TestDeadline, TestMetaStoreListenersError, TestMetaStoreEventListenerOnlyOnCommit, TestMetaStoreSchemaInfo, TestMarkPartition, TestMetaStoreInitListener&amp;#93;&lt;/span&gt;]&lt;/p&gt;</comment>
                            <comment id="16472841" author="vgarg" created="Sat, 12 May 2018 00:39:37 +0000"  >&lt;p&gt;Thanks for the suggest &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vihangk1&quot; class=&quot;user-hover&quot; rel=&quot;vihangk1&quot;&gt;vihangk1&lt;/a&gt;. Running locally helped me figure out the culprit test (TestSequenceFileReadWrite). I have uploaded a patch disabling it. Lets see what modules are still timing out.&lt;/p&gt;</comment>
                            <comment id="16472842" author="vihangk1" created="Sat, 12 May 2018 00:45:59 +0000"  >&lt;p&gt;Cool .. Junit provides &lt;tt&gt;@Ignore&lt;/tt&gt;&#160;annotation which can also take in some documentation. So may be using &lt;tt&gt;@Ignore(&quot;Disabling this test. Check &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19506&quot; title=&quot;Test suites timing out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19506&quot;&gt;&lt;del&gt;HIVE-19506&lt;/del&gt;&lt;/a&gt; for more details&quot;)&lt;/tt&gt; would be better to keep track in the future instead of commenting the &lt;tt&gt;@Test&lt;/tt&gt; annotation.&lt;/p&gt;</comment>
                            <comment id="16473325" author="vgarg" created="Sun, 13 May 2018 01:11:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vihangk1&quot; class=&quot;user-hover&quot; rel=&quot;vihangk1&quot;&gt;vihangk1&lt;/a&gt; Thanks for suggestion. I uploaded a new patch with @Ignore. Can you look into it and do +1 if you think this is ok? Getting this in master should speed up ptests and help clearing up the queue.&lt;/p&gt;</comment>
                            <comment id="16473366" author="vihangk1" created="Sun, 13 May 2018 05:23:06 +0000"  >&lt;p&gt;+1 btw, you don&apos;t need to comment the &lt;tt&gt;@Ignore&lt;/tt&gt; annotation. Please feel free to merge the patch.&lt;/p&gt;</comment>
                            <comment id="16473555" author="jcamacho" created="Sun, 13 May 2018 16:35:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgarg&quot; class=&quot;user-hover&quot; rel=&quot;vgarg&quot;&gt;vgarg&lt;/a&gt;, I think we do not need to wait for ptest run to merge this one since the tests are just timing out.&lt;/p&gt;

&lt;p&gt;I believe &lt;tt&gt;TestNegativeCliDriver&lt;/tt&gt; may have another test timing out, but you can commit in different batches and just add the commit IDs to this issue to speed up the resolution.&lt;/p&gt;</comment>
                            <comment id="16473613" author="vgarg" created="Sun, 13 May 2018 19:22:24 +0000"  >&lt;p&gt;Pushed this to master.&lt;/p&gt;</comment>
                            <comment id="16473636" author="vgarg" created="Sun, 13 May 2018 21:21:35 +0000"  >&lt;p&gt;Found negative tests which are causing time out (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19516&quot; title=&quot;TestNegative merge_negative_5 and mm_concatenate are causing timeouts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19516&quot;&gt;&lt;del&gt;HIVE-19516&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="16485128" author="ashutoshc" created="Tue, 22 May 2018 23:14:31 +0000"  >&lt;p&gt;This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12923118" name="HIVE-19506.1.patch" size="1201" author="vgarg" created="Sat, 12 May 2018 00:38:21 +0000"/>
                            <attachment id="12923182" name="HIVE-19506.2.patch" size="1321" author="vgarg" created="Sun, 13 May 2018 01:10:08 +0000"/>
                            <attachment id="12923217" name="HIVE-19506.3.patch" size="1424" author="vgarg" created="Sun, 13 May 2018 19:09:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tmhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>