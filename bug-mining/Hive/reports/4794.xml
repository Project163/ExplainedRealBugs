<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:46:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-14296] Session count is not decremented when HS2 clients do not shutdown cleanly.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-14296</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;When a JDBC client like beeline abruptly disconnects from HS2, the session gets closed on the serverside but the session count reported in the logs is incorrect. It never gets decremented.&lt;br/&gt;
For example, I created 6 connections from the same instance of beeline to HS2.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-07-20T15:05:17,987  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-40] thrift.ThriftCLIService: Opened a session SessionHandle [28b225ee-204f-4b3e-b4fd-0039ef8e276e], current sessions: 1
.....
2016-07-20T15:05:24,239  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45] thrift.ThriftCLIService: Opened a session SessionHandle [1d267de8-ff9a-4e76-ac5c-e82c871588e7], current sessions: 2
.....
2016-07-20T15:05:25,710  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Opened a session SessionHandle [04d53deb-8965-464b-aa3f-7042304cfb54], current sessions: 3
.....
2016-07-20T15:05:26,795  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-55] thrift.ThriftCLIService: Opened a session SessionHandle [b4bb8b86-74e1-4e3c-babb-674d34ad1caf], current sessions: 4
2016-07-20T15:05:28,160  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-60] thrift.ThriftCLIService: Opened a session SessionHandle [6d3c3ed9-fadb-4673-8c15-3315b7e2995d], current sessions: 5
.....
2016-07-20T15:05:29,136  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-65] thrift.ThriftCLIService: Opened a session SessionHandle [88b630c0-f272-427d-8263-febfe2222f8d], current sessions: 6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When I CNTRL-C the beeline process, in the HS2 logs I see&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-07-20T15:11:37,858  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-55] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,858  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-40] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,858  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-65] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,858  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-60] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-55] thrift.ThriftCLIService: Closing the session: SessionHandle [b4bb8b86-74e1-4e3c-babb-674d34ad1caf]
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-40] thrift.ThriftCLIService: Closing the session: SessionHandle [28b225ee-204f-4b3e-b4fd-0039ef8e276e]
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-65] thrift.ThriftCLIService: Closing the session: SessionHandle [88b630c0-f272-427d-8263-febfe2222f8d]
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-60] thrift.ThriftCLIService: Closing the session: SessionHandle [6d3c3ed9-fadb-4673-8c15-3315b7e2995d]
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45] thrift.ThriftCLIService: Closing the session: SessionHandle [1d267de8-ff9a-4e76-ac5c-e82c871588e7]
2016-07-20T15:11:37,859  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Closing the session: SessionHandle [04d53deb-8965-464b-aa3f-7042304cfb54]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The next time I connect to HS2 via beeline, I see&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-07-20T15:14:33,679  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Client protocol version: HIVE_CLI_SERVICE_PROTOCOL_V8
2016-07-20T15:14:33,710  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] session.SessionState: Created HDFS directory: /tmp/hive/hive/d47759e8-df3a-4504-9f28-99ff5247352c
2016-07-20T15:14:33,725  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] session.SessionState: Created local directory: /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/folders/_3/0w477k4j5bjd6h967rw4vflw0000gp/T/ngangam/d47759e8-df3a-4504-9f28-99ff5247352c
2016-07-20T15:14:33,735  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] session.SessionState: Created HDFS directory: /tmp/hive/hive/d47759e8-df3a-4504-9f28-99ff5247352c/_tmp_space.db
2016-07-20T15:14:33,737  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] session.HiveSessionImpl: Operation log session directory is created: /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/folders/_3/0w477k4j5bjd6h967rw4vflw0000gp/T/ngangam/operation_logs/d47759e8-df3a-4504-9f28-99ff5247352c
2016-07-20T15:14:33,737  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Opened a session SessionHandle [d47759e8-df3a-4504-9f28-99ff5247352c], current sessions: 7
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So while the sessions itself are closed and cleaned up, the session count reported is not accurate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12991221">HIVE-14296</key>
            <summary>Session count is not decremented when HS2 clients do not shutdown cleanly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ngangam">Naveen Gangam</assignee>
                                    <reporter username="ngangam">Naveen Gangam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jul 2016 19:22:16 +0000</created>
                <updated>Wed, 6 Sep 2023 02:57:50 +0000</updated>
                            <resolved>Wed, 27 Jul 2016 20:10:01 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.1</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15386506" author="mohitsabharwal" created="Wed, 20 Jul 2016 19:51:02 +0000"  >&lt;p&gt;I&apos;m wondering if use of ThriftCLIService#sessionCount is redundant.&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t we be using SessionManager#getOpenSessionCount() count instead ?&lt;/p&gt;

&lt;p&gt;ThriftBinaryCLIService#deleteContext is already closing the session which will &lt;br/&gt;
remove the value from SessionManager#handleToSession &lt;/p&gt;

&lt;p&gt;So, it seems to me that ThriftCLIService#sessionCount is not telling us anything&lt;br/&gt;
that SessionManager#getOpenSessionCount() isn&apos;t already.&lt;/p&gt;</comment>
                            <comment id="15386536" author="ngangam" created="Wed, 20 Jul 2016 20:12:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt; Good point. It does seem redundant in terms of a count. One seems a bit more explicit than the other. The sessionCount currently is just being used for this log message. We can just as easily retrieve it from the SessionManager.&lt;/p&gt;

&lt;p&gt;Also I think there is some value in publishing this metric to the metrics system, just like open_connections. What do you think? Thanks&lt;/p&gt;</comment>
                            <comment id="15386585" author="mohitsabharwal" created="Wed, 20 Jul 2016 20:44:33 +0000"  >&lt;p&gt;Yeah, good to get rid of sessionCount&lt;/p&gt;

&lt;p&gt;I think the current code is making no distinction between a connection &amp;amp; a session.&lt;br/&gt;
MetricsConstant.OPEN_CONNECTIONS is getting increment/decremented&lt;br/&gt;
at connection level. But we are also closing the session when the connection&lt;br/&gt;
is detected to be closed/dropped (in deleteContext). Which implies that connection and session&lt;br/&gt;
are the same thing from p.o.v. of the metrics, which seems fine.&lt;/p&gt;

&lt;p&gt;Separately, looks like MetricsConstant.OPEN_CONNECTIONS is used in both&lt;br/&gt;
HS2 and HMS, which means this count includes both HS2 and HMS connections when&lt;br/&gt;
HMS is embedded in HS2. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; looks like we need to have a separate metric for HMS connections ?&lt;/p&gt;</comment>
                            <comment id="15387369" author="szehon" created="Thu, 21 Jul 2016 08:40:29 +0000"  >&lt;p&gt;Hm.. does the HMS metric get above 0 in embedded mode?  I don&apos;t remember, but I thought that it does not, and thus one number would suffice (it means open connection to that process from the outside).  Yea I think changing is an option too, but it would be backward incompatibile, so if not wrong in that scenario (like doubly-incremented) than maybe we dont need to?&lt;/p&gt;

&lt;p&gt;About this patch, looks like there is a flag that controls whether we should close the session?  Should the decrement be based on that flag?&lt;/p&gt;</comment>
                            <comment id="15387699" author="ngangam" created="Thu, 21 Jul 2016 13:42:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt; You are right, they appear to be treated the same. I thought the OPEN_CONNECTIONS metric was more inline with the log record that indicated number of connections to the HMS&lt;br/&gt;
&lt;tt&gt;INFO  hive.metastore: &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Handler-Pool: Thread-34&amp;#93;&lt;/span&gt;: Opened a connection to metastore, current connections: 2&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;As for the other concern about the metric being doubly incremented, my understanding is the same as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt;&apos;s. I thought we do not use thrift between HS2 and HMS in embedded mode. If true, would the HMS side count ever be incremented beyond 0?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; I agree, I dont know how I missed that. The decrement should have been conditionalized. But since we propose to make a change to use the getOpenSessionCount(), this should already be accounted for.&lt;/p&gt;

&lt;p&gt;To summarize the actions&lt;br/&gt;
1) Eliminate the sessionCount counter and use getOpenSessionCount() instead. Test and upload a new patch.&lt;br/&gt;
2) Test metric values for OPEN_CONNECTIONS when HMS is running in embedded mode within HS2 process.&lt;/p&gt;

&lt;p&gt;Sound good? &lt;/p&gt;</comment>
                            <comment id="15388046" author="ngangam" created="Thu, 21 Jul 2016 17:05:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt; Using the getOpenSessionCount() to record the open sessions is very timing-sensitive and causes non-linear/inconsistent results. There are different actions been perfomed between when this message gets logged and the session handle is removed from the map. For example, (when this message is printed before the closeSession() is called) I have a single beeline instance that creates 5 sessions and killing this instance produces the following.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-07-21T11:20:46,976  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-40] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-21T11:20:46,976  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-60] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-21T11:20:46,976  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-55] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-21T11:20:46,976  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-21T11:20:46,976  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Session disconnected without closing properly. 
2016-07-21T11:20:46,977  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-55] thrift.ThriftCLIService: Session closed: SessionHandle [a83ef567-c283-4630-8608-fa2ce122f105], current sessions:5
2016-07-21T11:20:46,977  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-50] thrift.ThriftCLIService: Session closed: SessionHandle [5732986a-5a39-48e7-8ff0-a0144ba3f1e5], current sessions:5
2016-07-21T11:20:46,977  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-60] thrift.ThriftCLIService: Session closed: SessionHandle [10de27d4-eb46-40b5-b960-8a5bb42406b1], current sessions:5
2016-07-21T11:20:46,977  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45] thrift.ThriftCLIService: Session closed: SessionHandle [3c5b1f31-20e5-4587-8501-c0291b230ff6], current sessions:5
2016-07-21T11:20:46,977  INFO [HiveServer2-Handler-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-40] thrift.ThriftCLIService: Session closed: SessionHandle [60a10fc0-1882-49a7-b046-eff2fd66c88b], current sessions:3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have seen other variations of this output. The output swings to the other extreme when I have the log statement after the closeSession() call. The count is near zero most times.&lt;/p&gt;

&lt;p&gt;The end result should be accurate though. If I create another session at the end, it will log the correct number of sessions. Thoughts?  &lt;/p&gt;</comment>
                            <comment id="15389261" author="szehon" created="Fri, 22 Jul 2016 10:06:29 +0000"  >&lt;p&gt;Sorry I missed the whole discussion above and was just looking at the attached patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  sure that sounds good to me, i&apos;ll try to take a look at new patch once its in.&lt;/p&gt;</comment>
                            <comment id="15390272" author="ngangam" created="Fri, 22 Jul 2016 22:04:26 +0000"  >&lt;p&gt;In-corporating the feedback from the review. &lt;br/&gt;
1) I removed the counter that tracks the session count. Instead am using the SessionManager.getOpenSessionCount()&lt;br/&gt;
2) The log record is now logged from the SessionManager.openSession() and closeSession() instead. This ensures more consistent counts in the logs.&lt;/p&gt;</comment>
                            <comment id="15391094" author="hiveqa" created="Sun, 24 Jul 2016 15:55:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12819730/HIVE-14296.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12819730/HIVE-14296.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10350 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMsgBusConnection - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testCheckPermissions
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testGetToken
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/624/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/624/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/624/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/624/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-624/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-624/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12819730 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15391899" author="ngangam" created="Mon, 25 Jul 2016 13:40:19 +0000"  >&lt;p&gt;The test failures are not related to the fix. So +1 for me. &lt;/p&gt;</comment>
                            <comment id="15392336" author="szehon" created="Mon, 25 Jul 2016 17:27:49 +0000"  >&lt;p&gt;+1 from my side&lt;/p&gt;</comment>
                            <comment id="15393132" author="mohitsabharwal" created="Tue, 26 Jul 2016 03:18:51 +0000"  >&lt;p&gt;+1 as well&lt;/p&gt;</comment>
                            <comment id="15394025" author="ngangam" created="Tue, 26 Jul 2016 16:17:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt;. Could one of you please commit when you get a chance? Thanks in advance&lt;/p&gt;</comment>
                            <comment id="15396259" author="aihuaxu" created="Wed, 27 Jul 2016 20:10:02 +0000"  >&lt;p&gt;Pushed to master. Thanks Naveen for the contribution and Szehon and Mohit for reviewing.&lt;/p&gt;</comment>
                            <comment id="15396270" author="ngangam" created="Wed, 27 Jul 2016 20:15:19 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;aihuaxu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mohitsabharwal&quot; class=&quot;user-hover&quot; rel=&quot;mohitsabharwal&quot;&gt;mohitsabharwal&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15396359" author="szehon" created="Wed, 27 Jul 2016 20:57:30 +0000"  >&lt;p&gt;Sorry missed this email &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, thanks Aihua for pushing it.&lt;/p&gt;</comment>
                            <comment id="15396367" author="ngangam" created="Wed, 27 Jul 2016 21:03:03 +0000"  >&lt;p&gt;&lt;br/&gt;
No worries. Thank you&lt;/p&gt;</comment>
                            <comment id="15530754" author="pvary" created="Wed, 28 Sep 2016 20:18:51 +0000"  >&lt;p&gt;Added a patch for branch 2.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12830780" name="HIVE-14296.2-branch-2.1.patch" size="2791" author="pvary" created="Wed, 28 Sep 2016 20:18:51 +0000"/>
                            <attachment id="12819730" name="HIVE-14296.2.patch" size="2868" author="ngangam" created="Fri, 22 Jul 2016 22:04:26 +0000"/>
                            <attachment id="12819183" name="HIVE-14296.patch" size="1484" author="ngangam" created="Wed, 20 Jul 2016 19:27:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31a13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12335838">2.1.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>