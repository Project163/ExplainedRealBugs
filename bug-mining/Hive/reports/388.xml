<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:55:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-1317] CombineHiveInputFormat throws exception when partition name contains special characters to URI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1317</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a partition name contains characters such as &apos;:&apos; and &apos;|&apos; which have special meaning in URI (hdfs uses URI internally for Path), CombineHiveInputFormat throws an exception. URI was created in CombineHiveInputFormat to compare a path belongs to a partition in partitionToPathInfo. We should bypass URI creation by just string comparisons. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12462718">HIVE-1317</key>
            <summary>CombineHiveInputFormat throws exception when partition name contains special characters to URI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 01:02:47 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:24 +0000</updated>
                            <resolved>Thu, 6 May 2010 19:07:41 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12859614" author="nzhang" created="Thu, 22 Apr 2010 01:04:48 +0000"  >&lt;p&gt;Uploading a patch changing the way paths are compared. &lt;/p&gt;</comment>
                            <comment id="12859660" author="namit" created="Thu, 22 Apr 2010 05:15:34 +0000"  >&lt;p&gt;The test outputs are not deterministic.&lt;/p&gt;

&lt;p&gt;About the change in CombineHiveInputFormat, cant the change be pushed to hiveInputFormat instead, and CHIF anyway is a subclass of HIF&lt;/p&gt;</comment>
                            <comment id="12861675" author="nzhang" created="Wed, 28 Apr 2010 04:48:47 +0000"  >&lt;p&gt;Uploading a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.2.patch. This fixes the test. &lt;/p&gt;

&lt;p&gt;Also talk with Namit offline, the CombineHiveInputFormat will get all paths under a partition directory due to CombineFileInputFormat.createPool(job, CombineFilter), in which CombineFilter will accept all files under the partition directory. That&apos;s why in CombineHiveInputFormat will we get the full path names from FileInputFormat.getInputPaths(). &lt;/p&gt;</comment>
                            <comment id="12861824" author="namit" created="Wed, 28 Apr 2010 15:17:10 +0000"  >&lt;p&gt;Ning, I am getting a compilation error after applying the patch -&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : variable File&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.CombineFilter&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;       pString = p.toString() + File.separator;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use or override a deprecated API.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:deprecation for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use unchecked or unsafe operations.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;/p&gt;</comment>
                            <comment id="12861852" author="nzhang" created="Wed, 28 Apr 2010 17:24:55 +0000"  >&lt;p&gt;Updated &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.2.patch with the fix. &lt;/p&gt;</comment>
                            <comment id="12861925" author="nzhang" created="Wed, 28 Apr 2010 20:04:23 +0000"  >&lt;p&gt;Found a bug in my local testing, I will update a new patch once it is fixed. &lt;/p&gt;</comment>
                            <comment id="12863679" author="nzhang" created="Tue, 4 May 2010 05:52:22 +0000"  >&lt;p&gt;attaching a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.3.patch that solves the previous bug that failed in grouping partitioning columns.&lt;/p&gt;</comment>
                            <comment id="12864657" author="nzhang" created="Thu, 6 May 2010 05:42:41 +0000"  >&lt;p&gt;uploading a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;.4.patch. Changes include&lt;br/&gt;
1) removed the code in CombineHiveInputFormatShim to remove hdfs:// when getting splits.&lt;br/&gt;
2) The hdfs:// is striped when constructing CombineFilter to facilitate the requirement in Hadoop CombineFileINputformat. &lt;/p&gt;</comment>
                            <comment id="12864885" author="namit" created="Thu, 6 May 2010 18:57:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12864887" author="namit" created="Thu, 6 May 2010 19:07:41 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12443103" name="HIVE-1317.2.patch" size="63543" author="nzhang" created="Wed, 28 Apr 2010 17:24:55 +0000"/>
                            <attachment id="12443547" name="HIVE-1317.3.patch" size="69800" author="nzhang" created="Tue, 4 May 2010 05:52:22 +0000"/>
                            <attachment id="12443825" name="HIVE-1317.4.patch" size="71824" author="nzhang" created="Thu, 6 May 2010 05:42:41 +0000"/>
                            <attachment id="12442499" name="HIVE-1317.patch" size="60621" author="nzhang" created="Thu, 22 Apr 2010 01:04:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lei7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>