<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:33:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10453] HS2 leaking open file descriptors when using UDFs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10453</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. create a custom function by&lt;br/&gt;
CREATE FUNCTION myfunc AS &apos;someudfclass&apos; using jar &apos;hdfs:///tmp/myudf.jar&apos;;&lt;br/&gt;
2. Create a simple jdbc client, just do &lt;br/&gt;
connect, &lt;br/&gt;
run simple query which using the function such as:&lt;br/&gt;
select myfunc(col1) from sometable&lt;br/&gt;
3. Disconnect.&lt;br/&gt;
Check open file for HiveServer2 by:&lt;br/&gt;
lsof -p HSProcID | grep myudf.jar&lt;br/&gt;
You will see the leak as:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java      28718 ychen  txt      REG                1,4        741 212977666 /private/var/folders/6p/7_njf13d6h144wldzbbsfpz80000gp/T/1bfe3de0-ac63-4eba-a725-6a9840f1f8d5_resources/myudf.jar
java      28718 ychen  330r     REG                1,4        741 212977666 /private/var/folders/6p/7_njf13d6h144wldzbbsfpz80000gp/T/1bfe3de0-ac63-4eba-a725-6a9840f1f8d5_resources/myudf.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12823254">HIVE-10453</key>
            <summary>HS2 leaking open file descriptors when using UDFs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ychena">Yongzhi Chen</assignee>
                                    <reporter username="ychena">Yongzhi Chen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2015 00:53:57 +0000</created>
                <updated>Mon, 21 Sep 2020 07:06:58 +0000</updated>
                            <resolved>Mon, 22 Jun 2015 08:47:47 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14517324" author="ychena" created="Tue, 28 Apr 2015 16:20:33 +0000"  >&lt;p&gt;The file is opened when:&lt;br/&gt;
Resource res = ucp.getResource(path, false);&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;URLClassLoader$1.run() line: 358 [local variables unavailable]	
URLClassLoader$1.run() line: 355	
AccessController.doPrivileged(PrivilegedExceptionAction&amp;lt;T&amp;gt;, AccessControlContext) line: not available [native method]	
URLClassLoader.findClass(String) line: 354	
URLClassLoader(ClassLoader).loadClass(String, boolean) line: 425	
URLClassLoader(ClassLoader).loadClass(String) line: 358	
Class&amp;lt;T&amp;gt;.forName0(String, boolean, ClassLoader) line: not available [native method]	
Class&amp;lt;T&amp;gt;.forName(String, boolean, ClassLoader) line: 270	
Registry.registerToSessionRegistry(String, FunctionInfo) line: 460	
Registry.getQualifiedFunctionInfo(String) line: 438	
Registry.getFunctionInfo(String) line: 250	
FunctionRegistry.getFunctionInfo(String) line: 465	
FunctionRegistry.impliesOrder(String) line: 1523	
CalcitePlanner(SemanticAnalyzer).doPhase1GetAllAggregations(ASTNode, HashMap&amp;lt;String,ASTNode&amp;gt;, List&amp;lt;ASTNode&amp;gt;) line: 526	

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;And closed by:&lt;br/&gt;
List&amp;lt;IOException&amp;gt; errors = ucp.closeLoaders();&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;URLClassLoader.close() line: 286 [local variables unavailable]	
JavaUtils.closeClassLoader(ClassLoader) line: 110	
JavaUtils.closeClassLoadersTo(ClassLoader, ClassLoader) line: 87	
SessionState.close() line: 1450	
HiveSessionImplwithUGI(HiveSessionImpl).close() line: 566	
HiveSessionImplwithUGI.close() line: 110	
NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]	
NativeMethodAccessorImpl.invoke(Object, Object[]) line: 57	
DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43	
Method.invoke(Object, Object...) line: 606	
HiveSessionProxy.invoke(Method, Object[]) line: 78	
HiveSessionProxy.access$000(HiveSessionProxy, Method, Object[]) line: 36	
HiveSessionProxy$1.run() line: 63	
AccessController.doPrivileged(PrivilegedExceptionAction&amp;lt;T&amp;gt;, AccessControlContext) line: not available [native method]	
Subject.doAs(Subject, PrivilegedExceptionAction&amp;lt;T&amp;gt;) line: 415	
UserGroupInformation.doAs(PrivilegedExceptionAction&amp;lt;T&amp;gt;) line: 1628	
HiveSessionProxy.invoke(Object, Method, Object[]) line: 59	
$Proxy23.close() line: not available	
SessionManager.closeSession(SessionHandle) line: 279	
CLIService.closeSession(SessionHandle) line: 237	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test sometimes fails sometimes succeeds, these are java API, not sure why it has random behaviors.&lt;/p&gt;</comment>
                            <comment id="14517460" author="ychena" created="Tue, 28 Apr 2015 17:21:47 +0000"  >&lt;p&gt;The leak will become worse if the program in a while loop: connect, query, close connection.  Any thoughts on this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt;?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="14517825" author="ychena" created="Tue, 28 Apr 2015 19:21:19 +0000"  >&lt;p&gt;If I add:       JavaUtils.closeClassLoader(loader); at the end of Registry.registerToSessionRegistry method, the leak problem is solved. Which close the loader right after use. Is that a solution? &lt;/p&gt;

&lt;p&gt;It seems that not all the loaders covered when JavaUtils.closeClassLoadersTo is called. Is that possible current loader has peers?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;
</comment>
                            <comment id="14520057" author="ychena" created="Wed, 29 Apr 2015 19:44:23 +0000"  >&lt;p&gt;Need code review&lt;/p&gt;</comment>
                            <comment id="14520087" author="ychena" created="Wed, 29 Apr 2015 19:55:28 +0000"  >&lt;p&gt;In a session, there are possible several classloaders used (for example different threads used for queries), at the session close time, it may not   get all the classloaders to close them which caused the leak. Fixed it by add all the classloaders used in registerToSessionRegistry method to a set and close them at the session close time. &lt;/p&gt;</comment>
                            <comment id="14521545" author="hiveqa" created="Thu, 30 Apr 2015 14:14:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12729275/HIVE-10453.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12729275/HIVE-10453.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 74 failed/errored test(s), 7959 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniSparkOnYarnCliDriver - did not produce a TEST-*.xml file
TestMiniTezCliDriver-auto_join30.q-vector_data_types.q-filter_join_breaktask.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-auto_sortmerge_join_13.q-alter_merge_2_orc.q-insert_values_dynamic_partitioned.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-dynpart_sort_optimization2.q-tez_bmj_schema_evolution.q-orc_merge5.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-enforce_order.q-auto_join1.q-vector_decimal_2.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-orc_vectorization_ppd.q-custom_input_output_format.q-vector_groupby_reduce.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-script_pipe.q-insert_values_non_partitioned.q-subquery_in.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-tez_union2.q-unionDistinct_1.q-auto_sortmerge_join_8.q-and-8-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-update_orig_table.q-union2.q-vectorized_bucketmapjoin1.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_coalesce.q-auto_sortmerge_join_7.q-dynamic_partition_pruning.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_decimal_10_0.q-vector_decimal_trailing.q-lvj_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_decimal_round.q-cbo_windowing.q-tez_schema_evolution.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_distinct_2.q-load_dyn_part2.q-join1.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_interval_2.q-orc_merge6.q-mapreduce1.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_partition_diff_num_cols.q-tez_joins_explain.q-vector_decimal_aggregate.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorization_10.q-vector_partitioned_date_time.q-vector_non_string_partition.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorization_13.q-update_after_multiple_inserts.q-mapreduce2.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorization_16.q-mapjoin_mapjoin.q-groupby2.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorized_parquet.q-vector_char_mapjoin1.q-tez_insert_overwrite_local_directory_1.q-and-12-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join24.q-vector_decimal_aggregate.q-bucketmapjoin_negative.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join30.q-vector_data_types.q-filter_join_breaktask.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join9.q-load_dyn_part12.q-union14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-auto_join_reordering_values.q-auto_sortmerge_join_7.q-insert1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-avro_decimal_native.q-bucketmapjoin12.q-ppd_outer_join2.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-bucketmapjoin10.q-skewjoinopt19.q-bucketmapjoin11.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-bucketmapjoin4.q-groupby7.q-input14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-bucketsortoptimize_insert_4.q-union_remove_15.q-union32.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-bucketsortoptimize_insert_7.q-enforce_order.q-join36.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-escape_distributeby1.q-join11.q-smb_mapjoin_10.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby4.q-timestamp_null.q-auto_join23.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_complex_types.q-groupby3_map.q-vectorization_10.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-union30.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join13.q-tez_joins_explain.q-order.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join2.q-script_pipe.q-groupby_map_ppr.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join39.q-stats12.q-union27.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_cond_pushdown_unqual4.q-union_remove_1.q-mapjoin_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-vectorized_rcfile_columnar.q-union12.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-load_dyn_part5.q-list_bucket_dml_2.q-ppd_join2.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-multigroupby_singlemr.q-union_remove_9.q-smb_mapjoin_21.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-parallel_join1.q-avro_joins.q-groupby_ppr.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_gby_join.q-stats2.q-groupby_rollup1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_transform.q-ptf_seqfile.q-join18.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ptf_general_queries.q-skewjoin_noskew.q-ptf_rcfile.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-skewjoinopt15.q-bucketmapjoin3.q-join35.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-skewjoinopt16.q-scriptfile1.q-udf_in_file.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-skewjoinopt3.q-multi_insert_mixed.q-auto_join18.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-skewjoinopt8.q-join_cond_pushdown_3.q-groupby7_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-smb_mapjoin_15.q-auto_sortmerge_join_13.q-auto_join18_multi_distinct.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-smb_mapjoin_4.q-auto_join19.q-mapreduce1.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-stats13.q-join_casesensitive.q-join8.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-date_udf.q-auto_join4.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-union_remove_7.q-skewjoin_union_remove_2.q-vectorization_13.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-union_top_level.q-bucketmapjoin_negative3.q-union_remove_23.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-vector_distinct_2.q-load_dyn_part2.q-bucketmapjoin7.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-vector_groupby_3.q-auto_sortmerge_join_4.q - did not produce a TEST-*.xml file
TestSparkCliDriver-vectorization_16.q-groupby10.q-timestamp_comparison.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hive.hcatalog.streaming.TestStreaming.testEndpointConnection
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3661/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3661/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3661/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3661/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3661/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3661/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 74 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12729275 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14522670" author="ychena" created="Fri, 1 May 2015 02:18:29 +0000"  >&lt;p&gt;The spark and tez test failures are related to some classloaders used in Registry.registerToSessionRegistry method&lt;br/&gt;
 can be used even session is closed which is very strange. Make more changes to separate client session based classloaders from the rest. &lt;/p&gt;</comment>
                            <comment id="14528979" author="ychena" created="Tue, 5 May 2015 18:20:29 +0000"  >&lt;p&gt;Re-attach the second patch for the pre-commit does not run it after 4 days. &lt;/p&gt;</comment>
                            <comment id="14530771" author="hiveqa" created="Wed, 6 May 2015 15:52:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12730845/HIVE-10453.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12730845/HIVE-10453.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 25 failed/errored test(s), 8900 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_parts
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_unencrypted_tbl
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_with_different_encryption_keys
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_load_data_to_encrypted_tables
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_select_read_only_encrypted_tbl
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_disallow_transform
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_droppartition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_sba_drop_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_alterpart_loc
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropView
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccess
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessing
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessingCustomSetWhitelistAppend
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testTempTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3780/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3780/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3780/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3780/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3780/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3780/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 25 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12730845 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14530803" author="ychena" created="Wed, 6 May 2015 16:17:36 +0000"  >&lt;p&gt;The failures are not related to the patch:&lt;br/&gt;
Excepting 1 test, the rest failures aged more than 20.&lt;br/&gt;
I tested the new failure test in my local machine, it passed:&lt;br/&gt;
Running org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 76.162 sec - in org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 5, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;csun&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, could you review the change? Thanks&lt;/p&gt;</comment>
                            <comment id="14531112" author="szehon" created="Wed, 6 May 2015 18:23:20 +0000"  >&lt;p&gt;Good catch, +1.  One minor question is &apos;CUDFLoader&apos; method name a typo, or intentional?&lt;/p&gt;</comment>
                            <comment id="14531637" author="ychena" created="Wed, 6 May 2015 23:11:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; for reviewing it. The CUDFLoader means classloader related to load udf jars. C means class. I am not good with names. &lt;/p&gt;</comment>
                            <comment id="14531646" author="szehon" created="Wed, 6 May 2015 23:15:28 +0000"  >&lt;p&gt;OK, as long as its not a typo and means something &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  No problem.&lt;/p&gt;</comment>
                            <comment id="14533135" author="szehon" created="Thu, 7 May 2015 18:21:59 +0000"  >&lt;p&gt;Committed to trunk, thanks Yongzhi!&lt;/p&gt;</comment>
                            <comment id="14533537" author="ychena" created="Thu, 7 May 2015 22:48:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14575314" author="vgumashta" created="Fri, 5 Jun 2015 22:02:48 +0000"  >&lt;p&gt;This is a good candidate for 1.2.1. I&apos;ll commit it to the branch as well. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;ychena&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; for getting this in.&lt;/p&gt;</comment>
                            <comment id="14575327" author="vgumashta" created="Fri, 5 Jun 2015 22:07:43 +0000"  >&lt;p&gt;Committed to 1.2.1.&lt;/p&gt;</comment>
                            <comment id="14578389" author="vgumashta" created="Tue, 9 Jun 2015 06:19:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;ychena&lt;/a&gt; In our internal testing, we found that closing the classloader removes certain jars from the classpath, resulting in ClassNotFoundException. I&apos;m reopening the jira and reverting the patch from the respective branches via the linked jira.&lt;/p&gt;</comment>
                            <comment id="14579593" author="vgumashta" created="Tue, 9 Jun 2015 21:29:45 +0000"  >&lt;p&gt;I&apos;m trying to reproduce this locally before I revert this (will add more comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10970&quot; title=&quot;Investigate HIVE-10453: HS2 leaking open file descriptors when using UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10970&quot;&gt;HIVE-10970&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="14595512" author="vgumashta" created="Mon, 22 Jun 2015 08:47:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;ychena&lt;/a&gt; I&apos;m marking this as resolved and continuing discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10970&quot; title=&quot;Investigate HIVE-10453: HS2 leaking open file descriptors when using UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10970&quot;&gt;HIVE-10970&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13100124">HIVE-17462</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12820898">HIVE-10329</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12701566">HIVE-6672</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12630265">HIVE-3969</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12836391">HIVE-10970</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12729275" name="HIVE-10453.1.patch" size="3643" author="ychena" created="Wed, 29 Apr 2015 19:44:04 +0000"/>
                            <attachment id="12730845" name="HIVE-10453.2.patch" size="5243" author="ychena" created="Wed, 6 May 2015 13:49:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dmtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>