<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:09:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-20786] Maven Build Failed with group id is too big </title>
                <link>https://issues.apache.org/jira/browse/HIVE-20786</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When executing&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn clean install -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Build Failed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Hive Storage API 2.7.0-SNAPSHOT .................... SUCCESS [  5.299 s]
[INFO] Hive 4.0.0-SNAPSHOT ................................ SUCCESS [  0.750 s]
[INFO] Hive Classifications ............................... SUCCESS [  1.057 s]
[INFO] Hive Shims Common .................................. SUCCESS [  3.882 s]
[INFO] Hive Shims 0.23 .................................... SUCCESS [  5.020 s]
[INFO] Hive Shims Scheduler ............................... SUCCESS [  2.587 s]
[INFO] Hive Shims ......................................... SUCCESS [  2.038 s]
[INFO] Hive Common ........................................ SUCCESS [  6.921 s]
[INFO] Hive Service RPC ................................... SUCCESS [  3.503 s]
[INFO] Hive Serde ......................................... SUCCESS [  6.322 s]
[INFO] Hive Standalone Metastore .......................... FAILURE [  0.557 s]
[INFO] Hive Standalone Metastore Common Code .............. SKIPPED
[INFO] Hive Metastore ..................................... SKIPPED
[INFO] Hive Vector-Code-Gen Utilities ..................... SKIPPED
[INFO] Hive Llap Common ................................... SKIPPED
[INFO] Hive Llap Client ................................... SKIPPED
[INFO] Hive Llap Tez ...................................... SKIPPED
[INFO] Hive Spark Remote Client ........................... SKIPPED
[INFO] Hive Metastore Server .............................. SKIPPED
[INFO] Hive Query Language ................................ SKIPPED
[INFO] Hive Llap Server ................................... SKIPPED
[INFO] Hive Service ....................................... SKIPPED
[INFO] Hive Accumulo Handler .............................. SKIPPED
[INFO] Hive JDBC .......................................... SKIPPED
[INFO] Hive Beeline ....................................... SKIPPED
[INFO] Hive CLI ........................................... SKIPPED
[INFO] Hive Contrib ....................................... SKIPPED
[INFO] Hive Druid Handler ................................. SKIPPED
[INFO] Hive HBase Handler ................................. SKIPPED
[INFO] Hive JDBC Handler .................................. SKIPPED
[INFO] Hive HCatalog ...................................... SKIPPED
[INFO] Hive HCatalog Core ................................. SKIPPED
[INFO] Hive HCatalog Pig Adapter .......................... SKIPPED
[INFO] Hive HCatalog Server Extensions .................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client .................. SKIPPED
[INFO] Hive HCatalog Webhcat .............................. SKIPPED
[INFO] Hive HCatalog Streaming ............................ SKIPPED
[INFO] Hive HPL/SQL ....................................... SKIPPED
[INFO] Hive Streaming ..................................... SKIPPED
[INFO] Hive Llap External Client .......................... SKIPPED
[INFO] Hive Shims Aggregator .............................. SKIPPED
[INFO] Hive Kryo Registrator .............................. SKIPPED
[INFO] Hive TestUtils ..................................... SKIPPED
[INFO] Hive Kafka Storage Handler ......................... SKIPPED
[INFO] Hive Packaging ..................................... SKIPPED
[INFO] Hive Metastore Tools ............................... SKIPPED
[INFO] Hive Metastore Tools common libraries .............. SKIPPED
[INFO] Hive metastore benchmarks .......................... SKIPPED
[INFO] Hive Upgrade Acid .................................. SKIPPED
[INFO] Hive Pre Upgrade Acid 4.0.0-SNAPSHOT ............... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 38.602 s
[INFO] Finished at: 2018-10-22T15:14:24+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:3.1.0:single (assemble) on project hive-standalone-metastore: Execution assemble of goal org.apache.maven.plugins:maven-assembly-plugin:3.1.0:single failed: group id &lt;span class=&quot;code-quote&quot;&gt;&apos;25950964&apos;&lt;/span&gt; is too big ( &amp;gt; 2097151 ). Use STAR or POSIX extensions to overcome &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; limit -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have tried to add &lt;b&gt;tarLongFileMode=posix&lt;/b&gt; in &lt;b&gt;standalone-metastore/pom.xml&lt;/b&gt;, but not success. What I added as below.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &amp;lt;plugin&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;maven-assembly-plugin&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${maven.assembly.plugin.version}&amp;lt;/version&amp;gt;
        &amp;lt;configuration&amp;gt;
            &amp;lt;tarLongFileMode&amp;gt;posix&amp;lt;/tarLongFileMode&amp;gt;
        &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment>&lt;p&gt;&#160;&lt;br/&gt;
OS: MacOS 10.13.6&lt;/p&gt;

&lt;p&gt;Java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.8.0_192&quot;&lt;/span&gt;
Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 1.8.0_192-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.192-b12, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maven:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T02:33:14+08:00)
Maven home: /usr/local/Cellar/maven/3.5.4/libexec
Java version: 1.8.0_192, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre
Default locale: en_CN, platform encoding: UTF-8
OS name: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac os x&quot;&lt;/span&gt;, version: &lt;span class=&quot;code-quote&quot;&gt;&quot;10.13.6&quot;&lt;/span&gt;, arch: &lt;span class=&quot;code-quote&quot;&gt;&quot;x86_64&quot;&lt;/span&gt;, family: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13193184">HIVE-20786</key>
            <summary>Maven Build Failed with group id is too big </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="PENG Zhengshuai">PENG Zhengshuai</reporter>
                        <labels>
                            <label>maven</label>
                    </labels>
                <created>Mon, 22 Oct 2018 07:22:18 +0000</created>
                <updated>Thu, 17 Nov 2022 08:55:15 +0000</updated>
                            <resolved>Thu, 15 Nov 2018 20:08:22 +0000</resolved>
                                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                                    <component>Standalone Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16659277" author="vihangk1" created="Mon, 22 Oct 2018 18:22:13 +0000"  >&lt;p&gt;Hmm .. this doesn&apos;t happen on my environment (or in the precommit jobs). Can you confirm if this happens to you on maven 3.3 as well?&lt;/p&gt;</comment>
                            <comment id="16659982" author="peng zhengshuai" created="Tue, 23 Oct 2018 02:44:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vihangk1&quot; class=&quot;user-hover&quot; rel=&quot;vihangk1&quot;&gt;vihangk1&lt;/a&gt;&#160;,&lt;/p&gt;

&lt;p&gt;Tested with maven 3.3.3, with Hive git commit &lt;b&gt;7765e90aad44747860b3c1adbe8a4857d864912d&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
~/Workspace/tmp/apache-maven-3.3.3/bin/mvn -version
Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T19:57:37+08:00)
Maven home: /Users/zhengshuai.peng/Workspace/tmp/apache-maven-3.3.3
Java version: 1.8.0_192, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre
Default locale: en_CN, platform encoding: UTF-8
OS name: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac os x&quot;&lt;/span&gt;, version: &lt;span class=&quot;code-quote&quot;&gt;&quot;10.13.6&quot;&lt;/span&gt;, arch: &lt;span class=&quot;code-quote&quot;&gt;&quot;x86_64&quot;&lt;/span&gt;, family: &lt;span class=&quot;code-quote&quot;&gt;&quot;mac&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But there is still the same error when building with maven 3.3.3.&lt;/p&gt;

&lt;p&gt;The maven build debug log has been attached, please have a look, thanks.&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16660999" author="szehon" created="Tue, 23 Oct 2018 17:19:55 +0000"  >&lt;p&gt;Yes I&apos;ve hit this error for awhile now.&#160; Uploading a patch that seems to solve it for me.&#160; Though I wasn&apos;t following so not sure why it was set on purpose to gnu before.&lt;/p&gt;</comment>
                            <comment id="16663013" author="vihangk1" created="Wed, 24 Oct 2018 23:45:46 +0000"  >&lt;p&gt;It is interesting to note that in packaging/pom.xml has &lt;tt&gt;&amp;lt;tarLongFileMode&amp;gt;gnu&amp;lt;/tarLongFileMode&amp;gt;&lt;/tt&gt;. Perhaps it was copied from the packaging/pom.xml to standalone-metastore module.&lt;/p&gt;</comment>
                            <comment id="16663139" author="wzheng" created="Thu, 25 Oct 2018 03:04:52 +0000"  >&lt;p&gt;I also came across this issue today. Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20800&quot; title=&quot;Use &amp;quot;posix&amp;quot; for property tarLongFileMode for maven-assembly-plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-20800&quot;&gt;&lt;del&gt;HIVE-20800&lt;/del&gt;&lt;/a&gt; without noticing this ticket. Thanks Vihang.&lt;/p&gt;

&lt;p&gt;Here&apos;s what I found:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://maven.apache.org/plugins/maven-assembly-plugin/faq.html#tarFileModes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-assembly-plugin/faq.html#tarFileModes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We do need to make sure it&apos;s &quot;posix&quot; since it&apos;s better than &quot;gnu&quot;. And we need the change for packaging/pom.xml as well.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16665929" author="vihangk1" created="Sat, 27 Oct 2018 05:39:01 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; can you update the packaging/pom.xml as well? Rest looks good to me. Thanks!&lt;/p&gt;</comment>
                            <comment id="16670502" author="szehon" created="Wed, 31 Oct 2018 18:29:41 +0000"  >&lt;p&gt;Hey Vihang for some reason when I just change it on packaging/pom.xml like that it gives an error &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.3:single (assemble) on project hive-packaging: Failed to create assembly: Error creating assembly archive bin: posix is not a legal value for this attribute -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I need to debug it further.&lt;/p&gt;</comment>
                            <comment id="16670912" author="szehon" created="Thu, 1 Nov 2018 00:04:31 +0000"  >&lt;p&gt;So the problem was the top-level packaging was using an old version of maven assembly before posix was even supported.  This latest patch builds but also upgrade the maven.assembly.plugin to the same one used in standalone-metastore.&lt;/p&gt;</comment>
                            <comment id="16670957" author="vihangk1" created="Thu, 1 Nov 2018 00:36:31 +0000"  >&lt;p&gt;Thanks for the fix. LGTM +1&lt;/p&gt;</comment>
                            <comment id="16688580" author="szehon" created="Thu, 15 Nov 2018 20:08:22 +0000"  >&lt;p&gt;Committed to master, thanks Vihang for the review&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13194000">HIVE-20800</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12946467" name="HIVE-20786.2.patch" size="2410" author="szehon" created="Thu, 1 Nov 2018 00:05:41 +0000"/>
                            <attachment id="12945248" name="HIVE-20786.patch" size="1172" author="szehon" created="Tue, 23 Oct 2018 17:20:26 +0000"/>
                            <attachment id="12945140" name="hive_build_error.log" size="5356546" author="PENG Zhengshuai" created="Tue, 23 Oct 2018 02:57:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zgyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>