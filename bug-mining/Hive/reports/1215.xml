<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:06:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4275] Hive does not differentiate scheme and authority in file uris</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4275</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the following set of queries:&lt;/p&gt;

&lt;p&gt;ALTER TABLE abc ADD PARTITION (x=&apos;0&apos;) LOCATION &apos;file:///foo&apos;;&lt;br/&gt;
ALTER TABLE abc ADD PARTITION (x=&apos;1&apos;) LOCATION &apos;/foo&apos;;&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from abc;&lt;/p&gt;

&lt;p&gt;Even though there are different files under these directories, depending on number of mappers, the count produces a value = num of mappers * num of files in the 2 directories. This is incorrect.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640193">HIVE-4275</key>
            <summary>Hive does not differentiate scheme and authority in file uris</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Apr 2013 00:25:51 +0000</created>
                <updated>Wed, 7 Aug 2013 23:07:43 +0000</updated>
                            <resolved>Tue, 16 Apr 2013 14:52:18 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13630016" author="vikram.dixit" created="Fri, 12 Apr 2013 12:37:01 +0000"  >&lt;p&gt;Without the change, hive generates count as 4 (when it should be 2).&lt;/p&gt;</comment>
                            <comment id="13630168" author="ashutoshc" created="Fri, 12 Apr 2013 15:18:45 +0000"  >&lt;p&gt;I get following error after I applied your patch and ran the included test.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit] Failed query: schemeAuthority.q
    [junit] mkdir: Incomplete HDFS URI, no host: hdfs:///tmp/test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13630573" author="vikram.dixit" created="Fri, 12 Apr 2013 20:18:01 +0000"  >&lt;p&gt;The test was actually for TestMinimrCliDriver. I had missed the changes in build-common.xml.&lt;/p&gt;</comment>
                            <comment id="13630576" author="vikram.dixit" created="Fri, 12 Apr 2013 20:19:05 +0000"  >&lt;p&gt;Review board request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/10429/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/10429/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13631507" author="ashutoshc" created="Mon, 15 Apr 2013 05:18:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13631946" author="ashutoshc" created="Mon, 15 Apr 2013 18:02:54 +0000"  >&lt;p&gt;Following tests failed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Test org.apache.hadoop.hive.ql.exec.TestExecDriver FAILED&lt;/li&gt;
	&lt;li&gt;Test org.apache.hadoop.hive.ql.exec.TestOperators FAILED&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632470" author="vikram.dixit" created="Tue, 16 Apr 2013 01:33:15 +0000"  >&lt;p&gt;Fixes issue in test cases.&lt;/p&gt;</comment>
                            <comment id="13632471" author="vikram.dixit" created="Tue, 16 Apr 2013 01:33:37 +0000"  >&lt;p&gt;Addressed issues mentioned by Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13632508" author="ashutoshc" created="Tue, 16 Apr 2013 02:42:57 +0000"  >&lt;p&gt;+1 running test will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13632894" author="ashutoshc" created="Tue, 16 Apr 2013 14:52:18 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Vikram!&lt;/p&gt;</comment>
                            <comment id="13633057" author="hudson" created="Tue, 16 Apr 2013 17:41:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #162 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/162/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/162/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4275&quot; title=&quot;Hive does not differentiate scheme and authority in file uris&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4275&quot;&gt;&lt;del&gt;HIVE-4275&lt;/del&gt;&lt;/a&gt; : Hive does not differentiate scheme and authority in file uris (Vikram Dixit via Ashutosh Chauhan) (Revision 1468445)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468445&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestOperators.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/schemeAuthority.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/schemeAuthority.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13633656" author="hudson" created="Wed, 17 Apr 2013 01:28:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2067 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2067/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2067/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4275&quot; title=&quot;Hive does not differentiate scheme and authority in file uris&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4275&quot;&gt;&lt;del&gt;HIVE-4275&lt;/del&gt;&lt;/a&gt; : Hive does not differentiate scheme and authority in file uris (Vikram Dixit via Ashutosh Chauhan) (Revision 1468445)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468445&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468445&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestOperators.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/schemeAuthority.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/schemeAuthority.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637300" author="navis" created="Sat, 20 Apr 2013 16:37:56 +0000"  >&lt;p&gt;hadoop-0.20.2-cdh3u1 is not working with this patch. After upgrading to cdh3u6, it worked.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12662509">HIVE-5023</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12578497" name="HIVE-4275.2.patch" size="7346" author="vikram.dixit" created="Fri, 12 Apr 2013 20:18:01 +0000"/>
                            <attachment id="12578852" name="HIVE-4275.3.patch" size="14667" author="vikram.dixit" created="Tue, 16 Apr 2013 01:33:15 +0000"/>
                            <attachment id="12578856" name="HIVE-4275.4.patch" size="14434" author="vikram.dixit" created="Tue, 16 Apr 2013 01:58:28 +0000"/>
                            <attachment id="12578409" name="HIVE-4275.patch" size="5566" author="vikram.dixit" created="Fri, 12 Apr 2013 12:37:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jbr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>