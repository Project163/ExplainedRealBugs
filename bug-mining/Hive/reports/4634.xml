<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:45:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-13973] Extend support for other primitive types in windowing expressions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13973</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Following windowing query using boolean column in partitioning clause&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; all100k(t &lt;span class=&quot;code-keyword&quot;&gt;tinyint&lt;/span&gt;, si &lt;span class=&quot;code-keyword&quot;&gt;smallint&lt;/span&gt;, i &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;,
    b &lt;span class=&quot;code-keyword&quot;&gt;bigint&lt;/span&gt;, f &lt;span class=&quot;code-keyword&quot;&gt;float&lt;/span&gt;, d &lt;span class=&quot;code-keyword&quot;&gt;double&lt;/span&gt;, s &lt;span class=&quot;code-keyword&quot;&gt;string&lt;/span&gt;,
    dc &lt;span class=&quot;code-keyword&quot;&gt;decimal&lt;/span&gt;(38,18), bo &lt;span class=&quot;code-keyword&quot;&gt;boolean&lt;/span&gt;, v &lt;span class=&quot;code-keyword&quot;&gt;varchar&lt;/span&gt;(25),
    &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;char&lt;/span&gt;(25), ts &lt;span class=&quot;code-keyword&quot;&gt;timestamp&lt;/span&gt;, dt &lt;span class=&quot;code-keyword&quot;&gt;date&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;rank&lt;/span&gt;() &lt;span class=&quot;code-keyword&quot;&gt;over&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; i &lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; bo  &lt;span class=&quot;code-keyword&quot;&gt;nulls&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;first&lt;/span&gt;, b &lt;span class=&quot;code-keyword&quot;&gt;nulls&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;last&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;between&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;unbounded&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;preceding&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;current&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;row&lt;/span&gt;),
    &lt;span class=&quot;code-keyword&quot;&gt;row_number&lt;/span&gt;()  &lt;span class=&quot;code-keyword&quot;&gt;over&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; bo &lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; si &lt;span class=&quot;code-keyword&quot;&gt;desc&lt;/span&gt;, b &lt;span class=&quot;code-keyword&quot;&gt;nulls&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;last&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;between&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;unbounded&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;preceding&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;unbounded&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;following&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; fv
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; all100k &lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; fv;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;fails with the following error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: SemanticException Failed to breakup Windowing invocations into Groups. At least 1 group must only depend on input columns. Also check for circular dependencies.
Underlying error: Primitve type BOOLEAN not supported in Value Boundary expression
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12976880">HIVE-13973</key>
            <summary>Extend support for other primitive types in windowing expressions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamacho">Jes&#250;s Camacho Rodr&#237;guez</assignee>
                                    <reporter username="jcamacho">Jes&#250;s Camacho Rodr&#237;guez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jun 2016 14:37:12 +0000</created>
                <updated>Tue, 27 Feb 2024 22:23:56 +0000</updated>
                            <resolved>Thu, 9 Jun 2016 09:30:02 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15320791" author="ashutoshc" created="Wed, 8 Jun 2016 15:52:39 +0000"  >&lt;ul&gt;
	&lt;li&gt;Do we need to worry about other primitive types such as char/varchar/date/timestamp ?&lt;/li&gt;
	&lt;li&gt;You may use alltypesorc table as a test table which comes pre-populated with data for this test.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15320804" author="jcamacho" created="Wed, 8 Jun 2016 15:55:24 +0000"  >&lt;p&gt;Thanks Ashutosh!&lt;/p&gt;

&lt;p&gt;Yes, it makes sense; I will add new test cases.&lt;/p&gt;

&lt;p&gt;I was exploring the code and I could not really spot any reason for this implementation limitation. Any ideas?&lt;/p&gt;</comment>
                            <comment id="15320816" author="ashutoshc" created="Wed, 8 Jun 2016 15:59:25 +0000"  >&lt;p&gt;Likely reason is these types were added to Hive after first support for windowing went in.&lt;/p&gt;</comment>
                            <comment id="15320823" author="jcamacho" created="Wed, 8 Jun 2016 16:03:38 +0000"  >&lt;p&gt;Oh, alright. I will add support for other primitive types then and add test cases accordingly.&lt;/p&gt;</comment>
                            <comment id="15320935" author="hiveqa" created="Wed, 8 Jun 2016 17:02:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12808945/HIVE-13973.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12808945/HIVE-13973.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10224 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_func1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testPermFunc
org.apache.hive.jdbc.TestJdbcWithMiniMr.testPermFunc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/49/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/49/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/49/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/49/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-49/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-49/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12808945 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15321185" author="jcamacho" created="Wed, 8 Jun 2016 18:45:52 +0000"  >&lt;p&gt;New patch supporting additional types and adding test cases.&lt;/p&gt;</comment>
                            <comment id="15321578" author="ashutoshc" created="Wed, 8 Jun 2016 22:33:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15321811" author="hiveqa" created="Thu, 9 Jun 2016 02:48:38 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12808998/HIVE-13973.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12808998/HIVE-13973.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10223 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/55/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/55/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/55/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/55/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-55/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-55/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12808998 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15322229" author="jcamacho" created="Thu, 9 Jun 2016 09:30:02 +0000"  >&lt;p&gt;Pushed to master, branch-2.1. Thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15323957" author="lefty@hortonworks.com" created="Fri, 10 Jun 2016 06:32:54 +0000"  >&lt;p&gt;Should this be documented in the wiki?  If so, please add a TODOC2.1 label.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+WindowingAndAnalytics&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Windowing and Analytics &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15324101" author="jcamacho" created="Fri, 10 Jun 2016 08:58:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt;, it is not really necessary, in the wiki we mention we support primitive types; problem was that some primitive types were added to Hive after the windowing logic was added, so it should have been updated as it has been done now. Thanks&lt;/p&gt;</comment>
                            <comment id="15337645" author="lefty@hortonworks.com" created="Sat, 18 Jun 2016 07:55:47 +0000"  >&lt;p&gt;Okay, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12808998" name="HIVE-13973.01.patch" size="8979" author="jcamachorodriguez" created="Wed, 8 Jun 2016 18:45:52 +0000"/>
                            <attachment id="12808945" name="HIVE-13973.patch" size="3721" author="jcamachorodriguez" created="Wed, 8 Jun 2016 14:47:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z5vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>