<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:32:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5672] Insert with custom separator not supported for non-local directory</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5672</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3682&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3682&lt;/a&gt; is great but non local directory don&apos;t seem to be supported:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert overwrite directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/test-02&apos;&lt;/span&gt;
row format delimited
FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;:&apos;&lt;/span&gt;
select description FROM sample_07
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; compiling statement: FAILED: ParseException line 2:0 cannot recognize input near &lt;span class=&quot;code-quote&quot;&gt;&apos;row&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;format&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;delimited&apos;&lt;/span&gt; in select clause
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This works (with &apos;local&apos;):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert overwrite local directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/test-02&apos;&lt;/span&gt;
row format delimited
FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;:&apos;&lt;/span&gt;
select code, description FROM sample_07
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12676177">HIVE-5672</key>
            <summary>Insert with custom separator not supported for non-local directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nemon">Nemon Lou</assignee>
                                    <reporter username="romainr">Romain Rigaux</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2013 17:46:41 +0000</created>
                <updated>Tue, 16 Feb 2016 10:56:32 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 21:10:14 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>1.0.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>5</votes>
                                    <watches>18</watches>
                                                                                                                <comments>
                            <comment id="13808371" author="xuefuz" created="Tue, 29 Oct 2013 19:58:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romainr&quot; class=&quot;user-hover&quot; rel=&quot;romainr&quot;&gt;romainr&lt;/a&gt;, do you plan to work on this? If not, I can give it a try. Thanks. &lt;/p&gt;</comment>
                            <comment id="13808494" author="romainr" created="Tue, 29 Oct 2013 21:41:10 +0000"  >&lt;p&gt;Feel free to take it, thanks!&lt;/p&gt;</comment>
                            <comment id="13832358" author="romainr" created="Tue, 26 Nov 2013 06:33:59 +0000"  >&lt;p&gt;Any update?&lt;/p&gt;</comment>
                            <comment id="13833256" author="xuefuz" created="Wed, 27 Nov 2013 00:09:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romainr&quot; class=&quot;user-hover&quot; rel=&quot;romainr&quot;&gt;romainr&lt;/a&gt; Does the comment here give you satisfactory solution?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3682?focusedCommentId=13831773&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13831773&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3682?focusedCommentId=13831773&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13831773&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13834020" author="romainr" created="Wed, 27 Nov 2013 18:42:34 +0000"  >&lt;p&gt;We would also need to create the table columns manually, and delete the table afterward, which is not trivial.&lt;/p&gt;

&lt;p&gt;I think for now we will probably pull everything from the resultset and insert manually the separator. We will see how scalable it is (main worries).&lt;/p&gt;</comment>
                            <comment id="13900031" author="viji_r" created="Thu, 13 Feb 2014 05:49:11 +0000"  >&lt;p&gt;Such a workaround as noted in that comment is painful as explained by Amareshwari at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6410&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6410&lt;/a&gt; (schema knowledge requirement). We can mark either one as dupe but we do need this feature.&lt;/p&gt;</comment>
                            <comment id="14170639" author="jiangbinglover" created="Tue, 14 Oct 2014 07:56:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; Can hive support this feature on later version? &lt;/p&gt;</comment>
                            <comment id="14170920" author="xuefuz" created="Tue, 14 Oct 2014 13:34:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jianbginglover&quot; class=&quot;user-hover&quot; rel=&quot;jianbginglover&quot;&gt;jianbginglover&lt;/a&gt; As far as I know, this is not supported yet in Hive. Please feel free to work on this if you like. Thanks.&lt;/p&gt;</comment>
                            <comment id="14179433" author="scorpio90m" created="Wed, 22 Oct 2014 00:58:59 +0000"  >&lt;p&gt;Can anyone please tell me if this works in Hive 0.13? It is referred here: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but when I tried it still doesn&apos;t support it in non-local directory. Also, lines terminated by is only supported for &apos;\n&apos;. Is this true even for the latest version. Thank you so much for your help.&lt;/p&gt;</comment>
                            <comment id="14358259" author="nemon" created="Thu, 12 Mar 2015 08:04:36 +0000"  >&lt;p&gt;Uploading a patch that mainly comes from hive-6410.&lt;br/&gt;
The test result part is removed.&lt;/p&gt;</comment>
                            <comment id="14359232" author="hiveqa" created="Thu, 12 Mar 2015 19:37:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12704117/HIVE-5672.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12704117/HIVE-5672.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3019/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3019/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3019/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3019/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3019/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3019/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3019/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/scheduler/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java.orig itests/target itests/thirdparty itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-jmh/target itests/hive-unit/target itests/custom-serde/target itests/util/target itests/qtest-spark/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target accumulo-handler/target hwi/target common/target common/src/gen spark-client/target contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientpositive/alter_table_invalidate_column_stats.q.out ql/src/test/queries/clientpositive/alter_table_invalidate_column_stats.q
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1666279.

At revision 1666279.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
patch: **** malformed patch at line 337:  

patch: **** malformed patch at line 337:  

patch: **** malformed patch at line 337:  

The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12704117 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14360690" author="nemon" created="Fri, 13 Mar 2015 17:19:39 +0000"  >&lt;p&gt;Uploading a new patch  that contains test result.&lt;/p&gt;</comment>
                            <comment id="14361139" author="hiveqa" created="Fri, 13 Mar 2015 21:34:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12704457/HIVE-5672.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12704457/HIVE-5672.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7765 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_context_ngrams
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3036/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3036/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3036/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3036/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3036/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3036/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12704457 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14496403" author="sushanth" created="Wed, 15 Apr 2015 15:43:27 +0000"  >&lt;p&gt;Adding additional doc note here : &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries&lt;/a&gt; needs to be updated to note that delimiters are not currently supported for non-LOCAL writes, and once this patch goes in, we should note which version fixed that in that doc.&lt;/p&gt;</comment>
                            <comment id="14499023" author="lefty@hortonworks.com" created="Fri, 17 Apr 2015 00:12:31 +0000"  >&lt;p&gt;How&apos;s this?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;As of Hive 0.11.0 the separator used can be specified, in earlier versions it was always the ^A character (\001). However, custom separators are currently only supported for LOCAL writes; this is a bug that will be fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5672&quot; title=&quot;Insert with custom separator not supported for non-local directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5672&quot;&gt;&lt;del&gt;HIVE-5672&lt;/del&gt;&lt;/a&gt;&#65279;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Notes.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DML &amp;#8211; Writing data into the filesystem from queries &amp;#8211; Notes &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14508233" author="sushanth" created="Thu, 23 Apr 2015 00:51:32 +0000"  >&lt;p&gt;(Setting to patch-available for tests)&lt;/p&gt;</comment>
                            <comment id="14508403" author="nemon" created="Thu, 23 Apr 2015 03:46:24 +0000"  >&lt;p&gt;Re base the patch.&lt;br/&gt;
the .out file will be added later.&lt;/p&gt;</comment>
                            <comment id="14509385" author="hiveqa" created="Thu, 23 Apr 2015 17:14:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12727622/HIVE-5672.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12727622/HIVE-5672.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 8729 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3545/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3545/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3545/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3545/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3545/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3545/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12727622 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14509440" author="xuefuz" created="Thu, 23 Apr 2015 17:50:54 +0000"  >&lt;p&gt;Looking at the patch, I&apos;m not sure if I understand the changes correctly. I can see that we modified the grammar to make &quot;local&quot; optional and the rest is about refactoring. I&apos;m not sure if this is sufficient. Did I miss anything?&lt;/p&gt;

&lt;p&gt;Also, instead of adding a new grammar rule, we should combine it with the old one. We just need to make KW_LOCAL optional.&lt;/p&gt;</comment>
                            <comment id="14509927" author="sushanth" created="Thu, 23 Apr 2015 22:05:52 +0000"  >&lt;p&gt;Agree with Xuefu - the grammar might be simplified by simply making KW_LOCAL optional, since there is no other place in hive code that seems to be making use of TOK_LOCAL_DIR.&lt;/p&gt;

&lt;p&gt;To wit, we could have :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;KW_LOCAL? KW_DIRECTORY StringLiteral tableRowFormat? tableFileFormat? -&amp;gt; ^(TOK_DIR StringLiteral tableRowFormat? tableFileFormat?)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This does mean that if at some point, we do still want to have a differentiation between local and non-local writes, we have to go back to Nemon&apos;s approach, and his approach is definitely the &quot;least damage done&quot; approach of not trying to remove something that already exists, so his patch makes sense from that point-of-view.&lt;/p&gt;

&lt;p&gt;We have two approaches here, and I&apos;m +1 on both:&lt;/p&gt;

&lt;p&gt;a) Nemon&apos;s approach&lt;br/&gt;
b) Xuefu&apos;s suggestion : to make KW_LOCAL optional, and then emiting a TOK_DIR instead of a TOK_LOCAL_DIR for that line, and removing any other occurrences of TOK_LOCAL_DIR. We might eventually add it back because we want it, but it&apos;s duplicate code pruning in the meanwhile.&lt;/p&gt;</comment>
                            <comment id="14510762" author="nemon" created="Fri, 24 Apr 2015 10:12:19 +0000"  >&lt;p&gt;Uploading a new patch using a simplified grammar .&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;     (temp=KW_LOCAL)? KW_DIRECTORY StringLiteral tableRowFormat? tableFileFormat?&lt;br/&gt;
     -&amp;gt;{$temp != null}? ^(TOK_LOCAL_DIR StringLiteral tableRowFormat? tableFileFormat?)&lt;br/&gt;
     -&amp;gt;                 ^(TOK_DIR StringLiteral tableRowFormat? tableFileFormat?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The TOK_LOCAL_DIR has to be kept,because SemanticAnalyzer using this token to decide FileSystem type.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          qb.getMetaData().setDestForAlias(name, fname,
              (ast.getToken().getType() == HiveParser.TOK_DIR));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;at line 1794 of SemanticAnalyzer.java&lt;/p&gt;</comment>
                            <comment id="14511006" author="nemon" created="Fri, 24 Apr 2015 13:12:27 +0000"  >&lt;p&gt;This patch only adds the grammar support and does some code reflact.And it works as expected.Hive can write to hdfs directory after applying this patch.&lt;/p&gt;</comment>
                            <comment id="14511084" author="xuefuz" created="Fri, 24 Apr 2015 13:49:48 +0000"  >&lt;p&gt;Here is what I have about the combined grammar:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      (local = KW_LOCAL)? KW_DIRECTORY StringLiteral tableRowFormat? tableFileFormat?
        -&amp;gt; ^(TOK_DIR StringLiteral $local? tableRowFormat? tableFileFormat?)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With this, I&apos;m sure SemanticAnalyzer has the information about whether the directory is local.&lt;/p&gt;
</comment>
                            <comment id="14512316" author="nemon" created="Sat, 25 Apr 2015 07:35:08 +0000"  >&lt;p&gt;I have tried both Sushanth&apos;s and  Xuefu &apos;s  solution of simplified grammar ,they both treated local directory wrongly as DFS directory.&lt;br/&gt;
Some analysis from SemanticAnalyzer.java&#65306;&lt;br/&gt;
The genFileSinkPlan method use dest_type from QBMetaData to determine the destination of final output.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    QBMetaData qbm = qb.getMetaData();
    &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; dest_type = qbm.getDestTypeForAlias(dest);
    &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (dest_type.intValue()) {
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; QBMetaData.DEST_TABLE: {
    ...  
    }
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; QBMetaData.DEST_PARTITION:{
   ... 
   }
&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; QBMetaData.DEST_LOCAL_FILE:
      isLocal = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
      &lt;span class=&quot;code-comment&quot;&gt;// fall through
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; QBMetaData.DEST_DFS_FILE: {
      ...
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isLocal) {
        ...
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        ...
    }
 &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SemanticException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown destination type: &quot;&lt;/span&gt; + dest_type);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The dest_type from QBMetaData is determined by this method :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  qb.getMetaData().setDestForAlias(name, fname,
              (ast.getToken().getType() == HiveParser.TOK_DIR));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code for setDestForAlias is this :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setDestForAlias(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; alias, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fname, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDfsFile) {
    nameToDestType.put(alias, isDfsFile ? &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf(DEST_DFS_FILE)
        : &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf(DEST_LOCAL_FILE));
    nameToDestFile.put(alias, fname);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The simplified grammar proposed by  Sushanth or Xuefu can not tell which kind of directory is used (DEST_DFS_FILE or DEST_LOCAL_FILE).&lt;br/&gt;
Maybe i understood something wrong,please correct me. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14512520" author="xuefuz" created="Sat, 25 Apr 2015 14:48:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nemon&quot; class=&quot;user-hover&quot; rel=&quot;nemon&quot;&gt;nemon&lt;/a&gt;, I think you need to change semantic analyzer in addition to the grammar in order to make it work. Since the grammar changes, the AST generated will also change. Thus, semantic analyzer that processes the AST will need to change accordingly in order to get the correct information such as hdfs vs local.&lt;/p&gt;

&lt;p&gt;Specifically, you need to change the following code block:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          qb.getMetaData().setDestForAlias(name, fname,
              (ast.getToken().getType() == HiveParser.TOK_DIR));

          CreateTableDesc localDirectoryDesc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CreateTableDesc();
          &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; localDirectoryDescIsSet = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numCh = ast.getChildCount();
          &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; num = 1; num &amp;lt; numCh ; num++){
            ASTNode child = (ASTNode) ast.getChild(num);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (child != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
              &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (storageFormat.fillStorageFormat(child)) {
                localDirectoryDesc.setOutputFormat(storageFormat.getOutputFormat());
                localDirectoryDesc.setSerName(storageFormat.getSerde());
                localDirectoryDescIsSet = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
              }
              &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (child.getToken().getType()) {
                &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; HiveParser.TOK_TABLEROWFORMAT:
                  rowFormatParams.analyzeRowFormat(child);
                  localDirectoryDesc.setFieldDelim(rowFormatParams.fieldDelim);
                  localDirectoryDesc.setLineDelim(rowFormatParams.lineDelim);
                  localDirectoryDesc.setCollItemDelim(rowFormatParams.collItemDelim);
                  localDirectoryDesc.setMapKeyDelim(rowFormatParams.mapKeyDelim);
                  localDirectoryDesc.setFieldEscape(rowFormatParams.fieldEscape);
                  localDirectoryDesc.setNullFormat(rowFormatParams.nullFormat);
                  localDirectoryDescIsSet=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                  &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
                &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; HiveParser.TOK_TABLESERIALIZER:
                  ASTNode serdeChild = (ASTNode) child.getChild(0);
                  storageFormat.setSerde(unescapeSQLString(serdeChild.getChild(0).getText()));
                  localDirectoryDesc.setSerName(storageFormat.getSerde());
                  localDirectoryDescIsSet=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                  &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
              }
            }
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You need to remove this line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          qb.getMetaData().setDestForAlias(name, fname,
              (ast.getToken().getType() == HiveParser.TOK_DIR));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and you need to change the for loop after that because child count is different. The child at index 1 tells whether directory is local, and children at index 2 and 3 tells you the output format and storage serde. &lt;/p&gt;</comment>
                            <comment id="14516964" author="nemon" created="Tue, 28 Apr 2015 12:38:42 +0000"  >&lt;p&gt;Two major change:&lt;br/&gt;
1,simplified grammar &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;     (local = KW_LOCAL)? KW_DIRECTORY StringLiteral tableRowFormat? tableFileFormat?&lt;br/&gt;
       -&amp;gt; ^(TOK_DIR StringLiteral $local? tableRowFormat? tableFileFormat?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;2,semantic analyzer changes that check &quot;local&quot;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDfsFile =&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ast.getChildCount() &amp;gt;= 2 &amp;amp;&amp;amp; ast.getChild(1).getText().toLowerCase().equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;local&quot;&lt;/span&gt;)) {
            isDfsFile = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          }
          qb.getMetaData().setDestForAlias(name, fname, isDfsFile);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14516983" author="nemon" created="Tue, 28 Apr 2015 12:57:29 +0000"  >&lt;p&gt;The query plan for local directory is simple:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;explain insert overwrite local directory &apos;/tmp/xxx&apos; select * from src;&lt;br/&gt;
&lt;ins&gt;-----------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                                                        Explain                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-----------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; STAGE DEPENDENCIES:                                                                                                   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-1 is a root stage                                                                                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-0 depends on stages: Stage-1                                                                                  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; STAGE PLANS:                                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-1                                                                                                      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Map Reduce                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       Map Operator Tree:                                                                                              &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           TableScan                                                                                                   &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             alias: src                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             Select Operator                                                                                           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               expressions: id (type: string), starttime (type: bigint), callerno (type: string), note (type: string)  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               outputColumnNames: _col0, _col1, _col2, _col3                                                           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               File Output Operator                                                                                    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 compressed: false                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 table:                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     input format: org.apache.hadoop.mapred.TextInputFormat                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat                         &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe                                         &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-0                                                                                                      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Move Operator                                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       files:                                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           hdfs directory: false                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           destination: /tmp/xxx                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-----------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;br/&gt;
29 rows selected (5.957 seconds)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;While the query plan for DFS directory is complicated&#65306;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;explain insert overwrite directory &apos;/tmp/xxx&apos; select * from src;&lt;br/&gt;
&lt;ins&gt;-------------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                                                         Explain                                                         &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-------------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; STAGE DEPENDENCIES:                                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-1 is a root stage                                                                                               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-6 depends on stages: Stage-1 , consists of Stage-3, Stage-2, Stage-4                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-3                                                                                                               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-0 depends on stages: Stage-3, Stage-2, Stage-5                                                                  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-2                                                                                                               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-4                                                                                                               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage-5 depends on stages: Stage-4                                                                                    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; STAGE PLANS:                                                                                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-1                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Map Reduce                                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       Map Operator Tree:                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           TableScan                                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             alias: src                                                                                                  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             Select Operator                                                                                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               expressions: id (type: string), starttime (type: bigint), callerno (type: string), note (type: string)    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               outputColumnNames: _col0, _col1, _col2, _col3                                                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               File Output Operator                                                                                      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 compressed: false                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 Statistics: Num rows: 38 Data size: 11900 Basic stats: COMPLETE Column stats: NONE                      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                 table:                                                                                                  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     input format: org.apache.hadoop.mapred.TextInputFormat                                              &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat                           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                     serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe                                           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-6                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Conditional Operator                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-3                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Move Operator                                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       files:                                                                                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           hdfs directory: true                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           destination: hdfs://hacluster/tmp/hive-scratch/hive_2015-04-28_20-49-24_582_7448801537099184702-2/-ext-10000  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-0                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Move Operator                                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       files:                                                                                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           hdfs directory: true                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           destination: /tmp/xxx                                                                                         &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-2                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Map Reduce                                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       Map Operator Tree:                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           TableScan                                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             File Output Operator                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               compressed: false                                                                                         &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               table:                                                                                                    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   input format: org.apache.hadoop.mapred.TextInputFormat                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe                                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-4                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Map Reduce                                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       Map Operator Tree:                                                                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           TableScan                                                                                                     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;             File Output Operator                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               compressed: false                                                                                         &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;               table:                                                                                                    &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   input format: org.apache.hadoop.mapred.TextInputFormat                                                &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;                   serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe                                             &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   Stage: Stage-5                                                                                                        &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;     Move Operator                                                                                                       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;       files:                                                                                                            &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           hdfs directory: true                                                                                          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;           destination: hdfs://hacluster/tmp/hive-scratch/hive_2015-04-28_20-49-24_582_7448801537099184702-2/-ext-10000  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-------------------------------------------------------------------------------------------------------------------------&lt;/ins&gt;&lt;br/&gt;
71 rows selected (3.911 seconds)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14517851" author="xuefuz" created="Tue, 28 Apr 2015 19:30:36 +0000"  >&lt;p&gt;+1 pending on test.&lt;/p&gt;</comment>
                            <comment id="14518537" author="hiveqa" created="Wed, 29 Apr 2015 01:40:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12728808/HIVE-5672.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12728808/HIVE-5672.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 8826 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3634/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3634/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3634/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3634/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3634/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3634/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12728808 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14518637" author="nemon" created="Wed, 29 Apr 2015 03:03:57 +0000"  >&lt;p&gt;Thanks to Xuefu and Sushanth for you review.&lt;br/&gt;
There is one more thing that i need to update :&lt;br/&gt;
removing occurrences of TOK_LOCAL_DIR.As you mentioned above.&lt;br/&gt;
Will update soon.&lt;/p&gt;</comment>
                            <comment id="14521140" author="hiveqa" created="Thu, 30 Apr 2015 08:39:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12729190/HIVE-5672.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12729190/HIVE-5672.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 8827 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3658/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3658/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3658/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3658/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3658/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3658/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12729190 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14522099" author="sushanth" created="Thu, 30 Apr 2015 19:26:42 +0000"  >&lt;p&gt;I see that the .8.patch has both the changes, and has passed all the tests. I&apos;m +1 on .8.patch.&lt;/p&gt;</comment>
                            <comment id="14522275" author="sushanth" created="Thu, 30 Apr 2015 21:10:14 +0000"  >&lt;p&gt;Committed to 1.2 and master. Thanks Nemon &amp;amp; Xuefu!&lt;/p&gt;</comment>
                            <comment id="14522584" author="lefty@hortonworks.com" created="Fri, 1 May 2015 01:03:47 +0000"  >&lt;p&gt;Doc note:  Please review the updated note about custom separators in the DML doc.  (If it&apos;s okay, remove the TODOC1.2 label.)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Notes.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DML &amp;#8211; Writing data into the filesystem from queries &amp;#8211; Notes &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14522595" author="sushanth" created="Fri, 1 May 2015 01:11:17 +0000"  >&lt;p&gt;Looks good, Lefty. Thanks!&lt;/p&gt;

&lt;p&gt;Removing the label.&lt;/p&gt;</comment>
                            <comment id="14548646" author="sushanth" created="Mon, 18 May 2015 19:48:42 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="15074878" author="prongs" created="Wed, 30 Dec 2015 09:51:52 +0000"  >&lt;p&gt;I see that the commit for this jira(&lt;a href=&quot;https://github.com/apache/hive/commit/f3a23dce083decc565447b7438527d7aec434b29#diff-f21e965d5c189c7d150fa1e8686eb294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/commit/f3a23dce083decc565447b7438527d7aec434b29#diff-f21e965d5c189c7d150fa1e8686eb294&lt;/a&gt;) removes TOK_LOCAL_DIR altogether. Can someone elaborate why that is?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12706437">HIVE-6833</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12694669">HIVE-6410</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12939468">HIVE-13064</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615082">HIVE-3682</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12822938">LENS-518</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12704117" name="HIVE-5672.1.patch" size="14532" author="nemon" created="Thu, 12 Mar 2015 08:04:36 +0000"/>
                            <attachment id="12704457" name="HIVE-5672.2.patch" size="46040" author="nemon" created="Fri, 13 Mar 2015 17:14:56 +0000"/>
                            <attachment id="12725815" name="HIVE-5672.3.patch" size="14733" author="nemon" created="Thu, 16 Apr 2015 09:06:05 +0000"/>
                            <attachment id="12727522" name="HIVE-5672.4.patch" size="14558" author="nemon" created="Thu, 23 Apr 2015 03:46:24 +0000"/>
                            <attachment id="12727622" name="HIVE-5672.5.patch" size="46070" author="nemon" created="Thu, 23 Apr 2015 14:29:35 +0000"/>
                            <attachment id="12727524" name="HIVE-5672.5.patch.tar.gz" size="9449" author="nemon" created="Thu, 23 Apr 2015 03:50:58 +0000"/>
                            <attachment id="12727907" name="HIVE-5672.6.patch" size="46269" author="nemon" created="Fri, 24 Apr 2015 13:01:56 +0000"/>
                            <attachment id="12727876" name="HIVE-5672.6.patch.tar.gz" size="9521" author="nemon" created="Fri, 24 Apr 2015 10:23:44 +0000"/>
                            <attachment id="12728808" name="HIVE-5672.7.patch" size="46488" author="nemon" created="Tue, 28 Apr 2015 14:49:10 +0000"/>
                            <attachment id="12728770" name="HIVE-5672.7.patch.tar.gz" size="9456" author="nemon" created="Tue, 28 Apr 2015 12:20:29 +0000"/>
                            <attachment id="12729190" name="HIVE-5672.8.patch" size="46924" author="nemon" created="Wed, 29 Apr 2015 15:26:34 +0000"/>
                            <attachment id="12729038" name="HIVE-5672.8.patch.tar.gz" size="9584" author="nemon" created="Wed, 29 Apr 2015 03:05:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pbf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>