<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:24:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-8105] booleans and nulls not handled properly in insert/values</title>
                <link>https://issues.apache.org/jira/browse/HIVE-8105</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Doing an insert/values with a boolean always results in a value of true, regardless of whether true or false is given in the query.&lt;/p&gt;

&lt;p&gt;Doing an insert/values with a null for a column value results in a semantic error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12741537">HIVE-8105</key>
            <summary>booleans and nulls not handled properly in insert/values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gates">Alan Gates</assignee>
                                    <reporter username="gates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Sep 2014 17:58:06 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:27 +0000</updated>
                            <resolved>Sat, 20 Sep 2014 14:34:26 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14134235" author="alangates" created="Mon, 15 Sep 2014 18:19:09 +0000"  >&lt;p&gt;Changes to SemanticAnalyzer to handle boolean and nulls properly, and changes to tests to confirm the fix.&lt;/p&gt;</comment>
                            <comment id="14134352" author="ekoifman" created="Mon, 15 Sep 2014 19:20:10 +0000"  >&lt;p&gt;why do both NULL and FALSE unparse to the same thing... How would the parser know to whether it should produce NULL or FALSE?&lt;/p&gt;</comment>
                            <comment id="14134362" author="alangates" created="Mon, 15 Sep 2014 19:28:18 +0000"  >&lt;p&gt;insert into table T values ... works by first writing the values to a file, casting a temp table over that file, and then rewriting the query to insert into table T select * from temp_table.  As all of the values coming in are strings, the default Hive casting mechanisms kick in.  The Hive rule for casting from boolean to string is that any string that has length &amp;gt; 0 is true, while a zero length string is false.  (See UDFToBoolean.evaluate(Text)).&lt;/p&gt;

&lt;p&gt;The ideal solution here is we need an input format that can handle these sorts of things as well as simple expressions.  For example, in the current implementation we cannot handle casts or arithmetic like insert into T values (3 + 4);  So yes, this is a stop gap.&lt;/p&gt;</comment>
                            <comment id="14134732" author="hiveqa" created="Tue, 16 Sep 2014 00:15:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12668812/HIVE-8105.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12668812/HIVE-8105.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6276 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_non_partitioned
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/810/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/810/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/810/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/810/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-810/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-810/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12668812&lt;/p&gt;</comment>
                            <comment id="14136093" author="alangates" created="Tue, 16 Sep 2014 19:55:06 +0000"  >&lt;p&gt;Forgot to regenerate results for tez qfile test.&lt;/p&gt;</comment>
                            <comment id="14136095" author="alangates" created="Tue, 16 Sep 2014 19:55:31 +0000"  >&lt;p&gt;New patch with new tez qfile expected results.&lt;/p&gt;</comment>
                            <comment id="14136803" author="ekoifman" created="Wed, 17 Sep 2014 05:38:31 +0000"  >&lt;p&gt;I&apos;m wondering if it&apos;s not better to disallow NULL until we create the input format as you suggest.  As it is, this works for numeric types, but for boolean/string types this will take NULL from user input and insert an FALSE/empty string.  This doesn&apos;t seem right.&lt;br/&gt;
Is it possible to check the target type and throw if it&apos;s not numeric?&lt;/p&gt;</comment>
                            <comment id="14137320" author="alangates" created="Wed, 17 Sep 2014 14:31:12 +0000"  >&lt;p&gt;I thought it was just boolean that wouldn&apos;t handle null properly here.  But you&apos;re right, string doesn&apos;t either.  So I agree we should disable the null handling for now.  I&apos;ll rework this patch to just fix the true/false issue and file a separate JIRA to fix the null issue later.&lt;/p&gt;</comment>
                            <comment id="14139602" author="ekoifman" created="Thu, 18 Sep 2014 22:08:48 +0000"  >&lt;p&gt;I think Timestamp (and perhaps Date) may be an issue as well&lt;/p&gt;</comment>
                            <comment id="14139969" author="alangates" created="Fri, 19 Sep 2014 04:24:58 +0000"  >&lt;p&gt;Turns out the right thing to do for null in text format is \N, not &quot;&quot; (thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;owen.omalley&lt;/a&gt; for pointing this out).&lt;/p&gt;

&lt;p&gt;A new patch that properly encodes the nulls.&lt;/p&gt;</comment>
                            <comment id="14140938" author="ekoifman" created="Fri, 19 Sep 2014 17:37:38 +0000"  >&lt;p&gt;It would be useful to add some comments in unparseExprForValuesClause() about NULL and FALSE handling.  I don&apos;t think it would be clear why this works.&lt;br/&gt;
Otherwise&lt;br/&gt;
+1 pending tests&lt;/p&gt;</comment>
                            <comment id="14141401" author="hiveqa" created="Fri, 19 Sep 2014 22:09:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12669911/HIVE-8105.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12669911/HIVE-8105.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 6295 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDelete
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDeleteDynamicPartitioning
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsert
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsertDynamicPartitioning
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdate
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdateDynamicPartitioning
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/882/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/882/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/882/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/882/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-882/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-882/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12669911&lt;/p&gt;</comment>
                            <comment id="14141494" author="alangates" created="Fri, 19 Sep 2014 22:56:27 +0000"  >&lt;p&gt;Re-attaching the patch to get a new run.  I&apos;m 90% sure Owen&apos;s checkin of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6936&quot; title=&quot;Provide table properties to InputFormats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6936&quot;&gt;&lt;del&gt;HIVE-6936&lt;/del&gt;&lt;/a&gt; will fix this, but want to re-run the tests to be sure.&lt;/p&gt;</comment>
                            <comment id="14141998" author="hiveqa" created="Sat, 20 Sep 2014 14:21:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670137/HIVE-8105.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12670137/HIVE-8105.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6298 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/894/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/894/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/894/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/894/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-894/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-894/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12670137&lt;/p&gt;</comment>
                            <comment id="14142004" author="alangates" created="Sat, 20 Sep 2014 14:34:26 +0000"  >&lt;p&gt;Patch 3 committed, with commented as requested by Eugene.  Thanks Eugene for the review.&lt;/p&gt;</comment>
                            <comment id="14211169" author="thejas" created="Thu, 13 Nov 2014 19:44:27 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12669911" name="HIVE-8105.2.patch" size="16266" author="gates" created="Fri, 19 Sep 2014 04:24:58 +0000"/>
                            <attachment id="12669172" name="HIVE-8105.2.patch" size="15706" author="gates" created="Tue, 16 Sep 2014 19:55:31 +0000"/>
                            <attachment id="12670137" name="HIVE-8105.3.patch" size="16266" author="gates" created="Fri, 19 Sep 2014 22:56:27 +0000"/>
                            <attachment id="12668812" name="HIVE-8105.patch" size="9497" author="gates" created="Mon, 15 Sep 2014 18:19:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2021z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>