<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:20:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-20071] Migrate to jackson 2.x and prevent usage</title>
                <link>https://issues.apache.org/jira/browse/HIVE-20071</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;there are still some places where jackson 1.x is being used; even thru it&apos;s not even referenced from hive&apos;s pom.xml-s&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git grep -E &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.jackson&apos;&lt;/span&gt;|wc -l
106
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13169814">HIVE-20071</key>
            <summary>Migrate to jackson 2.x and prevent usage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kgyrtkirk">Zoltan Haindrich</assignee>
                                    <reporter username="kgyrtkirk">Zoltan Haindrich</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 3 Jul 2018 13:48:41 +0000</created>
                <updated>Thu, 17 Nov 2022 08:55:02 +0000</updated>
                            <resolved>Tue, 20 Jul 2021 17:17:12 +0000</resolved>
                                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16531439" author="kgyrtkirk" created="Tue, 3 Jul 2018 13:53:43 +0000"  >&lt;p&gt;On top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20065&quot; title=&quot;metastore should not rely on jackson 1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-20065&quot;&gt;&lt;del&gt;HIVE-20065&lt;/del&gt;&lt;/a&gt;; because that already covers a the metastore classes - I&apos;ve not merged these 2 because there might be&#160;some issues appearing in the other submodules...&lt;/p&gt;</comment>
                            <comment id="16531443" author="kgyrtkirk" created="Tue, 3 Jul 2018 13:54:56 +0000"  >&lt;p&gt;I&apos;ve attached a small patch which configures an import banner; to prevent future uses of jackson 1.x&lt;/p&gt;</comment>
                            <comment id="16531598" author="prasanth_j" created="Tue, 3 Jul 2018 16:00:39 +0000"  >&lt;p&gt;We already have a enforcer plugin that can have banned dependencies (direct or transitive). You can refer .2 patch from&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20019&quot; title=&quot;Ban commons-logging and log4j&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-20019&quot;&gt;&lt;del&gt;HIVE-20019&lt;/del&gt;&lt;/a&gt; which avoids direct dependency. .1 patch avoids transitive as well. Not sure what the new plugin provides in addition to the enforcer plugin. Maybe we should use enforce plugin for jackson usage as well?&lt;/p&gt;</comment>
                            <comment id="16531611" author="kgyrtkirk" created="Tue, 3 Jul 2018 16:11:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;prasanth_j&lt;/a&gt; I think that plugin will only react to pom.xml deps...but right now the 1.x lib is accessible without even refering it as a dep...so that people are using it without knowing about it....I would recommend to also do this for the logging related packages....&lt;/p&gt;

&lt;p&gt;yes; I think&#160;we should set both enforcers....to also prevent the addition of the dep&lt;/p&gt;</comment>
                            <comment id="16531620" author="prasanth_j" created="Tue, 3 Jul 2018 16:17:40 +0000"  >&lt;blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&#160;but right now the 1.x lib is accessible without even refering it as a dep&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;
&lt;p&gt;searchTransitive in enforcer plugin to true should prevent this right? This is what we do for&#160;com.google.code.findbugs:annotations LGPL import.&#160;&lt;/p&gt;</comment>
                            <comment id="16531631" author="kgyrtkirk" created="Tue, 3 Jul 2018 16:22:32 +0000"  >&lt;p&gt;I&apos;ve not yet checked but here&apos;s what interesting:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn depencency:tree -pl ql |grep org.codehaus.jackson
#comes up empty; meanwhile:
git grep org.codehaus.jackson ql
# has a lot of hits..
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think someone might have shaded a jackson artifact into one of the deps...&lt;/p&gt;</comment>
                            <comment id="16531636" author="kgyrtkirk" created="Tue, 3 Jul 2018 16:26:24 +0000"  >&lt;p&gt;nevermind...I&apos;ve messed it up (my command have failed)...both avro and jersey pulls in a 1.9 implementation...&lt;/p&gt;</comment>
                            <comment id="16895384" author="kgyrtkirk" created="Mon, 29 Jul 2019 15:46:57 +0000"  >&lt;p&gt;getting back to this conversation: I still see that preventing imports is probably better; we don&apos;t really have direct control on what the projects we are importing doing - for example we can migrate to the newer jackson librabry without having to update all our dependencies to use the newer one...&lt;/p&gt;

&lt;p&gt;I&apos;ve seen some issues arise from the fact that sometimes the IDE imports some guava library from a shaded one....the usage of those libraries should be prevented.&lt;/p&gt;</comment>
                            <comment id="17384411" author="kgyrtkirk" created="Tue, 20 Jul 2021 17:17:12 +0000"  >&lt;p&gt;merged into master. Thank you Krisztian for reviewing the changes!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13366057">HIVE-24904</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13247670">HIVE-22059</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12930125" name="restrict_usage.patch" size="1567" author="kgyrtkirk" created="Tue, 3 Jul 2018 13:54:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vhy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>