<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:32:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10242] ACID: insert overwrite prevents create table command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10242</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. insert overwirte table DB.T1 select ... from T2: this takes X lock on DB.T1 and S lock on T2.&lt;br/&gt;
X lock makes sense because we don&apos;t want anyone reading T1 while it&apos;s overwritten. S lock on T2 prevents if from being dropped while the query is in progress.&lt;br/&gt;
2. create table DB.T3: takes S lock on DB.&lt;br/&gt;
This S lock gets blocked by X lock on T1. S lock prevents the DB from being dropped while create table is executed.&lt;/p&gt;

&lt;p&gt;If the insert statement is long running, this blocks DDL ops on the same database.  This is a usability issue.  &lt;br/&gt;
There is no good reason why X lock on a table within a DB and S lock on DB should be in conflict.  &lt;/p&gt;

&lt;p&gt;(this is different from a situation where X lock is on a partition and S lock is on the table to which this partition belongs.  Here it makes sense.  Basically there is no SQL way to address all tables in a DB but you can easily refer to all partitions of a table)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12819034">HIVE-10242</key>
            <summary>ACID: insert overwrite prevents create table command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2015 19:02:43 +0000</created>
                <updated>Tue, 1 Oct 2019 22:07:44 +0000</updated>
                            <resolved>Thu, 16 Apr 2015 18:00:27 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14488508" author="ekoifman" created="Thu, 9 Apr 2015 23:38:30 +0000"  >&lt;p&gt;1st cut&lt;/p&gt;</comment>
                            <comment id="14490923" author="hiveqa" created="Sat, 11 Apr 2015 11:19:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12724718/HIVE-10242.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12724718/HIVE-10242.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3375/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3375/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3375/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3375/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3375/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3375/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3375/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_5.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input_part9.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_12.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/index_stale_partitioned.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_4.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_11.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/input42.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/union_view.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/annotate_stats_part.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/truncate_column_list_bucket.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_2.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_9.q.java1.7.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/list_bucket_dml_13.q.java1.7.out&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/scheduler/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/thirdparty itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-jmh/target itests/hive-unit/target itests/custom-serde/target itests/util/target itests/qtest-spark/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target accumulo-handler/target hwi/target common/target common/src/gen spark-client/target service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1672859.

At revision 1672859.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12724718 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14491141" author="ekoifman" created="Sat, 11 Apr 2015 18:22:05 +0000"  >&lt;p&gt;rebase to trunk&lt;/p&gt;</comment>
                            <comment id="14491670" author="hiveqa" created="Sun, 12 Apr 2015 19:27:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12724771/HIVE-10242.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12724771/HIVE-10242.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 8678 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testNewConnectionConfiguration
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3398/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3398/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3398/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3398/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3398/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3398/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12724771 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14491723" author="ekoifman" created="Sun, 12 Apr 2015 21:11:40 +0000"  >&lt;p&gt;the set of failures is almost identical to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10148&quot; title=&quot;update of bucketing column should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10148&quot;&gt;&lt;del&gt;HIVE-10148&lt;/del&gt;&lt;/a&gt; but the patches are not related&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt;, could you review please?&lt;/p&gt;</comment>
                            <comment id="14492301" author="alangates" created="Mon, 13 Apr 2015 11:41:44 +0000"  >&lt;p&gt;Why is the templeton stuff in this patch?  I suspect it doesn&apos;t belong here.&lt;/p&gt;

&lt;p&gt;TxnHandler, in the LockInfo constructor.  If you&apos;re going to add defaults for those switch cases they should throw errors rather than return null.&lt;/p&gt;

&lt;p&gt;Why did you change the fields in LockInfo to final?  It&apos;s fine, I&apos;m just curious.&lt;/p&gt;

&lt;p&gt;Why make a new class LockTypeComparator?  This is in the tight loop of determining locks, so we want it to go as fast as we can.  Rather than requiring an object creation and function call every time through this it&apos;s better to inline that code.&lt;/p&gt;

&lt;p&gt;I don&apos;t understand the changes to DbLockManager.  What is the purpose of the changes here.&lt;/p&gt;</comment>
                            <comment id="14492810" author="ekoifman" created="Mon, 13 Apr 2015 18:37:18 +0000"  >&lt;p&gt;1. The WebHCat stuff is there because I used it for testing.  It has 1 line script to start hive services, etc.  So the additions there are to be able to run it with MySQL based metastore to test concurrency.  So this is not a product change but it&apos;s relevant.  I can split it into a separate patch if necessary.&lt;/p&gt;

&lt;p&gt;2. The &quot;default&quot; in LockInfo constructor matches previous implementation.  W/o the default, &quot;switch&quot; would just fall off the end and &quot;type&quot; and &quot;state&quot; will get default values, i.e. &quot;null&quot;.&lt;/p&gt;

&lt;p&gt;3. I find immutable objects easier to understand.  There is no specific functional reason in this case.&lt;/p&gt;

&lt;p&gt;4. lockTypeComparator &quot;static final&quot; in LockInfoComparator - there is exactly the same number of instances of both, that is 1 per TxnHandler.checkLock().  Also, checkLock() issues SQL queries and mostly likely is being called over the network from remote client.  It seems unlikely to make any noticeable difference (even if we knew for a fact that the compiler won&apos;t inline it).  So I thought code readability was more important here.&lt;/p&gt;

&lt;p&gt;5. The changes in DbLockManager modifies package level method to make testing easier.  This allows test code to attempt to acquire locks but not block if they cannot be acquired.  It&apos;s the same idea as TxnHandler.numLocksInLockTable().&lt;/p&gt;</comment>
                            <comment id="14494775" author="alangates" created="Tue, 14 Apr 2015 20:07:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;The &quot;default&quot; in LockInfo constructor matches previous implementation. W/o the default, &quot;switch&quot; would just fall off the end and &quot;type&quot; and &quot;state&quot; will get default values, i.e. &quot;null&quot;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed, but do we every want it to be null?  In both cases aren&apos;t the switch cases exhaustive?  If so, it&apos;s best to throw an exception if we find an unexpected case so that future developers quickly find their errors.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;lockTypeComparator &quot;static final&quot; in LockInfoComparator...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I missed that this was static final.  Somehow I read it as a variable in the class.  What you have is fine.&lt;/p&gt;

&lt;p&gt;So other than my nitpick on throwing an exception on the switch cases rather than returning null I&apos;m +1 on this.&lt;/p&gt;
</comment>
                            <comment id="14495184" author="ekoifman" created="Wed, 15 Apr 2015 00:12:02 +0000"  >&lt;p&gt;patch 4 addresses Alan&apos;s latest comments&lt;/p&gt;</comment>
                            <comment id="14495639" author="hiveqa" created="Wed, 15 Apr 2015 04:19:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12725430/HIVE-10242.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12725430/HIVE-10242.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 8695 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3435/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3435/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3435/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3435/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3435/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3435/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12725430 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14495826" author="alangates" created="Wed, 15 Apr 2015 07:58:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14498400" author="ekoifman" created="Thu, 16 Apr 2015 18:00:28 +0000"  >&lt;p&gt;committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; for the review&lt;/p&gt;</comment>
                            <comment id="14498411" author="ekoifman" created="Thu, 16 Apr 2015 18:06:30 +0000"  >&lt;p&gt;The fix also logging improvements and a fix to the following situation where a lock (by client3) could be acquired when it should not be.&lt;br/&gt;
client1: update table T&lt;br/&gt;
client2: select * from T&lt;br/&gt;
client3: update table T&lt;/p&gt;

&lt;p&gt;with all 3 clients executing concurrently and starting in above order, client 3 should be blocked until client1 finishes.&lt;/p&gt;</comment>
                            <comment id="14548885" author="sushanth" created="Mon, 18 May 2015 19:52:58 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="15379099" author="qiuzhuang.lian" created="Fri, 15 Jul 2016 09:27:40 +0000"  >&lt;p&gt;In our production env, we still got this issue with hive-1.2.1. The error stack thrown from HS2 is as follows,&lt;/p&gt;

&lt;p&gt;2016-07-15 04:30:00,028 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Background-Pool: Thread-2903721&amp;#93;&lt;/span&gt;: lockmgr.DbTxnManager (DbTxnManager.java:heartbeat(295)) - Unable to find lock 214155&lt;br/&gt;
2016-07-15 04:30:00,028 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Background-Pool: Thread-2903721&amp;#93;&lt;/span&gt;: exec.Heartbeater (Heartbeater.java:heartbeat(83)) - Failed trying to heartbeat No record of lock could be found, may have timed out&lt;br/&gt;
2016-07-15 04:30:00,031 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Background-Pool: Thread-2903721&amp;#93;&lt;/span&gt;: exec.Task (SessionState.java:printError(960)) - Ended Job = job_1466660599841_119253 with exception &apos;java.io.IOException(org.apache.hadoop.hive.ql.lockmgr.LockException: No record of lock could be found, may have timed out)&apos;&lt;br/&gt;
java.io.IOException: org.apache.hadoop.hive.ql.lockmgr.LockException: No record of lock could be found, may have timed out&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Heartbeater.heartbeat(Heartbeater.java:84)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:242)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:549)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.execute(ExecDriver.java:437)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:137)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:160)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:88)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1653)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1412)&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12919015">HIVE-12594</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13015576">HIVE-15077</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12724718" name="HIVE-10242.2.patch" size="39252" author="ekoifman" created="Sat, 11 Apr 2015 01:20:19 +0000"/>
                            <attachment id="12724771" name="HIVE-10242.3.patch" size="39420" author="ekoifman" created="Sat, 11 Apr 2015 18:22:05 +0000"/>
                            <attachment id="12725430" name="HIVE-10242.4.patch" size="39820" author="ekoifman" created="Wed, 15 Apr 2015 00:12:02 +0000"/>
                            <attachment id="12724377" name="HIVE-10242.patch" size="23734" author="ekoifman" created="Thu, 9 Apr 2015 23:38:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cxdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>