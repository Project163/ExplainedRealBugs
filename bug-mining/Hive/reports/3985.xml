<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:38:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-11973] IN operator fails when the column type is DATE </title>
                <link>https://issues.apache.org/jira/browse/HIVE-11973</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Test DLL :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE `date_dim`(
  `d_date_sk` &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, 
  `d_date_id` string, 
  `d_date` date, 
  `d_current_week` string, 
  `d_current_month` string, 
  `d_current_quarter` string, 
  `d_current_year` string) ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Hive query :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    SELECT *  
    FROM   date_dim     
    WHERE d_date  IN (&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-03-22&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;2001-03-22&apos;&lt;/span&gt;)  ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In 1.0.0 ,  the above query fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    FAILED: SemanticException [Error 10014]: Line 1:180 Wrong arguments &lt;span class=&quot;code-quote&quot;&gt;&apos;&apos;2001-03-22&apos;&lt;/span&gt;&apos;: The arguments &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; IN should be the same type! Types are: {date IN (string, string)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I changed the query as given to pass the error :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    SELECT *  
    FROM   date_dim     
    WHERE d_date  IN (CAST(&lt;span class=&quot;code-quote&quot;&gt;&apos;2000-03-22&apos;&lt;/span&gt; AS DATE) , CAST(&lt;span class=&quot;code-quote&quot;&gt;&apos;2001-03-22&apos;&lt;/span&gt; AS DATE)  )  ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But it works without casting  :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    SELECT *  
    FROM   date_dim     
    WHERE d_date   = &lt;span class=&quot;code-quote&quot;&gt;&apos;2000-03-22&apos;&lt;/span&gt; ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12896733">HIVE-11973</key>
            <summary>IN operator fails when the column type is DATE </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ychena">Yongzhi Chen</assignee>
                                    <reporter username="sanjiv singh">sanjiv singh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Sep 2015 08:38:34 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:59 +0000</updated>
                            <resolved>Tue, 27 Oct 2015 16:29:13 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14933619" author="ychena" created="Mon, 28 Sep 2015 17:25:22 +0000"  >&lt;p&gt;I can reproduce the issue in master branch.&lt;/p&gt;</comment>
                            <comment id="14935249" author="ychena" created="Tue, 29 Sep 2015 14:34:52 +0000"  >&lt;p&gt;The in statement thinks string can not convert to date for&lt;br/&gt;
FunctionRegistry.getPrimitiveCommonCategory(TypeInfo, TypeInfo) return null for the two types. For string can be converted to Date and implicitly converted to Date. So the PrimitiveCommonCategory for the two should be Date. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FunctionRegistry.getPrimitiveCommonCategory(TypeInfo, TypeInfo) line: 772 	
FunctionRegistry.getCommonClass(TypeInfo, TypeInfo) line: 810 
GenericUDFUtils$ReturnObjectInspectorResolver.update(ObjectInspector, boolean) line: 165 	
GenericUDFUtils$ReturnObjectInspectorResolver.update(ObjectInspector) line: 103 	
GenericUDFIn.initialize(ObjectInspector[]) line: 89 	
GenericUDFIn(GenericUDF).initializeAndFoldConstants(ObjectInspector[]) line: 139 	
ExprNodeGenericFuncDesc.newInstance(GenericUDF, String, List&amp;lt;ExprNodeDesc&amp;gt;) line: 234
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14939726" author="ychena" created="Thu, 1 Oct 2015 12:03:00 +0000"  >&lt;p&gt;Not sure why this patch is not in the waiting list of pre-commit build. Re-attach it.&lt;/p&gt;</comment>
                            <comment id="14940528" author="szehon" created="Thu, 1 Oct 2015 22:23:43 +0000"  >&lt;p&gt;Posting on behalf of HiveQA which was locked out:&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12764251/HIVE-11973.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12764251/HIVE-11973.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 9642 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5483/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5483/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5483/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5483/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5483/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5483/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14940690" author="ychena" created="Fri, 2 Oct 2015 01:36:09 +0000"  >&lt;p&gt;The 1 failure is not related. The age is more than 300.&lt;/p&gt;</comment>
                            <comment id="14942200" author="hiveqa" created="Sat, 3 Oct 2015 09:05:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12764590/HIVE-11973.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12764590/HIVE-11973.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 9629 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-vector_partitioned_date_time.q-vector_non_string_partition.q-tez_union.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5508/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5508/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5508/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5508/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5508/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5508/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12764590 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14942502" author="ychena" created="Sat, 3 Oct 2015 23:36:41 +0000"  >&lt;p&gt;The two failures are not related. The patch used in this pre-commit build is the same as the first pre-commit build. &lt;/p&gt;</comment>
                            <comment id="14965454" author="ychena" created="Tue, 20 Oct 2015 17:46:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;jxiang&lt;/a&gt;, could you review the change? Thanks&lt;/p&gt;</comment>
                            <comment id="14967317" author="jxiang" created="Wed, 21 Oct 2015 15:27:02 +0000"  >&lt;p&gt;With the patch, it means the common type of date and string is date, which seems not right.&lt;br/&gt;
IN is handled differently from comparison. That&apos;s why the behavior is like in this jira description.&lt;/p&gt;</comment>
                            <comment id="14968344" author="ychena" created="Thu, 22 Oct 2015 01:40:46 +0000"  >&lt;p&gt;IN use ReturnObjectInspectorResolver.update which end up use FunctionRegistry.getCommonClass method. This method is too strict. The elem in (val1, val2...) more like union all style of type conversion. (For types in elem, val1, val2... can be used in union all).  I will try the approach to let IN UDF use conversionHelper.updateForUnionAll.&lt;/p&gt;</comment>
                            <comment id="14968583" author="xuefuz" created="Thu, 22 Oct 2015 05:30:56 +0000"  >&lt;p&gt;It seems to me that x IN (val1, val2, ..., valn) should be equivalent to x = val1 OR x = val2 ... OR x = valn. Could we check how &quot;WHERE d_date   = &apos;2000-03-22&apos;&quot; works and apply the same logic here? Maybe, we should just need to add an implicit cast when the type doesn&apos;t match.&lt;/p&gt;</comment>
                            <comment id="14969231" author="ychena" created="Thu, 22 Oct 2015 14:28:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt;, the equal one has this stacktrace, it uses getCommonClassForComparison if need convert:&lt;/p&gt;

&lt;p&gt;FunctionRegistry.implicitConvertible(PrimitiveObjectInspector$PrimitiveCategory, PrimitiveObjectInspector$PrimitiveCategory) line: 890	&lt;br/&gt;
FunctionRegistry.getCommonClassForComparison(TypeInfo, TypeInfo) line: 763	&lt;br/&gt;
GenericUDFOPEqual(GenericUDFBaseCompare).initialize(ObjectInspector[]) line: 138	&lt;br/&gt;
GenericUDFOPEqual(GenericUDF).initializeAndFoldConstants(ObjectInspector[]) line: 139	&lt;br/&gt;
ExprNodeGenericFuncDesc.newInstance(GenericUDF, String, List&amp;lt;ExprNodeDesc&amp;gt;) line: 234	&lt;br/&gt;
TypeCheckProcFactory$DefaultExprProcessor.getXpathOrFuncExprNodeDesc(ASTNode, boolean, ArrayList&amp;lt;ExprNodeDesc&amp;gt;, TypeCheckCtx) line: 1082	&lt;br/&gt;
TypeCheckProcFactory$DefaultExprProcessor.process(Node, Stack&amp;lt;Node&amp;gt;, NodeProcessorCtx, Object...) line: 1301	&lt;br/&gt;
DefaultRuleDispatcher.dispatch(Node, Stack&amp;lt;Node&amp;gt;, Object...) line: 90	&lt;/p&gt;

&lt;p&gt;The logic of getCommonClassForComparison very similar to getCommonClassForUnionAll.&lt;/p&gt;

&lt;p&gt;What I am trying to say in the previous comment is: When only consider type conversion, x will need compare each value, that means it can unionall with each value too. The ReturnObjectInspectorResolver.update is just to find out which type will be used for the conversion that x can compare with each value in the set. &lt;/p&gt;</comment>
                            <comment id="14969650" author="hiveqa" created="Thu, 22 Oct 2015 18:54:04 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12767937/HIVE-11973.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12767937/HIVE-11973.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9699 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ppd_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_ppd_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_structin
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5737/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5737/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5737/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5737/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5737/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5737/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12767937 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14969895" author="ychena" created="Thu, 22 Oct 2015 21:12:53 +0000"  >&lt;p&gt;The three new test failures show use getCommonClassByUnionAll is not a good choice for it does not consider numeric accuracy when choose converting type. &lt;br/&gt;
So I will switch back to use update and the getCommonClass.&lt;br/&gt;
For in the getPrimitiveCommonCategory method, the common category for any numeric type and string type will be string. So I think Date and Timestamp should be the same. The common category with Date with String will be String.&lt;br/&gt;
How do you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;jxiang&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14969953" author="jxiang" created="Thu, 22 Oct 2015 21:43:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;The common category with Date with String will be String.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That sounds ok.&lt;/p&gt;

&lt;p&gt;For the test, can you add some data to the table and check if the query works as expected?  Thanks.&lt;/p&gt;</comment>
                            <comment id="14970252" author="ychena" created="Fri, 23 Oct 2015 01:24:46 +0000"  >&lt;p&gt;Remove old patch 3 and replace it with a new one. The new patch insert 4 rows and select will return 2 rows. &lt;/p&gt;</comment>
                            <comment id="14971359" author="hiveqa" created="Fri, 23 Oct 2015 17:00:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12768188/HIVE-11973.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12768188/HIVE-11973.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 9702 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull
org.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5751/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5751/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5751/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5751/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5751/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5751/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12768188 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14971372" author="ychena" created="Fri, 23 Oct 2015 17:07:17 +0000"  >&lt;p&gt;The four failures are not related. The ages are 9 and more. &lt;/p&gt;</comment>
                            <comment id="14974218" author="ychena" created="Mon, 26 Oct 2015 13:50:41 +0000"  >&lt;p&gt;Use String type is better than any type in string group. &lt;/p&gt;</comment>
                            <comment id="14974514" author="jxiang" created="Mon, 26 Oct 2015 16:40:44 +0000"  >&lt;p&gt;+1 pending on test&lt;/p&gt;</comment>
                            <comment id="14974581" author="hiveqa" created="Mon, 26 Oct 2015 17:21:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12768720/HIVE-11973.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12768720/HIVE-11973.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 9709 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull
org.apache.hadoop.hive.ql.io.orc.TestJsonFileDump.testJsonDump
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5798/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5798/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5798/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5798/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5798/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5798/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12768720 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14974885" author="ychena" created="Mon, 26 Oct 2015 19:45:19 +0000"  >&lt;p&gt;The four failures are not related. Their ages are 9 or more. &lt;/p&gt;</comment>
                            <comment id="14976417" author="ychena" created="Tue, 27 Oct 2015 13:51:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;jxiang&lt;/a&gt; for reviewing the code. &lt;/p&gt;</comment>
                            <comment id="14976670" author="jxiang" created="Tue, 27 Oct 2015 16:29:13 +0000"  >&lt;p&gt;Integrated into trunk. Thanks Yongzhi for the patch.&lt;/p&gt;</comment>
                            <comment id="15001500" author="sershe" created="Thu, 12 Nov 2015 02:12:07 +0000"  >&lt;p&gt;Should this issue be backported to branch-1? It looks like a bug.&lt;/p&gt;</comment>
                            <comment id="15003216" author="jxiang" created="Thu, 12 Nov 2015 23:41:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;ychena&lt;/a&gt;, is the patch good for branch-1?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12764590" name="HIVE-11973.1.patch" size="3495" author="ychena" created="Thu, 1 Oct 2015 12:03:00 +0000"/>
                            <attachment id="12767937" name="HIVE-11973.2.patch" size="3490" author="ychena" created="Thu, 22 Oct 2015 01:54:20 +0000"/>
                            <attachment id="12768188" name="HIVE-11973.3.patch" size="5576" author="ychena" created="Fri, 23 Oct 2015 01:21:49 +0000"/>
                            <attachment id="12768720" name="HIVE-11973.4.patch" size="5618" author="ychena" created="Mon, 26 Oct 2015 13:50:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lmdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332154">1.3.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>