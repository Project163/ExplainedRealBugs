<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:55:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4577] hive CLI can&apos;t handle hadoop dfs command  with space and quotes.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4577</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As design, hive could support hadoop dfs command in hive shell, like &lt;br/&gt;
hive&amp;gt; dfs -mkdir /user/biadmin/mydir;&lt;/p&gt;

&lt;p&gt;but has different behavior with hadoop if the path contains space and quotes&lt;/p&gt;

&lt;p&gt;hive&amp;gt; dfs -mkdir &quot;hello&quot;; &lt;br/&gt;
drwxr-xr-x   - biadmin supergroup          0 2013-04-23 09:40 /user/biadmin/&quot;hello&quot;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; dfs -mkdir &apos;world&apos;;&lt;br/&gt;
drwxr-xr-x   - biadmin supergroup          0 2013-04-23 09:43 /user/biadmin/&apos;world&apos;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; dfs -mkdir &quot;bei jing&quot;;&lt;br/&gt;
drwxr-xr-x   - biadmin supergroup          0 2013-04-23 09:44 /user/biadmin/&quot;bei&lt;br/&gt;
drwxr-xr-x   - biadmin supergroup          0 2013-04-23 09:44 /user/biadmin/jing&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648395">HIVE-4577</key>
            <summary>hive CLI can&apos;t handle hadoop dfs command  with space and quotes.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="libing">Bing Li</assignee>
                                    <reporter username="libing">Bing Li</reporter>
                        <labels>
                            <label>TODOC3.0</label>
                    </labels>
                <created>Mon, 20 May 2013 06:24:34 +0000</created>
                <updated>Tue, 22 May 2018 23:59:52 +0000</updated>
                            <resolved>Fri, 14 Jul 2017 17:41:40 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.13.1</version>
                    <version>0.14.0</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13661811" author="libing" created="Mon, 20 May 2013 06:39:07 +0000"  >&lt;p&gt;The root cause is in DfsProcessor class.&lt;br/&gt;
Hive parses command via a simple split(&quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s+&quot;), which won&apos;t handle the space between quotes or ignore special characters (&quot;/&apos;) in the path. &lt;/p&gt;</comment>
                            <comment id="13662077" author="appodictic" created="Mon, 20 May 2013 15:26:13 +0000"  >&lt;p&gt;What can we do in the way of unit testing. Either via junit or by the .q system?&lt;/p&gt;</comment>
                            <comment id="13662079" author="appodictic" created="Mon, 20 May 2013 15:27:02 +0000"  >&lt;p&gt;It looks good but add some type testing to ensure feature does not break in the future.&lt;/p&gt;</comment>
                            <comment id="13662677" author="libing" created="Tue, 21 May 2013 04:48:23 +0000"  >&lt;p&gt;add a query file for junit&lt;/p&gt;</comment>
                            <comment id="13662680" author="libing" created="Tue, 21 May 2013 04:51:10 +0000"  >&lt;p&gt;Hi, Edward&lt;br/&gt;
I updated the patch file with a simple query file.&lt;/p&gt;

&lt;p&gt;The commands are like:&lt;/p&gt;

&lt;p&gt;dfs -mkdir &quot;hello&quot;;&lt;br/&gt;
dfs -mkdir &apos;world&apos;;&lt;br/&gt;
dfs -mkdir &quot;bei jing&quot;;&lt;br/&gt;
dfs -rmr &apos;hello&apos;;&lt;br/&gt;
dfs -rmr &quot;world&quot;;&lt;br/&gt;
dfs -rmr &apos;bei jing&apos;;&lt;/p&gt;</comment>
                            <comment id="13662682" author="libing" created="Tue, 21 May 2013 04:52:18 +0000"  >&lt;p&gt;add a query file for unit test for my patch&lt;/p&gt;</comment>
                            <comment id="13698625" author="libing" created="Wed, 3 Jul 2013 05:31:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt;,could you help to review the new patch? Thank you&lt;/p&gt;</comment>
                            <comment id="13702809" author="appodictic" created="Tue, 9 Jul 2013 02:32:07 +0000"  >&lt;p&gt;Hey sorry I missed this. Is it possible to add an dfs -ls command in here? The reason I say this is because the .q.out has no output.&lt;/p&gt;</comment>
                            <comment id="13730297" author="appodictic" created="Tue, 6 Aug 2013 03:03:38 +0000"  >&lt;p&gt;Re-uploading for tests&lt;/p&gt;</comment>
                            <comment id="13730298" author="appodictic" created="Tue, 6 Aug 2013 03:03:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13730473" author="hiveqa" created="Tue, 6 Aug 2013 07:27:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12596273/HIVE-4577.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12596273/HIVE-4577.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2764 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_overwrite_local_directory_1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/321/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/321/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/321/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/321/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13787869" author="thejas" created="Mon, 7 Oct 2013 02:24:40 +0000"  >&lt;p&gt;Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.&lt;/p&gt;</comment>
                            <comment id="13980845" author="libing" created="Fri, 25 Apr 2014 09:40:12 +0000"  >&lt;p&gt;Hi, Thejas&lt;br/&gt;
I noticed this fix hasn&apos;t been included in 0.12 release.&lt;br/&gt;
I updated the fix for 0.14.&lt;/p&gt;

&lt;p&gt;thank you.&lt;/p&gt;</comment>
                            <comment id="13981071" author="hiveqa" created="Fri, 25 Apr 2014 14:45:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12596273/HIVE-4577.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12596273/HIVE-4577.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/39/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/39/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/39/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/39/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-39/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;serde/src/test/org/apache/hadoop/hive/serde2/avro/Utils.java&apos;
Reverted &apos;serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&apos;
Reverted &apos;serde/src/test/org/apache/hadoop/hive/serde2/avro/TestGenericAvroRecordWritable.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/avro/SchemaToTypeInfo.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerdeUtils.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroGenericRecordWritable.java&apos;
Reverted &apos;ql/src/test/queries/clientpositive/avro_schema_literal.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target data/files/dec.txt itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientpositive/avro_decimal.q.out ql/src/test/queries/clientpositive/avro_decimal.q
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1590044.

At revision 1590044.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12596273&lt;/p&gt;</comment>
                            <comment id="13981853" author="thejas" created="Sat, 26 Apr 2014 02:41:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bingl&quot; class=&quot;user-hover&quot; rel=&quot;bingl&quot;&gt;bingl&lt;/a&gt;&lt;br/&gt;
Sorry about the delay in getting your patch in.&lt;br/&gt;
Looks like the patch didn&apos;t apply properly on trunk.&lt;br/&gt;
I took a look at the patch, I think it would be better to use this library - &lt;a href=&quot;http://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/text/StrTokenizer.html#StrTokenizer(java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/text/StrTokenizer.html#StrTokenizer(java.lang.String&lt;/a&gt;, org.apache.commons.lang.text.StrMatcher, org.apache.commons.lang.text.StrMatcher) .&lt;br/&gt;
We already include that library in hive. Reusing it would mean the chances of bugs are lower.&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; mentioned, can you also include &quot;dfs -ls &quot; commands that show the files in output ? (Or any command that verifies that the files got created as expected).&lt;/p&gt;</comment>
                            <comment id="14041657" author="libing" created="Tue, 24 Jun 2014 03:50:50 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;&lt;br/&gt;
Thank you for your comments.&lt;br/&gt;
I tried StrTokenizer, seems it only can handle part of scenarios, like&lt;/p&gt;

&lt;p&gt;dfs -mkdir &quot;hello world&quot;   // StrTokenizer(cmd,splitDel,doubleQuo)&lt;br/&gt;
dfs -mkdir &apos;hello world&quot;   // StrTokenizer(cmd,splitDel,singleQuo)&lt;/p&gt;

&lt;p&gt;But can&apos;t handle the wrong input. like&lt;br/&gt;
dfs -mkdir &quot;abd&apos;db&quot;abe&apos; &quot;   // &quot; and &apos; are not matched&lt;/p&gt;

&lt;p&gt;Let me know if I missed something.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="14513887" author="libing" created="Mon, 27 Apr 2015 10:36:40 +0000"  >&lt;p&gt;Re-create the patch file based on the latest code in trunk&lt;/p&gt;</comment>
                            <comment id="14513892" author="libing" created="Mon, 27 Apr 2015 10:39:06 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;&lt;br/&gt;
I generated a new patch for this defect, also fixed a bug in my previous patch.&lt;br/&gt;
Could you help to review it?&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="14513965" author="hiveqa" created="Mon, 27 Apr 2015 11:57:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12728375/HIVE-4577.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12728375/HIVE-4577.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 8815 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3605/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3605/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3605/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3605/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3605/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3605/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12728375 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14518930" author="libing" created="Wed, 29 Apr 2015 08:00:35 +0000"  >&lt;p&gt;The failure should not related to this patch.&lt;/p&gt;</comment>
                            <comment id="14567075" author="libing" created="Mon, 1 Jun 2015 08:46:11 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;&lt;br/&gt;
Could you review the patch again? Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="14605018" author="sushanth" created="Mon, 29 Jun 2015 01:14:57 +0000"  >&lt;p&gt;Removing fix version of 1.2.1 since this is not part of the already-released 1.2.1 release. Please set appropriate commit version when this fix is committed.&lt;/p&gt;</comment>
                            <comment id="14736074" author="libing" created="Wed, 9 Sep 2015 03:19:03 +0000"  >&lt;p&gt;I submitted a review request manually.&lt;br/&gt;
The link is &lt;a href=&quot;https://reviews.apache.org/r/38199/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/38199/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14997208" author="ashutoshc" created="Mon, 9 Nov 2015 19:33:26 +0000"  >&lt;p&gt;Hadoop FsShell is passed in token[] using GenericOptionsParser to parse the string. &lt;a href=&quot;https://github.com/apache/hadoop/blob/release-2.6.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/ToolRunner.java#L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hadoop/blob/release-2.6.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/ToolRunner.java#L64&lt;/a&gt; &lt;br/&gt;
I think instead of adding custom splitCmd() to parse it, using GenericOptionsParser will make us consistent with Hadoop&apos;s parsing code.&lt;/p&gt;</comment>
                            <comment id="15081257" author="libing" created="Mon, 4 Jan 2016 15:17:23 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;&lt;br/&gt;
Thank you for your suggestion, I&apos;m afraid we can&apos;t use GenericOptionsParser in Hive.&lt;/p&gt;

&lt;p&gt;In hadoop, before it runs into FsShell.main(), Linux shell already parses the parameters.&lt;br/&gt;
When it calls &lt;br/&gt;
res = ToolRunner.run(shell, argv);  // &quot; or &apos; already been removed from argv&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost bin&amp;#93;&lt;/span&gt;# hadoop fs -ls &quot;ha ah&quot;&lt;br/&gt;
/usr/jdk64/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/bin/java ... org.apache.hadoop.fs.FsShell -ls ha ah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost bin&amp;#93;&lt;/span&gt;# hadoop fs -ls &apos;a&apos;&lt;br/&gt;
/usr/jdk64/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/bin/java ... org.apache.hadoop.fs.FsShell -ls a&lt;/p&gt;

&lt;p&gt;While in Hive, after launch HiveCLI, org.apache.hadoop.hive.cli.CliDriver will handle the left inputs.&lt;br/&gt;
Which means that the java class in Hive should parse the input with &quot; or &apos; by itself.&lt;/p&gt;

&lt;p&gt;That&apos;s the reason I added a customized splitCmd() method.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Bing&lt;/p&gt;</comment>
                            <comment id="15081258" author="libing" created="Mon, 4 Jan 2016 15:17:24 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;&lt;br/&gt;
Thank you for your suggestion, I&apos;m afraid we can&apos;t use GenericOptionsParser in Hive.&lt;/p&gt;

&lt;p&gt;In hadoop, before it runs into FsShell.main(), Linux shell already parses the parameters.&lt;br/&gt;
When it calls &lt;br/&gt;
res = ToolRunner.run(shell, argv);  // &quot; or &apos; already been removed from argv&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost bin&amp;#93;&lt;/span&gt;# hadoop fs -ls &quot;ha ah&quot;&lt;br/&gt;
/usr/jdk64/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/bin/java ... org.apache.hadoop.fs.FsShell -ls ha ah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@localhost bin&amp;#93;&lt;/span&gt;# hadoop fs -ls &apos;a&apos;&lt;br/&gt;
/usr/jdk64/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/bin/java ... org.apache.hadoop.fs.FsShell -ls a&lt;/p&gt;

&lt;p&gt;While in Hive, after launch HiveCLI, org.apache.hadoop.hive.cli.CliDriver will handle the left inputs.&lt;br/&gt;
Which means that the java class in Hive should parse the input with &quot; or &apos; by itself.&lt;/p&gt;

&lt;p&gt;That&apos;s the reason I added a customized splitCmd() method.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Bing&lt;/p&gt;</comment>
                            <comment id="16080758" author="vgumashta" created="Mon, 10 Jul 2017 18:01:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libing&quot; class=&quot;user-hover&quot; rel=&quot;libing&quot;&gt;libing&lt;/a&gt; thanks a lot for the patch and apologies that this went out of sight. Would you like to rebase it one more time for master? I am +1 on the changes. &lt;/p&gt;</comment>
                            <comment id="16080778" author="hiveqa" created="Mon, 10 Jul 2017 18:08:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12728375/HIVE-4577.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12728375/HIVE-4577.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5936/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5936/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5936/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5936/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5936/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5936/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-10 18:08:49.193
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-5936/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-10 18:08:49.197
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 7f5460d HIVE-16981: hive.optimize.bucketingsorting should compare the schema before removing RS (Pengcheng Xiong, reviewed by Ashutosh Chauhan)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 7f5460d HIVE-16981: hive.optimize.bucketingsorting should compare the schema before removing RS (Pengcheng Xiong, reviewed by Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-10 18:08:49.895
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/ql/src/java/org/apache/hadoop/hive/ql/processors/DfsProcessor.java: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12728375 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16081599" author="libing" created="Tue, 11 Jul 2017 03:39:30 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt;&lt;br/&gt;
Yes, sure. I will rebase the patch with the latest master.&lt;/p&gt;</comment>
                            <comment id="16081730" author="libing" created="Tue, 11 Jul 2017 06:08:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4577&quot; title=&quot;hive CLI can&amp;#39;t handle hadoop dfs command  with space and quotes.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4577&quot;&gt;&lt;del&gt;HIVE-4577&lt;/del&gt;&lt;/a&gt;.5.patch is generated based on the latest master branch.&lt;/p&gt;</comment>
                            <comment id="16081884" author="hiveqa" created="Tue, 11 Jul 2017 08:46:41 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12876565/HIVE-4577.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12876565/HIVE-4577.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10839 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=237)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=99)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5953/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5953/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5953/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5953/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5953/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5953/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12876565 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16082711" author="vgumashta" created="Tue, 11 Jul 2017 18:29:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libing&quot; class=&quot;user-hover&quot; rel=&quot;libing&quot;&gt;libing&lt;/a&gt;. Looks like some test failures might need a look. &lt;/p&gt;</comment>
                            <comment id="16084174" author="libing" created="Wed, 12 Jul 2017 15:38:29 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt;. I could reproduce TestPerfCliDriver &lt;span class=&quot;error&quot;&gt;&amp;#91;query14&amp;#93;&lt;/span&gt; in my env, and update its golden file. The failure of TestMiniLlapLocalCliDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;vector_if_expr&amp;#93;&lt;/span&gt; and TestBeeLineDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;materialized_view_create_rewrite&amp;#93;&lt;/span&gt; should not caused by this patch.&lt;/p&gt;</comment>
                            <comment id="16084376" author="hiveqa" created="Wed, 12 Jul 2017 17:46:53 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12876871/HIVE-4577.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12876871/HIVE-4577.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10841 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_12] (batchId=237)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dfscmd] (batchId=33)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[mergejoin] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=99)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5984/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5984/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5984/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5984/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5984/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5984/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12876871 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16085049" author="libing" created="Thu, 13 Jul 2017 02:08:30 +0000"  >&lt;p&gt;Add the golden file for dfscmd.q&lt;/p&gt;</comment>
                            <comment id="16085176" author="hiveqa" created="Thu, 13 Jul 2017 04:50:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12877002/HIVE-4577.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12877002/HIVE-4577.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5998/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5998/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5998/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5998/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5998/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5998/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-13 04:50:25.104
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-5998/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-13 04:50:25.107
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 31a7987 HIVE-16975: Vectorization: Fully vectorize CAST date as TIMESTAMP so VectorUDFAdaptor is now used (Teddy Choi, reviewed by Matt McCline)
+ git clean -f -d
Removing ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcRecordUpdater.java.orig
Removing ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderAdaptor.java
Removing ql/src/java/org/apache/hadoop/hive/ql/io/orc/VectorizedOrcAcidRowBatchReader.java.orig
Removing ql/src/test/queries/clientpositive/llap_acid_fast.q
Removing ql/src/test/results/clientpositive/llap/llap_acid.q.out
Removing ql/src/test/results/clientpositive/llap/llap_acid_fast.q.out
Removing ql/src/test/results/clientpositive/llap_acid_fast.q.out
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 31a7987 HIVE-16975: Vectorization: Fully vectorize CAST date as TIMESTAMP so VectorUDFAdaptor is now used (Teddy Choi, reviewed by Matt McCline)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-07-13 04:50:30.983
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/ql/src/java/org/apache/hadoop/hive/ql/processors/DfsProcessor.java: No such file or directory
error: a/ql/src/test/results/clientpositive/perf/query14.q.out: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12877002 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16085203" author="vgumashta" created="Thu, 13 Jul 2017 05:25:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libing&quot; class=&quot;user-hover&quot; rel=&quot;libing&quot;&gt;libing&lt;/a&gt; Looks like patch v7 didn&apos;t apply on master&lt;/p&gt;</comment>
                            <comment id="16085757" author="libing" created="Thu, 13 Jul 2017 14:26:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt;, thank you for reviewing it.&lt;br/&gt;
The failure of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4577&quot; title=&quot;hive CLI can&amp;#39;t handle hadoop dfs command  with space and quotes.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4577&quot;&gt;&lt;del&gt;HIVE-4577&lt;/del&gt;&lt;/a&gt;.7.patch is caused by the changes in query14.q.out.&lt;br/&gt;
I removed previous patch #6 and #7 (because the contents are similar) , and re-generated one based on the latest master branch, named it as patch #6.&lt;/p&gt;
</comment>
                            <comment id="16085976" author="hiveqa" created="Thu, 13 Jul 2017 16:43:29 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12877083/HIVE-4577.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12877083/HIVE-4577.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10890 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[insert_overwrite_local_directory_1] (batchId=237)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=145)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=232)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6010/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6010/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/6010/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/6010/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-6010/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-6010/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12877083 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16086900" author="libing" created="Fri, 14 Jul 2017 05:51:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt; the failures in build#6010 should not be caused by this patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="16087669" author="vgumashta" created="Fri, 14 Jul 2017 17:41:40 +0000"  >&lt;p&gt;Committed to master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libing&quot; class=&quot;user-hover&quot; rel=&quot;libing&quot;&gt;libing&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="16088781" author="lefty@hortonworks.com" created="Sun, 16 Jul 2017 02:51:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt;, is this also going to be committed to branch-2.2?  If not, the fix version should only show 3.0.0.  Thanks.&lt;/p&gt;</comment>
                            <comment id="16088785" author="lefty@hortonworks.com" created="Sun, 16 Jul 2017 02:59:54 +0000"  >&lt;p&gt;Doc note:  This should be documented in two wikidocs that describe the dfs command:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Commands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Commands &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli#LanguageManualCli-HiveInteractiveShellCommands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CLI &amp;#8211; Hive Interactive Shell Commands &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC3.0 label.  (A TODOC2.2.0 label should also be added if the patch gets committed to branch-2.2.)&lt;/p&gt;</comment>
                            <comment id="16090425" author="vgumashta" created="Mon, 17 Jul 2017 19:37:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt;. I&apos;ve adjusted the target/fix versions.&lt;/p&gt;</comment>
                            <comment id="16090426" author="vgumashta" created="Mon, 17 Jul 2017 19:38:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=libing&quot; class=&quot;user-hover&quot; rel=&quot;libing&quot;&gt;libing&lt;/a&gt; Would you like to add a doc note as mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt;? Thanks&lt;/p&gt;</comment>
                            <comment id="16486264" author="vgarg" created="Tue, 22 May 2018 23:59:52 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583801" name="HIVE-4577.1.patch" size="3005" author="libing" created="Mon, 20 May 2013 06:38:43 +0000"/>
                            <attachment id="12583959" name="HIVE-4577.2.patch" size="3651" author="libing" created="Tue, 21 May 2013 04:48:23 +0000"/>
                            <attachment id="12596273" name="HIVE-4577.3.patch.txt" size="3651" author="appodictic" created="Tue, 6 Aug 2013 03:03:38 +0000"/>
                            <attachment id="12728375" name="HIVE-4577.4.patch" size="3697" author="libing" created="Mon, 27 Apr 2015 10:36:40 +0000"/>
                            <attachment id="12876565" name="HIVE-4577.5.patch" size="3578" author="libing" created="Tue, 11 Jul 2017 06:06:36 +0000"/>
                            <attachment id="12877083" name="HIVE-4577.6.patch" size="4385" author="libing" created="Thu, 13 Jul 2017 14:23:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kpyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>