<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:03:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-19038] LLAP: Service loader throws &quot;Provider not found&quot; exception if hive-llap-server is in class path while loading tokens</title>
                <link>https://issues.apache.org/jira/browse/HIVE-19038</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While&#160;testing storm in secure mode, the hive-llap-server jar file was included in the class path and resulted in the below exception while trying to renew credentials&#160;when invoking &quot;org.apache.hadoop.security.token.Token.getRenewer&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.util.ServiceConfigurationError: org.apache.hadoop.security.token.TokenRenewer: Provider 
org.apache.hadoop.hive.llap.security.LlapTokenIdentifier.Renewer not found at 
java.util.ServiceLoader.fail(ServiceLoader.java:239) ~[?:1.8.0_161] at 
java.util.ServiceLoader.access$300(ServiceLoader.java:185) ~[?:1.8.0_161] at 
java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:372) ~[?:1.8.0_161] at 
java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404) ~[?:1.8.0_161] at 
java.util.ServiceLoader$1.next(ServiceLoader.java:480) ~[?:1.8.0_161] at 
org.apache.hadoop.security.token.Token.getRenewer(Token.java:463) ~[hadoop-common-3.0.0.3.0.0.0-1064.jar:?] at org.apache.hadoop.security.token.Token.renew(Token.java:490) ~[hadoop-common-3.0.0.3.0.0.0-1064.jar:?] at org.apache.storm.hdfs.security.AutoHDFS.doRenew(AutoHDFS.java:159) ~[storm-autocreds-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.common.AbstractAutoCreds.renew(AbstractAutoCreds.java:104) ~[storm-autocreds-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161] at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161] at clojure.lang.Reflector.invokeMatchingMethod(Reflector.java:93) ~[clojure-1.7.0.jar:?] at clojure.lang.Reflector.invokeInstanceMethod(Reflector.java:28) ~[clojure-1.7.0.jar:?] at org.apache.storm.daemon.nimbus$renew_credentials$fn__9121$fn__9126.invoke(nimbus.clj:1450) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.daemon.nimbus$renew_credentials$fn__9121.invoke(nimbus.clj:1449) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.daemon.nimbus$renew_credentials.invoke(nimbus.clj:1439) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.daemon.nimbus$fn__9547$exec_fn__3301__auto____9548$fn__9567.invoke(nimbus.clj:2521) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.timer$schedule_recurring$this__1656.invoke(timer.clj:105) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.timer$mk_timer$fn__1639$fn__1640.invoke(timer.clj:50) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.timer$mk_timer$fn__1639.invoke(timer.clj:42) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at clojure.lang.AFn.run(AFn.java:22) ~[clojure-1.7.0.jar:?] at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161] 2018-03-22 22:08:59.088 o.a.s.util timer [ERROR] Halting process: (&quot;Error when processing an event&quot;) java.lang.RuntimeException: (&quot;Error when processing an event&quot;) at org.apache.storm.util$exit_process_BANG_.doInvoke(util.clj:341) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at clojure.lang.RestFn.invoke(RestFn.java:423) ~[clojure-1.7.0.jar:?] at org.apache.storm.daemon.nimbus$nimbus_data$fn__8334.invoke(nimbus.clj:221) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.timer$mk_timer$fn__1639$fn__1640.invoke(timer.clj:71) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at org.apache.storm.timer$mk_timer$fn__1639.invoke(timer.clj:42) ~[storm-core-1.2.1.3.0.0.0-1064.jar:1.2.1.3.0.0.0-1064] at clojure.lang.AFn.run(AFn.java:22) ~[clojure-1.7.0.jar:?] at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13147556">HIVE-19038</key>
            <summary>LLAP: Service loader throws &quot;Provider not found&quot; exception if hive-llap-server is in class path while loading tokens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arunmahadevan">Arun Mahadevan</assignee>
                                    <reporter username="arunmahadevan">Arun Mahadevan</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 23 Mar 2018 18:22:31 +0000</created>
                <updated>Wed, 24 Jun 2020 00:26:59 +0000</updated>
                            <resolved>Mon, 16 Apr 2018 17:08:46 +0000</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16411845" author="arunmahadevan" created="Fri, 23 Mar 2018 18:24:26 +0000"  >&lt;p&gt;The&#160;inner class should be specified in the&#160;right format in&lt;/p&gt;

&lt;p&gt;META-INF/services/org.apache.hadoop.security.token.TokenRenewer&lt;/p&gt;</comment>
                            <comment id="16411856" author="githubbot" created="Fri, 23 Mar 2018 18:30:36 +0000"  >&lt;p&gt;GitHub user arunmahadevan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/327&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/327&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19038&quot; title=&quot;LLAP: Service loader throws &amp;quot;Provider not found&amp;quot; exception if hive-llap-server is in class path while loading tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19038&quot;&gt;&lt;del&gt;HIVE-19038&lt;/del&gt;&lt;/a&gt;: Fixed inner class format for TokenRenewer in META-INF/services&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/arunmahadevan/hive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/arunmahadevan/hive&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19038&quot; title=&quot;LLAP: Service loader throws &amp;quot;Provider not found&amp;quot; exception if hive-llap-server is in class path while loading tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19038&quot;&gt;&lt;del&gt;HIVE-19038&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/327.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/327.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #327&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 306841bc21f65cdaf7845615095f37eb861ccde9&lt;br/&gt;
Author: Arun Mahadevan &amp;lt;arunm@...&amp;gt;&lt;br/&gt;
Date:   2018-03-23T18:28:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-19038&quot; title=&quot;LLAP: Service loader throws &amp;quot;Provider not found&amp;quot; exception if hive-llap-server is in class path while loading tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-19038&quot;&gt;&lt;del&gt;HIVE-19038&lt;/del&gt;&lt;/a&gt;: Fixed inner class format for TokenRenewer in META-INF/services&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16411857" author="gopalv" created="Fri, 23 Mar 2018 18:30:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arunmahadevan&quot; class=&quot;user-hover&quot; rel=&quot;arunmahadevan&quot;&gt;arunmahadevan&lt;/a&gt;: do you have a patch? This looks like a &quot;.Renewer&quot; -&amp;gt; &quot;$Renewer&quot;, but if you can confirm that, I can review&lt;/p&gt;</comment>
                            <comment id="16411858" author="arunmahadevan" created="Fri, 23 Mar 2018 18:31:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;gopalv&lt;/a&gt; raised -&#160;&lt;a href=&quot;https://github.com/apache/hive/pull/327&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/pull/327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16411859" author="gopalv" created="Fri, 23 Mar 2018 18:31:30 +0000"  >&lt;p&gt;LGTM - +1 tests pending&lt;/p&gt;</comment>
                            <comment id="16439726" author="gopalv" created="Mon, 16 Apr 2018 17:08:46 +0000"  >&lt;p&gt;Pushed to master&lt;/p&gt;</comment>
                            <comment id="16484889" author="ashutoshc" created="Tue, 22 May 2018 23:13:19 +0000"  >&lt;p&gt;This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3rpv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>