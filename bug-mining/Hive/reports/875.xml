<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:01:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2498] Group by operator does not estimate size of Timestamp &amp; Binary data correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2498</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It currently defaults to default case and returns constant value, whereas we can do better by getting actual size at runtime.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12526796">HIVE-2498</key>
            <summary>Group by operator does not estimate size of Timestamp &amp; Binary data correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Oct 2011 05:20:52 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:06 +0000</updated>
                            <resolved>Thu, 5 Jul 2012 19:53:58 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13125604" author="ashutoshc" created="Wed, 12 Oct 2011 05:21:53 +0000"  >&lt;p&gt;Patch to correctly get the size at runtime.&lt;/p&gt;</comment>
                            <comment id="13125606" author="ashutoshc" created="Wed, 12 Oct 2011 05:22:45 +0000"  >&lt;p&gt;Marking Patch Available.&lt;/p&gt;</comment>
                            <comment id="13179215" author="cwsteinbach" created="Wed, 4 Jan 2012 01:41:58 +0000"  >&lt;p&gt;@Ashutosh: Please rebase the patch and submit a phabricator review request. Thanks.&lt;/p&gt;</comment>
                            <comment id="13184011" author="phabricator@reviews.facebook.net" created="Wed, 11 Jan 2012 12:23:38 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; title=&quot;Group by operator does not estimate size of Timestamp &amp;amp; Binary data correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2498&quot;&gt;&lt;del&gt;HIVE-2498&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Group by operator doesnt estimate size of Timestamp &amp;amp; Binary data correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2498&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Better size estimate for timestamp and binary datatypes&lt;/p&gt;

&lt;p&gt;  It currently defaults to default case and returns constant value, whereas we can do better by getting actual size at runtime.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D1185&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2463/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/2463/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13195852" author="ashutoshc" created="Sun, 29 Jan 2012 21:51:38 +0000"  >&lt;p&gt;Ready for review.&lt;/p&gt;</comment>
                            <comment id="13223965" author="ashutoshc" created="Wed, 7 Mar 2012 04:32:24 +0000"  >&lt;p&gt;Current patch cleanly applies on trunk. In any case, here is the rebased patch. &lt;/p&gt;</comment>
                            <comment id="13223966" author="ashutoshc" created="Wed, 7 Mar 2012 04:33:09 +0000"  >&lt;p&gt;Ready for review.&lt;/p&gt;</comment>
                            <comment id="13223968" author="phabricator@reviews.facebook.net" created="Wed, 7 Mar 2012 04:45:56 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; title=&quot;Group by operator does not estimate size of Timestamp &amp;amp; Binary data correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2498&quot;&gt;&lt;del&gt;HIVE-2498&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Group by operator doesnt estimate size of Timestamp &amp;amp; Binary data correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2498&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Rebased to trunk.&lt;/p&gt;

&lt;p&gt;  It currently defaults to default case and returns constant value, whereas we can do better by getting actual size at runtime.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D2145&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_complex_types.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_complex_types.q&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4707/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/4707/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13223971" author="ashutoshc" created="Wed, 7 Mar 2012 04:54:50 +0000"  >&lt;p&gt;Ignore the previous review request. That was meant for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2517&quot; title=&quot;Support group by on struct type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2517&quot;&gt;&lt;del&gt;HIVE-2517&lt;/del&gt;&lt;/a&gt;. Use the one above that one for this issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; title=&quot;Group by operator does not estimate size of Timestamp &amp;amp; Binary data correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2498&quot;&gt;&lt;del&gt;HIVE-2498&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13258487" author="ashutoshc" created="Fri, 20 Apr 2012 19:18:33 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13402855" author="appodictic" created="Thu, 28 Jun 2012 05:16:02 +0000"  >&lt;p&gt;@Ashutosh this looks good to me. Any changes you would like since it has been a while?&lt;/p&gt;</comment>
                            <comment id="13405953" author="ashutoshc" created="Tue, 3 Jul 2012 18:13:29 +0000"  >&lt;p&gt;@Ed,&lt;br/&gt;
It looks good  and ready to get in. &lt;/p&gt;</comment>
                            <comment id="13406007" author="ashutoshc" created="Tue, 3 Jul 2012 20:31:19 +0000"  >&lt;p&gt;Ed,&lt;br/&gt;
Pleas find the updated rebased patch. &lt;/p&gt;</comment>
                            <comment id="13407437" author="appodictic" created="Thu, 5 Jul 2012 19:53:59 +0000"  >&lt;p&gt;Committed. Thanks Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13547986" author="hudson" created="Wed, 9 Jan 2013 10:23:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2498&quot; title=&quot;Group by operator does not estimate size of Timestamp &amp;amp; Binary data correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2498&quot;&gt;&lt;del&gt;HIVE-2498&lt;/del&gt;&lt;/a&gt; Group by operator does not estimate size of Timestamp &amp;amp; Binary data correctly. Ashutosh Chauhan (via egc) (Revision 1357839)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1357839&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1357839&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550027" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:06 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510178" name="ASF.LICENSE.NOT.GRANTED--HIVE-2498.D1185.1.patch" size="4745" author="phabricator@reviews.facebook.net" created="Wed, 11 Jan 2012 12:23:39 +0000"/>
                            <attachment id="12498706" name="hive-2498.patch" size="4751" author="ashutoshc" created="Wed, 12 Oct 2011 05:21:53 +0000"/>
                            <attachment id="12517363" name="hive-2498_1.patch" size="4751" author="ashutoshc" created="Wed, 7 Mar 2012 04:32:23 +0000"/>
                            <attachment id="12534971" name="hive-2498_2.patch" size="4748" author="ashutoshc" created="Tue, 3 Jul 2012 20:31:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>