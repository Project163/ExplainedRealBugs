<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:32:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-9736] StorageBasedAuthProvider should batch namenode-calls where possible.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-9736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider a table partitioned by 2 keys (dt, region). Say a dt partition could have 10000 associated regions. Consider that the user does:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; my_table &lt;span class=&quot;code-keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;PARTITION&lt;/span&gt; (dt=&lt;span class=&quot;code-quote&quot;&gt;&apos;20150101&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As things stand now, &lt;tt&gt;StorageBasedAuthProvider&lt;/tt&gt; will make individual &lt;tt&gt;DistributedFileSystem.listStatus()&lt;/tt&gt; calls for each partition-directory, and authorize each one separately. It&apos;d be faster to batch the calls, and examine multiple FileStatus objects at once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776346">HIVE-9736</key>
            <summary>StorageBasedAuthProvider should batch namenode-calls where possible.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                            <label>TODOC1.2</label>
                    </labels>
                <created>Fri, 20 Feb 2015 02:56:22 +0000</created>
                <updated>Fri, 13 Dec 2019 15:12:32 +0000</updated>
                                            <version>1.2.1</version>
                                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14333639" author="mithun" created="Mon, 23 Feb 2015 18:41:43 +0000"  >&lt;p&gt;I&apos;ve added overloads to methods in &lt;tt&gt;FileUtils&lt;/tt&gt;, &lt;tt&gt;HadoopShims&lt;/tt&gt; and &lt;tt&gt;DefaultFileAccess&lt;/tt&gt; to work on more than a single Path/FileStatus at a time.&lt;br/&gt;
I&apos;ve also grouped &lt;tt&gt;listStatus&lt;/tt&gt; calls into batches, to avoid a frequent round-trips to the NN.&lt;/p&gt;</comment>
                            <comment id="14334157" author="mithun" created="Tue, 24 Feb 2015 00:30:41 +0000"  >&lt;p&gt;Tagging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;, since this marches all over the security-work (and SBAP).&lt;/p&gt;

&lt;p&gt;Sorry the patch looks a little big... The actual changes aren&apos;t, really.&lt;/p&gt;</comment>
                            <comment id="14335645" author="thejas" created="Tue, 24 Feb 2015 23:19:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt; Can you please upload the patch to reviewboard ?&lt;/p&gt;</comment>
                            <comment id="14342835" author="mithun" created="Mon, 2 Mar 2015 06:40:11 +0000"  >&lt;p&gt;The review on RB is &lt;a href=&quot;https://reviews.apache.org/r/31615/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r/31615&lt;/a&gt;. Apologies for the delay.&lt;/p&gt;</comment>
                            <comment id="14486151" author="sushanth" created="Wed, 8 Apr 2015 21:56:29 +0000"  >&lt;p&gt;I&apos;ve not looked at this patch in detail yet. But I&apos;d also like to point to some refactoring &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt; did recently in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10223&quot; title=&quot;Consolidate several redundant FileSystem API calls.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10223&quot;&gt;&lt;del&gt;HIVE-10223&lt;/del&gt;&lt;/a&gt; for you to look at to see that we gel with some of Chris&apos;s work.&lt;/p&gt;</comment>
                            <comment id="14486159" author="mithun" created="Wed, 8 Apr 2015 22:02:39 +0000"  >&lt;p&gt;Ok, I&apos;d better rebase this change.&lt;/p&gt;</comment>
                            <comment id="14486193" author="cnauroth" created="Wed, 8 Apr 2015 22:20:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt;.  Great ideas in this patch!  I&apos;d be happy to help code review (non-binding) on a rebased version of the patch.  I&apos;ll watch for it.  Thanks!&lt;/p&gt;</comment>
                            <comment id="14486260" author="mithun" created="Wed, 8 Apr 2015 22:56:22 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;: Good to meet you, sir. I&apos;d value your input on this change, given that you&apos;ve worked on the SBAP already.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Great ideas in this patch!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Aww, shucks... You&apos;re only saying that because it&apos;s true. ;p &lt;/p&gt;

&lt;p&gt;I should have a rebased version for you shortly. I&apos;d better sort &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9674&quot; title=&quot;*DropPartitionEvent should handle partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9674&quot;&gt;&lt;del&gt;HIVE-9674&lt;/del&gt;&lt;/a&gt; out first.&lt;/p&gt;</comment>
                            <comment id="14486801" author="mithun" created="Thu, 9 Apr 2015 06:14:39 +0000"  >&lt;p&gt;The rebased patch, as promised. &lt;/p&gt;</comment>
                            <comment id="14492966" author="cnauroth" created="Mon, 13 Apr 2015 19:51:33 +0000"  >&lt;p&gt;Thank you for the rebased patch.  It looks great to me overall.  I&apos;ve entered a few comments in ReviewBoard for your consideration regarding consolidation of RPC calls and a few other minor things.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/31615/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/31615/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14513321" author="mithun" created="Sun, 26 Apr 2015 23:02:46 +0000"  >&lt;p&gt;Re-rebased patch, incorporating Chris&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="14518695" author="cnauroth" created="Wed, 29 Apr 2015 04:17:09 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt;.  Thank you for uploading a new patch.&lt;/p&gt;

&lt;p&gt;I was unable to apply patch v3 to the master branch.  Does it need to be rebased, or should I be working with a different branch?&lt;/p&gt;

&lt;p&gt;There was one suggestion I made on Review Board that still isn&apos;t implemented.  In &lt;tt&gt;Hadoop23Shims#checkFileAccess&lt;/tt&gt;, we can combine the multiple &lt;tt&gt;actions&lt;/tt&gt; by using &lt;tt&gt;FsAction#or&lt;/tt&gt;, and then call &lt;tt&gt;accessMethod.invoke&lt;/tt&gt; just once to do the check in a single RPC (per file).  Were you planning to make this change, or is there a reason you decided not to do it?&lt;/p&gt;

&lt;p&gt;Aside from that, I can see all of my other feedback has been addressed.  Thanks again!&lt;/p&gt;</comment>
                            <comment id="14518834" author="mithun" created="Wed, 29 Apr 2015 06:38:21 +0000"  >&lt;p&gt;Hello, Chris. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;... we can combine the multiple actions by using FsAction#or, and then call accessMethod.invoke just once...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yikes! I might&apos;ve missed incorporating that suggestion by accident. Thank you for following up. I&apos;ll update the patch shortly.&lt;/p&gt;</comment>
                            <comment id="14518929" author="mithun" created="Wed, 29 Apr 2015 08:00:33 +0000"  >&lt;p&gt;The reason this patch didn&apos;t apply to trunk/ is that it depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9681&quot; title=&quot;Extend HiveAuthorizationProvider to support partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9681&quot;&gt;&lt;del&gt;HIVE-9681&lt;/del&gt;&lt;/a&gt;. :/&lt;/p&gt;

&lt;p&gt;Here&apos;s the patch that incorporates &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;&apos;s suggestion to combine &lt;tt&gt;FsActions&lt;/tt&gt; into a single instance, to reduce RPCs. I&apos;m afraid that still doesn&apos;t obviate the overload we added to &lt;tt&gt;Hadoop*Shims*&lt;/tt&gt; since we needed a new overload anyway to pluralize the &lt;tt&gt;FileStatus&lt;/tt&gt; argument.&lt;/p&gt;

&lt;p&gt;The compromise in the patch is to reduce the RPC calls, but keep the overload.&lt;/p&gt;</comment>
                            <comment id="14518943" author="sushanth" created="Wed, 29 Apr 2015 08:08:19 +0000"  >&lt;p&gt;Hi, just so this gets into the precommit queue, could you upload a &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9736&quot; title=&quot;StorageBasedAuthProvider should batch namenode-calls where possible.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9736&quot;&gt;HIVE-9736&lt;/a&gt;.5.patch which is really the combination of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9681&quot; title=&quot;Extend HiveAuthorizationProvider to support partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9681&quot;&gt;&lt;del&gt;HIVE-9681&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9736&quot; title=&quot;StorageBasedAuthProvider should batch namenode-calls where possible.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9736&quot;&gt;HIVE-9736&lt;/a&gt;.4.patch and set this jira to patch-available?&lt;/p&gt;

&lt;p&gt;When committing it, I&apos;ll be sure to use the .4.patch, even uploading a new .6.patch which is its equivalent to make it clear for future jira visitors, but this would make the precommit queue pick it up.&lt;/p&gt;</comment>
                            <comment id="14518947" author="mithun" created="Wed, 29 Apr 2015 08:15:13 +0000"  >&lt;p&gt;As per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;&apos;s suggestion, I&apos;ve squashed the patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9681&quot; title=&quot;Extend HiveAuthorizationProvider to support partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9681&quot;&gt;&lt;del&gt;HIVE-9681&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9736&quot; title=&quot;StorageBasedAuthProvider should batch namenode-calls where possible.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9736&quot;&gt;HIVE-9736&lt;/a&gt; into a single one. This should allow the patch to apply to trunk, for tests.&lt;/p&gt;

&lt;p&gt;(Good idea, Sush.)&lt;/p&gt;</comment>
                            <comment id="14518948" author="mithun" created="Wed, 29 Apr 2015 08:15:35 +0000"  >&lt;p&gt;Submitting for tests.&lt;/p&gt;</comment>
                            <comment id="14520508" author="sushanth" created="Wed, 29 Apr 2015 23:25:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;, could you please review this patch? I&apos;m waiting on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9681&quot; title=&quot;Extend HiveAuthorizationProvider to support partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9681&quot;&gt;&lt;del&gt;HIVE-9681&lt;/del&gt;&lt;/a&gt; test passing before committing that, so this patch should be treated in succession after that. (see .4.patch for this patch itself)&lt;/p&gt;

&lt;p&gt;Also, as a general note, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10444&quot; title=&quot;HIVE-10223 breaks hadoop-1 build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10444&quot;&gt;&lt;del&gt;HIVE-10444&lt;/del&gt;&lt;/a&gt; is in-queue as well, and hopefully this patch does not create any new -Phadoop-1 problems.&lt;/p&gt;</comment>
                            <comment id="14520852" author="hiveqa" created="Thu, 30 Apr 2015 04:46:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12729095/HIVE-9736.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12729095/HIVE-9736.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3655/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3655/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3655/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3655/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3655/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3655/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3655/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-git-master-source ]]
+ [[ ! -d apache-git-master-source/.git ]]
+ [[ ! -d apache-git-master-source ]]
+ cd apache-git-master-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 3f5659f HIVE-10235 Loop optimization for SIMD in ColumnDivideColumn.txt (chengxiang, reviewed by Gopal V)
+ git clean -f -d
Removing ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMultiPartitionAuthorizationProviderBase.java
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 3f5659f HIVE-10235 Loop optimization for SIMD in ColumnDivideColumn.txt (chengxiang, reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12729095 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14520892" author="cnauroth" created="Thu, 30 Apr 2015 05:34:19 +0000"  >&lt;p&gt;I have one remaining comment in Review Board suggesting a possible reusable &lt;tt&gt;combine&lt;/tt&gt; method for combining &lt;tt&gt;FsAction&lt;/tt&gt; values instead of duplicating the logic.  Aside from that very minor thing, I&apos;m basically +1 (non-binding) for the patch.  However, I still couldn&apos;t get the consolidated v5 patch to apply to master, so I couldn&apos;t check a build with &lt;tt&gt;-Phadoop-1&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14522338" author="sushanth" created="Thu, 30 Apr 2015 21:50:47 +0000"  >&lt;p&gt;(Note that given that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9681&quot; title=&quot;Extend HiveAuthorizationProvider to support partition-sets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9681&quot;&gt;&lt;del&gt;HIVE-9681&lt;/del&gt;&lt;/a&gt; has now been committed, you&apos;ll have to unsquish 9681 out of this for any further patch updates if you want tests to rerun)&lt;/p&gt;</comment>
                            <comment id="14527314" author="mithun" created="Mon, 4 May 2015 21:14:12 +0000"  >&lt;p&gt;Thanks for the review, Chris. &lt;/p&gt;

&lt;p&gt;Would it be alright if we moved the &lt;tt&gt;combine()&lt;/tt&gt; code to a common place as part of a separate JIRA? I didn&apos;t do this here because both call-sites are in different packages, and adding a dependency would be involved.&lt;/p&gt;</comment>
                            <comment id="14527348" author="cnauroth" created="Mon, 4 May 2015 21:29:36 +0000"  >&lt;p&gt;I figured we could make &lt;tt&gt;DefaultFileAccess#combine&lt;/tt&gt; public, and then &lt;tt&gt;Hadoop23Shims&lt;/tt&gt; could call it.  hive-shims-0.23 already has a dependency on hive-shims-common.  However, if there is a detail that I&apos;m missing, then I wouldn&apos;t intend to hold up the patch over making that change.&lt;/p&gt;

&lt;p&gt;+1 (non-binding) from me, and I defer to you on what&apos;s best to do with &lt;tt&gt;combine&lt;/tt&gt; right now.  Thank you for the patch, and thank you for responding to the code review feedback!&lt;/p&gt;</comment>
                            <comment id="14527362" author="cnauroth" created="Mon, 4 May 2015 21:36:53 +0000"  >&lt;p&gt;Just as a reminder, we were asked to check the build with &lt;tt&gt;-Phadoop-1&lt;/tt&gt;.  I can volunteer to do that, but I think we&apos;ll need one more final revision of the patch intended to be committed.  I&apos;m +1 (non-binding) for the changes shown in the last patch though, so if it&apos;s just a rebase, then that wouldn&apos;t change.&lt;/p&gt;</comment>
                            <comment id="14527420" author="mithun" created="Mon, 4 May 2015 22:05:29 +0000"  >&lt;p&gt;Rebased for the master branch.&lt;/p&gt;</comment>
                            <comment id="14527506" author="cnauroth" created="Mon, 4 May 2015 22:48:42 +0000"  >&lt;p&gt;I verified with both &lt;tt&gt;-Phadoop-2&lt;/tt&gt; and &lt;tt&gt;-Phadoop-1&lt;/tt&gt;.  Thanks again, Mithun!&lt;/p&gt;</comment>
                            <comment id="14528348" author="hiveqa" created="Tue, 5 May 2015 12:14:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12730299/HIVE-9736.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12730299/HIVE-9736.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 24 failed/errored test(s), 8895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_parts
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_unencrypted_tbl
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_with_different_encryption_keys
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_load_data_to_encrypted_tables
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_select_read_only_encrypted_tbl
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_disallow_transform
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_droppartition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_sba_drop_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_alterpart_loc
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropView
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccess
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessing
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessingCustomSetWhitelistAppend
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3731/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3731/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3731/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3731/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3731/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3731/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 24 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12730299 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14528696" author="sushanth" created="Tue, 5 May 2015 15:50:29 +0000"  >&lt;p&gt;+1 : Have looked through patch and it makes sense. Tests pass, and I trust Chris&apos; judgement on this for a more detailed verification. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Will commit to master and branch-1.2&lt;/p&gt;</comment>
                            <comment id="14528714" author="sushanth" created="Tue, 5 May 2015 15:59:54 +0000"  >&lt;p&gt;Committed to master and branch-1.2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnauroth&quot; class=&quot;user-hover&quot; rel=&quot;cnauroth&quot;&gt;cnauroth&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14528724" author="cnauroth" created="Tue, 5 May 2015 16:08:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;, thank you for your review and the commit!&lt;/p&gt;</comment>
                            <comment id="14531704" author="spena" created="Wed, 6 May 2015 23:45:28 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch is causing the above tests to fail due to the change on &lt;tt&gt;Hadoop23Shims.checkFileAccess(FileSystem fs, Iterator&amp;lt;FileStatus&amp;gt; statuses, EnumSet&amp;lt;FsAction&amp;gt; actions)&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;The line that fails is &lt;tt&gt;accessMethod.invoke(fs, statuses.next(), combine(actions));&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I an running hadoop 2.6.0, and the FileSystem.access() object accepts a Path and FsAction. When I run the code that checks patch permissions, I get this error: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; explain select * from a join b on a.id = b.id;
FAILED: SemanticException Unable to determine if hdfs://localhost:9000/user/hive/warehouse/a is read only: java.lang.IllegalArgumentException: argument type mismatch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is there a follow-up jira for this error?&lt;/p&gt;



</comment>
                            <comment id="14531722" author="sushanth" created="Wed, 6 May 2015 23:55:35 +0000"  >&lt;p&gt;Hi Sergio, thanks for the catch, have filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10638&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-10638&lt;/a&gt; for the same. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt;, could you please look at that issue? I will look through it too.&lt;/p&gt;</comment>
                            <comment id="14531800" author="sushanth" created="Thu, 7 May 2015 00:50:20 +0000"  >&lt;p&gt;The problem, as Sergio mentions, is that accessMethod is instantiated via reflection as a method that can take a Path and a FsAction. In the call, however, it is called with a FileStatus and an FsAction.&lt;/p&gt;

&lt;p&gt;To wit, this will fix it:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-          accessMethod.invoke(fs, statuses.next(), combine(actions));
+          accessMethod.invoke(fs, statuses.next().getPath(), combine(actions));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is easily fixed as a one-line fix, but I feel we need more testing. At the very least, I can see a case for a nullcheck past what I just mentioned.&lt;/p&gt;

&lt;p&gt;At this time, I recommend we close &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10638&quot; title=&quot;HIVE-9736 introduces issues with Hadoop23Shims.checkFileAccess&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10638&quot;&gt;&lt;del&gt;HIVE-10638&lt;/del&gt;&lt;/a&gt; as a DUPLICATE, revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9736&quot; title=&quot;StorageBasedAuthProvider should batch namenode-calls where possible.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9736&quot;&gt;HIVE-9736&lt;/a&gt;, reopen it, add this fix in, run through the precommit tests again, and then get it in.&lt;/p&gt;</comment>
                            <comment id="14531805" author="sushanth" created="Thu, 7 May 2015 00:52:06 +0000"  >&lt;p&gt;Revert-reopened for 1.2 and master.&lt;/p&gt;</comment>
                            <comment id="14531809" author="sushanth" created="Thu, 7 May 2015 00:57:20 +0000"  >&lt;p&gt;Also, since this is a performance patch rather than an outtage or regression, and since it is not trivial either, I&apos;m marking it as tentative for inclusion to 1.2.0, i.e. if it gets done in time, we will include it, but if not, we mark it for 1.2.1&lt;/p&gt;</comment>
                            <comment id="14531851" author="mithun" created="Thu, 7 May 2015 01:23:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;, thanks for reporting the bug. Sorry for the inconvenience. I&apos;ll update the patch and see if that sorts things out.&lt;/p&gt;</comment>
                            <comment id="14531885" author="mithun" created="Thu, 7 May 2015 02:16:41 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;: Quick question about the null-check: If the &lt;tt&gt;statuses&lt;/tt&gt; are a result of &lt;tt&gt;FileSystem.listStatus(Path[])&lt;/tt&gt;, then I don&apos;t see them being null, or returning null from &lt;tt&gt;FileStatus.getPath()&lt;/tt&gt;. I think I might have missed the point you made.&lt;/p&gt;</comment>
                            <comment id="14531941" author="mithun" created="Thu, 7 May 2015 03:41:33 +0000"  >&lt;p&gt;Changed to use the &lt;tt&gt;Path&lt;/tt&gt; instead of &lt;tt&gt;FileStatus&lt;/tt&gt;. Re-submitting for tests.&lt;/p&gt;</comment>
                            <comment id="14531961" author="cnauroth" created="Thu, 7 May 2015 04:07:09 +0000"  >&lt;p&gt;I apologize for missing this in my code review.  I&apos;m +1 (non-binding) for patch v7 pending a fresh test run.  I reran these tests locally and they passed, although they were also passing with the prior patch for me.  Mithun, thank you for updating the patch.&lt;/p&gt;</comment>
                            <comment id="14532252" author="sushanth" created="Thu, 7 May 2015 08:40:57 +0000"  >&lt;p&gt;Sorry about the null-check, yup, I meant to check statuses.next(), but looks like that&apos;s not necessary.&lt;/p&gt;</comment>
                            <comment id="14534035" author="lefty@hortonworks.com" created="Fri, 8 May 2015 07:32:17 +0000"  >&lt;p&gt;Doc note:  This adds configuration parameter &lt;b&gt;hive.authprovider.hdfs.liststatus.batch.size&lt;/b&gt; to HiveConf.java, so it needs to be documented in the wiki (for whatever release it ends up in).&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Authentication/Authorization&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; Authentication/Authorization &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14535528" author="sushanth" created="Fri, 8 May 2015 21:06:06 +0000"  >&lt;p&gt;I did not find this in the precommit queue, so I&apos;ve manually added it in now : build#3833 should test this.&lt;/p&gt;</comment>
                            <comment id="14535883" author="sushanth" created="Fri, 8 May 2015 23:30:11 +0000"  >&lt;p&gt;Removing fix version of 1.2.0 in preparation of release, since this is not a blocker for 1.2.0.&lt;/p&gt;</comment>
                            <comment id="14536981" author="hiveqa" created="Sun, 10 May 2015 01:14:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12731062/HIVE-9736.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12731062/HIVE-9736.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8912 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkClient - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3833/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3833/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3833/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3833/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3833/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3833/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12731062 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14588349" author="sushanth" created="Tue, 16 Jun 2015 16:45:54 +0000"  >&lt;p&gt;One more attempt to get this patch in - updating the patch slightly so as to not remove the dependency on java.util.Set in HadoopShims.java (since there is another function that now depends on it)&lt;/p&gt;

&lt;p&gt;Once the tests pass this time, I will get it in.&lt;/p&gt;</comment>
                            <comment id="14588792" author="hiveqa" created="Tue, 16 Jun 2015 21:19:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 9008 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4275/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4275/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4275/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4275/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4275/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4275/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12739895 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14588814" author="sushanth" created="Tue, 16 Jun 2015 21:31:52 +0000"  >&lt;p&gt;Looks like we have a regression : org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition is failing while it shouldn&apos;t. This happened in the 9th May run as well.&lt;/p&gt;

&lt;p&gt;Error Message : expected:&amp;lt;1&amp;gt; but was:&amp;lt;0&amp;gt;&lt;br/&gt;
Stacktrace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.AssertionError: expected:&amp;lt;1&amp;gt; but was:&amp;lt;0&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.junit.Assert.assertEquals(Assert.java:542)
	at org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.dropPartitionByOtherUser(TestStorageBasedMetastoreAuthorizationDrops.java:202)
	at org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition(TestStorageBasedMetastoreAuthorizationDrops.java:172)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;mithun&lt;/a&gt;, if we can look at this and resolve this, we can get this into 1.2.1, but if not, then I&apos;m afraid this will have to be deferred out of branch-1.2, and make it in 1.3/2.0 .&lt;/p&gt;</comment>
                            <comment id="16752547" author="zshao" created="Fri, 25 Jan 2019 18:27:47 +0000"  >&lt;p&gt;Are we sure that FileSystem.listStatus(Path[]) is faster than a loop over FileSystem.listStatus(Path)?&lt;/p&gt;

&lt;p&gt;The following code is in the Hadoop FIleSystem class.&#160; HDFS DistributedFileSystem class didn&apos;t override this method.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;public FileStatus[] listStatus(Path[] files, PathFilter filter) throws FileNotFoundException, IOException {&lt;/tt&gt;&lt;br/&gt;
{{ ArrayList&amp;lt;FileStatus&amp;gt; results = new ArrayList();}}&lt;/p&gt;

&lt;p&gt;{{ for(int i = 0; i &amp;lt; files.length; ++i) {}}&lt;br/&gt;
{{ this.listStatus(results, files&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;, filter);}}&lt;br/&gt;
{{ }}}&lt;/p&gt;

&lt;p&gt;{{ return (FileStatus[])results.toArray(new FileStatus&lt;span class=&quot;error&quot;&gt;&amp;#91;results.size()&amp;#93;&lt;/span&gt;);}}&lt;br/&gt;
&lt;tt&gt;}&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16752550" author="hiveqa" created="Fri, 25 Jan 2019 18:31:43 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/15795/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/15795/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/15795/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/15795/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-15795/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-15795/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-01-25 18:31:06.721
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-15795/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-01-25 18:31:06.724
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 6d4b19b HIVE-11708 : Logical operators raises ClassCastExceptions with NULL (Ryu Kobayashi via Ashutosh Chauhan)
+ git clean -f -d
Removing standalone-metastore/metastore-server/src/gen/
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 6d4b19b HIVE-11708 : Logical operators raises ClassCastExceptions with NULL (Ryu Kobayashi via Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-01-25 18:31:07.350
+ rm -rf ../yetus_PreCommit-HIVE-Build-15795
+ mkdir ../yetus_PreCommit-HIVE-Build-15795
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-15795
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-15795/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/common/FileUtils.java: does not exist in index
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java: does not exist in index
error: a/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: does not exist in index
error: patch failed: common/src/java/org/apache/hadoop/hive/common/FileUtils.java:25
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/common/FileUtils.java&apos; with conflicts.
error: patch failed: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:1634
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos; cleanly.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:18
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&apos; with conflicts.
error: patch failed: shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:29
Falling back to three-way merge...
Applied patch to &apos;shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java:18
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java:24
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java&apos; with conflicts.
Going to apply patch with: git apply -p1
error: patch failed: common/src/java/org/apache/hadoop/hive/common/FileUtils.java:25
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/common/FileUtils.java&apos; with conflicts.
error: patch failed: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:1634
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos; cleanly.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:18
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&apos; with conflicts.
error: patch failed: shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:29
Falling back to three-way merge...
Applied patch to &apos;shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java:18
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java:24
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java&apos; with conflicts.
U common/src/java/org/apache/hadoop/hive/common/FileUtils.java
U ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java
U shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java
U shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java
U shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java
+ result=1
+ &apos;[&apos; 1 -ne 0 &apos;]&apos;
+ rm -rf yetus_PreCommit-HIVE-Build-15795
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12739895 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16995221" author="mithun" created="Fri, 13 Dec 2019 00:05:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zshao&quot; class=&quot;user-hover&quot; rel=&quot;zshao&quot;&gt;zshao&lt;/a&gt;, sorry I missed your comment. You&apos;re right about this not being faster today, since the DFSClient currently just loops on the client-side. The intention was for the file-list to be pushed down to the name-node, so as to avoid the loop. We intended to request for the &lt;tt&gt;DFSClient&lt;/tt&gt; to implement this. :/&lt;/p&gt;</comment>
                            <comment id="16995693" author="hiveqa" created="Fri, 13 Dec 2019 15:12:32 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12739895/HIVE-9736.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/19918/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/19918/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/19918/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/19918/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-19918/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-19918/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-12-13 15:11:21.427
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-19918/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-12-13 15:11:21.430
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 25efd17 HIVE-22327: Repl: Ignore read-only transactions in notification log (Denys Kuzmenko reviewed by mahesh kumar behera and Peter Vary)
+ git clean -f -d
Removing standalone-metastore/metastore-server/src/gen/
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 25efd17 HIVE-22327: Repl: Ignore read-only transactions in notification log (Denys Kuzmenko reviewed by mahesh kumar behera and Peter Vary)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2019-12-13 15:11:22.847
+ rm -rf ../yetus_PreCommit-HIVE-Build-19918
+ mkdir ../yetus_PreCommit-HIVE-Build-19918
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-19918
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-19918/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/common/src/java/org/apache/hadoop/hive/common/FileUtils.java: does not exist in index
error: a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java: does not exist in index
error: a/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java: does not exist in index
error: a/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java: does not exist in index
error: a/shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: does not exist in index
error: patch failed: common/src/java/org/apache/hadoop/hive/common/FileUtils.java:25
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/common/FileUtils.java&apos; with conflicts.
error: patch failed: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:1634
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos; cleanly.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:18
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&apos; with conflicts.
error: patch failed: shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:29
Falling back to three-way merge...
Applied patch to &apos;shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java:18
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java:24
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java&apos; with conflicts.
Going to apply patch with: git apply -p1
error: patch failed: common/src/java/org/apache/hadoop/hive/common/FileUtils.java:25
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/common/FileUtils.java&apos; with conflicts.
error: patch failed: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:1634
Falling back to three-way merge...
Applied patch to &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos; cleanly.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:18
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&apos; with conflicts.
error: patch failed: shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:29
Falling back to three-way merge...
Applied patch to &apos;shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java:18
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java&apos; with conflicts.
error: patch failed: shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java:24
Falling back to three-way merge...
Applied patch to &apos;shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java&apos; with conflicts.
U common/src/java/org/apache/hadoop/hive/common/FileUtils.java
U ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java
U shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java
U shims/common/src/main/java/org/apache/hadoop/fs/DefaultFileAccess.java
U shims/common/src/main/java/org/apache/hadoop/hive/shims/HadoopShims.java
+ result=1
+ &apos;[&apos; 1 -ne 0 &apos;]&apos;
+ rm -rf yetus_PreCommit-HIVE-Build-19918
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12739895 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12818663">HIVE-10223</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12774768">HIVE-9681</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12773630">HIVE-9629</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12700229" name="HIVE-9736.1.patch" size="27984" author="mithun" created="Mon, 23 Feb 2015 18:41:43 +0000"/>
                            <attachment id="12724154" name="HIVE-9736.2.patch" size="29080" author="mithun" created="Thu, 9 Apr 2015 06:14:39 +0000"/>
                            <attachment id="12728275" name="HIVE-9736.3.patch" size="28402" author="mithun" created="Sun, 26 Apr 2015 23:02:46 +0000"/>
                            <attachment id="12729092" name="HIVE-9736.4.patch" size="28808" author="mithun" created="Wed, 29 Apr 2015 08:00:33 +0000"/>
                            <attachment id="12729095" name="HIVE-9736.5.patch" size="35424" author="mithun" created="Wed, 29 Apr 2015 08:15:13 +0000"/>
                            <attachment id="12730299" name="HIVE-9736.6.patch" size="28872" author="mithun" created="Mon, 4 May 2015 22:05:29 +0000"/>
                            <attachment id="12731062" name="HIVE-9736.7.patch" size="28882" author="mithun" created="Thu, 7 May 2015 03:41:33 +0000"/>
                            <attachment id="12739895" name="HIVE-9736.8.patch" size="28882" author="sushanth" created="Tue, 16 Jun 2015 16:45:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25u9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>