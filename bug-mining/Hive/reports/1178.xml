<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:05:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3464] Merging join tree may reorder joins which could be invalid</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3464</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, hive merges join tree from right to left regardless of join types, which may introduce join reordering. For example,&lt;/p&gt;

&lt;p&gt;select * from a join a b on a.key=b.key join a c on b.key=c.key join a d on a.key=d.key; &lt;/p&gt;

&lt;p&gt;Hive tries to merge join tree in a-d=b-d, a-d=a-b, b-c=a-b order and a-d=a-b and b-c=a-b will be merged. Final join tree is &quot;a-(bdc)&quot;.&lt;/p&gt;

&lt;p&gt;With this, ab-d join will be executed prior to ab-c. But if join type of -c and -d is different, this is not valid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607571">HIVE-3464</key>
            <summary>Merging join tree may reorder joins which could be invalid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="navis">Navis Ryu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 05:42:56 +0000</created>
                <updated>Thu, 16 May 2013 21:10:49 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 23:02:28 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13510210" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 01:50:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebase on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13510315" author="navis" created="Wed, 5 Dec 2012 06:46:43 +0000"  >&lt;p&gt;Running test&lt;/p&gt;</comment>
                            <comment id="13511135" author="phabricator@reviews.facebook.net" created="Thu, 6 Dec 2012 05:52:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed test result of recently added tests&lt;br/&gt;
  Added comments, rebased on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13558174" author="ashutoshc" created="Sun, 20 Jan 2013 06:59:43 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13558360" author="ashutoshc" created="Sun, 20 Jan 2013 19:48:51 +0000"  >&lt;p&gt;All tests passed.&lt;/p&gt;</comment>
                            <comment id="13558576" author="namit" created="Mon, 21 Jan 2013 07:04:39 +0000"  >&lt;p&gt;Questions/Comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13558577" author="phabricator@reviews.facebook.net" created="Mon, 21 Jan 2013 07:06:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q:19 I am totally confused.&lt;/p&gt;

&lt;p&gt;  What is the diff. between the above query and the first query in&lt;br/&gt;
  (((a-b)-c)-d)&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6273 Can you write a small wiki/note on that explaining the correct behavior ?&lt;br/&gt;
  This is very difficult to review otherwise.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13558666" author="phabricator@reviews.facebook.net" created="Mon, 21 Jan 2013 10:04:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q:19 1. (a-b-c-d)&lt;br/&gt;
  A(a.key=b.key) + B(b.key=c.key) + C(a.key=d.key)&lt;br/&gt;
  makes single join ABC(a.key=b.key=c.key=d.key)&lt;/p&gt;

&lt;p&gt;  2. ((a-b-d)-c) or (((a-b)-c)-d)&lt;br/&gt;
  A(a.key=b.key) + B(b.&quot;value&quot;=c.key) + C(a.key=d.key)&lt;br/&gt;
  before patch, hive tries merging C-&amp;gt;B, C-&amp;gt;A, B-&amp;gt;A order (outer to inner), and C-&amp;gt;A only will be merged, making two joins : AC(a.key=b.key=d.key) + B(b.value=c.key).&lt;br/&gt;
  This makes C join is executed prior to B and if join type of C is different from that of B, it&apos;s illegal.&lt;/p&gt;

&lt;p&gt;  Patch consist of two parts.&lt;br/&gt;
  1. reverted merging order (inner to outer). It makes it a little easier to check condition below.&lt;br/&gt;
  2. check if it&apos;s possible to switch join ordering (if it has same join type)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13591644" author="ashutoshc" created="Sun, 3 Mar 2013 05:26:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;namit&lt;/a&gt; you want to take a relook at this one?&lt;/p&gt;</comment>
                            <comment id="13614933" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:59:14 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=23079&amp;amp;id=30549#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409?vs=23079&amp;amp;id=30549#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13615729" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 20:37:15 +0000"  >&lt;p&gt;vikram has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Question with regard to a new api introduced in the patch.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6644 Could you explain the use of the left variable in the api? The only use always seems to set it to true and this variable is not used within the api itself.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13615730" author="vikram.dixit" created="Wed, 27 Mar 2013 20:37:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt; I went through the tests and code and I see how this affects the plan. Could you please add tests that produce some output rows. You could add something like&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;insert overwrite table a select * from src;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in your test file(mergejoins_mixed.q). I see that when I remove the explain statements associated with this test, a complicated query - inner, right outer (different key), full outer is what produces a different output. Others seem fine perhaps lucky. &lt;/p&gt;

&lt;p&gt;Also had a comment on code review.&lt;/p&gt;</comment>
                            <comment id="13616037" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 04:23:13 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6644 Firstly I tried merging in two directions (L to R, R to L) and it&apos;s not needed anymore. Will be removed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6614 It&apos;s a bug. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4212&quot; title=&quot;sort merge join should work for outer joins for more than 8 inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4212&quot;&gt;&lt;del&gt;HIVE-4212&lt;/del&gt;&lt;/a&gt; extended tag value from byte to short, which means it&apos;s 16 aliases, not 32 aliases. I&apos;ll fix that, too.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6593 %s/tp/to&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616068" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 05:29:13 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  1. Use largest one as big table if all tables are smaller than threshold&lt;br/&gt;
  2. Fix bug on max aliases for outer join&lt;br/&gt;
  3. Addressed comments &amp;amp; rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=30549&amp;amp;id=30597#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409?vs=30549&amp;amp;id=30597#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616598" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 20:01:14 +0000"  >&lt;p&gt;vikram has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:332 I am not sure these changes are relevant to this jira. There are already other jiras - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3996&quot; title=&quot;Correctly enforce the memory limit on the multi-table map-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3996&quot;&gt;&lt;del&gt;HIVE-3996&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4071&quot; title=&quot;Map-join outer join produces incorrect results.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4071&quot;&gt;&lt;del&gt;HIVE-4071&lt;/del&gt;&lt;/a&gt; raised for issues in this section of code and currently blocked on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; which moves these changes into a different class.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:357 Same comment as above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:369 Same as above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:381 Same as above.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616932" author="phabricator@reviews.facebook.net" created="Fri, 29 Mar 2013 01:09:14 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:332 Ok, it&apos;s on other issue. Will be removed.&lt;/p&gt;

&lt;p&gt;  Any other comments on changes?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13618535" author="phabricator@reviews.facebook.net" created="Mon, 1 Apr 2013 00:57:13 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=30597&amp;amp;id=30849#toc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D5409?vs=30597&amp;amp;id=30849#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13620248" author="vikram.dixit" created="Tue, 2 Apr 2013 20:32:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Took a while for me to digest this patch although it is not very big. It looks good to me. +1. Good work!&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13620306" author="ashutoshc" created="Tue, 2 Apr 2013 21:44:06 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13621469" author="ashutoshc" created="Wed, 3 Apr 2013 23:02:28 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13621868" author="hudson" created="Thu, 4 Apr 2013 06:57:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2044 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2044/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2044/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; : Merging join tree may reorder joins which could be invalid (Navis via Ashutosh Chauhan) (Revision 1464230)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623009" author="hudson" created="Thu, 4 Apr 2013 23:39:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; : Merging join tree may reorder joins which could be invalid (Navis via Ashutosh Chauhan) (Revision 1464230)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12641518">HIVE-4316</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12556039" name="HIVE-3464.D5409.2.patch" size="78775" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 01:50:57 +0000"/>
                            <attachment id="12556215" name="HIVE-3464.D5409.3.patch" size="81324" author="phabricator@reviews.facebook.net" created="Thu, 6 Dec 2012 05:52:57 +0000"/>
                            <attachment id="12575656" name="HIVE-3464.D5409.4.patch" size="81326" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:59:15 +0000"/>
                            <attachment id="12575831" name="HIVE-3464.D5409.5.patch" size="96889" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 05:29:14 +0000"/>
                            <attachment id="12576320" name="HIVE-3464.D5409.6.patch" size="95202" author="phabricator@reviews.facebook.net" created="Mon, 1 Apr 2013 00:57:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lntj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>