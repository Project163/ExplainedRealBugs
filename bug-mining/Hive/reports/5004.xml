<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:48:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-12891] Hive fails when java.io.tmpdir is set to a relative location</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12891</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The function &lt;tt&gt;SessionState.createSessionDirs&lt;/tt&gt; fails when trying to create directories where &lt;tt&gt;java.io.tmpdir&lt;/tt&gt; is set to a relative location.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;\[SubtaskRunner] ERROR o.a.h.hive..ql.Driver - FAILED: IllegalArgumentException java.net.URISyntaxException: Relative path in absolute URI: file:./tmp/&amp;lt;user&amp;gt;/&amp;lt;guid&amp;gt;/hive_2015_12_11_09-12-25_352_4325234652356-1
...
Minor variations:
\[SubtaskRunner] ERROR o.a.h.hive..ql.Driver - FAILED: SemanticException Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; writing out the local file 
o.a.h.hive.ql/parse.SemanticException: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; writing out local file 
... 
caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: file:./tmp/&amp;lt;user&amp;gt;/&amp;lt;guid&amp;gt;/hive_2015_12_11_09-12-25_352_4325234652356-1 
at o.a.h.fs.Path.initialize (206) 
at o.a.h.fs.Path.&amp;lt;init&amp;gt;(197)... 
at o.a.h.hive.ql.context.getScratchDir(267) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12932588">HIVE-12891</key>
            <summary>Hive fails when java.io.tmpdir is set to a relative location</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsombor.klara">Barna Zsombor Klara</assignee>
                                    <reporter username="sircodesalot">Reuben Kuhnert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2016 01:27:54 +0000</created>
                <updated>Fri, 21 Jul 2017 17:45:48 +0000</updated>
                            <resolved>Thu, 10 Nov 2016 00:58:12 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15107807" author="sircodesalot" created="Wed, 20 Jan 2016 01:46:57 +0000"  >&lt;p&gt;Patch Fix: Ensure that paths are expanded to absolute locations.&lt;/p&gt;</comment>
                            <comment id="15108163" author="lskuff" created="Wed, 20 Jan 2016 07:32:10 +0000"  >&lt;p&gt;Comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Do you want to expand all of these paths to absolute? Some of them are HDFS scratch dirs, not sure if we want to support relative paths for those or just java.io.tmpdir&lt;/li&gt;
	&lt;li&gt;Update the config documentation to mention that relative or absolute paths are allowed.&lt;/li&gt;
	&lt;li&gt;Is it easy to add a test for this?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15108607" author="sircodesalot" created="Wed, 20 Jan 2016 14:17:37 +0000"  >&lt;p&gt;I wonder if it would make sense to catch the exception and wrap in it something to tell the user that relative paths for &lt;tt&gt;java.io.tmpdir&lt;/tt&gt; are not allowed (if that is indeed the case). Let me know, should be an easy change.&lt;/p&gt;

&lt;p&gt;As for the config documentation? Do you mean in &lt;a href=&quot;https://github.com/apache/hive/blob/b9d65f159d39614f510c64e58d7b09b4cf38f96f/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java#L253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HiveConf&lt;/a&gt; or somewhere else?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15113085" author="sircodesalot" created="Fri, 22 Jan 2016 21:12:05 +0000"  >&lt;p&gt;Adding additional patch for validation. Will update with patch notes on successful test run.&lt;/p&gt;</comment>
                            <comment id="15114325" author="hiveqa" created="Sun, 24 Jan 2016 14:28:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12783919/HIVE-12891.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12783919/HIVE-12891.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10027 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6721/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6721/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6721/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6721/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6721/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6721/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12783919 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15115581" author="sircodesalot" created="Mon, 25 Jan 2016 17:18:56 +0000"  >&lt;p&gt;The problem that this patch addresses is that the value of &apos;java.io.tmpdir&apos; can be set externally to be a relative path (we&apos;re seeing this problem occur in oozie). To adjust for this issue, the above patch uses &apos;Coercion&apos; to validate/modify the value before passing it to the user. That is, rather than simply creating a one-off coercion, I thought it would be useful in general to have a way to hook into &lt;tt&gt;SystemVariables.substitute&lt;/tt&gt; to validate or adjust the property before returning to the user.&lt;/p&gt;

&lt;p&gt;The template is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;VariableCoercion {
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; VariableCoercion(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.name = name;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getName() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.name; }
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getCoerced(Configuration configuration, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; originalValue);
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; setCoerced(Configuration configuration, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; originalValue);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where &lt;tt&gt;getCoerced&lt;/tt&gt; is called on get and &lt;tt&gt;setCoerced&lt;/tt&gt; is called on set (configuration is passed in if the coerced value is context sensitive). In addition, to add other coercions, simply subclass the above and add it here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SystemVariables {
  ...
  &lt;span class=&quot;code-comment&quot;&gt;// HERE: List of coercions:
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; VariableCoercionSet COERCIONS = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; VariableCoercionSet()
    .add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JavaIOTmpdirVariableCoercion());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If a coercion hook exists for a particular name (see &lt;tt&gt;VariableCoercion.getName()&lt;/tt&gt;) then it is loaded and the raw value is passed through, then returned to the user:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getCoerced(Configuration configuration, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; variableName, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; originalValue) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (COERCIONS.contains(variableName)) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; COERCIONS.get(variableName).getCoerced(configuration, originalValue);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; originalValue;
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15115591" author="lskuff" created="Mon, 25 Jan 2016 17:29:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sircodesalot&quot; class=&quot;user-hover&quot; rel=&quot;sircodesalot&quot;&gt;sircodesalot&lt;/a&gt; - Would you mind posting a review board link since the patch has grown a bit?&lt;/p&gt;</comment>
                            <comment id="15115621" author="sircodesalot" created="Mon, 25 Jan 2016 17:42:46 +0000"  >&lt;p&gt;Updated, thanks&lt;/p&gt;</comment>
                            <comment id="15116222" author="hiveqa" created="Mon, 25 Jan 2016 22:44:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784190/HIVE-12891.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784190/HIVE-12891.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10030 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6735/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6735/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6735/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6735/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6735/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6735/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784190 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15644663" author="zsombor.klara" created="Mon, 7 Nov 2016 16:40:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sircodesalot&quot; class=&quot;user-hover&quot; rel=&quot;sircodesalot&quot;&gt;sircodesalot&lt;/a&gt;,&lt;br/&gt;
would you mind if I continue working on this jira? I think the patch looks good, I will try to incorporate the review board comment(s) and update the patch.&lt;/p&gt;</comment>
                            <comment id="15644942" author="hiveqa" created="Mon, 7 Nov 2016 18:22:19 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784190/HIVE-12891.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784190/HIVE-12891.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10629 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2004/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2004/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2004/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2004/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2004/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2004/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784190 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15645313" author="sircodesalot" created="Mon, 7 Nov 2016 20:22:23 +0000"  >&lt;p&gt;Hey Barna,&lt;/p&gt;

&lt;p&gt;Yeah, feel free to modify the code as you feel necessary. Appreciate your work, thanks!&lt;/p&gt;</comment>
                            <comment id="15646995" author="zsombor.klara" created="Tue, 8 Nov 2016 09:20:55 +0000"  >&lt;p&gt;Uploading new patch.&lt;br/&gt;
I left most things unchanged, because I think the original patch was looking good.&lt;br/&gt;
I removed one API method that I think is never used (setCoerced on the variable)&lt;br/&gt;
and made one API method private (SystemVariables#getCoerced).&lt;br/&gt;
Other than that I mostly added unit tests.&lt;br/&gt;
I will create a new review request to discuss the comments on the current one.&lt;br/&gt;
Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sircodesalot&quot; class=&quot;user-hover&quot; rel=&quot;sircodesalot&quot;&gt;sircodesalot&lt;/a&gt; for the work.&lt;/p&gt;</comment>
                            <comment id="15647171" author="hiveqa" created="Tue, 8 Nov 2016 10:32:34 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12837939/HIVE-12891.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12837939/HIVE-12891.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10634 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=91)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=90)
org.apache.hive.hcatalog.pig.TestAvroHCatStorer.testWriteDate (batchId=170)
org.apache.hive.hcatalog.pig.TestSequenceFileHCatStorer.testStoreInPartiitonedTbl (batchId=170)
org.apache.hive.hcatalog.pig.TestSequenceFileHCatStorer.testWriteSmallint (batchId=170)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2022/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2022/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2022/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2022/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2022/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2022/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12837939 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15648211" author="ctang.ma" created="Tue, 8 Nov 2016 17:37:21 +0000"  >&lt;p&gt;LGTM, +1&lt;/p&gt;</comment>
                            <comment id="15648252" author="hiveqa" created="Tue, 8 Nov 2016 17:50:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12837968/HIVE-12891.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12837968/HIVE-12891.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10635 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=91)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=90)
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testTaskStatus (batchId=207)
org.apache.hive.spark.client.TestSparkClient.testJobSubmission (batchId=272)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2026/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2026/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2026/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2026/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2026/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2026/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12837968 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15650546" author="zsombor.klara" created="Wed, 9 Nov 2016 10:16:27 +0000"  >&lt;p&gt;Tests are flaky:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-14936&lt;/a&gt; - orc_ppd_schema_evol_3a&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15169&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15169&lt;/a&gt; - columnstats_part_coltype&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15116&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15116&lt;/a&gt; - join_acid_non_acid&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15115&lt;/a&gt; - union_fast_stats&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15084&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15084&lt;/a&gt; - explainanalyze_4, explainanalyze_5&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15168&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15168&lt;/a&gt; - testJobSubmission&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15170&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15170&lt;/a&gt; - testTaskStatus&lt;/p&gt;</comment>
                            <comment id="15652563" author="ctang.ma" created="Thu, 10 Nov 2016 00:58:12 +0000"  >&lt;p&gt;Committed to 2.2.0. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zsombor.klara&quot; class=&quot;user-hover&quot; rel=&quot;zsombor.klara&quot;&gt;zsombor.klara&lt;/a&gt; for the patch. &lt;br/&gt;
If you want to committed to 2.1.1, please a patch for that branch as well.&lt;/p&gt;</comment>
                            <comment id="15653132" author="lefty@hortonworks.com" created="Thu, 10 Nov 2016 05:57:57 +0000"  >&lt;p&gt;Should this be documented in the Hive wiki?  It could go in the Configuration doc, although we might need a new subsection for it.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration#AdminManualConfiguration-ConfigurationVariables&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AdminManual &amp;#8211; Configuration &amp;#8211; Configuration Variables &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15657018" author="zsombor.klara" created="Fri, 11 Nov 2016 12:59:10 +0000"  >&lt;p&gt;I&apos;m not sure there is a lot of value in documenting this. The java.io.tmpdir setting is not hive specific, it is the same for every java application. And with this change we are only converting a relative path into an absolute one, the actual location of the tmp directory will no change, so this should be completely transparent to the users.&lt;/p&gt;</comment>
                            <comment id="15659114" author="lefty@hortonworks.com" created="Sat, 12 Nov 2016 06:16:45 +0000"  >&lt;p&gt;Okay, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12783241" name="HIVE-12891.01.19.2016.01.patch" size="3059" author="sircodesalot" created="Wed, 20 Jan 2016 01:45:40 +0000"/>
                            <attachment id="12783919" name="HIVE-12891.03.patch" size="12496" author="sircodesalot" created="Fri, 22 Jan 2016 21:13:26 +0000"/>
                            <attachment id="12784190" name="HIVE-12891.04.patch" size="13155" author="sircodesalot" created="Mon, 25 Jan 2016 17:22:48 +0000"/>
                            <attachment id="12837968" name="HIVE-12891.5.patch" size="14389" author="zsombor.klara" created="Tue, 8 Nov 2016 12:51:41 +0000"/>
                            <attachment id="12783918" name="HIVE-12981.01.22.2016.02.patch" size="12496" author="sircodesalot" created="Fri, 22 Jan 2016 21:11:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rprr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>