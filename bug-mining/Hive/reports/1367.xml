<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:08:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2905] Desc table can&apos;t show non-ascii comments</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2905</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When desc a table with command line or hive jdbc way, the table&apos;s comment can&apos;t be read.&lt;br/&gt;
1. I have updated javax.jdo.option.ConnectionURL parameter in hive-site.xml file.&lt;br/&gt;
   jdbc:mysql://&lt;b&gt;.&lt;/b&gt;.&lt;b&gt;.&lt;/b&gt;:3306/hive?characterEncoding=UTF-8&lt;br/&gt;
2. In mysql database, the comment field of COLUMNS table can be read normally.&lt;/p&gt;</description>
                <environment>&lt;p&gt;hive 0.7.0, mysql 5.1.45&lt;br/&gt;
hive 0.10.0, mysql 5.5.30&lt;/p&gt;</environment>
        <key id="12548057">HIVE-2905</key>
            <summary>Desc table can&apos;t show non-ascii comments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="zhousheng29">Sheng Zhou</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 26 Mar 2012 04:35:03 +0000</created>
                <updated>Tue, 29 Oct 2013 13:34:58 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 15:02:06 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13260154" author="phoenix" created="Tue, 24 Apr 2012 02:20:57 +0000"  >&lt;p&gt;I have the same issue.&lt;/p&gt;</comment>
                            <comment id="13260159" author="phoenix" created="Tue, 24 Apr 2012 02:35:04 +0000"  >&lt;p&gt;version: hive-0.7.1-cdh3u2&lt;/p&gt;</comment>
                            <comment id="13260162" author="zhousheng29" created="Tue, 24 Apr 2012 02:37:33 +0000"  >&lt;p&gt;version: hive-0.7.0-update&lt;br/&gt;
I only write a UDTF &apos;desc_t&apos; to solve the problem temporarily.&lt;/p&gt;</comment>
                            <comment id="13260165" author="phoenix" created="Tue, 24 Apr 2012 02:46:45 +0000"  >&lt;p&gt;can you paste your UDTF here?&lt;/p&gt;</comment>
                            <comment id="13260167" author="zhousheng29" created="Tue, 24 Apr 2012 02:56:03 +0000"  >&lt;p&gt;The source code is too long, so i write the steps:&lt;br/&gt;
1. Get the data from metadata---mysql tables(COLUMNS, TBLS);&lt;br/&gt;
2. Write the UDTF, and the parameter is the table name.&lt;/p&gt;

&lt;p&gt;You can write a function to extend GenericUDTF and to override the process method.&lt;/p&gt;</comment>
                            <comment id="13616187" author="chaoslawful" created="Thu, 28 Mar 2013 11:13:04 +0000"  >&lt;p&gt;The problem is org.apache.hadoop.hive.ql.metadata.formatting.TextMetaDataFormatter.describeTable() use DataOutputStream.writeBytes() to output column info string. Unfortunately, DataOutputStream.writeBytes() will only write out lower byte of each character in the String, which cause garbling problem when column comment contains non-latin1 characters.&lt;/p&gt;

&lt;p&gt;This simple patch solved Unicode character garbling problem when describe table in Hive client.&lt;/p&gt;</comment>
                            <comment id="13616189" author="chaoslawful" created="Thu, 28 Mar 2013 11:14:24 +0000"  >&lt;p&gt;Simple patch to resolve the garbling problem of column comment which contains unicode characters.&lt;/p&gt;</comment>
                            <comment id="13692842" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 08:31:20 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2905&quot; title=&quot;Desc table can&amp;#39;t show non-ascii comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2905&quot;&gt;&lt;del&gt;HIVE-2905&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Desc table can&apos;t show non-ascii comments&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2905&quot; title=&quot;Desc table can&amp;#39;t show non-ascii comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2905&quot;&gt;&lt;del&gt;HIVE-2905&lt;/del&gt;&lt;/a&gt; Desc table cannot show non-ascii comments&lt;/p&gt;

&lt;p&gt;When desc a table with command line or hive jdbc way, the table&apos;s comment can&apos;t be read.&lt;br/&gt;
1. I have updated javax.jdo.option.ConnectionURL parameter in hive-site.xml file.&lt;br/&gt;
   jdbc:mysql://...:3306/hive?characterEncoding=UTF-8&lt;br/&gt;
2. In mysql database, the comment field of COLUMNS table can be read normally.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D11487&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_comment_nonascii.q&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_comment_nonascii.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/27207/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/27207/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13692843" author="navis" created="Tue, 25 Jun 2013 08:31:31 +0000"  >&lt;p&gt;Fixed more parts, added a test case and registered phabricator for a review. I&apos;m not sure the test of passing on non-UTF8 system.&lt;/p&gt;</comment>
                            <comment id="13714324" author="hiveqa" created="Sat, 20 Jul 2013 04:35:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12589572/HIVE-2905.D11487.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12589572/HIVE-2905.D11487.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2647 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/102/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/102/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/102/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/102/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714404" author="hiveqa" created="Sat, 20 Jul 2013 11:15:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12589572/HIVE-2905.D11487.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12589572/HIVE-2905.D11487.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2647 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/109/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/109/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/109/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/109/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714453" author="appodictic" created="Sat, 20 Jul 2013 15:27:34 +0000"  >&lt;p&gt;Can we add some comments stating that unicode comments are ok bit not columns / tables. It might br nice to add to a faq language manual as well.&lt;/p&gt;</comment>
                            <comment id="13714746" author="brocknoland" created="Sun, 21 Jul 2013 17:11:23 +0000"  >&lt;p&gt;I am removing the Patch Available status since there is an open request from a reviewer.&lt;/p&gt;</comment>
                            <comment id="13714757" author="appodictic" created="Sun, 21 Jul 2013 17:41:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;brocknoland&lt;/a&gt; You do not necessarily have to cancel the patch over it, comments do not need retesting. It would be a nice to have not a blocker.&lt;/p&gt;</comment>
                            <comment id="13714758" author="appodictic" created="Sun, 21 Jul 2013 17:42:50 +0000"  >&lt;p&gt;Also I do not always bounce back petty things like this or spelling mistakes to the original author. It&apos;s a big time suck I just fix them and commit.&lt;/p&gt;</comment>
                            <comment id="13714763" author="brocknoland" created="Sun, 21 Jul 2013 18:14:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;appodictic&lt;/a&gt; Sounds good and thanks for the feedback!  I am trying to help cleanup the PA queue and it&apos;s good to get feedback as to how aggressive I am being.&lt;/p&gt;</comment>
                            <comment id="13714767" author="appodictic" created="Sun, 21 Jul 2013 18:42:20 +0000"  >&lt;p&gt;It just depends how &apos;letter of the law&apos; we want to be. Sometimes if you ask for something small and people get busy the issue gets delayed days or weeks, the the reviewer gets busy then it gets delayed again. I would not kick a patch batch for a typo or a checkstyle violation, I usually just fix it and re-upload the patch, just use your judgement. I am going to email the list on a few related items.&lt;/p&gt;</comment>
                            <comment id="13716174" author="navis" created="Tue, 23 Jul 2013 07:01:56 +0000"  >&lt;p&gt;added to FAQ(&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/User+FAQ#UserFAQ-DoesHivesupportUnicode%3F&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/User+FAQ#UserFAQ-DoesHivesupportUnicode%3F&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13721641" author="appodictic" created="Sat, 27 Jul 2013 14:51:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13721645" author="appodictic" created="Sat, 27 Jul 2013 15:02:06 +0000"  >&lt;p&gt;Thank you everyone involved. Great to see hive adoption in languages I do not understand!&lt;/p&gt;</comment>
                            <comment id="13796007" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:19 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12628157">HIVE-3914</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12676328">HIVE-5682</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12589572" name="HIVE-2905.D11487.1.patch" size="6886" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 08:31:20 +0000"/>
                            <attachment id="12575866" name="utf8-desc-comment.patch" size="1588" author="chaoslawful" created="Thu, 28 Mar 2013 11:14:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lm1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hadoop hive mysql</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>