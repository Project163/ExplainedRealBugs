<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:13:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5692] Make VectorGroupByOperator parameters configurable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5692</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The FLUSH_CHECK_THRESHOLD and PERCENT_ENTRIES_TO_FLUSH should be configurable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12676570">HIVE-5692</key>
            <summary>Make VectorGroupByOperator parameters configurable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Oct 2013 08:20:10 +0000</created>
                <updated>Wed, 21 Jan 2015 10:40:42 +0000</updated>
                            <resolved>Thu, 21 Nov 2013 03:16:02 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13808952" author="rusanu" created="Wed, 30 Oct 2013 10:52:28 +0000"  >&lt;p&gt;Fix by making the constants configurable via the existing hive.groupby.mapaggr.checkinterval and hive.map.aggr.hash.percentmemory&lt;/p&gt;</comment>
                            <comment id="13809100" author="rusanu" created="Wed, 30 Oct 2013 14:00:20 +0000"  >&lt;p&gt;Use new settings to avoid overlap with existing row-mode settings (which have slightly different meaning). Added unit test.&lt;/p&gt;</comment>
                            <comment id="13809109" author="rusanu" created="Wed, 30 Oct 2013 14:07:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/15095/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15095/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13809117" author="rusanu" created="Wed, 30 Oct 2013 14:11:48 +0000"  >&lt;p&gt;The implementation is much more aggresive now:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;shouldFlush test the in-use vs. max at each batch boudary, not only at checking limit. Checking limit is only used to decide when to probe/adjust the average variable row size&lt;/li&gt;
	&lt;li&gt;the flush is called in a while loop until it shouldFlush returns false, ie. it flushes as much as necessary to stay within the prescribed bounds. Progress is being monitored to prevent infinite loop.&lt;/li&gt;
	&lt;li&gt;the checking limit is configured via HiveConf  hive.vectorized.groupby.checkinterval&lt;/li&gt;
	&lt;li&gt;the flushing percent is configured via HiveConf hive.vectorized.groupby.flush.percent&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13809380" author="rusanu" created="Wed, 30 Oct 2013 17:34:42 +0000"  >&lt;p&gt;Added hive.vectorized.groupby.maxentries (1000000) to cap the max number of entries before triggering a forced flush.&lt;/p&gt;</comment>
                            <comment id="13818194" author="ashutoshc" created="Sat, 9 Nov 2013 16:45:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;gopalv&lt;/a&gt; I think you have encountered this bug in wild. Would you like to review this patch ?&lt;/p&gt;</comment>
                            <comment id="13819191" author="gopalv" created="Mon, 11 Nov 2013 18:37:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; I  ran into this in our tests and the fastest version of those settings were to flush 100% of keys every 10k keys.&lt;/p&gt;

&lt;p&gt;I have reviewed that patch and it looks good enough. The default values for those variables are still up for discussion, but now for us it could be set in hive-site.xml instead of being hard-coded.&lt;/p&gt;</comment>
                            <comment id="13819270" author="rusanu" created="Mon, 11 Nov 2013 19:31:04 +0000"  >&lt;p&gt;getting jenkiss to work&lt;/p&gt;</comment>
                            <comment id="13819278" author="ashutoshc" created="Mon, 11 Nov 2013 19:35:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13819310" author="rusanu" created="Mon, 11 Nov 2013 20:06:45 +0000"  >&lt;p&gt;This is .3.patch reloaded so that the builder sees the change and gives it&apos;s +/- 1&lt;/p&gt;</comment>
                            <comment id="13826674" author="ashutoshc" created="Tue, 19 Nov 2013 17:04:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rusanu&quot; class=&quot;user-hover&quot; rel=&quot;rusanu&quot;&gt;rusanu&lt;/a&gt; Can you re-upload this patch so that Hive QA gets to run on it.&lt;/p&gt;</comment>
                            <comment id="13826780" author="rusanu" created="Tue, 19 Nov 2013 18:26:57 +0000"  >&lt;p&gt;Patch was no longer applying, I updated it and made sure it applies and compiles, test pass&lt;/p&gt;</comment>
                            <comment id="13827729" author="rusanu" created="Wed, 20 Nov 2013 14:58:04 +0000"  >&lt;p&gt;6th time is a charm&lt;/p&gt;</comment>
                            <comment id="13827735" author="rusanu" created="Wed, 20 Nov 2013 15:04:27 +0000"  >&lt;p&gt;the .5 patch failed in QA build &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1551/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1551/console&lt;/a&gt; during the subversion sync:&lt;br/&gt;
Caused by: svn: E204899: Cannot create new file &apos;/home/hudson/jenkins-slave/workspace/PreCommit-HIVE-Build/hive/common/src/test/org/apache/hadoop/hive/common/metrics/.svn/lock&apos;: No such file or directory&lt;/p&gt;


</comment>
                            <comment id="13828422" author="hiveqa" created="Thu, 21 Nov 2013 02:40:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614897/HIVE-5692.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614897/HIVE-5692.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4666 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.listener.TestNotificationListener.testAMQListener
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/379/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/379/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/379/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/379/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614897&lt;/p&gt;</comment>
                            <comment id="13828450" author="ashutoshc" created="Thu, 21 Nov 2013 03:16:02 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Remus!&lt;/p&gt;</comment>
                            <comment id="14285468" author="lefty@hortonworks.com" created="Wed, 21 Jan 2015 10:40:30 +0000"  >&lt;p&gt;Doc note:  This added &lt;b&gt;hive.vectorized.groupby.checkinterval&lt;/b&gt;, &lt;b&gt;hive.vectorized.groupby.maxentries&lt;/b&gt;, and &lt;b&gt;hive.vectorized.groupby.flush.percent&lt;/b&gt; to HiveConf.java. They are documented in the wiki, so I&apos;ll remove the TODOC13 label.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.vectorized.groupby.checkinterval&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; Vectorization &amp;#8211; hive.vectorized.groupby.checkinterval &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.vectorized.groupby.maxentries&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; Vectorization &amp;#8211; hive.vectorized.groupby.maxentries &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.vectorized.groupby.flush.percent&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; Vectorization &amp;#8211; hive.vectorized.groupby.flush.percent &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12611027" name="HIVE-5692.1.patch" size="3964" author="rusanu" created="Wed, 30 Oct 2013 10:52:28 +0000"/>
                            <attachment id="12611068" name="HIVE-5692.2.patch" size="9118" author="rusanu" created="Wed, 30 Oct 2013 14:00:20 +0000"/>
                            <attachment id="12611123" name="HIVE-5692.3.patch" size="10087" author="rusanu" created="Wed, 30 Oct 2013 17:34:42 +0000"/>
                            <attachment id="12613210" name="HIVE-5692.4.patch" size="10087" author="rusanu" created="Mon, 11 Nov 2013 20:06:45 +0000"/>
                            <attachment id="12614666" name="HIVE-5692.5.patch" size="10219" author="rusanu" created="Tue, 19 Nov 2013 18:20:23 +0000"/>
                            <attachment id="12614897" name="HIVE-5692.6.patch" size="10219" author="rusanu" created="Wed, 20 Nov 2013 14:57:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pdfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>