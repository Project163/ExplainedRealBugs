<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:06:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-4280] TestRetryingHMSHandler is failing on trunk.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4280</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Newly added testcase TestRetryingHMSHandler fails on trunk. &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2040/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2040/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640318">HIVE-4280</key>
            <summary>TestRetryingHMSHandler is failing on trunk.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teddy.choi">Teddy Choi</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Apr 2013 14:56:23 +0000</created>
                <updated>Thu, 16 May 2013 21:10:57 +0000</updated>
                            <resolved>Wed, 17 Apr 2013 14:08:41 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13619899" author="ashutoshc" created="Tue, 2 Apr 2013 14:59:13 +0000"  >&lt;p&gt;This doesn&apos;t fail when run in isolation. Only when full test-suite is run. It fails with &lt;tt&gt;AlreadyExistsException(message:Database tmpdb already exists)&lt;/tt&gt; Likely cause for this is some previous testcase has created db named tmpdb which that test failed to drop. Fix is to pick some unique name for db like hive2480 which was unlikely created by previous test.&lt;/p&gt;</comment>
                            <comment id="13620734" author="teddy.choi" created="Wed, 3 Apr 2013 08:35:08 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Please assign this issue to me. I will fix this problem as you commented.&lt;br/&gt;
This kind of problem can appear again. Do other temporal databases need to be renamed together?&lt;/p&gt;</comment>
                            <comment id="13620897" author="teddy.choi" created="Wed, 3 Apr 2013 13:04:44 +0000"  >&lt;p&gt;I&apos;m testing my patch. I will submit it when its test is finished.&lt;/p&gt;</comment>
                            <comment id="13620945" author="ashutoshc" created="Wed, 3 Apr 2013 14:13:41 +0000"  >&lt;p&gt;Thanks Teddy for picking this up.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This kind of problem can appear again. Do other temporal databases need to be renamed together?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Possibly, but I havent seen any failures other time, so not sure.&lt;/p&gt;</comment>
                            <comment id="13623416" author="teddy.choi" created="Fri, 5 Apr 2013 06:52:00 +0000"  >&lt;p&gt;I ran unit tests several times, but they failed. It seems like there is a cause of failures on my machine, such as configuration change or a problem in base version.&lt;/p&gt;

&lt;p&gt;So I merged the recent trunk and started a new test on other machine. I will report again when it is finished.&lt;/p&gt;</comment>
                            <comment id="13625079" author="teddy.choi" created="Mon, 8 Apr 2013 01:55:53 +0000"  >&lt;p&gt;I thing that the changes on TestRetryingHMSHandler should be tested with the full test, not with query tests. So I tested with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; command. Then I got the following error message. TestDefaultHiveMetastoreAuthorizationProvider failed.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 17.268 sec
    [junit] OK
    [junit] Running org.apache.hadoop.hive.ql.security.TestDefaultHiveMetastoreAuthorizationProvider
    [junit] 2013-04-05 13:54:47.412 java[18668:b103] Unable to load realm info from SCDynamicStore
    [junit] Hive history file=/Users/pudidic/IdeaProjects/hive/build/ql/tmp/hive_job_log_pudidic_201304051354_883807417.txt
    [junit] OK
    [junit] OK
    [junit] FAILED: Error in metadata: MetaException(message:No privilege &apos;Create&apos; found for outputs { database:smpdb, table:smptbl})
    [junit] FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
    [junit] OK
    [junit] OK
    [junit] OK
    [junit] FAILED: Error in metadata: MetaException(message:No privilege &apos;Create&apos; found for outputs { database:smpdb, table:smptblmal})
    [junit] FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
    [junit] FAILED: Error in metadata: MetaException(message:No privilege &apos;Create&apos; found for inputs { database:smpdb, table:smptbl})
    [junit] FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 15.531 sec
    [junit] OK
    [junit] Running org.apache.hadoop.hive.ql.tool.TestLineageInfo
    [junit] Tests run: 5, Failures: 0, Errors: 0, Time elapsed: 0.462 sec
    [junit] Running org.apache.hadoop.hive.ql.udf.TestUDFDateAdd
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.225 sec
    [junit] Running org.apache.hadoop.hive.ql.udf.TestUDFDateDiff
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.211 sec
    [junit] Running org.apache.hadoop.hive.ql.udf.TestUDFDateSub
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.203 sec
    [junit] Running org.apache.hadoop.hive.ql.util.TestDosToUnix
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.053 sec

BUILD FAILED
/Users/pudidic/IdeaProjects/hive/build.xml:296: The following error occurred while executing this line:
/Users/pudidic/IdeaProjects/hive/build.xml:298: The following error occurred while executing this line:
/Users/pudidic/IdeaProjects/hive/build-common.xml:482: Tests failed!

Total time: 816 minutes 11 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I Googled this failure, but I couldn&apos;t access to a relevant page( &lt;a href=&quot;https://reviews.facebook.net/D6681?id=22179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D6681?id=22179&lt;/a&gt; ). I read some parts on its preview, &quot;2012. 11. 13. &#8211; ... /hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java ..... we should let it fail in default branch and have the exception thrown, ...&quot; I looks like there&apos;s some information related.&lt;/p&gt;

&lt;p&gt;If anybody knows an appropriate solution, please tell me.&lt;/p&gt;</comment>
                            <comment id="13625084" author="teddy.choi" created="Mon, 8 Apr 2013 02:05:45 +0000"  >&lt;p&gt;I discussed it with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;navis&lt;/a&gt;, and he told me that it&apos;s not the root cause. He showed me a way to diagnose Hive failures. I&apos;ll try it again.&lt;/p&gt;</comment>
                            <comment id="13625092" author="teddy.choi" created="Mon, 8 Apr 2013 02:35:45 +0000"  >&lt;p&gt;The latest test failure was due to that Mac is not case-sensitive. (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2952&quot; title=&quot;escape1.q and escape2.q failing in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2952&quot;&gt;&lt;del&gt;HIVE-2952&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;However, previous ones are on Linux but they failed. I&apos;ll see Linux cases again.&lt;/p&gt;</comment>
                            <comment id="13629799" author="teddy.choi" created="Fri, 12 Apr 2013 05:11:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3949&quot; title=&quot;Some test failures in hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3949&quot;&gt;&lt;del&gt;HIVE-3949&lt;/del&gt;&lt;/a&gt; was the cause of my problem. Other tests successfully completed. I&apos;ll attach the patch.&lt;/p&gt;</comment>
                            <comment id="13629847" author="teddy.choi" created="Fri, 12 Apr 2013 06:36:57 +0000"  >&lt;p&gt;I uploaded two patches. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4280&quot; title=&quot;TestRetryingHMSHandler is failing on trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4280&quot;&gt;&lt;del&gt;HIVE-4280&lt;/del&gt;&lt;/a&gt;-2.patch.txt is &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;&apos;s suggestion. In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4280&quot; title=&quot;TestRetryingHMSHandler is failing on trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4280&quot;&gt;&lt;del&gt;HIVE-4280&lt;/del&gt;&lt;/a&gt;-1.patch.txt, other database names are changed, too. Both of them passed tests.&lt;/p&gt;</comment>
                            <comment id="13633741" author="ashutoshc" created="Wed, 17 Apr 2013 04:08:19 +0000"  >&lt;p&gt;+1 for 4280-1.patch.txt will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13634061" author="ashutoshc" created="Wed, 17 Apr 2013 14:08:41 +0000"  >&lt;p&gt;Committed to trunk and 0.11 Thanks, Teddy!&lt;/p&gt;</comment>
                            <comment id="13634315" author="hudson" created="Wed, 17 Apr 2013 19:01:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2069 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2069/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2069/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4280&quot; title=&quot;TestRetryingHMSHandler is failing on trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4280&quot;&gt;&lt;del&gt;HIVE-4280&lt;/del&gt;&lt;/a&gt; : TestRetryingHMSHandler is failing on trunk. (Teddy Choi via Ashutosh Chauhan) (Revision 1468917)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468917&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStoreWithEnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEndFunctionListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13634838" author="teddy.choi" created="Thu, 18 Apr 2013 04:51:23 +0000"  >&lt;p&gt;You&apos;re welcome, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;. Thank you for committing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12578385" name="HIVE-4280-1.patch.txt" size="8509" author="teddy.choi" created="Fri, 12 Apr 2013 06:36:57 +0000"/>
                            <attachment id="12578386" name="HIVE-4280-2.patch.txt" size="822" author="teddy.choi" created="Fri, 12 Apr 2013 06:36:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jciv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>