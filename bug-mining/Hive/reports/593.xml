<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:58:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-2054] Exception on windows when using the jdbc driver. &quot;IOException: The system cannot find the path specified&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2054</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It seems something recently changed on the jdbc driver which causes this IOException on windows.&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: java.io.IOException: The system cannot find the path specified&lt;br/&gt;
	at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:237)&lt;br/&gt;
	at org.apache.hadoop.hive.jdbc.HiveConnection.&amp;lt;init&amp;gt;(HiveConnection.java:73)&lt;br/&gt;
	at org.apache.hadoop.hive.jdbc.HiveDriver.connect(HiveDriver.java:110)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501452">HIVE-2054</key>
            <summary>Exception on windows when using the jdbc driver. &quot;IOException: The system cannot find the path specified&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Mar 2011 12:47:47 +0000</created>
                <updated>Wed, 27 Jul 2011 04:20:25 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 18:10:25 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.7.1</fixVersion>
                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13006899" author="bennies" created="Tue, 15 Mar 2011 12:53:21 +0000"  >&lt;p&gt;This seems to happen because we use the same SessionState class the cli is using which is now including some temporary output files and history file references.&lt;br/&gt;
It&apos;s rather trivial to remove the SessionState from the jdbc driver to make it work again (just tried this a few minutes ago). We currently have a JdbcSessionState which extends the SessonState but I don&apos;t see a need for the JdbcSessionState either. It seems to be there as a placeholder but is not actually used. &lt;/p&gt;</comment>
                            <comment id="13006923" author="bennies" created="Tue, 15 Mar 2011 13:53:21 +0000"  >&lt;p&gt;Removing SessionState so the jdbc works correctly on windows.&lt;/p&gt;</comment>
                            <comment id="13007181" author="bennies" created="Tue, 15 Mar 2011 21:03:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/513/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/513/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13007240" author="nzhang" created="Tue, 15 Mar 2011 22:38:11 +0000"  >&lt;p&gt;Bennie, do you know what changes in SessionState causes JDBC failed on Windows? &lt;/p&gt;

&lt;p&gt;We recently committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-818&quot; title=&quot;Create a Hive CLI that connects to hive ThriftServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-818&quot;&gt;&lt;del&gt;HIVE-818&lt;/del&gt;&lt;/a&gt; which changes HiveServer and some behavior on how to pass End-of-file from the server side to the client side. Previously server just send an empty string and now server throws an HiveServerException with ErrorCode = 0. I think that may be the reason. Can you try your test case with and without &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-818&quot; title=&quot;Create a Hive CLI that connects to hive ThriftServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-818&quot;&gt;&lt;del&gt;HIVE-818&lt;/del&gt;&lt;/a&gt; to verify?&lt;/p&gt;</comment>
                            <comment id="13007366" author="bennies" created="Wed, 16 Mar 2011 06:58:17 +0000"  >&lt;p&gt;Yes it was this code block:&lt;/p&gt;

&lt;p&gt;      try &lt;/p&gt;
{
        File tmpFile = File.createTempFile(sessionID, &quot;.pipeout&quot;, tmpDir);
        tmpFile.deleteOnExit();
        startSs.setTmpOutputFile(tmpFile);
      }
&lt;p&gt; catch (IOException e) &lt;/p&gt;
{
        throw new RuntimeException(e);
      }

&lt;p&gt;So you are correct it&apos;s related to changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-818&quot; title=&quot;Create a Hive CLI that connects to hive ThriftServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-818&quot;&gt;&lt;del&gt;HIVE-818&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13007803" author="nzhang" created="Thu, 17 Mar 2011 04:33:06 +0000"  >&lt;p&gt;I think the problem is that the tmpDir by default is /tmp/&amp;lt;user.name&amp;gt;/, specified by hive.querylog.location. Bennie, I think if you set hive.querylog.location to be something like &apos;c:\&apos; on Windows, it should work. Can you try that?&lt;/p&gt;

&lt;p&gt;The JdbcSessionState was introduced in the very first version of the JDBC driver (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-48&quot; title=&quot;Support JDBC connections for interoperability between Hive and RDBMS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-48&quot;&gt;&lt;del&gt;HIVE-48&lt;/del&gt;&lt;/a&gt;). It is not used but I guess the reason for it to be able to set session level states for the JDBC connection. I&apos;m OK removing it, but not sure about others&apos; opinion.&lt;/p&gt;</comment>
                            <comment id="13007848" author="bennies" created="Thu, 17 Mar 2011 08:34:58 +0000"  >&lt;p&gt;Yes setting hive.querylog.location makes it work.&lt;/p&gt;

&lt;p&gt;At the very least we should remove the &quot;extends SessionState&quot; since it introduces a link to the hive server code which makes no sense at this point in time. However I have a preference for removing it all together since it currently adds no value.  On the jdbc side I would expect the HiveConnection to hold the state which it is actually doing right now.&lt;/p&gt;
</comment>
                            <comment id="13008333" author="nzhang" created="Fri, 18 Mar 2011 05:21:57 +0000"  >&lt;p&gt;Sounds reasonable to me. &lt;/p&gt;

&lt;p&gt;Raghu, what do you think?&lt;/p&gt;</comment>
                            <comment id="13008368" author="bennies" created="Fri, 18 Mar 2011 08:06:47 +0000"  >&lt;p&gt;New patch because of merge from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1815&quot; title=&quot;The class HiveResultSet should implement batch fetching.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1815&quot;&gt;&lt;del&gt;HIVE-1815&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13009337" author="bennies" created="Mon, 21 Mar 2011 19:49:16 +0000"  >&lt;p&gt;New patch because of changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2062&quot; title=&quot;HivePreparedStatement.executeImmediate always throw exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2062&quot;&gt;&lt;del&gt;HIVE-2062&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13015295" author="bennies" created="Mon, 4 Apr 2011 07:31:09 +0000"  >&lt;p&gt;Any chance in getting this committed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; This is rather annoying for windows users.&lt;/p&gt;</comment>
                            <comment id="13015513" author="cwsteinbach" created="Mon, 4 Apr 2011 17:45:54 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13016058" author="cwsteinbach" created="Tue, 5 Apr 2011 18:10:25 +0000"  >&lt;p&gt;Committed to trunk and 0.7.1. Thanks Bennie!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473675" name="HIVE-2054.1.patch.txt" size="5492" author="bennies" created="Tue, 15 Mar 2011 13:53:21 +0000"/>
                            <attachment id="12473981" name="HIVE-2054.2.patch.txt" size="5440" author="bennies" created="Fri, 18 Mar 2011 08:06:47 +0000"/>
                            <attachment id="12474218" name="HIVE-2054.3.patch.txt" size="5440" author="bennies" created="Mon, 21 Mar 2011 19:49:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fix for IOException on the jdbc driver on windows.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>