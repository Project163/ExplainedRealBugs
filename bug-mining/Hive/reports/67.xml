<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:51:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-263] TCTLSeparatedProtocol should use UTF-8 to decode the data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-263</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TCTLSeparatedProtocol now uses the default character encoding. We should use UTF8 from hadoop Text class:&lt;/p&gt;

&lt;p&gt;Now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; row = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(buf, 0, length);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We want:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; row;
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            row = Text.decode(buf, 0, length);
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (CharacterCodingException e) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(e);
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12413672">HIVE-263</key>
            <summary>TCTLSeparatedProtocol should use UTF-8 to decode the data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Jan 2009 01:17:07 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:38 +0000</updated>
                            <resolved>Tue, 3 Feb 2009 01:56:29 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12669779" author="jsensarma" created="Mon, 2 Feb 2009 22:49:45 +0000"  >&lt;p&gt;we also need to encode using Text i think.&lt;/p&gt;

&lt;p&gt;also - metadatatypedserde - i guess we need to fix that as well?&lt;/p&gt;</comment>
                            <comment id="12669793" author="zshao" created="Mon, 2 Feb 2009 23:12:12 +0000"  >&lt;p&gt;Modified serialization as well.&lt;br/&gt;
Also checked MetadataTypedColumnsetSerDe. That code is already using Text.&lt;/p&gt;</comment>
                            <comment id="12669825" author="jsensarma" created="Tue, 3 Feb 2009 01:02:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;the only thing that concerns me is that if any row does not conform to utf-8 - then the whole job fails. earlier we had tried to have a setup that the serde throws a serdeexception and we deal with it in query layer (we can ignore some fixed % of bad rows for example).&lt;/p&gt;

&lt;p&gt;but looking at the code - this might be hard to do right now - so happy to wait for a rewrite for this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12669841" author="zshao" created="Tue, 3 Feb 2009 01:56:28 +0000"  >&lt;p&gt;Committed revision 740187. (for trunk)&lt;br/&gt;
Committed revision 740188. (for branch 0.2)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399258" name="HIVE-263.1.patch" size="1404" author="zshao" created="Mon, 2 Feb 2009 05:42:48 +0000"/>
                            <attachment id="12399310" name="HIVE-263.2.patch" size="2952" author="zshao" created="Mon, 2 Feb 2009 23:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-263&quot; title=&quot;TCTLSeparatedProtocol should use UTF-8 to decode the data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-263&quot;&gt;&lt;strike&gt;HIVE-263&lt;/strike&gt;&lt;/a&gt;. TCTLSeparatedProtocol should use UTF-8 to encode/decode the data. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>