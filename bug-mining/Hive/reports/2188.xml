<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:18:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7001] fs.permissions.umask-mode is getting unset when Session is started</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7001</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; set fs.permissions.umask-mode;
fs.permissions.umask-mode=022
hive&amp;gt; show tables;
OK
t1
Time taken: 0.301 seconds, Fetched: 1 row(s)
hive&amp;gt; set fs.permissions.umask-mode;
fs.permissions.umask-mode is undefined

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12711769">HIVE-7001</key>
            <summary>fs.permissions.umask-mode is getting unset when Session is started</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas Nair</assignee>
                                    <reporter username="thejas">Thejas Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 May 2014 18:57:00 +0000</created>
                <updated>Wed, 20 Aug 2014 20:38:59 +0000</updated>
                            <resolved>Fri, 2 May 2014 19:33:47 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.1</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13986922" author="ashutoshc" created="Thu, 1 May 2014 19:46:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13987012" author="thejas" created="Thu, 1 May 2014 21:21:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7001&quot; title=&quot;fs.permissions.umask-mode is getting unset when Session is started&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7001&quot;&gt;&lt;del&gt;HIVE-7001&lt;/del&gt;&lt;/a&gt;.2.patch - also includes a test. Checks if value is preserved.&lt;/p&gt;</comment>
                            <comment id="13987058" author="thejas" created="Thu, 1 May 2014 22:08:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7001&quot; title=&quot;fs.permissions.umask-mode is getting unset when Session is started&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7001&quot;&gt;&lt;del&gt;HIVE-7001&lt;/del&gt;&lt;/a&gt;.3.patch - better &apos;unit&apos; test &lt;/p&gt;</comment>
                            <comment id="13987105" author="thejas" created="Thu, 1 May 2014 22:39:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; Apart from being a critical bug fix,  this also enables a workaround for pre-hadoop 1.2 versions. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6962&quot; title=&quot;NoSuchMethodError exception when using HIVE 0.13 with Hadoop 1.0.4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6962&quot;&gt;HIVE-6962&lt;/a&gt; . That is added value including this in hive 0.13.1. &lt;/p&gt;</comment>
                            <comment id="13987230" author="vikram.dixit" created="Fri, 2 May 2014 01:01:02 +0000"  >&lt;p&gt;+1 LGTM.&lt;/p&gt;</comment>
                            <comment id="13987348" author="hiveqa" created="Fri, 2 May 2014 05:25:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12642930/HIVE-7001.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12642930/HIVE-7001.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5429 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_ctas
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/100/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/100/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/100/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/100/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12642930&lt;/p&gt;</comment>
                            <comment id="13988089" author="thejas" created="Fri, 2 May 2014 18:54:11 +0000"  >&lt;p&gt;Ran parquet_ctas locally and it passed, rest of the test failures are unrelated.&lt;/p&gt;</comment>
                            <comment id="13988129" author="thejas" created="Fri, 2 May 2014 19:33:47 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the reviews Ashutosh &amp;amp; Vikram!&lt;/p&gt;</comment>
                            <comment id="14021683" author="thejas" created="Mon, 9 Jun 2014 06:39:37 +0000"  >&lt;p&gt;This jira has been fixed as part of 0.13.1 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="14104297" author="vkorukanti" created="Wed, 20 Aug 2014 18:33:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;, One question regarding the &quot;fs.permissions.umask-mode&quot;. Looks like &quot;fs.permissions.umask-mode&quot; doesn&apos;t exist in Hadoop 1.x and property &quot;dfs.umaskmode&quot; is used instead in 1.x for the same purpose. Also &quot;dfs.umaskmode&quot; was not deprecated in 1.x according to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8727&quot; title=&quot;Gracefully deprecate dfs.umaskmode in 2.x onwards&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8727&quot;&gt;&lt;del&gt;HADOOP-8727&lt;/del&gt;&lt;/a&gt;. Should we use FsPermission.UMASK_LABEL instead of &quot;fs.permissions.umask-mode&quot; which always points to proper property in latest Hadoop in each version (0.23.x, 1.x, 2.x)?&lt;/p&gt;

&lt;p&gt;Attached a testcase to illustrate the problem. Test passes fine with -Phadoop-2, but not with -Phadoop-1.&lt;/p&gt;</comment>
                            <comment id="14104341" author="thejas" created="Wed, 20 Aug 2014 18:55:23 +0000"  >&lt;p&gt;Using FsPermission.UMASK_LABEL sounds good to me .&lt;br/&gt;
Please open a new jira.&lt;/p&gt;</comment>
                            <comment id="14104526" author="vkorukanti" created="Wed, 20 Aug 2014 20:38:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;thejas&lt;/a&gt;. Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7807&quot; title=&quot;Refer to umask property using FsPermission.UMASK_LABEL.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7807&quot;&gt;&lt;del&gt;HIVE-7807&lt;/del&gt;&lt;/a&gt; and attached patch. Please review.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12709928">HIVE-6962</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12735534">HIVE-7807</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12642878" name="HIVE-7001.1.patch" size="2542" author="thejas" created="Thu, 1 May 2014 18:57:40 +0000"/>
                            <attachment id="12642919" name="HIVE-7001.2.patch" size="3973" author="thejas" created="Thu, 1 May 2014 21:21:39 +0000"/>
                            <attachment id="12642930" name="HIVE-7001.3.patch" size="4456" author="thejas" created="Thu, 1 May 2014 22:08:55 +0000"/>
                            <attachment id="12663180" name="TestUMask.patch" size="2873" author="vkorukanti" created="Wed, 20 Aug 2014 18:33:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1v6wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>