<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:24:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-27316] Select query on table with remote database returns NULL values with postgreSQL and Redshift data connectors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-27316</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;b&gt;Brief Description:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Few datatypes are not mapped from postgres/redshift to hive data types. Thus values for unmapped columns are shown as null.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Steps to reproduce:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Redshift:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;1. create redshift connector, and create remote database with it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create connector rscon1 type &lt;span class=&quot;code-quote&quot;&gt;&apos;postgres&apos;&lt;/span&gt; url &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:redshift:&lt;span class=&quot;code-comment&quot;&gt;//redshift.us-east-2.redshift.amazonaws.com:5439/dev?ssl=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;tcpKeepAlive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; WITH DCPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.dbcp.username&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;venu&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.dbcp.password&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;Mypassword123&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.jdbc.driver&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;com.amazon.redshift.jdbc.Driver&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.schema&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;&apos;&lt;/span&gt;);
&lt;/span&gt;
create REMOTE database localdev1 using rscon1 with DBPROPERTIES(&lt;span class=&quot;code-quote&quot;&gt;&quot;connector.remoteDbName&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;dev&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. Create a test table and insert a row to redshit db through a jdbc client.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&quot;com.amazon.redshift.jdbc.Driver&quot;&lt;/span&gt;);
con = DriverManager.getConnection(
    &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:redshift:&lt;span class=&quot;code-comment&quot;&gt;//redshift.us-east-2.redshift.amazonaws.com:5439/dev?ssl=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;tcpKeepAlive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;,
&lt;/span&gt;    &lt;span class=&quot;code-quote&quot;&gt;&quot;venu&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Mypassword123&quot;&lt;/span&gt;);

stmt = con.createStatement();
stmt.executeUpdate(&lt;span class=&quot;code-quote&quot;&gt;&quot;create table test (intvar &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, int4var int4, integervar integer, smallintvar smallint, int2var int2, bigintvar bigint, int8var int8, boolvar bool, booleanvar &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, floatvar &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;, float4var float4, realvar real, float8var float8, doubleprecisionvar &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; precision, numericvar numeric(8,3), charactervar character(14), ncharvar nchar(10), varcharvar varchar(30), charactervaryingvar character varying(20))&quot;&lt;/span&gt;);
stmt.executeUpdate(&lt;span class=&quot;code-quote&quot;&gt;&quot;insert into test (intvar, int4var, integervar, smallintvar, int2var, bigintvar, int8var, boolvar, booleanvar, floatvar, float4var, realvar, float8var, doubleprecisionvar, numericvar, charactervar, ncharvar, varcharvar, charactervaryingvar) values (1, 10, 100, 2, 20, 3, 30, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, 1.234, 2.345, 3.456, 4.567, 5.678, 6.789, &lt;span class=&quot;code-quote&quot;&gt;&apos;charactervar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ncharvar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;varcharvar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;charactervaryingvar&apos;&lt;/span&gt;)&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. Execute select query on test table from beeline. NULL values are shown for the columns that are not mapped to hive data types.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; use localdev1;
&lt;/span&gt;No rows affected (0.138 seconds)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; select * from test;
&lt;/span&gt;+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
| test.intvar&#160; | test.int4var&#160; | test.integervar&#160; | test.smallintvar&#160; | test.int2var&#160; | test.bigintvar&#160; | test.int8var&#160; | test.boolvar&#160; | test.booleanvar&#160; | test.floatvar&#160; | test.float4var&#160; | test.realvar&#160; | test.float8var&#160; | test.doubleprecisionvar&#160; | test.numericvar&#160; | test.charactervar&#160; | test.ncharvar&#160; | test.varcharvar&#160; | test.charactervaryingvar&#160; |
+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
| NULL &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | 3 &#160; &#160; &#160; &#160; &#160; &#160; &#160; | 30&#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | 7&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; | varcharvar &#160; &#160; &#160; | charactervaryingvar &#160; &#160; &#160; |
+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
1 row selected (24.839 seconds)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt;&#160;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Postgres:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;1. create postgres connector, and create remote database with it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create connector pscon1 type &lt;span class=&quot;code-quote&quot;&gt;&apos;postgres&apos;&lt;/span&gt; url &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:postgresql:&lt;span class=&quot;code-comment&quot;&gt;//postgres.us-east-2.rds.amazonaws.com:5432/postgres?ssl=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;tcpKeepAlive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; WITH DCPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.dbcp.username&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;venu&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.dbcp.password&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;Mypassword123&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.jdbc.driver&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.postgresql.Driver&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;hive.sql.schema&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;&apos;&lt;/span&gt;);
&lt;/span&gt;
create REMOTE database localdevps1 using pscon1 with DBPROPERTIES(&lt;span class=&quot;code-quote&quot;&gt;&quot;connector.remoteDbName&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;postgres&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. Create a test table and insert a row to postgre through a jdbc client.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.postgresql.Driver&quot;&lt;/span&gt;);
con = DriverManager.getConnection(&lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:postgresql:&lt;span class=&quot;code-comment&quot;&gt;//postgres.us-east-2.rds.amazonaws.com:5432/postgres&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;venu&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Mypassword123&quot;&lt;/span&gt;);
&lt;/span&gt;
stmt = con.createStatement();
stmt.executeUpdate(&lt;span class=&quot;code-quote&quot;&gt;&quot;create table test (intvar &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, int4var int4, integervar integer, smallintvar smallint, int2var int2, bigintvar bigint, int8var int8, boolvar bool, booleanvar &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, floatvar &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;, float4var float4, realvar real, float8var float8, doubleprecisionvar &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; precision, numericvar numeric(8,3), charactervar character(14), ncharvar nchar(10), varcharvar varchar(30), charactervaryingvar character varying(20))&quot;&lt;/span&gt;);
stmt.executeUpdate(&lt;span class=&quot;code-quote&quot;&gt;&quot;insert into test (intvar, int4var, integervar, smallintvar, int2var, bigintvar, int8var, boolvar, booleanvar, floatvar, float4var, realvar, float8var, doubleprecisionvar, numericvar, charactervar, ncharvar, varcharvar, charactervaryingvar) values (1, 10, 100, 2, 20, 3, 30, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, 1.234, 2.345, 3.456, 4.567, 5.678, 6.789, &lt;span class=&quot;code-quote&quot;&gt;&apos;charactervar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ncharvar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;varcharvar&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;charactervaryingvar&apos;&lt;/span&gt;)&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. Execute select query on test table from beeline. NULL values are shown for the columns that are not mapped to hive data types.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; use localdevps1;
&lt;/span&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; select * from test;
&lt;/span&gt;+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
| test.intvar&#160; | test.int4var&#160; | test.integervar&#160; | test.smallintvar&#160; | test.int2var&#160; | test.bigintvar&#160; | test.int8var&#160; | test.boolvar&#160; | test.booleanvar&#160; | test.floatvar&#160; | test.float4var&#160; | test.realvar&#160; | test.float8var&#160; | test.doubleprecisionvar&#160; | test.numericvar&#160; | test.charactervar&#160; | test.ncharvar&#160; | test.varcharvar&#160; | test.charactervaryingvar&#160; |
+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
| NULL &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | 3 &#160; &#160; &#160; &#160; &#160; &#160; &#160; | 30&#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; | NULL&#160; &#160; &#160; &#160; &#160; &#160; | NULL &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | 7&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | charactervar &#160; &#160; &#160; | ncharvar &#160; &#160; &#160; | varcharvar &#160; &#160; &#160; | charactervaryingvar &#160; &#160; &#160; |
+--------------+---------------+------------------+-------------------+---------------+-----------------+---------------+---------------+------------------+----------------+-----------------+---------------+-----------------+--------------------------+------------------+--------------------+----------------+------------------+---------------------------+
1 row selected (69.075 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534966">HIVE-27316</key>
            <summary>Select query on table with remote database returns NULL values with postgreSQL and Redshift data connectors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="VenuReddy">Venugopal Reddy K</assignee>
                                    <reporter username="VenuReddy">Venugopal Reddy K</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 4 May 2023 11:20:05 +0000</created>
                <updated>Tue, 15 Aug 2023 06:33:20 +0000</updated>
                            <resolved>Fri, 12 May 2023 00:24:26 +0000</resolved>
                                                    <fixVersion>4.0.0-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hopc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>