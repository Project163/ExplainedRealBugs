<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:55:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-1277] Select query with specific projection(s) fails if the local file system directory for ${hive.user.scratchdir} does not exist.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1277</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a simple select query with specified projections is processed, the &lt;tt&gt;MapRedTask&lt;/tt&gt; attempts to serialize the execution plan to a scratch directory on the local file system specified by &lt;tt&gt;hive.user.scratchdir&lt;/tt&gt; configuration property. The default value of this property points to &lt;tt&gt;/tmp/hive-${user.name&lt;/tt&gt;}. On some *nix systems, the /tmp directory gets cleaned up on every reboot thus causing the query execution to fail.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Exception stacktrace&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hive&amp;gt; select foo from dummy;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
java.io.IOException: No such file or directory&lt;br/&gt;
	at java.io.UnixFileSystem.createFileExclusively(Native Method)&lt;br/&gt;
	at java.io.File.checkAndCreate(File.java:1704)&lt;br/&gt;
	at java.io.File.createTempFile(File.java:1792)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:89)&lt;br/&gt;
        ...&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;Mac OSX 10.6.2, Java SE 6 (1.6.0_17)&lt;/p&gt;</environment>
        <key id="12460155">HIVE-1277</key>
            <summary>Select query with specific projection(s) fails if the local file system directory for ${hive.user.scratchdir} does not exist.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aprabhakar">Arvind Prabhakar</assignee>
                                    <reporter username="aprabhakar">Arvind Prabhakar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Mar 2010 20:17:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:27 +0000</updated>
                            <resolved>Fri, 26 Mar 2010 05:10:40 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12849482" author="aprabhakar" created="Wed, 24 Mar 2010 22:02:02 +0000"  >&lt;p&gt;&lt;b&gt;Changes:&lt;/b&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified the &lt;tt&gt;MapRedTask.execute()&lt;/tt&gt; to test if the scratch directory exists.&lt;/li&gt;
	&lt;li&gt;If the scratch directory does not exist, an attempt is made to create it using &lt;tt&gt;File.mkdirs()&lt;/tt&gt; call.&lt;/li&gt;
	&lt;li&gt;If the call to create does not succeed and the directory still does not exist, an exception is raised to indicate a failure condition.&lt;/li&gt;
	&lt;li&gt;A new unchecked exception type is introduced &lt;tt&gt;TaskExecutionException&lt;/tt&gt; to be used as a generic mechanism to signal execution failures.&lt;/li&gt;
	&lt;li&gt;Added a package-info.java file for the package.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Testing Done&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Built with default Hadoop as well as version 0.17.2.1.&lt;/li&gt;
	&lt;li&gt;Running tests against Hadoop 0.17.2.1 since the past hour, no failures recorded yet.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12849484" author="aprabhakar" created="Wed, 24 Mar 2010 22:02:53 +0000"  >&lt;p&gt;Please see comments associated with the patch attachment.&lt;/p&gt;</comment>
                            <comment id="12849910" author="namit" created="Thu, 25 Mar 2010 21:30:31 +0000"  >&lt;p&gt;Can you generate a patch using svn ?&lt;/p&gt;</comment>
                            <comment id="12849923" author="aprabhakar" created="Thu, 25 Mar 2010 22:04:34 +0000"  >&lt;p&gt;This is the same as the previously submitted patch, only this time generated using &lt;tt&gt;svn diff&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12849943" author="aprabhakar" created="Thu, 25 Mar 2010 22:59:31 +0000"  >&lt;p&gt;For the record, this bug happens when the local scratch directory is missing &lt;b&gt;and&lt;/b&gt; - either the job tracker is not configured (i.e., is local) or the property &lt;tt&gt;hive.exec.submitviachild&lt;/tt&gt; is set to &lt;tt&gt;true&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12849975" author="namit" created="Fri, 26 Mar 2010 01:25:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12850009" author="namit" created="Fri, 26 Mar 2010 05:10:40 +0000"  >&lt;p&gt;Committed. Thanks Arvind&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439717" name="HIVE-1277.patch" size="4412" author="aprabhakar" created="Wed, 24 Mar 2010 22:02:02 +0000"/>
                            <attachment id="12439829" name="HIVE-1277.patch.svn" size="4417" author="aprabhakar" created="Thu, 25 Mar 2010 22:04:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0le9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>