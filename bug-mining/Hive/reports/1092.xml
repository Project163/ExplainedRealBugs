<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:04:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3699] Multiple insert overwrite into multiple tables query stores same results in all tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3699</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;(Note: This might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2750&quot; title=&quot;Hive multi group by single reducer optimization causes invalid column reference error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2750&quot;&gt;&lt;del&gt;HIVE-2750&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I am doing a query with multiple INSERT OVERWRITE to multiple tables in order to scan the dataset only 1 time, and i end up having all these tables with the same content ! It seems the GROUP BY query that returns results is overwriting all the temp tables.&lt;/p&gt;

&lt;p&gt;Weird enough, if i had further GROUP BY queries into additional temp tables, grouped by a different field, then all temp tables, even the ones that would have been wrong content are all correctly populated.&lt;/p&gt;

&lt;p&gt;This is the misbehaving query:&lt;/p&gt;

&lt;p&gt;    FROM nikon&lt;br/&gt;
    INSERT OVERWRITE TABLE e1&lt;br/&gt;
    SELECT qs_cs_s_aid AS Emplacements, COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS Impressions&lt;br/&gt;
    WHERE qs_cs_s_cat=&apos;PRINT&apos; GROUP BY qs_cs_s_aid&lt;br/&gt;
    INSERT OVERWRITE TABLE e2&lt;br/&gt;
    SELECT qs_cs_s_aid AS Emplacements, COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS Vues&lt;br/&gt;
    WHERE qs_cs_s_cat=&apos;VIEW&apos; GROUP BY qs_cs_s_aid&lt;br/&gt;
    ;&lt;/p&gt;

&lt;p&gt;It launches only one MR job and here are the results. Why does table &apos;e1&apos; contains results from table &apos;e2&apos; ?! Table &apos;e1&apos; should have been empty (see individual SELECTs further below)&lt;/p&gt;

&lt;p&gt;    hive&amp;gt; SELECT * from e1;&lt;br/&gt;
    OK&lt;br/&gt;
    NULL    2&lt;br/&gt;
    1627575 25&lt;br/&gt;
    1627576 70&lt;br/&gt;
    1690950 22&lt;br/&gt;
    1690952 42&lt;br/&gt;
    1696705 199&lt;br/&gt;
    1696706 66&lt;br/&gt;
    1696730 229&lt;br/&gt;
    1696759 85&lt;br/&gt;
    1696893 218&lt;br/&gt;
    Time taken: 0.229 seconds&lt;/p&gt;

&lt;p&gt;    hive&amp;gt; SELECT * from e2;&lt;br/&gt;
    OK&lt;br/&gt;
    NULL    2&lt;br/&gt;
    1627575 25&lt;br/&gt;
    1627576 70&lt;br/&gt;
    1690950 22&lt;br/&gt;
    1690952 42&lt;br/&gt;
    1696705 199&lt;br/&gt;
    1696706 66&lt;br/&gt;
    1696730 229&lt;br/&gt;
    1696759 85&lt;br/&gt;
    1696893 218&lt;br/&gt;
    Time taken: 0.11 seconds&lt;/p&gt;


&lt;p&gt;Here is are the result to the indiviual queries (only the second query returns a result set):&lt;/p&gt;

&lt;p&gt;    hive&amp;gt; SELECT qs_cs_s_aid AS Emplacements, COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS Impressions FROM nikon&lt;br/&gt;
    WHERE qs_cs_s_cat=&apos;PRINT&apos; GROUP BY qs_cs_s_aid;&lt;br/&gt;
    (...)&lt;br/&gt;
    OK&lt;br/&gt;
          &amp;lt;- There are no results, this is normal&lt;br/&gt;
    Time taken: 41.471 seconds&lt;/p&gt;

&lt;p&gt;    hive&amp;gt; SELECT qs_cs_s_aid AS Emplacements, COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; AS Vues FROM nikon&lt;br/&gt;
    WHERE qs_cs_s_cat=&apos;VIEW&apos; GROUP BY qs_cs_s_aid;&lt;br/&gt;
    (...)&lt;br/&gt;
    OK&lt;br/&gt;
    NULL  2&lt;br/&gt;
    1627575 25&lt;br/&gt;
    1627576 70&lt;br/&gt;
    1690950 22&lt;br/&gt;
    1690952 42&lt;br/&gt;
    1696705 199&lt;br/&gt;
    1696706 66&lt;br/&gt;
    1696730 229&lt;br/&gt;
    1696759 85&lt;br/&gt;
    1696893 218&lt;br/&gt;
    Time taken: 39.607 seconds&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Cloudera 4.1 on Amazon Linux (rebranded Centos 6): hive-0.9.0+150-1.cdh4.1.1.p0.4.el6.noarch&lt;/p&gt;</environment>
        <key id="12615591">HIVE-3699</key>
            <summary>Multiple insert overwrite into multiple tables query stores same results in all tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis Ryu</assignee>
                                    <reporter username="alexfo">Alexandre Fouch&#233;</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Nov 2012 09:45:21 +0000</created>
                <updated>Thu, 16 May 2013 21:10:06 +0000</updated>
                            <resolved>Sat, 19 Jan 2013 03:54:46 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13542568" author="szzhu" created="Wed, 2 Jan 2013 23:51:20 +0000"  >&lt;p&gt;Any updates on this item?&lt;/p&gt;

&lt;p&gt;We are also observing a similar issue.&lt;/p&gt;

&lt;p&gt;In the following query, the result of test17 was supposed to be empty. But test17 seems to have the same results as test18.&lt;/p&gt;

&lt;p&gt;FROM (&lt;br/&gt;
SELECT info.product, info.sid, info.id, t.persona, info.service&lt;br/&gt;
      FROM info_table info JOIN main_tbl t ON info.service=t.service&lt;br/&gt;
      WHERE (info.id BETWEEN 17 AND 18) AND t.dt=&apos;2012-11-20&apos; AND t.m=&apos;XXX1&apos; AND t.g = &apos;XXX2&apos; AND t.s = &apos;XXX3&apos; ) u&lt;br/&gt;
INSERT OVERWRITE TABLE test18 PARTITION (dt=&apos;2012-11-20&apos;, service)&lt;br/&gt;
SELECT u.product, u.sid, u.id, u.persona, u.service&lt;br/&gt;
WHERE u.id=18&lt;br/&gt;
INSERT OVERWRITE TABLE test17 PARTITION (dt=&apos;2012-11-20&apos;, service)&lt;br/&gt;
SELECT u.product, u.sid, u.id, u.persona, u.service&lt;br/&gt;
WHERE u.id=17;&lt;/p&gt;</comment>
                            <comment id="13542786" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 08:02:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multiple insert overwrite into multiple tables query stores same results in all tables&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1952 Multiple insert overwrite into multiple tables query stores same results in all tables&lt;/p&gt;

&lt;p&gt;  (Note: This might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2750&quot; title=&quot;Hive multi group by single reducer optimization causes invalid column reference error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2750&quot;&gt;&lt;del&gt;HIVE-2750&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;  I am doing a query with multiple INSERT OVERWRITE to multiple tables in order to scan the dataset only 1 time, and i end up having all these tables with the same content ! It seems the GROUP BY query that returns results is overwriting all the temp tables.&lt;/p&gt;

&lt;p&gt;  Weird enough, if i had further GROUP BY queries into additional temp tables, grouped by a different field, then all temp tables, even the ones that would have been wrong content are all correctly populated.&lt;/p&gt;

&lt;p&gt;  This is the misbehaving query:&lt;/p&gt;

&lt;p&gt;      FROM nikon&lt;br/&gt;
      INSERT OVERWRITE TABLE e1&lt;br/&gt;
      SELECT qs_cs_s_aid AS Emplacements, COUNT AS Impressions&lt;br/&gt;
      WHERE qs_cs_s_cat=&apos;PRINT&apos; GROUP BY qs_cs_s_aid&lt;br/&gt;
      INSERT OVERWRITE TABLE e2&lt;br/&gt;
      SELECT qs_cs_s_aid AS Emplacements, COUNT AS Vues&lt;br/&gt;
      WHERE qs_cs_s_cat=&apos;VIEW&apos; GROUP BY qs_cs_s_aid&lt;br/&gt;
      ;&lt;/p&gt;

&lt;p&gt;  It launches only one MR job and here are the results. Why does table &apos;e1&apos; contains results from table &apos;e2&apos; ?! Table &apos;e1&apos; should have been empty (see individual SELECTs further below)&lt;/p&gt;

&lt;p&gt;      hive&amp;gt; SELECT * from e1;&lt;br/&gt;
      OK&lt;br/&gt;
      NULL    2&lt;br/&gt;
      1627575 25&lt;br/&gt;
      1627576 70&lt;br/&gt;
      1690950 22&lt;br/&gt;
      1690952 42&lt;br/&gt;
      1696705 199&lt;br/&gt;
      1696706 66&lt;br/&gt;
      1696730 229&lt;br/&gt;
      1696759 85&lt;br/&gt;
      1696893 218&lt;br/&gt;
      Time taken: 0.229 seconds&lt;/p&gt;

&lt;p&gt;      hive&amp;gt; SELECT * from e2;&lt;br/&gt;
      OK&lt;br/&gt;
      NULL    2&lt;br/&gt;
      1627575 25&lt;br/&gt;
      1627576 70&lt;br/&gt;
      1690950 22&lt;br/&gt;
      1690952 42&lt;br/&gt;
      1696705 199&lt;br/&gt;
      1696706 66&lt;br/&gt;
      1696730 229&lt;br/&gt;
      1696759 85&lt;br/&gt;
      1696893 218&lt;br/&gt;
      Time taken: 0.11 seconds&lt;/p&gt;

&lt;p&gt;  Here is are the result to the indiviual queries (only the second query returns a result set):&lt;/p&gt;

&lt;p&gt;      hive&amp;gt; SELECT qs_cs_s_aid AS Emplacements, COUNT AS Impressions FROM nikon&lt;br/&gt;
      WHERE qs_cs_s_cat=&apos;PRINT&apos; GROUP BY qs_cs_s_aid;&lt;br/&gt;
      (...)&lt;br/&gt;
      OK&lt;br/&gt;
            &amp;lt;- There are no results, this is normal&lt;br/&gt;
      Time taken: 41.471 seconds&lt;/p&gt;

&lt;p&gt;      hive&amp;gt; SELECT qs_cs_s_aid AS Emplacements, COUNT AS Vues FROM nikon&lt;br/&gt;
      WHERE qs_cs_s_cat=&apos;VIEW&apos; GROUP BY qs_cs_s_aid;&lt;br/&gt;
      (...)&lt;br/&gt;
      OK&lt;br/&gt;
      NULL  2&lt;br/&gt;
      1627575 25&lt;br/&gt;
      1627576 70&lt;br/&gt;
      1690950 22&lt;br/&gt;
      1690952 42&lt;br/&gt;
      1696705 199&lt;br/&gt;
      1696706 66&lt;br/&gt;
      1696730 229&lt;br/&gt;
      1696759 85&lt;br/&gt;
      1696893 218&lt;br/&gt;
      Time taken: 39.607 seconds&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D7743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/18627/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/herald/transcript/18627/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13542788" author="navis" created="Thu, 3 Jan 2013 08:02:46 +0000"  >&lt;p&gt;small bug in PPD&lt;/p&gt;

&lt;p&gt;for workaround, set hive.optimize.ppd=false;&lt;/p&gt;</comment>
                            <comment id="13543110" author="namit" created="Thu, 3 Jan 2013 17:37:11 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13543114" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 17:38:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multiple insert overwrite into multiple tables query stores same results in all tables&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert_gby.q:17 The tests are not deterministic&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert_gby.q:32 same as above&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D7743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13543422" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 23:44:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multiple insert overwrite into multiple tables query stores same results in all tables&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Addressed comment&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D7743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13544286" author="szzhu" created="Fri, 4 Jan 2013 21:57:08 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;But I got Hunk failed when applying to Hive 0.9.0.&lt;/p&gt;

&lt;p&gt;patch -p0 &amp;lt; ../../&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt;.D7743.1.patch &lt;br/&gt;
patching file ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
Hunk #1 succeeded at 33 (offset 1 line).&lt;br/&gt;
Hunk #2 FAILED at 53.&lt;br/&gt;
Hunk #3 FAILED at 584.&lt;br/&gt;
Hunk #4 succeeded at 617 (offset -4 lines).&lt;br/&gt;
2 out of 4 hunks FAILED &amp;#8211; saving rejects to file ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java.rej&lt;br/&gt;
patching file ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;br/&gt;
patching file ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/p&gt;
</comment>
                            <comment id="13545337" author="navis" created="Sun, 6 Jan 2013 07:38:30 +0000"  >&lt;p&gt;for 0.9 branch&lt;/p&gt;</comment>
                            <comment id="13545644" author="phabricator@reviews.facebook.net" created="Mon, 7 Jan 2013 05:28:11 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multiple insert overwrite into multiple tables query stores same results in all tables&quot;.&lt;/p&gt;

&lt;p&gt;  Great catch Navis&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D7743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1952&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545727" author="namit" created="Mon, 7 Jan 2013 09:36:53 +0000"  >&lt;p&gt;A lot of tests are failing - can you debug ?&lt;/p&gt;</comment>
                            <comment id="13553573" author="phabricator@reviews.facebook.net" created="Tue, 15 Jan 2013 07:36:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multiple insert overwrite into multiple tables query stores same results in all tables&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Updated result of multi_insert.q,multi_insert_move_tasks_share_dependencies.q&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.facebook.net/D7743&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_insert.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13557115" author="namit" created="Fri, 18 Jan 2013 10:44:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;We had so many checked in tests with wrong results.&lt;/p&gt;</comment>
                            <comment id="13557906" author="namit" created="Sat, 19 Jan 2013 03:54:46 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13557920" author="hudson" created="Sat, 19 Jan 2013 05:25:26 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #26 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/26/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/26/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; Multiple insert overwrite into multiple tables query stores same results&lt;br/&gt;
in all tables (Navis via namit) (Revision 1435484)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13557974" author="hudson" created="Sat, 19 Jan 2013 12:09:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #74 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/74/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/74/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; Multiple insert overwrite into multiple tables query stores same results&lt;br/&gt;
in all tables (Navis via namit) (Revision 1435484)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13557993" author="hudson" created="Sat, 19 Jan 2013 13:51:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1923 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1923/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1923/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; Multiple insert overwrite into multiple tables query stores same results&lt;br/&gt;
in all tables (Navis via namit) (Revision 1435484)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435484&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12636983">HIVE-4173</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12563037" name="HIVE-3699.D7743.1.patch" size="21536" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 08:02:11 +0000"/>
                            <attachment id="12563191" name="HIVE-3699.D7743.2.patch" size="25214" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 23:44:12 +0000"/>
                            <attachment id="12564895" name="HIVE-3699.D7743.3.patch" size="86525" author="phabricator@reviews.facebook.net" created="Tue, 15 Jan 2013 07:36:11 +0000"/>
                            <attachment id="12563463" name="HIVE-3699_hive-0.9.1.patch.txt" size="24017" author="navis" created="Sun, 6 Jan 2013 07:38:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256885</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0iyhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>108680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>