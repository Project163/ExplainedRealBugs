<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:08:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-3632] Upgrade datanucleus to support JDK7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3632</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I found serious problems with datanucleus code when using JDK7, resulting in some sort of exception being thrown when datanucleus code is entered.&lt;/p&gt;

&lt;p&gt;I tried source=1.7, target=1.7 with JDK7 as well as source=1.6, target=1.6 with JDK7 and there was no visible difference in that the same unit tests failed.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.0.1, as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084&quot; title=&quot;Upgrade datanucleus from 2.0.3 to a more recent version (3.?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2084&quot;&gt;&lt;del&gt;HIVE-2084&lt;/del&gt;&lt;/a&gt;.patch, which did not fix the failing tests.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.1-release, as per the advise of &lt;a href=&quot;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-86&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-86&lt;/a&gt;, which suggests using ASMv4 will allow datanucleus to work with JDK7. I was not successful with this either.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.1.2. I was not successful with this either.&lt;/p&gt;

&lt;p&gt;Regarding datanucleus support for JDK7+, there is the following JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-81&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which suggests that they don&apos;t plan to actively support JDK7+ bytecode any time soon.&lt;/p&gt;

&lt;p&gt;I also tested the following JVM parameters found on&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://veerasundar.com/blog/2012/01/java-lang-verifyerror-expecting-a-stackmap-frame-at-branch-target-jdk-7/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://veerasundar.com/blog/2012/01/java-lang-verifyerror-expecting-a-stackmap-frame-at-branch-target-jdk-7/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;with no success either.&lt;/p&gt;

&lt;p&gt;This will become a more serious problem as people move to newer JVMs. If there are other who have solved this issue, please post how this was done. Otherwise, it is a topic that I would like to raise for discussion.&lt;/p&gt;

&lt;p&gt;Test Properties:&lt;br/&gt;
CLEAR LIBRARY CACHE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613843">HIVE-3632</key>
            <summary>Upgrade datanucleus to support JDK7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 05:41:14 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:16 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:35:35 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="13498101" author="andy" created="Thu, 15 Nov 2012 16:15:44 +0000"  >&lt;p&gt;You refer to a DataNucleus JIRA issue that was marked fixed in June 2012. How does that imply that &quot;they don&apos;t plan to actively support JDK7+ bytecode any time soon&quot; ? DataNucleus 3.1.x supports JDK1.7+ and has for some time. There are 0 reported problems using DataNucleus v3.1 with JDK1.7. You don&apos;t define &quot;not successful&quot;&lt;/p&gt;</comment>
                            <comment id="13708637" author="xuefuz" created="Mon, 15 Jul 2013 16:59:39 +0000"  >&lt;p&gt;Since nobody is working on this, I will give it a shot.&lt;/p&gt;</comment>
                            <comment id="13708639" author="xuefuz" created="Mon, 15 Jul 2013 17:06:22 +0000"  >&lt;p&gt;To compile and run hive on JDK7, DataNucleus needs to be upgraded. The current plan is to upgrade using the following library versions:&lt;/p&gt;

&lt;p&gt;datanucleus-api-jdo-3.2.1.jar&lt;br/&gt;
datanucleus-rdbms-3.2.1.jar&lt;br/&gt;
datanucleus-core-3.2.2.jar.&lt;/p&gt;

&lt;p&gt;These versions work for both JDK6 and JDK7. After upgrade, there is only a few test failures with JDK6. Besides the unit tests, more tests will be conducted.&lt;/p&gt;

&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084&quot; title=&quot;Upgrade datanucleus from 2.0.3 to a more recent version (3.?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2084&quot;&gt;&lt;del&gt;HIVE-2084&lt;/del&gt;&lt;/a&gt;, but the goal here is slightly different. Of course, the upgrade needs to address all issues that may arise.&lt;/p&gt;</comment>
                            <comment id="13708673" author="ashutoshc" created="Mon, 15 Jul 2013 17:25:33 +0000"  >&lt;p&gt;I am all for updating DN. Huge +1&lt;br/&gt;
But we need to be wary of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084?focusedCommentId=13014240&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13014240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2084?focusedCommentId=13014240&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13014240&lt;/a&gt;&lt;br/&gt;
Feels like we might need to provide upgrade scripts for folks to migrate because of this.&lt;/p&gt;</comment>
                            <comment id="13713014" author="xuefuz" created="Thu, 18 Jul 2013 22:42:45 +0000"  >&lt;p&gt;Patch includes fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt;. Will rebase if it gets committed first.&lt;/p&gt;</comment>
                            <comment id="13713036" author="xuefuz" created="Thu, 18 Jul 2013 22:58:32 +0000"  >&lt;p&gt;Review board: &lt;a href=&quot;https://reviews.apache.org/r/12750/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/12750/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13713300" author="hiveqa" created="Fri, 19 Jul 2013 03:19:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 build exited with an error&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593080/HIVE-3632.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593080/HIVE-3632.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 254 failed/errored test(s)&lt;br/&gt;
Failed tests:&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDriverProperties&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionVars&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testTableCheck&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testDynamicSerde&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column4&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDatabaseMetaData&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStoreIpAddress.testIpAddress&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testGetAndDropTables&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins&lt;br/&gt;
org.apache.hadoop.hive.ql.history.TestHiveHistory.testQueryloglocParentDirNotExist&lt;br/&gt;
junit.framework.TestSuite.org.apache.hive.service.cli.TestEmbeddedThriftCLIService&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartition&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testIndex&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllFetchSize&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_nonkey_groupby&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_missing_overwrite&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreAuthorization.testMetaStoreAuthorization&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function4&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllMaxRows&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testNonHiveCommand&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testErrorMessages&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAll&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestSemanticAnalyzerHookLoading.testHookLoading&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table1&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddFileShouldFailIfFileNotExist&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testListFSRoot&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testScratchDirShouldNotClearWhileStartup&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testNullType&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct2&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_index&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats_empty_partition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testGetClusterStatus&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testIndex&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testTable&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTableTypes&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumnsMetaData&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_insert_wrong_number_columns&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMarkPartitionRemote.testMarkingPartitionSet&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllPartioned&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.ql.TestLocationQueries.testAlterTablePartitionLocation_alter5&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testPartitionsCheck&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.hwi.TestHWISessionManager.testHiveDriver&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_macro_reserved_word&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table2&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testMetastore&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.security.TestDefaultHiveMetastoreAuthorizationProvider.testSimplePrivileges&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown&lt;br/&gt;
org.apache.hadoop.hive.ql.history.TestHiveHistory.testSimpleQuery&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testResultSetMetaData&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterSinglePartition&lt;br/&gt;
junit.framework.TestSuite.org.apache.hive.beeline.src.test.TestBeeLineWithArgs&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreListenersError.testEventListenerException&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_select&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetCatalogs&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_create_table&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteUGIHiveMetaStoreIpAddress.testIpAddress&lt;br/&gt;
org.apache.hadoop.hive.ql.security.TestAuthorizationPreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddJarShouldFailIfJarNotExist&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column6&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testExplainStmt&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_duplicate_alias&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDescribeTable&lt;br/&gt;
org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_ambiguous_join_col&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDataTypes&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddArchiveShouldFailIfFileNotExist&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testExecuteJDOQL&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_quoted_string&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMarkPartition.testMarkingPartitionSet&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column5&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_function_param2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.ql.exec.TestOperators.testBaseFilterOperator&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSetCommand&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testScratchDirShouldClearWhileStartup&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function1&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index2&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumns&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testPrepareStatement&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testUpdateFSRootLocation&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testConversionsBaseResultSet&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_garbage&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithCommas&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop_hadoop20&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testGetAndDropTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testFetch&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.ql.exec.TestOperators.testScriptOperator&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testExecute&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_shutdown&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_dot&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/86/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/86/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/86/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/86/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;br/&gt;
Tests failed with: TestsFailedException: 254 tests failed&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13713324" author="xuefuz" created="Fri, 19 Jul 2013 04:15:37 +0000"  >&lt;p&gt;I believe these failures were caused by mismatched DN libraries. We need to either do a &quot;ant very-clean&quot; or remove ivy cache before launching the build. Or both.&lt;/p&gt;</comment>
                            <comment id="13713705" author="brocknoland" created="Fri, 19 Jul 2013 14:27:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; shoot, we support that internally via the kickout shell script. I haven&apos;t built that support for that yet because we have a client server model as opposed to directly invoking ptest2. I&apos;ll look at it today.&lt;/p&gt;</comment>
                            <comment id="13714091" author="sershe" created="Fri, 19 Jul 2013 21:23:58 +0000"  >&lt;p&gt;2 comments on RB&lt;/p&gt;</comment>
                            <comment id="13714144" author="ashutoshc" created="Fri, 19 Jul 2013 22:10:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; Please tease out &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt; bits from the patch. &lt;br/&gt;
It seems to me upgrade is required, we are changing column names. One way to test that is to create latest schema from script in metastore/scripts/upgrade/mysql in mysql, than apply your patch and than run tests against it. I will assume tests should fail because they wont find column names in mysql they are expecting.&lt;/p&gt;</comment>
                            <comment id="13714184" author="xuefuz" created="Fri, 19 Jul 2013 22:46:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; My incomplete test shows that no upgrade script is necessary. The change of column names was to fix mistakes in DN mapping file (package.jdo) where a few columns weren&apos;t matched with the actually column names in schema. Old DN didn&apos;t catch those, and worked magically. Thus, the patch is to fix the field mapping rather than changing db schema.&lt;/p&gt;

&lt;p&gt;One of my test was to create DB schema using hive-schema-0.10.0.mysql.sql, and start metastore on the top of it. This patch works fine.&lt;/p&gt;

&lt;p&gt;I said my test is incomplete as it didn&apos;t try in case of metastore schema auto create. I don&apos;t think there will be a problem, but it&apos;s a good thing to check too. Otherwise, I don&apos;t think there is a need for schema upgrade.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey.l.ivashin%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;sergey.l.ivashin@intel.com&quot;&gt;sergey.l.ivashin@intel.com&lt;/a&gt; As to your question in RB, this patch doesn&apos;t change connection pooling in any form. The change you observed is a &quot;missing&quot; jar, which is part of DN-rdbms jar in the new DN version. Here is the DN doc for your reference.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/migration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.datanucleus.org/products/datanucleus/migration.html&lt;/a&gt; (search for datanucleus-connectionpool).&lt;/p&gt;

&lt;p&gt;I think Hive uses DBCP as a connection pool.&lt;/p&gt;</comment>
                            <comment id="13714317" author="xuefuz" created="Sat, 20 Jul 2013 03:14:12 +0000"  >&lt;p&gt;Patch updated with code for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt; stripped.&lt;/p&gt;</comment>
                            <comment id="13714414" author="brocknoland" created="Sat, 20 Jul 2013 12:46:54 +0000"  >&lt;p&gt;The patch &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.patch.1&quot; is not in the correct format for the precommit tests and I&apos;d like to see it run. Therefore I am re-uploading the exact same patch named as &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.1.patch&quot;.&lt;/p&gt;</comment>
                            <comment id="13714427" author="hiveqa" created="Sat, 20 Jul 2013 13:32:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/110/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/110/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/110/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/110/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: InterruptedException: null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714457" author="hiveqa" created="Sat, 20 Jul 2013 15:40:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2646 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/111/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/111/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/111/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/111/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714463" author="appodictic" created="Sat, 20 Jul 2013 15:50:59 +0000"  >&lt;p&gt;Can we open a separate patch to fix the mapping file and trest and commit that first.&lt;/p&gt;</comment>
                            <comment id="13714470" author="xuefuz" created="Sat, 20 Jul 2013 16:14:44 +0000"  >&lt;p&gt;I think that&apos;s a good idea. It avoids confusions. Will do that.&lt;/p&gt;</comment>
                            <comment id="13714593" author="brocknoland" created="Sun, 21 Jul 2013 01:26:27 +0000"  >&lt;p&gt;These new libraries were causing most tests to fail. Until we finish this upgrade I have enabled deletion of the library cache on all builds. I assume this versioning issue with the libraries is an ivy problem?&lt;/p&gt;</comment>
                            <comment id="13718907" author="ashutoshc" created="Wed, 24 Jul 2013 22:09:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4900&quot; title=&quot;Fix the mismatched column names in package.jdo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4900&quot;&gt;&lt;del&gt;HIVE-4900&lt;/del&gt;&lt;/a&gt; is in. Can you rebase this patch? Also few comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;+    METASTORE_USE_LEGACY_VALUE_STRATEGY(&quot;datanucleus.rdbms.useLegacyNativeValueStrategy&quot;, true), I don&apos;t know what this property does, can you briefly explain what it is and why we need it for the upgrade ?&lt;/li&gt;
	&lt;li&gt;Why we need to declare new deps in ql/ivy.xml Declaring them in metastore/ivy.xml should suffice.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13718946" author="xuefuz" created="Wed, 24 Jul 2013 22:35:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;brocknoland&lt;/a&gt; Yes, it&apos;s an ivy problem, which keeps the old DN libs while bringing new ones.&lt;/p&gt;</comment>
                            <comment id="13718963" author="xuefuz" created="Wed, 24 Jul 2013 22:50:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; Thanks for your comments.&lt;/p&gt;

&lt;p&gt;0. Will base.&lt;br/&gt;
1. datanucleus.rdbms.useLegacyNativeValueStrategy is required because DN 3.x changed the way that default values are generated. Without this, metastore startup would fail while inserting default database entry. This is the error msg:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.jdo.JDODataStoreException: Insert of object &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.metastore.model.MDatabase@176fbe79&quot;&lt;/span&gt; using statement &lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO `DBS` (`NAME`,`DESC`,`DB_LOCATION_URI`) VALUES (?,?,?)&quot;&lt;/span&gt; failed : Field &lt;span class=&quot;code-quote&quot;&gt;&apos;DB_ID&apos;&lt;/span&gt; doesn&apos;t have a &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this property to true instructs DN that the old way of generating default values is used. More information can be found at &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/migration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.datanucleus.org/products/datanucleus/migration.html&lt;/a&gt; (search for useLegacyNativeValueStrategy).&lt;/p&gt;

&lt;p&gt;2. DN deps in ql/ivy.xml is probably not needed. My patch was originally based on 0.10, where DN deps exist. I will test and remove if there is no need.&lt;/p&gt;</comment>
                            <comment id="13718999" author="xuefuz" created="Wed, 24 Jul 2013 23:09:49 +0000"  >&lt;p&gt;Patch is rebased and updated by removing deps in ql/ivy.xml.&lt;/p&gt;</comment>
                            <comment id="13719054" author="xuefuz" created="Wed, 24 Jul 2013 23:57:28 +0000"  >&lt;p&gt;Rebase patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.3.patch) based on latest trunk.&lt;/p&gt;</comment>
                            <comment id="13719467" author="hiveqa" created="Thu, 25 Jul 2013 10:09:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2651 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/178/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/178/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/178/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/178/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719613" author="hiveqa" created="Thu, 25 Jul 2013 13:35:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2651 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/180/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/180/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/180/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/180/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719865" author="ashutoshc" created="Thu, 25 Jul 2013 18:16:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13720888" author="ashutoshc" created="Fri, 26 Jul 2013 15:35:36 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Xuefu!&lt;/p&gt;</comment>
                            <comment id="13795861" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:16 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12658906">HIVE-4900</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12532680">HIVE-2609</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12502784">HIVE-2084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12667054">HIVE-5218</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12660093">HIVE-4942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12648611">HIVE-4583</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12593335" name="HIVE-3632.1.patch" size="9252" author="brocknoland" created="Sat, 20 Jul 2013 12:46:54 +0000"/>
                            <attachment id="12594054" name="HIVE-3632.2.patch" size="6484" author="xuefuz" created="Wed, 24 Jul 2013 23:09:49 +0000"/>
                            <attachment id="12594065" name="HIVE-3632.3.patch" size="6484" author="xuefuz" created="Wed, 24 Jul 2013 23:57:28 +0000"/>
                            <attachment id="12593080" name="HIVE-3632.patch" size="19498" author="xuefuz" created="Thu, 18 Jul 2013 22:42:45 +0000"/>
                            <attachment id="12593315" name="HIVE-3632.patch.1" size="9252" author="xuefuz" created="Sat, 20 Jul 2013 03:14:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>