<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:26:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-8560] SerDes that do not inherit AbstractSerDe do not get table properties during initialize()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-8560</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Looks like this may have been introduced during &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6835&quot; title=&quot;Reading of partitioned Avro data fails if partition schema does not match table schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6835&quot;&gt;&lt;del&gt;HIVE-6835&lt;/del&gt;&lt;/a&gt;.  During initialize(), 3rd party SerDes which do not inherit AbstractSerDe end up getting a Properties object created by SerDeUtils.createOverlayedProperties().  This properties object receives the table properties as defaults.  So looking up a key by name will yield the default value, but a call like getKeys() will not show any of the table properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12749716">HIVE-8560</key>
            <summary>SerDes that do not inherit AbstractSerDe do not get table properties during initialize()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Oct 2014 07:56:30 +0000</created>
                <updated>Thu, 13 Nov 2014 19:39:43 +0000</updated>
                            <resolved>Fri, 24 Oct 2014 00:14:39 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14179710" author="jdere" created="Wed, 22 Oct 2014 08:10:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;xuefuz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erwaman&quot; class=&quot;user-hover&quot; rel=&quot;erwaman&quot;&gt;erwaman&lt;/a&gt; is this fix ok?&lt;/p&gt;</comment>
                            <comment id="14179947" author="xuefuz" created="Wed, 22 Oct 2014 14:23:57 +0000"  >&lt;p&gt;Change looks fine to me. However, I&apos;m a little surprised by the subtle difference between the two ways. Is it documented in Properties class?&lt;/p&gt;</comment>
                            <comment id="14179999" author="xuefuz" created="Wed, 22 Oct 2014 15:05:54 +0000"  >&lt;p&gt;From javadoc, it seems caller should use stringPropertyNames() to get a set of property names instead of calling keys() or keySet().&lt;/p&gt;</comment>
                            <comment id="14180035" author="hiveqa" created="Wed, 22 Oct 2014 15:23:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12676281/HIVE-8560.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12676281/HIVE-8560.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6574 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.minikdc.TestJdbcWithMiniKdc.testNegativeTokenAuth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1393/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1393/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1393/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1393/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1393/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12676281 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14180186" author="jdere" created="Wed, 22 Oct 2014 17:11:18 +0000"  >&lt;p&gt;Agreed that the serde probably should have used stringPropertyNames(). But it wouldn&apos;t hurt here if the table properties were set directly in the Properties (as opposed to being set in the defaults), and then overlayed by the partition properties (if any), right?&lt;/p&gt;</comment>
                            <comment id="14180188" author="jdere" created="Wed, 22 Oct 2014 17:12:42 +0000"  >&lt;p&gt;Looks like failure in TestJdbcWithMiniKdc.testNegativeTokenAuth is not related, it has been failing in other precommit runs.&lt;/p&gt;</comment>
                            <comment id="14180258" author="xuefuz" created="Wed, 22 Oct 2014 18:06:12 +0000"  >&lt;blockquote&gt;
&lt;p&gt;it wouldn&apos;t hurt here if the table properties were set directly in the Properties (as opposed to being set in the defaults), and then overlayed by the partition properties (if any), right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I guess the difference is also subtle. Storing all property in one list vs two lists is that all HashMap related operations only apply to the main list, but not to the list for defaults. Thus, you can remove a property from the list, but its default will be still there. Also, child class of Properties can access both the value and the default value of a given property if exists.&lt;/p&gt;

&lt;p&gt;I think Hive&apos;s use case doesn&apos;t involve these. Thus, +1.&lt;/p&gt;</comment>
                            <comment id="14182212" author="jdere" created="Thu, 23 Oct 2014 23:58:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;vikram.dixit&lt;/a&gt; would like to add to 0.14&lt;/p&gt;</comment>
                            <comment id="14182235" author="jdere" created="Fri, 24 Oct 2014 00:14:40 +0000"  >&lt;p&gt;Committed to trunk/branch-0.14&lt;/p&gt;</comment>
                            <comment id="14184000" author="erwaman" created="Sat, 25 Oct 2014 06:31:43 +0000"  >&lt;p&gt;I&apos;m late to the party, but change looks good to me, too.  This won&apos;t affect the behavior of AbstractSerDes like AvroSerDes, so I&apos;m cool with it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="14210233" author="thejas" created="Thu, 13 Nov 2014 19:39:43 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12706464">HIVE-6835</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12676281" name="HIVE-8560.1.patch" size="719" author="jdere" created="Wed, 22 Oct 2014 08:04:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21fs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>