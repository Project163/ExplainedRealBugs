<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:26:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-28902] Fix unknown column PARTITION_NAME in aggrStatsUseDB</title>
                <link>https://issues.apache.org/jira/browse/HIVE-28902</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-27725&quot; title=&quot;Remove redundant columns in TAB_COL_STATS and PART_COL_STATS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-27725&quot;&gt;&lt;del&gt;HIVE-27725&lt;/del&gt;&lt;/a&gt; drop column `PARTITION_NAME` from `PART_COL_STATS` table, it cause this error in &lt;tt&gt;MetaStoreDirectSql#aggrStatsUseDB&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
        at org.datanucleus.api.jdo.JDOQuery.executeInternal(JDOQuery.java:456) ~[datanucleus-api-jdo-5.2.8.jar:?]
        at org.datanucleus.api.jdo.JDOQuery.executeWithArray(JDOQuery.java:318) ~[datanucleus-api-jdo-5.2.8.jar:?]
        at org.apache.hadoop.hive.metastore.MetastoreDirectSqlUtils.executeWithArray(MetastoreDirectSqlUtils.java:69) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.executeWithArray(MetaStoreDirectSql.java:2417) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.executeWithArray(MetaStoreDirectSql.java:2412) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.aggrStatsUseDB(MetaStoreDirectSql.java:2002) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.columnStatisticsObjForPartitionsBatch(MetaStoreDirectSql.java:1939) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.access&lt;span class=&quot;code-object&quot;&gt;$1800&lt;/span&gt;(MetaStoreDirectSql.java:134) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql&lt;span class=&quot;code-object&quot;&gt;$8&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;$1&lt;/span&gt;.run(MetaStoreDirectSql.java:1886) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.Batchable.runBatched(Batchable.java:79) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql&lt;span class=&quot;code-object&quot;&gt;$8&lt;/span&gt;.run(MetaStoreDirectSql.java:1883) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.Batchable.runBatched(Batchable.java:79) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.columnStatisticsObjForPartitions(MetaStoreDirectSql.java:1880) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.MetaStoreDirectSql.aggrColStatsForPartitions(MetaStoreDirectSql.java:1808) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.ObjectStore&lt;span class=&quot;code-object&quot;&gt;$27&lt;/span&gt;.getSqlResult(ObjectStore.java:10015) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.ObjectStore&lt;span class=&quot;code-object&quot;&gt;$27&lt;/span&gt;.getSqlResult(ObjectStore.java:10011) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.ObjectStore&lt;span class=&quot;code-object&quot;&gt;$GetHelper&lt;/span&gt;.run(ObjectStore.java:4374) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.ObjectStore.get_aggr_stats_for(ObjectStore.java:10030) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.ObjectStore.get_aggr_stats_for(ObjectStore.java:9999) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]
        at org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:97) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at com.sun.proxy.&lt;span class=&quot;code-object&quot;&gt;$Proxy25&lt;/span&gt;.get_aggr_stats_for(Unknown Source) [?:?]
        at org.apache.hadoop.hive.metastore.HMSHandler.get_aggr_stats_for(HMSHandler.java:9457) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]
        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:91) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.AbstractHMSHandlerProxy.invoke(AbstractHMSHandlerProxy.java:82) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at com.sun.proxy.&lt;span class=&quot;code-object&quot;&gt;$Proxy27&lt;/span&gt;.get_aggr_stats_for(Unknown Source) [?:?]
        at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore&lt;span class=&quot;code-object&quot;&gt;$Processor&lt;/span&gt;$get_aggr_stats_for.getResult(ThriftHiveMetastore.java:23446) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore&lt;span class=&quot;code-object&quot;&gt;$Processor&lt;/span&gt;$get_aggr_stats_for.getResult(ThriftHiveMetastore.java:23425) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:38) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.TUGIBasedProcessor&lt;span class=&quot;code-object&quot;&gt;$1&lt;/span&gt;.run(TUGIBasedProcessor.java:111) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hadoop.hive.metastore.TUGIBasedProcessor&lt;span class=&quot;code-object&quot;&gt;$1&lt;/span&gt;.run(TUGIBasedProcessor.java:107) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at java.base/java.security.AccessController.doPrivileged(Native Method) ~[?:?]
        at java.base/javax.security.auth.Subject.doAs(Subject.java:423) [?:?]
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899) [hadoop-common-3.3.5.jar:?]
        at org.apache.hadoop.hive.metastore.TUGIBasedProcessor.process(TUGIBasedProcessor.java:119) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.thrift.server.TThreadPoolServer&lt;span class=&quot;code-object&quot;&gt;$WorkerProcess&lt;/span&gt;.run(TThreadPoolServer.java:250) [hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
        at java.base/java.util.concurrent.ThreadPoolExecutor&lt;span class=&quot;code-object&quot;&gt;$Worker&lt;/span&gt;.run(ThreadPoolExecutor.java:628) [?:?]
        at java.base/java.lang.Thread.run(Thread.java:829) [?:?]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column &lt;span class=&quot;code-quote-red&quot;&gt;&apos;PARTITION_NAME&apos;&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;code-quote-red&quot;&gt;&apos;where clause&apos;&lt;/span&gt;
        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.28.jar:8.0.28]
        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.28.jar:8.0.28]
        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.28.jar:8.0.28]
        at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.28.jar:8.0.28]
        at org.apache.hive.com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.apache.hive.com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[hive-exec-4.1.0-SNAPSHOT.jar:4.1.0-SNAPSHOT]
        at org.datanucleus.store.rdbms.ParamLoggingPreparedStatement.executeQuery(ParamLoggingPreparedStatement.java:375) ~[datanucleus-rdbms-5.2.10.jar:?]
        at org.datanucleus.store.rdbms.SQLController.executeStatementQuery(SQLController.java:553) ~[datanucleus-rdbms-5.2.10.jar:?]
        at org.datanucleus.store.rdbms.query.SQLQuery.performExecute(SQLQuery.java:664) ~[datanucleus-rdbms-5.2.10.jar:?]
        at org.datanucleus.store.query.Query.executeQuery(Query.java:1975) ~[datanucleus-core-5.2.10.jar:?]
        at org.datanucleus.store.rdbms.query.SQLQuery.executeWithArray(SQLQuery.java:818) ~[datanucleus-rdbms-5.2.10.jar:?]
        at org.datanucleus.api.jdo.JDOQuery.executeInternal(JDOQuery.java:433) ~[datanucleus-api-jdo-5.2.8.jar:?]
        ... 45 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13615071">HIVE-28902</key>
            <summary>Fix unknown column PARTITION_NAME in aggrStatsUseDB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wechar">Wechar</assignee>
                                    <reporter username="wechar">Wechar</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Sat, 12 Apr 2025 14:07:28 +0000</created>
                <updated>Tue, 29 Jul 2025 14:52:07 +0000</updated>
                            <resolved>Wed, 16 Apr 2025 09:39:54 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                    <component>Standalone Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17945016" author="okumin" created="Wed, 16 Apr 2025 09:39:54 +0000"  >&lt;p&gt;Merged. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wechar&quot; class=&quot;user-hover&quot; rel=&quot;wechar&quot;&gt;wechar&lt;/a&gt; for the patch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhangbutao&quot; class=&quot;user-hover&quot; rel=&quot;zhangbutao&quot;&gt;zhangbutao&lt;/a&gt; for your review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vbwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>