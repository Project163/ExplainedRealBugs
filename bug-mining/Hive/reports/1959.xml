<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:16:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6559] sourcing txn-script from schema script results in failure for mysql &amp; oracle</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6559</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;On mysql, I got:&lt;br/&gt;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;----------------------------&lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
SOURCE hive-txn-schem&apos; at line 1&lt;/p&gt;

&lt;p&gt;On Oracle, I got:&lt;br/&gt;
SP2-0310: unable to open file &quot;hive-txn-schema-0.13.0.oracle.sql&quot; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12699016">HIVE-6559</key>
            <summary>sourcing txn-script from schema script results in failure for mysql &amp; oracle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gates">Alan Gates</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2014 23:48:57 +0000</created>
                <updated>Tue, 1 Oct 2019 22:07:10 +0000</updated>
                            <resolved>Wed, 12 Mar 2014 05:05:29 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13921662" author="ashutoshc" created="Wed, 5 Mar 2014 23:56:59 +0000"  >&lt;p&gt;Also, Prasad &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6555?focusedCommentId=13921608&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13921608&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;brought up&lt;/a&gt; on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6555&quot; title=&quot;TestSchemaTool is failing on trunk after branching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6555&quot;&gt;&lt;del&gt;HIVE-6555&lt;/del&gt;&lt;/a&gt; that schema version update should happen at last.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;gates&quot;&gt;gates&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="13921670" author="prasadm" created="Thu, 6 Mar 2014 00:01:13 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; !&lt;br/&gt;
It&apos;s a pretty simple change. I can take care of it.&lt;/p&gt;</comment>
                            <comment id="13921674" author="ashutoshc" created="Thu, 6 Mar 2014 00:05:41 +0000"  >&lt;p&gt;Sorry, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;prasadm&lt;/a&gt; I mixed up two issues here. One which you brought up. Another different issue is calling out txn-script from schema script is not working as intended.  See description of this issue. Feel free to pick either one or both of them.&lt;/p&gt;</comment>
                            <comment id="13921678" author="prasadm" created="Thu, 6 Mar 2014 00:09:04 +0000"  >&lt;p&gt;The changes will be done on top of the 0.14 scripts that are being added by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6555&quot; title=&quot;TestSchemaTool is failing on trunk after branching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6555&quot;&gt;&lt;del&gt;HIVE-6555&lt;/del&gt;&lt;/a&gt; patch.&lt;/p&gt;</comment>
                            <comment id="13921687" author="prasadm" created="Thu, 6 Mar 2014 00:12:56 +0000"  >&lt;p&gt;ah ok. sorry, didn&apos;t notice that. I was talking about the script ordering issue. will create a separate ticket for that. Thanks&lt;/p&gt;</comment>
                            <comment id="13925090" author="ashutoshc" created="Sun, 9 Mar 2014 02:19:56 +0000"  >&lt;p&gt;Although, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6583&quot; title=&quot;wrong sql comments : ----... instead of -- ---...&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6583&quot;&gt;&lt;del&gt;HIVE-6583&lt;/del&gt;&lt;/a&gt; will help one get past problem I pasted above, that doesn&apos;t help completely. New requirement because of sourcing another script leads one into a situation that you need to be in same dir to perform this sourcing correctly. Otherwise, you will get &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR: 
Failed to open file &lt;span class=&quot;code-quote&quot;&gt;&apos;hive-txn-schema-0.13.0.mysql.sql&apos;&lt;/span&gt;, error: 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is inconvenience for user, but real problems is for tools because they now need to cd into correct dir to invoke this script.&lt;br/&gt;
I believe we should not source another script, but inline all sql statements in existing script.&lt;/p&gt;</comment>
                            <comment id="13925960" author="alangates" created="Mon, 10 Mar 2014 17:59:54 +0000"  >&lt;p&gt;I fixed the issue by removing the invocations from the hive-schema-0.13 scripts and inlining the table creation.&lt;/p&gt;</comment>
                            <comment id="13931087" author="hiveqa" created="Tue, 11 Mar 2014 22:45:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633741/HIVE-6559.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633741/HIVE-6559.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5377 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1704/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1704/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1704/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1704/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633741&lt;/p&gt;</comment>
                            <comment id="13931107" author="prasadm" created="Tue, 11 Mar 2014 23:02:33 +0000"  >&lt;p&gt;Looks fine to me. &lt;br/&gt;
The same changes will be needed in hive-schema-0.14.0.*.sql files in trunk. I guess this patch can be applied to 0.13 as is.&lt;/p&gt;</comment>
                            <comment id="13931132" author="ashutoshc" created="Tue, 11 Mar 2014 23:18:46 +0000"  >&lt;p&gt;+1. yeah.. we should get this in 0.13 as well.&lt;/p&gt;</comment>
                            <comment id="13931134" author="ashutoshc" created="Tue, 11 Mar 2014 23:20:35 +0000"  >&lt;p&gt;For 0.14.* sql files we can track in separate jira because I guess Alan is thinking on how to do it better in trunk.&lt;/p&gt;</comment>
                            <comment id="13931138" author="prasadm" created="Tue, 11 Mar 2014 23:22:49 +0000"  >&lt;p&gt;Sounds good.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13931402" author="ashutoshc" created="Wed, 12 Mar 2014 05:05:29 +0000"  >&lt;p&gt;Committed to 0.13 &amp;amp; trunk. Thanks, Alan!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12701528">HIVE-6669</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12633741" name="HIVE-6559.patch" size="11545" author="gates" created="Mon, 10 Mar 2014 17:59:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t0xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>