<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:51:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-324] AccessControlException when load data into table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-324</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;when loading data in non-supergroup user of hadoop,  hadoop will throw a AccessControlException bacuase Hive try to do write operation at  /tmp directory.&lt;br/&gt;
This is obviously not allowed.&lt;/p&gt;

&lt;p&gt;see line 752 in Hive.java&lt;/p&gt;

&lt;p&gt;Path tmppath = new Path(&quot;/tmp/&quot;+randGen.nextInt());&lt;br/&gt;
      try &lt;/p&gt;
{
          fs.mkdirs(tmppath);
      ...
    }

&lt;p&gt;those lines will cause that exception. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12416100">HIVE-324</key>
            <summary>AccessControlException when load data into table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coderplay">Min Zhou</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 12:15:56 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:56 +0000</updated>
                            <resolved>Wed, 8 Apr 2009 01:26:01 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12679026" author="coderplay" created="Thu, 5 Mar 2009 01:17:41 +0000"  >&lt;p&gt;Since it&apos;s a temporary path will remove  in the end of that function, we can use a relatively path.  &lt;/p&gt;</comment>
                            <comment id="12683201" author="athusoo" created="Wed, 18 Mar 2009 22:06:37 +0000"  >&lt;p&gt;Assigning.&lt;/p&gt;</comment>
                            <comment id="12683214" author="athusoo" created="Wed, 18 Mar 2009 22:36:31 +0000"  >&lt;p&gt;I think this should go into the tmp file that is created for the query as that gets automatically cleaned up once the query is done its execution. The correct way would be to augment moveWork to include a tmp directory and then pass it from SemanticAnalyzer by first generating the name there using the getTmpFile() call. You can look at the SemanticAnalyzer.java to see how this happens.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Ashish&lt;/p&gt;</comment>
                            <comment id="12688873" author="namit" created="Tue, 24 Mar 2009 21:15:31 +0000"  >&lt;p&gt;look at the function getTmpFileName() in BaseSemanticAnalyzer.java - it creates a dummy file, which is automatically cleared at the end of the query&lt;br/&gt;
You should use the same function to generate tmp files&lt;/p&gt;</comment>
                            <comment id="12696143" author="johanoskarsson" created="Mon, 6 Apr 2009 15:48:46 +0000"  >&lt;p&gt;Is this issue considered a blocker for 0.3.0? Perhaps it can go into 0.3.1?&lt;/p&gt;</comment>
                            <comment id="12696217" author="athusoo" created="Mon, 6 Apr 2009 19:13:43 +0000"  >&lt;p&gt;Actually I have a fox for this almost ready. If I get it in the next few hours  I think we can get it in before we start the vote.&lt;/p&gt;</comment>
                            <comment id="12696362" author="athusoo" created="Tue, 7 Apr 2009 03:07:11 +0000"  >&lt;p&gt;Fix that creates the temporary directory in the query scratch area.&lt;/p&gt;</comment>
                            <comment id="12696453" author="johanoskarsson" created="Tue, 7 Apr 2009 09:38:49 +0000"  >&lt;p&gt;I assume all of those xml files shouldn&apos;t be in the patch?&lt;/p&gt;</comment>
                            <comment id="12696755" author="athusoo" created="Tue, 7 Apr 2009 21:04:59 +0000"  >&lt;p&gt;Actually, they are a part of the patch. The plan files have changed as I have pushed the information of the temporary directory into the loadTableDesc. This is used in the move task. We had been hardcoding this in path to /tmp in the code previously.&lt;/p&gt;</comment>
                            <comment id="12696762" author="zshao" created="Tue, 7 Apr 2009 21:17:20 +0000"  >&lt;p&gt;QTestUtils.java: nitpick: Do you want to extract the repetitive code for loading a table and checking the results into a method?&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: Please remove: Random randGen = new Random();&lt;/p&gt;</comment>
                            <comment id="12696817" author="athusoo" created="Tue, 7 Apr 2009 23:27:10 +0000"  >&lt;p&gt;Fixed issues raised by Zheng.&lt;/p&gt;</comment>
                            <comment id="12696820" author="zshao" created="Tue, 7 Apr 2009 23:31:59 +0000"  >&lt;p&gt;+1. Will commit soon.&lt;/p&gt;</comment>
                            <comment id="12696858" author="zshao" created="Wed, 8 Apr 2009 01:26:01 +0000"  >&lt;p&gt;Thanks Ashish!&lt;/p&gt;</comment>
                            <comment id="12702597" author="prasadc" created="Fri, 24 Apr 2009 22:48:27 +0000"  >&lt;p&gt;hey.. this didn&apos;t get committed to trunk.q&lt;/p&gt;</comment>
                            <comment id="12702600" author="prasadc" created="Fri, 24 Apr 2009 22:50:01 +0000"  >&lt;p&gt;and it doesn&apos;t get patched to trunk cleanly...&lt;/p&gt;</comment>
                            <comment id="12702611" author="zshao" created="Fri, 24 Apr 2009 23:03:21 +0000"  >&lt;p&gt;My bad. Fortunately the conflicts are all in test xml results. I am merging and testing right now, and will commit it once passed.&lt;/p&gt;</comment>
                            <comment id="12702613" author="zshao" created="Fri, 24 Apr 2009 23:14:43 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401475" name="hive.patch" size="596" author="coderplay" created="Thu, 5 Mar 2009 01:17:41 +0000"/>
                            <attachment id="12404797" name="patch-324.txt" size="94339" author="athusoo" created="Tue, 7 Apr 2009 03:07:11 +0000"/>
                            <attachment id="12404901" name="patch-324_2.txt" size="98218" author="athusoo" created="Tue, 7 Apr 2009 23:27:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l96f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-324&quot; title=&quot;AccessControlException when load data into table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-324&quot;&gt;&lt;strike&gt;HIVE-324&lt;/strike&gt;&lt;/a&gt;. Fix AccessControlException when loading data. (Ashish Thusoo via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>